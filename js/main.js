var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(ac,Cb,Wc,nb){function r(Y){if(null===Y||"object"!==typeof Y)return null;Y=Oa&&Y[Oa]||Y["@@iterator"];return"function"===typeof Y?Y:null}function g(Y,Ga,Ea){this.props=Y;this.context=Ga;this.refs=lb;this.updater=Ea||Ca}function ra(){}function ib(Y,Ga,Ea){this.props=Y;this.context=Ga;this.refs=lb;this.updater=Ea||Ca}function Fb(Y,Ga,Ea){var db,ba={},na=null,p=null;if(null!=Ga)for(db in void 0!==Ga.ref&&(p=Ga.ref),void 0!==Ga.key&&(na=""+Ga.key),Ga)vb.call(Ga,db)&&!Mb.hasOwnProperty(db)&&
(ba[db]=Ga[db]);var L=arguments.length-2;if(1===L)ba.children=Ea;else if(1<L){for(var O=Array(L),f=0;f<L;f++)O[f]=arguments[f+2];ba.children=O}if(Y&&Y.defaultProps)for(db in L=Y.defaultProps,L)void 0===ba[db]&&(ba[db]=L[db]);return{$$typeof:Ya,type:Y,key:na,ref:p,props:ba,_owner:pb.current}}function Zb(Y,Ga){return{$$typeof:Ya,type:Y.type,key:Ga,ref:Y.ref,props:Y.props,_owner:Y._owner}}function oc(Y){return"object"===typeof Y&&null!==Y&&Y.$$typeof===Ya}function kc(Y){var Ga={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+Y.replace(/[=:]/g,function(Ea){return Ga[Ea]})}function Ac(Y,Ga){return"object"===typeof Y&&null!==Y&&null!=Y.key?kc(""+Y.key):Ga.toString(36)}function Ab(Y,Ga,Ea,db,ba){var na=typeof Y;if("undefined"===na||"boolean"===na)Y=null;var p=!1;if(null===Y)p=!0;else switch(na){case "string":case "number":p=!0;break;case "object":switch(Y.$$typeof){case Ya:case rb:p=!0}}if(p)return p=Y,ba=ba(p),Y=""===db?"."+Ac(p,0):db,Na(ba)?(Ea="",null!=Y&&(Ea=Y.replace(Vb,"$\x26/")+"/"),Ab(ba,Ga,Ea,"",function(f){return f})):
null!=ba&&(oc(ba)&&(ba=Zb(ba,Ea+(!ba.key||p&&p.key===ba.key?"":(""+ba.key).replace(Vb,"$\x26/")+"/")+Y)),Ga.push(ba)),1;p=0;db=""===db?".":db+":";if(Na(Y))for(var L=0;L<Y.length;L++){na=Y[L];var O=db+Ac(na,L);p+=Ab(na,Ga,Ea,O,ba)}else if(O=r(Y),"function"===typeof O)for(Y=O.call(Y),L=0;!(na=Y.next()).done;)na=na.value,O=db+Ac(na,L++),p+=Ab(na,Ga,Ea,O,ba);else if("object"===na)throw Ga=String(Y),Error("Objects are not valid as a React child (found: "+("[object Object]"===Ga?"object with keys {"+Object.keys(Y).join(", ")+
"}":Ga)+"). If you meant to render a collection of children, use an array instead.");return p}function ec(Y,Ga,Ea){if(null==Y)return Y;var db=[],ba=0;Ab(Y,db,"","",function(na){return Ga.call(Ea,na,ba++)});return db}function pc(Y){if(-1===Y._status){var Ga=Y._result;Ga=Ga();Ga.then(function(Ea){if(0===Y._status||-1===Y._status)Y._status=1,Y._result=Ea},function(Ea){if(0===Y._status||-1===Y._status)Y._status=2,Y._result=Ea});-1===Y._status&&(Y._status=0,Y._result=Ga)}if(1===Y._status)return Y._result.default;
throw Y._result;}var Ya=Symbol.for("react.element"),rb=Symbol.for("react.portal");ac=Symbol.for("react.fragment");Cb=Symbol.for("react.strict_mode");Wc=Symbol.for("react.profiler");var Ib=Symbol.for("react.provider"),Nb=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),Xa=Symbol.for("react.memo"),qb=Symbol.for("react.lazy"),Oa=Symbol.iterator,Ca={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Qa=Object.assign,lb={};g.prototype.isReactComponent={};g.prototype.setState=function(Y,Ga){if("object"!==typeof Y&&"function"!==typeof Y&&null!=Y)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Ga,"setState")};g.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};ra.prototype=g.prototype;var mb=ib.prototype=new ra;mb.constructor=ib;Qa(mb,g.prototype);
mb.isPureReactComponent=!0;var Na=Array.isArray,vb=Object.prototype.hasOwnProperty,pb={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0},Vb=/\/+/g,ob={current:null},ma={transition:null};mb={ReactCurrentDispatcher:ob,ReactCurrentBatchConfig:ma,ReactCurrentOwner:pb};nb.Children={map:ec,forEach:function(Y,Ga,Ea){ec(Y,function(){Ga.apply(this,arguments)},Ea)},count:function(Y){var Ga=0;ec(Y,function(){Ga++});return Ga},toArray:function(Y){return ec(Y,function(Ga){return Ga})||[]},only:function(Y){if(!oc(Y))throw Error("React.Children.only expected to receive a single React element child.");
return Y}};nb.Component=g;nb.Fragment=ac;nb.Profiler=Wc;nb.PureComponent=ib;nb.StrictMode=Cb;nb.Suspense=Ob;nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;nb.cloneElement=function(Y,Ga,Ea){if(null===Y||void 0===Y)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var db=Qa({},Y.props),ba=Y.key,na=Y.ref,p=Y._owner;if(null!=Ga){void 0!==Ga.ref&&(na=Ga.ref,p=pb.current);void 0!==Ga.key&&(ba=""+Ga.key);if(Y.type&&Y.type.defaultProps)var L=Y.type.defaultProps;
for(O in Ga)vb.call(Ga,O)&&!Mb.hasOwnProperty(O)&&(db[O]=void 0===Ga[O]&&void 0!==L?L[O]:Ga[O])}var O=arguments.length-2;if(1===O)db.children=Ea;else if(1<O){L=Array(O);for(var f=0;f<O;f++)L[f]=arguments[f+2];db.children=L}return{$$typeof:Ya,type:Y.type,key:ba,ref:na,props:db,_owner:p}};nb.createContext=function(Y){Y={$$typeof:Nb,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Y.Provider={$$typeof:Ib,_context:Y};return Y.Consumer=Y};
nb.createElement=Fb;nb.createFactory=function(Y){var Ga=Fb.bind(null,Y);Ga.type=Y;return Ga};nb.createRef=function(){return{current:null}};nb.forwardRef=function(Y){return{$$typeof:Bb,render:Y}};nb.isValidElement=oc;nb.lazy=function(Y){return{$$typeof:qb,_payload:{_status:-1,_result:Y},_init:pc}};nb.memo=function(Y,Ga){return{$$typeof:Xa,type:Y,compare:void 0===Ga?null:Ga}};nb.startTransition=function(Y){var Ga=ma.transition;ma.transition={};try{Y()}finally{ma.transition=Ga}};nb.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};nb.useCallback=function(Y,Ga){return ob.current.useCallback(Y,Ga)};nb.useContext=function(Y){return ob.current.useContext(Y)};nb.useDebugValue=function(){};nb.useDeferredValue=function(Y){return ob.current.useDeferredValue(Y)};nb.useEffect=function(Y,Ga){return ob.current.useEffect(Y,Ga)};nb.useId=function(){return ob.current.useId()};nb.useImperativeHandle=function(Y,Ga,Ea){return ob.current.useImperativeHandle(Y,Ga,Ea)};nb.useInsertionEffect=function(Y,Ga){return ob.current.useInsertionEffect(Y,
Ga)};nb.useLayoutEffect=function(Y,Ga){return ob.current.useLayoutEffect(Y,Ga)};nb.useMemo=function(Y,Ga){return ob.current.useMemo(Y,Ga)};nb.useReducer=function(Y,Ga,Ea){return ob.current.useReducer(Y,Ga,Ea)};nb.useRef=function(Y){return ob.current.useRef(Y)};nb.useState=function(Y){return ob.current.useState(Y)};nb.useSyncExternalStore=function(Y,Ga,Ea){return ob.current.useSyncExternalStore(Y,Ga,Ea)};nb.useTransition=function(){return ob.current.useTransition()};nb.version="18.2.0"};
shadow$provide[2]=function(ac,Cb,Wc,nb){Wc.exports=Cb(0)};
shadow$provide[3]=function(ac,Cb,Wc,nb){function r(Y,Ga){var Ea=Y.length;Y.push(Ga);a:for(;0<Ea;){var db=Ea-1>>>1,ba=Y[db];if(0<ib(ba,Ga))Y[db]=Ga,Y[Ea]=ba,Ea=db;else break a}}function g(Y){return 0===Y.length?null:Y[0]}function ra(Y){if(0===Y.length)return null;var Ga=Y[0],Ea=Y.pop();if(Ea!==Ga){Y[0]=Ea;var db=0,ba=Y.length,na=ba>>>1;a:for(;db<na;){var p=2*(db+1)-1,L=Y[p],O=p+1,f=Y[O];if(0>ib(L,Ea))O<ba&&0>ib(f,L)?(Y[db]=f,Y[O]=Ea,db=O):(Y[db]=L,Y[p]=Ea,db=p);else if(O<ba&&0>ib(f,Ea))Y[db]=f,Y[O]=
Ea,db=O;else break a}}return Ga}function ib(Y,Ga){var Ea=Y.sortIndex-Ga.sortIndex;return 0!==Ea?Ea:Y.id-Ga.id}function Fb(Y){for(var Ga=g(Nb);null!==Ga;){if(null===Ga.callback)ra(Nb);else if(Ga.startTime<=Y)ra(Nb),Ga.sortIndex=Ga.expirationTime,r(Ib,Ga);else break;Ga=g(Nb)}}function Zb(Y){Ca=!1;Fb(Y);if(!Oa)if(null!==g(Ib))Oa=!0,Ab(oc);else{var Ga=g(Nb);null!==Ga&&ec(Zb,Ga.startTime-Y)}}function oc(Y,Ga){Oa=!1;Ca&&(Ca=!1,lb(pb),pb=-1);qb=!0;var Ea=Xa;try{Fb(Ga);for(Ob=g(Ib);null!==Ob&&(!(Ob.expirationTime>
Ga)||Y&&!kc());){var db=Ob.callback;if("function"===typeof db){Ob.callback=null;Xa=Ob.priorityLevel;var ba=db(Ob.expirationTime<=Ga);Ga=nb.unstable_now();"function"===typeof ba?Ob.callback=ba:Ob===g(Ib)&&ra(Ib);Fb(Ga)}else ra(Ib);Ob=g(Ib)}if(null!==Ob)var na=!0;else{var p=g(Nb);null!==p&&ec(Zb,p.startTime-Ga);na=!1}return na}finally{Ob=null,Xa=Ea,qb=!1}}function kc(){return nb.unstable_now()-Vb<Mb?!1:!0}function Ac(){if(null!==vb){var Y=nb.unstable_now();Vb=Y;var Ga=!0;try{Ga=vb(!0,Y)}finally{Ga?
ob():(Na=!1,vb=null)}}else Na=!1}function Ab(Y){vb=Y;Na||(Na=!0,ob())}function ec(Y,Ga){pb=Qa(function(){Y(nb.unstable_now())},Ga)}if("object"===typeof performance&&"function"===typeof performance.now){var pc=performance;nb.unstable_now=function(){return pc.now()}}else{var Ya=Date,rb=Ya.now();nb.unstable_now=function(){return Ya.now()-rb}}var Ib=[],Nb=[],Bb=1,Ob=null,Xa=3,qb=!1,Oa=!1,Ca=!1,Qa="function"===typeof setTimeout?setTimeout:null,lb="function"===typeof clearTimeout?clearTimeout:null,mb="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Na=!1,vb=null,pb=-1,Mb=5,Vb=-1;if("function"===typeof mb)var ob=function(){mb(Ac)};else if("undefined"!==typeof MessageChannel){ac=new MessageChannel;var ma=ac.port2;ac.port1.onmessage=Ac;ob=function(){ma.postMessage(null)}}else ob=function(){Qa(Ac,0)};nb.unstable_IdlePriority=5;nb.unstable_ImmediatePriority=
1;nb.unstable_LowPriority=4;nb.unstable_NormalPriority=3;nb.unstable_Profiling=null;nb.unstable_UserBlockingPriority=2;nb.unstable_cancelCallback=function(Y){Y.callback=null};nb.unstable_continueExecution=function(){Oa||qb||(Oa=!0,Ab(oc))};nb.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mb=0<Y?Math.floor(1E3/Y):5};nb.unstable_getCurrentPriorityLevel=function(){return Xa};
nb.unstable_getFirstCallbackNode=function(){return g(Ib)};nb.unstable_next=function(Y){switch(Xa){case 1:case 2:case 3:var Ga=3;break;default:Ga=Xa}var Ea=Xa;Xa=Ga;try{return Y()}finally{Xa=Ea}};nb.unstable_pauseExecution=function(){};nb.unstable_requestPaint=function(){};nb.unstable_runWithPriority=function(Y,Ga){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Ea=Xa;Xa=Y;try{return Ga()}finally{Xa=Ea}};nb.unstable_scheduleCallback=function(Y,Ga,Ea){var db=nb.unstable_now();"object"===
typeof Ea&&null!==Ea?(Ea=Ea.delay,Ea="number"===typeof Ea&&0<Ea?db+Ea:db):Ea=db;switch(Y){case 1:var ba=-1;break;case 2:ba=250;break;case 5:ba=1073741823;break;case 4:ba=1E4;break;default:ba=5E3}ba=Ea+ba;Y={id:Bb++,callback:Ga,priorityLevel:Y,startTime:Ea,expirationTime:ba,sortIndex:-1};Ea>db?(Y.sortIndex=Ea,r(Nb,Y),null===g(Ib)&&Y===g(Nb)&&(Ca?(lb(pb),pb=-1):Ca=!0,ec(Zb,Ea-db))):(Y.sortIndex=ba,r(Ib,Y),Oa||qb||(Oa=!0,Ab(oc)));return Y};nb.unstable_shouldYield=kc;nb.unstable_wrapCallback=function(Y){var Ga=
Xa;return function(){var Ea=Xa;Xa=Ga;try{return Y.apply(this,arguments)}finally{Xa=Ea}}}};
shadow$provide[5]=function(ac,Cb,Wc,nb){Wc.exports=Cb(3)};
shadow$provide[6]=function(ac,Cb,Wc,nb){function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,n=1;n<arguments.length;n++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[n]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(c,d){ra(c,d);ra(c+"Capture",d)}function ra(c,d){S[c]=d;for(c=0;c<d.length;c++)w.add(d[c])}function ib(c){if(Da.call(Kb,c))return!0;
if(Da.call(wb,c))return!1;if(sb.test(c))return Kb[c]=!0;wb[c]=!0;return!1}function Fb(c,d,n,J){if(null!==n&&0===n.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(J)return!1;if(null!==n)return!n.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function Zb(c,d,n,J){if(null===d||"undefined"===typeof d||Fb(c,d,n,J))return!0;if(J)return!1;if(null!==n)switch(n.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function oc(c,d,n,J,oa,za,tb){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=J;this.attributeNamespace=oa;this.mustUseProperty=n;this.propertyName=c;this.type=d;this.sanitizeURL=za;this.removeEmptyString=tb}function kc(c){return c[1].toUpperCase()}function Ac(c,d,n,J){var oa=Lb.hasOwnProperty(d)?Lb[d]:null;if(null!==oa?0!==oa.type:J||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Zb(d,n,oa,J)&&(n=null),J||null===oa?ib(d)&&(null===n?
c.removeAttribute(d):c.setAttribute(d,""+n)):oa.mustUseProperty?c[oa.propertyName]=null===n?3===oa.type?!1:"":n:(d=oa.attributeName,J=oa.attributeNamespace,null===n?c.removeAttribute(d):(oa=oa.type,n=3===oa||4===oa&&!0===n?"":""+n,J?c.setAttributeNS(J,d,n):c.setAttribute(d,n)))}function Ab(c){if(null===c||"object"!==typeof c)return null;c=Eg&&c[Eg]||c["@@iterator"];return"function"===typeof c?c:null}function ec(c){if(void 0===Je)try{throw Error();}catch(n){var d=n.stack.trim().match(/\n( *(at )?)/);
Je=d&&d[1]||""}return"\n"+Je+c}function pc(c,d){if(!c||me)return"";me=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(zd){var J=zd}Reflect.construct(c,[],d)}else{try{d.call()}catch(zd){J=zd}c.call(d.prototype)}else{try{throw Error();}catch(zd){J=zd}c()}}catch(zd){if(zd&&J&&"string"===typeof zd.stack){for(var oa=
zd.stack.split("\n"),za=J.stack.split("\n"),tb=oa.length-1,uc=za.length-1;1<=tb&&0<=uc&&oa[tb]!==za[uc];)uc--;for(;1<=tb&&0<=uc;tb--,uc--)if(oa[tb]!==za[uc]){if(1!==tb||1!==uc){do if(tb--,uc--,0>uc||oa[tb]!==za[uc]){var Nc="\n"+oa[tb].replace(" at new "," at ");c.displayName&&Nc.includes("\x3canonymous\x3e")&&(Nc=Nc.replace("\x3canonymous\x3e",c.displayName));return Nc}while(1<=tb&&0<=uc)}break}}}finally{me=!1,Error.prepareStackTrace=n}return(c=c?c.displayName||c.name:"")?ec(c):""}function Ya(c){switch(c.tag){case 5:return ec(c.type);
case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return c=pc(c.type,!1),c;case 11:return c=pc(c.type.render,!1),c;case 1:return c=pc(c.type,!0),c;default:return""}}function rb(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case rd:return"Fragment";case nc:return"Portal";case we:return"Profiler";case xd:return"StrictMode";case Xf:return"Suspense";case jg:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case Xe:return(c.displayName||"Context")+".Consumer";case ne:return(c._context.displayName||"Context")+".Provider";case Af:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case zh:return d=c.displayName||null,null!==d?d:rb(c.type)||"Memo";case dg:d=c._payload;c=c._init;try{return rb(c(d))}catch(n){}}return null}function Ib(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rb(d);case 8:return d===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function Nb(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function Bb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function Ob(c){var d=Bb(c)?"checked":"value",n=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),J=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var oa=n.get,za=n.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return oa.call(this)},set:function(tb){J=""+tb;za.call(this,tb)}});Object.defineProperty(c,d,{enumerable:n.enumerable});return{getValue:function(){return J},setValue:function(tb){J=""+tb},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function Xa(c){c._valueTracker||(c._valueTracker=Ob(c))}function qb(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var n=d.getValue(),J="";c&&(J=Bb(c)?c.checked?"true":"false":c.value);c=J;return c!==n?(d.setValue(c),!0):!1}function Oa(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function Ca(c,d){var n=d.checked;return ng({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:c._wrapperState.initialChecked})}function Qa(c,d){var n=null==d.defaultValue?
"":d.defaultValue,J=null!=d.checked?d.checked:d.defaultChecked;n=Nb(null!=d.value?d.value:n);c._wrapperState={initialChecked:J,initialValue:n,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function lb(c,d){d=d.checked;null!=d&&Ac(c,"checked",d,!1)}function mb(c,d){lb(c,d);var n=Nb(d.value),J=d.type;if(null!=n)if("number"===J){if(0===n&&""===c.value||c.value!=n)c.value=""+n}else c.value!==""+n&&(c.value=""+n);else if("submit"===J||"reset"===J){c.removeAttribute("value");
return}d.hasOwnProperty("value")?vb(c,d.type,n):d.hasOwnProperty("defaultValue")&&vb(c,d.type,Nb(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Na(c,d,n){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var J=d.type;if(!("submit"!==J&&"reset"!==J||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;n||d===c.value||(c.value=d);c.defaultValue=d}n=c.name;""!==n&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==n&&(c.name=n)}function vb(c,d,n){if("number"!==d||Oa(c.ownerDocument)!==c)null==n?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+n&&(c.defaultValue=""+n)}function pb(c,d,n,J){c=c.options;if(d){d={};for(var oa=0;oa<n.length;oa++)d["$"+n[oa]]=!0;for(n=0;n<c.length;n++)oa=d.hasOwnProperty("$"+c[n].value),c[n].selected!==oa&&(c[n].selected=oa),oa&&J&&(c[n].defaultSelected=!0)}else{n=""+Nb(n);d=null;for(oa=0;oa<c.length;oa++){if(c[oa].value===n){c[oa].selected=!0;J&&(c[oa].defaultSelected=
!0);return}null!==d||c[oa].disabled||(d=c[oa])}null!==d&&(d.selected=!0)}}function Mb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(r(91));return ng({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Vb(c,d){var n=d.value;if(null==n){n=d.children;d=d.defaultValue;if(null!=n){if(null!=d)throw Error(r(92));if(Ke(n)){if(1<n.length)throw Error(r(93));n=n[0]}d=n}null==d&&(d="");n=d}c._wrapperState={initialValue:Nb(n)}}function ob(c,d){var n=Nb(d.value),J=Nb(d.defaultValue);
null!=n&&(n=""+n,n!==c.value&&(c.value=n),null==d.defaultValue&&c.defaultValue!==n&&(c.defaultValue=n));null!=J&&(c.defaultValue=""+J)}function ma(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function Y(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?Y(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function Ea(c,d){if(d){var n=c.firstChild;if(n&&n===c.lastChild&&3===n.nodeType){n.nodeValue=d;return}}c.textContent=d}function db(c,d,n){return null==d||"boolean"===typeof d||""===d?"":n||"number"!==typeof d||0===d||Jg.hasOwnProperty(c)&&Jg[c]?(""+d).trim():d+"px"}function ba(c,d){c=c.style;for(var n in d)if(d.hasOwnProperty(n)){var J=0===n.indexOf("--"),oa=db(n,d[n],J);"float"===n&&(n="cssFloat");J?c.setProperty(n,oa):c[n]=oa}}function na(c,
d){if(d){if(fh[c]&&(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(r(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(r(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(r(62));}}function p(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function L(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function O(c){if(c=$b(c)){if("function"!==typeof li)throw Error(r(280));var d=c.stateNode;d&&(d=xc(d),li(c.stateNode,c.type,d))}}function f(c){nj?oj?oj.push(c):oj=[c]:nj=c}function v(){if(nj){var c=nj,d=oj;oj=nj=null;O(c);if(d)for(c=0;c<d.length;c++)O(d[c])}}function m(c,d){return c(d)}function C(){}function B(c,d,n){if(Hj)return c(d,n);Hj=
!0;try{return m(c,d,n)}finally{if(Hj=!1,null!==nj||null!==oj)C(),v()}}function z(c,d){var n=c.stateNode;if(null===n)return null;var J=xc(n);if(null===J)return null;n=J[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(J=!J.disabled)||(c=c.type,J=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!J;break a;default:c=!1}if(c)return null;if(n&&"function"!==typeof n)throw Error(r(231,d,typeof n));return n}function E(c,d,n,J,oa,za,tb,uc,Nc){var zd=Array.prototype.slice.call(arguments,3);try{d.apply(n,zd)}catch(ge){this.onError(ge)}}function D(c,d,n,J,oa,za,tb,uc,Nc){Qh=!1;Ij=null;E.apply(Nl,arguments)}function V(c,d,n,J,oa,za,tb,uc,Nc){D.apply(this,arguments);if(Qh){if(Qh){var zd=Ij;Qh=!1;Ij=null}else throw Error(r(198));Jj||(Jj=!0,Xj=zd)}}function Aa(c){var d=c,n=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(n=d.return),c=d.return;while(c)}return 3===d.tag?n:null}function W(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function u(c){if(Aa(c)!==c)throw Error(r(188));}function K(c){var d=c.alternate;if(!d){d=Aa(c);if(null===d)throw Error(r(188));return d!==c?null:c}for(var n=c,J=d;;){var oa=n.return;if(null===oa)break;var za=oa.alternate;if(null===za){J=oa.return;if(null!==
J){n=J;continue}break}if(oa.child===za.child){for(za=oa.child;za;){if(za===n)return u(oa),c;if(za===J)return u(oa),d;za=za.sibling}throw Error(r(188));}if(n.return!==J.return)n=oa,J=za;else{for(var tb=!1,uc=oa.child;uc;){if(uc===n){tb=!0;n=oa;J=za;break}if(uc===J){tb=!0;J=oa;n=za;break}uc=uc.sibling}if(!tb){for(uc=za.child;uc;){if(uc===n){tb=!0;n=za;J=oa;break}if(uc===J){tb=!0;J=za;n=oa;break}uc=uc.sibling}if(!tb)throw Error(r(189));}}if(n.alternate!==J)throw Error(r(190));}if(3!==n.tag)throw Error(r(188));
return n.stateNode.current===n?c:d}function va(c){c=K(c);return null!==c?Ja(c):null}function Ja(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Ja(c);if(null!==d)return d;c=c.sibling}return null}function Za(c){if(wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(Kj,c,void 0,128===(c.current.flags&128))}catch(d){}}function Wa(c){c>>>=0;return 0===c?32:31-(il(c)/Ol|0)|0}function X(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ba(c,d){var n=c.pendingLanes;if(0===
n)return 0;var J=0,oa=c.suspendedLanes,za=c.pingedLanes,tb=n&268435455;if(0!==tb){var uc=tb&~oa;0!==uc?J=X(uc):(za&=tb,0!==za&&(J=X(za)))}else tb=n&~oa,0!==tb?J=X(tb):0!==za&&(J=X(za));if(0===J)return 0;if(0!==d&&d!==J&&0===(d&oa)&&(oa=J&-J,za=d&-d,oa>=za||16===oa&&0!==(za&4194240)))return d;0!==(J&4)&&(J|=n&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=J;0<d;)n=31-mi(d),oa=1<<n,J|=c[n],d&=~oa;return J}function ab(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(c,d){for(var n=c.suspendedLanes,J=c.pingedLanes,oa=c.expirationTimes,za=c.pendingLanes;0<za;){var tb=31-mi(za),uc=1<<tb,Nc=oa[tb];if(-1===Nc){if(0===(uc&n)||0!==(uc&J))oa[tb]=ab(uc,d)}else Nc<=d&&(c.expiredLanes|=uc);za&=~uc}}function tc(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function wc(){var c=
Lj;Lj<<=1;0===(Lj&4194240)&&(Lj=64);return c}function vc(c){for(var d=[],n=0;31>n;n++)d.push(c);return d}function Ec(c,d,n){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-mi(d);c[d]=n}function zc(c,d){var n=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var J=c.eventTimes;for(c=c.expirationTimes;0<n;){var oa=31-mi(n),za=1<<oa;d[oa]=0;J[oa]=-1;c[oa]=-1;n&=
~za}}function Rc(c,d){var n=c.entangledLanes|=d;for(c=c.entanglements;n;){var J=31-mi(n),oa=1<<J;oa&d|c[J]&d&&(c[J]|=d);n&=~oa}}function Sd(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function Ia(c,d){switch(c){case "focusin":case "focusout":Si=null;break;case "dragenter":case "dragleave":Fi=null;break;case "mouseover":case "mouseout":Ti=null;break;case "pointerover":case "pointerout":pj.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":qj.delete(d.pointerId)}}
function Wb(c,d,n,J,oa,za){if(null===c||c.nativeEvent!==za)return c={blockedOn:d,domEventName:n,eventSystemFlags:J,nativeEvent:za,targetContainers:[oa]},null!==d&&(d=$b(d),null!==d&&jl(d)),c;c.eventSystemFlags|=J;d=c.targetContainers;null!==oa&&-1===d.indexOf(oa)&&d.push(oa);return c}function kb(c,d,n,J,oa){switch(d){case "focusin":return Si=Wb(Si,c,d,n,J,oa),!0;case "dragenter":return Fi=Wb(Fi,c,d,n,J,oa),!0;case "mouseover":return Ti=Wb(Ti,c,d,n,J,oa),!0;case "pointerover":var za=oa.pointerId;pj.set(za,
Wb(pj.get(za)||null,c,d,n,J,oa));return!0;case "gotpointercapture":return za=oa.pointerId,qj.set(za,Wb(qj.get(za)||null,c,d,n,J,oa)),!0}return!1}function bc(c){var d=Ta(c.target);if(null!==d){var n=Aa(d);if(null!==n)if(d=n.tag,13===d){if(d=W(n),null!==d){c.blockedOn=d;Pl(c.priority,function(){kl(n)});return}}else if(3===d&&n.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}c.blockedOn=null}function Yb(c){if(null!==c.blockedOn)return!1;for(var d=
c.targetContainers;0<d.length;){var n=hb(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===n){n=c.nativeEvent;var J=new n.constructor(n.type,n);Lh=J;n.target.dispatchEvent(J);Lh=null}else return d=$b(n),null!==d&&jl(d),c.blockedOn=n,!1;d.shift()}return!0}function hc(c,d,n){Yb(c)&&n.delete(d)}function yc(){Yj=!1;null!==Si&&Yb(Si)&&(Si=null);null!==Fi&&Yb(Fi)&&(Fi=null);null!==Ti&&Yb(Ti)&&(Ti=null);pj.forEach(hc);qj.forEach(hc)}function Gc(c,d){c.blockedOn===d&&(c.blockedOn=null,Yj||(Yj=
!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,yc)))}function ad(c){function d(oa){return Gc(oa,c)}if(0<Zj.length){Gc(Zj[0],c);for(var n=1;n<Zj.length;n++){var J=Zj[n];J.blockedOn===c&&(J.blockedOn=null)}}null!==Si&&Gc(Si,c);null!==Fi&&Gc(Fi,c);null!==Ti&&Gc(Ti,c);pj.forEach(d);qj.forEach(d);for(n=0;n<Gi.length;n++)J=Gi[n],J.blockedOn===c&&(J.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],null===n.blockedOn);)bc(n),null===n.blockedOn&&Gi.shift()}function Nd(c,d,n,J){var oa=og,za=rj.transition;
rj.transition=null;try{og=1,Fa(c,d,n,J)}finally{og=oa,rj.transition=za}}function ud(c,d,n,J){var oa=og,za=rj.transition;rj.transition=null;try{og=4,Fa(c,d,n,J)}finally{og=oa,rj.transition=za}}function Fa(c,d,n,J){if(ak){var oa=hb(c,d,n,J);if(null===oa)cf(c,d,J,bk,n),Ia(c,J);else if(kb(oa,c,d,n,J))J.stopPropagation();else if(Ia(c,J),d&4&&-1<ll.indexOf(c)){for(;null!==oa;){var za=$b(oa);null!==za&&ml(za);za=hb(c,d,n,J);null===za&&cf(c,d,J,bk,n);if(za===oa)break;oa=za}null!==oa&&J.stopPropagation()}else cf(c,
d,J,null,n)}}function hb(c,d,n,J){bk=null;c=L(J);c=Ta(c);if(null!==c)if(d=Aa(c),null===d)c=null;else if(n=d.tag,13===n){c=W(d);if(null!==c)return c;c=null}else if(3===n){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);bk=c;return null}function ub(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Ck()){case Dk:return 1;case ck:return 4;case dj:case nl:return 16;case Ek:return 536870912;default:return 16}default:return 16}}function la(){if(dk)return dk;
var c,d=Fk,n=d.length,J,oa="value"in Ui?Ui.value:Ui.textContent,za=oa.length;for(c=0;c<n&&d[c]===oa[c];c++);var tb=n-c;for(J=1;J<=tb&&d[n-J]===oa[za-J];J++);return dk=oa.slice(c,1<J?1-J:void 0)}function H(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function ya(){return!0}function Ka(){return!1}function bb(c){function d(n,J,oa,za,tb){this._reactName=n;this._targetInst=oa;this.type=J;this.nativeEvent=za;this.target=tb;this.currentTarget=
null;for(var uc in c)c.hasOwnProperty(uc)&&(n=c[uc],this[uc]=n?n(za):za[uc]);this.isDefaultPrevented=(null!=za.defaultPrevented?za.defaultPrevented:!1===za.returnValue)?ya:Ka;this.isPropagationStopped=Ka;return this}ng(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():
"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya});return d}function jb(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ql[c])?!!d[c]:!1}function Eb(){return jb}function mc(c,d){switch(c){case "keyup":return-1!==sf.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function cc(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function gc(c,d){switch(c){case "compositionend":return cc(d);case "keypress":if(32!==d.which)return null;ek=!0;return Gk;case "textInput":return c=d.data,c===Gk&&ek?null:c;default:return null}}function Sc(c,d){if(Hi)return"compositionend"===c||!ee&&mc(c,d)?(c=la(),dk=Fk=Ui=null,Hi=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Hk&&"ko"!==d.locale?null:d.data;default:return null}}function ed(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!Rl[c.type]:"textarea"===d?!0:!1}function fd(c,d,n,J){f(J);d=re(d,"onChange");0<d.length&&(n=new Fg("onChange","change",null,n,J),c.push({event:n,listeners:d}))}function Rd(c){Zd(c,0)}function Td(c){var d=Pc(c);if(qb(d))return c}function Cd(c,d){if("change"===c)return d}function be(){ej&&(ej.detachEvent("onpropertychange",ce),sj=ej=null)}
function ce(c){if("value"===c.propertyName&&Td(sj)){var d=[];fd(d,sj,c,L(c));B(Rd,d)}}function Vd(c,d,n){"focusin"===c?(be(),ej=d,sj=n,ej.attachEvent("onpropertychange",ce)):"focusout"===c&&be()}function Te(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return Td(sj)}function $d(c,d){if("click"===c)return Td(d)}function M(c,d){if("input"===c||"change"===c)return Td(d)}function Z(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function La(c,d){if(ni(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var n=Object.keys(c),J=Object.keys(d);if(n.length!==J.length)return!1;for(J=0;J<n.length;J++){var oa=n[J];if(!Da.call(d,oa)||!ni(c[oa],d[oa]))return!1}return!0}function gb(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Jb(c,d){var n=gb(c);c=0;for(var J;n;){if(3===n.nodeType){J=c+n.textContent.length;if(c<=d&&J>=d)return{node:n,offset:d-c};c=J}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=gb(n)}}function Tb(c,
d){return c&&d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?Tb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Bc(){for(var c=window,d=Oa();d instanceof c.HTMLIFrameElement;){try{var n="string"===typeof d.contentWindow.location.href}catch(J){n=!1}if(n)c=d.contentWindow;else break;d=Oa(c.document)}return d}function ic(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||
"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function Jc(c){var d=Bc(),n=c.focusedElem,J=c.selectionRange;if(d!==n&&n&&n.ownerDocument&&Tb(n.ownerDocument.documentElement,n)){if(null!==J&&ic(n))if(d=J.start,c=J.end,void 0===c&&(c=d),"selectionStart"in n)n.selectionStart=d,n.selectionEnd=Math.min(c,n.value.length);else if(c=(d=n.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var oa=n.textContent.length,za=Math.min(J.start,
oa);J=void 0===J.end?za:Math.min(J.end,oa);!c.extend&&za>J&&(oa=J,J=za,za=oa);oa=Jb(n,za);var tb=Jb(n,J);oa&&tb&&(1!==c.rangeCount||c.anchorNode!==oa.node||c.anchorOffset!==oa.offset||c.focusNode!==tb.node||c.focusOffset!==tb.offset)&&(d=d.createRange(),d.setStart(oa.node,oa.offset),c.removeAllRanges(),za>J?(c.addRange(d),c.extend(tb.node,tb.offset)):(d.setEnd(tb.node,tb.offset),c.addRange(d)))}d=[];for(c=n;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===
typeof n.focus&&n.focus();for(n=0;n<d.length;n++)c=d[n],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function dd(c,d,n){var J=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ah||null==tj||tj!==Oa(J)||(J=tj,"selectionStart"in J&&ic(J)?J={start:J.selectionStart,end:J.selectionEnd}:(J=(J.ownerDocument&&J.ownerDocument.defaultView||window).getSelection(),J={anchorNode:J.anchorNode,anchorOffset:J.anchorOffset,focusNode:J.focusNode,focusOffset:J.focusOffset}),Mj&&La(Mj,J)||(Mj=J,J=re(Ik,
"onSelect"),0<J.length&&(d=new Fg("onSelect","select",null,d,n),c.push({event:d,listeners:J}),d.target=tj)))}function Oc(c,d){var n={};n[c.toLowerCase()]=d.toLowerCase();n["Webkit"+c]="webkit"+d;n["Moz"+c]="moz"+d;return n}function vd(c){if(Jk[c])return Jk[c];if(!Vi[c])return c;var d=Vi[c],n;for(n in d)if(d.hasOwnProperty(n)&&n in fk)return Jk[c]=d[n];return c}function Jd(c,d){xi.set(c,d);g(d,[c])}function Fd(c,d,n){var J=c.type||"unknown-event";c.currentTarget=n;V(J,d,void 0,c);c.currentTarget=null}
function Zd(c,d){d=0!==(d&4);for(var n=0;n<c.length;n++){var J=c[n],oa=J.event;J=J.listeners;a:{var za=void 0;if(d)for(var tb=J.length-1;0<=tb;tb--){var uc=J[tb],Nc=uc.instance,zd=uc.currentTarget;uc=uc.listener;if(Nc!==za&&oa.isPropagationStopped())break a;Fd(oa,uc,zd);za=Nc}else for(tb=0;tb<J.length;tb++){uc=J[tb];Nc=uc.instance;zd=uc.currentTarget;uc=uc.listener;if(Nc!==za&&oa.isPropagationStopped())break a;Fd(oa,uc,zd);za=Nc}}}if(Jj)throw c=Xj,Jj=!1,Xj=null,c;}function Md(c,d){var n=d[Kk];void 0===
n&&(n=d[Kk]=new Set);var J=c+"__bubble";n.has(J)||(hf(d,c,2,!1),n.add(J))}function se(c,d,n){var J=0;d&&(J|=4);hf(n,c,J,d)}function Ae(c){if(!c[gk]){c[gk]=!0;w.forEach(function(n){"selectionchange"!==n&&(Sl.has(n)||se(n,!1,c),se(n,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[gk]||(d[gk]=!0,se("selectionchange",!1,d))}}function hf(c,d,n,J){switch(ub(d)){case 1:var oa=Nd;break;case 4:oa=ud;break;default:oa=Fa}n=oa.bind(null,d,n,c);oa=void 0;!hk||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==
d||(oa=!0);J?void 0!==oa?c.addEventListener(d,n,{capture:!0,passive:oa}):c.addEventListener(d,n,!0):void 0!==oa?c.addEventListener(d,n,{passive:oa}):c.addEventListener(d,n,!1)}function cf(c,d,n,J,oa){var za=J;if(0===(d&1)&&0===(d&2)&&null!==J)a:for(;;){if(null===J)return;var tb=J.tag;if(3===tb||4===tb){var uc=J.stateNode.containerInfo;if(uc===oa||8===uc.nodeType&&uc.parentNode===oa)break;if(4===tb)for(tb=J.return;null!==tb;){var Nc=tb.tag;if(3===Nc||4===Nc)if(Nc=tb.stateNode.containerInfo,Nc===oa||
8===Nc.nodeType&&Nc.parentNode===oa)return;tb=tb.return}for(;null!==uc;){tb=Ta(uc);if(null===tb)return;Nc=tb.tag;if(5===Nc||6===Nc){J=za=tb;continue a}uc=uc.parentNode}}J=J.return}B(function(){var zd=za,ge=L(n),je=[];a:{var fe=xi.get(c);if(void 0!==fe){var Fe=Fg,Ue=c;switch(c){case "keypress":if(0===H(n))break a;case "keydown":case "keyup":Fe=Tl;break;case "focusin":Ue="focus";Fe=Lk;break;case "focusout":Ue="blur";Fe=Lk;break;case "beforeblur":case "afterblur":Fe=Lk;break;case "click":if(2===n.button)break a;
case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Fe=Mk;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Fe=Nk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Fe=Ul;break;case oi:case ik:case ol:Fe=pl;break;case fj:Fe=Ok;break;case "scroll":Fe=Pk;break;case "wheel":Fe=Vl;break;case "copy":case "cut":case "paste":Fe=
jk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Fe=ql}var Ye=0!==(d&4),Tg=!Ye&&"scroll"===c,kd=Ye?null!==fe?fe+"Capture":null:fe;Ye=[];for(var Yc=zd,wd;null!==Yc;){wd=Yc;var ke=wd.stateNode;5===wd.tag&&null!==ke&&(wd=ke,null!==kd&&(ke=z(Yc,kd),null!=ke&&Ye.push(df(Yc,ke,wd))));if(Tg)break;Yc=Yc.return}0<Ye.length&&(fe=new Fe(fe,Ue,null,n,ge),je.push({event:fe,listeners:Ye}))}}if(0===
(d&7)){fe="mouseover"===c||"pointerover"===c;Fe="mouseout"===c||"pointerout"===c;if(!fe||n===Lh||!(Ue=n.relatedTarget||n.fromElement)||!Ta(Ue)&&!Ue[yi])if(Fe||fe){fe=ge.window===ge?ge:(fe=ge.ownerDocument)?fe.defaultView||fe.parentWindow:window;if(Fe){if(Ue=n.relatedTarget||n.toElement,Fe=zd,Ue=Ue?Ta(Ue):null,null!==Ue&&(Tg=Aa(Ue),Ue!==Tg||5!==Ue.tag&&6!==Ue.tag))Ue=null}else Fe=null,Ue=zd;if(Fe!==Ue){Ye=Mk;ke="onMouseLeave";kd="onMouseEnter";Yc="mouse";if("pointerout"===c||"pointerover"===c)Ye=ql,
ke="onPointerLeave",kd="onPointerEnter",Yc="pointer";Tg=null==Fe?fe:Pc(Fe);wd=null==Ue?fe:Pc(Ue);fe=new Ye(ke,Yc+"leave",Fe,n,ge);fe.target=Tg;fe.relatedTarget=wd;ke=null;Ta(ge)===zd&&(Ye=new Ye(kd,Yc+"enter",Ue,n,ge),Ye.target=wd,Ye.relatedTarget=Tg,ke=Ye);Tg=ke;if(Fe&&Ue)b:{Ye=Fe;kd=Ue;Yc=0;for(wd=Ye;wd;wd=nf(wd))Yc++;wd=0;for(ke=kd;ke;ke=nf(ke))wd++;for(;0<Yc-wd;)Ye=nf(Ye),Yc--;for(;0<wd-Yc;)kd=nf(kd),wd--;for(;Yc--;){if(Ye===kd||null!==kd&&Ye===kd.alternate)break b;Ye=nf(Ye);kd=nf(kd)}Ye=null}else Ye=
null;null!==Fe&&T(je,fe,Fe,Ye,!1);null!==Ue&&null!==Tg&&T(je,Tg,Ue,Ye,!0)}}fe=zd?Pc(zd):window;Fe=fe.nodeName&&fe.nodeName.toLowerCase();if("select"===Fe||"input"===Fe&&"file"===fe.type)var Ne=Cd;else if(ed(fe))if(Yh)Ne=M;else{Ne=Te;var ef=Vd}else(Fe=fe.nodeName)&&"input"===Fe.toLowerCase()&&("checkbox"===fe.type||"radio"===fe.type)&&(Ne=$d);Ne&&(Ne=Ne(c,zd))?fd(je,Ne,n,ge):(ef&&ef(c,fe,zd),"focusout"===c&&(ef=fe._wrapperState)&&ef.controlled&&"number"===fe.type&&vb(fe,"number",fe.value));ef=zd?Pc(zd):
window;switch(c){case "focusin":if(ed(ef)||"true"===ef.contentEditable)tj=ef,Ik=zd,Mj=null;break;case "focusout":Mj=Ik=tj=null;break;case "mousedown":Ah=!0;break;case "contextmenu":case "mouseup":case "dragend":Ah=!1;dd(je,n,ge);break;case "selectionchange":if(kk)break;case "keydown":case "keyup":dd(je,n,ge)}var Le;if(ee)a:{switch(c){case "compositionstart":var qf="onCompositionStart";break a;case "compositionend":qf="onCompositionEnd";break a;case "compositionupdate":qf="onCompositionUpdate";break a}qf=
void 0}else Hi?mc(c,n)&&(qf="onCompositionEnd"):"keydown"===c&&229===n.keyCode&&(qf="onCompositionStart");qf&&(Hk&&"ko"!==n.locale&&(Hi||"onCompositionStart"!==qf?"onCompositionEnd"===qf&&Hi&&(Le=la()):(Ui=ge,Fk="value"in Ui?Ui.value:Ui.textContent,Hi=!0)),ef=re(zd,qf),0<ef.length&&(qf=new rl(qf,c,null,n,ge),je.push({event:qf,listeners:ef}),Le?qf.data=Le:(Le=cc(n),null!==Le&&(qf.data=Le))));if(Le=Wi?gc(c,n):Sc(c,n))zd=re(zd,"onBeforeInput"),0<zd.length&&(ge=new rl("onBeforeInput","beforeinput",null,
n,ge),je.push({event:ge,listeners:zd}),ge.data=Le)}Zd(je,d)})}function df(c,d,n){return{instance:c,listener:d,currentTarget:n}}function re(c,d){for(var n=d+"Capture",J=[];null!==c;){var oa=c,za=oa.stateNode;5===oa.tag&&null!==za&&(oa=za,za=z(c,n),null!=za&&J.unshift(df(c,za,oa)),za=z(c,d),null!=za&&J.push(df(c,za,oa)));c=c.return}return J}function nf(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function T(c,d,n,J,oa){for(var za=d._reactName,tb=[];null!==n&&n!==J;){var uc=
n,Nc=uc.alternate,zd=uc.stateNode;if(null!==Nc&&Nc===J)break;5===uc.tag&&null!==zd&&(uc=zd,oa?(Nc=z(n,za),null!=Nc&&tb.unshift(df(n,Nc,uc))):oa||(Nc=z(n,za),null!=Nc&&tb.push(df(n,Nc,uc))));n=n.return}0!==tb.length&&c.push({event:d,listeners:tb})}function ta(c){return("string"===typeof c?c:""+c).replace(Wl,"\n").replace(Xl,"")}function eb(c,d,n){d=ta(d);if(ta(c)!==d&&n)throw Error(r(425));}function zb(){}function Xb(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===
typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function Cc(c){setTimeout(function(){throw c;})}function Ub(c,d){var n=d,J=0;do{var oa=n.nextSibling;c.removeChild(n);if(oa&&8===oa.nodeType)if(n=oa.data,"/$"===n){if(0===J){c.removeChild(oa);ad(d);return}J--}else"$"!==n&&"$?"!==n&&"$!"!==n||J++;n=oa}while(n);ad(d)}function I(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;
if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function ea(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var n=c.data;if("$"===n||"$!"===n||"$?"===n){if(0===d)return c;d--}else"/$"===n&&d++}c=c.previousSibling}return null}function Ta(c){var d=c[pi];if(d)return d;for(var n=c.parentNode;n;){if(d=n[yi]||n[pi]){n=d.alternate;if(null!==d.child||null!==n&&null!==n.child)for(c=ea(c);null!==c;){if(n=c[pi])return n;c=ea(c)}return d}c=n;n=c.parentNode}return null}function $b(c){c=
c[pi]||c[yi];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Pc(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(r(33));}function xc(c){return c[Nj]||null}function Tc(c){return{current:c}}function md(c){0>uj||(c.current=Qk[uj],Qk[uj]=null,uj--)}function de(c,d){uj++;Qk[uj]=c.current;c.current=d}function Sa(c,d){var n=c.type.contextTypes;if(!n)return $g;var J=c.stateNode;if(J&&J.__reactInternalMemoizedUnmaskedChildContext===d)return J.__reactInternalMemoizedMaskedChildContext;
var oa={},za;for(za in n)oa[za]=d[za];J&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=oa);return oa}function fb(c){c=c.childContextTypes;return null!==c&&void 0!==c}function qc(){md(Rh);md(qh)}function pd(c,d,n){if(qh.current!==$g)throw Error(r(168));de(qh,d);de(Rh,n)}function Kc(c,d,n){var J=c.stateNode;d=d.childContextTypes;if("function"!==typeof J.getChildContext)return n;J=J.getChildContext();for(var oa in J)if(!(oa in d))throw Error(r(108,
Ib(c)||"Unknown",oa));return ng({},n,J)}function Xc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||$g;Ii=qh.current;de(qh,c);de(Rh,Rh.current);return!0}function Qc(c,d,n){var J=c.stateNode;if(!J)throw Error(r(169));n?(c=Kc(c,d,Ii),J.__reactInternalMemoizedMergedChildContext=c,md(Rh),md(qh),de(qh,c)):md(Rh);de(Rh,n)}function qd(c){null===gh?gh=[c]:gh.push(c)}function jd(c){zi=!0;qd(c)}function Qd(){if(!Rk&&null!==gh){Rk=!0;var c=0,d=og;try{var n=gh;for(og=1;c<n.length;c++){var J=
n[c];do J=J(!0);while(null!==J)}gh=null;zi=!1}catch(oa){throw null!==gh&&(gh=gh.slice(c+1)),lk(Dk,Qd),oa;}finally{og=d,Rk=!1}}return null}function Ad(c,d){vj[gi++]=mk;vj[gi++]=nk;nk=c;mk=d}function Xd(c,d,n){zg[Zh++]=hi;zg[Zh++]=Ji;zg[Zh++]=Ai;Ai=c;var J=hi;c=Ji;var oa=32-mi(J)-1;J&=~(1<<oa);n+=1;var za=32-mi(d)+oa;if(30<za){var tb=oa-oa%5;za=(J&(1<<tb)-1).toString(32);J>>=tb;oa-=tb;hi=1<<32-mi(d)+oa|n<<oa|J;Ji=za+c}else hi=1<<za|n<<oa|J,Ji=c}function ye(c){null!==c.return&&(Ad(c,1),Xd(c,1,0))}function Oe(c){for(;c===
nk;)nk=vj[--gi],vj[gi]=null,mk=vj[--gi],vj[gi]=null;for(;c===Ai;)Ai=zg[--Zh],zg[Zh]=null,Ji=zg[--Zh],zg[Zh]=null,hi=zg[--Zh],zg[Zh]=null}function Ge(c,d){var n=kg(5,null,null,0);n.elementType="DELETED";n.stateNode=d;n.return=c;d=c.deletions;null===d?(c.deletions=[n],c.flags|=16):d.push(n)}function tf(c,d){switch(c.tag){case 5:var n=c.type;d=1!==d.nodeType||n.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Mh=c,Nh=I(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||
3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Mh=c,Nh=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(n=null!==Ai?{id:hi,overflow:Ji}:null,c.memoizedState={dehydrated:d,treeContext:n,retryLane:1073741824},n=kg(18,null,null,0),n.stateNode=d,n.return=c,c.child=n,Mh=c,Nh=null,!0):!1;default:return!1}}function ld(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Fc(c){if(Kg){var d=Nh;if(d){var n=d;if(!tf(c,d)){if(ld(c))throw Error(r(418));d=I(n.nextSibling);var J=Mh;d&&tf(c,d)?Ge(J,n):
(c.flags=c.flags&-4097|2,Kg=!1,Mh=c)}}else{if(ld(c))throw Error(r(418));c.flags=c.flags&-4097|2;Kg=!1;Mh=c}}}function id(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&13!==c.tag;)c=c.return;Mh=c}function Dc(c){if(c!==Mh)return!1;if(!Kg)return id(c),Kg=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!Xb(c.type,c.memoizedProps));if(d&&(d=Nh)){if(ld(c))throw Gd(),Error(r(418));for(;d;)Ge(c,d),d=I(d.nextSibling)}id(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:
null;if(!c)throw Error(r(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var n=c.data;if("/$"===n){if(0===d){Nh=I(c.nextSibling);break a}d--}else"$"!==n&&"$!"!==n&&"$?"!==n||d++}c=c.nextSibling}Nh=null}}else Nh=Mh?I(c.stateNode.nextSibling):null;return!0}function Gd(){for(var c=Nh;c;)c=I(c.nextSibling)}function ae(){Nh=Mh=null;Kg=!1}function Yd(c){null===Th?Th=[c]:Th.push(c)}function le(c,d){if(c&&c.defaultProps){d=ng({},d);c=c.defaultProps;for(var n in c)void 0===d[n]&&(d[n]=c[n])}return d}
function N(c){var d=wj.current;md(wj);c._currentValue=d}function da(c,d,n){for(;null!==c;){var J=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==J&&(J.childLanes|=d)):null!==J&&(J.childLanes&d)!==d&&(J.childLanes|=d);if(c===n)break;c=c.return}}function G(c,d){xj=c;gj=Bi=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(Uh=!0),c.firstContext=null)}function ka(c){var d=c._currentValue;if(gj!==c)if(c={context:c,memoizedValue:d,next:null},null===Bi){if(null===xj)throw Error(r(308));
Bi=c;xj.dependencies={lanes:0,firstContext:c}}else Bi=Bi.next=c;return d}function sa(c){null===Xi?Xi=[c]:Xi.push(c)}function Ha(c,d,n,J){var oa=d.interleaved;null===oa?(n.next=n,sa(d)):(n.next=oa.next,oa.next=n);d.interleaved=n;return Pa(c,J)}function Pa(c,d){c.lanes|=d;var n=c.alternate;null!==n&&(n.lanes|=d);n=c;for(c=c.return;null!==c;)c.childLanes|=d,n=c.alternate,null!==n&&(n.childLanes|=d),n=c,c=c.return;return 3===n.tag?n.stateNode:null}function dc(c){c.updateQueue={baseState:c.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lc(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function rc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function sc(c,d,n){var J=c.updateQueue;if(null===J)return null;J=J.shared;if(0!==(Vf&2)){var oa=J.pending;null===oa?d.next=
d:(d.next=oa.next,oa.next=d);J.pending=d;return Pa(c,n)}oa=J.interleaved;null===oa?(d.next=d,sa(J)):(d.next=oa.next,oa.next=d);J.interleaved=d;return Pa(c,n)}function Ic(c,d,n){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(n&4194240))){var J=d.lanes;J&=c.pendingLanes;n|=J;d.lanes=n;Rc(c,n)}}function $c(c,d){var n=c.updateQueue,J=c.alternate;if(null!==J&&(J=J.updateQueue,n===J)){var oa=null,za=null;n=n.firstBaseUpdate;if(null!==n){do{var tb={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,
callback:n.callback,next:null};null===za?oa=za=tb:za=za.next=tb;n=n.next}while(null!==n);null===za?oa=za=d:za=za.next=d}else oa=za=d;n={baseState:J.baseState,firstBaseUpdate:oa,lastBaseUpdate:za,shared:J.shared,effects:J.effects};c.updateQueue=n}else c=n.lastBaseUpdate,null===c?n.firstBaseUpdate=d:c.next=d,n.lastBaseUpdate=d}function Uc(c,d,n,J){var oa=c.updateQueue;Yi=!1;var za=oa.firstBaseUpdate,tb=oa.lastBaseUpdate,uc=oa.shared.pending;if(null!==uc){oa.shared.pending=null;var Nc=uc,zd=Nc.next;
Nc.next=null;null===tb?za=zd:tb.next=zd;var ge=c.alternate;null!==ge&&(ge=ge.updateQueue,uc=ge.lastBaseUpdate,uc!==Nc&&(null===uc?ge.firstBaseUpdate=zd:uc.next=zd,ge.lastBaseUpdate=Nc))}if(null!==za){var je=oa.baseState;tb=0;ge=zd=Nc=null;uc=za;do{var fe=uc.lane,Fe=uc.eventTime;if((J&fe)===fe){null!==ge&&(ge=ge.next={eventTime:Fe,lane:0,tag:uc.tag,payload:uc.payload,callback:uc.callback,next:null});a:{var Ue=c,Ye=uc;fe=d;Fe=n;switch(Ye.tag){case 1:Ue=Ye.payload;if("function"===typeof Ue){je=Ue.call(Fe,
je,fe);break a}je=Ue;break a;case 3:Ue.flags=Ue.flags&-65537|128;case 0:Ue=Ye.payload;fe="function"===typeof Ue?Ue.call(Fe,je,fe):Ue;if(null===fe||void 0===fe)break a;je=ng({},je,fe);break a;case 2:Yi=!0}}null!==uc.callback&&0!==uc.lane&&(c.flags|=64,fe=oa.effects,null===fe?oa.effects=[uc]:fe.push(uc))}else Fe={eventTime:Fe,lane:fe,tag:uc.tag,payload:uc.payload,callback:uc.callback,next:null},null===ge?(zd=ge=Fe,Nc=je):ge=ge.next=Fe,tb|=fe;uc=uc.next;if(null===uc)if(uc=oa.shared.pending,null===uc)break;
else fe=uc,uc=fe.next,fe.next=null,oa.lastBaseUpdate=fe,oa.shared.pending=null}while(1);null===ge&&(Nc=je);oa.baseState=Nc;oa.firstBaseUpdate=zd;oa.lastBaseUpdate=ge;d=oa.shared.interleaved;if(null!==d){oa=d;do tb|=oa.lane,oa=oa.next;while(oa!==d)}else null===za&&(oa.shared.lanes=0);Wf|=tb;c.lanes=tb;c.memoizedState=je}}function bd(c,d,n){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var J=c[d],oa=J.callback;if(null!==oa){J.callback=null;J=n;if("function"!==typeof oa)throw Error(r(191,
oa));oa.call(J)}}}function yd(c,d,n,J){d=c.memoizedState;n=n(J,d);n=null===n||void 0===n?d:ng({},d,n);c.memoizedState=n;0===c.lanes&&(c.updateQueue.baseState=n)}function Dd(c,d,n,J,oa,za,tb){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(J,za,tb):d.prototype&&d.prototype.isPureReactComponent?!La(n,J)||!La(oa,za):!0}function Od(c,d,n){var J=!1,oa=$g,za=d.contextType;"object"===typeof za&&null!==za?za=ka(za):(oa=fb(d)?Ii:qh.current,J=d.contextTypes,za=(J=null!==
J&&void 0!==J)?Sa(c,oa):$g);d=new d(n,za);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=Oj;c.stateNode=d;d._reactInternals=c;J&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=oa,c.__reactInternalMemoizedMaskedChildContext=za);return d}function He(c,d,n,J){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(n,J);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(n,J);d.state!==c&&Oj.enqueueReplaceState(d,
d.state,null)}function td(c,d,n,J){var oa=c.stateNode;oa.props=n;oa.state=c.memoizedState;oa.refs=sl;dc(c);var za=d.contextType;"object"===typeof za&&null!==za?oa.context=ka(za):(za=fb(d)?Ii:qh.current,oa.context=Sa(c,za));oa.state=c.memoizedState;za=d.getDerivedStateFromProps;"function"===typeof za&&(yd(c,d,za,n),oa.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof oa.getSnapshotBeforeUpdate||"function"!==typeof oa.UNSAFE_componentWillMount&&"function"!==
typeof oa.componentWillMount||(d=oa.state,"function"===typeof oa.componentWillMount&&oa.componentWillMount(),"function"===typeof oa.UNSAFE_componentWillMount&&oa.UNSAFE_componentWillMount(),d!==oa.state&&Oj.enqueueReplaceState(oa,oa.state,null),Uc(c,n,oa,J),oa.state=c.memoizedState);"function"===typeof oa.componentDidMount&&(c.flags|=4194308)}function ze(c,d,n){c=n.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var J=n.stateNode}if(!J)throw Error(r(147,
c));var oa=J,za=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===za)return d.ref;d=function(tb){var uc=oa.refs;uc===sl&&(uc=oa.refs={});null===tb?delete uc[za]:uc[za]=tb};d._stringRef=za;return d}if("string"!==typeof c)throw Error(r(284));if(!n._owner)throw Error(r(290,c));}return c}function Ce(c,d){c=Object.prototype.toString.call(d);throw Error(r(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function Hd(c){var d=c._init;return d(c._payload)}
function he(c){function d(kd,Yc){if(c){var wd=kd.deletions;null===wd?(kd.deletions=[Yc],kd.flags|=16):wd.push(Yc)}}function n(kd,Yc){if(!c)return null;for(;null!==Yc;)d(kd,Yc),Yc=Yc.sibling;return null}function J(kd,Yc){for(kd=new Map;null!==Yc;)null!==Yc.key?kd.set(Yc.key,Yc):kd.set(Yc.index,Yc),Yc=Yc.sibling;return kd}function oa(kd,Yc){kd=rh(kd,Yc);kd.index=0;kd.sibling=null;return kd}function za(kd,Yc,wd){kd.index=wd;if(!c)return kd.flags|=1048576,Yc;wd=kd.alternate;if(null!==wd)return wd=wd.index,
wd<Yc?(kd.flags|=2,Yc):wd;kd.flags|=2;return Yc}function tb(kd){c&&null===kd.alternate&&(kd.flags|=2);return kd}function uc(kd,Yc,wd,ke){if(null===Yc||6!==Yc.tag)return Yc=Ki(wd,kd.mode,ke),Yc.return=kd,Yc;Yc=oa(Yc,wd);Yc.return=kd;return Yc}function Nc(kd,Yc,wd,ke){var Ne=wd.type;if(Ne===rd)return ge(kd,Yc,wd.props.children,ke,wd.key);if(null!==Yc&&(Yc.elementType===Ne||"object"===typeof Ne&&null!==Ne&&Ne.$$typeof===dg&&Hd(Ne)===Yc.type))return ke=oa(Yc,wd.props),ke.ref=ze(kd,Yc,wd),ke.return=kd,
ke;ke=qi(wd.type,wd.key,wd.props,null,kd.mode,ke);ke.ref=ze(kd,Yc,wd);ke.return=kd;return ke}function zd(kd,Yc,wd,ke){if(null===Yc||4!==Yc.tag||Yc.stateNode.containerInfo!==wd.containerInfo||Yc.stateNode.implementation!==wd.implementation)return Yc=vg(wd,kd.mode,ke),Yc.return=kd,Yc;Yc=oa(Yc,wd.children||[]);Yc.return=kd;return Yc}function ge(kd,Yc,wd,ke,Ne){if(null===Yc||7!==Yc.tag)return Yc=ii(wd,kd.mode,ke,Ne),Yc.return=kd,Yc;Yc=oa(Yc,wd);Yc.return=kd;return Yc}function je(kd,Yc,wd){if("string"===
typeof Yc&&""!==Yc||"number"===typeof Yc)return Yc=Ki(""+Yc,kd.mode,wd),Yc.return=kd,Yc;if("object"===typeof Yc&&null!==Yc){switch(Yc.$$typeof){case gd:return wd=qi(Yc.type,Yc.key,Yc.props,null,kd.mode,wd),wd.ref=ze(kd,null,Yc),wd.return=kd,wd;case nc:return Yc=vg(Yc,kd.mode,wd),Yc.return=kd,Yc;case dg:var ke=Yc._init;return je(kd,ke(Yc._payload),wd)}if(Ke(Yc)||Ab(Yc))return Yc=ii(Yc,kd.mode,wd,null),Yc.return=kd,Yc;Ce(kd,Yc)}return null}function fe(kd,Yc,wd,ke){var Ne=null!==Yc?Yc.key:null;if("string"===
typeof wd&&""!==wd||"number"===typeof wd)return null!==Ne?null:uc(kd,Yc,""+wd,ke);if("object"===typeof wd&&null!==wd){switch(wd.$$typeof){case gd:return wd.key===Ne?Nc(kd,Yc,wd,ke):null;case nc:return wd.key===Ne?zd(kd,Yc,wd,ke):null;case dg:return Ne=wd._init,fe(kd,Yc,Ne(wd._payload),ke)}if(Ke(wd)||Ab(wd))return null!==Ne?null:ge(kd,Yc,wd,ke,null);Ce(kd,wd)}return null}function Fe(kd,Yc,wd,ke,Ne){if("string"===typeof ke&&""!==ke||"number"===typeof ke)return kd=kd.get(wd)||null,uc(Yc,kd,""+ke,Ne);
if("object"===typeof ke&&null!==ke){switch(ke.$$typeof){case gd:return kd=kd.get(null===ke.key?wd:ke.key)||null,Nc(Yc,kd,ke,Ne);case nc:return kd=kd.get(null===ke.key?wd:ke.key)||null,zd(Yc,kd,ke,Ne);case dg:var ef=ke._init;return Fe(kd,Yc,wd,ef(ke._payload),Ne)}if(Ke(ke)||Ab(ke))return kd=kd.get(wd)||null,ge(Yc,kd,ke,Ne,null);Ce(Yc,ke)}return null}function Ue(kd,Yc,wd,ke){for(var Ne=null,ef=null,Le=Yc,qf=Yc=0,sh=null;null!==Le&&qf<wd.length;qf++){Le.index>qf?(sh=Le,Le=null):sh=Le.sibling;var Yf=
fe(kd,Le,wd[qf],ke);if(null===Yf){null===Le&&(Le=sh);break}c&&Le&&null===Yf.alternate&&d(kd,Le);Yc=za(Yf,Yc,qf);null===ef?Ne=Yf:ef.sibling=Yf;ef=Yf;Le=sh}if(qf===wd.length)return n(kd,Le),Kg&&Ad(kd,qf),Ne;if(null===Le){for(;qf<wd.length;qf++)Le=je(kd,wd[qf],ke),null!==Le&&(Yc=za(Le,Yc,qf),null===ef?Ne=Le:ef.sibling=Le,ef=Le);Kg&&Ad(kd,qf);return Ne}for(Le=J(kd,Le);qf<wd.length;qf++)sh=Fe(Le,kd,qf,wd[qf],ke),null!==sh&&(c&&null!==sh.alternate&&Le.delete(null===sh.key?qf:sh.key),Yc=za(sh,Yc,qf),null===
ef?Ne=sh:ef.sibling=sh,ef=sh);c&&Le.forEach(function(Zi){return d(kd,Zi)});Kg&&Ad(kd,qf);return Ne}function Ye(kd,Yc,wd,ke){var Ne=Ab(wd);if("function"!==typeof Ne)throw Error(r(150));wd=Ne.call(wd);if(null==wd)throw Error(r(151));for(var ef=Ne=null,Le=Yc,qf=Yc=0,sh=null,Yf=wd.next();null!==Le&&!Yf.done;qf++,Yf=wd.next()){Le.index>qf?(sh=Le,Le=null):sh=Le.sibling;var Zi=fe(kd,Le,Yf.value,ke);if(null===Zi){null===Le&&(Le=sh);break}c&&Le&&null===Zi.alternate&&d(kd,Le);Yc=za(Zi,Yc,qf);null===ef?Ne=Zi:
ef.sibling=Zi;ef=Zi;Le=sh}if(Yf.done)return n(kd,Le),Kg&&Ad(kd,qf),Ne;if(null===Le){for(;!Yf.done;qf++,Yf=wd.next())Yf=je(kd,Yf.value,ke),null!==Yf&&(Yc=za(Yf,Yc,qf),null===ef?Ne=Yf:ef.sibling=Yf,ef=Yf);Kg&&Ad(kd,qf);return Ne}for(Le=J(kd,Le);!Yf.done;qf++,Yf=wd.next())Yf=Fe(Le,kd,qf,Yf.value,ke),null!==Yf&&(c&&null!==Yf.alternate&&Le.delete(null===Yf.key?qf:Yf.key),Yc=za(Yf,Yc,qf),null===ef?Ne=Yf:ef.sibling=Yf,ef=Yf);c&&Le.forEach(function(Sk){return d(kd,Sk)});Kg&&Ad(kd,qf);return Ne}function Tg(kd,
Yc,wd,ke){"object"===typeof wd&&null!==wd&&wd.type===rd&&null===wd.key&&(wd=wd.props.children);if("object"===typeof wd&&null!==wd){switch(wd.$$typeof){case gd:a:{for(var Ne=wd.key,ef=Yc;null!==ef;){if(ef.key===Ne){Ne=wd.type;if(Ne===rd){if(7===ef.tag){n(kd,ef.sibling);Yc=oa(ef,wd.props.children);Yc.return=kd;kd=Yc;break a}}else if(ef.elementType===Ne||"object"===typeof Ne&&null!==Ne&&Ne.$$typeof===dg&&Hd(Ne)===ef.type){n(kd,ef.sibling);Yc=oa(ef,wd.props);Yc.ref=ze(kd,ef,wd);Yc.return=kd;kd=Yc;break a}n(kd,
ef);break}else d(kd,ef);ef=ef.sibling}wd.type===rd?(Yc=ii(wd.props.children,kd.mode,ke,wd.key),Yc.return=kd,kd=Yc):(ke=qi(wd.type,wd.key,wd.props,null,kd.mode,ke),ke.ref=ze(kd,Yc,wd),ke.return=kd,kd=ke)}return tb(kd);case nc:a:{for(ef=wd.key;null!==Yc;){if(Yc.key===ef)if(4===Yc.tag&&Yc.stateNode.containerInfo===wd.containerInfo&&Yc.stateNode.implementation===wd.implementation){n(kd,Yc.sibling);Yc=oa(Yc,wd.children||[]);Yc.return=kd;kd=Yc;break a}else{n(kd,Yc);break}else d(kd,Yc);Yc=Yc.sibling}Yc=
vg(wd,kd.mode,ke);Yc.return=kd;kd=Yc}return tb(kd);case dg:return ef=wd._init,Tg(kd,Yc,ef(wd._payload),ke)}if(Ke(wd))return Ue(kd,Yc,wd,ke);if(Ab(wd))return Ye(kd,Yc,wd,ke);Ce(kd,wd)}return"string"===typeof wd&&""!==wd||"number"===typeof wd?(wd=""+wd,null!==Yc&&6===Yc.tag?(n(kd,Yc.sibling),Yc=oa(Yc,wd),Yc.return=kd,kd=Yc):(n(kd,Yc),Yc=Ki(wd,kd.mode,ke),Yc.return=kd,kd=Yc),tb(kd)):n(kd,Yc)}return Tg}function De(c){if(c===yj)throw Error(r(174));return c}function mf(c,d){de(Ci,d);de(Li,c);de(ri,yj);
c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ga(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Ga(d,c)}md(ri);de(ri,d)}function bf(){md(ri);md(Li);md(Ci)}function ue(c){De(Ci.current);var d=De(ri.current),n=Ga(d,c.type);d!==n&&(de(Li,c),de(ri,n))}function ve(c){Li.current===c&&(md(ri),md(Li))}function uf(c){for(var d=c;null!==d;){if(13===d.tag){var n=d.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return d}else if(19===
d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Kf(){for(var c=0;c<ok.length;c++)ok[c]._workInProgressVersionPrimary=null;ok.length=0}function ff(){throw Error(r(321));}function lg(c,d){if(null===d)return!1;for(var n=0;n<d.length&&n<c.length;n++)if(!ni(c[n],d[n]))return!1;
return!0}function Wd(c,d,n,J,oa,za){$i=za;pg=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;pk.current=null===c||null===c.memoizedState?tl:Yl;c=n(J,oa);if(Pj){za=0;do{Pj=!1;zj=0;if(25<=za)throw Error(r(301));za+=1;th=Ug=null;d.updateQueue=null;pk.current=Zl;c=n(J,oa)}while(Pj)}pk.current=Qj;d=null!==Ug&&null!==Ug.next;$i=0;th=Ug=pg=null;qk=!1;if(d)throw Error(r(300));return c}function jf(){var c=0!==zj;zj=0;return c}function lf(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,
next:null};null===th?pg.memoizedState=th=c:th=th.next=c;return th}function Ze(){if(null===Ug){var c=pg.alternate;c=null!==c?c.memoizedState:null}else c=Ug.next;var d=null===th?pg.memoizedState:th.next;if(null!==d)th=d,Ug=c;else{if(null===c)throw Error(r(310));Ug=c;c={memoizedState:Ug.memoizedState,baseState:Ug.baseState,baseQueue:Ug.baseQueue,queue:Ug.queue,next:null};null===th?pg.memoizedState=th=c:th=th.next=c}return th}function Hf(c,d){return"function"===typeof d?d(c):d}function Bf(c){var d=Ze(),
n=d.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=c;var J=Ug,oa=J.baseQueue,za=n.pending;if(null!==za){if(null!==oa){var tb=oa.next;oa.next=za.next;za.next=tb}J.baseQueue=oa=za;n.pending=null}if(null!==oa){za=oa.next;J=J.baseState;var uc=tb=null,Nc=null,zd=za;do{var ge=zd.lane;if(($i&ge)===ge)null!==Nc&&(Nc=Nc.next={lane:0,action:zd.action,hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null}),J=zd.hasEagerState?zd.eagerState:c(J,zd.action);else{var je={lane:ge,action:zd.action,
hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null};null===Nc?(uc=Nc=je,tb=J):Nc=Nc.next=je;pg.lanes|=ge;Wf|=ge}zd=zd.next}while(null!==zd&&zd!==za);null===Nc?tb=J:Nc.next=uc;ni(J,d.memoizedState)||(Uh=!0);d.memoizedState=J;d.baseState=tb;d.baseQueue=Nc;n.lastRenderedState=J}c=n.interleaved;if(null!==c){oa=c;do za=oa.lane,pg.lanes|=za,Wf|=za,oa=oa.next;while(oa!==c)}else null===oa&&(n.lanes=0);return[d.memoizedState,n.dispatch]}function Cf(c){var d=Ze(),n=d.queue;if(null===n)throw Error(r(311));
n.lastRenderedReducer=c;var J=n.dispatch,oa=n.pending,za=d.memoizedState;if(null!==oa){n.pending=null;var tb=oa=oa.next;do za=c(za,tb.action),tb=tb.next;while(tb!==oa);ni(za,d.memoizedState)||(Uh=!0);d.memoizedState=za;null===d.baseQueue&&(d.baseState=za);n.lastRenderedState=za}return[za,J]}function Jf(){}function wg(c,d){var n=pg,J=Ze(),oa=d(),za=!ni(J.memoizedState,oa);za&&(J.memoizedState=oa,Uh=!0);J=J.queue;hd(Of.bind(null,n,J,c),[c]);if(J.getSnapshot!==d||za||null!==th&&th.memoizedState.tag&
1){n.flags|=2048;xg(9,xf.bind(null,n,J,oa,d),void 0,null);if(null===uh)throw Error(r(349));0!==($i&30)||eg(n,d,oa)}return oa}function eg(c,d,n){c.flags|=16384;c={getSnapshot:d,value:n};d=pg.updateQueue;null===d?(d={lastEffect:null,stores:null},pg.updateQueue=d,d.stores=[c]):(n=d.stores,null===n?d.stores=[c]:n.push(c))}function xf(c,d,n,J){d.value=n;d.getSnapshot=J;bg(d)&&Lg(c)}function Of(c,d,n){return n(function(){bg(d)&&Lg(c)})}function bg(c){var d=c.getSnapshot;c=c.value;try{var n=d();return!ni(c,
n)}catch(J){return!0}}function Lg(c){var d=Pa(c,1);null!==d&&ca(d,c,1,-1)}function Qg(c){var d=lf();"function"===typeof c&&(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:c};d.queue=c;c=c.dispatch=Gg.bind(null,pg,c);return[d.memoizedState,c]}function xg(c,d,n,J){c={tag:c,create:d,destroy:n,deps:J,next:null};d=pg.updateQueue;null===d?(d={lastEffect:null,stores:null},pg.updateQueue=d,d.lastEffect=c.next=c):(n=d.lastEffect,
null===n?d.lastEffect=c.next=c:(J=n.next,n.next=c,c.next=J,d.lastEffect=c));return c}function ah(){return Ze().memoizedState}function qa(c,d,n,J){var oa=lf();pg.flags|=c;oa.memoizedState=xg(1|d,n,void 0,void 0===J?null:J)}function cb(c,d,n,J){var oa=Ze();J=void 0===J?null:J;var za=void 0;if(null!==Ug){var tb=Ug.memoizedState;za=tb.destroy;if(null!==J&&lg(J,tb.deps)){oa.memoizedState=xg(d,n,za,J);return}}pg.flags|=c;oa.memoizedState=xg(1|d,n,za,J)}function Pb(c,d){return qa(8390656,8,c,d)}function hd(c,
d){return cb(2048,8,c,d)}function nd(c,d){return cb(4,2,c,d)}function oe(c,d){return cb(4,4,c,d)}function Pe(c,d){if("function"===typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function of(c,d,n){n=null!==n&&void 0!==n?n.concat([c]):null;return cb(4,4,Pe.bind(null,d,c),n)}function Ef(){}function Qe(c,d){var n=Ze();d=void 0===d?null:d;var J=n.memoizedState;if(null!==J&&null!==d&&lg(d,J[1]))return J[0];n.memoizedState=[c,d];
return c}function Zf(c,d){var n=Ze();d=void 0===d?null:d;var J=n.memoizedState;if(null!==J&&null!==d&&lg(d,J[1]))return J[0];c=c();n.memoizedState=[c,d];return c}function Rf(c,d,n){if(0===($i&21))return c.baseState&&(c.baseState=!1,Uh=!0),c.memoizedState=n;ni(n,d)||(n=wc(),pg.lanes|=n,Wf|=n,c.baseState=!0);return d}function $f(c,d){var n=og;og=0!==n&&4>n?n:4;c(!0);var J=rk.transition;rk.transition={};try{c(!1),d()}finally{og=n,rk.transition=J}}function mg(){return Ze().memoizedState}function qg(c,
d,n){var J=y(c);n={lane:J,action:n,hasEagerState:!1,eagerState:null,next:null};if(bh(c))hh(d,n);else if(n=Ha(c,d,n,J),null!==n){var oa=l();ca(n,c,J,oa);Ee(n,d,J)}}function Gg(c,d,n){var J=y(c),oa={lane:J,action:n,hasEagerState:!1,eagerState:null,next:null};if(bh(c))hh(d,oa);else{var za=c.alternate;if(0===c.lanes&&(null===za||0===za.lanes)&&(za=d.lastRenderedReducer,null!==za))try{var tb=d.lastRenderedState,uc=za(tb,n);oa.hasEagerState=!0;oa.eagerState=uc;if(ni(uc,tb)){var Nc=d.interleaved;null===
Nc?(oa.next=oa,sa(d)):(oa.next=Nc.next,Nc.next=oa);d.interleaved=oa;return}}catch(zd){}finally{}n=Ha(c,d,oa,J);null!==n&&(oa=l(),ca(n,c,J,oa),Ee(n,d,J))}}function bh(c){var d=c.alternate;return c===pg||null!==d&&d===pg}function hh(c,d){Pj=qk=!0;var n=c.pending;null===n?d.next=d:(d.next=n.next,n.next=d);c.pending=d}function Ee(c,d,n){if(0!==(n&4194240)){var J=d.lanes;J&=c.pendingLanes;n|=J;d.lanes=n;Rc(c,n)}}function Ie(c,d){try{var n="",J=d;do n+=Ya(J),J=J.return;while(J)}catch(oa){n="\nError generating stack: "+
oa.message+"\n"+oa.stack}return{value:c,source:d,stack:n,digest:null}}function Lf(c,d,n){return{value:c,source:null,stack:null!=n?n:null,digest:null!=d?d:null}}function gf(c,d){try{console.error(d.value)}catch(n){setTimeout(function(){throw n;})}}function Df(c,d,n){n=rc(-1,n);n.tag=3;n.payload={element:null};var J=d.value;n.callback=function(){Rj||(Rj=!0,sk=J);gf(c,d)};return n}function zf(c,d,n){n=rc(-1,n);n.tag=3;var J=c.type.getDerivedStateFromError;if("function"===typeof J){var oa=d.value;n.payload=
function(){return J(oa)};n.callback=function(){gf(c,d)}}var za=c.stateNode;null!==za&&"function"===typeof za.componentDidCatch&&(n.callback=function(){gf(c,d);"function"!==typeof J&&(null===Mi?Mi=new Set([this]):Mi.add(this));var tb=d.stack;this.componentDidCatch(d.value,{componentStack:null!==tb?tb:""})});return n}function fg(c,d,n){var J=c.pingCache;if(null===J){J=c.pingCache=new ul;var oa=new Set;J.set(d,oa)}else oa=J.get(d),void 0===oa&&(oa=new Set,J.set(d,oa));oa.has(n)||(oa.add(n),c=vf.bind(null,
c,d,n),d.then(c,c))}function rg(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function gg(c,d,n,J,oa){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(d=rc(-1,1),d.tag=2,sc(n,d,1))),n.lanes|=1),c;c.flags|=65536;c.lanes=oa;return c}function Ff(c,d,n,J){d.child=null===c?vl(d,null,n,J):hj(d,c.child,n,J)}function Hg(c,d,n,J,oa){n=
n.render;var za=d.ref;G(d,oa);J=Wd(c,d,n,J,za,oa);n=jf();if(null!==c&&!Uh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~oa,ch(c,d,oa);Kg&&n&&ye(d);d.flags|=1;Ff(c,d,J,oa);return d.child}function dh(c,d,n,J,oa){if(null===c){var za=n.type;if("function"===typeof za&&!ih(za)&&void 0===za.defaultProps&&null===n.compare&&void 0===n.defaultProps)return d.tag=15,d.type=za,vh(c,d,za,J,oa);c=qi(n.type,null,J,d,d.mode,oa);c.ref=d.ref;c.return=d;return d.child=c}za=c.child;if(0===(c.lanes&oa)){var tb=
za.memoizedProps;n=n.compare;n=null!==n?n:La;if(n(tb,J)&&c.ref===d.ref)return ch(c,d,oa)}d.flags|=1;c=rh(za,J);c.ref=d.ref;c.return=d;return d.child=c}function vh(c,d,n,J,oa){if(null!==c){var za=c.memoizedProps;if(La(za,J)&&c.ref===d.ref)if(Uh=!1,d.pendingProps=J=za,0!==(c.lanes&oa))0!==(c.flags&131072)&&(Uh=!0);else return d.lanes=c.lanes,ch(c,d,oa)}return Bh(c,d,n,J,oa)}function ag(c,d,n){var J=d.pendingProps,oa=J.children,za=null!==c?c.memoizedState:null;if("hidden"===J.mode)if(0===(d.mode&1))d.memoizedState=
{baseLanes:0,cachePool:null,transitions:null},de($h,ai),ai|=n;else{if(0===(n&1073741824))return c=null!==za?za.baseLanes|n:n,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,de($h,ai),ai|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null};J=null!==za?za.baseLanes:n;de($h,ai);ai|=J}else null!==za?(J=za.baseLanes|n,d.memoizedState=null):J=n,de($h,ai),ai|=J;Ff(c,d,oa,n);return d.child}function Vh(c,d){var n=d.ref;if(null===
c&&null!==n||null!==c&&c.ref!==n)d.flags|=512,d.flags|=2097152}function Bh(c,d,n,J,oa){var za=fb(n)?Ii:qh.current;za=Sa(d,za);G(d,oa);n=Wd(c,d,n,J,za,oa);J=jf();if(null!==c&&!Uh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~oa,ch(c,d,oa);Kg&&J&&ye(d);d.flags|=1;Ff(c,d,n,oa);return d.child}function Ch(c,d,n,J,oa){if(fb(n)){var za=!0;Xc(d)}else za=!1;G(d,oa);if(null===d.stateNode)Mg(c,d),Od(d,n,J),td(d,n,J,oa),J=!0;else if(null===c){var tb=d.stateNode,uc=d.memoizedProps;tb.props=uc;var Nc=
tb.context,zd=n.contextType;"object"===typeof zd&&null!==zd?zd=ka(zd):(zd=fb(n)?Ii:qh.current,zd=Sa(d,zd));var ge=n.getDerivedStateFromProps,je="function"===typeof ge||"function"===typeof tb.getSnapshotBeforeUpdate;je||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||(uc!==J||Nc!==zd)&&He(d,tb,J,zd);Yi=!1;var fe=d.memoizedState;tb.state=fe;Uc(d,J,tb,oa);Nc=d.memoizedState;uc!==J||fe!==Nc||Rh.current||Yi?("function"===typeof ge&&(yd(d,n,ge,
J),Nc=d.memoizedState),(uc=Yi||Dd(d,n,uc,J,fe,Nc,zd))?(je||"function"!==typeof tb.UNSAFE_componentWillMount&&"function"!==typeof tb.componentWillMount||("function"===typeof tb.componentWillMount&&tb.componentWillMount(),"function"===typeof tb.UNSAFE_componentWillMount&&tb.UNSAFE_componentWillMount()),"function"===typeof tb.componentDidMount&&(d.flags|=4194308)):("function"===typeof tb.componentDidMount&&(d.flags|=4194308),d.memoizedProps=J,d.memoizedState=Nc),tb.props=J,tb.state=Nc,tb.context=zd,
J=uc):("function"===typeof tb.componentDidMount&&(d.flags|=4194308),J=!1)}else{tb=d.stateNode;lc(c,d);uc=d.memoizedProps;zd=d.type===d.elementType?uc:le(d.type,uc);tb.props=zd;je=d.pendingProps;fe=tb.context;Nc=n.contextType;"object"===typeof Nc&&null!==Nc?Nc=ka(Nc):(Nc=fb(n)?Ii:qh.current,Nc=Sa(d,Nc));var Fe=n.getDerivedStateFromProps;(ge="function"===typeof Fe||"function"===typeof tb.getSnapshotBeforeUpdate)||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||
(uc!==je||fe!==Nc)&&He(d,tb,J,Nc);Yi=!1;fe=d.memoizedState;tb.state=fe;Uc(d,J,tb,oa);var Ue=d.memoizedState;uc!==je||fe!==Ue||Rh.current||Yi?("function"===typeof Fe&&(yd(d,n,Fe,J),Ue=d.memoizedState),(zd=Yi||Dd(d,n,zd,J,fe,Ue,Nc)||!1)?(ge||"function"!==typeof tb.UNSAFE_componentWillUpdate&&"function"!==typeof tb.componentWillUpdate||("function"===typeof tb.componentWillUpdate&&tb.componentWillUpdate(J,Ue,Nc),"function"===typeof tb.UNSAFE_componentWillUpdate&&tb.UNSAFE_componentWillUpdate(J,Ue,Nc)),
"function"===typeof tb.componentDidUpdate&&(d.flags|=4),"function"===typeof tb.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof tb.componentDidUpdate||uc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||uc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),d.memoizedProps=J,d.memoizedState=Ue),tb.props=J,tb.state=Ue,tb.context=Nc,J=zd):("function"!==typeof tb.componentDidUpdate||uc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=
4),"function"!==typeof tb.getSnapshotBeforeUpdate||uc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),J=!1)}return Vg(c,d,n,J,za,oa)}function Vg(c,d,n,J,oa,za){Vh(c,d);var tb=0!==(d.flags&128);if(!J&&!tb)return oa&&Qc(d,n,!1),ch(c,d,za);J=d.stateNode;wl.current=d;var uc=tb&&"function"!==typeof n.getDerivedStateFromError?null:J.render();d.flags|=1;null!==c&&tb?(d.child=hj(d,c.child,null,za),d.child=hj(d,null,uc,za)):Ff(c,d,uc,za);d.memoizedState=J.state;oa&&Qc(d,n,!0);return d.child}function Dh(c){var d=
c.stateNode;d.pendingContext?pd(c,d.pendingContext,d.pendingContext!==d.context):d.context&&pd(c,d.context,!1);mf(c,d.containerInfo)}function Eh(c){return{baseLanes:c,cachePool:null,transitions:null}}function bi(c,d,n){var J=d.pendingProps,oa=Ng.current,za=!1,tb=0!==(d.flags&128),uc;(uc=tb)||(uc=null!==c&&null===c.memoizedState?!1:0!==(oa&2));if(uc)za=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)oa|=1;de(Ng,oa&1);if(null===c){Fc(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==
c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;tb=J.children;c=J.fallback;return za?(J=d.mode,za=d.child,tb={mode:"hidden",children:tb},0===(J&1)&&null!==za?(za.childLanes=0,za.pendingProps=tb):za=Di(tb,J,0,null),c=ii(c,J,n,null),za.return=d,c.return=d,za.sibling=c,d.child=za,d.child.memoizedState=Eh(n),d.memoizedState=Tk,c):Wg(d,tb)}oa=c.memoizedState;if(null!==oa&&(uc=oa.dehydrated,null!==uc))return si(c,d,tb,J,uc,oa,n);if(za){za=J.fallback;tb=d.mode;oa=c.child;
uc=oa.sibling;var Nc={mode:"hidden",children:J.children};0===(tb&1)&&d.child!==oa?(J=d.child,J.childLanes=0,J.pendingProps=Nc,d.deletions=null):(J=rh(oa,Nc),J.subtreeFlags=oa.subtreeFlags&14680064);null!==uc?za=rh(uc,za):(za=ii(za,tb,n,null),za.flags|=2);za.return=d;J.return=d;J.sibling=za;d.child=J;J=za;za=d.child;tb=c.child.memoizedState;tb=null===tb?Eh(n):{baseLanes:tb.baseLanes|n,cachePool:null,transitions:tb.transitions};za.memoizedState=tb;za.childLanes=c.childLanes&~n;d.memoizedState=Tk;return J}za=
c.child;c=za.sibling;J=rh(za,{mode:"visible",children:J.children});0===(d.mode&1)&&(J.lanes=n);J.return=d;J.sibling=null;null!==c&&(n=d.deletions,null===n?(d.deletions=[c],d.flags|=16):n.push(c));d.child=J;d.memoizedState=null;return J}function Wg(c,d){d=Di({mode:"visible",children:d},c.mode,0,null);d.return=c;return c.child=d}function jh(c,d,n,J){null!==J&&Yd(J);hj(d,c.child,null,n);c=Wg(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function si(c,d,n,J,oa,za,tb){if(n){if(d.flags&
256)return d.flags&=-257,J=Lf(Error(r(422))),jh(c,d,tb,J);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;za=J.fallback;oa=d.mode;J=Di({mode:"visible",children:J.children},oa,0,null);za=ii(za,oa,tb,null);za.flags|=2;J.return=d;za.return=d;J.sibling=za;d.child=J;0!==(d.mode&1)&&hj(d,c.child,null,tb);d.child.memoizedState=Eh(tb);d.memoizedState=Tk;return za}if(0===(d.mode&1))return jh(c,d,tb,null);if("$!"===oa.data){if(J=oa.nextSibling&&oa.nextSibling.dataset)var uc=J.dgst;J=uc;za=
Error(r(419));J=Lf(za,J,void 0);return jh(c,d,tb,J)}uc=0!==(tb&c.childLanes);if(Uh||uc){J=uh;if(null!==J){switch(tb&-tb){case 4:oa=2;break;case 16:oa=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:oa=32;break;case 536870912:oa=268435456;break;default:oa=0}oa=0!==(oa&(J.suspendedLanes|tb))?0:oa;0!==oa&&
oa!==za.retryLane&&(za.retryLane=oa,Pa(c,oa),ca(J,c,oa,-1))}wf();J=Lf(Error(r(421)));return jh(c,d,tb,J)}if("$?"===oa.data)return d.flags|=128,d.child=c.child,d=Pf.bind(null,c),oa._reactRetry=d,null;c=za.treeContext;Nh=I(oa.nextSibling);Mh=d;Kg=!0;Th=null;null!==c&&(zg[Zh++]=hi,zg[Zh++]=Ji,zg[Zh++]=Ai,hi=c.id,Ji=c.overflow,Ai=d);d=Wg(d,J.children);d.flags|=4096;return d}function Ag(c,d,n){c.lanes|=d;var J=c.alternate;null!==J&&(J.lanes|=d);da(c.return,d,n)}function Fh(c,d,n,J,oa){var za=c.memoizedState;
null===za?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:J,tail:n,tailMode:oa}:(za.isBackwards=d,za.rendering=null,za.renderingStartTime=0,za.last=J,za.tail=n,za.tailMode=oa)}function Wh(c,d,n){var J=d.pendingProps,oa=J.revealOrder,za=J.tail;Ff(c,d,J.children,n);J=Ng.current;if(0!==(J&2))J=J&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==c.memoizedState&&Ag(c,n,d);else if(19===c.tag)Ag(c,n,d);else if(null!==c.child){c.child.return=
c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}J&=1}de(Ng,J);if(0===(d.mode&1))d.memoizedState=null;else switch(oa){case "forwards":n=d.child;for(oa=null;null!==n;)c=n.alternate,null!==c&&null===uf(c)&&(oa=n),n=n.sibling;n=oa;null===n?(oa=d.child,d.child=null):(oa=n.sibling,n.sibling=null);Fh(d,!1,oa,n,za);break;case "backwards":n=null;oa=d.child;for(d.child=null;null!==oa;){c=oa.alternate;if(null!==
c&&null===uf(c)){d.child=oa;break}c=oa.sibling;oa.sibling=n;n=oa;oa=c}Fh(d,!0,n,null,za);break;case "together":Fh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Mg(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function ch(c,d,n){null!==c&&(d.dependencies=c.dependencies);Wf|=d.lanes;if(0===(n&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(r(153));if(null!==d.child){c=d.child;n=rh(c,c.pendingProps);d.child=n;for(n.return=
d;null!==c.sibling;)c=c.sibling,n=n.sibling=rh(c,c.pendingProps),n.return=d;n.sibling=null}return d.child}function nh(c,d,n){switch(d.tag){case 3:Dh(d);ae();break;case 5:ue(d);break;case 1:fb(d.type)&&Xc(d);break;case 4:mf(d,d.stateNode.containerInfo);break;case 10:var J=d.type._context,oa=d.memoizedProps.value;de(wj,J._currentValue);J._currentValue=oa;break;case 13:J=d.memoizedState;if(null!==J){if(null!==J.dehydrated)return de(Ng,Ng.current&1),d.flags|=128,null;if(0!==(n&d.child.childLanes))return bi(c,
d,n);de(Ng,Ng.current&1);c=ch(c,d,n);return null!==c?c.sibling:null}de(Ng,Ng.current&1);break;case 19:J=0!==(n&d.childLanes);if(0!==(c.flags&128)){if(J)return Wh(c,d,n);d.flags|=128}oa=d.memoizedState;null!==oa&&(oa.rendering=null,oa.tail=null,oa.lastEffect=null);de(Ng,Ng.current);if(J)break;else return null;case 22:case 23:return d.lanes=0,ag(c,d,n)}return ch(c,d,n)}function Gh(c,d){if(!Kg)switch(c.tailMode){case "hidden":d=c.tail;for(var n=null;null!==d;)null!==d.alternate&&(n=d),d=d.sibling;null===
n?c.tail=null:n.sibling=null;break;case "collapsed":n=c.tail;for(var J=null;null!==n;)null!==n.alternate&&(J=n),n=n.sibling;null===J?d||null===c.tail?c.tail=null:c.tail.sibling=null:J.sibling=null}}function yg(c){var d=null!==c.alternate&&c.alternate.child===c.child,n=0,J=0;if(d)for(var oa=c.child;null!==oa;)n|=oa.lanes|oa.childLanes,J|=oa.subtreeFlags&14680064,J|=oa.flags&14680064,oa.return=c,oa=oa.sibling;else for(oa=c.child;null!==oa;)n|=oa.lanes|oa.childLanes,J|=oa.subtreeFlags,J|=oa.flags,oa.return=
c,oa=oa.sibling;c.subtreeFlags|=J;c.childLanes=n;return d}function Oh(c,d,n){var J=d.pendingProps;Oe(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yg(d),null;case 1:return fb(d.type)&&qc(),yg(d),null;case 3:J=d.stateNode;bf();md(Rh);md(qh);Kf();J.pendingContext&&(J.context=J.pendingContext,J.pendingContext=null);if(null===c||null===c.child)Dc(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&0===(d.flags&256)||(d.flags|=1024,null!==Th&&(Hb(Th),
Th=null));Uk(c,d);yg(d);return null;case 5:ve(d);var oa=De(Ci.current);n=d.type;if(null!==c&&null!=d.stateNode)xl(c,d,n,J,oa),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!J){if(null===d.stateNode)throw Error(r(166));yg(d);return null}c=De(ri.current);if(Dc(d)){J=d.stateNode;n=d.type;var za=d.memoizedProps;J[pi]=d;J[Nj]=za;c=0!==(d.mode&1);switch(n){case "dialog":Md("cancel",J);Md("close",J);break;case "iframe":case "object":case "embed":Md("load",J);break;case "video":case "audio":for(oa=
0;oa<Aj.length;oa++)Md(Aj[oa],J);break;case "source":Md("error",J);break;case "img":case "image":case "link":Md("error",J);Md("load",J);break;case "details":Md("toggle",J);break;case "input":Qa(J,za);Md("invalid",J);break;case "select":J._wrapperState={wasMultiple:!!za.multiple};Md("invalid",J);break;case "textarea":Vb(J,za),Md("invalid",J)}na(n,za);oa=null;for(var tb in za)if(za.hasOwnProperty(tb)){var uc=za[tb];"children"===tb?"string"===typeof uc?J.textContent!==uc&&(!0!==za.suppressHydrationWarning&&
eb(J.textContent,uc,c),oa=["children",uc]):"number"===typeof uc&&J.textContent!==""+uc&&(!0!==za.suppressHydrationWarning&&eb(J.textContent,uc,c),oa=["children",""+uc]):S.hasOwnProperty(tb)&&null!=uc&&"onScroll"===tb&&Md("scroll",J)}switch(n){case "input":Xa(J);Na(J,za,!0);break;case "textarea":Xa(J);ma(J);break;case "select":case "option":break;default:"function"===typeof za.onClick&&(J.onclick=zb)}J=oa;d.updateQueue=J;null!==J&&(d.flags|=4)}else{tb=9===oa.nodeType?oa:oa.ownerDocument;"http://www.w3.org/1999/xhtml"===
c&&(c=Y(n));"http://www.w3.org/1999/xhtml"===c?"script"===n?(c=tb.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof J.is?c=tb.createElement(n,{is:J.is}):(c=tb.createElement(n),"select"===n&&(tb=c,J.multiple?tb.multiple=!0:J.size&&(tb.size=J.size))):c=tb.createElementNS(c,n);c[pi]=d;c[Nj]=J;Ni(c,d,!1,!1);d.stateNode=c;a:{tb=p(n,J);switch(n){case "dialog":Md("cancel",c);Md("close",c);oa=J;break;case "iframe":case "object":case "embed":Md("load",
c);oa=J;break;case "video":case "audio":for(oa=0;oa<Aj.length;oa++)Md(Aj[oa],c);oa=J;break;case "source":Md("error",c);oa=J;break;case "img":case "image":case "link":Md("error",c);Md("load",c);oa=J;break;case "details":Md("toggle",c);oa=J;break;case "input":Qa(c,J);oa=Ca(c,J);Md("invalid",c);break;case "option":oa=J;break;case "select":c._wrapperState={wasMultiple:!!J.multiple};oa=ng({},J,{value:void 0});Md("invalid",c);break;case "textarea":Vb(c,J);oa=Mb(c,J);Md("invalid",c);break;default:oa=J}na(n,
oa);uc=oa;for(za in uc)if(uc.hasOwnProperty(za)){var Nc=uc[za];"style"===za?ba(c,Nc):"dangerouslySetInnerHTML"===za?(Nc=Nc?Nc.__html:void 0,null!=Nc&&hg(c,Nc)):"children"===za?"string"===typeof Nc?("textarea"!==n||""!==Nc)&&Ea(c,Nc):"number"===typeof Nc&&Ea(c,""+Nc):"suppressContentEditableWarning"!==za&&"suppressHydrationWarning"!==za&&"autoFocus"!==za&&(S.hasOwnProperty(za)?null!=Nc&&"onScroll"===za&&Md("scroll",c):null!=Nc&&Ac(c,za,Nc,tb))}switch(n){case "input":Xa(c);Na(c,J,!1);break;case "textarea":Xa(c);
ma(c);break;case "option":null!=J.value&&c.setAttribute("value",""+Nb(J.value));break;case "select":c.multiple=!!J.multiple;za=J.value;null!=za?pb(c,!!J.multiple,za,!1):null!=J.defaultValue&&pb(c,!!J.multiple,J.defaultValue,!0);break;default:"function"===typeof oa.onClick&&(c.onclick=zb)}switch(n){case "button":case "input":case "select":case "textarea":J=!!J.autoFocus;break a;case "img":J=!0;break a;default:J=!1}}J&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=2097152)}yg(d);return null;case 6:if(c&&
null!=d.stateNode)$l(c,d,c.memoizedProps,J);else{if("string"!==typeof J&&null===d.stateNode)throw Error(r(166));n=De(Ci.current);De(ri.current);if(Dc(d)){J=d.stateNode;n=d.memoizedProps;J[pi]=d;if(za=J.nodeValue!==n)if(c=Mh,null!==c)switch(c.tag){case 3:eb(J.nodeValue,n,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&eb(J.nodeValue,n,0!==(c.mode&1))}za&&(d.flags|=4)}else J=(9===n.nodeType?n:n.ownerDocument).createTextNode(J),J[pi]=d,d.stateNode=J}yg(d);return null;case 13:md(Ng);
J=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Kg&&null!==Nh&&0!==(d.mode&1)&&0===(d.flags&128))Gd(),ae(),d.flags|=98560,za=!1;else if(za=Dc(d),null!==J&&null!==J.dehydrated){if(null===c){if(!za)throw Error(r(318));za=d.memoizedState;za=null!==za?za.dehydrated:null;if(!za)throw Error(r(317));za[pi]=d}else ae(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;yg(d);za=!1}else null!==Th&&(Hb(Th),Th=null),za=!0;if(!za)return d.flags&65536?d:null}if(0!==
(d.flags&128))return d.lanes=n,d;J=null!==J;J!==(null!==c&&null!==c.memoizedState)&&J&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Ng.current&1)?0===oh&&(oh=3):wf()));null!==d.updateQueue&&(d.flags|=4);yg(d);return null;case 4:return bf(),Uk(c,d),null===c&&Ae(d.stateNode.containerInfo),yg(d),null;case 10:return N(d.type._context),yg(d),null;case 17:return fb(d.type)&&qc(),yg(d),null;case 19:md(Ng);za=d.memoizedState;if(null===za)return yg(d),null;J=0!==(d.flags&128);tb=za.rendering;if(null===
tb)if(J)Gh(za,!1);else{if(0!==oh||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){tb=uf(c);if(null!==tb){d.flags|=128;Gh(za,!1);J=tb.updateQueue;null!==J&&(d.updateQueue=J,d.flags|=4);d.subtreeFlags=0;J=n;for(n=d.child;null!==n;)za=n,c=J,za.flags&=14680066,tb=za.alternate,null===tb?(za.childLanes=0,za.lanes=c,za.child=null,za.subtreeFlags=0,za.memoizedProps=null,za.memoizedState=null,za.updateQueue=null,za.dependencies=null,za.stateNode=null):(za.childLanes=tb.childLanes,za.lanes=tb.lanes,za.child=
tb.child,za.subtreeFlags=0,za.deletions=null,za.memoizedProps=tb.memoizedProps,za.memoizedState=tb.memoizedState,za.updateQueue=tb.updateQueue,za.type=tb.type,c=tb.dependencies,za.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),n=n.sibling;de(Ng,Ng.current&1|2);return d.child}c=c.sibling}null!==za.tail&&Xg()>Bj&&(d.flags|=128,J=!0,Gh(za,!1),d.lanes=4194304)}else{if(!J)if(c=uf(tb),null!==c){if(d.flags|=128,J=!0,n=c.updateQueue,null!==n&&(d.updateQueue=n,d.flags|=4),Gh(za,!0),
null===za.tail&&"hidden"===za.tailMode&&!tb.alternate&&!Kg)return yg(d),null}else 2*Xg()-za.renderingStartTime>Bj&&1073741824!==n&&(d.flags|=128,J=!0,Gh(za,!1),d.lanes=4194304);za.isBackwards?(tb.sibling=d.child,d.child=tb):(n=za.last,null!==n?n.sibling=tb:d.child=tb,za.last=tb)}if(null!==za.tail)return d=za.tail,za.rendering=d,za.tail=d.sibling,za.renderingStartTime=Xg(),d.sibling=null,n=Ng.current,de(Ng,J?n&1|2:n&1),d;yg(d);return null;case 22:case 23:return te(),J=null!==d.memoizedState,null!==
c&&null!==c.memoizedState!==J&&(d.flags|=8192),J&&0!==(d.mode&1)?0!==(ai&1073741824)&&(yg(d),d.subtreeFlags&6&&(d.flags|=8192)):yg(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag));}function wh(c,d){Oe(d);switch(d.tag){case 1:return fb(d.type)&&qc(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return bf(),md(Rh),md(qh),Kf(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return ve(d),null;case 13:md(Ng);c=d.memoizedState;if(null!==c&&null!==
c.dehydrated){if(null===d.alternate)throw Error(r(340));ae()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return md(Ng),null;case 4:return bf(),null;case 10:return N(d.type._context),null;case 22:case 23:return te(),null;case 24:return null;default:return null}}function ph(c,d){var n=c.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(J){kf(c,d,J)}else n.current=null}function Xh(c,d,n){try{n()}catch(J){kf(c,d,J)}}function ci(c,d){Vk=ak;c=Bc();if(ic(c)){if("selectionStart"in
c)var n={start:c.selectionStart,end:c.selectionEnd};else a:{n=(n=c.ownerDocument)&&n.defaultView||window;var J=n.getSelection&&n.getSelection();if(J&&0!==J.rangeCount){n=J.anchorNode;var oa=J.anchorOffset,za=J.focusNode;J=J.focusOffset;try{n.nodeType,za.nodeType}catch(ke){n=null;break a}var tb=0,uc=-1,Nc=-1,zd=0,ge=0,je=c,fe=null;b:for(;;){for(var Fe;;){je!==n||0!==oa&&3!==je.nodeType||(uc=tb+oa);je!==za||0!==J&&3!==je.nodeType||(Nc=tb+J);3===je.nodeType&&(tb+=je.nodeValue.length);if(null===(Fe=je.firstChild))break;
fe=je;je=Fe}for(;;){if(je===c)break b;fe===n&&++zd===oa&&(uc=tb);fe===za&&++ge===J&&(Nc=tb);if(null!==(Fe=je.nextSibling))break;je=fe;fe=je.parentNode}je=Fe}n=-1===uc||-1===Nc?null:{start:uc,end:Nc}}else n=null}n=n||{start:0,end:0}}else n=null;Wk={focusedElem:c,selectionRange:n};ak=!1;for(Me=d;null!==Me;)if(d=Me,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,Me=c;else for(;null!==Me;){d=Me;try{var Ue=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;case 1:if(null!==
Ue){var Ye=Ue.memoizedProps,Tg=Ue.memoizedState,kd=d.stateNode,Yc=kd.getSnapshotBeforeUpdate(d.elementType===d.type?Ye:le(d.type,Ye),Tg);kd.__reactInternalSnapshotBeforeUpdate=Yc}break;case 3:var wd=d.stateNode.containerInfo;1===wd.nodeType?wd.textContent="":9===wd.nodeType&&wd.documentElement&&wd.removeChild(wd.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163));}}catch(ke){kf(d,d.return,ke)}c=d.sibling;if(null!==c){c.return=d.return;Me=c;break}Me=d.return}Ue=yl;
yl=!1;return Ue}function kh(c,d,n){var J=d.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){var oa=J=J.next;do{if((oa.tag&c)===c){var za=oa.destroy;oa.destroy=void 0;void 0!==za&&Xh(d,n,za)}oa=oa.next}while(oa!==J)}}function Hh(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var n=d=d.next;do{if((n.tag&c)===c){var J=n.create;n.destroy=J()}n=n.next}while(n!==d)}}function If(c){var d=c.ref;if(null!==d){var n=c.stateNode;switch(c.tag){case 5:c=n;break;default:c=n}"function"===typeof d?
d(c):d.current=c}}function sg(c){var d=c.alternate;null!==d&&(c.alternate=null,sg(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[pi],delete d[Nj],delete d[Kk],delete d[zl],delete d[Xk]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function Rg(c){return 5===c.tag||3===c.tag||4===c.tag}function yf(c){a:for(;;){for(;null===c.sibling;){if(null===c.return||
Rg(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function lh(c,d,n){var J=c.tag;if(5===J||6===J)c=c.stateNode,d?8===n.nodeType?n.parentNode.insertBefore(c,d):n.insertBefore(c,d):(8===n.nodeType?(d=n.parentNode,d.insertBefore(c,n)):(d=n,d.appendChild(c)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==
d.onclick||(d.onclick=zb));else if(4!==J&&(c=c.child,null!==c))for(lh(c,d,n),c=c.sibling;null!==c;)lh(c,d,n),c=c.sibling}function Bg(c,d,n){var J=c.tag;if(5===J||6===J)c=c.stateNode,d?n.insertBefore(c,d):n.appendChild(c);else if(4!==J&&(c=c.child,null!==c))for(Bg(c,d,n),c=c.sibling;null!==c;)Bg(c,d,n),c=c.sibling}function Mf(c,d,n){for(n=n.child;null!==n;)R(c,d,n),n=n.sibling}function R(c,d,n){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(Kj,n)}catch(uc){}switch(n.tag){case 5:Ph||
ph(n,d);case 6:var J=Ih,oa=ti;Ih=null;Mf(c,d,n);Ih=J;ti=oa;null!==Ih&&(ti?(c=Ih,n=n.stateNode,8===c.nodeType?c.parentNode.removeChild(n):c.removeChild(n)):Ih.removeChild(n.stateNode));break;case 18:null!==Ih&&(ti?(c=Ih,n=n.stateNode,8===c.nodeType?Ub(c.parentNode,n):1===c.nodeType&&Ub(c,n),ad(c)):Ub(Ih,n.stateNode));break;case 4:J=Ih;oa=ti;Ih=n.stateNode.containerInfo;ti=!0;Mf(c,d,n);Ih=J;ti=oa;break;case 0:case 11:case 14:case 15:if(!Ph&&(J=n.updateQueue,null!==J&&(J=J.lastEffect,null!==J))){oa=
J=J.next;do{var za=oa,tb=za.destroy;za=za.tag;void 0!==tb&&(0!==(za&2)?Xh(n,d,tb):0!==(za&4)&&Xh(n,d,tb));oa=oa.next}while(oa!==J)}Mf(c,d,n);break;case 1:if(!Ph&&(ph(n,d),J=n.stateNode,"function"===typeof J.componentWillUnmount))try{J.props=n.memoizedProps,J.state=n.memoizedState,J.componentWillUnmount()}catch(uc){kf(n,d,uc)}Mf(c,d,n);break;case 21:Mf(c,d,n);break;case 22:n.mode&1?(Ph=(J=Ph)||null!==n.memoizedState,Mf(c,d,n),Ph=J):Mf(c,d,n);break;default:Mf(c,d,n)}}function wa(c){var d=c.updateQueue;
if(null!==d){c.updateQueue=null;var n=c.stateNode;null===n&&(n=c.stateNode=new am);d.forEach(function(J){var oa=Yg.bind(null,c,J);n.has(J)||(n.add(J),J.then(oa,oa))})}}function Ua(c,d){var n=d.deletions;if(null!==n)for(var J=0;J<n.length;J++){var oa=n[J];try{var za=c,tb=d,uc=tb;a:for(;null!==uc;){switch(uc.tag){case 5:Ih=uc.stateNode;ti=!1;break a;case 3:Ih=uc.stateNode.containerInfo;ti=!0;break a;case 4:Ih=uc.stateNode.containerInfo;ti=!0;break a}uc=uc.return}if(null===Ih)throw Error(r(160));R(za,
tb,oa);Ih=null;ti=!1;var Nc=oa.alternate;null!==Nc&&(Nc.return=null);oa.return=null}catch(zd){kf(oa,d,zd)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)q(d,c),d=d.sibling}function q(c,d){var n=c.alternate,J=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ua(d,c);P(c);if(J&4){try{kh(3,c,c.return),Hh(3,c)}catch(Ye){kf(c,c.return,Ye)}try{kh(5,c,c.return)}catch(Ye){kf(c,c.return,Ye)}}break;case 1:Ua(d,c);P(c);J&512&&null!==n&&ph(n,n.return);break;case 5:Ua(d,c);P(c);J&512&&null!==n&&ph(n,n.return);
if(c.flags&32){var oa=c.stateNode;try{Ea(oa,"")}catch(Ye){kf(c,c.return,Ye)}}if(J&4&&(oa=c.stateNode,null!=oa)){var za=c.memoizedProps,tb=null!==n?n.memoizedProps:za,uc=c.type,Nc=c.updateQueue;c.updateQueue=null;if(null!==Nc)try{"input"===uc&&"radio"===za.type&&null!=za.name&&lb(oa,za);p(uc,tb);var zd=p(uc,za);for(tb=0;tb<Nc.length;tb+=2){var ge=Nc[tb],je=Nc[tb+1];"style"===ge?ba(oa,je):"dangerouslySetInnerHTML"===ge?hg(oa,je):"children"===ge?Ea(oa,je):Ac(oa,ge,je,zd)}switch(uc){case "input":mb(oa,
za);break;case "textarea":ob(oa,za);break;case "select":var fe=oa._wrapperState.wasMultiple;oa._wrapperState.wasMultiple=!!za.multiple;var Fe=za.value;null!=Fe?pb(oa,!!za.multiple,Fe,!1):fe!==!!za.multiple&&(null!=za.defaultValue?pb(oa,!!za.multiple,za.defaultValue,!0):pb(oa,!!za.multiple,za.multiple?[]:"",!1))}oa[Nj]=za}catch(Ye){kf(c,c.return,Ye)}}break;case 6:Ua(d,c);P(c);if(J&4){if(null===c.stateNode)throw Error(r(162));oa=c.stateNode;za=c.memoizedProps;try{oa.nodeValue=za}catch(Ye){kf(c,c.return,
Ye)}}break;case 3:Ua(d,c);P(c);if(J&4&&null!==n&&n.memoizedState.isDehydrated)try{ad(d.containerInfo)}catch(Ye){kf(c,c.return,Ye)}break;case 4:Ua(d,c);P(c);break;case 13:Ua(d,c);P(c);oa=c.child;oa.flags&8192&&(za=null!==oa.memoizedState,oa.stateNode.isHidden=za,!za||null!==oa.alternate&&null!==oa.alternate.memoizedState||(Yk=Xg()));J&4&&wa(c);break;case 22:ge=null!==n&&null!==n.memoizedState;c.mode&1?(Ph=(zd=Ph)||ge,Ua(d,c),Ph=zd):Ua(d,c);P(c);if(J&8192){zd=null!==c.memoizedState;if((c.stateNode.isHidden=
zd)&&!ge&&0!==(c.mode&1))for(Me=c,ge=c.child;null!==ge;){for(je=Me=ge;null!==Me;){fe=Me;Fe=fe.child;switch(fe.tag){case 0:case 11:case 14:case 15:kh(4,fe,fe.return);break;case 1:ph(fe,fe.return);var Ue=fe.stateNode;if("function"===typeof Ue.componentWillUnmount){J=fe;n=fe.return;try{d=J,Ue.props=d.memoizedProps,Ue.state=d.memoizedState,Ue.componentWillUnmount()}catch(Ye){kf(J,n,Ye)}}break;case 5:ph(fe,fe.return);break;case 22:if(null!==fe.memoizedState){F(je);continue}}null!==Fe?(Fe.return=fe,Me=
Fe):F(je)}ge=ge.sibling}ge=null;je=c;a:for(;;){if(5===je.tag){if(null===ge){ge=je;try{oa=je.stateNode,zd?(za=oa.style,"function"===typeof za.setProperty?za.setProperty("display","none","important"):za.display="none"):(uc=je.stateNode,Nc=je.memoizedProps.style,tb=void 0!==Nc&&null!==Nc&&Nc.hasOwnProperty("display")?Nc.display:null,uc.style.display=db("display",tb))}catch(Ye){kf(c,c.return,Ye)}}}else if(6===je.tag){if(null===ge)try{je.stateNode.nodeValue=zd?"":je.memoizedProps}catch(Ye){kf(c,c.return,
Ye)}}else if((22!==je.tag&&23!==je.tag||null===je.memoizedState||je===c)&&null!==je.child){je.child.return=je;je=je.child;continue}if(je===c)break a;for(;null===je.sibling;){if(null===je.return||je.return===c)break a;ge===je&&(ge=null);je=je.return}ge===je&&(ge=null);je.sibling.return=je.return;je=je.sibling}}break;case 19:Ua(d,c);P(c);J&4&&wa(c);break;case 21:break;default:Ua(d,c),P(c)}}function P(c){var d=c.flags;if(d&2){try{a:{for(var n=c.return;null!==n;){if(Rg(n))break a;n=n.return}throw Error(r(160));
}switch(n.tag){case 5:var J=n.stateNode;n.flags&32&&(Ea(J,""),n.flags&=-33);var oa=yf(c);Bg(c,oa,J);break;case 3:case 4:var za=n.stateNode.containerInfo,tb=yf(c);lh(c,tb,za);break;default:throw Error(r(161));}}catch(uc){kf(c,c.return,uc)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function ia(c,d,n){Me=c;xa(c,d,n)}function xa(c,d,n){for(var J=0!==(c.mode&1);null!==Me;){var oa=Me,za=oa.child;if(22===oa.tag&&J){var tb=null!==oa.memoizedState||tk;if(!tb){var uc=oa.alternate,Nc=null!==uc&&null!==uc.memoizedState||
Ph;uc=tk;var zd=Ph;tk=tb;if((Ph=Nc)&&!zd)for(Me=oa;null!==Me;)tb=Me,Nc=tb.child,22===tb.tag&&null!==tb.memoizedState?ha(oa):null!==Nc?(Nc.return=tb,Me=Nc):ha(oa);for(;null!==za;)Me=za,xa(za,d,n),za=za.sibling;Me=oa;tk=uc;Ph=zd}t(c,d,n)}else 0!==(oa.subtreeFlags&8772)&&null!==za?(za.return=oa,Me=za):t(c,d,n)}}function t(c){for(;null!==Me;){var d=Me;if(0!==(d.flags&8772)){var n=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:Ph||Hh(5,d);break;case 1:var J=d.stateNode;if(d.flags&
4&&!Ph)if(null===n)J.componentDidMount();else{var oa=d.elementType===d.type?n.memoizedProps:le(d.type,n.memoizedProps);J.componentDidUpdate(oa,n.memoizedState,J.__reactInternalSnapshotBeforeUpdate)}var za=d.updateQueue;null!==za&&bd(d,za,J);break;case 3:var tb=d.updateQueue;if(null!==tb){n=null;if(null!==d.child)switch(d.child.tag){case 5:n=d.child.stateNode;break;case 1:n=d.child.stateNode}bd(d,tb,n)}break;case 5:var uc=d.stateNode;if(null===n&&d.flags&4){n=uc;var Nc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":Nc.autoFocus&&
n.focus();break;case "img":Nc.src&&(n.src=Nc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var zd=d.alternate;if(null!==zd){var ge=zd.memoizedState;if(null!==ge){var je=ge.dehydrated;null!==je&&ad(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163));}Ph||d.flags&512&&If(d)}catch(fe){kf(d,d.return,fe)}}if(d===c){Me=null;break}n=d.sibling;if(null!==n){n.return=d.return;Me=n;break}Me=d.return}}function F(c){for(;null!==
Me;){var d=Me;if(d===c){Me=null;break}var n=d.sibling;if(null!==n){n.return=d.return;Me=n;break}Me=d.return}}function ha(c){for(;null!==Me;){var d=Me;try{switch(d.tag){case 0:case 11:case 15:var n=d.return;try{Hh(4,d)}catch(Nc){kf(d,n,Nc)}break;case 1:var J=d.stateNode;if("function"===typeof J.componentDidMount){var oa=d.return;try{J.componentDidMount()}catch(Nc){kf(d,oa,Nc)}}var za=d.return;try{If(d)}catch(Nc){kf(d,za,Nc)}break;case 5:var tb=d.return;try{If(d)}catch(Nc){kf(d,tb,Nc)}}}catch(Nc){kf(d,
d.return,Nc)}if(d===c){Me=null;break}var uc=d.sibling;if(null!==uc){uc.return=d.return;Me=uc;break}Me=d.return}}function l(){return 0!==(Vf&6)?Xg():-1!==Cj?Cj:Cj=Xg()}function y(c){if(0===(c.mode&1))return 1;if(0!==(Vf&2)&&0!==Jh)return Jh&-Jh;if(null!==Al.transition)return 0===Dj&&(Dj=wc()),Dj;c=og;if(0!==c)return c;c=window.event;return c=void 0===c?16:ub(c.type)}function ca(c,d,n,J){if(50<Ej)throw Ej=0,ij=null,Error(r(185));Ec(c,n,J);if(0===(Vf&2)||c!==uh)c===uh&&(0===(Vf&2)&&(xh|=n),4===oh&&Sb(c,
Jh)),pa(c,J),1===n&&0===Vf&&0===(d.mode&1)&&(Bj=Xg()+500,zi&&Qd())}function pa(c,d){var n=c.callbackNode;Gb(c,d);var J=Ba(c,c===uh?Jh:0);if(0===J)null!==n&&Oi(n),c.callbackNode=null,c.callbackPriority=0;else if(d=J&-J,c.callbackPriority!==d){null!=n&&Oi(n);if(1===d)0===c.tag?jd(Bd.bind(null,c)):qd(Bd.bind(null,c)),Bl(function(){0===(Vf&6)&&Qd()}),n=null;else{switch(Sd(J)){case 1:n=Dk;break;case 4:n=ck;break;case 16:n=dj;break;case 536870912:n=Ek;break;default:n=dj}n=cg(n,Va.bind(null,c))}c.callbackPriority=
d;c.callbackNode=n}}function Va(c,d){Cj=-1;Dj=0;if(0!==(Vf&6))throw Error(r(327));var n=c.callbackNode;if(ig()&&c.callbackNode!==n)return null;var J=Ba(c,c===uh?Jh:0);if(0===J)return null;if(0!==(J&30)||0!==(J&c.expiredLanes)||d)d=Ig(c,J);else{d=J;var oa=Vf;Vf|=2;var za=xe();if(uh!==c||Jh!==d)Pi=null,Bj=Xg()+500,Re(c,d);do try{for(;null!==mh&&!Zk();)af(mh);break}catch(uc){pe(c,uc)}while(1);gj=Bi=xj=null;uk.current=za;Vf=oa;null!==mh?d=0:(uh=null,Jh=0,d=oh)}if(0!==d){2===d&&(oa=tc(c),0!==oa&&(J=oa,
d=$a(c,oa)));if(1===d)throw n=tg,Re(c,0),Sb(c,J),pa(c,Xg()),n;if(6===d)Sb(c,J);else{oa=c.current.alternate;if(0===(J&30)&&!fc(oa)&&(d=Ig(c,J),2===d&&(za=tc(c),0!==za&&(J=za,d=$a(c,za))),1===d))throw n=tg,Re(c,0),Sb(c,J),pa(c,Xg()),n;c.finishedWork=oa;c.finishedLanes=J;switch(d){case 0:case 1:throw Error(r(345));case 2:Sf(c,Zg,Pi);break;case 3:Sb(c,J);if((J&130023424)===J&&(d=Yk+500-Xg(),10<d)){if(0!==Ba(c,0))break;oa=c.suspendedLanes;if((oa&J)!==J){l();c.pingedLanes|=c.suspendedLanes&oa;break}c.timeoutHandle=
$k(Sf.bind(null,c,Zg,Pi),d);break}Sf(c,Zg,Pi);break;case 4:Sb(c,J);if((J&4194240)===J)break;d=c.eventTimes;for(oa=-1;0<J;){var tb=31-mi(J);za=1<<tb;tb=d[tb];tb>oa&&(oa=tb);J&=~za}J=oa;J=Xg()-J;J=(120>J?120:480>J?480:1080>J?1080:1920>J?1920:3E3>J?3E3:4320>J?4320:1960*bm(J/1960))-J;if(10<J){c.timeoutHandle=$k(Sf.bind(null,c,Zg,Pi),J);break}Sf(c,Zg,Pi);break;case 5:Sf(c,Zg,Pi);break;default:throw Error(r(329));}}}pa(c,Xg());return c.callbackNode===n?Va.bind(null,c):null}function $a(c,d){var n=Sj;c.current.memoizedState.isDehydrated&&
(Re(c,d).flags|=256);c=Ig(c,d);2!==c&&(d=Zg,Zg=n,null!==d&&Hb(d));return c}function Hb(c){null===Zg?Zg=c:Zg.push.apply(Zg,c)}function fc(c){for(var d=c;;){if(d.flags&16384){var n=d.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var J=0;J<n.length;J++){var oa=n[J],za=oa.getSnapshot;oa=oa.value;try{if(!ni(za(),oa))return!1}catch(tb){return!1}}}n=d.child;if(d.subtreeFlags&16384&&null!==n)n.return=d,d=n;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function Sb(c,d){d&=~ui;d&=~xh;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var n=31-mi(d),J=1<<n;c[n]=-1;d&=~J}}function Bd(c){if(0!==(Vf&6))throw Error(r(327));ig();var d=Ba(c,0);if(0===(d&1))return pa(c,Xg()),null;var n=Ig(c,d);if(0!==c.tag&&2===n){var J=tc(c);0!==J&&(d=J,n=$a(c,J))}if(1===n)throw n=tg,Re(c,0),Sb(c,d),pa(c,Xg()),n;if(6===n)throw Error(r(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;Sf(c,Zg,Pi);pa(c,Xg());return null}
function Zc(c,d){var n=Vf;Vf|=1;try{return c(d)}finally{Vf=n,0===Vf&&(Bj=Xg()+500,zi&&Qd())}}function Id(c){null!==vi&&0===vi.tag&&0===(Vf&6)&&ig();var d=Vf;Vf|=1;var n=ji.transition,J=og;try{if(ji.transition=null,og=1,c)return c()}finally{og=J,ji.transition=n,Vf=d,0===(Vf&6)&&Qd()}}function te(){ai=$h.current;md($h)}function Re(c,d){c.finishedWork=null;c.finishedLanes=0;var n=c.timeoutHandle;-1!==n&&(c.timeoutHandle=-1,cm(n));if(null!==mh)for(n=mh.return;null!==n;){var J=n;Oe(J);switch(J.tag){case 1:J=
J.type.childContextTypes;null!==J&&void 0!==J&&qc();break;case 3:bf();md(Rh);md(qh);Kf();break;case 5:ve(J);break;case 4:bf();break;case 13:md(Ng);break;case 19:md(Ng);break;case 10:N(J.type._context);break;case 22:case 23:te()}n=n.return}uh=c;mh=c=rh(c.current,null);Jh=ai=d;oh=0;tg=null;ui=xh=Wf=0;Zg=Sj=null;if(null!==Xi){for(d=0;d<Xi.length;d++)if(n=Xi[d],J=n.interleaved,null!==J){n.interleaved=null;var oa=J.next,za=n.pending;if(null!==za){var tb=za.next;za.next=oa;J.next=tb}n.pending=J}Xi=null}return c}
function pe(c,d){do{var n=mh;try{gj=Bi=xj=null;pk.current=Qj;if(qk){for(var J=pg.memoizedState;null!==J;){var oa=J.queue;null!==oa&&(oa.pending=null);J=J.next}qk=!1}$i=0;th=Ug=pg=null;Pj=!1;zj=0;al.current=null;if(null===n||null===n.return){oh=1;tg=d;mh=null;break}a:{var za=c,tb=n.return,uc=n,Nc=d;d=Jh;uc.flags|=32768;if(null!==Nc&&"object"===typeof Nc&&"function"===typeof Nc.then){var zd=Nc,ge=uc,je=ge.tag;if(0===(ge.mode&1)&&(0===je||11===je||15===je)){var fe=ge.alternate;fe?(ge.updateQueue=fe.updateQueue,
ge.memoizedState=fe.memoizedState,ge.lanes=fe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Fe=rg(tb);if(null!==Fe){Fe.flags&=-257;gg(Fe,tb,uc,za,d);Fe.mode&1&&fg(za,zd,d);d=Fe;Nc=zd;var Ue=d.updateQueue;if(null===Ue){var Ye=new Set;Ye.add(Nc);d.updateQueue=Ye}else Ue.add(Nc);break a}else{if(0===(d&1)){fg(za,zd,d);wf();break a}Nc=Error(r(426))}}else if(Kg&&uc.mode&1){var Tg=rg(tb);if(null!==Tg){0===(Tg.flags&65536)&&(Tg.flags|=256);gg(Tg,tb,uc,za,d);Yd(Ie(Nc,uc));break a}}za=Nc=Ie(Nc,uc);
4!==oh&&(oh=2);null===Sj?Sj=[za]:Sj.push(za);za=tb;do{switch(za.tag){case 3:za.flags|=65536;d&=-d;za.lanes|=d;var kd=Df(za,Nc,d);$c(za,kd);break a;case 1:uc=Nc;var Yc=za.type,wd=za.stateNode;if(0===(za.flags&128)&&("function"===typeof Yc.getDerivedStateFromError||null!==wd&&"function"===typeof wd.componentDidCatch&&(null===Mi||!Mi.has(wd)))){za.flags|=65536;d&=-d;za.lanes|=d;var ke=zf(za,uc,d);$c(za,ke);break a}}za=za.return}while(null!==za)}$e(n)}catch(Ne){d=Ne;mh===n&&null!==n&&(mh=n.return);continue}break}while(1)}
function xe(){var c=uk.current;uk.current=Qj;return null===c?Qj:c}function wf(){if(0===oh||3===oh||2===oh)oh=4;null===uh||0===(Wf&268435455)&&0===(xh&268435455)||Sb(uh,Jh)}function Ig(c,d){var n=Vf;Vf|=2;var J=xe();if(uh!==c||Jh!==d)Pi=null,Re(c,d);do try{for(;null!==mh;)af(mh);break}catch(oa){pe(c,oa)}while(1);gj=Bi=xj=null;Vf=n;uk.current=J;if(null!==mh)throw Error(r(261));uh=null;Jh=0;return oh}function af(c){var d=dm(c.alternate,c,ai);c.memoizedProps=c.pendingProps;null===d?$e(c):mh=d;al.current=
null}function $e(c){var d=c;do{var n=d.alternate;c=d.return;if(0===(d.flags&32768)){if(n=Oh(n,d,ai),null!==n){mh=n;return}}else{n=wh(n,d);if(null!==n){n.flags&=32767;mh=n;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{oh=6;mh=null;return}}d=d.sibling;if(null!==d){mh=d;return}mh=d=c}while(null!==d);0===oh&&(oh=5)}function Sf(c,d,n){var J=og,oa=ji.transition;try{ji.transition=null,og=1,Og(c,d,n,J)}finally{ji.transition=oa,og=J}return null}function Og(c,d,n,J){do ig();while(null!==
vi);if(0!==(Vf&6))throw Error(r(327));n=c.finishedWork;var oa=c.finishedLanes;if(null===n)return null;c.finishedWork=null;c.finishedLanes=0;if(n===c.current)throw Error(r(177));c.callbackNode=null;c.callbackPriority=0;var za=n.lanes|n.childLanes;zc(c,za);c===uh&&(mh=uh=null,Jh=0);0===(n.subtreeFlags&2064)&&0===(n.flags&2064)||Tj||(Tj=!0,cg(dj,function(){ig();return null}));za=0!==(n.flags&15990);if(0!==(n.subtreeFlags&15990)||za){za=ji.transition;ji.transition=null;var tb=og;og=1;var uc=Vf;Vf|=4;
al.current=null;ci(c,n);q(n,c);Jc(Wk);ak=!!Vk;Wk=Vk=null;c.current=n;ia(n,c,oa);em();Vf=uc;og=tb;ji.transition=za}else c.current=n;Tj&&(Tj=!1,vi=c,aj=oa);za=c.pendingLanes;0===za&&(Mi=null);Za(n.stateNode,J);pa(c,Xg());if(null!==d)for(J=c.onRecoverableError,n=0;n<d.length;n++)oa=d[n],J(oa.value,{componentStack:oa.stack,digest:oa.digest});if(Rj)throw Rj=!1,c=sk,sk=null,c;0!==(aj&1)&&0!==c.tag&&ig();za=c.pendingLanes;0!==(za&1)?c===ij?Ej++:(Ej=0,ij=c):Ej=0;Qd();return null}function ig(){if(null!==vi){var c=
Sd(aj),d=ji.transition,n=og;try{ji.transition=null;og=16>c?16:c;if(null===vi)var J=!1;else{c=vi;vi=null;aj=0;if(0!==(Vf&6))throw Error(r(331));var oa=Vf;Vf|=4;for(Me=c.current;null!==Me;){var za=Me,tb=za.child;if(0!==(Me.flags&16)){var uc=za.deletions;if(null!==uc){for(var Nc=0;Nc<uc.length;Nc++){var zd=uc[Nc];for(Me=zd;null!==Me;){var ge=Me;switch(ge.tag){case 0:case 11:case 15:kh(8,ge,za)}var je=ge.child;if(null!==je)je.return=ge,Me=je;else for(;null!==Me;){ge=Me;var fe=ge.sibling,Fe=ge.return;
sg(ge);if(ge===zd){Me=null;break}if(null!==fe){fe.return=Fe;Me=fe;break}Me=Fe}}}var Ue=za.alternate;if(null!==Ue){var Ye=Ue.child;if(null!==Ye){Ue.child=null;do{var Tg=Ye.sibling;Ye.sibling=null;Ye=Tg}while(null!==Ye)}}Me=za}}if(0!==(za.subtreeFlags&2064)&&null!==tb)tb.return=za,Me=tb;else a:for(;null!==Me;){za=Me;if(0!==(za.flags&2048))switch(za.tag){case 0:case 11:case 15:kh(9,za,za.return)}var kd=za.sibling;if(null!==kd){kd.return=za.return;Me=kd;break a}Me=za.return}}var Yc=c.current;for(Me=Yc;null!==
Me;){tb=Me;var wd=tb.child;if(0!==(tb.subtreeFlags&2064)&&null!==wd)wd.return=tb,Me=wd;else a:for(tb=Yc;null!==Me;){uc=Me;if(0!==(uc.flags&2048))try{switch(uc.tag){case 0:case 11:case 15:Hh(9,uc)}}catch(Ne){kf(uc,uc.return,Ne)}if(uc===tb){Me=null;break a}var ke=uc.sibling;if(null!==ke){ke.return=uc.return;Me=ke;break a}Me=uc.return}}Vf=oa;Qd();if(wi&&"function"===typeof wi.onPostCommitFiberRoot)try{wi.onPostCommitFiberRoot(Kj,c)}catch(Ne){}J=!0}return J}finally{og=n,ji.transition=d}}return!1}function Nf(c,
d,n){d=Ie(n,d);d=Df(c,d,1);c=sc(c,d,1);d=l();null!==c&&(Ec(c,1,d),pa(c,d))}function kf(c,d,n){if(3===c.tag)Nf(c,c,n);else for(;null!==d;){if(3===d.tag){Nf(d,c,n);break}else if(1===d.tag){var J=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof J.componentDidCatch&&(null===Mi||!Mi.has(J))){c=Ie(n,c);c=zf(d,c,1);d=sc(d,c,1);c=l();null!==d&&(Ec(d,1,c),pa(d,c));break}}d=d.return}}function vf(c,d,n){var J=c.pingCache;null!==J&&J.delete(d);d=l();c.pingedLanes|=c.suspendedLanes&
n;uh===c&&(Jh&n)===n&&(4===oh||3===oh&&(Jh&130023424)===Jh&&500>Xg()-Yk?Re(c,0):ui|=n);pa(c,d)}function Qf(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Uj,Uj<<=1,0===(Uj&130023424)&&(Uj=4194304)));var n=l();c=Pa(c,d);null!==c&&(Ec(c,d,n),pa(c,n))}function Pf(c){var d=c.memoizedState,n=0;null!==d&&(n=d.retryLane);Qf(c,n)}function Yg(c,d){var n=0;switch(c.tag){case 13:var J=c.stateNode,oa=c.memoizedState;null!==oa&&(n=oa.retryLane);break;case 19:J=c.stateNode;break;default:throw Error(r(314));}null!==J&&J.delete(d);
Qf(c,n)}function cg(c,d){return lk(c,d)}function Kh(c,d,n,J){this.tag=c;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=J;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function kg(c,d,n,J){return new Kh(c,d,n,J)}function ih(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function ug(c){if("function"===typeof c)return ih(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Af)return 11;if(c===zh)return 14}return 2}function rh(c,d){var n=c.alternate;null===n?(n=kg(c.tag,d,c.key,c.mode),n.elementType=c.elementType,n.type=c.type,n.stateNode=c.stateNode,n.alternate=c,c.alternate=n):(n.pendingProps=d,n.type=c.type,n.flags=0,n.subtreeFlags=0,n.deletions=null);n.flags=c.flags&14680064;n.childLanes=c.childLanes;n.lanes=c.lanes;n.child=c.child;n.memoizedProps=c.memoizedProps;
n.memoizedState=c.memoizedState;n.updateQueue=c.updateQueue;d=c.dependencies;n.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};n.sibling=c.sibling;n.index=c.index;n.ref=c.ref;return n}function qi(c,d,n,J,oa,za){var tb=2;J=c;if("function"===typeof c)ih(c)&&(tb=1);else if("string"===typeof c)tb=5;else a:switch(c){case rd:return ii(n.children,oa,za,d);case xd:tb=8;oa|=8;break;case we:return c=kg(12,n,d,oa|2),c.elementType=we,c.lanes=za,c;case Xf:return c=kg(13,n,d,oa),c.elementType=
Xf,c.lanes=za,c;case jg:return c=kg(19,n,d,oa),c.elementType=jg,c.lanes=za,c;case rf:return Di(n,oa,za,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case ne:tb=10;break a;case Xe:tb=9;break a;case Af:tb=11;break a;case zh:tb=14;break a;case dg:tb=16;J=null;break a}throw Error(r(130,null==c?c:typeof c,""));}d=kg(tb,n,d,oa);d.elementType=c;d.type=J;d.lanes=za;return d}function ii(c,d,n,J){c=kg(7,c,J,d);c.lanes=n;return c}function Di(c,d,n,J){c=kg(22,c,J,d);c.elementType=rf;c.lanes=
n;c.stateNode={isHidden:!1};return c}function Ki(c,d,n){c=kg(6,c,null,d);c.lanes=n;return c}function vg(c,d,n){d=kg(4,null!==c.children?c.children:[],c.key,d);d.lanes=n;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function jj(c,d,n,J,oa){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=
0;this.eventTimes=vc(0);this.expirationTimes=vc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=vc(0);this.identifierPrefix=J;this.onRecoverableError=oa;this.mutableSourceEagerHydrationData=null}function bj(c,d,n,J,oa,za,tb,uc,Nc){c=new jj(c,d,n,uc,Nc);1===d?(d=1,!0===za&&(d|=8)):d=0;za=kg(3,null,null,d);c.current=za;za.stateNode=c;za.memoizedState={element:J,isDehydrated:n,cache:null,transitions:null,
pendingSuspenseBoundaries:null};dc(za);return c}function di(c,d,n){var J=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:nc,key:null==J?null:""+J,children:c,containerInfo:d,implementation:n}}function kj(c){if(!c)return $g;c=c._reactInternals;a:{if(Aa(c)!==c||1!==c.tag)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(fb(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(r(171));
}if(1===c.tag){var n=c.type;if(fb(n))return Kc(c,n,d)}return d}function x(c,d,n,J,oa,za,tb,uc,Nc){c=bj(n,J,!0,c,oa,za,tb,uc,Nc);c.context=kj(null);n=c.current;J=l();oa=y(n);za=rc(J,oa);za.callback=void 0!==d&&null!==d?d:null;sc(n,za,oa);c.current.lanes=oa;Ec(c,oa,J);pa(c,J);return c}function U(c,d,n,J){var oa=d.current,za=l(),tb=y(oa);n=kj(n);null===d.context?d.context=n:d.pendingContext=n;d=rc(za,tb);d.payload={element:c};J=void 0===J?null:J;null!==J&&(d.callback=J);c=sc(oa,d,tb);null!==c&&(ca(c,
oa,tb,za),Ic(c,oa,tb));return tb}function fa(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Ma(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var n=c.retryLane;c.retryLane=0!==n&&n<d?n:d}}function xb(c,d){Ma(c,d);(c=c.alternate)&&Ma(c,d)}function Db(){return null}function Qb(c){this._internalRoot=c}function jc(c){this._internalRoot=c}function Vc(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}
function Kd(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Ud(){}function cd(c,d,n,J,oa){if(oa){if("function"===typeof J){var za=J;J=function(){var zd=fa(tb);za.call(zd)}}var tb=x(d,J,c,0,null,!1,!1,"",Ud);c._reactRootContainer=tb;c[yi]=tb.current;Ae(8===c.nodeType?c.parentNode:c);Id();return tb}for(;oa=c.lastChild;)c.removeChild(oa);if("function"===typeof J){var uc=J;J=function(){var zd=fa(Nc);uc.call(zd)}}var Nc=
bj(c,0,!1,null,null,!1,!1,"",Ud);c._reactRootContainer=Nc;c[yi]=Nc.current;Ae(8===c.nodeType?c.parentNode:c);Id(function(){U(d,Nc,n,J)});return Nc}function ie(c,d,n,J,oa){var za=n._reactRootContainer;if(za){var tb=za;if("function"===typeof oa){var uc=oa;oa=function(){var Nc=fa(tb);uc.call(Nc)}}U(d,tb,c,oa)}else tb=cd(n,d,c,oa,J);return fa(tb)}var Be=Cb(2),Ve=Cb(5),w=new Set,S={},aa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Da=Object.prototype.hasOwnProperty,sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb={},Kb={},Lb={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Lb[c]=
new oc(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];Lb[d]=new oc(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Lb[c]=new oc(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Lb[c]=new oc(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Lb[c]=
new oc(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Lb[c]=new oc(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Lb[c]=new oc(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Lb[c]=new oc(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Lb[c]=new oc(c,5,!1,c.toLowerCase(),null,!1,!1)});var Mc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(Mc,kc);Lb[d]=new oc(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(Mc,kc);Lb[d]=new oc(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(Mc,kc);Lb[d]=new oc(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Lb[c]=new oc(c,1,!1,c.toLowerCase(),null,!1,!1)});Lb.xlinkHref=
new oc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Lb[c]=new oc(c,1,!1,c.toLowerCase(),null,!0,!0)});var Ed=Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),nc=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),
Xf=Symbol.for("react.suspense"),jg=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),dg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var rf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Eg=Symbol.iterator,ng=Object.assign,Je,me=!1,Ke=Array.isArray,qe,hg=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,n,J,oa){MSApp.execUnsafeLocalFunction(function(){return c(d,
n,J,oa)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{qe=qe||document.createElement("div");qe.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=qe.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),Jg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cg=["Webkit","ms","Moz","O"];Object.keys(Jg).forEach(function(c){Cg.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);Jg[d]=Jg[c]})});var fh=ng({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Lh=null,li=null,nj=null,oj=null,Hj=!1,hk=!1;if(aa)try{var lj={};Object.defineProperty(lj,"passive",{get:function(){hk=!0}});window.addEventListener("test",lj,lj);window.removeEventListener("test",lj,lj)}catch(c){hk=!1}var Qh=!1,Ij=null,Jj=!1,Xj=null,Nl={onError:function(c){Qh=!0;Ij=c}},lk=Ve.unstable_scheduleCallback,
Oi=Ve.unstable_cancelCallback,Zk=Ve.unstable_shouldYield,em=Ve.unstable_requestPaint,Xg=Ve.unstable_now,Ck=Ve.unstable_getCurrentPriorityLevel,Dk=Ve.unstable_ImmediatePriority,ck=Ve.unstable_UserBlockingPriority,dj=Ve.unstable_NormalPriority,nl=Ve.unstable_LowPriority,Ek=Ve.unstable_IdlePriority,Kj=null,wi=null,mi=Math.clz32?Math.clz32:Wa,il=Math.log,Ol=Math.LN2,Lj=64,Uj=4194304,og=0,Yj=!1,Zj=[],Si=null,Fi=null,Ti=null,pj=new Map,qj=new Map,Gi=[],ll="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
rj=Ed.ReactCurrentBatchConfig,ak=!0,bk=null,Ui=null,Fk=null,dk=null,mj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fg=bb(mj),Sh=ng({},mj,{view:0,detail:0}),Pk=bb(Sh),cj,vk,Vj,wk=ng({},Sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Vj&&(Vj&&"mousemove"===c.type?(cj=c.screenX-Vj.screenX,vk=c.screenY-Vj.screenY):vk=cj=0,Vj=c);return cj},movementY:function(c){return"movementY"in c?c.movementY:vk}}),Mk=bb(wk),Cl=ng({},wk,{dataTransfer:0}),Nk=bb(Cl),xk=ng({},Sh,{relatedTarget:0}),Lk=bb(xk),bl=ng({},mj,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=bb(bl),fm=ng({},mj,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),jk=bb(fm),gm=ng({},mj,{data:0}),rl=bb(gm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},jm=ng({},Sh,{key:function(c){if(c.key){var d=hm[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=H(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?im[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eb,charCode:function(c){return"keypress"===c.type?H(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?H(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Tl=bb(jm),cl=ng({},wk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=bb(cl),km=ng({},Sh,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eb}),Ul=bb(km),lm=ng({},mj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ok=bb(lm),dl=ng({},wk,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=bb(dl),sf=[9,13,27,32],ee=aa&&"CompositionEvent"in window,eh=null;aa&&"documentMode"in document&&(eh=document.documentMode);
var Wi=aa&&"TextEvent"in window&&!eh,Hk=aa&&(!ee||eh&&8<eh&&11>=eh),Gk=String.fromCharCode(32),ek=!1,Hi=!1,Rl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ej=null,sj=null,Yh=!1;if(aa){if(aa){var Fj="oninput"in document;if(!Fj){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;");Fj="function"===typeof Dl.oninput}var Wj=Fj}else Wj=!1;Yh=Wj&&(!document.documentMode||9<document.documentMode)}var ni=
"function"===typeof Object.is?Object.is:Z,kk=aa&&"documentMode"in document&&11>=document.documentMode,tj=null,Ik=null,Mj=null,Ah=!1,Vi={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},Jk={},fk={};aa&&(fk=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),
"TransitionEvent"in window||delete Vi.transitionend.transition);for(var oi=vd("animationend"),ik=vd("animationiteration"),ol=vd("animationstart"),fj=vd("transitionend"),xi=new Map,el="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
fl=0;fl<el.length;fl++){var ki=el[fl],yk=ki.toLowerCase(),El=ki[0].toUpperCase()+ki.slice(1);Jd(yk,"on"+El)}Jd(oi,"onAnimationEnd");Jd(ik,"onAnimationIteration");Jd(ol,"onAnimationStart");Jd("dblclick","onDoubleClick");Jd("focusin","onFocus");Jd("focusout","onBlur");Jd(fj,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));g("onBeforeInput",["compositionend","keypress","textInput","paste"]);g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Sl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aj)),gk="_reactListening"+Math.random().toString(36).slice(2),Wl=/\r\n?/g,Xl=/\u0000|\uFFFD/g,Vk=null,Wk=null,$k="function"===typeof setTimeout?setTimeout:void 0,cm="function"===typeof clearTimeout?clearTimeout:void 0,zk="function"===typeof Promise?Promise:void 0,Bl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof zk?function(c){return zk.resolve(null).then(c).catch(Cc)}:$k,Qi=Math.random().toString(36).slice(2),
pi="__reactFiber$"+Qi,Nj="__reactProps$"+Qi,yi="__reactContainer$"+Qi,Kk="__reactEvents$"+Qi,zl="__reactListeners$"+Qi,Xk="__reactHandles$"+Qi,Qk=[],uj=-1,$g={},qh=Tc($g),Rh=Tc(!1),Ii=$g,gh=null,zi=!1,Rk=!1,vj=[],gi=0,nk=null,mk=0,zg=[],Zh=0,Ai=null,hi=1,Ji="",Mh=null,Nh=null,Kg=!1,Th=null,Al=Ed.ReactCurrentBatchConfig,wj=Tc(null),xj=null,Bi=null,gj=null,Xi=null,Yi=!1,sl=(new Be.Component).refs,Oj={isMounted:function(c){return(c=c._reactInternals)?Aa(c)===c:!1},enqueueSetState:function(c,d,n){c=c._reactInternals;
var J=l(),oa=y(c),za=rc(J,oa);za.payload=d;void 0!==n&&null!==n&&(za.callback=n);d=sc(c,za,oa);null!==d&&(ca(d,c,oa,J),Ic(d,c,oa))},enqueueReplaceState:function(c,d,n){c=c._reactInternals;var J=l(),oa=y(c),za=rc(J,oa);za.tag=1;za.payload=d;void 0!==n&&null!==n&&(za.callback=n);d=sc(c,za,oa);null!==d&&(ca(d,c,oa,J),Ic(d,c,oa))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var n=l(),J=y(c),oa=rc(n,J);oa.tag=2;void 0!==d&&null!==d&&(oa.callback=d);d=sc(c,oa,J);null!==d&&(ca(d,c,J,n),Ic(d,c,J))}},
hj=he(!0),vl=he(!1),yj={},ri=Tc(yj),Li=Tc(yj),Ci=Tc(yj),Ng=Tc(0),ok=[],pk=Ed.ReactCurrentDispatcher,rk=Ed.ReactCurrentBatchConfig,$i=0,pg=null,Ug=null,th=null,qk=!1,Pj=!1,zj=0,mm=0,Qj={readContext:ka,useCallback:ff,useContext:ff,useEffect:ff,useImperativeHandle:ff,useInsertionEffect:ff,useLayoutEffect:ff,useMemo:ff,useReducer:ff,useRef:ff,useState:ff,useDebugValue:ff,useDeferredValue:ff,useTransition:ff,useMutableSource:ff,useSyncExternalStore:ff,useId:ff,unstable_isNewReconciler:!1},tl={readContext:ka,
useCallback:function(c,d){lf().memoizedState=[c,void 0===d?null:d];return c},useContext:ka,useEffect:Pb,useImperativeHandle:function(c,d,n){n=null!==n&&void 0!==n?n.concat([c]):null;return qa(4194308,4,Pe.bind(null,d,c),n)},useLayoutEffect:function(c,d){return qa(4194308,4,c,d)},useInsertionEffect:function(c,d){return qa(4,2,c,d)},useMemo:function(c,d){var n=lf();d=void 0===d?null:d;c=c();n.memoizedState=[c,d];return c},useReducer:function(c,d,n){var J=lf();d=void 0!==n?n(d):d;J.memoizedState=J.baseState=
d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};J.queue=c;c=c.dispatch=qg.bind(null,pg,c);return[J.memoizedState,c]},useRef:function(c){var d=lf();c={current:c};return d.memoizedState=c},useState:Qg,useDebugValue:Ef,useDeferredValue:function(c){return lf().memoizedState=c},useTransition:function(){var c=Qg(!1),d=c[0];c=$f.bind(null,c[1]);lf().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,n){var J=pg,
oa=lf();if(Kg){if(void 0===n)throw Error(r(407));n=n()}else{n=d();if(null===uh)throw Error(r(349));0!==($i&30)||eg(J,d,n)}oa.memoizedState=n;var za={value:n,getSnapshot:d};oa.queue=za;Pb(Of.bind(null,J,za,c),[c]);J.flags|=2048;xg(9,xf.bind(null,J,za,n,d),void 0,null);return n},useId:function(){var c=lf(),d=uh.identifierPrefix;if(Kg){var n=Ji,J=hi;n=(J&~(1<<32-mi(J)-1)).toString(32)+n;d=":"+d+"R"+n;n=zj++;0<n&&(d+="H"+n.toString(32));d+=":"}else n=mm++,d=":"+d+"r"+n.toString(32)+":";return c.memoizedState=
d},unstable_isNewReconciler:!1},Yl={readContext:ka,useCallback:Qe,useContext:ka,useEffect:hd,useImperativeHandle:of,useInsertionEffect:nd,useLayoutEffect:oe,useMemo:Zf,useReducer:Bf,useRef:ah,useState:function(){return Bf(Hf)},useDebugValue:Ef,useDeferredValue:function(c){var d=Ze();return Rf(d,Ug.memoizedState,c)},useTransition:function(){var c=Bf(Hf)[0],d=Ze().memoizedState;return[c,d]},useMutableSource:Jf,useSyncExternalStore:wg,useId:mg,unstable_isNewReconciler:!1},Zl={readContext:ka,useCallback:Qe,
useContext:ka,useEffect:hd,useImperativeHandle:of,useInsertionEffect:nd,useLayoutEffect:oe,useMemo:Zf,useReducer:Cf,useRef:ah,useState:function(){return Cf(Hf)},useDebugValue:Ef,useDeferredValue:function(c){var d=Ze();return null===Ug?d.memoizedState=c:Rf(d,Ug.memoizedState,c)},useTransition:function(){var c=Cf(Hf)[0],d=Ze().memoizedState;return[c,d]},useMutableSource:Jf,useSyncExternalStore:wg,useId:mg,unstable_isNewReconciler:!1},ul="function"===typeof WeakMap?WeakMap:Map,wl=Ed.ReactCurrentOwner,
Uh=!1,Tk={dehydrated:null,treeContext:null,retryLane:0};var Ni=function(c,d){for(var n=d.child;null!==n;){if(5===n.tag||6===n.tag)c.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===d)break;for(;null===n.sibling;){if(null===n.return||n.return===d)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};var Uk=function(){};var xl=function(c,d,n,J){var oa=c.memoizedProps;if(oa!==J){c=d.stateNode;De(ri.current);var za=null;switch(n){case "input":oa=
Ca(c,oa);J=Ca(c,J);za=[];break;case "select":oa=ng({},oa,{value:void 0});J=ng({},J,{value:void 0});za=[];break;case "textarea":oa=Mb(c,oa);J=Mb(c,J);za=[];break;default:"function"!==typeof oa.onClick&&"function"===typeof J.onClick&&(c.onclick=zb)}na(n,J);var tb;n=null;for(zd in oa)if(!J.hasOwnProperty(zd)&&oa.hasOwnProperty(zd)&&null!=oa[zd])if("style"===zd){var uc=oa[zd];for(tb in uc)uc.hasOwnProperty(tb)&&(n||(n={}),n[tb]="")}else"dangerouslySetInnerHTML"!==zd&&"children"!==zd&&"suppressContentEditableWarning"!==
zd&&"suppressHydrationWarning"!==zd&&"autoFocus"!==zd&&(S.hasOwnProperty(zd)?za||(za=[]):(za=za||[]).push(zd,null));for(zd in J){var Nc=J[zd];uc=null!=oa?oa[zd]:void 0;if(J.hasOwnProperty(zd)&&Nc!==uc&&(null!=Nc||null!=uc))if("style"===zd)if(uc){for(tb in uc)!uc.hasOwnProperty(tb)||Nc&&Nc.hasOwnProperty(tb)||(n||(n={}),n[tb]="");for(tb in Nc)Nc.hasOwnProperty(tb)&&uc[tb]!==Nc[tb]&&(n||(n={}),n[tb]=Nc[tb])}else n||(za||(za=[]),za.push(zd,n)),n=Nc;else"dangerouslySetInnerHTML"===zd?(Nc=Nc?Nc.__html:
void 0,uc=uc?uc.__html:void 0,null!=Nc&&uc!==Nc&&(za=za||[]).push(zd,Nc)):"children"===zd?"string"!==typeof Nc&&"number"!==typeof Nc||(za=za||[]).push(zd,""+Nc):"suppressContentEditableWarning"!==zd&&"suppressHydrationWarning"!==zd&&(S.hasOwnProperty(zd)?(null!=Nc&&"onScroll"===zd&&Md("scroll",c),za||uc===Nc||(za=[])):(za=za||[]).push(zd,Nc))}n&&(za=za||[]).push("style",n);var zd;if(d.updateQueue=za)d.flags|=4}};var $l=function(c,d,n,J){n!==J&&(d.flags|=4)};var tk=!1,Ph=!1,am="function"===typeof WeakSet?
WeakSet:Set,Me=null,yl=!1,Ih=null,ti=!1,bm=Math.ceil,uk=Ed.ReactCurrentDispatcher,al=Ed.ReactCurrentOwner,ji=Ed.ReactCurrentBatchConfig,Vf=0,uh=null,mh=null,Jh=0,ai=0,$h=Tc(0),oh=0,tg=null,Wf=0,xh=0,ui=0,Sj=null,Zg=null,Yk=0,Bj=Infinity,Pi=null,Rj=!1,sk=null,Mi=null,Tj=!1,vi=null,aj=0,Ej=0,ij=null,Cj=-1,Dj=0;var dm=function(c,d,n){if(null!==c)if(c.memoizedProps!==d.pendingProps||Rh.current)Uh=!0;else{if(0===(c.lanes&n)&&0===(d.flags&128))return Uh=!1,nh(c,d,n);Uh=0!==(c.flags&131072)?!0:!1}else Uh=
!1,Kg&&0!==(d.flags&1048576)&&Xd(d,mk,d.index);d.lanes=0;switch(d.tag){case 2:var J=d.type;Mg(c,d);c=d.pendingProps;var oa=Sa(d,qh.current);G(d,n);oa=Wd(null,d,J,c,oa,n);var za=jf();d.flags|=1;"object"===typeof oa&&null!==oa&&"function"===typeof oa.render&&void 0===oa.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,fb(J)?(za=!0,Xc(d)):za=!1,d.memoizedState=null!==oa.state&&void 0!==oa.state?oa.state:null,dc(d),oa.updater=Oj,d.stateNode=oa,oa._reactInternals=d,td(d,J,c,n),d=Vg(null,d,J,!0,
za,n)):(d.tag=0,Kg&&za&&ye(d),Ff(null,d,oa,n),d=d.child);return d;case 16:J=d.elementType;a:{Mg(c,d);c=d.pendingProps;oa=J._init;J=oa(J._payload);d.type=J;oa=d.tag=ug(J);c=le(J,c);switch(oa){case 0:d=Bh(null,d,J,c,n);break a;case 1:d=Ch(null,d,J,c,n);break a;case 11:d=Hg(null,d,J,c,n);break a;case 14:d=dh(null,d,J,le(J.type,c),n);break a}throw Error(r(306,J,""));}return d;case 0:return J=d.type,oa=d.pendingProps,oa=d.elementType===J?oa:le(J,oa),Bh(c,d,J,oa,n);case 1:return J=d.type,oa=d.pendingProps,
oa=d.elementType===J?oa:le(J,oa),Ch(c,d,J,oa,n);case 3:a:{Dh(d);if(null===c)throw Error(r(387));J=d.pendingProps;za=d.memoizedState;oa=za.element;lc(c,d);Uc(d,J,null,n);var tb=d.memoizedState;J=tb.element;if(za.isDehydrated)if(za={element:J,isDehydrated:!1,cache:tb.cache,pendingSuspenseBoundaries:tb.pendingSuspenseBoundaries,transitions:tb.transitions},d.updateQueue.baseState=za,d.memoizedState=za,d.flags&256){oa=Ie(Error(r(423)),d);ae();Yd(oa);d.flags|=256;Ff(c,d,J,n);d=d.child;break a}else if(J!==
oa){oa=Ie(Error(r(424)),d);ae();Yd(oa);d.flags|=256;Ff(c,d,J,n);d=d.child;break a}else for(Nh=I(d.stateNode.containerInfo.firstChild),Mh=d,Kg=!0,Th=null,n=vl(d,null,J,n),d.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{ae();if(J===oa){d=ch(c,d,n);break a}Ff(c,d,J,n)}d=d.child}return d;case 5:return ue(d),null===c&&Fc(d),J=d.type,oa=d.pendingProps,za=null!==c?c.memoizedProps:null,tb=oa.children,Xb(J,oa)?tb=null:null!==za&&Xb(J,za)&&(d.flags|=32),Vh(c,d),Ff(c,d,tb,n),d.child;case 6:return null===
c&&Fc(d),null;case 13:return bi(c,d,n);case 4:return mf(d,d.stateNode.containerInfo),J=d.pendingProps,null===c?d.child=hj(d,null,J,n):Ff(c,d,J,n),d.child;case 11:return J=d.type,oa=d.pendingProps,oa=d.elementType===J?oa:le(J,oa),Hg(c,d,J,oa,n);case 7:return Ff(c,d,d.pendingProps,n),d.child;case 8:return Ff(c,d,d.pendingProps.children,n),d.child;case 12:return Ff(c,d,d.pendingProps.children,n),d.child;case 10:a:{J=d.type._context;oa=d.pendingProps;za=d.memoizedProps;tb=oa.value;de(wj,J._currentValue);
J._currentValue=tb;if(null!==za)if(ni(za.value,tb)){if(za.children===oa.children&&!Rh.current){d=ch(c,d,n);break a}}else for(za=d.child,null!==za&&(za.return=d);null!==za;){var uc=za.dependencies;if(null!==uc){tb=za.child;for(var Nc=uc.firstContext;null!==Nc;){if(Nc.context===J){if(1===za.tag){Nc=rc(-1,n&-n);Nc.tag=2;var zd=za.updateQueue;if(null!==zd){zd=zd.shared;var ge=zd.pending;null===ge?Nc.next=Nc:(Nc.next=ge.next,ge.next=Nc);zd.pending=Nc}}za.lanes|=n;Nc=za.alternate;null!==Nc&&(Nc.lanes|=
n);da(za.return,n,d);uc.lanes|=n;break}Nc=Nc.next}}else if(10===za.tag)tb=za.type===d.type?null:za.child;else if(18===za.tag){tb=za.return;if(null===tb)throw Error(r(341));tb.lanes|=n;uc=tb.alternate;null!==uc&&(uc.lanes|=n);da(tb,n,d);tb=za.sibling}else tb=za.child;if(null!==tb)tb.return=za;else for(tb=za;null!==tb;){if(tb===d){tb=null;break}za=tb.sibling;if(null!==za){za.return=tb.return;tb=za;break}tb=tb.return}za=tb}Ff(c,d,oa.children,n);d=d.child}return d;case 9:return oa=d.type,J=d.pendingProps.children,
G(d,n),oa=ka(oa),J=J(oa),d.flags|=1,Ff(c,d,J,n),d.child;case 14:return J=d.type,oa=le(J,d.pendingProps),oa=le(J.type,oa),dh(c,d,J,oa,n);case 15:return vh(c,d,d.type,d.pendingProps,n);case 17:return J=d.type,oa=d.pendingProps,oa=d.elementType===J?oa:le(J,oa),Mg(c,d),d.tag=1,fb(J)?(c=!0,Xc(d)):c=!1,G(d,n),Od(d,J,oa),td(d,J,oa,n),Vg(null,d,J,!0,c,n);case 19:return Wh(c,d,n);case 22:return ag(c,d,n)}throw Error(r(156,d.tag));};var Fl="function"===typeof reportError?reportError:function(c){console.error(c)};
jc.prototype.render=Qb.prototype.render=function(c){var d=this._internalRoot;if(null===d)throw Error(r(409));U(c,d,null,null)};jc.prototype.unmount=Qb.prototype.unmount=function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;Id(function(){U(null,c,null,null)});d[yi]=null}};jc.prototype.unstable_scheduleHydration=function(c){if(c){var d=Gl();c={blockedOn:null,target:c,priority:d};for(var n=0;n<Gi.length&&0!==d&&d<Gi[n].priority;n++);Gi.splice(n,0,c);0===n&&bc(c)}};
var ml=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var n=X(d.pendingLanes);0!==n&&(Rc(d,n|1),pa(d,Xg()),0===(Vf&6)&&(Bj=Xg()+500,Qd()))}break;case 13:Id(function(){var J=Pa(c,1);if(null!==J){var oa=l();ca(J,c,1,oa)}}),xb(c,1)}};var jl=function(c){if(13===c.tag){var d=Pa(c,134217728);if(null!==d){var n=l();ca(d,c,134217728,n)}xb(c,134217728)}};var kl=function(c){if(13===c.tag){var d=y(c),n=Pa(c,d);if(null!==n){var J=l();ca(n,c,d,J)}xb(c,d)}};var Gl=function(){return og};
var Pl=function(c,d){var n=og;try{return og=c,d()}finally{og=n}};li=function(c,d,n){switch(d){case "input":mb(c,n);d=n.name;if("radio"===n.type&&null!=d){for(n=c;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<n.length;d++){var J=n[d];if(J!==c&&J.form===c.form){var oa=xc(J);if(!oa)throw Error(r(90));qb(J);mb(J,oa)}}}break;case "textarea":ob(c,n);break;case "select":d=n.value,null!=d&&pb(c,!!n.multiple,d,!1)}};m=Zc;C=Id;var Hl=
{usingClientEntryPoint:!1,Events:[$b,Pc,xc,f,v,Zc]},ei={findFiberByHostInstance:Ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ei={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:Ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=va(c);return null===c?null:c.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||Db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{Kj=Ri.inject(Ei),wi=
Ri}catch(c){}}nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hl;nb.createPortal=function(c,d){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(d))throw Error(r(200));return di(c,d,null,n)};nb.createRoot=function(c,d){if(!Vc(c))throw Error(r(299));var n=!1,J="",oa=Fl;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(n=!0),void 0!==d.identifierPrefix&&(J=d.identifierPrefix),void 0!==d.onRecoverableError&&(oa=d.onRecoverableError));d=bj(c,1,!1,null,null,n,!1,J,oa);c[yi]=
d.current;Ae(8===c.nodeType?c.parentNode:c);return new Qb(d)};nb.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(r(188));c=Object.keys(c).join(",");throw Error(r(268,c));}c=va(d);return c=null===c?null:c.stateNode};nb.flushSync=function(c){return Id(c)};nb.hydrate=function(c,d,n){if(!Kd(d))throw Error(r(200));return ie(null,c,d,!0,n)};nb.hydrateRoot=function(c,d,n){if(!Vc(c))throw Error(r(405));
var J=null!=n&&n.hydratedSources||null,oa=!1,za="",tb=Fl;null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(oa=!0),void 0!==n.identifierPrefix&&(za=n.identifierPrefix),void 0!==n.onRecoverableError&&(tb=n.onRecoverableError));d=x(d,null,c,1,null!=n?n:null,oa,!1,za,tb);c[yi]=d.current;Ae(c);if(J)for(c=0;c<J.length;c++)n=J[c],oa=n._getVersion,oa=oa(n._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[n,oa]:d.mutableSourceEagerHydrationData.push(n,oa);return new jc(d)};
nb.render=function(c,d,n){if(!Kd(d))throw Error(r(200));return ie(null,c,d,!1,n)};nb.unmountComponentAtNode=function(c){if(!Kd(c))throw Error(r(40));return c._reactRootContainer?(Id(function(){ie(null,null,c,!1,function(){c._reactRootContainer=null;c[yi]=null})}),!0):!1};nb.unstable_batchedUpdates=Zc;nb.unstable_renderSubtreeIntoContainer=function(c,d,n,J){if(!Kd(n))throw Error(r(200));if(null==c||void 0===c._reactInternals)throw Error(r(38));return ie(c,d,n,!1,J)};nb.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(ac,Cb,Wc,nb){function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(g){console.error(g)}}r();Wc.exports=Cb(6)};
shadow$provide[9]=function(ac,Cb,Wc,nb){ac=Cb(8);nb.createRoot=ac.createRoot;nb.hydrateRoot=ac.hydrateRoot};
shadow$provide[14]=function(ac,Cb,Wc,nb){Wc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(ac,Cb,Wc,nb){function r(){}function g(){}var ra=Cb(14);g.resetWarningCache=r;Wc.exports=function(){function ib(oc,kc,Ac,Ab,ec,pc){if(pc!==ra)throw oc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),oc.name="Invariant Violation",oc;}function Fb(){return ib}ib.isRequired=ib;var Zb={array:ib,bigint:ib,bool:ib,func:ib,number:ib,object:ib,
string:ib,symbol:ib,any:ib,arrayOf:Fb,element:ib,elementType:ib,instanceOf:Fb,node:ib,objectOf:Fb,oneOf:Fb,oneOfType:Fb,shape:Fb,exact:Fb,checkPropTypes:g,resetWarningCache:r};return Zb.PropTypes=Zb}};
shadow$provide[19]=function(ac,Cb,Wc,nb){Wc.exports=Cb(18)()};
shadow$provide[20]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(g,ra){void 0===g&&(g=r);void 0===ra&&(ra=r);const ib=Object.keys(g),Fb=Object.keys(ra);return g===ra||ib.length===Fb.length&&ib.every(Zb=>g[Zb]===ra[Zb])};const r={}};
shadow$provide[21]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function g(B,z,E){B.fields=z||[];B.fname=E;return B}function ra(B){return null==B?null:B.fields}function ib(B){return 1===B.length?mb(B[0]):Na(B)}function Fb(B){throw Error(B);}function Zb(B){function z(){E.push(W+B.substring(u,K));W="";u=K+1}const E=
[],D=B.length;let V=null,Aa=0,W="",u,K,va;B+="";for(u=K=0;K<D;++K)(va=B[K],"\\"===va)?(W+=B.substring(u,K++),u=K):va===V?(z(),V=null,Aa=-1):V||(u===Aa&&'"'===va?(u=K+1,V=va):u===Aa&&"'"===va?(u=K+1,V=va):"."!==va||Aa?"["===va?(K>u&&z(),Aa=u=K+1):"]"===va&&(Aa||Fb("Access path missing open bracket: "+B),0<Aa&&z(),Aa=0,u=K+1):K>u?z():u=K+1);Aa&&Fb("Access path missing closing bracket: "+B);V&&Fb("Access path missing closing quote: "+B);K>u&&(K++,z());return E}function oc(B,z,E){const D=Zb(B);B=1===
D.length?D[0]:B;return g((E&&E.get||ib)(D),[B],z||B)}function kc(B,z,E){z=[z].concat([].slice.call(E));console[B].apply(console,z)}function Ac(B){return B===Object(B)}function Ab(B,z,E,D){if("__proto__"!==z){var V;if(Ac(E)&&!Y(E))for(V in B=Ac(B[z])?B[z]:B[z]={},E)D&&(!0===D||D[V])?Ab(B,V,E[V]):"__proto__"!==V&&(B[V]=E[V]);else B[z]=E}}function ec(B,z){function E(Aa){D[Aa.name]||(D[Aa.name]=1,V.push(Aa))}if(null==B)return z;const D={},V=[];z.forEach(E);B.forEach(E);return V}function pc(B){return B[B.length-
1]}function Ya(B){return null==B||""===B?null:+B}function rb(B,z,E,D){const V=E(B[0]);B=E(pc(B));z*=B-V;return[D(V-z),D(B-z)]}function Ib(B,z,E,D,V){const Aa=D(B[0]);B=D(pc(B));z=null!=z?D(z):(Aa+B)/2;return[V(z+(Aa-z)*E),V(z+(B-z)*E)]}function Nb(B){return null!=B?Y(B)?B:[B]:[]}function Bb(B){return"function"===typeof B}function Ob(B){for(let z,E,D=1,V=arguments.length;D<V;++D)for(E in z=arguments[D],z)B[E]=z[E];return B}function Xa(B,z){return v.call(B,z)}function qb(B){return"[object Date]"===
Object.prototype.toString.call(B)}function Oa(B){return"number"===typeof B}function Ca(B){return"string"===typeof B}function Qa(B,z){let E="";for(;0<=--z;)E+=B;return E}function lb(B){return Y(B)?"["+B.map(lb)+"]":Ac(B)||Ca(B)?JSON.stringify(B).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):B}const mb=B=>function(z){return z[B]},Na=B=>{const z=B.length;return function(E){for(let D=0;D<z;++D)E=E[B[D]];return E}},vb=oc("id"),pb=g(B=>B,[],"identity"),Mb=g(()=>0,[],"zero"),Vb=g(()=>1,[],"one"),
ob=g(()=>!0,[],"true"),ma=g(()=>!1,[],"false");var Y=Array.isArray;const Ga=B=>z=>B*Math.exp(z),Ea=B=>z=>Math.log(B*z),db=B=>z=>Math.sign(z)*Math.log1p(Math.abs(z/B)),ba=B=>z=>Math.sign(z)*Math.expm1(Math.abs(z))*B,na=B=>z=>0>z?-Math.pow(-z,B):Math.pow(z,B),p=(B,z)=>(B<z||null==B)&&null!=z?-1:(B>z||null==z)&&null!=B?1:(z=z instanceof Date?+z:z,B=B instanceof Date?+B:B)!==B&&z===z?-1:z!==z&&B===B?1:0,L=(B,z)=>1===B.length?O(B[0],z[0]):f(B,z,B.length),O=(B,z)=>function(E,D){return p(B(E),B(D))*z},f=
(B,z,E)=>{z.push(0);return function(D,V){var Aa=0;let W=-1;for(;0===Aa&&++W<E;)Aa=B[W],Aa=p(Aa(D),Aa(V));return Aa*z[W]}},v=Object.prototype.hasOwnProperty,m={},C=B=>Oa(B)?B:qb(B)?B:Date.parse(B);r.Debug=4;r.Error=1;r.Info=3;r.None=0;r.Warn=2;r.accessor=g;r.accessorFields=ra;r.accessorName=function(B){return null==B?null:B.fname};r.array=Nb;r.ascending=p;r.clampRange=function(B,z,E){let D=B[0];B=B[1];let V;B<D&&(V=B,B=D,D=V);V=B-D;return V>=E-z?[z,E]:[D=Math.min(Math.max(D,z),E-V),D+V]};r.compare=
function(B,z,E){E=E||{};z=Nb(z)||[];const D=[],V=[],Aa={},W=E.comparator||L;Nb(B).forEach((u,K)=>{null!=u&&(D.push("descending"===z[K]?-1:1),V.push(u=Bb(u)?u:oc(u,null,E)),(ra(u)||[]).forEach(va=>Aa[va]=1))});return 0===V.length?null:g(W(V,D),Object.keys(Aa))};r.constant=function(B){return Bb(B)?B:()=>B};r.debounce=function(B,z){let E;return D=>{E&&clearTimeout(E);E=setTimeout(()=>(z(D),E=null),B)}};r.error=Fb;r.extend=Ob;r.extent=function(B,z){let E=0,D,V,Aa,W;if(B&&(D=B.length))if(null==z){for(V=
B[E];E<D&&(null==V||V!==V);V=B[++E]);for(Aa=W=V;E<D;++E)V=B[E],null!=V&&(V<Aa&&(Aa=V),V>W&&(W=V))}else{for(V=z(B[E]);E<D&&(null==V||V!==V);V=z(B[++E]));for(Aa=W=V;E<D;++E)V=z(B[E]),null!=V&&(V<Aa&&(Aa=V),V>W&&(W=V))}return[Aa,W]};r.extentIndex=function(B,z){const E=B.length;let D=-1,V,Aa,W,u,K;if(null==z){for(;++D<E;)if(Aa=B[D],null!=Aa&&Aa>=Aa){V=W=Aa;break}if(D===E)return[-1,-1];for(u=K=D;++D<E;)Aa=B[D],null!=Aa&&(V>Aa&&(V=Aa,u=D),W<Aa&&(W=Aa,K=D))}else{for(;++D<E;)if(Aa=z(B[D],D,B),null!=Aa&&Aa>=
Aa){V=W=Aa;break}if(D===E)return[-1,-1];for(u=K=D;++D<E;)Aa=z(B[D],D,B),null!=Aa&&(V>Aa&&(V=Aa,u=D),W<Aa&&(W=Aa,K=D))}return[u,K]};r.falsy=ma;r.fastmap=function(B){function z(Aa){return Xa(E,Aa)&&E[Aa]!==m}let E={},D;const V={size:0,empty:0,object:E,has:z,get(Aa){return z(Aa)?E[Aa]:void 0},set(Aa,W){z(Aa)||(++V.size,E[Aa]===m&&--V.empty);E[Aa]=W;return this},delete(Aa){z(Aa)&&(--V.size,++V.empty,E[Aa]=m);return this},clear(){V.size=V.empty=0;V.object=E={}},test(Aa){return arguments.length?(D=Aa,V):
D},clean(){const Aa={};let W=0;for(const u in E){const K=E[u];K===m||D&&D(K)||(Aa[u]=K,++W)}V.size=W;V.empty=0;V.object=E=Aa}};B&&Object.keys(B).forEach(Aa=>{V.set(Aa,B[Aa])});return V};r.field=oc;r.flush=function(B,z,E,D,V,Aa){if(!E&&0!==E)return Aa;E=+E;let W=B[0],u=pc(B);u<W&&(B=W,W=u,u=B);B=Math.abs(z-W);z=Math.abs(u-z);return B<z&&B<=E?D:z<=E?V:Aa};r.hasOwnProperty=Xa;r.id=vb;r.identity=pb;r.inherits=function(B,z,E){z=B.prototype=Object.create(z.prototype);Object.defineProperty(z,"constructor",
{value:B,writable:!0,enumerable:!0,configurable:!0});return Ob(z,E)};r.inrange=function(B,z,E,D){let V=z[0];z=z[z.length-1];let Aa;V>z&&(Aa=V,V=z,z=Aa);return(void 0===E||E?V<=B:V<B)&&(void 0===D||D?B<=z:B<z)};r.isArray=Y;r.isBoolean=function(B){return"boolean"===typeof B};r.isDate=qb;r.isFunction=Bb;r.isIterable=function(B){return B&&Bb(B[Symbol.iterator])};r.isNumber=Oa;r.isObject=Ac;r.isRegExp=function(B){return"[object RegExp]"===Object.prototype.toString.call(B)};r.isString=Ca;r.key=function(B,
z,E){B&&(B=z?Nb(B).map(Aa=>Aa.replace(/\\(.)/g,"$1")):Nb(B));const D=B&&B.length,V=E&&E.get||ib;E=Aa=>V(z?[Aa]:Zb(Aa));if(D)if(1===D){const Aa=E(B[0]);E=function(W){return""+Aa(W)}}else{const Aa=B.map(E);E=function(W){let u=""+Aa[0](W),K=0;for(;++K<D;)u+="|"+Aa[K](W);return u}}else E=function(){return""};return g(E,B,"key")};r.lerp=function(B,z){const E=B[0];B=pc(B);return(z=+z)?1===z?B:E+z*(B-E):E};r.logger=function(B,z,E=kc){let D=B||0;return{level(V){return arguments.length?(D=+V,this):D},error(){1<=
D&&E(z||"error","ERROR",arguments);return this},warn(){2<=D&&E(z||"warn","WARN",arguments);return this},info(){3<=D&&E(z||"log","INFO",arguments);return this},debug(){4<=D&&E(z||"log","DEBUG",arguments);return this}}};r.lruCache=function(B){B=+B||1E4;let z,E,D;const V=()=>{z={};E={};D=0},Aa=(W,u)=>{++D>B&&(E=z,z={},D=1);return z[W]=u};V();return{clear:V,has:W=>Xa(z,W)||Xa(E,W),get:W=>Xa(z,W)?z[W]:Xa(E,W)?Aa(W,E[W]):void 0,set:(W,u)=>Xa(z,W)?z[W]=u:Aa(W,u)}};r.merge=function(B,z,E,D){const V=z.length,
Aa=E.length;if(!Aa)return z;if(!V)return E;D=D||new z.constructor(V+Aa);let W=0,u=0,K=0;for(;W<V&&u<Aa;++K)D[K]=0<B(z[W],E[u])?E[u++]:z[W++];for(;W<V;++W,++K)D[K]=z[W];for(;u<Aa;++u,++K)D[K]=E[u];return D};r.mergeConfig=function(...B){return B.reduce((z,E)=>{for(const D in E)"signals"===D?z.signals=ec(z.signals,E.signals):Ab(z,D,E[D],"legend"===D?{layout:1}:"style"===D?!0:null);return z},{})};r.one=Vb;r.pad=function(B,z,E,D){E=E||" ";B+="";z-=B.length;return 0>=z?B:"left"===D?Qa(E,z)+B:"center"===
D?Qa(E,~~(z/2))+B+Qa(E,Math.ceil(z/2)):B+Qa(E,z)};r.panLinear=function(B,z){return rb(B,z,Ya,pb)};r.panLog=function(B,z){var E=Math.sign(B[0]);return rb(B,z,Ea(E),Ga(E))};r.panPow=function(B,z,E){return rb(B,z,na(E),na(1/E))};r.panSymlog=function(B,z,E){return rb(B,z,db(E),ba(E))};r.peek=pc;r.quarter=function(B){return 1+~~((new Date(B)).getMonth()/3)};r.repeat=Qa;r.span=function(B){return B&&pc(B)-B[0]||0};r.splitAccessPath=Zb;r.stringValue=lb;r.toBoolean=function(B){return null==B||""===B?null:
B&&"false"!==B&&"0"!==B?!!B:!1};r.toDate=function(B,z){z=z||C;return null==B||""===B?null:z(B)};r.toNumber=Ya;r.toSet=function(B){const z={},E=B.length;for(let D=0;D<E;++D)z[B[D]]=!0;return z};r.toString=function(B){return null==B||""===B?null:B+""};r.truncate=function(B,z,E,D){D=null!=D?D:"…";B+="";const V=B.length,Aa=Math.max(0,z-D.length);return V<=z?B:"left"===E?D+B.slice(V-Aa):"center"===E?B.slice(0,Math.ceil(Aa/2))+D+B.slice(V-~~(Aa/2)):B.slice(0,Aa)+D};r.truthy=ob;r.utcquarter=function(B){return 1+
~~((new Date(B)).getUTCMonth()/3)};r.visitArray=function(B,z,E){if(B)if(z){const D=B.length;for(let V=0;V<D;++V){const Aa=z(B[V]);Aa&&E(Aa,V,B)}}else B.forEach(E)};r.writeConfig=Ab;r.zero=Mb;r.zoomLinear=function(B,z,E){return Ib(B,z,E,Ya,pb)};r.zoomLog=function(B,z,E){const D=Math.sign(B[0]);return Ib(B,z,E,Ea(D),Ga(D))};r.zoomPow=function(B,z,E,D){return Ib(B,z,E,na(D),na(1/D))};r.zoomSymlog=function(B,z,E,D){return Ib(B,z,E,db(D),ba(D))}})};
shadow$provide[22]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb):"function"===typeof define&&define.amd?define(["exports"],g):(r=r||self,g(r.topojson=r.topojson||{}))})(this,function(r){function g(Ya){return Ya}function ra(Ya){if(null==Ya)return g;var rb,Ib,Nb=Ya.scale[0],Bb=Ya.scale[1],Ob=Ya.translate[0],Xa=Ya.translate[1];return function(qb,Oa){Oa||(rb=Ib=0);Oa=2;var Ca=qb.length,Qa=Array(Ca);Qa[0]=(rb+=qb[0])*Nb+Ob;for(Qa[1]=(Ib+=qb[1])*Bb+Xa;Oa<Ca;)Qa[Oa]=
qb[Oa],++Oa;return Qa}}function ib(Ya){function rb(Ca){Ca=Nb(Ca);Ca[0]<Ob&&(Ob=Ca[0]);Ca[0]>qb&&(qb=Ca[0]);Ca[1]<Xa&&(Xa=Ca[1]);Ca[1]>Oa&&(Oa=Ca[1])}function Ib(Ca){switch(Ca.type){case "GeometryCollection":Ca.geometries.forEach(Ib);break;case "Point":rb(Ca.coordinates);break;case "MultiPoint":Ca.coordinates.forEach(rb)}}var Nb=ra(Ya.transform),Bb,Ob=Infinity,Xa=Ob,qb=-Ob,Oa=-Ob;Ya.arcs.forEach(function(Ca){for(var Qa=-1,lb=Ca.length,mb;++Qa<lb;)mb=Nb(Ca[Qa],Qa),mb[0]<Ob&&(Ob=mb[0]),mb[0]>qb&&(qb=
mb[0]),mb[1]<Xa&&(Xa=mb[1]),mb[1]>Oa&&(Oa=mb[1])});for(Bb in Ya.objects)Ib(Ya.objects[Bb]);return[Ob,Xa,qb,Oa]}function Fb(Ya,rb){var Ib=rb.id,Nb=rb.bbox,Bb=null==rb.properties?{}:rb.properties;Ya=Zb(Ya,rb);return null==Ib&&null==Nb?{type:"Feature",properties:Bb,geometry:Ya}:null==Nb?{type:"Feature",id:Ib,properties:Bb,geometry:Ya}:{type:"Feature",id:Ib,bbox:Nb,properties:Bb,geometry:Ya}}function Zb(Ya,rb){function Ib(Ca){return qb(Ca)}function Nb(Ca){for(var Qa=[],lb=0,mb=Ca.length;lb<mb;++lb){var Na=
Ca[lb],vb=Qa;vb.length&&vb.pop();for(var pb=Oa[0>Na?~Na:Na],Mb=0,Vb=pb.length;Mb<Vb;++Mb)vb.push(qb(pb[Mb],Mb));if(0>Na)for(Na=vb,vb=Na.length,pb=vb-Vb;pb<--vb;)Vb=Na[pb],Na[pb++]=Na[vb],Na[vb]=Vb}2>Qa.length&&Qa.push(Qa[0]);return Qa}function Bb(Ca){for(Ca=Nb(Ca);4>Ca.length;)Ca.push(Ca[0]);return Ca}function Ob(Ca){return Ca.map(Bb)}function Xa(Ca){var Qa=Ca.type;switch(Qa){case "GeometryCollection":return{type:Qa,geometries:Ca.geometries.map(Xa)};case "Point":Ca=qb(Ca.coordinates);break;case "MultiPoint":Ca=
Ca.coordinates.map(Ib);break;case "LineString":Ca=Nb(Ca.arcs);break;case "MultiLineString":Ca=Ca.arcs.map(Nb);break;case "Polygon":Ca=Ob(Ca.arcs);break;case "MultiPolygon":Ca=Ca.arcs.map(Ob);break;default:return null}return{type:Qa,coordinates:Ca}}var qb=ra(Ya.transform),Oa=Ya.arcs;return Xa(rb)}function oc(Ya,rb){function Ib(Ca){var Qa=Ya.arcs[0>Ca?~Ca:Ca],lb=Qa[0];if(Ya.transform){var mb=[0,0];Qa.forEach(function(Na){mb[0]+=Na[0];mb[1]+=Na[1]})}else mb=Qa[Qa.length-1];return 0>Ca?[mb,lb]:[lb,mb]}
function Nb(Ca,Qa){for(var lb in Ca){var mb=Ca[lb];delete Qa[mb.start];delete mb.start;delete mb.end;mb.forEach(function(Na){Bb[0>Na?~Na:Na]=1});qb.push(mb)}}var Bb={},Ob={},Xa={},qb=[],Oa=-1;rb.forEach(function(Ca,Qa){var lb=Ya.arcs[0>Ca?~Ca:Ca];3>lb.length&&!lb[1][0]&&!lb[1][1]&&(lb=rb[++Oa],rb[Oa]=Ca,rb[Qa]=lb)});rb.forEach(function(Ca){var Qa=Ib(Ca),lb=Qa[0],mb=Qa[1];(Qa=Xa[lb])?(delete Xa[Qa.end],Qa.push(Ca),Qa.end=mb,(Ca=Ob[mb])?(delete Ob[Ca.start],lb=Ca===Qa?Qa:Qa.concat(Ca),Ob[lb.start=Qa.start]=
Xa[lb.end=Ca.end]=lb):Ob[Qa.start]=Xa[Qa.end]=Qa):(Qa=Ob[mb])?(delete Ob[Qa.start],Qa.unshift(Ca),Qa.start=lb,(Ca=Xa[lb])?(delete Xa[Ca.end],lb=Ca===Qa?Qa:Ca.concat(Qa),Ob[lb.start=Ca.start]=Xa[lb.end=Qa.end]=lb):Ob[Qa.start]=Xa[Qa.end]=Qa):(Qa=[Ca],Ob[Qa.start=lb]=Xa[Qa.end=mb]=Qa)});Nb(Xa,Ob);Nb(Ob,Xa);rb.forEach(function(Ca){Bb[0>Ca?~Ca:Ca]||qb.push([Ca])});return qb}function kc(Ya,rb,Ib){var Nb;if(1<arguments.length)var Bb=Ac(Ya,rb,Ib);else{var Ob=0;for(Bb=Array(Nb=Ya.arcs.length);Ob<Nb;++Ob)Bb[Ob]=
Ob}return{type:"MultiLineString",arcs:oc(Ya,Bb)}}function Ac(Ya,rb,Ib){function Nb(Qa){var lb=0>Qa?~Qa:Qa;(Oa[lb]||(Oa[lb]=[])).push({i:Qa,g:Ca})}function Bb(Qa){Qa.forEach(Nb)}function Ob(Qa){Qa.forEach(Bb)}function Xa(Qa){switch(Ca=Qa,Qa.type){case "GeometryCollection":Qa.geometries.forEach(Xa);break;case "LineString":Bb(Qa.arcs);break;case "MultiLineString":case "Polygon":Ob(Qa.arcs);break;case "MultiPolygon":Qa.arcs.forEach(Ob)}}var qb=[],Oa=[],Ca;Xa(rb);Oa.forEach(null==Ib?function(Qa){qb.push(Qa[0].i)}:
function(Qa){Ib(Qa[0].g,Qa[Qa.length-1].g)&&qb.push(Qa[0].i)});return qb}function Ab(Ya,rb){function Ib(Oa){switch(Oa.type){case "GeometryCollection":Oa.geometries.forEach(Ib);break;case "Polygon":Nb(Oa.arcs);break;case "MultiPolygon":Oa.arcs.forEach(Nb)}}function Nb(Oa){Oa.forEach(function(Ca){Ca.forEach(function(Qa){(Ob[Qa=0>Qa?~Qa:Qa]||(Ob[Qa]=[])).push(Oa)})});Xa.push(Oa)}function Bb(Oa){Oa=Zb(Ya,{type:"Polygon",arcs:[Oa]}).coordinates[0];for(var Ca=-1,Qa=Oa.length,lb,mb=Oa[Qa-1],Na=0;++Ca<Qa;)lb=
mb,mb=Oa[Ca],Na+=lb[0]*mb[1]-lb[1]*mb[0];return Math.abs(Na)}var Ob={},Xa=[],qb=[];rb.forEach(Ib);Xa.forEach(function(Oa){if(!Oa._){var Ca=[],Qa=[Oa];Oa._=1;for(qb.push(Ca);Oa=Qa.pop();)Ca.push(Oa),Oa.forEach(function(lb){lb.forEach(function(mb){Ob[0>mb?~mb:mb].forEach(function(Na){Na._||(Na._=1,Qa.push(Na))})})})}});Xa.forEach(function(Oa){delete Oa._});return{type:"MultiPolygon",arcs:qb.map(function(Oa){var Ca=[];Oa.forEach(function(Na){Na.forEach(function(vb){vb.forEach(function(pb){2>Ob[0>pb?
~pb:pb].length&&Ca.push(pb)})})});Ca=oc(Ya,Ca);if(1<(Oa=Ca.length))for(var Qa=1,lb=Bb(Ca[0]),mb;Qa<Oa;++Qa)(mb=Bb(Ca[Qa]))>lb&&(lb=Ca[0],Ca[0]=Ca[Qa],Ca[Qa]=lb,lb=mb);return Ca}).filter(function(Oa){return 0<Oa.length})}}function ec(Ya,rb){for(var Ib=0,Nb=Ya.length;Ib<Nb;){var Bb=Ib+Nb>>>1;Ya[Bb]<rb?Ib=Bb+1:Nb=Bb}return Ib}function pc(Ya){if(null==Ya)return g;var rb,Ib,Nb=Ya.scale[0],Bb=Ya.scale[1],Ob=Ya.translate[0],Xa=Ya.translate[1];return function(qb,Oa){Oa||(rb=Ib=0);Oa=2;var Ca=qb.length,Qa=
Array(Ca),lb=Math.round((qb[0]-Ob)/Nb),mb=Math.round((qb[1]-Xa)/Bb);Qa[0]=lb-rb;rb=lb;Qa[1]=mb-Ib;for(Ib=mb;Oa<Ca;)Qa[Oa]=qb[Oa],++Oa;return Qa}}r.bbox=ib;r.feature=function(Ya,rb){"string"===typeof rb&&(rb=Ya.objects[rb]);return"GeometryCollection"===rb.type?{type:"FeatureCollection",features:rb.geometries.map(function(Ib){return Fb(Ya,Ib)})}:Fb(Ya,rb)};r.merge=function(Ya){return Zb(Ya,Ab.apply(this,arguments))};r.mergeArcs=Ab;r.mesh=function(Ya){return Zb(Ya,kc.apply(this,arguments))};r.meshArcs=
kc;r.neighbors=function(Ya){function rb(vb,pb){vb.forEach(function(Mb){0>Mb&&(Mb=~Mb);var Vb=Bb[Mb];Vb?Vb.push(pb):Bb[Mb]=[pb]})}function Ib(vb,pb){vb.forEach(function(Mb){rb(Mb,pb)})}function Nb(vb,pb){if("GeometryCollection"===vb.type)vb.geometries.forEach(function(Mb){Nb(Mb,pb)});else if(vb.type in Xa)Xa[vb.type](vb.arcs,pb)}var Bb={},Ob=Ya.map(function(){return[]}),Xa={LineString:rb,MultiLineString:Ib,Polygon:Ib,MultiPolygon:function(vb,pb){vb.forEach(function(Mb){Ib(Mb,pb)})}};Ya.forEach(Nb);
for(var qb in Bb){Ya=Bb[qb];for(var Oa=Ya.length,Ca=0;Ca<Oa;++Ca)for(var Qa=Ca+1;Qa<Oa;++Qa){var lb=Ya[Ca],mb=Ya[Qa],Na;(Na=Ob[lb])[qb=ec(Na,mb)]!==mb&&Na.splice(qb,0,mb);(Na=Ob[mb])[qb=ec(Na,lb)]!==lb&&Na.splice(qb,0,lb)}}return Ob};r.quantize=function(Ya,rb){function Ib(lb){return Ca(lb)}function Nb(lb){switch(lb.type){case "GeometryCollection":var mb={type:"GeometryCollection",geometries:lb.geometries.map(Nb)};break;case "Point":mb={type:"Point",coordinates:Ca(lb.coordinates)};break;case "MultiPoint":mb=
{type:"MultiPoint",coordinates:lb.coordinates.map(Ib)};break;default:return lb}null!=lb.id&&(mb.id=lb.id);null!=lb.bbox&&(mb.bbox=lb.bbox);null!=lb.properties&&(mb.properties=lb.properties);return mb}if(Ya.transform)throw Error("already quantized");if(rb&&rb.scale)var Bb=Ya.bbox;else{if(!(2<=(Oa=Math.floor(rb))))throw Error("n must be ≥2");Bb=Ya.bbox||ib(Ya);rb=Bb[0];var Ob=Bb[1],Xa=Bb[2],qb=Bb[3],Oa;rb={scale:[Xa-rb?(Xa-rb)/(Oa-1):1,qb-Ob?(qb-Ob)/(Oa-1):1],translate:[rb,Ob]}}var Ca=pc(rb),Qa;Ob=
Ya.objects;Xa={};for(Qa in Ob)Xa[Qa]=Nb(Ob[Qa]);return{type:"Topology",bbox:Bb,transform:rb,objects:Xa,arcs:Ya.arcs.map(function(lb){var mb=0,Na=1,vb=lb.length,pb,Mb=Array(vb);for(Mb[0]=Ca(lb[0],0);++mb<vb;)if((pb=Ca(lb[mb],mb))[0]||pb[1])Mb[Na++]=pb;1===Na&&(Mb[Na++]=[0,0]);Mb.length=Na;return Mb})}};r.transform=ra;r.untransform=pc;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[23]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function ra(X){const Ba=g.array(X).slice(),ab={};Ba.length||g.error("Missing time unit.");Ba.forEach(Gb=>{g.hasOwnProperty(Na,Gb)?ab[Gb]=1:g.error(`Invalid time unit: ${Gb}.`)});1<(ab.week||ab.day?1:0)+(ab.quarter||ab.month||
ab.date?1:0)+(ab.dayofyear?1:0)&&g.error(`Incompatible time units: ${X}`);Ba.sort((Gb,tc)=>Na[Gb]-Na[tc]);return Ba}function ib(X,Ba,ab,Gb){function tc(wc){return X(wc=0===arguments.length?new Date:new Date(+wc)),wc}tc.floor=wc=>(X(wc=new Date(+wc)),wc);tc.ceil=wc=>(X(wc=new Date(wc-1)),Ba(wc,1),X(wc),wc);tc.round=wc=>{const vc=tc(wc),Ec=tc.ceil(wc);return wc-vc<Ec-wc?vc:Ec};tc.offset=(wc,vc)=>(Ba(wc=new Date(+wc),null==vc?1:Math.floor(vc)),wc);tc.range=(wc,vc,Ec)=>{const zc=[];wc=tc.ceil(wc);Ec=
null==Ec?1:Math.floor(Ec);if(!(wc<vc&&0<Ec))return zc;let Rc;do zc.push(Rc=new Date(+wc)),Ba(wc,Ec),X(wc);while(Rc<wc&&wc<vc);return zc};tc.filter=wc=>ib(vc=>{if(vc>=vc)for(;X(vc),!wc(vc);)vc.setTime(vc-1)},(vc,Ec)=>{if(vc>=vc)if(0>Ec)for(;0>=++Ec;)for(;Ba(vc,-1),!wc(vc););else for(;0<=--Ec;)for(;Ba(vc,1),!wc(vc););});ab&&(tc.count=(wc,vc)=>{pb.setTime(+wc);Mb.setTime(+vc);X(pb);X(Mb);return Math.floor(ab(pb,Mb))},tc.every=wc=>{wc=Math.floor(wc);return isFinite(wc)&&0<wc?1<wc?tc.filter(Gb?vc=>0===
Gb(vc)%wc:vc=>0===tc.count(0,vc)%wc):tc:null});return tc}function Fb(X){return ib(Ba=>{Ba.setDate(Ba.getDate()-(Ba.getDay()+7-X)%7);Ba.setHours(0,0,0,0)},(Ba,ab)=>{Ba.setDate(Ba.getDate()+7*ab)},(Ba,ab)=>(ab-Ba-6E4*(ab.getTimezoneOffset()-Ba.getTimezoneOffset()))/6048E5)}function Zb(X){return ib(Ba=>{Ba.setUTCDate(Ba.getUTCDate()-(Ba.getUTCDay()+7-X)%7);Ba.setUTCHours(0,0,0,0)},(Ba,ab)=>{Ba.setUTCDate(Ba.getUTCDate()+7*ab)},(Ba,ab)=>(ab-Ba)/6048E5)}function oc(X,Ba){return null==X||null==Ba?NaN:X<
Ba?-1:X>Ba?1:X>=Ba?0:NaN}function kc(X,Ba){return null==X||null==Ba?NaN:Ba<X?-1:Ba>X?1:Ba>=X?0:NaN}function Ac(X){function Ba(wc,vc,Ec=0,zc=wc.length){if(Ec<zc){if(0!==ab(vc,vc))return zc;do{const Rc=Ec+zc>>>1;0>Gb(wc[Rc],vc)?Ec=Rc+1:zc=Rc}while(Ec<zc)}return Ec}let ab,Gb,tc;2!==X.length?(ab=oc,Gb=(wc,vc)=>oc(X(wc),vc),tc=(wc,vc)=>X(wc)-vc):(ab=X===oc||X===kc?X:Ab,tc=Gb=X);return{left:Ba,center:function(wc,vc,Ec=0,zc=wc.length){zc=Ba(wc,vc,Ec,zc-1);return zc>Ec&&tc(wc[zc-1],vc)>-tc(wc[zc],vc)?zc-
1:zc},right:function(wc,vc,Ec=0,zc=wc.length){if(Ec<zc){if(0!==ab(vc,vc))return zc;do{const Rc=Ec+zc>>>1;0>=Gb(wc[Rc],vc)?Ec=Rc+1:zc=Rc}while(Ec<zc)}return Ec}}}function Ab(){return 0}function ec(X,Ba,ab){var Gb=(Ba-X)/Math.max(0,ab),tc=Math.floor(Math.log10(Gb));Gb/=Math.pow(10,tc);Gb=Gb>=B?10:Gb>=z?5:Gb>=E?2:1;let wc;0>tc?(wc=Math.pow(10,-tc)/Gb,tc=Math.round(X*wc),Gb=Math.round(Ba*wc),tc/wc<X&&++tc,Gb/wc>Ba&&--Gb,wc=-wc):(wc=Math.pow(10,tc)*Gb,tc=Math.round(X/wc),Gb=Math.round(Ba/wc),tc*wc<X&&
++tc,Gb*wc>Ba&&--Gb);return Gb<tc&&.5<=ab&&2>ab?ec(X,Ba,2*ab):[tc,Gb,wc]}function pc(X,Ba,ab){return ec(+X,+Ba,+ab)[2]}function Ya(X,Ba,ab){Ba=+Ba;X=+X;ab=+ab;const Gb=Ba<X;X=Gb?pc(Ba,X,ab):pc(X,Ba,ab);return(Gb?-1:1)*(0>X?1/-X:X)}function rb(X){D.setFullYear(X);D.setMonth(0);D.setDate(1);D.setHours(0,0,0,0);return D}function Ib(X){return db.count(rb(X.getFullYear())-1,X)}function Nb(X){return p.count(rb(X.getFullYear())-1,X)}function Bb(X,Ba,ab,Gb,tc,wc,vc){return 0<=X&&100>X?(Ba=new Date(-1,Ba,
ab,Gb,tc,wc,vc),Ba.setFullYear(X),Ba):new Date(X,Ba,ab,Gb,tc,wc,vc)}function Ob(X){const Ba=Date.UTC(X.getUTCFullYear(),0,1);return ba.count(Ba-1,X)}function Xa(X){const Ba=Date.UTC(X.getUTCFullYear(),0,1);return C.count(Ba-1,X)}function qb(X){D.setTime(Date.UTC(X,0,1));return D.getUTCDay()}function Oa(X,Ba,ab,Gb,tc,wc,vc){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Ba,ab,Gb,tc,wc,vc)),X.setUTCFullYear(ab.y),X):new Date(Date.UTC(X,Ba,ab,Gb,tc,wc,vc))}function Ca(X,Ba,ab,Gb,tc){const wc=Ba||1,vc=g.peek(X);
Ba=(Yb,hc,yc)=>{yc=yc||Yb;return Qa(ab[yc],Gb[yc],Yb===vc&&wc,hc)};const Ec=new Date;X=g.toSet(X);const zc=X.year?Ba("year"):g.constant(2012),Rc=X.month?Ba("month"):X.quarter?Ba("quarter"):g.zero,Sd=X.week&&X.day?Ba("day",1,"weekday"):X.week?Ba("week",1):X.day?Ba("day",1):X.date?Ba("date",1):X.dayofyear?Ba("dayofyear",1):g.one,Ia=X.hours?Ba("hours"):g.zero,Wb=X.minutes?Ba("minutes"):g.zero,kb=X.seconds?Ba("seconds"):g.zero,bc=X.milliseconds?Ba("milliseconds"):g.zero;return function(Yb){Ec.setTime(+Yb);
Yb=zc(Ec);return tc(Yb,Rc(Ec),Sd(Ec,Yb),Ia(Ec),Wb(Ec),kb(Ec),bc(Ec))}}function Qa(X,Ba,ab,Gb){const tc=1>=ab?X:Gb?(wc,vc)=>Gb+ab*Math.floor((X(wc,vc)-Gb)/ab):(wc,vc)=>ab*Math.floor(X(wc,vc)/ab);return Ba?(wc,vc)=>Ba(tc(wc,vc),vc):tc}function lb(X,Ba,ab){return Ba+7*X-(ab+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Na=mb.reduce((X,Ba,ab)=>(X[Ba]=1+ab,X),{}),vb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",
hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},pb=new Date,Mb=new Date,Vb=ib(()=>{},(X,Ba)=>{X.setTime(+X+Ba)},(X,Ba)=>Ba-X);Vb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?ib(Ba=>{Ba.setTime(Math.floor(Ba/X)*X)},(Ba,ab)=>{Ba.setTime(+Ba+ab*X)},(Ba,ab)=>(ab-Ba)/X):Vb:null};Vb.range;var ob=ib(X=>{X.setTime(X-X.getMilliseconds())},(X,Ba)=>{X.setTime(+X+1E3*Ba)},(X,Ba)=>(Ba-X)/1E3,X=>X.getUTCSeconds());
ob.range;var ma=ib(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Ba)=>{X.setTime(+X+6E4*Ba)},(X,Ba)=>(Ba-X)/6E4,X=>X.getMinutes());ma.range;var Y=ib(X=>{X.setUTCSeconds(0,0)},(X,Ba)=>{X.setTime(+X+6E4*Ba)},(X,Ba)=>(Ba-X)/6E4,X=>X.getUTCMinutes());Y.range;var Ga=ib(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Ba)=>{X.setTime(+X+36E5*Ba)},(X,Ba)=>(Ba-X)/36E5,X=>X.getHours());Ga.range;var Ea=ib(X=>{X.setUTCMinutes(0,0,0)},(X,Ba)=>{X.setTime(+X+36E5*Ba)},
(X,Ba)=>(Ba-X)/36E5,X=>X.getUTCHours());Ea.range;const db=ib(X=>X.setHours(0,0,0,0),(X,Ba)=>X.setDate(X.getDate()+Ba),(X,Ba)=>(Ba-X-6E4*(Ba.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);db.range;const ba=ib(X=>{X.setUTCHours(0,0,0,0)},(X,Ba)=>{X.setUTCDate(X.getUTCDate()+Ba)},(X,Ba)=>(Ba-X)/864E5,X=>X.getUTCDate()-1);ba.range;var na=ib(X=>{X.setUTCHours(0,0,0,0)},(X,Ba)=>{X.setUTCDate(X.getUTCDate()+Ba)},(X,Ba)=>(Ba-X)/864E5,X=>Math.floor(X/864E5));na.range;const p=Fb(0);na=
Fb(1);var L=Fb(2),O=Fb(3),f=Fb(4),v=Fb(5),m=Fb(6);p.range;na.range;L.range;O.range;f.range;v.range;m.range;const C=Zb(0);na=Zb(1);L=Zb(2);O=Zb(3);f=Zb(4);v=Zb(5);m=Zb(6);C.range;na.range;L.range;O.range;f.range;v.range;m.range;na=ib(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Ba)=>{X.setMonth(X.getMonth()+Ba)},(X,Ba)=>Ba.getMonth()-X.getMonth()+12*(Ba.getFullYear()-X.getFullYear()),X=>X.getMonth());na.range;L=ib(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Ba)=>{X.setUTCMonth(X.getUTCMonth()+Ba)},
(X,Ba)=>Ba.getUTCMonth()-X.getUTCMonth()+12*(Ba.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());L.range;O=ib(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Ba)=>{X.setFullYear(X.getFullYear()+Ba)},(X,Ba)=>Ba.getFullYear()-X.getFullYear(),X=>X.getFullYear());O.every=X=>isFinite(X=Math.floor(X))&&0<X?ib(Ba=>{Ba.setFullYear(Math.floor(Ba.getFullYear()/X)*X);Ba.setMonth(0,1);Ba.setHours(0,0,0,0)},(Ba,ab)=>{Ba.setFullYear(Ba.getFullYear()+ab*X)}):null;O.range;f=ib(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,
0,0,0)},(X,Ba)=>{X.setUTCFullYear(X.getUTCFullYear()+Ba)},(X,Ba)=>Ba.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());f.every=X=>isFinite(X=Math.floor(X))&&0<X?ib(Ba=>{Ba.setUTCFullYear(Math.floor(Ba.getUTCFullYear()/X)*X);Ba.setUTCMonth(0,1);Ba.setUTCHours(0,0,0,0)},(Ba,ab)=>{Ba.setUTCFullYear(Ba.getUTCFullYear()+ab*X)}):null;f.range;const B=Math.sqrt(50),z=Math.sqrt(10),E=Math.sqrt(2),D=new Date,V={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>
X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>Ib(X),week:X=>Nb(X),weekday:(X,Ba)=>lb(Nb(X),X.getDay(),rb(Ba).getDay()),day:(X,Ba)=>lb(1,X.getDay(),rb(Ba).getDay())},Aa={quarter:X=>3*X,week:(X,Ba)=>lb(X,0,rb(Ba).getDay())},W={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),
milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>Ob(X),week:X=>Xa(X),day:(X,Ba)=>lb(1,X.getUTCDay(),qb(Ba)),weekday:(X,Ba)=>lb(Xa(X),X.getUTCDay(),qb(Ba))},u={quarter:X=>3*X,week:(X,Ba)=>lb(X,0,qb(Ba))},K={year:O,quarter:na.every(3),month:na,week:p,date:db,day:db,dayofyear:db,hours:Ga,minutes:ma,seconds:ob,milliseconds:Vb},va={year:f,quarter:L.every(3),month:L,week:C,date:ba,day:ba,dayofyear:ba,hours:Ea,minutes:Y,seconds:ob,milliseconds:Vb},Ja="year month date hours minutes seconds milliseconds".split(" ");
ob=Ja.slice(0,-1);ma=ob.slice(0,-1);Y=ma.slice(0,-1);Ga=Y.slice(0,-1);Ea=["year","month"];const Za=["year"],Wa=[[ob,1,1E3],[ob,5,5E3],[ob,15,15E3],[ob,30,3E4],[ma,1,6E4],[ma,5,3E5],[ma,15,9E5],[ma,30,18E5],[Y,1,36E5],[Y,3,108E5],[Y,6,216E5],[Y,12,432E5],[Ga,1,864E5],[["year","week"],1,6048E5],[Ea,1,2592E6],[Ea,3,7776E6],[Za,1,31536E6]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";
r.TIME_UNITS=mb;r.WEEK="week";r.YEAR="year";r.dayofyear=function(X){return Ib(new Date(X))};r.timeBin=function(X){var Ba=X.extent;X=X.maxbins||40;var ab=Math.abs(g.span(Ba))/X;let Gb=Ac(tc=>tc[2]).right(Wa,ab);Gb===Wa.length?(ab=Za,Ba=Ya(Ba[0]/31536E6,Ba[1]/31536E6,X)):Gb?(Gb=Wa[ab/Wa[Gb-1][2]<Wa[Gb][2]/ab?Gb-1:Gb],ab=Gb[0],Ba=Gb[1]):(ab=Ja,Ba=Math.max(Ya(Ba[0],Ba[1],X),1));return{units:ab,step:Ba}};r.timeFloor=function(X,Ba){return Ca(X,Ba||1,V,Aa,Bb)};r.timeInterval=function(X){return K[X]};r.timeOffset=
function(X,Ba,ab){return(X=K[X])?X.offset(Ba,ab):void 0};r.timeSequence=function(X,Ba,ab,Gb){return(X=K[X])?X.range(Ba,ab,Gb):void 0};r.timeUnitSpecifier=function(X,Ba){Ba=g.extend({},vb,Ba);X=ra(X);const ab=X.length;let Gb="",tc,wc,vc;for(tc=0;tc<ab;)for(wc=X.length;wc>tc;--wc)if(vc=X.slice(tc,wc).join("-"),null!=Ba[vc]){Gb+=Ba[vc];tc=wc;break}return Gb.trim()};r.timeUnits=ra;r.utcFloor=function(X,Ba){return Ca(X,Ba||1,W,u,Oa)};r.utcInterval=function(X){return va[X]};r.utcOffset=function(X,Ba,ab){return(X=
va[X])?X.offset(Ba,ab):void 0};r.utcSequence=function(X,Ba,ab,Gb){return(X=va[X])?X.range(Ba,ab,Gb):void 0};r.utcdayofyear=function(X){return Ob(new Date(X))};r.utcweek=function(X){return Xa(new Date(X))};r.week=function(X){return Nb(new Date(X))}})};
shadow$provide[24]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(23),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(Sa){const fb={};return qc=>fb[qc]||(fb[qc]=Sa(qc))}function Fb(Sa,fb,qc){var pd=(fb-Sa)/Math.max(0,qc),Kc=Math.floor(Math.log10(pd));pd/=Math.pow(10,Kc);pd=pd>=ce?10:pd>=Vd?5:pd>=
Te?2:1;let Xc;0>Kc?(Xc=Math.pow(10,-Kc)/pd,Kc=Math.round(Sa*Xc),pd=Math.round(fb*Xc),Kc/Xc<Sa&&++Kc,pd/Xc>fb&&--pd,Xc=-Xc):(Xc=Math.pow(10,Kc)*pd,Kc=Math.round(Sa/Xc),pd=Math.round(fb/Xc),Kc*Xc<Sa&&++Kc,pd*Xc>fb&&--pd);return pd<Kc&&.5<=qc&&2>qc?Fb(Sa,fb,2*qc):[Kc,pd,Xc]}function Zb(Sa,fb,qc){return Fb(+Sa,+fb,+qc)[2]}function oc(Sa,fb){if(0>(fb=(Sa=fb?Sa.toExponential(fb-1):Sa.toExponential()).indexOf("e")))return null;var qc=Sa.slice(0,fb);return[1<qc.length?qc[0]+qc.slice(2):qc,+Sa.slice(fb+1)]}
function kc(Sa){return Sa=oc(Math.abs(Sa)),Sa?Sa[1]:NaN}function Ac(Sa,fb){return function(qc,pd){for(var Kc=qc.length,Xc=[],Qc=0,qd=Sa[0],jd=0;0<Kc&&0<qd;){jd+qd+1>pd&&(qd=Math.max(1,pd-jd));Xc.push(qc.substring(Kc-=qd,Kc+qd));if((jd+=qd+1)>pd)break;qd=Sa[Qc=(Qc+1)%Sa.length]}return Xc.reverse().join(fb)}}function Ab(Sa){return function(fb){return fb.replace(/[0-9]/g,function(qc){return Sa[+qc]})}}function ec(Sa){if(!(fb=$d.exec(Sa)))throw Error("invalid format: "+Sa);var fb;return new pc({fill:fb[1],
align:fb[2],sign:fb[3],symbol:fb[4],zero:fb[5],width:fb[6],comma:fb[7],precision:fb[8]&&fb[8].slice(1),trim:fb[9],type:fb[10]})}function pc(Sa){this.fill=void 0===Sa.fill?" ":Sa.fill+"";this.align=void 0===Sa.align?"\x3e":Sa.align+"";this.sign=void 0===Sa.sign?"-":Sa.sign+"";this.symbol=void 0===Sa.symbol?"":Sa.symbol+"";this.zero=!!Sa.zero;this.width=void 0===Sa.width?void 0:+Sa.width;this.comma=!!Sa.comma;this.precision=void 0===Sa.precision?void 0:+Sa.precision;this.trim=!!Sa.trim;this.type=void 0===
Sa.type?"":Sa.type+""}function Ya(Sa,fb){fb=oc(Sa,fb);if(!fb)return Sa+"";Sa=fb[0];fb=fb[1];return 0>fb?"0."+Array(-fb).join("0")+Sa:Sa.length>fb+1?Sa.slice(0,fb+1)+"."+Sa.slice(fb+1):Sa+Array(fb-Sa.length+2).join("0")}function rb(Sa){return Sa}function Ib(Sa){function fb(Ad){function Xd(G){var ka=Yd,sa=le,Ha,Pa;if("c"===ae)sa=N(G)+sa,G="";else{G=+G;var dc=0>G||0>1/G;G=isNaN(G)?Qd:N(Math.abs(G),Dc);if(Gd){var lc=G.length,rc=1,sc=-1;a:for(;rc<lc;++rc)switch(G[rc]){case ".":sc=Ha=rc;break;case "0":0===
sc&&(sc=rc);Ha=rc;break;default:if(!+G[rc])break a;0<sc&&(sc=0)}G=0<sc?G.slice(0,sc)+G.slice(Ha+1):G}dc&&0===+G&&"+"!==Ge&&(dc=!1);ka=(dc?"("===Ge?Ge:jd:"-"===Ge||"("===Ge?"":Ge)+ka;sa=("s"===ae?gb[8+M/3]:"")+sa+(dc&&"("===Ge?")":"");if(da)for(dc=-1,Ha=G.length;++dc<Ha;)if(Pa=G.charCodeAt(dc),48>Pa||57<Pa){sa=(46===Pa?Xc+G.slice(dc+1):G.slice(dc))+sa;G=G.slice(0,dc);break}}id&&!ld&&(G=qc(G,Infinity));Pa=ka.length+G.length+sa.length;dc=Pa<Fc?Array(Fc-Pa+1).join(ye):"";id&&ld&&(G=qc(dc+G,dc.length?
Fc-sa.length:Infinity),dc="");switch(Oe){case "\x3c":G=ka+G+sa+dc;break;case "\x3d":G=ka+dc+G+sa;break;case "^":G=dc.slice(0,Pa=dc.length>>1)+ka+G+sa+dc.slice(Pa);break;default:G=dc+ka+G+sa}return Qc(G)}Ad=ec(Ad);var ye=Ad.fill,Oe=Ad.align,Ge=Ad.sign,tf=Ad.symbol,ld=Ad.zero,Fc=Ad.width,id=Ad.comma,Dc=Ad.precision,Gd=Ad.trim,ae=Ad.type;"n"===ae?(id=!0,ae="g"):Z[ae]||(void 0===Dc&&(Dc=12),Gd=!0,ae="g");if(ld||"0"===ye&&"\x3d"===Oe)ld=!0,ye="0",Oe="\x3d";var Yd="$"===tf?pd:"#"===tf&&/[boxX]/.test(ae)?
"0"+ae.toLowerCase():"",le="$"===tf?Kc:/[%p]/.test(ae)?qd:"",N=Z[ae],da=/[defgprs%]/.test(ae);Dc=void 0===Dc?6:/[gprs]/.test(ae)?Math.max(1,Math.min(21,Dc)):Math.max(0,Math.min(20,Dc));Xd.toString=function(){return Ad+""};return Xd}var qc=void 0===Sa.grouping||void 0===Sa.thousands?rb:Ac(La.call(Sa.grouping,Number),Sa.thousands+""),pd=void 0===Sa.currency?"":Sa.currency[0]+"",Kc=void 0===Sa.currency?"":Sa.currency[1]+"",Xc=void 0===Sa.decimal?".":Sa.decimal+"",Qc=void 0===Sa.numerals?rb:Ab(La.call(Sa.numerals,
String)),qd=void 0===Sa.percent?"%":Sa.percent+"",jd=void 0===Sa.minus?"−":Sa.minus+"",Qd=void 0===Sa.nan?"NaN":Sa.nan+"";return{format:fb,formatPrefix:function(Ad,Xd){var ye=fb((Ad=ec(Ad),Ad.type="f",Ad));Ad=3*Math.max(-8,Math.min(8,Math.floor(kc(Xd)/3)));var Oe=Math.pow(10,-Ad),Ge=gb[8+Ad/3];return function(tf){return ye(Oe*tf)+Ge}}}}function Nb(Sa,fb){return qc=>{qc=Sa(qc);const pd=qc.indexOf(fb);if(0>pd)return qc;a:{var Kc=qc.lastIndexOf("e");if(!(0<Kc)){for(Kc=qc.length;--Kc>pd;){var Xc=qc.charCodeAt(Kc);
if(48<=Xc&&57>=Xc){Kc+=1;break a}}Kc=void 0}}for(Xc=Kc<qc.length?qc.slice(Kc):"";--Kc>pd;)if("0"!==qc[Kc]){++Kc;break}return qc.slice(0,Kc)+Xc}}function Bb(Sa){const fb=ib(Sa.format),qc=Sa.formatPrefix;return{format:fb,formatPrefix:qc,formatFloat(pd){pd=ec(pd||",");if(null==pd.precision){pd.precision=12;switch(pd.type){case "%":pd.precision-=2;break;case "e":--pd.precision}return Nb(fb(pd),fb(".1f")(1)[1])}return fb(pd)},formatSpan(pd,Kc,Xc,Qc){Qc=ec(null==Qc?",f":Qc);var qd=+Kc;var jd=+pd;var Qd=
+Xc;jd=(Xc=qd<jd)?Zb(qd,jd,Qd):Zb(jd,qd,Qd);jd=(Xc?-1:1)*(0>jd?1/-jd:jd);pd=Math.max(Math.abs(pd),Math.abs(Kc));if(null==Qc.precision)switch(Qc.type){case "s":return Kc=isNaN,jd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kc(pd)/3)))-kc(Math.abs(jd))),Kc(Kc=jd)||(Qc.precision=Kc),qc(Qc,pd);case "":case "e":case "g":case "p":case "r":Kc=isNaN;jd=Math.abs(jd);pd=Math.abs(pd)-jd;pd=Math.max(0,kc(pd)-kc(jd))+1;Kc(Kc=pd)||(Qc.precision=Kc-("e"===Qc.type));break;case "f":case "%":isNaN(Kc=Math.max(0,
-kc(Math.abs(jd))))||(Qc.precision=Kc-2*("%"===Qc.type))}return fb(Qc)}}}function Ob(){return ic=Bb({format:Tb,formatPrefix:Bc})}function Xa(Sa){return Bb(Ib(Sa))}function qb(Sa){return arguments.length?ic=Xa(Sa):ic}function Oa(Sa,fb,qc,pd){function Kc(Xc){return Sa(Xc=0===arguments.length?new Date:new Date(+Xc)),Xc}Kc.floor=Xc=>(Sa(Xc=new Date(+Xc)),Xc);Kc.ceil=Xc=>(Sa(Xc=new Date(Xc-1)),fb(Xc,1),Sa(Xc),Xc);Kc.round=Xc=>{const Qc=Kc(Xc),qd=Kc.ceil(Xc);return Xc-Qc<qd-Xc?Qc:qd};Kc.offset=(Xc,Qc)=>
(fb(Xc=new Date(+Xc),null==Qc?1:Math.floor(Qc)),Xc);Kc.range=(Xc,Qc,qd)=>{const jd=[];Xc=Kc.ceil(Xc);qd=null==qd?1:Math.floor(qd);if(!(Xc<Qc&&0<qd))return jd;let Qd;do jd.push(Qd=new Date(+Xc)),fb(Xc,qd),Sa(Xc);while(Qd<Xc&&Xc<Qc);return jd};Kc.filter=Xc=>Oa(Qc=>{if(Qc>=Qc)for(;Sa(Qc),!Xc(Qc);)Qc.setTime(Qc-1)},(Qc,qd)=>{if(Qc>=Qc)if(0>qd)for(;0>=++qd;)for(;fb(Qc,-1),!Xc(Qc););else for(;0<=--qd;)for(;fb(Qc,1),!Xc(Qc););});qc&&(Kc.count=(Xc,Qc)=>{Jc.setTime(+Xc);dd.setTime(+Qc);Sa(Jc);Sa(dd);return Math.floor(qc(Jc,
dd))},Kc.every=Xc=>{Xc=Math.floor(Xc);return isFinite(Xc)&&0<Xc?1<Xc?Kc.filter(pd?Qc=>0===pd(Qc)%Xc:Qc=>0===Kc.count(0,Qc)%Xc):Kc:null});return Kc}function Ca(Sa){return Oa(fb=>{fb.setDate(fb.getDate()-(fb.getDay()+7-Sa)%7);fb.setHours(0,0,0,0)},(fb,qc)=>{fb.setDate(fb.getDate()+7*qc)},(fb,qc)=>(qc-fb-6E4*(qc.getTimezoneOffset()-fb.getTimezoneOffset()))/6048E5)}function Qa(Sa){return Oa(fb=>{fb.setUTCDate(fb.getUTCDate()-(fb.getUTCDay()+7-Sa)%7);fb.setUTCHours(0,0,0,0)},(fb,qc)=>{fb.setUTCDate(fb.getUTCDate()+
7*qc)},(fb,qc)=>(qc-fb)/6048E5)}function lb(Sa){if(0<=Sa.y&&100>Sa.y){var fb=new Date(-1,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L);fb.setFullYear(Sa.y);return fb}return new Date(Sa.y,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L)}function mb(Sa){if(0<=Sa.y&&100>Sa.y){var fb=new Date(Date.UTC(-1,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L));fb.setUTCFullYear(Sa.y);return fb}return new Date(Date.UTC(Sa.y,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L))}function Na(Sa,fb,qc){return{y:Sa,m:fb,d:qc,H:0,M:0,S:0,L:0}}function vb(Sa){function fb(da,G){return function(ka){var sa=
[],Ha=-1,Pa=0,dc=da.length,lc,rc;for(ka instanceof Date||(ka=new Date(+ka));++Ha<dc;)if(37===da.charCodeAt(Ha)){sa.push(da.slice(Pa,Ha));null!=(Pa=Ub[lc=da.charAt(++Ha)])?lc=da.charAt(++Ha):Pa="e"===lc?" ":"0";if(rc=G[lc])lc=rc(ka,Pa);sa.push(lc);Pa=Ha+1}sa.push(da.slice(Pa,Ha));return sa.join("")}}function qc(da,G){return function(ka){var sa=Na(1900,void 0,1);if(pd(sa,da,ka+="",0)!=ka.length)return null;if("Q"in sa)return new Date(sa.Q);if("s"in sa)return new Date(1E3*sa.s+("L"in sa?sa.L:0));!G||
"Z"in sa||(sa.Z=0);"p"in sa&&(sa.H=sa.H%12+12*sa.p);void 0===sa.m&&(sa.m="q"in sa?sa.q:0);if("V"in sa){if(1>sa.V||53<sa.V)return null;"w"in sa||(sa.w=1);if("Z"in sa){ka=mb(Na(sa.y,0,1));var Ha=ka.getUTCDay();ka=4<Ha||0===Ha?re.ceil(ka):re(ka);ka=vd.offset(ka,7*(sa.V-1));sa.y=ka.getUTCFullYear();sa.m=ka.getUTCMonth();sa.d=ka.getUTCDate()+(sa.w+6)%7}else ka=lb(Na(sa.y,0,1)),Ha=ka.getDay(),ka=4<Ha||0===Ha?Zd.ceil(ka):Zd(ka),ka=Oc.offset(ka,7*(sa.V-1)),sa.y=ka.getFullYear(),sa.m=ka.getMonth(),sa.d=ka.getDate()+
(sa.w+6)%7}else if("W"in sa||"U"in sa)"w"in sa||(sa.w="u"in sa?sa.u%7:"W"in sa?1:0),Ha="Z"in sa?mb(Na(sa.y,0,1)).getUTCDay():lb(Na(sa.y,0,1)).getDay(),sa.m=0,sa.d="W"in sa?(sa.w+6)%7+7*sa.W-(Ha+5)%7:sa.w+7*sa.U-(Ha+6)%7;return"Z"in sa?(sa.H+=sa.Z/100|0,sa.M+=sa.Z%100,mb(sa)):lb(sa)}}function pd(da,G,ka,sa){for(var Ha=0,Pa=G.length,dc=ka.length,lc;Ha<Pa;){if(sa>=dc)return-1;lc=G.charCodeAt(Ha++);if(37===lc){if(lc=G.charAt(Ha++),lc=N[lc in Ub?G.charAt(Ha++):lc],!lc||0>(sa=lc(da,ka,sa)))return-1}else if(lc!=
ka.charCodeAt(sa++))return-1}return sa}var Kc=Sa.dateTime,Xc=Sa.date,Qc=Sa.time,qd=Sa.periods,jd=Sa.days,Qd=Sa.shortDays,Ad=Sa.months,Xd=Sa.shortMonths,ye=Vb(qd),Oe=ob(qd),Ge=Vb(jd),tf=ob(jd),ld=Vb(Qd),Fc=ob(Qd),id=Vb(Ad),Dc=ob(Ad),Gd=Vb(Xd),ae=ob(Xd),Yd={a:function(da){return Qd[da.getDay()]},A:function(da){return jd[da.getDay()]},b:function(da){return Xd[da.getMonth()]},B:function(da){return Ad[da.getMonth()]},c:null,d:W,e:W,f:Za,g:Rc,G:Ia,H:u,I:K,j:va,L:Ja,m:Wa,M:X,p:function(da){return qd[+(12<=
da.getHours())]},q:function(da){return 1+~~(da.getMonth()/3)},Q:gc,s:Sc,S:Ba,u:ab,U:Gb,V:wc,w:vc,W:Ec,x:null,X:null,y:zc,Y:Sd,Z:Wb,"%":cc},le={a:function(da){return Qd[da.getUTCDay()]},A:function(da){return jd[da.getUTCDay()]},b:function(da){return Xd[da.getUTCMonth()]},B:function(da){return Ad[da.getUTCMonth()]},c:null,d:kb,e:kb,f:Gc,g:bb,G:Eb,H:bc,I:Yb,j:hc,L:yc,m:ad,M:Nd,p:function(da){return qd[+(12<=da.getUTCHours())]},q:function(da){return 1+~~(da.getUTCMonth()/3)},Q:gc,s:Sc,S:ud,u:Fa,U:hb,
V:la,w:H,W:ya,x:null,X:null,y:Ka,Y:jb,Z:mc,"%":cc},N={a:function(da,G,ka){return(G=ld.exec(G.slice(ka)))?(da.w=Fc.get(G[0].toLowerCase()),ka+G[0].length):-1},A:function(da,G,ka){return(G=Ge.exec(G.slice(ka)))?(da.w=tf.get(G[0].toLowerCase()),ka+G[0].length):-1},b:function(da,G,ka){return(G=Gd.exec(G.slice(ka)))?(da.m=ae.get(G[0].toLowerCase()),ka+G[0].length):-1},B:function(da,G,ka){return(G=id.exec(G.slice(ka)))?(da.m=Dc.get(G[0].toLowerCase()),ka+G[0].length):-1},c:function(da,G,ka){return pd(da,
Kc,G,ka)},d:f,e:f,f:E,g:na,G:ba,H:m,I:m,j:v,L:z,m:O,M:C,p:function(da,G,ka){return(G=ye.exec(G.slice(ka)))?(da.p=Oe.get(G[0].toLowerCase()),ka+G[0].length):-1},q:L,Q:V,s:Aa,S:B,u:Y,U:Ga,V:Ea,w:ma,W:db,x:function(da,G,ka){return pd(da,Xc,G,ka)},X:function(da,G,ka){return pd(da,Qc,G,ka)},y:na,Y:ba,Z:p,"%":D};Yd.x=fb(Xc,Yd);Yd.X=fb(Qc,Yd);Yd.c=fb(Kc,Yd);le.x=fb(Xc,le);le.X=fb(Qc,le);le.c=fb(Kc,le);return{format:function(da){var G=fb(da+="",Yd);G.toString=function(){return da};return G},parse:function(da){var G=
qc(da+="",!1);G.toString=function(){return da};return G},utcFormat:function(da){var G=fb(da+="",le);G.toString=function(){return da};return G},utcParse:function(da){var G=qc(da+="",!0);G.toString=function(){return da};return G}}}function pb(Sa,fb,qc){var pd=0>Sa?"-":"";Sa=(pd?-Sa:Sa)+"";var Kc=Sa.length;return pd+(Kc<qc?Array(qc-Kc+1).join(fb)+Sa:Sa)}function Mb(Sa){return Sa.replace(Ta,"\\$\x26")}function Vb(Sa){return new RegExp("^(?:"+Sa.map(Mb).join("|")+")","i")}function ob(Sa){return new Map(Sa.map((fb,
qc)=>[fb.toLowerCase(),qc]))}function ma(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+1)))?(Sa.w=+fb[0],qc+fb[0].length):-1}function Y(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+1)))?(Sa.u=+fb[0],qc+fb[0].length):-1}function Ga(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.U=+fb[0],qc+fb[0].length):-1}function Ea(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.V=+fb[0],qc+fb[0].length):-1}function db(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.W=+fb[0],qc+fb[0].length):-1}function ba(Sa,
fb,qc){return(fb=I.exec(fb.slice(qc,qc+4)))?(Sa.y=+fb[0],qc+fb[0].length):-1}function na(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.y=+fb[0]+(68<+fb[0]?1900:2E3),qc+fb[0].length):-1}function p(Sa,fb,qc){return(fb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fb.slice(qc,qc+6)))?(Sa.Z=fb[1]?0:-(fb[2]+(fb[3]||"00")),qc+fb[0].length):-1}function L(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+1)))?(Sa.q=3*fb[0]-3,qc+fb[0].length):-1}function O(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.m=fb[0]-1,qc+
fb[0].length):-1}function f(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.d=+fb[0],qc+fb[0].length):-1}function v(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+3)))?(Sa.m=0,Sa.d=+fb[0],qc+fb[0].length):-1}function m(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.H=+fb[0],qc+fb[0].length):-1}function C(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.M=+fb[0],qc+fb[0].length):-1}function B(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+2)))?(Sa.S=+fb[0],qc+fb[0].length):-1}function z(Sa,fb,qc){return(fb=
I.exec(fb.slice(qc,qc+3)))?(Sa.L=+fb[0],qc+fb[0].length):-1}function E(Sa,fb,qc){return(fb=I.exec(fb.slice(qc,qc+6)))?(Sa.L=Math.floor(fb[0]/1E3),qc+fb[0].length):-1}function D(Sa,fb,qc){return(Sa=ea.exec(fb.slice(qc,qc+1)))?qc+Sa[0].length:-1}function V(Sa,fb,qc){return(fb=I.exec(fb.slice(qc)))?(Sa.Q=+fb[0],qc+fb[0].length):-1}function Aa(Sa,fb,qc){return(fb=I.exec(fb.slice(qc)))?(Sa.s=+fb[0],qc+fb[0].length):-1}function W(Sa,fb){return pb(Sa.getDate(),fb,2)}function u(Sa,fb){return pb(Sa.getHours(),
fb,2)}function K(Sa,fb){return pb(Sa.getHours()%12||12,fb,2)}function va(Sa,fb){return pb(1+Oc.count(Xb(Sa),Sa),fb,3)}function Ja(Sa,fb){return pb(Sa.getMilliseconds(),fb,3)}function Za(Sa,fb){return Ja(Sa,fb)+"000"}function Wa(Sa,fb){return pb(Sa.getMonth()+1,fb,2)}function X(Sa,fb){return pb(Sa.getMinutes(),fb,2)}function Ba(Sa,fb){return pb(Sa.getSeconds(),fb,2)}function ab(Sa){Sa=Sa.getDay();return 0===Sa?7:Sa}function Gb(Sa,fb){return pb(Fd.count(Xb(Sa)-1,Sa),fb,2)}function tc(Sa){var fb=Sa.getDay();
return 4<=fb||0===fb?Ae(Sa):Ae.ceil(Sa)}function wc(Sa,fb){Sa=tc(Sa);return pb(Ae.count(Xb(Sa),Sa)+(4===Xb(Sa).getDay()),fb,2)}function vc(Sa){return Sa.getDay()}function Ec(Sa,fb){return pb(Zd.count(Xb(Sa)-1,Sa),fb,2)}function zc(Sa,fb){return pb(Sa.getFullYear()%100,fb,2)}function Rc(Sa,fb){Sa=tc(Sa);return pb(Sa.getFullYear()%100,fb,2)}function Sd(Sa,fb){return pb(Sa.getFullYear()%1E4,fb,4)}function Ia(Sa,fb){var qc=Sa.getDay();Sa=4<=qc||0===qc?Ae(Sa):Ae.ceil(Sa);return pb(Sa.getFullYear()%1E4,
fb,4)}function Wb(Sa){Sa=Sa.getTimezoneOffset();return(0<Sa?"-":(Sa*=-1,"+"))+pb(Sa/60|0,"0",2)+pb(Sa%60,"0",2)}function kb(Sa,fb){return pb(Sa.getUTCDate(),fb,2)}function bc(Sa,fb){return pb(Sa.getUTCHours(),fb,2)}function Yb(Sa,fb){return pb(Sa.getUTCHours()%12||12,fb,2)}function hc(Sa,fb){return pb(1+vd.count(Cc(Sa),Sa),fb,3)}function yc(Sa,fb){return pb(Sa.getUTCMilliseconds(),fb,3)}function Gc(Sa,fb){return yc(Sa,fb)+"000"}function ad(Sa,fb){return pb(Sa.getUTCMonth()+1,fb,2)}function Nd(Sa,
fb){return pb(Sa.getUTCMinutes(),fb,2)}function ud(Sa,fb){return pb(Sa.getUTCSeconds(),fb,2)}function Fa(Sa){Sa=Sa.getUTCDay();return 0===Sa?7:Sa}function hb(Sa,fb){return pb(df.count(Cc(Sa)-1,Sa),fb,2)}function ub(Sa){var fb=Sa.getUTCDay();return 4<=fb||0===fb?ta(Sa):ta.ceil(Sa)}function la(Sa,fb){Sa=ub(Sa);return pb(ta.count(Cc(Sa),Sa)+(4===Cc(Sa).getUTCDay()),fb,2)}function H(Sa){return Sa.getUTCDay()}function ya(Sa,fb){return pb(re.count(Cc(Sa)-1,Sa),fb,2)}function Ka(Sa,fb){return pb(Sa.getUTCFullYear()%
100,fb,2)}function bb(Sa,fb){Sa=ub(Sa);return pb(Sa.getUTCFullYear()%100,fb,2)}function jb(Sa,fb){return pb(Sa.getUTCFullYear()%1E4,fb,4)}function Eb(Sa,fb){var qc=Sa.getUTCDay();Sa=4<=qc||0===qc?ta(Sa):ta.ceil(Sa);return pb(Sa.getUTCFullYear()%1E4,fb,4)}function mc(){return"+0000"}function cc(){return"%"}function gc(Sa){return+Sa}function Sc(Sa){return Math.floor(+Sa/1E3)}function ed(Sa,fb,qc){qc=qc||{};ra.isObject(qc)||ra.error(`Invalid time multi-format specifier: ${qc}`);const pd=fb(g.SECONDS),
Kc=fb(g.MINUTES),Xc=fb(g.HOURS),Qc=fb(g.DATE),qd=fb(g.WEEK),jd=fb(g.MONTH),Qd=fb(g.QUARTER),Ad=fb(g.YEAR),Xd=Sa(qc[g.MILLISECONDS]||".%L"),ye=Sa(qc[g.SECONDS]||":%S"),Oe=Sa(qc[g.MINUTES]||"%I:%M"),Ge=Sa(qc[g.HOURS]||"%I %p"),tf=Sa(qc[g.DATE]||qc[g.DAY]||"%a %d"),ld=Sa(qc[g.WEEK]||"%b %d"),Fc=Sa(qc[g.MONTH]||"%B"),id=Sa(qc[g.QUARTER]||"%B"),Dc=Sa(qc[g.YEAR]||"%Y");return Gd=>(pd(Gd)<Gd?Xd:Kc(Gd)<Gd?ye:Xc(Gd)<Gd?Oe:Qc(Gd)<Gd?Ge:jd(Gd)<Gd?qd(Gd)<Gd?tf:ld:Ad(Gd)<Gd?Qd(Gd)<Gd?Fc:id:Dc)(Gd)}function fd(Sa){const fb=
ib(Sa.format),qc=ib(Sa.utcFormat);return{timeFormat:pd=>ra.isString(pd)?fb(pd):ed(fb,g.timeInterval,pd),utcFormat:pd=>ra.isString(pd)?qc(pd):ed(qc,g.utcInterval,pd),timeParse:ib(Sa.parse),utcParse:ib(Sa.utcParse)}}function Rd(){return de=fd({format:Pc,parse:xc,utcFormat:Tc,utcParse:md})}function Td(Sa){return fd(vb(Sa))}function Cd(Sa){return arguments.length?de=Td(Sa):de}function be(Sa,fb){var qc=arguments.length;qc&&2!==qc&&ra.error("defaultLocale expects either zero or two arguments.");if(qc){qc=
qb(Sa);var pd=Cd(fb);qc=ra.extend({},qc,pd)}else qc=qb(),pd=Cd(),qc=ra.extend({},qc,pd);return qc}const ce=Math.sqrt(50),Vd=Math.sqrt(10),Te=Math.sqrt(2);var $d=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ec.prototype=pc.prototype;pc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var M,Z={"%":(Sa,fb)=>(100*Sa).toFixed(fb),b:Sa=>Math.round(Sa).toString(2),c:Sa=>Sa+"",d:function(Sa){return 1E21<=Math.abs(Sa=Math.round(Sa))?Sa.toLocaleString("en").replace(/,/g,""):Sa.toString(10)},e:(Sa,fb)=>Sa.toExponential(fb),f:(Sa,fb)=>Sa.toFixed(fb),g:(Sa,fb)=>Sa.toPrecision(fb),o:Sa=>Math.round(Sa).toString(8),p:(Sa,fb)=>Ya(100*Sa,fb),r:Ya,s:function(Sa,fb){var qc=oc(Sa,fb);if(!qc)return Sa+"";var pd=qc[0];qc=qc[1];qc=qc-(M=3*Math.max(-8,Math.min(8,Math.floor(qc/3))))+
1;var Kc=pd.length;return qc===Kc?pd:qc>Kc?pd+Array(qc-Kc+1).join("0"):0<qc?pd.slice(0,qc)+"."+pd.slice(qc):"0."+Array(1-qc).join("0")+oc(Sa,Math.max(0,fb+qc-1))[0]},X:Sa=>Math.round(Sa).toString(16).toUpperCase(),x:Sa=>Math.round(Sa).toString(16)},La=Array.prototype.map,gb="y z a f p n µ m  k M G T P E Z Y".split(" "),Jb,Tb,Bc;(function(Sa){Jb=Ib(Sa);Tb=Jb.format;Bc=Jb.formatPrefix;return Jb})({thousands:",",grouping:[3],currency:["$",""]});let ic;Ob();const Jc=new Date,dd=new Date,Oc=Oa(Sa=>Sa.setHours(0,
0,0,0),(Sa,fb)=>Sa.setDate(Sa.getDate()+fb),(Sa,fb)=>(fb-Sa-6E4*(fb.getTimezoneOffset()-Sa.getTimezoneOffset()))/864E5,Sa=>Sa.getDate()-1);Oc.range;const vd=Oa(Sa=>{Sa.setUTCHours(0,0,0,0)},(Sa,fb)=>{Sa.setUTCDate(Sa.getUTCDate()+fb)},(Sa,fb)=>(fb-Sa)/864E5,Sa=>Sa.getUTCDate()-1);vd.range;const Jd=Oa(Sa=>{Sa.setUTCHours(0,0,0,0)},(Sa,fb)=>{Sa.setUTCDate(Sa.getUTCDate()+fb)},(Sa,fb)=>(fb-Sa)/864E5,Sa=>Math.floor(Sa/864E5));Jd.range;const Fd=Ca(0),Zd=Ca(1),Md=Ca(2),se=Ca(3),Ae=Ca(4),hf=Ca(5),cf=Ca(6);
Fd.range;Zd.range;Md.range;se.range;Ae.range;hf.range;cf.range;const df=Qa(0),re=Qa(1),nf=Qa(2),T=Qa(3),ta=Qa(4),eb=Qa(5),zb=Qa(6);df.range;re.range;nf.range;T.range;ta.range;eb.range;zb.range;const Xb=Oa(Sa=>{Sa.setMonth(0,1);Sa.setHours(0,0,0,0)},(Sa,fb)=>{Sa.setFullYear(Sa.getFullYear()+fb)},(Sa,fb)=>fb.getFullYear()-Sa.getFullYear(),Sa=>Sa.getFullYear());Xb.every=Sa=>isFinite(Sa=Math.floor(Sa))&&0<Sa?Oa(fb=>{fb.setFullYear(Math.floor(fb.getFullYear()/Sa)*Sa);fb.setMonth(0,1);fb.setHours(0,0,0,
0)},(fb,qc)=>{fb.setFullYear(fb.getFullYear()+qc*Sa)}):null;Xb.range;const Cc=Oa(Sa=>{Sa.setUTCMonth(0,1);Sa.setUTCHours(0,0,0,0)},(Sa,fb)=>{Sa.setUTCFullYear(Sa.getUTCFullYear()+fb)},(Sa,fb)=>fb.getUTCFullYear()-Sa.getUTCFullYear(),Sa=>Sa.getUTCFullYear());Cc.every=Sa=>isFinite(Sa=Math.floor(Sa))&&0<Sa?Oa(fb=>{fb.setUTCFullYear(Math.floor(fb.getUTCFullYear()/Sa)*Sa);fb.setUTCMonth(0,1);fb.setUTCHours(0,0,0,0)},(fb,qc)=>{fb.setUTCFullYear(fb.getUTCFullYear()+qc*Sa)}):null;Cc.range;var Ub={"-":"",
_:" ",0:"0"},I=/^\s*\d+/,ea=/^%/,Ta=/[\\^$*+?|[\]().{}]/g,$b,Pc,xc,Tc,md;(function(Sa){$b=vb(Sa);Pc=$b.format;xc=$b.parse;Tc=$b.utcFormat;md=$b.utcParse;return $b})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let de;Rd();r.defaultLocale=be;r.locale=function(Sa,fb){Sa=Sa?Xa(Sa):qb();fb=fb?Td(fb):Cd();return ra.extend({},Sa,fb)};r.numberFormatDefaultLocale=qb;r.numberFormatLocale=Xa;r.resetDefaultLocale=function(){Ob();Rd();return be()};r.resetNumberFormatDefaultLocale=Ob;r.resetTimeFormatDefaultLocale=Rd;r.timeFormatDefaultLocale=Cd;r.timeFormatLocale=Td})};
shadow$provide[25]=function(ac,Cb,Wc,nb){function r(Fb){var Zb=Fb.length;if(0<Zb%4)throw Error("Invalid string. Length must be a multiple of 4");Fb=Fb.indexOf("\x3d");-1===Fb&&(Fb=Zb);return[Fb,Fb===Zb?0:4-Fb%4]}nb.byteLength=function(Fb){Fb=r(Fb);var Zb=Fb[1];return 3*(Fb[0]+Zb)/4-Zb};nb.toByteArray=function(Fb){var Zb=r(Fb);var oc=Zb[0];Zb=Zb[1];var kc=new ib(3*(oc+Zb)/4-Zb),Ac=0,Ab=0<Zb?oc-4:oc,ec;for(ec=0;ec<Ab;ec+=4)oc=ra[Fb.charCodeAt(ec)]<<18|ra[Fb.charCodeAt(ec+1)]<<12|ra[Fb.charCodeAt(ec+
2)]<<6|ra[Fb.charCodeAt(ec+3)],kc[Ac++]=oc>>16&255,kc[Ac++]=oc>>8&255,kc[Ac++]=oc&255;2===Zb&&(oc=ra[Fb.charCodeAt(ec)]<<2|ra[Fb.charCodeAt(ec+1)]>>4,kc[Ac++]=oc&255);1===Zb&&(oc=ra[Fb.charCodeAt(ec)]<<10|ra[Fb.charCodeAt(ec+1)]<<4|ra[Fb.charCodeAt(ec+2)]>>2,kc[Ac++]=oc>>8&255,kc[Ac++]=oc&255);return kc};nb.fromByteArray=function(Fb){for(var Zb=Fb.length,oc=Zb%3,kc=[],Ac=0,Ab=Zb-oc;Ac<Ab;Ac+=16383){for(var ec=kc,pc=ec.push,Ya,rb=Fb,Ib=Ac+16383>Ab?Ab:Ac+16383,Nb=[],Bb=Ac;Bb<Ib;Bb+=3)Ya=(rb[Bb]<<16&
16711680)+(rb[Bb+1]<<8&65280)+(rb[Bb+2]&255),Nb.push(g[Ya>>18&63]+g[Ya>>12&63]+g[Ya>>6&63]+g[Ya&63]);Ya=Nb.join("");pc.call(ec,Ya)}1===oc?(Fb=Fb[Zb-1],kc.push(g[Fb>>2]+g[Fb<<4&63]+"\x3d\x3d")):2===oc&&(Fb=(Fb[Zb-2]<<8)+Fb[Zb-1],kc.push(g[Fb>>10]+g[Fb>>4&63]+g[Fb<<2&63]+"\x3d"));return kc.join("")};var g=[],ra=[],ib="undefined"!==typeof Uint8Array?Uint8Array:Array;for(ac=0;64>ac;++ac)g[ac]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ac],ra["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(ac)]=
ac;ra[45]=62;ra[95]=63};
shadow$provide[26]=function(ac,Cb,Wc,nb){nb.read=function(r,g,ra,ib,Fb){var Zb=8*Fb-ib-1;var oc=(1<<Zb)-1,kc=oc>>1,Ac=-7;Fb=ra?Fb-1:0;var Ab=ra?-1:1,ec=r[g+Fb];Fb+=Ab;ra=ec&(1<<-Ac)-1;ec>>=-Ac;for(Ac+=Zb;0<Ac;ra=256*ra+r[g+Fb],Fb+=Ab,Ac-=8);Zb=ra&(1<<-Ac)-1;ra>>=-Ac;for(Ac+=ib;0<Ac;Zb=256*Zb+r[g+Fb],Fb+=Ab,Ac-=8);if(0===ra)ra=1-kc;else{if(ra===oc)return Zb?NaN:Infinity*(ec?-1:1);Zb+=Math.pow(2,ib);ra-=kc}return(ec?-1:1)*Zb*Math.pow(2,ra-ib)};nb.write=function(r,g,ra,ib,Fb,Zb){var oc,kc=8*Zb-Fb-1,
Ac=(1<<kc)-1,Ab=Ac>>1,ec=23===Fb?Math.pow(2,-24)-Math.pow(2,-77):0;Zb=ib?0:Zb-1;var pc=ib?1:-1,Ya=0>g||0===g&&0>1/g?1:0;g=Math.abs(g);isNaN(g)||Infinity===g?(g=isNaN(g)?1:0,ib=Ac):(ib=Math.floor(Math.log(g)/Math.LN2),1>g*(oc=Math.pow(2,-ib))&&(ib--,oc*=2),g=1<=ib+Ab?g+ec/oc:g+ec*Math.pow(2,1-Ab),2<=g*oc&&(ib++,oc/=2),ib+Ab>=Ac?(g=0,ib=Ac):1<=ib+Ab?(g=(g*oc-1)*Math.pow(2,Fb),ib+=Ab):(g=g*Math.pow(2,Ab-1)*Math.pow(2,Fb),ib=0));for(;8<=Fb;r[ra+Zb]=g&255,Zb+=pc,g/=256,Fb-=8);ib=ib<<Fb|g;for(kc+=Fb;0<
kc;r[ra+Zb]=ib&255,Zb+=pc,ib/=256,kc-=8);r[ra+Zb-pc]|=128*Ya}};
shadow$provide[27]=function(ac,Cb,Wc,nb){function r(p){if(2147483647<p)throw new RangeError('The value "'+p+'" is invalid for option "size"');p=new Uint8Array(p);Object.setPrototypeOf(p,g.prototype);return p}function g(p,L,O){if("number"===typeof p){if("string"===typeof L)throw new TypeError('The "string" argument must be of type string. Received type number');return Fb(p)}return ra(p,L,O)}function ra(p,L,O){if("string"===typeof p){var f=L;if("string"!==typeof f||""===f)f="utf8";if(!g.isEncoding(f))throw new TypeError("Unknown encoding: "+
f);L=Ab(p,f)|0;O=r(L);p=O.write(p,f);p!==L&&(O=O.slice(0,p));return O}if(ArrayBuffer.isView(p))return ob(p,Uint8Array)?(p=new Uint8Array(p),p=oc(p.buffer,p.byteOffset,p.byteLength)):p=Zb(p),p;if(null==p)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ob(p,ArrayBuffer)||p&&ob(p.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(ob(p,SharedArrayBuffer)||p&&ob(p.buffer,SharedArrayBuffer)))return oc(p,
L,O);if("number"===typeof p)throw new TypeError('The "value" argument must not be of type number. Received type number');f=p.valueOf&&p.valueOf();if(null!=f&&f!==p)return g.from(f,L,O);if(f=kc(p))return f;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof p[Symbol.toPrimitive])return g.from(p[Symbol.toPrimitive]("string"),L,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);}
function ib(p){if("number"!==typeof p)throw new TypeError('"size" argument must be of type number');if(0>p)throw new RangeError('The value "'+p+'" is invalid for option "size"');}function Fb(p){ib(p);return r(0>p?0:Ac(p)|0)}function Zb(p){const L=0>p.length?0:Ac(p.length)|0,O=r(L);for(let f=0;f<L;f+=1)O[f]=p[f]&255;return O}function oc(p,L,O){if(0>L||p.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<L+(O||0))throw new RangeError('"length" is outside of buffer bounds');
p=void 0===L&&void 0===O?new Uint8Array(p):void 0===O?new Uint8Array(p,L):new Uint8Array(p,L,O);Object.setPrototypeOf(p,g.prototype);return p}function kc(p){if(g.isBuffer(p)){var L=Ac(p.length)|0;const O=r(L);if(0===O.length)return O;p.copy(O,0,0,L);return O}if(void 0!==p.length)return(L="number"!==typeof p.length)||(L=p.length,L=L!==L),L?r(0):Zb(p);if("Buffer"===p.type&&Array.isArray(p.data))return Zb(p.data)}function Ac(p){if(2147483647<=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return p|0}function Ab(p,L){if(g.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ob(p,ArrayBuffer))return p.byteLength;if("string"!==typeof p)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const O=p.length,f=2<arguments.length&&!0===arguments[2];if(!f&&0===O)return 0;let v=!1;for(;;)switch(L){case "ascii":case "latin1":case "binary":return O;case "utf8":case "utf-8":return pb(p).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*O;case "hex":return O>>>1;case "base64":return Mb(p).length;default:if(v)return f?-1:pb(p).length;L=(""+L).toLowerCase();v=!0}}function ec(p,L,O){let f=!1;if(void 0===L||0>L)L=0;if(L>this.length)return"";if(void 0===O||O>this.length)O=this.length;if(0>=O)return"";O>>>=0;L>>>=0;if(O<=L)return"";for(p||(p="utf8");;)switch(p){case "hex":p=L;L=this.length;if(!p||0>p)p=0;if(!O||0>O||O>L)O=L;for(L="";p<O;++p)L+=na[this[p]];return L;case "utf8":case "utf-8":return Ib(this,
L,O);case "ascii":p=L;L="";for(O=Math.min(this.length,O);p<O;++p)L+=String.fromCharCode(this[p]&127);return L;case "latin1":case "binary":p=L;L="";for(O=Math.min(this.length,O);p<O;++p)L+=String.fromCharCode(this[p]);return L;case "base64":return p=L,O=0===p&&O===this.length?Ga.fromByteArray(this):Ga.fromByteArray(this.slice(p,O)),O;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":O=this.slice(L,O);p="";for(L=0;L<O.length-1;L+=2)p+=String.fromCharCode(O[L]+256*O[L+1]);return p;default:if(f)throw new TypeError("Unknown encoding: "+
p);p=(p+"").toLowerCase();f=!0}}function pc(p,L,O){const f=p[L];p[L]=p[O];p[O]=f}function Ya(p,L,O,f,v){if(0===p.length)return-1;"string"===typeof O?(f=O,O=0):2147483647<O?O=2147483647:-2147483648>O&&(O=-2147483648);O=+O;O!==O&&(O=v?0:p.length-1);0>O&&(O=p.length+O);if(O>=p.length){if(v)return-1;O=p.length-1}else if(0>O)if(v)O=0;else return-1;"string"===typeof L&&(L=g.from(L,f));if(g.isBuffer(L))return 0===L.length?-1:rb(p,L,O,f,v);if("number"===typeof L)return L&=255,"function"===typeof Uint8Array.prototype.indexOf?
v?Uint8Array.prototype.indexOf.call(p,L,O):Uint8Array.prototype.lastIndexOf.call(p,L,O):rb(p,[L],O,f,v);throw new TypeError("val must be string, number or Buffer");}function rb(p,L,O,f,v){function m(E,D){return 1===C?E[D]:E.readUInt16BE(D*C)}let C=1;var B=p.length;let z=L.length;if(void 0!==f&&(f=String(f).toLowerCase(),"ucs2"===f||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>p.length||2>L.length)return-1;C=2;B/=2;z/=2;O/=2}if(v)for(f=-1;O<B;O++)if(m(p,O)===m(L,-1===f?0:O-f)){if(-1===f&&(f=O),
O-f+1===z)return f*C}else-1!==f&&(O-=O-f),f=-1;else for(O+z>B&&(O=B-z);0<=O;O--){B=!0;for(f=0;f<z;f++)if(m(p,O+f)!==m(L,f)){B=!1;break}if(B)return O}return-1}function Ib(p,L,O){O=Math.min(p.length,O);for(var f=[];L<O;){var v=p[L];let m=null,C=239<v?4:223<v?3:191<v?2:1;if(L+C<=O){let B,z,E;switch(C){case 1:128>v&&(m=v);break;case 2:B=p[L+1];128===(B&192)&&(v=(v&31)<<6|B&63,127<v&&(m=v));break;case 3:B=p[L+1];z=p[L+2];128===(B&192)&&128===(z&192)&&(v=(v&15)<<12|(B&63)<<6|z&63,2047<v&&(55296>v||57343<
v)&&(m=v));break;case 4:B=p[L+1],z=p[L+2],E=p[L+3],128===(B&192)&&128===(z&192)&&128===(E&192)&&(v=(v&15)<<18|(B&63)<<12|(z&63)<<6|E&63,65535<v&&1114112>v&&(m=v))}}null===m?(m=65533,C=1):65535<m&&(m-=65536,f.push(m>>>10&1023|55296),m=56320|m&1023);f.push(m);L+=C}L=f.length;if(4096>=L)f=String.fromCharCode.apply(String,f);else{p="";for(O=0;O<L;)p+=String.fromCharCode.apply(String,f.slice(O,O+=4096));f=p}return f}function Nb(p,L,O){if(0!==p%1||0>p)throw new RangeError("offset is not uint");if(p+L>O)throw new RangeError("Trying to access beyond buffer length");
}function Bb(p,L,O,f,v,m){if(!g.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>v||L<m)throw new RangeError('"value" argument is out of bounds');if(O+f>p.length)throw new RangeError("Index out of range");}function Ob(p,L,O,f,v){mb(L,f,v,p,O,7);f=Number(L&BigInt(4294967295));p[O++]=f;f>>=8;p[O++]=f;f>>=8;p[O++]=f;p[O++]=f>>8;L=Number(L>>BigInt(32)&BigInt(4294967295));p[O++]=L;L>>=8;p[O++]=L;L>>=8;p[O++]=L;p[O++]=L>>8;return O}function Xa(p,L,O,f,v){mb(L,f,v,p,O,
7);f=Number(L&BigInt(4294967295));p[O+7]=f;f>>=8;p[O+6]=f;f>>=8;p[O+5]=f;p[O+4]=f>>8;L=Number(L>>BigInt(32)&BigInt(4294967295));p[O+3]=L;L>>=8;p[O+2]=L;L>>=8;p[O+1]=L;p[O]=L>>8;return O+8}function qb(p,L,O,f,v,m){if(O+f>p.length)throw new RangeError("Index out of range");if(0>O)throw new RangeError("Index out of range");}function Oa(p,L,O,f,v){L=+L;O>>>=0;v||qb(p,L,O,4,3.4028234663852886E38,-3.4028234663852886E38);Ea.write(p,L,O,f,23,4);return O+4}function Ca(p,L,O,f,v){L=+L;O>>>=0;v||qb(p,L,O,8,
1.7976931348623157E308,-1.7976931348623157E308);Ea.write(p,L,O,f,52,8);return O+8}function Qa(p,L,O){db[p]=class extends O{constructor(){super();Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${p}]`;this.stack;delete this.name}get code(){return p}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}function lb(p){let L=
"",O=p.length;const f="-"===p[0]?1:0;for(;O>=f+4;O-=3)L=`_${p.slice(O-3,O)}${L}`;return`${p.slice(0,O)}${L}`}function mb(p,L,O,f,v,m){if(p>O||p<L)throw f="bigint"===typeof L?"n":"",new db.ERR_OUT_OF_RANGE("value",3<m?0===L||L===BigInt(0)?`>= 0${f} and < 2${f} ** ${8*(m+1)}${f}`:`>= -(2${f} ** ${8*(m+1)-1}${f}) and < 2 ** `+`${8*(m+1)-1}${f}`:`>= ${L}${f} and <= ${O}${f}`,p);Na(v,"offset");void 0!==f[v]&&void 0!==f[v+m]||vb(v,f.length-(m+1))}function Na(p,L){if("number"!==typeof p)throw new db.ERR_INVALID_ARG_TYPE(L,
"number",p);}function vb(p,L,O){if(Math.floor(p)!==p)throw Na(p,O),new db.ERR_OUT_OF_RANGE(O||"offset","an integer",p);if(0>L)throw new db.ERR_BUFFER_OUT_OF_BOUNDS;throw new db.ERR_OUT_OF_RANGE(O||"offset",`>= ${O?1:0} and <= ${L}`,p);}function pb(p,L){L=L||Infinity;let O;const f=p.length;let v=null;const m=[];for(let C=0;C<f;++C){O=p.charCodeAt(C);if(55295<O&&57344>O){if(!v){if(56319<O){-1<(L-=3)&&m.push(239,191,189);continue}else if(C+1===f){-1<(L-=3)&&m.push(239,191,189);continue}v=O;continue}if(56320>
O){-1<(L-=3)&&m.push(239,191,189);v=O;continue}O=(v-55296<<10|O-56320)+65536}else v&&-1<(L-=3)&&m.push(239,191,189);v=null;if(128>O){if(0>--L)break;m.push(O)}else if(2048>O){if(0>(L-=2))break;m.push(O>>6|192,O&63|128)}else if(65536>O){if(0>(L-=3))break;m.push(O>>12|224,O>>6&63|128,O&63|128)}else if(1114112>O){if(0>(L-=4))break;m.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw Error("Invalid code point");}return m}function Mb(p){var L=Ga,O=L.toByteArray;p=p.split("\x3d")[0];p=p.trim().replace(ba,
"");if(2>p.length)p="";else for(;0!==p.length%4;)p+="\x3d";return O.call(L,p)}function Vb(p,L,O,f){let v;for(v=0;v<f&&!(v+O>=L.length||v>=p.length);++v)L[v+O]=p[v];return v}function ob(p,L){return p instanceof L||null!=p&&null!=p.constructor&&null!=p.constructor.name&&p.constructor.name===L.name}function ma(p){return"undefined"===typeof BigInt?Y:p}function Y(){throw Error("BigInt not supported");}const Ga=Cb(25),Ea=Cb(26);ac="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;nb.Buffer=g;nb.SlowBuffer=function(p){+p!=p&&(p=0);return g.alloc(+p)};nb.INSPECT_MAX_BYTES=50;nb.kMaxLength=2147483647;g.TYPED_ARRAY_SUPPORT=function(){try{const p=new Uint8Array(1),L={foo:function(){return 42}};Object.setPrototypeOf(L,Uint8Array.prototype);Object.setPrototypeOf(p,L);return 42===p.foo()}catch(p){return!1}}();g.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}});Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});g.poolSize=8192;g.from=function(p,L,O){return ra(p,L,O)};Object.setPrototypeOf(g.prototype,Uint8Array.prototype);Object.setPrototypeOf(g,Uint8Array);g.alloc=function(p,L,O){ib(p);p=0>=p?r(p):void 0!==L?"string"===typeof O?r(p).fill(L,O):r(p).fill(L):r(p);return p};g.allocUnsafe=
function(p){return Fb(p)};g.allocUnsafeSlow=function(p){return Fb(p)};g.isBuffer=function(p){return null!=p&&!0===p._isBuffer&&p!==g.prototype};g.compare=function(p,L){ob(p,Uint8Array)&&(p=g.from(p,p.offset,p.byteLength));ob(L,Uint8Array)&&(L=g.from(L,L.offset,L.byteLength));if(!g.isBuffer(p)||!g.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===L)return 0;let O=p.length,f=L.length;for(let v=0,m=Math.min(O,f);v<m;++v)if(p[v]!==L[v]){O=
p[v];f=L[v];break}return O<f?-1:f<O?1:0};g.isEncoding=function(p){switch(String(p).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};g.concat=function(p,L){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(0===p.length)return g.alloc(0);let O;if(void 0===L)for(O=L=0;O<p.length;++O)L+=p[O].length;L=g.allocUnsafe(L);let f=
0;for(O=0;O<p.length;++O){let v=p[O];if(ob(v,Uint8Array))f+v.length>L.length?(g.isBuffer(v)||(v=g.from(v)),v.copy(L,f)):Uint8Array.prototype.set.call(L,v,f);else if(g.isBuffer(v))v.copy(L,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=v.length}return L};g.byteLength=Ab;g.prototype._isBuffer=!0;g.prototype.swap16=function(){const p=this.length;if(0!==p%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<p;L+=2)pc(this,L,L+1);return this};
g.prototype.swap32=function(){const p=this.length;if(0!==p%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<p;L+=4)pc(this,L,L+3),pc(this,L+1,L+2);return this};g.prototype.swap64=function(){const p=this.length;if(0!==p%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<p;L+=8)pc(this,L,L+7),pc(this,L+1,L+6),pc(this,L+2,L+5),pc(this,L+3,L+4);return this};g.prototype.toString=function(){const p=this.length;return 0===p?"":0===arguments.length?
Ib(this,0,p):ec.apply(this,arguments)};g.prototype.toLocaleString=g.prototype.toString;g.prototype.equals=function(p){if(!g.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:0===g.compare(this,p)};g.prototype.inspect=function(){let p;const L=nb.INSPECT_MAX_BYTES;p=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim();this.length>L&&(p+=" ... ");return"\x3cBuffer "+p+"\x3e"};ac&&(g.prototype[ac]=g.prototype.inspect);g.prototype.compare=function(p,L,O,f,v){ob(p,Uint8Array)&&
(p=g.from(p,p.offset,p.byteLength));if(!g.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);void 0===L&&(L=0);void 0===O&&(O=p?p.length:0);void 0===f&&(f=0);void 0===v&&(v=this.length);if(0>L||O>p.length||0>f||v>this.length)throw new RangeError("out of range index");if(f>=v&&L>=O)return 0;if(f>=v)return-1;if(L>=O)return 1;L>>>=0;O>>>=0;f>>>=0;v>>>=0;if(this===p)return 0;let m=v-f,C=O-L;const B=Math.min(m,C);f=this.slice(f,v);
p=p.slice(L,O);for(L=0;L<B;++L)if(f[L]!==p[L]){m=f[L];C=p[L];break}return m<C?-1:C<m?1:0};g.prototype.includes=function(p,L,O){return-1!==this.indexOf(p,L,O)};g.prototype.indexOf=function(p,L,O){return Ya(this,p,L,O,!0)};g.prototype.lastIndexOf=function(p,L,O){return Ya(this,p,L,O,!1)};g.prototype.write=function(p,L,O,f){if(void 0===L)f="utf8",O=this.length,L=0;else if(void 0===O&&"string"===typeof L)f=L,O=this.length,L=0;else if(isFinite(L))L>>>=0,isFinite(O)?(O>>>=0,void 0===f&&(f="utf8")):(f=O,
O=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var v=this.length-L;if(void 0===O||O>v)O=v;if(0<p.length&&(0>O||0>L)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(v=!1;;)switch(f){case "hex":a:{L=Number(L)||0;f=this.length-L;O?(O=Number(O),O>f&&(O=f)):O=f;f=p.length;O>f/2&&(O=f/2);for(f=0;f<O;++f){v=parseInt(p.substr(2*f,2),16);if(v!==v){p=f;break a}this[L+f]=v}p=f}return p;case "utf8":case "utf-8":return Vb(pb(p,
this.length-L),this,L,O);case "ascii":case "latin1":case "binary":f=[];for(v=0;v<p.length;++v)f.push(p.charCodeAt(v)&255);return Vb(f,this,L,O);case "base64":return Vb(Mb(p),this,L,O);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var m=void 0;f=this.length-L;const C=[];for(let B=0;B<p.length&&!(0>(f-=2));++B)m=p.charCodeAt(B),v=m>>8,m%=256,C.push(m),C.push(v);return Vb(C,this,L,O);default:if(v)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();v=!0}};g.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};g.prototype.slice=function(p,L){const O=this.length;p=~~p;L=void 0===L?O:~~L;0>p?(p+=O,0>p&&(p=0)):p>O&&(p=O);0>L?(L+=O,0>L&&(L=0)):L>O&&(L=O);L<p&&(L=p);p=this.subarray(p,L);Object.setPrototypeOf(p,g.prototype);return p};g.prototype.readUintLE=g.prototype.readUIntLE=function(p,L,O){p>>>=0;L>>>=0;O||Nb(p,L,this.length);O=this[p];let f=1,v=0;for(;++v<L&&(f*=256);)O+=this[p+v]*f;return O};g.prototype.readUintBE=g.prototype.readUIntBE=function(p,L,
O){p>>>=0;L>>>=0;O||Nb(p,L,this.length);O=this[p+--L];let f=1;for(;0<L&&(f*=256);)O+=this[p+--L]*f;return O};g.prototype.readUint8=g.prototype.readUInt8=function(p,L){p>>>=0;L||Nb(p,1,this.length);return this[p]};g.prototype.readUint16LE=g.prototype.readUInt16LE=function(p,L){p>>>=0;L||Nb(p,2,this.length);return this[p]|this[p+1]<<8};g.prototype.readUint16BE=g.prototype.readUInt16BE=function(p,L){p>>>=0;L||Nb(p,2,this.length);return this[p]<<8|this[p+1]};g.prototype.readUint32LE=g.prototype.readUInt32LE=
function(p,L){p>>>=0;L||Nb(p,4,this.length);return(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]};g.prototype.readUint32BE=g.prototype.readUInt32BE=function(p,L){p>>>=0;L||Nb(p,4,this.length);return 16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])};g.prototype.readBigUInt64LE=ma(function(p){p>>>=0;Na(p,"offset");var L=this[p];const O=this[p+7];void 0!==L&&void 0!==O||vb(p,this.length-8);L=L+this[++p]*Math.pow(2,8)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,24);p=this[++p]+this[++p]*
Math.pow(2,8)+this[++p]*Math.pow(2,16)+O*Math.pow(2,24);return BigInt(L)+(BigInt(p)<<BigInt(32))});g.prototype.readBigUInt64BE=ma(function(p){p>>>=0;Na(p,"offset");var L=this[p];const O=this[p+7];void 0!==L&&void 0!==O||vb(p,this.length-8);L=L*Math.pow(2,24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,8)+this[++p];p=this[++p]*Math.pow(2,24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,8)+O;return(BigInt(L)<<BigInt(32))+BigInt(p)});g.prototype.readIntLE=function(p,L,O){p>>>=0;L>>>=0;O||Nb(p,L,this.length);
O=this[p];let f=1,v=0;for(;++v<L&&(f*=256);)O+=this[p+v]*f;O>=128*f&&(O-=Math.pow(2,8*L));return O};g.prototype.readIntBE=function(p,L,O){p>>>=0;L>>>=0;O||Nb(p,L,this.length);O=L;let f=1,v=this[p+--O];for(;0<O&&(f*=256);)v+=this[p+--O]*f;v>=128*f&&(v-=Math.pow(2,8*L));return v};g.prototype.readInt8=function(p,L){p>>>=0;L||Nb(p,1,this.length);return this[p]&128?-1*(255-this[p]+1):this[p]};g.prototype.readInt16LE=function(p,L){p>>>=0;L||Nb(p,2,this.length);p=this[p]|this[p+1]<<8;return p&32768?p|4294901760:
p};g.prototype.readInt16BE=function(p,L){p>>>=0;L||Nb(p,2,this.length);p=this[p+1]|this[p]<<8;return p&32768?p|4294901760:p};g.prototype.readInt32LE=function(p,L){p>>>=0;L||Nb(p,4,this.length);return this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24};g.prototype.readInt32BE=function(p,L){p>>>=0;L||Nb(p,4,this.length);return this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]};g.prototype.readBigInt64LE=ma(function(p){p>>>=0;Na(p,"offset");const L=this[p],O=this[p+7];void 0!==L&&void 0!==O||vb(p,this.length-
8);return(BigInt(this[p+4]+this[p+5]*Math.pow(2,8)+this[p+6]*Math.pow(2,16)+(O<<24))<<BigInt(32))+BigInt(L+this[++p]*Math.pow(2,8)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,24))});g.prototype.readBigInt64BE=ma(function(p){p>>>=0;Na(p,"offset");var L=this[p];const O=this[p+7];void 0!==L&&void 0!==O||vb(p,this.length-8);L=(L<<24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,8)+this[++p];return(BigInt(L)<<BigInt(32))+BigInt(this[++p]*Math.pow(2,24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,
8)+O)});g.prototype.readFloatLE=function(p,L){p>>>=0;L||Nb(p,4,this.length);return Ea.read(this,p,!0,23,4)};g.prototype.readFloatBE=function(p,L){p>>>=0;L||Nb(p,4,this.length);return Ea.read(this,p,!1,23,4)};g.prototype.readDoubleLE=function(p,L){p>>>=0;L||Nb(p,8,this.length);return Ea.read(this,p,!0,52,8)};g.prototype.readDoubleBE=function(p,L){p>>>=0;L||Nb(p,8,this.length);return Ea.read(this,p,!1,52,8)};g.prototype.writeUintLE=g.prototype.writeUIntLE=function(p,L,O,f){p=+p;L>>>=0;O>>>=0;f||Bb(this,
p,L,O,Math.pow(2,8*O)-1,0);f=1;let v=0;for(this[L]=p&255;++v<O&&(f*=256);)this[L+v]=p/f&255;return L+O};g.prototype.writeUintBE=g.prototype.writeUIntBE=function(p,L,O,f){p=+p;L>>>=0;O>>>=0;f||Bb(this,p,L,O,Math.pow(2,8*O)-1,0);f=O-1;let v=1;for(this[L+f]=p&255;0<=--f&&(v*=256);)this[L+f]=p/v&255;return L+O};g.prototype.writeUint8=g.prototype.writeUInt8=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,1,255,0);this[L]=p&255;return L+1};g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(p,L,O){p=
+p;L>>>=0;O||Bb(this,p,L,2,65535,0);this[L]=p&255;this[L+1]=p>>>8;return L+2};g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,2,65535,0);this[L]=p>>>8;this[L+1]=p&255;return L+2};g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,4,4294967295,0);this[L+3]=p>>>24;this[L+2]=p>>>16;this[L+1]=p>>>8;this[L]=p&255;return L+4};g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,
p,L,4,4294967295,0);this[L]=p>>>24;this[L+1]=p>>>16;this[L+2]=p>>>8;this[L+3]=p&255;return L+4};g.prototype.writeBigUInt64LE=ma(function(p,L=0){return Ob(this,p,L,BigInt(0),BigInt("0xffffffffffffffff"))});g.prototype.writeBigUInt64BE=ma(function(p,L=0){return Xa(this,p,L,BigInt(0),BigInt("0xffffffffffffffff"))});g.prototype.writeIntLE=function(p,L,O,f){p=+p;L>>>=0;f||(f=Math.pow(2,8*O-1),Bb(this,p,L,O,f-1,-f));f=0;let v=1,m=0;for(this[L]=p&255;++f<O&&(v*=256);)0>p&&0===m&&0!==this[L+f-1]&&(m=1),this[L+
f]=(p/v>>0)-m&255;return L+O};g.prototype.writeIntBE=function(p,L,O,f){p=+p;L>>>=0;f||(f=Math.pow(2,8*O-1),Bb(this,p,L,O,f-1,-f));f=O-1;let v=1,m=0;for(this[L+f]=p&255;0<=--f&&(v*=256);)0>p&&0===m&&0!==this[L+f+1]&&(m=1),this[L+f]=(p/v>>0)-m&255;return L+O};g.prototype.writeInt8=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,1,127,-128);0>p&&(p=255+p+1);this[L]=p&255;return L+1};g.prototype.writeInt16LE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,2,32767,-32768);this[L]=p&255;this[L+1]=p>>>8;return L+
2};g.prototype.writeInt16BE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,2,32767,-32768);this[L]=p>>>8;this[L+1]=p&255;return L+2};g.prototype.writeInt32LE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,4,2147483647,-2147483648);this[L]=p&255;this[L+1]=p>>>8;this[L+2]=p>>>16;this[L+3]=p>>>24;return L+4};g.prototype.writeInt32BE=function(p,L,O){p=+p;L>>>=0;O||Bb(this,p,L,4,2147483647,-2147483648);0>p&&(p=4294967295+p+1);this[L]=p>>>24;this[L+1]=p>>>16;this[L+2]=p>>>8;this[L+3]=p&255;return L+4};g.prototype.writeBigInt64LE=
ma(function(p,L=0){return Ob(this,p,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});g.prototype.writeBigInt64BE=ma(function(p,L=0){return Xa(this,p,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});g.prototype.writeFloatLE=function(p,L,O){return Oa(this,p,L,!0,O)};g.prototype.writeFloatBE=function(p,L,O){return Oa(this,p,L,!1,O)};g.prototype.writeDoubleLE=function(p,L,O){return Ca(this,p,L,!0,O)};g.prototype.writeDoubleBE=function(p,L,O){return Ca(this,p,L,!1,O)};g.prototype.copy=
function(p,L,O,f){if(!g.isBuffer(p))throw new TypeError("argument should be a Buffer");O||(O=0);f||0===f||(f=this.length);L>=p.length&&(L=p.length);L||(L=0);0<f&&f<O&&(f=O);if(f===O||0===p.length||0===this.length)return 0;if(0>L)throw new RangeError("targetStart out of bounds");if(0>O||O>=this.length)throw new RangeError("Index out of range");if(0>f)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length);p.length-L<f-O&&(f=p.length-L+O);const v=f-O;this===p&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(L,O,f):Uint8Array.prototype.set.call(p,this.subarray(O,f),L);return v};g.prototype.fill=function(p,L,O,f){if("string"===typeof p){"string"===typeof L?(f=L,L=0,O=this.length):"string"===typeof O&&(f=O,O=this.length);if(void 0!==f&&"string"!==typeof f)throw new TypeError("encoding must be a string");if("string"===typeof f&&!g.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(1===p.length){var v=p.charCodeAt(0);if("utf8"===f&&128>v||"latin1"===f)p=v}}else"number"===typeof p?
p&=255:"boolean"===typeof p&&(p=Number(p));if(0>L||this.length<L||this.length<O)throw new RangeError("Out of range index");if(O<=L)return this;L>>>=0;O=void 0===O?this.length:O>>>0;p||(p=0);if("number"===typeof p)for(f=L;f<O;++f)this[f]=p;else{v=g.isBuffer(p)?p:g.from(p,f);const m=v.length;if(0===m)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(f=0;f<O-L;++f)this[f+L]=v[f%m]}return this};const db={};Qa("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Qa("ERR_INVALID_ARG_TYPE",function(p,L){return`The "${p}" argument must be of type number. Received type ${typeof L}`},TypeError);Qa("ERR_OUT_OF_RANGE",function(p,L,O){p=`The value of "${p}" is out of range.`;let f=O;if(Number.isInteger(O)&&Math.abs(O)>Math.pow(2,32))f=lb(String(O));else if("bigint"===typeof O){f=String(O);if(O>Math.pow(BigInt(2),BigInt(32))||O<-Math.pow(BigInt(2),BigInt(32)))f=lb(f);f+="n"}return p+` It must be ${L}. Received ${f}`},
RangeError);const ba=/[^+/0-9A-Za-z-_]/g,na=function(){const p=Array(256);for(let L=0;16>L;++L){const O=16*L;for(let f=0;16>f;++f)p[O+f]="0123456789abcdef"[L]+"0123456789abcdef"[f]}return p}()};
shadow$provide[28]=function(ac,Cb,Wc,nb){var r=Cb(27).Buffer;(function(g,ra){"object"===typeof nb&&"undefined"!==typeof Wc?ra(nb,Cb(21),Cb(22),Cb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ra):(g="undefined"!==typeof globalThis?globalThis:g||self,ra(g.vega={},g.vega,g.topojson,g.vega))})(this,function(g,ra,ib,Fb){function Zb(ba,na){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const L=yield p.sanitize(ba,
na),O=L.href;return L.localFile?p.file(O):p.http(O,na)})}function oc(ba,na){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=ra.extend({},p.options,na);const L=p.fileAccess,O={href:null};var f;let v;var m=Na.test(ba.replace(vb,""));null!=ba&&"string"===typeof ba&&m||ra.error("Sanitize failure, invalid URI: "+ra.stringValue(ba));m=mb.test(ba);(f=na.baseURL)&&!m&&(ba.startsWith("/")||f.endsWith("/")||(ba="/"+ba),ba=f+ba);v=(f=ba.startsWith("file://"))||"file"===na.mode||
"http"!==na.mode&&!m&&L;f?ba=ba.slice(7):ba.startsWith("//")&&("file"===na.defaultProtocol?(ba=ba.slice(2),v=!0):ba=(na.defaultProtocol||"http")+":"+ba);Object.defineProperty(O,"localFile",{value:!!v});O.href=ba;na.target&&(O.target=na.target+"");na.rel&&(O.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(O.crossOrigin=na.crossOrigin+"");return O})}function kc(ba){return ba?na=>new Promise((p,L)=>{ba.readFile(na,(O,f)=>{O?L(O):p(f)})}):Ac}function Ac(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ra.error("No file system access.")})}
function Ab(ba){return ba?function(na,p){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var O=ra.extend({},L.options.http,p);const f=p&&p.response;O=yield ba(na,O);return O.ok?ra.isFunction(O[f])?O[f]():O.text():ra.error(O.status+""+O.statusText)})}:ec}function ec(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ra.error("No HTTP fetch method available.")})}function pc(ba,na){if(!ba||!ba.length)return"unknown";const p=ba.length,L=Vb.length,O=Vb.map((f,
v)=>v+1);for(let f=0,v=0,m,C;f<p;++f)for(C=na?ba[f][na]:ba[f],m=0;m<L;++m)if(O[m]&&null!=C&&C===C&&!Vb[m](C)&&(O[m]=0,++v,v===Vb.length))return"string";return ob[O.reduce((f,v)=>0===f?v:f,0)-1]}function Ya(ba,na){return na.reduce((p,L)=>{p[L]=pc(ba,L);return p},{})}function rb(ba){return new Function("d","return {"+ba.map(function(na,p){return JSON.stringify(na)+": d["+p+'] || ""'}).join(",")+"}")}function Ib(ba,na){var p=rb(ba);return function(L,O){return na(p(L),O,ba)}}function Nb(ba){var na=Object.create(null),
p=[];ba.forEach(function(L){for(var O in L)O in na||p.push(na[O]=O)});return p}function Bb(ba,na){ba+="";var p=ba.length;return p<na?Array(na-p+1).join(0)+ba:ba}function Ob(ba){function na(m,C){function B(){if(W)return Y;if(u)return u=!1,ma;var va,Ja=D,Za;if(34===m.charCodeAt(Ja)){for(;D++<E&&34!==m.charCodeAt(D)||34===m.charCodeAt(++D););(va=D)>=E?W=!0:10===(Za=m.charCodeAt(D++))?u=!0:13===Za&&(u=!0,10===m.charCodeAt(D)&&++D);return m.slice(Ja+1,va-1).replace(/""/g,'"')}for(;D<E;){if(10===(Za=m.charCodeAt(va=
D++)))u=!0;else if(13===Za)u=!0,10===m.charCodeAt(D)&&++D;else if(Za!==v)continue;return m.slice(Ja,va)}return W=!0,m.slice(Ja,E)}var z=[],E=m.length,D=0,V=0,Aa,W=0>=E,u=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Y;){for(var K=[];Aa!==ma&&Aa!==Y;)K.push(Aa),Aa=B();C&&null==(K=C(K,V++))||z.push(K)}return z}function p(m,C){return m.map(function(B){return C.map(function(z){return O(B[z])}).join(ba)})}function L(m){return m.map(O).join(ba)}function O(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),z=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var D=m.getUTCFullYear();m=(0>D?"-"+Bb(-D,6):9999<D?"+"+Bb(D,6):Bb(D,4))+"-"+Bb(m.getUTCMonth()+1,2)+"-"+Bb(m.getUTCDate(),2)+(E?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"."+Bb(E,3)+"Z":z?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"Z":B||C?"T"+Bb(C,2)+":"+Bb(B,2)+"Z":"")}C=m}else C=f.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var f=new RegExp('["'+
ba+"\n\r]"),v=ba.charCodeAt(0);return{parse:function(m,C){var B,z;m=na(m,function(E,D){if(B)return B(E,D-1);z=E;B=C?Ib(E,C):rb(E)});m.columns=z||[];return m},parseRows:na,format:function(m,C){null==C&&(C=Nb(m));return[C.map(O).join(ba)].concat(p(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Nb(m));return p(m,C).join("\n")},formatRows:function(m){return m.map(L).join("\n")},formatRow:L,formatValue:O}}function Xa(ba){const na=function(p,L){const O={delimiter:ba};return qb(p,L?ra.extend(L,O):
O)};na.responseType="text";return na}function qb(ba,na){na.header&&(ba=na.header.map(ra.stringValue).join(na.delimiter)+"\n"+ba);return Ob(na.delimiter).parse(ba+"")}function Oa(ba,na){const p=na&&na.property?ra.field(na.property):ra.identity;var L;if(L=ra.isObject(ba))L=!("function"===typeof r&&ra.isFunction(r.isBuffer)&&r.isBuffer(ba));L?(ba=p(ba),!ra.isArray(ba)&&ra.isIterable(ba)&&(ba=[...ba]),na=na&&na.copy?JSON.parse(JSON.stringify(ba)):ba):na=p(JSON.parse(ba));return na}function Ca(ba,na){let p,
L,O,f;ba=Oa(ba,na);na&&na.feature?(p=ib.feature,O=na.feature):na&&na.mesh?(p=ib.mesh,O=na.mesh,f=Ga[na.filter]):ra.error("Missing TopoJSON feature or mesh parameter.");return(L=(L=ba.objects[O])?p(ba,L,f):ra.error("Invalid TopoJSON object: "+O))&&L.features||[L]}function Qa(ba,na){return 1<arguments.length?(Ea[ba]=na,this):ra.hasOwnProperty(Ea,ba)?Ea[ba]:null}function lb(ba,na,p,L){if(ba.length){var O=Fb.timeFormatDefaultLocale();p=p||O.timeParse;L=L||O.utcParse;O=ba.columns||Object.keys(ba[0]);var f,
v;"auto"===na&&(na=Ya(ba,O));O=Object.keys(na);var m=O.map(D=>{var V=na[D];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){D=V.split(/:(.+)?/,2);V=D[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===D[0]?L:p)(V)}if(!Mb[V])throw Error("Illegal format pattern: "+D+":"+V);return Mb[V]});var C=0;var B=ba.length;for(v=O.length;C<B;++C){var z=ba[C];for(f=0;f<v;++f){var E=O[f];z[E]=m[f](z[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Na=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
vb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Mb={boolean:ra.toBoolean,integer:ra.toNumber,number:ra.toNumber,date:ra.toDate,string:ra.toString,unknown:ra.identity},Vb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>pb(ba)&&Number.isInteger(+ba),pb,ba=>!Number.isNaN(Date.parse(ba))],ob=["boolean","integer","number","date"];var ma={},Y={};qb.responseType="text";Oa.responseType="json";const Ga={interior:(ba,na)=>ba!==na,exterior:(ba,
na)=>ba===na};Ca.responseType="json";const Ea={dsv:qb,csv:Xa(","),tsv:Xa("\t"),json:Oa,topojson:Ca},db=function(ba,na){return p=>({options:p||{},sanitize:oc,load:Zb,fileAccess:!!na,file:kc(na),http:Ab(ba)})}("undefined"!==typeof fetch&&fetch,null);g.format=Ea;g.formats=Qa;g.inferType=pc;g.inferTypes=Ya;g.loader=db;g.read=function(ba,na,p,L){na=na||{};const O=Qa(na.type||"json");O||ra.error("Unknown data format type: "+na.type);ba=O(ba,na);na.parse&&lb(ba,na.parse,p,L);ra.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};g.responseType=function(ba){return(ba=Qa(ba))&&ba.responseType||"text"};g.typeParsers=Mb})};
shadow$provide[29]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(28),Cb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib){function Fb(f){const v=f||g.identity,m=[],C={};m.add=B=>{const z=v(B);C[z]||(C[z]=1,m.push(B));return m};m.remove=B=>{const z=v(B);C[z]&&(C[z]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function Zb(f,v){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield v(f)}catch(m){f.error(m)}})}function oc(f){f=f===Object(f)?f:{data:f};if(!f[Y]){var v=Ga++;f[Y]=v}return f}function kc(f,v){for(const m in f)v[m]=f[m];return v}function Ac(f){return f&&f.constructor===Ab}function Ab(){const f=[],v=[],m=[],C=[],B=[];let z=null,E=!1;return{constructor:Ab,insert(D){D=g.array(D);const V=D.length;for(let Aa=0;Aa<V;++Aa)f.push(D[Aa]);return this},
remove(D){const V=g.isFunction(D)?C:v;D=g.array(D);const Aa=D.length;for(let W=0;W<Aa;++W)V.push(D[W]);return this},modify(D,V,Aa){V={field:V,value:g.constant(Aa)};g.isFunction(D)?(V.filter=D,B.push(V)):(V.tuple=D,m.push(V));return this},encode(D,V){g.isFunction(D)?B.push({filter:D,field:V}):m.push({tuple:D,field:V});return this},clean(D){z=D;return this},reflow(){E=!0;return this},pulse(D,V){function Aa(Ba,ab,Gb){Gb?Ba[ab]=Gb(Ba):D.encode=ab;E||(u[Ba[Y]]=Ba)}const W={},u={};let K,va,Ja,Za,Wa,X;K=
0;for(va=V.length;K<va;++K)W[V[K][Y]]=1;K=0;for(va=v.length;K<va;++K)Wa=v[K],W[Wa[Y]]=-1;K=0;for(va=C.length;K<va;++K)Za=C[K],V.forEach(Ba=>{Za(Ba)&&(W[Ba[Y]]=-1)});K=0;for(va=f.length;K<va;++K)Wa=f[K],X=Wa[Y],W[X]?W[X]=1:D.add.push(oc(f[K]));K=0;for(va=V.length;K<va;++K)Wa=V[K],0>W[Wa[Y]]&&D.rem.push(Wa);K=0;for(va=m.length;K<va;++K)Ja=m[K],Wa=Ja.tuple,Za=Ja.field,X=W[Wa[Y]],0<X&&(Aa(Wa,Za,Ja.value),D.modifies(Za));K=0;for(va=B.length;K<va;++K)Ja=B[K],Za=Ja.filter,V.forEach(Ba=>{Za(Ba)&&0<W[Ba[Y]]&&
Aa(Ba,Ja.field,Ja.value)}),D.modifies(Ja.field);if(E)D.mod=v.length||C.length?V.filter(Ba=>0<W[Ba[Y]]):V.slice();else for(X in u)D.mod.push(u[X]);(z||null==z&&(v.length||C.length))&&D.clean(!0);return D}}}function ec(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function pc(f,v,m,C){this.id=++Ea;this.value=f;this.qrank=this.rank=this.stamp=-1;this.flags=0;v&&(this._update=v);m&&this.parameters(m,C)}function Ya(f){return function(v){const m=this.flags;if(0===arguments.length)return!!(m&
f);this.flags=v?m|f:m&~f;return this}}function rb(f,v,m){this.id=++ba;this.value=null;m&&(this.receive=m);f&&(this._filter=f);v&&(this._apply=v)}function Ib(f,v,m){return new rb(f,v,m)}function Nb(f){let v;const m=new Promise(C=>v=C);m.requests=0;m.done=()=>{0===--m.requests&&(f._pending=null,v(f))};return f._pending=m}function Bb(f,v,m,C,B,z){const E=g.extend({},z,na);let D;g.isFunction(m)||(m=g.constant(m));void 0===C?B=V=>f.touch(m(V)):g.isFunction(C)?(D=new pc(null,C,B,!1),B=V=>{D.evaluate(V);
V=m(V);const Aa=D.value;Ac(Aa)?f.pulse(V,Aa,z):f.update(V,Aa,E)}):B=V=>f.update(m(V),C,E);v.apply(B)}function Ob(f,v,m,C,B,z){void 0===C?v.targets().add(m):(z=z||{},C=new pc(null,Xa(m,C),B,!1),C.modified(z.force),C.rank=v.rank,v.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),f.connect(m,[C])))}function Xa(f,v){v=g.isFunction(v)?v:g.constant(v);return f?function(m,C){m=v(m,C);f.skip()||(f.skip(m!==this.value).value=m);return m}:v}function qb(f,v,m){this.dataflow=f;this.stamp=null==
v?-1:v;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Oa(f,v){const m=[];g.visitArray(f,v,C=>m.push(C));return m}function Ca(f,v){const m={};f.visit(v,C=>{m[C[Y]]=1});return C=>m[C[Y]]?null:C}function Qa(f,v){return f?(m,C)=>f(m,C)&&v(m,C):v}function lb(f,v,m,C){let B=0;this.dataflow=f;this.stamp=v;this.fields=null;this.encode=C||null;this.pulses=m;for(const z of m)if(z.stamp===v){if(z.fields){f=this.fields||(this.fields={});for(const E in z.fields)f[E]=1}z.changed(this.ADD)&&
(B|=this.ADD);z.changed(this.REM)&&(B|=this.REM);z.changed(this.MOD)&&(B|=this.MOD)}this.changes=B}function mb(f){f.error("Dataflow already running. Use runAsync() to chain invocations.");return f}function Na(f,v){if(v&&v.stamp===f.stamp)return v;f=f.fork();v&&v!==p&&(f.source=v.source);return f}function vb(f){let v=[];return{clear:()=>v=[],size:()=>v.length,peek:()=>v[0],push:m=>{v.push(m);return pb(v,0,v.length-1,f)},pop:()=>{var m=v.pop();let C;if(v.length){C=v[0];v[0]=m;m=v;var B=0;const z=B,
E=m.length,D=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=f(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=D;pb(m,z,B,f)}else C=m;return C}}}function pb(f,v,m,C){let B,z;const E=f[m];for(;m>v;)if(z=m-1>>1,B=f[z],0>C(E,B))f[m]=B,m=z;else break;return f[m]=E}function Mb(){this.logger(g.logger());this.logLevel(g.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=ra.loader()}catch(f){}this._touched=Fb(g.id);this._input={};this._pulse=null;this._heap=vb((f,v)=>f.qrank-
v.qrank);this._postrun=[]}function Vb(f){return function(){return this._log[f].apply(this,arguments)}}function ob(f,v){pc.call(this,f,null,v)}function ma(f){f=f&&f.toLowerCase();return g.hasOwnProperty(O,f)?O[f]:null}const Y=Symbol("vega_id");let Ga=1;ec.prototype={set(f,v,m,C){const B=this[f],z=this["_:mod:_"];if(null!=v&&0<=v){if(B[v]!==m||C)B[v]=m,z[v+":"+f]=-1,z[f]=-1}else if(B!==m||C)this[f]=m,z[f]=g.isArray(m)?1+m.length:-1;return this},modified(f,v){const m=this["_:mod:_"];if(!arguments.length){for(var C in m)if(m[C])return!0;
return!1}if(g.isArray(f)){for(C=0;C<f.length;++C)if(m[f[C]])return!0;return!1}return null!=v&&0<=v?v+1<m[f]||!!m[v+":"+f]:!!m[f]},clear(){this["_:mod:_"]={};return this}};let Ea=0;const db=new ec;pc.prototype={targets(){return this._targets||(this._targets=Fb(g.id))},set(f){return this.value!==f?(this.value=f,1):0},skip:Ya(1),modified:Ya(2),parameters(f,v,m){v=!1!==v;const C=this._argval=this._argval||new ec,B=this._argops=this._argops||[],z=[];let E,D,V,Aa;const W=(u,K,va)=>{va instanceof pc?(va!==
this&&(v&&va.targets().add(this),z.push(va)),B.push({op:va,name:u,index:K})):C.set(u,K,va)};for(E in f)if(D=f[E],"pulse"===E)g.array(D).forEach(u=>{u instanceof pc?u!==this&&(u.targets().add(this),z.push(u)):g.error("Pulse parameters must be operator instances.")}),this.source=D;else if(g.isArray(D))for(C.set(E,-1,Array(V=D.length)),Aa=0;Aa<V;++Aa)W(E,Aa,D[Aa]);else W(E,-1,D);this.marshall().clear();m&&(B.initonly=!0);return z},marshall(f){const v=this._argval||db,m=this._argops;let C,B,z,E;if(m){const D=
m.length;for(B=0;B<D;++B)C=m[B],z=C.op,E=z.modified()&&z.stamp===f,v.set(C.name,C.index,z.value,E);if(m.initonly){for(B=0;B<D;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return v},detach(){const f=this._argops;let v,m;if(f)for(v=0,m=f.length;v<m;++v){var C=f[v];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(f){var v=this._update;if(v){const m=this.marshall(f.stamp);v=v.call(this,m,f);m.clear();if(v!==this.value)this.value=v;else if(!this.modified())return f.StopPropagation}},
run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?(this.skip(!1),v=0):v=this.evaluate(f);return this.pulse=v||f}};let ba=0;rb.prototype={_filter:g.truthy,_apply:g.identity,targets(){return this._targets||(this._targets=Fb(g.id))},consume(f){if(!arguments.length)return!!this._consume;this._consume=!!f;return this},receive(f){if(this._filter(f)){const v=this.value=this._apply(f),m=this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(v);this._consume&&(f.preventDefault(),
f.stopPropagation())}},filter(f){f=Ib(f);this.targets().add(f);return f},apply(f){f=Ib(null,f);this.targets().add(f);return f},merge(){const f=Ib();this.targets().add(f);for(let v=0,m=arguments.length;v<m;++v)arguments[v].targets().add(f);return f},throttle(f){let v=-1;return this.filter(()=>{const m=Date.now();return m-v>f?(v=m,1):0})},debounce(f){const v=Ib();this.targets().add(Ib(null,null,g.debounce(f,m=>{const C=m.dataflow;v.receive(m);C&&C.run&&C.run()})));return v},between(f,v){let m=!1;f.targets().add(Ib(null,
null,()=>m=!0));v.targets().add(Ib(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=g.truthy;this._targets=null}};const na={skip:!0},p={};qb.prototype={StopPropagation:p,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(f){return(new qb(this.dataflow)).init(this,f)},clone(){const f=this.fork(7);f.add=f.add.slice();f.rem=f.rem.slice();f.mod=f.mod.slice();f.source&&(f.source=f.source.slice());return f.materialize(23)},addAll(){let f=this;
f.source&&f.add!==f.rem&&(f.rem.length||f.source.length!==f.add.length)&&(f=(new qb(this.dataflow)).init(this),f.add=f.source,f.rem=[]);return f},init(f,v){this.stamp=f.stamp;this.encode=f.encode;!f.fields||v&64||(this.fields=f.fields);v&1?(this.addF=f.addF,this.add=f.add):(this.addF=null,this.add=[]);v&2?(this.remF=f.remF,this.rem=f.rem):(this.remF=null,this.rem=[]);v&4?(this.modF=f.modF,this.mod=f.mod):(this.modF=null,this.mod=[]);v&32?this.source=this.srcF=null:(this.srcF=f.srcF,this.source=f.source,
f.cleans&&(this.cleans=f.cleans));return this},runAfter(f){this.dataflow.runAfter(f)},changed(f){f=f||7;return f&1&&this.add.length||f&2&&this.rem.length||f&4&&this.mod.length},reflow(f){if(f)return this.fork(7).reflow();f=this.add.length;const v=this.source&&this.source.length;v&&v!==f&&(this.mod=this.source,f&&this.filter(4,Ca(this,1)));return this},clean(f){return arguments.length?(this.cleans=!!f,this):this.cleans},modifies(f){const v=this.fields||(this.fields={});g.isArray(f)?f.forEach(m=>v[m]=
!0):v[f]=!0;return this},modified(f,v){const m=this.fields;return(v||this.mod.length)&&m?arguments.length?g.isArray(f)?f.some(C=>m[C]):m[f]:!!m:!1},filter(f,v){f&1&&(this.addF=Qa(this.addF,v));f&2&&(this.remF=Qa(this.remF,v));f&4&&(this.modF=Qa(this.modF,v));f&16&&(this.srcF=Qa(this.srcF,v));return this},materialize(f){f=f||7;f&1&&this.addF&&(this.add=Oa(this.add,this.addF),this.addF=null);f&2&&this.remF&&(this.rem=Oa(this.rem,this.remF),this.remF=null);f&4&&this.modF&&(this.mod=Oa(this.mod,this.modF),
this.modF=null);f&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(f,v){if(f&16)return g.visitArray(this.source,this.srcF,v),this;f&1&&g.visitArray(this.add,this.addF,v);f&2&&g.visitArray(this.rem,this.remF,v);f&4&&g.visitArray(this.mod,this.modF,v);const m=this.source;f&8&&m&&(f=this.add.length+this.mod.length,f!==m.length&&(f?g.visitArray(m,Ca(this,5),v):g.visitArray(m,this.srcF,v)));return this}};g.inherits(lb,qb,{fork(f){const v=(new qb(this.dataflow)).init(this,
f&this.NO_FIELDS);void 0!==f&&(f&v.ADD&&this.visit(v.ADD,m=>v.add.push(m)),f&v.REM&&this.visit(v.REM,m=>v.rem.push(m)),f&v.MOD&&this.visit(v.MOD,m=>v.mod.push(m)));return v},changed(f){return this.changes&f},modified(f){const v=this.fields;return v&&this.changes&this.MOD?g.isArray(f)?f.some(m=>v[m]):v[f]:0},filter(){g.error("MultiPulse does not support filtering.")},materialize(){g.error("MultiPulse does not support materialization.")},visit(f,v){const m=this.pulses,C=m.length;let B=0;if(f&this.SOURCE)for(;B<
C;++B)m[B].visit(f,v);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(f,v);return this}});const L={skip:!1,force:!1};Mb.prototype={stamp(){return this._clock},loader(f){return arguments.length?(this._loader=f,this):this._loader},locale(f){return arguments.length?(this._locale=f,this):this._locale},logger(f){return arguments.length?(this._log=f,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),logLevel:Vb("level"),cleanThreshold:1E4,add:function(f,v,m,C){let B=
1;f instanceof pc||(f&&f.prototype instanceof pc?f=new f:g.isFunction(f)?f=new pc(null,f):(B=0,f=new pc(f,v)));this.rank(f);B&&(C=m,m=v);m&&this.connect(f,f.parameters(m,C));this.touch(f);return f},connect:function(f,v){const m=f.rank,C=v.length;for(let B=0;B<C;++B)if(m<v[B].rank){this.rerank(f);break}},rank:function(f){f.rank=++this._rank},rerank:function(f){const v=[f];let m,C,B;for(;v.length;)if(this.rank(m=v.pop()),C=m._targets)for(B=C.length;0<=--B;)v.push(m=C[B]),m===f&&g.error("Cycle detected in dataflow graph.")},
pulse:function(f,v,m){this.touch(f,m||L);m=new qb(this,this._clock+(this._pulse?0:1));const C=f.pulse&&f.pulse.source||[];m.target=f;this._input[f.id]=v.pulse(m,C);return this},touch:function(f,v){v=v||L;this._pulse?this._enqueue(f):this._touched.add(f);v.skip&&f.skip(!0);return this},update:function(f,v,m){m=m||L;(f.set(v)||m.force)&&this.touch(f,m);return this},changeset:Ab,ingest:function(f,v,m){v=this.parse(v,m);return this.pulse(f,this.changeset().insert(v))},parse:function(f,v){const m=this.locale();
return ra.read(f,v,m.timeParse,m.utcParse)},preload:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Nb(C);B.requests+=1;const z=yield C.request(v,m);C.pulse(f,C.changeset().remove(g.truthy).insert(z.data||[]));B.done();return z})},request:function(f,v){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=yield m.loader().load(f,{context:"dataflow",response:ra.responseType(v&&v.type)});try{B=m.parse(B,
v)}catch(z){C=-2,m.warn("Data ingestion failed",f,z)}}catch(z){C=-1,m.warn("Loading failed",f,z)}return{data:B,status:C}})},events:function(f,v,m,C){const B=this,z=Ib(m,C);m=function(E){E.dataflow=B;try{z.receive(E)}catch(D){B.error(D)}finally{B.run()}};f="string"===typeof f&&"undefined"!==typeof document?document.querySelectorAll(f):g.array(f);C=f.length;for(let E=0;E<C;++E)f[E].addEventListener(v,m);return z},on:function(f,v,m,C,B){(f instanceof pc?Ob:Bb)(this,f,v,m,C,B);return this},evaluate:function(f,
v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);v&&(yield Zb(C,v));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var z=++C._clock;C._pulse=new qb(C,z,f);C._touched.forEach(W=>C._enqueue(W,!0));C._touched=Fb(g.id);var E=0;let D,V,Aa;try{for(;0<C._heap.size();)D=C._heap.pop(),D.rank!==D.qrank?C._enqueue(D,!0):(V=D.run(C._getPulse(D,f)),V.then?V=yield V:V.async&&(B.push(V.async),
V=p),V!==p&&D._targets&&D._targets.forEach(W=>C._enqueue(W)),++E)}catch(W){C._heap.clear(),Aa=W}C._input={};C._pulse=null;C.debug(`Pulse ${z}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(z=C._postrun.sort((W,u)=>u.priority-W.priority),C._postrun=[],E=0;E<z.length;++E)yield Zb(C,z[E].callback);m&&(yield Zb(C,m));B.length&&Promise.all(B).then(W=>C.runAsync(null,()=>{W.forEach(u=>{try{u(C)}catch(K){C.error(K)}})}));return C})},run:function(f,v,m){return this._pulse?mb(this):
(this.evaluate(f,v,m),this)},runAsync:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(f,v,m)).then(B,B);return C._running})},runAfter:function(f,v,m){if(this._pulse||v)this._postrun.push({priority:m||0,callback:f});else try{f(this)}catch(C){this.error(C)}},_enqueue:function(f,v){const m=f.stamp<this._clock;m&&(f.stamp=this._clock);if(m||v)f.qrank=f.rank,this._heap.push(f)},
_getPulse:function(f,v){const m=f.source,C=this._clock;return m&&g.isArray(m)?new lb(this,C,m.map(B=>B.pulse),v):this._input[f.id]||Na(this._pulse,m&&m.pulse)}};g.inherits(ob,pc,{run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?this.skip(!1):v=this.evaluate(f);v=v||f;v.then?v=v.then(m=>this.pulse=m):v!==f.StopPropagation&&(this.pulse=v);return v},evaluate(f){const v=this.marshall(f.stamp);f=this.transform(v,f);v.clear();return f},transform(){}});const O={};r.Dataflow=Mb;r.EventStream=
rb;r.MultiPulse=lb;r.Operator=pc;r.Parameters=ec;r.Pulse=qb;r.Transform=ob;r.UniqueList=Fb;r.asyncCallback=Zb;r.changeset=Ab;r.definition=function(f){return(f=ma(f))&&f.Definition||null};r.derive=function(f){return kc(f,oc({}))};r.ingest=oc;r.isChangeSet=Ac;r.isTuple=function(f){return!(!f||!f[Y])};r.rederive=kc;r.replace=function(f,v){v[Y]=f[Y];return v};r.stableCompare=function(f,v){return f?v?(m,C)=>f(m,C)||v(m)[Y]-v(C)[Y]:(m,C)=>f(m,C)||m[Y]-C[Y]:null};r.transform=ma;r.transforms=O;r.tupleid=
function(f){return f[Y]}})};
shadow$provide[30]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function*g(m,C){if(null==C)for(var B of m)null!=B&&""!==B&&(B=+B)>=B&&(yield B);else{B=-1;for(let z of m)z=C(z,++B,m),null!=z&&""!==z&&(z=+z)>=z&&(yield z)}}function ra(m,C){return null==m||null==C?NaN:m<C?-1:m>C?1:m>=C?0:NaN}function ib(m){return null===
m?NaN:+m}function*Fb(m,C){if(void 0===C)for(var B of m)null!=B&&(B=+B)>=B&&(yield B);else{B=-1;for(let z of m)null!=(z=C(z,++B,m))&&(z=+z)>=z&&(yield z)}}function Zb(m=ra){if(m===ra)return oc;if("function"!==typeof m)throw new TypeError("compare is not a function");return(C,B)=>{const z=m(C,B);return z||0===z?z:(0===m(B,B))-(0===m(C,C))}}function oc(m,C){return(null==m||!(m>=m))-(null==C||!(C>=C))||(m<C?-1:m>C?1:0)}function kc(m,C){let B;if(void 0===C)for(var z of m)null!=z&&(B<z||void 0===B&&z>=
z)&&(B=z);else{z=-1;for(let E of m)null!=(E=C(E,++z,m))&&(B<E||void 0===B&&E>=E)&&(B=E)}return B}function Ac(m,C){let B;if(void 0===C)for(var z of m)null!=z&&(B>z||void 0===B&&z>=z)&&(B=z);else{z=-1;for(let E of m)null!=(E=C(E,++z,m))&&(B>E||void 0===B&&E>=E)&&(B=E)}return B}function Ab(m,C,B=0,z=Infinity,E){C=Math.floor(C);B=Math.floor(Math.max(0,B));z=Math.floor(Math.min(m.length-1,z));if(!(B<=C&&C<=z))return m;for(E=void 0===E?oc:Zb(E);z>B;){if(600<z-B){var D=z-B+1,V=C-B+1,Aa=Math.log(D),W=.5*
Math.exp(2*Aa/3);Aa=.5*Math.sqrt(Aa*W*(D-W)/D)*(0>V-D/2?-1:1);Ab(m,C,Math.max(B,Math.floor(C-V*W/D+Aa)),Math.min(z,Math.floor(C+(D-V)*W/D+Aa)),E)}D=m[C];V=B;W=z;ec(m,B,C);for(0<E(m[z],D)&&ec(m,B,z);V<W;){ec(m,V,W);++V;for(--W;0>E(m[V],D);)++V;for(;0<E(m[W],D);)--W}0===E(m[B],D)?ec(m,B,W):(++W,ec(m,W,z));W<=C&&(B=W+1);C<=W&&(z=W-1)}return m}function ec(m,C,B){const z=m[C];m[C]=m[B];m[B]=z}function pc(m,C,B){m=Float64Array.from(Fb(m,B));if((B=m.length)&&!isNaN(C=+C)){if(0>=C||2>B)return Ac(m);if(1<=
C)return kc(m);C*=B-1;B=Math.floor(C);var z=kc(Ab(m,B).subarray(0,B+1));m=Ac(m.subarray(B+1));return z+(m-z)*(C-B)}}function Ya(m,C,B=ib){if((z=m.length)&&!isNaN(C=+C)){if(0>=C||2>z)return+B(m[0],0,m);if(1<=C)return+B(m[z-1],z-1,m);var z;C*=z-1;z=Math.floor(C);var E=+B(m[z],z,m);m=+B(m[z+1],z+1,m);return E+(m-E)*(C-z)}}function rb(m,C,B){const z=Float64Array.from(g(m,B));z.sort(ra);return C.map(E=>Ya(z,E))}function Ib(m,C){return rb(m,[.25,.5,.75],C)}function Nb(m,C){const B=m.length;{var z=0;let D,
V=0,Aa=0;if(void 0===C)for(var E of m)null!=E&&(E=+E)>=E&&(D=E-V,V+=D/++z,Aa+=D*(E-V));else{E=-1;for(let W of m)null!=(W=C(W,++E,m))&&(W=+W)>=W&&(D=W-V,V+=D/++z,Aa+=D*(W-V))}z=1<z?Aa/(z-1):void 0}z=z?Math.sqrt(z):z;m=Ib(m,C);return 1.06*(Math.min(z,(m[2]-m[0])/1.34)||z||Math.abs(m[0])||1)*Math.pow(B,-.2)}function Bb(m,C){const B=m.length;let z=0,E=1,D,V;for(;m[z]===m[E];)++E;for(;E<B;){for(D=E+1;m[E]===m[D];)++D;if(m[E]-m[E-1]<C){for(V=E+(z+D-E-E>>1);V<E;)m[V++]=m[E];for(;V>E;)m[V--]=m[z]}z=E;E=D}return m}
function Ob(m,C){m=m||0;C=null==C?1:C;let B,z;if(f===f)B=f,f=NaN;else{do{B=2*r.random()-1;z=2*r.random()-1;var E=B*B+z*z}while(0===E||1<E);E=Math.sqrt(-2*Math.log(E)/E);B*=E;f=z*E}return m+B*C}function Xa(m,C,B){B=null==B?1:B;m=(m-(C||0))/B;return Math.exp(-.5*m*m)/(B*L)}function qb(m,C,B){m=(m-(C||0))/(null==B?1:B);C=Math.abs(m);37<C?B=0:(B=Math.exp(-C*C/2),7.07106781186547>C?(B*=(((((.0352624965998911*C+.700383064443688)*C+6.37396220353165)*C+33.912866078383)*C+112.079291497871)*C+221.213596169931)*
C+220.206867912376,B/=((((((.0883883476483184*C+1.75566716318264)*C+16.064177579207)*C+86.7807322029461)*C+296.564248779674)*C+637.333633378831)*C+793.826512519948)*C+440.413735824752):B=B/(C+1/(C+2/(C+3/(C+4/(C+.65)))))/2.506628274631);return 0<m?1-B:B}function Oa(m,C,B){if(0>m||1<m)return NaN;m=2*m-1;var z=-Math.log((1-m)*(1+m));6.25>z?(z-=3.125,z=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):16>z?(z=Math.sqrt(z)-3.25,z=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):Number.isFinite(z)?(z=Math.sqrt(z)-5,z=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):z=Infinity;return(C||0)+(null==B?1:B)*O*z*m}function Ca(m,C){let B,z;const E={mean(D){return arguments.length?(B=
D||0,E):B},stdev(D){return arguments.length?(z=null==D?1:D,E):z},sample:()=>Ob(B,z),pdf:D=>Xa(D,B,z),cdf:D=>qb(D,B,z),icdf:D=>Oa(D,B,z)};return E.mean(m).stdev(C)}function Qa(m,C){C=null==C?1:C;return Math.exp((m||0)+Ob()*C)}function lb(m,C,B){if(0>=m)return 0;B=null==B?1:B;C=(Math.log(m)-(C||0))/B;return Math.exp(-.5*C*C)/(B*L*m)}function mb(m,C,B){return qb(Math.log(m),C,B)}function Na(m,C,B){return Math.exp(Oa(m,C,B))}function vb(m,C){null==C&&(C=null==m?1:m,m=0);return m+(C-m)*r.random()}function pb(m,
C,B){null==B&&(B=null==C?1:C,C=0);return m>=C&&m<=B?1/(B-C):0}function Mb(m,C,B){null==B&&(B=null==C?1:C,C=0);return m<C?0:m>B?1:(m-C)/(B-C)}function Vb(m,C,B){null==B&&(B=null==C?1:C,C=0);return 0<=m&&1>=m?C+m*(B-C):NaN}function ob(m,C,B){let z=0,E=0;for(const D of m)m=B(D),null==C(D)||null==m||isNaN(m)||(z+=(m-z)/++E);return{coef:[z],predict:()=>z,rSquared:0}}function ma(m,C,B,z){z-=m*m;B=1E-24>Math.abs(z)?0:(B-m*C)/z;return[C-B*m,B]}function Y(m,C,B,z){m=m.filter(va=>{let Ja=C(va);va=B(va);return null!=
Ja&&(Ja=+Ja)>=Ja&&null!=va&&(va=+va)>=va});z&&m.sort((va,Ja)=>C(va)-C(Ja));z=m.length;const E=new Float64Array(z),D=new Float64Array(z);let V=0,Aa=0,W=0,u,K;for(K of m)E[V]=m=+C(K),D[V]=u=+B(K),++V,Aa+=(m-Aa)/V,W+=(u-W)/V;for(V=0;V<z;++V)E[V]-=Aa,D[V]-=W;return[E,D,Aa,W]}function Ga(m,C,B,z){let E=-1,D;for(const V of m)m=C(V),D=B(V),null!=m&&(m=+m)>=m&&null!=D&&(D=+D)>=D&&z(m,D,++E)}function Ea(m,C,B,z,E){let D=0,V=0;Ga(m,C,B,(Aa,W)=>{Aa=W-E(Aa);W-=z;D+=Aa*Aa;V+=W*W});return 1-D/V}function db(m,C,
B){let z=0,E=0,D=0,V=0,Aa=0;Ga(m,C,B,(K,va)=>{++Aa;z+=(K-z)/Aa;E+=(va-E)/Aa;D+=(K*va-D)/Aa;V+=(K*K-V)/Aa});const W=ma(z,E,D,V),u=K=>W[0]+W[1]*K;return{coef:W,predict:u,rSquared:Ea(m,C,B,E,u)}}function ba(m,C,B){const [z,E,D,V]=Y(m,C,B);var Aa=z.length,W=0;let u=0;var K=0;let va=0,Ja=0,Za,Wa,X,Ba;for(Za=0;Za<Aa;)Wa=z[Za],X=E[Za++],Ba=Wa*Wa,W+=(Ba-W)/Za,u+=(Ba*Wa-u)/Za,K+=(Ba*Ba-K)/Za,va+=(Wa*X-va)/Za,Ja+=(Ba*X-Ja)/Za;Aa=K-W*W;K=W*Aa-u*u;const ab=(Ja*W-va*u)/K,Gb=(va*Aa-Ja*u)/K,tc=-ab*W;W=wc=>{wc-=
D;return ab*wc*wc+Gb*wc+tc+V};return{coef:[tc-Gb*D+ab*D*D+V,Gb-2*ab*D,ab],predict:W,rSquared:Ea(m,C,B,V,W)}}function na(m,C,B,z){const E=Array(m);let D,V,Aa;for(D=0;D<m;++D)E[D]=0;for(D=m-1;0<=D;--D)for(V=C[D],Aa=1,E[D]+=V,m=1;m<=D;++m)Aa*=(D+1-m)/m,E[D-m]+=V*Math.pow(B,m)*Aa;E[0]+=z;return E}function p(m){const C=m.length-1,B=[];let z,E,D,V,Aa;for(z=0;z<C;++z){V=z;for(E=z+1;E<C;++E)Math.abs(m[z][E])>Math.abs(m[z][V])&&(V=E);for(D=z;D<C+1;++D)Aa=m[D][z],m[D][z]=m[D][V],m[D][V]=Aa;for(E=z+1;E<C;++E)for(D=
C;D>=z;D--)m[D][E]-=m[D][z]*m[z][E]/m[z][z]}for(E=C-1;0<=E;--E){Aa=0;for(D=E+1;D<C;++D)Aa+=m[D][E]*B[D];B[E]=(m[C][E]-Aa)/m[E][E]}return B}r.random=Math.random;const L=Math.sqrt(2*Math.PI),O=Math.SQRT2;let f=NaN;const v=.5*Math.PI/180;r.bandwidthNRD=Nb;r.bin=function(m){var C=m.maxbins||20;const B=m.base||10,z=Math.log(B),E=m.divide||[5,2];let D=m.extent[0],V=m.extent[1];let Aa,W,u,K;const va=m.span||V-D||Math.abs(D)||1;if(m.step)var Ja=m.step;else if(m.steps){W=va/C;u=0;for(K=m.steps.length;u<K&&
m.steps[u]<W;++u);Ja=m.steps[Math.max(0,u-1)]}else{Ja=Math.ceil(Math.log(C)/z);Aa=m.minstep||0;for(Ja=Math.max(Aa,Math.pow(B,Math.round(Math.log(va)/z)-Ja));Math.ceil(va/Ja)>C;)Ja*=B;u=0;for(K=E.length;u<K;++u)W=Ja/E[u],W>=Aa&&va/W<=C&&(Ja=W)}W=Math.log(Ja);C=Math.pow(B,-(0<=W?0:~~(-W/z)+1)-1);if(m.nice||void 0===m.nice)W=Math.floor(D/Ja+C)*Ja,D=D<W?W-Ja:W,V=Math.ceil(V/Ja)*Ja;return{start:D,stop:V===D?D+Ja:V,step:Ja}};r.bootstrapCI=function(m,C,B,z){if(!m.length)return[void 0,void 0];m=Float64Array.from(g(m,
z));z=m.length;let E,D,V,Aa;V=0;for(Aa=Array(C);V<C;++V){for(D=E=0;D<z;++D)E+=m[~~(r.random()*z)];Aa[V]=E/z}Aa.sort(ra);return[pc(Aa,B/2),pc(Aa,1-B/2)]};r.cumulativeLogNormal=mb;r.cumulativeNormal=qb;r.cumulativeUniform=Mb;r.densityLogNormal=lb;r.densityNormal=Xa;r.densityUniform=pb;r.dotbin=function(m,C,B,z){z=z||(Ja=>Ja);const E=m.length,D=new Float64Array(E);let V=0,Aa=1,W=z(m[0]),u=W,K=W+C,va;for(;Aa<E;++Aa){va=z(m[Aa]);if(va>=K){for(u=(W+u)/2;V<Aa;++V)D[V]=u;K=va+C;W=va}u=va}for(u=(W+u)/2;V<
Aa;++V)D[V]=u;return B?Bb(D,C+C/4):D};r.quantileLogNormal=Na;r.quantileNormal=Oa;r.quantileUniform=Vb;r.quantiles=rb;r.quartiles=Ib;r.randomInteger=function(m,C){null==C&&(C=m,m=0);let B,z,E;const D={min(V){return arguments.length?(B=V||0,E=z-B,D):B},max(V){return arguments.length?(z=V||0,E=z-B,D):z},sample(){return B+Math.floor(E*r.random())},pdf(V){return V===Math.floor(V)&&V>=B&&V<z?1/E:0},cdf(V){V=Math.floor(V);return V<B?0:V>=z?1:(V-B+1)/E},icdf(V){return 0<=V&&1>=V?B-1+Math.floor(V*E):NaN}};
return D.min(m).max(C)};r.randomKDE=function(m,C){const B=Ca();let z=0;const E={data(D){return arguments.length?(z=(m=D)?D.length:0,E.bandwidth(C)):m},bandwidth(D){if(!arguments.length)return C;C=D;!C&&m&&(C=Nb(m));return E},sample(){return m[~~(r.random()*z)]+C*B.sample()},pdf(D){let V=0,Aa=0;for(;Aa<z;++Aa)V+=B.pdf((D-m[Aa])/C);return V/C/z},cdf(D){let V=0,Aa=0;for(;Aa<z;++Aa)V+=B.cdf((D-m[Aa])/C);return V/z},icdf(){throw Error("KDE icdf not supported.");}};return E.data(m)};r.randomLCG=function(m){return function(){m=
(1103515245*m+12345)%2147483647;return m/2147483647}};r.randomLogNormal=function(m,C){let B,z;const E={mean(D){return arguments.length?(B=D||0,E):B},stdev(D){return arguments.length?(z=null==D?1:D,E):z},sample:()=>Qa(B,z),pdf:D=>lb(D,B,z),cdf:D=>mb(D,B,z),icdf:D=>Na(D,B,z)};return E.mean(m).stdev(C)};r.randomMixture=function(m,C){let B=0,z;const E={weights(D){if(arguments.length){var V=C=D||[];const Aa=[];let W=0,u;for(u=0;u<B;++u)W+=Aa[u]=null==V[u]?1:+V[u];for(u=0;u<B;++u)Aa[u]/=W;z=Aa;return E}return C},
distributions(D){return arguments.length?(D?(B=D.length,m=D):(B=0,m=[]),E.weights(C)):m},sample(){const D=r.random();let V=m[B-1],Aa=z[0],W=0;for(;W<B-1;Aa+=z[++W])if(D<Aa){V=m[W];break}return V.sample()},pdf(D){let V=0,Aa=0;for(;Aa<B;++Aa)V+=z[Aa]*m[Aa].pdf(D);return V},cdf(D){let V=0,Aa=0;for(;Aa<B;++Aa)V+=z[Aa]*m[Aa].cdf(D);return V},icdf(){throw Error("Mixture icdf not supported.");}};return E.distributions(m).weights(C)};r.randomNormal=Ca;r.randomUniform=function(m,C){let B,z;const E={min(D){return arguments.length?
(B=D||0,E):B},max(D){return arguments.length?(z=null==D?1:D,E):z},sample:()=>vb(B,z),pdf:D=>pb(D,B,z),cdf:D=>Mb(D,B,z),icdf:D=>Vb(D,B,z)};null==C&&(C=null==m?1:m,m=0);return E.min(m).max(C)};r.regressionConstant=ob;r.regressionExp=function(m,C,B){const [z,,E,D]=Y(m,C,B);let V=0,Aa=0,W=0,u=0,K=0,va,Ja,Za;Ga(m,C,B,(ab,Gb)=>{va=z[K++];Ja=Math.log(Gb);Za=va*Gb;V+=(Gb*Ja-V)/K;Aa+=(Za-Aa)/K;W+=(Za*Ja-W)/K;u+=(va*Za-u)/K});const [Wa,X]=ma(Aa/D,V/D,W/D,u/D),Ba=ab=>Math.exp(Wa+X*(ab-E));return{coef:[Math.exp(Wa-
X*E),X],predict:Ba,rSquared:Ea(m,C,B,D,Ba)}};r.regressionLinear=db;r.regressionLoess=function(m,C,B,z){const [E,D,V,Aa]=Y(m,C,B,!0);m=E.length;C=Math.max(2,~~(z*m));z=new Float64Array(m);B=new Float64Array(m);var W=(new Float64Array(m)).fill(1);for(var u=-1;2>=++u;){var K=[0,C-1];for(let tc=0;tc<m;++tc){var va=E[tc],Ja=K[0],Za=K[1],Wa=0,X=0,Ba=0,ab=0;let wc=0;const vc=1/Math.abs(E[va-E[Ja]>E[Za]-va?Ja:Za]-va||1);for(;Ja<=Za;++Ja){const Rc=E[Ja],Sd=D[Ja];var Gb=Math.abs(va-Rc)*vc;const Ia=(Gb=1-Gb*
Gb*Gb)*Gb*Gb*W[Ja];Gb=Rc*Ia;Wa+=Ia;X+=Gb;Ba+=Sd*Ia;ab+=Sd*Gb;wc+=Rc*Gb}const [Ec,zc]=ma(X/Wa,Ba/Wa,ab/Wa,wc/Wa);z[tc]=Ec+zc*va;B[tc]=Math.abs(D[tc]-z[tc]);va=E;Za=tc+1;Wa=K;X=va[Za];Ba=Wa[0];ab=Wa[1]+1;if(!(ab>=va.length))for(;Za>Ba&&va[ab]-X<=X-va[Ba];)Wa[0]=++Ba,Wa[1]=ab,++ab}if(2===u)break;K=pc(B,.5,void 0);if(1E-12>Math.abs(K))break;for(let tc=0,wc,vc;tc<m;++tc)wc=B[tc]/(6*K),W[tc]=1<=wc?1E-12:(vc=1-wc*wc)*vc}m=E.length;C=[];W=B=0;for(u=[];B<m;++B)K=E[B]+V,u[0]===K?u[1]+=(z[B]-u[1])/++W:(W=0,
u[1]+=Aa,u=[K,z[B]],C.push(u));u[1]+=Aa;return C};r.regressionLog=function(m,C,B){let z=0,E=0,D=0,V=0,Aa=0;Ga(m,C,B,(K,va)=>{++Aa;K=Math.log(K);z+=(K-z)/Aa;E+=(va-E)/Aa;D+=(K*va-D)/Aa;V+=(K*K-V)/Aa});const W=ma(z,E,D,V),u=K=>W[0]+W[1]*Math.log(K);return{coef:W,predict:u,rSquared:Ea(m,C,B,E,u)}};r.regressionPoly=function(m,C,B,z){if(0===z)return ob(m,C,B);if(1===z)return db(m,C,B);if(2===z)return ba(m,C,B);const [E,D,V,Aa]=Y(m,C,B);var W=E.length;const u=[],K=[],va=z+1;let Ja,Za,Wa,X;for(Ja=0;Ja<va;++Ja){for(Wa=
Za=0;Za<W;++Za)Wa+=Math.pow(E[Za],Ja)*D[Za];u.push(Wa);X=new Float64Array(va);for(z=0;z<va;++z){for(Wa=Za=0;Za<W;++Za)Wa+=Math.pow(E[Za],Ja+z);X[z]=Wa}K.push(X)}K.push(u);const Ba=p(K);W=ab=>{ab-=V;let Gb=Aa+Ba[0]+Ba[1]*ab+Ba[2]*ab*ab;for(Ja=3;Ja<va;++Ja)Gb+=Ba[Ja]*Math.pow(ab,Ja);return Gb};return{coef:na(va,Ba,-V,Aa),predict:W,rSquared:Ea(m,C,B,Aa,W)}};r.regressionPow=function(m,C,B){let z=0,E=0,D=0,V=0,Aa=0,W=0;Ga(m,C,B,(va,Ja)=>{va=Math.log(va);const Za=Math.log(Ja);++W;z+=(va-z)/W;E+=(Za-E)/
W;D+=(va*Za-D)/W;V+=(va*va-V)/W;Aa+=(Ja-Aa)/W});const u=ma(z,E,D,V),K=va=>u[0]*Math.pow(va,u[1]);u[0]=Math.exp(u[0]);return{coef:u,predict:K,rSquared:Ea(m,C,B,Aa,K)}};r.regressionQuad=ba;r.sampleCurve=function(m,C,B,z){B=B||25;z=Math.max(B,z||200);var E=C[0],D=C[1],V=D-E,Aa=V/z;C=[[E,m(E)]];var W=[];if(B===z){for(var u=1;u<z;++u){Aa=C;W=Aa.push;var K=E+u/B*V;K=[K,m(K)];W.call(Aa,K)}C.push([D,m(D)]);return C}W.push([D,m(D)]);for(u=B;0<--u;)z=W,D=z.push,K=E+u/B*V,K=[K,m(K)],D.call(z,K);B=C[0];E=W[W.length-
1];V=1/V;z=D=B[1];u=W.length;for(K=0;K<u;++K){const va=W[K][1];va<z&&(z=va);va>D&&(D=va)}for(z=1/(D-z);E;)D=(B[0]+E[0])/2,D=[D,m(D)],D[0]-B[0]>=Aa&&Math.abs(Math.atan2(z*(E[1]-B[1]),V*(E[0]-B[0]))-Math.atan2(z*(D[1]-B[1]),V*(D[0]-B[0])))>v?W.push(D):(B=E,C.push(E),W.pop()),E=W[W.length-1];return C};r.sampleLogNormal=Qa;r.sampleNormal=Ob;r.sampleUniform=vb;r.setRandom=function(m){r.random=m}})};
shadow$provide[31]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(29),Cb(30),Cb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb){function Zb(M){return Z=>{const La=M.length;let gb=1,Jb=String(M[0](Z));for(;gb<La;++gb)Jb+="|"+M[gb](Z);return Jb}}function oc(M){return M&&
M.length?1===M.length?M[0]:Zb(M):function(){return""}}function kc(M,Z){return La=>g.extend({name:M,out:La||M},gc,Z)}function Ac(M,Z){return M.idx-Z.idx}function Ab(M){const Z={};M.forEach(gb=>Z[gb.name]=gb);const La=gb=>{gb.req&&gb.req.forEach(Jb=>{Z[Jb]||La(Z[Jb]=Sc[Jb]())})};M.forEach(La);return Object.values(Z).sort(Ac)}function ec(){this.missing=this.valid=0;this._ops.forEach(M=>M.init(this))}function pc(M,Z){null==M||""===M?++this.missing:M===M&&(++this.valid,this._ops.forEach(La=>La.add(this,
M,Z)))}function Ya(M,Z){null==M||""===M?--this.missing:M===M&&(--this.valid,this._ops.forEach(La=>La.rem(this,M,Z)))}function rb(M){this._out.forEach(Z=>M[Z.out]=Z.value(this));return M}function Ib(M,Z){function La(Tb){this._ops=gb;this._out=Jb;this.cell=Tb;this.init()}Z=Z||g.identity;const gb=Ab(M),Jb=M.slice().sort(Ac);La.prototype.init=ec;La.prototype.add=pc;La.prototype.rem=Ya;La.prototype.set=rb;La.prototype.get=Z;La.fields=M.map(Tb=>Tb.out);return La}function Nb(M){this._key=M?g.field(M):ra.tupleid;
this.reset()}function Bb(M){ra.Transform.call(this,null,M);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Ob(M){ra.Transform.call(this,null,M)}function Xa(M,Z,La){let gb=Z||[],Jb=La||[],Tb={},Bc=0;return{add:ic=>Jb.push(ic),remove:ic=>Tb[M(ic)]=++Bc,size:()=>gb.length,data:(ic,Jc)=>{Bc&&(gb=gb.filter(dd=>!Tb[M(dd)]),Tb={},Bc=0);Jc&&ic&&
gb.sort(ic);Jb.length&&(gb=ic?g.merge(ic,gb,Jb.sort(ic)):gb.concat(Jb),Jb=[]);return gb}}}function qb(M){ra.Transform.call(this,[],M)}function Oa(M){ra.Operator.call(this,null,Ca,M)}function Ca(M){return this.value&&!M.modified()?this.value:g.compare(M.fields,M.orders)}function Qa(M){ra.Transform.call(this,null,M)}function lb(M){ra.Transform.call(this,null,M)}function mb(M,Z){var La=M["function"];g.hasOwnProperty(Rd,La)||g.error("Unknown distribution function: "+La);La=Rd[La]();for(const gb in M)if("field"===
gb)La.data((M.from||Z()).map(M[gb]));else if("distributions"===gb)La[gb](M[gb].map(Jb=>mb(Jb,Z)));else if("function"===typeof La[gb])La[gb](M[gb]);return La}function Na(M){ra.Transform.call(this,null,M)}function vb(M){return()=>M.materialize(M.SOURCE).source}function pb(M,Z){return M?M.map((La,gb)=>Z[gb]||g.accessorName(La)):null}function Mb(M,Z,La){const gb=[],Jb=vd=>vd(Jc);let Tb,Bc,ic,Jc,dd,Oc;if(null==Z)gb.push(M.map(La));else for(Tb={},Bc=0,ic=M.length;Bc<ic;++Bc)Jc=M[Bc],dd=Z.map(Jb),Oc=Tb[dd],
Oc||(Tb[dd]=Oc=[],Oc.dims=dd,gb.push(Oc)),Oc.push(La(Jc));return gb}function Vb(M){ra.Transform.call(this,null,M)}function ob(M){ra.Operator.call(this,null,ma,M);this.modified(!0)}function ma(M){const Z=M.expr;return this.value&&!M.modified("expr")?this.value:g.accessor(La=>Z(La,M),g.accessorFields(Z),g.accessorName(Z))}function Y(M){ra.Transform.call(this,[void 0,void 0],M)}function Ga(M,Z){ra.Operator.call(this,M);this.parent=Z;this.count=0}function Ea(M){ra.Transform.call(this,{},M);this._keys=
g.fastmap();const Z=this._targets=[];Z.active=0;Z.forEach=La=>{for(let gb=0,Jb=Z.active;gb<Jb;++gb)La(Z[gb],gb,Z)}}function db(M){ra.Operator.call(this,null,ba,M)}function ba(M){return this.value&&!M.modified()?this.value:g.isArray(M.name)?g.array(M.name).map(Z=>g.field(Z)):g.field(M.name,M.as)}function na(M){ra.Transform.call(this,g.fastmap(),M)}function p(M){ra.Transform.call(this,[],M)}function L(M){ra.Transform.call(this,[],M)}function O(M){ra.Transform.call(this,null,M)}function f(M){ra.Transform.call(this,
[],M)}function v(M,Z){return null==M||null==Z?NaN:M<Z?-1:M>Z?1:M>=Z?0:NaN}function m(M,Z){return null==M||null==Z?NaN:Z<M?-1:Z>M?1:Z>=M?0:NaN}function C(M){function Z(Tb,Bc,ic=0,Jc=Tb.length){if(ic<Jc){if(0!==La(Bc,Bc))return Jc;do{const dd=ic+Jc>>>1;0>gb(Tb[dd],Bc)?ic=dd+1:Jc=dd}while(ic<Jc)}return ic}let La,gb,Jb;2!==M.length?(La=v,gb=(Tb,Bc)=>v(M(Tb),Bc),Jb=(Tb,Bc)=>M(Tb)-Bc):(La=M===v||M===m?M:B,Jb=gb=M);return{left:Z,center:function(Tb,Bc,ic=0,Jc=Tb.length){Jc=Z(Tb,Bc,ic,Jc-1);return Jc>ic&&
Jb(Tb[Jc-1],Bc)>-Jb(Tb[Jc],Bc)?Jc-1:Jc},right:function(Tb,Bc,ic=0,Jc=Tb.length){if(ic<Jc){if(0!==La(Bc,Bc))return Jc;do{const dd=ic+Jc>>>1;0>=gb(Tb[dd],Bc)?ic=dd+1:Jc=dd}while(ic<Jc)}return ic}}}function B(){return 0}function*z(M,Z){if(void 0===Z)for(var La of M)null!=La&&(La=+La)>=La&&(yield La);else{La=-1;for(let gb of M)null!=(gb=Z(gb,++La,M))&&(gb=+gb)>=gb&&(yield gb)}}function E(M=v){if(M===v)return D;if("function"!==typeof M)throw new TypeError("compare is not a function");return(Z,La)=>{const gb=
M(Z,La);return gb||0===gb?gb:(0===M(La,La))-(0===M(Z,Z))}}function D(M,Z){return(null==M||!(M>=M))-(null==Z||!(Z>=Z))||(M<Z?-1:M>Z?1:0)}function V(M,Z){let La;if(void 0===Z)for(var gb of M)null!=gb&&(La<gb||void 0===La&&gb>=gb)&&(La=gb);else{gb=-1;for(let Jb of M)null!=(Jb=Z(Jb,++gb,M))&&(La<Jb||void 0===La&&Jb>=Jb)&&(La=Jb)}return La}function Aa(M,Z){let La;if(void 0===Z)for(var gb of M)null!=gb&&(La>gb||void 0===La&&gb>=gb)&&(La=gb);else{gb=-1;for(let Jb of M)null!=(Jb=Z(Jb,++gb,M))&&(La>Jb||void 0===
La&&Jb>=Jb)&&(La=Jb)}return La}function W(M,Z,La=0,gb=Infinity,Jb){Z=Math.floor(Z);La=Math.floor(Math.max(0,La));gb=Math.floor(Math.min(M.length-1,gb));if(!(La<=Z&&Z<=gb))return M;for(Jb=void 0===Jb?D:E(Jb);gb>La;){if(600<gb-La){var Tb=gb-La+1,Bc=Z-La+1,ic=Math.log(Tb),Jc=.5*Math.exp(2*ic/3);ic=.5*Math.sqrt(ic*Jc*(Tb-Jc)/Tb)*(0>Bc-Tb/2?-1:1);W(M,Z,Math.max(La,Math.floor(Z-Bc*Jc/Tb+ic)),Math.min(gb,Math.floor(Z+(Tb-Bc)*Jc/Tb+ic)),Jb)}Tb=M[Z];Bc=La;Jc=gb;u(M,La,Z);for(0<Jb(M[gb],Tb)&&u(M,La,gb);Bc<
Jc;){u(M,Bc,Jc);++Bc;for(--Jc;0>Jb(M[Bc],Tb);)++Bc;for(;0<Jb(M[Jc],Tb);)--Jc}0===Jb(M[La],Tb)?u(M,La,Jc):(++Jc,u(M,Jc,gb));Jc<=Z&&(La=Jc+1);Z<=Jc&&(gb=Jc-1)}return M}function u(M,Z,La){const gb=M[Z];M[Z]=M[La];M[La]=gb}function K(M,Z,La){M=+M;Z=+Z;La=2>(Jb=arguments.length)?(Z=M,M=0,1):3>Jb?1:+La;for(var gb=-1,Jb=Math.max(0,Math.ceil((Z-M)/La))|0,Tb=Array(Jb);++gb<Jb;)Tb[gb]=M+gb*La;return Tb}function va(M){ra.Transform.call(this,[],M)}function Ja(M){var Z=M.method||Cd.value;if(null==Cd[Z])g.error("Unrecognized imputation method: "+
Z);else{if(Z===Cd.value){var La=void 0!==M.value?M.value:0;return()=>La}return Cd[Z]}}function Za(M){const Z=M.field;return La=>La?Z(La):NaN}function Wa(M,Z,La,gb){var Jb=Md=>Md(vd),Tb=[];gb=gb?gb.slice():[];var Bc={},ic={},Jc,dd;gb.forEach((Md,se)=>Bc[Md]=se+1);var Oc=0;for(dd=M.length;Oc<dd;++Oc){var vd=M[Oc];var Jd=La(vd);var Fd=Bc[Jd]||(Bc[Jd]=gb.push(Jd));var Zd=(Jd=Z?Z.map(Jb):be)+"";(Jc=ic[Zd])||(Jc=ic[Zd]=[],Tb.push(Jc),Jc.values=Jd);Jc[Fd-1]=vd}Tb.domain=gb;return Tb}function X(M){Bb.call(this,
M)}function Ba(M){ra.Transform.call(this,null,M)}function ab(M){ra.Operator.call(this,null,Gb,M)}function Gb(M){return this.value&&!M.modified()?this.value:g.key(M.fields,M.flat)}function tc(M){ra.Transform.call(this,[],M);this._pending=null}function wc(M){return M.modified("async")&&!(M.modified("values")||M.modified("url")||M.modified("format"))}function vc(M,Z,La){La.forEach(ra.ingest);Z=Z.fork(Z.NO_FIELDS&Z.NO_SOURCE);Z.rem=M.value;M.value=Z.source=Z.add=La;M._pending=null;Z.rem.length&&Z.clean(!0);
return Z}function Ec(M){ra.Transform.call(this,{},M)}function zc(M){ra.Operator.call(this,null,Rc,M)}function Rc(M){if(this.value&&!M.modified())return this.value;M=M.extents;const Z=M.length;let La=Infinity,gb=-Infinity,Jb,Tb;for(Jb=0;Jb<Z;++Jb)Tb=M[Jb],Tb[0]<La&&(La=Tb[0]),Tb[1]>gb&&(gb=Tb[1]);return[La,gb]}function Sd(M){ra.Operator.call(this,null,Ia,M)}function Ia(M){return this.value&&!M.modified()?this.value:M.values.reduce((Z,La)=>Z.concat(La),[])}function Wb(M){ra.Transform.call(this,null,
M)}function kb(M){Bb.call(this,M)}function bc(M,Z){const La=M.field,gb=M.value,Jb=("count"===M.op?"__count__":M.op)||"sum",Tb=g.accessorFields(La).concat(g.accessorFields(gb)),Bc=hc(La,M.limit||0,Z);Z.changed()&&M.set("__pivot__",null,null,!0);return{key:M.key,groupby:M.groupby,ops:Bc.map(()=>Jb),fields:Bc.map(ic=>Yb(ic,La,gb,Tb)),as:Bc.map(ic=>ic+""),modified:M.modified.bind(M)}}function Yb(M,Z,La,gb){return g.accessor(Jb=>Z(Jb)===M?La(Jb):NaN,gb,M+"")}function hc(M,Z,La){const gb={},Jb=[];La.visit(La.SOURCE,
Tb=>{Tb=M(Tb);gb[Tb]||(gb[Tb]=1,Jb.push(Tb))});Jb.sort(g.ascending);return Z?Jb.slice(0,Z):Jb}function yc(M){Ea.call(this,M)}function Gc(M){ra.Transform.call(this,null,M)}function ad(M){ra.Transform.call(this,null,M)}function Nd(M){ra.Transform.call(this,null,M)}function ud(M){ra.Transform.call(this,null,M)}function Fa(M){ra.Transform.call(this,[],M);this.count=0}function hb(M){ra.Transform.call(this,null,M)}function ub(M){ra.Transform.call(this,null,M);this.modified(!0)}function la(M){ra.Transform.call(this,
null,M)}function H(M){ra.Transform.call(this,g.fastmap(),M)}function ya(M){ra.Transform.call(this,null,M)}function Ka(M,Z,La,gb){const Jb=Vd[M](Z,La);return{init:Jb.init||g.zero,update:function(Tb,Bc){Bc[gb]=Jb.next(Tb)}}}function bb(M){function Z(Fd){g.array(g.accessorFields(Fd)).forEach(Zd=>Jc[Zd]=1)}const La=g.array(M.ops),gb=g.array(M.fields),Jb=g.array(M.params),Tb=g.array(M.as),Bc=this.outputs=[],ic=this.windows=[],Jc={},dd={},Oc=[],vd=[];let Jd=!0;Z(M.sort);La.forEach((Fd,Zd)=>{const Md=gb[Zd],
se=g.accessorName(Md),Ae=Tb[Zd]||Fd+(se?"_"+se:"");Z(Md);Bc.push(Ae);g.hasOwnProperty(Vd,Fd)?ic.push(Ka(Fd,gb[Zd],Jb[Zd],Ae)):(null==Md&&"count"!==Fd&&g.error("Null aggregate field specified."),"count"===Fd?Oc.push(Ae):(Jd=!1,Zd=dd[se],Zd||(Zd=dd[se]=[],Zd.field=Md,vd.push(Zd)),Zd.push(Sc[Fd](Ae))))});if(Oc.length||vd.length)this.cell=jb(vd,Oc,Jd);this.inputs=Object.keys(Jc)}function jb(M,Z,La){M=M.map(Jc=>Ib(Jc,Jc.field));const gb={num:0,agg:null,store:!1,count:Z};if(!La)for(var Jb=M.length,Tb=gb.agg=
Array(Jb),Bc=0;Bc<Jb;++Bc)Tb[Bc]=new M[Bc](gb);if(gb.store)var ic=gb.data=new Nb;gb.add=function(Jc){gb.num+=1;if(!La){ic&&ic.add(Jc);for(let dd=0;dd<Jb;++dd)Tb[dd].add(Tb[dd].get(Jc),Jc)}};gb.rem=function(Jc){--gb.num;if(!La){ic&&ic.rem(Jc);for(let dd=0;dd<Jb;++dd)Tb[dd].rem(Tb[dd].get(Jc),Jc)}};gb.set=function(Jc){let dd,Oc;ic&&ic.values();dd=0;for(Oc=Z.length;dd<Oc;++dd)Jc[Z[dd]]=gb.num;if(!La)for(dd=0,Oc=Tb.length;dd<Oc;++dd)Tb[dd].set(Jc)};gb.init=function(){gb.num=0;ic&&ic.reset();for(let Jc=
0;Jc<Jb;++Jc)Tb[Jc].init()};return gb}function Eb(M){ra.Transform.call(this,{},M);this._mlen=0;this._mods=[]}function mc(M,Z,La,gb){var Jb=gb.sort;const Tb=Jb&&!gb.ignorePeers;gb=gb.frame||[null,0];M=M.data(La);La=M.length;const Bc=Tb?C(Jb):null;Jb={i0:0,i1:0,p0:0,p1:0,index:0,data:M,compare:Jb||g.constant(-1)};Z.init();for(let vd=0;vd<La;++vd){var ic=Jb,Jc=gb,dd=vd,Oc=La;ic.p0=ic.i0;ic.p1=ic.i1;ic.i0=null==Jc[0]?0:Math.max(0,dd-Math.abs(Jc[0]));ic.i1=null==Jc[1]?Oc:Math.min(Oc,dd+Math.abs(Jc[1])+
1);ic.index=dd;if(Tb){ic=Jb;Jc=Bc;dd=ic.i0;Oc=ic.i1-1;const Jd=ic.compare,Fd=ic.data,Zd=Fd.length-1;0<dd&&!Jd(Fd[dd],Fd[dd-1])&&(ic.i0=Jc.left(Fd,Fd[dd]));Oc<Zd&&!Jd(Fd[Oc],Fd[Oc+1])&&(ic.i1=Jc.right(Fd,Fd[Oc]))}Z.update(Jb,M[vd])}}const cc=()=>{},gc={init:cc,add:cc,rem:cc,idx:0},Sc={values:{init:M=>M.cell.store=!0,value:M=>M.cell.data.values(),idx:-1},count:{value:M=>M.cell.num},__count__:{value:M=>M.missing+M.valid},missing:{value:M=>M.missing},valid:{value:M=>M.valid},sum:{init:M=>M.sum=0,value:M=>
M.sum,add:(M,Z)=>M.sum+=+Z,rem:(M,Z)=>M.sum-=Z},product:{init:M=>M.product=1,value:M=>M.valid?M.product:void 0,add:(M,Z)=>M.product*=Z,rem:(M,Z)=>M.product/=Z},mean:{init:M=>M.mean=0,value:M=>M.valid?M.mean:void 0,add:(M,Z)=>(M.mean_d=Z-M.mean,M.mean+=M.mean_d/M.valid),rem:(M,Z)=>(M.mean_d=Z-M.mean,M.mean-=M.valid?M.mean_d/M.valid:M.mean)},average:{value:M=>M.valid?M.mean:void 0,req:["mean"],idx:1},variance:{init:M=>M.dev=0,value:M=>1<M.valid?M.dev/(M.valid-1):void 0,add:(M,Z)=>M.dev+=M.mean_d*(Z-
M.mean),rem:(M,Z)=>M.dev-=M.mean_d*(Z-M.mean),req:["mean"],idx:1},variancep:{value:M=>1<M.valid?M.dev/M.valid:void 0,req:["variance"],idx:2},stdev:{value:M=>1<M.valid?Math.sqrt(M.dev/(M.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:M=>1<M.valid?Math.sqrt(M.dev/M.valid):void 0,req:["variance"],idx:2},stderr:{value:M=>1<M.valid?Math.sqrt(M.dev/(M.valid*(M.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:M=>M.cell.data.distinct(M.get),req:["values"],idx:3},ci0:{value:M=>M.cell.data.ci0(M.get),
req:["values"],idx:3},ci1:{value:M=>M.cell.data.ci1(M.get),req:["values"],idx:3},median:{value:M=>M.cell.data.q2(M.get),req:["values"],idx:3},q1:{value:M=>M.cell.data.q1(M.get),req:["values"],idx:3},q3:{value:M=>M.cell.data.q3(M.get),req:["values"],idx:3},min:{init:M=>M.min=void 0,value:M=>M.min=Number.isNaN(M.min)?M.cell.data.min(M.get):M.min,add:(M,Z)=>{if(Z<M.min||void 0===M.min)M.min=Z},rem:(M,Z)=>{Z<=M.min&&(M.min=NaN)},req:["values"],idx:4},max:{init:M=>M.max=void 0,value:M=>M.max=Number.isNaN(M.max)?
M.cell.data.max(M.get):M.max,add:(M,Z)=>{if(Z>M.max||void 0===M.max)M.max=Z},rem:(M,Z)=>{Z>=M.max&&(M.max=NaN)},req:["values"],idx:4},argmin:{init:M=>M.argmin=void 0,value:M=>M.argmin||M.cell.data.argmin(M.get),add:(M,Z,La)=>{Z<M.min&&(M.argmin=La)},rem:(M,Z)=>{Z<=M.min&&(M.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:M=>M.argmax=void 0,value:M=>M.argmax||M.cell.data.argmax(M.get),add:(M,Z,La)=>{Z>M.max&&(M.argmax=La)},rem:(M,Z)=>{Z>=M.max&&(M.argmax=void 0)},req:["max","values"],idx:3}},
ed=Object.keys(Sc).filter(M=>"__count__"!==M);[...ed,"__count__"].forEach(M=>{Sc[M]=kc(M,Sc[M])});const fd=Nb.prototype;fd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};fd.add=function(M){this._add.push(M)};fd.rem=function(M){this._rem.push(M)};fd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const M=this._add;var Z=this._rem;const La=this._key,gb=M.length,Jb=Z.length,Tb=Array(gb-Jb),Bc={};let ic,Jc;for(ic=0;ic<Jb;++ic)Bc[La(Z[ic])]=1;for(Z=
ic=0;ic<gb;++ic)Bc[La(Jc=M[ic])]?Bc[La(Jc)]=0:Tb[Z++]=Jc;this._rem=[];return this._add=Tb};fd.distinct=function(M){const Z=this.values(),La={};let gb=Z.length,Jb=0,Tb;for(;0<=--gb;)Tb=M(Z[gb])+"",g.hasOwnProperty(La,Tb)||(La[Tb]=1,++Jb);return Jb};fd.extent=function(M){if(this._get!==M||!this._ext){const Z=this.values(),La=g.extentIndex(Z,M);this._ext=[Z[La[0]],Z[La[1]]];this._get=M}return this._ext};fd.argmin=function(M){return this.extent(M)[0]||{}};fd.argmax=function(M){return this.extent(M)[1]||
{}};fd.min=function(M){const Z=this.extent(M)[0];return null!=Z?M(Z):void 0};fd.max=function(M){const Z=this.extent(M)[1];return null!=Z?M(Z):void 0};fd.quartile=function(M){this._get===M&&this._q||(this._q=ib.quartiles(this.values(),M),this._get=M);return this._q};fd.q1=function(M){return this.quartile(M)[0]};fd.q2=function(M){return this.quartile(M)[1]};fd.q3=function(M){return this.quartile(M)[2]};fd.ci=function(M){this._get===M&&this._ci||(this._ci=ib.bootstrapCI(this.values(),1E3,.05,M),this._get=
M);return this._ci};fd.ci0=function(M){return this.ci(M)[0]};fd.ci1=function(M){return this.ci(M)[1]};Bb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};g.inherits(Bb,ra.Transform,{transform(M,
Z){const La=this,gb=Z.fork(Z.NO_SOURCE|Z.NO_FIELDS),Jb=M.modified();La.stamp=gb.stamp;La.value&&(Jb||Z.modified(La._inputs,!0))?(La._prev=La.value,La.value=Jb?La.init(M):Object.create(null),Z.visit(Z.SOURCE,Tb=>La.add(Tb))):(La.value=La.value||La.init(M),Z.visit(Z.REM,Tb=>La.rem(Tb)),Z.visit(Z.ADD,Tb=>La.add(Tb)));gb.modifies(La._outputs);La._drop=!1!==M.drop;M.cross&&1<La._dims.length&&(La._drop=!1,La.cross());Z.clean()&&La._drop&&gb.clean(!0).runAfter(()=>this.clean());return La.changes(gb)},cross(){function M(ic){let Jc,
dd,Oc,vd;for(Jc in ic)for(Oc=ic[Jc].tuple,dd=0;dd<Bc;++dd)Tb[dd][vd=Oc[Jb[dd]]]=vd}function Z(ic,Jc,dd){const Oc=Jb[dd],vd=Tb[dd++];for(const Jd in vd){const Fd=ic?ic+"|"+Jd:Jd;Jc[Oc]=vd[Jd];dd<Bc?Z(Fd,Jc,dd):gb[Fd]||La.cell(Fd,Jc)}}const La=this,gb=La.value,Jb=La._dnames,Tb=Jb.map(()=>({})),Bc=Jb.length;M(La._prev);M(gb);Z("",{},0)},init(M){function Z(Md){Md=g.array(g.accessorFields(Md));const se=Md.length;let Ae=0,hf;for(;Ae<se;++Ae)Jb[hf=Md[Ae]]||(Jb[hf]=1,La.push(hf))}const La=this._inputs=[],
gb=this._outputs=[],Jb={};this._dims=g.array(M.groupby);this._dnames=this._dims.map(Md=>{const se=g.accessorName(Md);Z(Md);gb.push(se);return se});this.cellkey=M.key?M.key:oc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Tb=M.fields||[null],Bc=M.ops||["count"];M=M.as||[];const ic=Tb.length,Jc={};let dd,Oc,vd,Jd,Fd,Zd;ic!==Bc.length&&g.error("Unmatched number of fields and aggregate ops.");for(Zd=0;Zd<ic;++Zd)dd=Tb[Zd],Oc=Bc[Zd],null==dd&&"count"!==Oc&&g.error("Null aggregate field specified."),
Jd=g.accessorName(dd),Fd=M[Zd]||Oc+(Jd?"_"+Jd:""),gb.push(Fd),"count"===Oc?this._counts.push(Fd):(vd=Jc[Jd],vd||(Z(dd),vd=Jc[Jd]=[],vd.field=dd,this._measures.push(vd)),"count"!==Oc&&(this._countOnly=!1),vd.push(Sc[Oc](Fd)));this._measures=this._measures.map(Md=>Ib(Md,Md.field));return Object.create(null)},cellkey:oc(),cell(M,Z){let La=this.value[M];La?0===La.num&&this._drop&&La.stamp<this.stamp?(La.stamp=this.stamp,this._adds[this._alen++]=La):La.stamp<this.stamp&&(La.stamp=this.stamp,this._mods[this._mlen++]=
La):(La=this.value[M]=this.newcell(M,Z),this._adds[this._alen++]=La);return La},newcell(M,Z){M={key:M,num:0,agg:null,tuple:this.newtuple(Z,this._prev&&this._prev[M]),stamp:this.stamp,store:!1};if(!this._countOnly){Z=this._measures;const La=Z.length;M.agg=Array(La);for(let gb=0;gb<La;++gb)M.agg[gb]=new Z[gb](M)}M.store&&(M.data=new Nb);return M},newtuple(M,Z){const La=this._dnames,gb=this._dims,Jb=gb.length,Tb={};for(let Bc=0;Bc<Jb;++Bc)Tb[La[Bc]]=gb[Bc](M);return Z?ra.replace(Z.tuple,Tb):ra.ingest(Tb)},
clean(){const M=this.value;for(const Z in M)0===M[Z].num&&delete M[Z]},add(M){var Z=this.cellkey(M);Z=this.cell(Z,M);Z.num+=1;if(!this._countOnly){Z.store&&Z.data.add(M);Z=Z.agg;for(let La=0,gb=Z.length;La<gb;++La)Z[La].add(Z[La].get(M),M)}},rem(M){var Z=this.cellkey(M);Z=this.cell(Z,M);--Z.num;if(!this._countOnly){Z.store&&Z.data.rem(M);Z=Z.agg;for(let La=0,gb=Z.length;La<gb;++La)Z[La].rem(Z[La].get(M),M)}},celltuple(M){const Z=M.tuple,La=this._counts;M.store&&M.data.values();for(let gb=0,Jb=La.length;gb<
Jb;++gb)Z[La[gb]]=M.num;if(!this._countOnly){M=M.agg;for(let gb=0,Jb=M.length;gb<Jb;++gb)M[gb].set(Z)}return Z},changes(M){const Z=this._adds,La=this._mods;var gb=this._prev;const Jb=this._drop,Tb=M.add,Bc=M.rem,ic=M.mod;let Jc;var dd;if(gb)for(dd in gb)Jc=gb[dd],Jb&&!Jc.num||Bc.push(Jc.tuple);gb=0;for(dd=this._alen;gb<dd;++gb)Tb.push(this.celltuple(Z[gb])),Z[gb]=null;gb=0;for(dd=this._mlen;gb<dd;++gb)Jc=La[gb],(0===Jc.num&&Jb?Bc:ic).push(this.celltuple(Jc)),La[gb]=null;this._alen=this._mlen=0;this._prev=
null;return M}});Ob.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",
"default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};g.inherits(Ob,ra.Transform,{transform(M,Z){const La=!1!==M.interval,gb=this._bins(M),Jb=gb.start,Tb=gb.step,Bc=M.as||["bin0","bin1"],ic=Bc[0],Jc=Bc[1];M.modified()?(Z=Z.reflow(!0),M=Z.SOURCE):M=Z.modified(g.accessorFields(M.field))?Z.ADD_MOD:Z.ADD;Z.visit(M,La?dd=>{const Oc=gb(dd);dd[ic]=Oc;dd[Jc]=null==Oc?null:Jb+Tb*(1+(Oc-Jb)/Tb)}:dd=>dd[ic]=
gb(dd));return Z.modifies(La?Bc:ic)},_bins(M){if(this.value&&!M.modified())return this.value;const Z=M.field,La=ib.bin(M),gb=La.step;let Jb=La.start,Tb=Jb+Math.ceil((La.stop-Jb)/gb)*gb;var Bc;null!=(Bc=M.anchor)&&(Bc-=Jb+gb*Math.floor((Bc-Jb)/gb),Jb+=Bc,Tb+=Bc);Bc=function(ic){ic=g.toNumber(Z(ic));return null==ic?null:ic<Jb?-Infinity:ic>Tb?Infinity:(ic=Math.max(Jb,Math.min(ic,Tb-gb)),Jb+gb*Math.floor(1E-14+(ic-Jb)/gb))};Bc.start=Jb;Bc.stop=La.stop;Bc.step=gb;return this.value=g.accessor(Bc,g.accessorFields(Z),
M.name||"bin_"+g.accessorName(Z))}});qb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};g.inherits(qb,ra.Transform,{transform(M,Z){const La=Z.fork(Z.ALL),gb=Xa(ra.tupleid,this.value,La.materialize(La.ADD).add),Jb=M.sort;M=Z.changed()||Jb&&(M.modified("sort")||Z.modified(Jb.fields));La.visit(La.REM,gb.remove);this.modified(M);this.value=La.source=gb.data(ra.stableCompare(Jb),M);Z.source&&Z.source.root&&(this.value.root=Z.source.root);return La}});g.inherits(Oa,
ra.Operator);Qa.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};g.inherits(Qa,ra.Transform,{transform(M,Z){var La=Oc=>vd=>{vd=ic(vd);var Jd=Tb;switch(M.case){case "upper":vd=vd.toUpperCase();
break;case "lower":vd=vd.toLowerCase()}vd=vd.match(Jd)||[];var Fd;Jd=0;for(var Zd=vd.length;Jd<Zd;++Jd)Bc.test(Fd=vd[Jd])||Oc(Fd)};const gb=this._parameterCheck(M,Z),Jb=this._counts,Tb=this._match,Bc=this._stop,ic=M.field,Jc=M.as||["text","count"],dd=La(Oc=>Jb[Oc]=1+(Jb[Oc]||0));La=La(Oc=>--Jb[Oc]);gb?Z.visit(Z.SOURCE,dd):(Z.visit(Z.ADD,dd),Z.visit(Z.REM,La));return this._finish(Z,Jc)},_parameterCheck(M,Z){let La=!1;if(M.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(M.stopwords||"")+
"$","i"),La=!0;if(M.modified("pattern")||!this._match)this._match=new RegExp(M.pattern||"[\\w']+","g"),La=!0;if(M.modified("field")||Z.modified(M.field.fields))La=!0;La&&(this._counts={});return La},_finish(M,Z){const La=this._counts,gb=this._tuples||(this._tuples={}),Jb=Z[0],Tb=Z[1];M=M.fork(M.NO_SOURCE|M.NO_FIELDS);let Bc,ic,Jc;for(Bc in La)ic=gb[Bc],Jc=La[Bc]||0,!ic&&Jc?(gb[Bc]=ic=ra.ingest({}),ic[Jb]=Bc,ic[Tb]=Jc,M.add.push(ic)):0===Jc?(ic&&M.rem.push(ic),La[Bc]=null,gb[Bc]=null):ic[Tb]!==Jc&&
(ic[Tb]=Jc,M.mod.push(ic));return M.modifies(Z)}});lb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};g.inherits(lb,ra.Transform,{transform(M,Z){const La=Z.fork(Z.NO_SOURCE),gb=M.as||["a","b"],Jb=gb[0],Tb=gb[1];var Bc=!this.value||Z.changed(Z.ADD_REM)||M.modified("as")||M.modified("filter"),ic=this.value;if(Bc){ic&&(La.rem=ic);Z=ic=Z.materialize(Z.SOURCE).source;M=M.filter||g.truthy;Bc=[];ic={};
for(var Jc=Z.length,dd=0,Oc,vd;dd<Jc;++dd)for(ic[Jb]=vd=Z[dd],Oc=0;Oc<Jc;++Oc)ic[Tb]=Z[Oc],M(ic)&&(Bc.push(ra.ingest(ic)),ic={},ic[Jb]=vd);La.add=this.value=Bc}else La.mod=ic;La.source=this.value;return La.modifies(gb)}});const Rd={kde:ib.randomKDE,mixture:ib.randomMixture,normal:ib.randomNormal,lognormal:ib.randomLogNormal,uniform:ib.randomUniform},Td=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},
params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Na.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",
type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Td.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Td},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};g.inherits(Na,ra.Transform,{transform(M,Z){const La=Z.fork(Z.NO_SOURCE|Z.NO_FIELDS);if(!this.value||Z.changed()||
M.modified()){const gb=mb(M.distribution,vb(Z));Z=M.steps||M.minsteps||25;const Jb=M.steps||M.maxsteps||200;let Tb=M.method||"pdf";"pdf"!==Tb&&"cdf"!==Tb&&g.error("Invalid density method: "+Tb);M.extent||gb.data||g.error("Missing density extent parameter.");Tb=gb[Tb];const Bc=M.as||["value","density"];M=M.extent||g.extent(gb.data());M=ib.sampleCurve(Tb,M,Z,Jb).map(ic=>{const Jc={};Jc[Bc[0]]=ic[0];Jc[Bc[1]]=ic[1];return ra.ingest(Jc)});this.value&&(La.rem=this.value);this.value=La.add=La.source=M}return La}});
Vb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};g.inherits(Vb,ra.Transform,{transform(M,Z){if(this.value&&!M.modified()&&!Z.changed())return Z;var La=Z.materialize(Z.SOURCE).source;const gb=Mb(Z.source,M.groupby,g.identity),Jb=M.smooth||!1,Tb=M.field;La=M.step||g.span(g.extent(La,Tb))/30;const Bc=
ra.stableCompare((Jd,Fd)=>Tb(Jd)-Tb(Fd));M=M.as||"bin";const ic=gb.length;let Jc=Infinity,dd=-Infinity,Oc=0,vd;for(;Oc<ic;++Oc){const Jd=gb[Oc].sort(Bc);vd=-1;for(const Fd of ib.dotbin(Jd,La,Jb,Tb))Fd<Jc&&(Jc=Fd),Fd>dd&&(dd=Fd),Jd[++vd][M]=Fd}this.value={start:Jc,stop:dd,step:La};return Z.reflow(!0).modifies(M)}});g.inherits(ob,ra.Operator);Y.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};g.inherits(Y,ra.Transform,{transform(M,Z){var La=this.value;const gb=
M.field;M=Z.changed()||Z.modified(gb.fields)||M.modified("field");let Jb=La[0],Tb=La[1];if(M||null==Jb)Jb=Infinity,Tb=-Infinity;Z.visit(M?Z.SOURCE:Z.ADD,Bc=>{Bc=g.toNumber(gb(Bc));null!=Bc&&(Bc<Jb&&(Jb=Bc),Bc>Tb&&(Tb=Bc))});Number.isFinite(Jb)&&Number.isFinite(Tb)||((La=g.accessorName(gb))&&(La=` for field "${La}"`),Z.dataflow.warn(`Infinite extent${La}: [${Jb}, ${Tb}]`),Jb=Tb=void 0);this.value=[Jb,Tb]}});g.inherits(Ga,ra.Operator,{connect(M){this.detachSubflow=M.detachSubflow;this.targets().add(M);
return M.source=this},add(M){this.count+=1;this.value.add.push(M)},rem(M){--this.count;this.value.rem.push(M)},mod(M){this.value.mod.push(M)},init(M){this.value.init(M,M.NO_SOURCE)},evaluate(){return this.value}});g.inherits(Ea,ra.Transform,{activate(M){this._targets[this._targets.active++]=M},subflow(M,Z,La,gb){const Jb=this.value;let Tb=g.hasOwnProperty(Jb,M)&&Jb[M],Bc;Tb?Tb.value.stamp<La.stamp&&(Tb.init(La),this.activate(Tb)):(Bc=gb||(Bc=this._group[M])&&Bc.tuple,gb=La.dataflow,Tb=new Ga(La.fork(La.NO_SOURCE),
this),gb.add(Tb).connect(Z(gb,M,Bc)),Jb[M]=Tb,this.activate(Tb));return Tb},clean(){var M=this.value;let Z=0;for(const La in M)if(0===M[La].count){const gb=M[La].detachSubflow;gb&&gb();delete M[La];++Z}Z&&(M=this._targets.filter(La=>La&&0<La.count),this.initTargets(M))},initTargets(M){const Z=this._targets,La=Z.length,gb=M?M.length:0;let Jb=0;for(;Jb<gb;++Jb)Z[Jb]=M[Jb];for(;Jb<La&&null!=Z[Jb];++Jb)Z[Jb]=null;Z.active=gb},transform(M,Z){const La=Z.dataflow,gb=M.key,Jb=M.subflow,Tb=this._keys,Bc=M.modified("key"),
ic=Jc=>this.subflow(Jc,Jb,Z);this._group=M.group||{};this.initTargets();Z.visit(Z.REM,Jc=>{const dd=ra.tupleid(Jc),Oc=Tb.get(dd);void 0!==Oc&&(Tb.delete(dd),ic(Oc).rem(Jc))});Z.visit(Z.ADD,Jc=>{const dd=gb(Jc);Tb.set(ra.tupleid(Jc),dd);ic(dd).add(Jc)});Bc||Z.modified(gb.fields)?Z.visit(Z.MOD,Jc=>{const dd=ra.tupleid(Jc),Oc=Tb.get(dd),vd=gb(Jc);Oc===vd?ic(vd).mod(Jc):(Tb.set(dd,vd),ic(Oc).rem(Jc),ic(vd).add(Jc))}):Z.changed(Z.MOD)&&Z.visit(Z.MOD,Jc=>{ic(Tb.get(ra.tupleid(Jc))).mod(Jc)});Bc&&Z.visit(Z.REFLOW,
Jc=>{const dd=ra.tupleid(Jc),Oc=Tb.get(dd),vd=gb(Jc);Oc!==vd&&(Tb.set(dd,vd),ic(Oc).rem(Jc),ic(vd).add(Jc))});Z.clean()?La.runAfter(()=>{this.clean();Tb.clean()}):Tb.empty>La.cleanThreshold&&La.runAfter(Tb.clean);return Z}});g.inherits(db,ra.Operator);na.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};g.inherits(na,ra.Transform,{transform(M,Z){function La(vd){const Jd=ra.tupleid(vd),Fd=dd(vd,M),Zd=Jb.get(Jd);Fd&&Zd?(Jb.delete(Jd),Bc.push(vd)):Fd||Zd?
Oc&&Fd&&!Zd&&Jc.push(vd):(Jb.set(Jd,1),ic.push(vd))}const gb=Z.dataflow,Jb=this.value,Tb=Z.fork(),Bc=Tb.add,ic=Tb.rem,Jc=Tb.mod,dd=M.expr;let Oc=!0;Z.visit(Z.REM,vd=>{const Jd=ra.tupleid(vd);Jb.has(Jd)?Jb.delete(Jd):ic.push(vd)});Z.visit(Z.ADD,vd=>{dd(vd,M)?Bc.push(vd):Jb.set(ra.tupleid(vd),1)});Z.visit(Z.MOD,La);M.modified()&&(Oc=!1,Z.visit(Z.REFLOW,La));Jb.empty>gb.cleanThreshold&&gb.runAfter(Jb.clean);return Tb}});p.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",
array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};g.inherits(p,ra.Transform,{transform(M,Z){const La=Z.fork(Z.NO_SOURCE),gb=M.fields,Jb=pb(gb,M.as||[]),Tb=M.index||null,Bc=Jb.length;La.rem=this.value;Z.visit(Z.SOURCE,ic=>{const Jc=gb.map(Zd=>Zd(ic)),dd=Jc.reduce((Zd,Md)=>Math.max(Zd,Md.length),0);let Oc=0,vd,Jd,Fd;for(;Oc<dd;++Oc){Jd=ra.derive(ic);for(vd=0;vd<Bc;++vd)Jd[Jb[vd]]=null==(Fd=Jc[vd][Oc])?null:Fd;Tb&&(Jd[Tb]=Oc);La.add.push(Jd)}});this.value=La.source=
La.add;Tb&&La.modifies(Tb);return La.modifies(Jb)}});L.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};g.inherits(L,ra.Transform,{transform(M,Z){const La=Z.fork(Z.NO_SOURCE),gb=M.fields,Jb=gb.map(g.accessorName);M=M.as||["key","value"];const Tb=M[0],Bc=M[1],ic=gb.length;La.rem=this.value;Z.visit(Z.SOURCE,Jc=>{for(let dd=0,Oc;dd<ic;++dd)Oc=ra.derive(Jc),Oc[Tb]=Jb[dd],Oc[Bc]=
gb[dd](Jc),La.add.push(Oc)});this.value=La.source=La.add;return La.modifies(M)}});O.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};g.inherits(O,ra.Transform,{transform(M,Z){const La=M.expr,gb=M.as,Jb=M.modified(),Tb=M.initonly?Z.ADD:Jb?Z.SOURCE:Z.modified(La.fields)||Z.modified(gb)?Z.ADD_MOD:Z.ADD;Jb&&(Z=Z.materialize().reflow(!0));M.initonly||Z.modifies(gb);return Z.visit(Tb,
Bc=>Bc[gb]=La(Bc,M))}});g.inherits(f,ra.Transform,{transform(M,Z){Z=Z.fork(Z.ALL);const La=M.generator;let gb=this.value,Jb=M.size-gb.length,Tb,Bc;if(0<Jb){for(Tb=[];0<=--Jb;)Tb.push(Bc=ra.ingest(La(M))),gb.push(Bc);Z.add=Z.add.length?Z.materialize(Z.ADD).add.concat(Tb):Tb}else M=gb.slice(0,-Jb),Z.rem=Z.rem.length?Z.materialize(Z.REM).rem.concat(M):M,gb=gb.slice(-Jb);Z.source=this.value=gb;return Z}});const Cd={value:"value",median:function(M,Z){var La=.5;M=Float64Array.from(z(M,Z));if((Z=M.length)&&
!isNaN(La=+La))if(0>=La||2>Z)M=Aa(M);else if(1<=La)M=V(M);else{La*=Z-1;Z=Math.floor(La);var gb=V(W(M,Z).subarray(0,Z+1));M=Aa(M.subarray(Z+1));M=gb+(M-gb)*(La-Z)}else M=void 0;return M},mean:function(M,Z){let La=0,gb=0;if(void 0===Z)for(var Jb of M)null!=Jb&&(Jb=+Jb)>=Jb&&(++La,gb+=Jb);else{Jb=-1;for(let Tb of M)null!=(Tb=Z(Tb,++Jb,M))&&(Tb=+Tb)>=Tb&&(++La,gb+=Tb)}if(La)return gb/La},min:Aa,max:V},be=[];va.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},
{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};g.inherits(va,ra.Transform,{transform(M,Z){var La=Z.fork(Z.ALL),gb=Ja(M),Jb=Za(M),Tb=g.accessorName(M.field),Bc=g.accessorName(M.key),ic=(M.groupby||[]).map(g.accessorName);M=Wa(Z.source,M.groupby,M.key,M.keyvals);Z=[];var Jc=this.value,dd=M.domain.length,Oc,vd,Jd;var Fd=0;for(vd=
M.length;Fd<vd;++Fd){var Zd=M[Fd];var Md=Zd.values;var se=NaN;for(Oc=0;Oc<dd;++Oc)if(null==Zd[Oc]){var Ae=M.domain[Oc];var hf={_impute:!0};var cf=0;for(Jd=Md.length;cf<Jd;++cf)hf[ic[cf]]=Md[cf];hf[Bc]=Ae;hf[Tb]=Number.isNaN(se)?se=gb(Zd,Jb):se;Z.push(ra.ingest(hf))}}Z.length&&(La.add=La.materialize(La.ADD).add.concat(Z));Jc.length&&(La.rem=La.materialize(La.REM).rem.concat(Jc));this.value=Z;return La}});X.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};g.inherits(X,Bb,{transform(M,Z){const La=this,gb=M.modified();let Jb;La.value&&(gb||Z.modified(La._inputs,!0))?(Jb=La.value=gb?La.init(M):{},Z.visit(Z.SOURCE,Tb=>La.add(Tb))):(Jb=La.value=La.value||this.init(M),Z.visit(Z.REM,Tb=>La.rem(Tb)),Z.visit(Z.ADD,Tb=>La.add(Tb)));La.changes();Z.visit(Z.SOURCE,Tb=>{g.extend(Tb,Jb[La.cellkey(Tb)].tuple)});
return Z.reflow(gb).modifies(this._outputs)},changes(){const M=this._adds,Z=this._mods;let La,gb;La=0;for(gb=this._alen;La<gb;++La)this.celltuple(M[La]),M[La]=null;La=0;for(gb=this._mlen;La<gb;++La)this.celltuple(Z[La]),Z[La]=null;this._alen=this._mlen=0}});Ba.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",
type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};g.inherits(Ba,ra.Transform,{transform(M,Z){const La=Z.fork(Z.NO_SOURCE|Z.NO_FIELDS);if(!this.value||Z.changed()||M.modified()){Z=Z.materialize(Z.SOURCE).source;
const gb=Mb(Z,M.groupby,M.field),Jb=(M.groupby||[]).map(g.accessorName),Tb=M.bandwidth,Bc=M.cumulative?"cdf":"pdf",ic=M.as||["value","density"],Jc=[];let dd=M.extent,Oc=M.steps||M.minsteps||25,vd=M.steps||M.maxsteps||200;"pdf"!==Bc&&"cdf"!==Bc&&g.error("Invalid density method: "+Bc);"shared"===M.resolve&&(dd||(dd=g.extent(Z,M.field)),Oc=vd=M.steps||vd);gb.forEach(Jd=>{const Fd=ib.randomKDE(Jd,Tb)[Bc],Zd=M.counts?Jd.length:1,Md=dd||g.extent(Jd);ib.sampleCurve(Fd,Md,Oc,vd).forEach(se=>{const Ae={};
for(let hf=0;hf<Jb.length;++hf)Ae[Jb[hf]]=Jd.dims[hf];Ae[ic[0]]=se[0];Ae[ic[1]]=se[1]*Zd;Jc.push(ra.ingest(Ae))})});this.value&&(La.rem=this.value);this.value=La.add=La.source=Jc}return La}});g.inherits(ab,ra.Operator);g.inherits(tc,ra.Transform,{transform(M,Z){const La=Z.dataflow;return this._pending?vc(this,Z,this._pending):wc(M)?Z.StopPropagation:M.values?vc(this,Z,La.parse(M.values,M.format)):M.async?{async:La.request(M.url,M.format).then(gb=>{this._pending=g.array(gb.data);return Jb=>Jb.touch(this)})}:
La.request(M.url,M.format).then(gb=>vc(this,Z,g.array(gb.data)))}});Ec.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};g.inherits(Ec,ra.Transform,{transform(M,Z){const La=M.fields,gb=M.index,Jb=M.values,Tb=null==M.default?
null:M.default;var Bc=M.modified();const ic=La.length;let Jc=Bc?Z.SOURCE:Z.ADD,dd=Z,Oc=M.as,vd;Jb?(vd=Jb.length,1<ic&&!Oc&&g.error('Multi-field lookup requires explicit "as" parameter.'),Oc&&Oc.length!==ic*vd&&g.error('The "as" parameter has too few output field names.'),Oc=Oc||Jb.map(g.accessorName),M=function(Jd){for(var Fd=0,Zd=0,Md,se;Fd<ic;++Fd)if(se=gb.get(La[Fd](Jd)),null==se)for(Md=0;Md<vd;++Md,++Zd)Jd[Oc[Zd]]=Tb;else for(Md=0;Md<vd;++Md,++Zd)Jd[Oc[Zd]]=Jb[Md](se)}):(Oc||g.error("Missing output field names."),
M=function(Jd){for(var Fd=0,Zd;Fd<ic;++Fd)Zd=gb.get(La[Fd](Jd)),Jd[Oc[Fd]]=null==Zd?Tb:Zd});Bc?dd=Z.reflow(!0):(Bc=La.some(Jd=>Z.modified(Jd.fields)),Jc|=Bc?Z.MOD:0);Z.visit(Jc,M);return dd.modifies(Oc)}});g.inherits(zc,ra.Operator);g.inherits(Sd,ra.Operator);g.inherits(Wb,ra.Transform,{transform(M,Z){this.modified(M.modified());this.value=M;return Z.fork(Z.NO_SOURCE|Z.NO_FIELDS)}});kb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",
type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ed,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};g.inherits(kb,Bb,{_transform:Bb.prototype.transform,transform(M,Z){return this._transform(bc(M,Z),Z)}});g.inherits(yc,Ea,{transform(M,Z){const La=M.subflow,gb=M.field,Jb=Tb=>this.subflow(ra.tupleid(Tb),La,Z,Tb);(M.modified("field")||gb&&Z.modified(g.accessorFields(gb)))&&g.error("PreFacet does not support field modification.");
this.initTargets();gb?(Z.visit(Z.MOD,Tb=>{const Bc=Jb(Tb);gb(Tb).forEach(ic=>Bc.mod(ic))}),Z.visit(Z.ADD,Tb=>{const Bc=Jb(Tb);gb(Tb).forEach(ic=>Bc.add(ra.ingest(ic)))}),Z.visit(Z.REM,Tb=>{const Bc=Jb(Tb);gb(Tb).forEach(ic=>Bc.rem(ic))})):(Z.visit(Z.MOD,Tb=>Jb(Tb).mod(Tb)),Z.visit(Z.ADD,Tb=>Jb(Tb).add(Tb)),Z.visit(Z.REM,Tb=>Jb(Tb).rem(Tb)));Z.clean()&&Z.runAfter(()=>this.clean());return Z}});Gc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},
{name:"as",type:"string","null":!0,array:!0}]};g.inherits(Gc,ra.Transform,{transform(M,Z){const La=Z.fork(Z.NO_SOURCE),gb=M.fields,Jb=pb(M.fields,M.as||[]),Tb=gb?(ic,Jc)=>{for(let dd=0,Oc=gb.length;dd<Oc;++dd)Jc[Jb[dd]]=gb[dd](ic);return Jc}:ra.rederive;let Bc;this.value?Bc=this.value:(Z=Z.addAll(),Bc=this.value={});Z.visit(Z.REM,ic=>{ic=ra.tupleid(ic);La.rem.push(Bc[ic]);Bc[ic]=null});Z.visit(Z.ADD,ic=>{const Jc=Tb(ic,ra.ingest({}));Bc[ra.tupleid(ic)]=Jc;La.add.push(Jc)});Z.visit(Z.MOD,ic=>{La.mod.push(Tb(ic,
Bc[ra.tupleid(ic)]))});return La}});g.inherits(ad,ra.Transform,{transform(M,Z){this.value=M.value;return M.modified("value")?Z.fork(Z.NO_SOURCE|Z.NO_FIELDS):Z.StopPropagation}});Nd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};g.inherits(Nd,ra.Transform,
{transform(M,Z){const La=Z.fork(Z.NO_SOURCE|Z.NO_FIELDS),gb=M.as||["prob","value"];if(this.value&&!M.modified()&&!Z.changed())return La.source=this.value,La;Z=Z.materialize(Z.SOURCE).source;Z=Mb(Z,M.groupby,M.field);const Jb=(M.groupby||[]).map(g.accessorName),Tb=[],Bc=M.step||.01,ic=M.probs||K(Bc/2,1-1E-14,Bc),Jc=ic.length;Z.forEach(dd=>{const Oc=ib.quantiles(dd,ic);for(let vd=0;vd<Jc;++vd){const Jd={};for(let Fd=0;Fd<Jb.length;++Fd)Jd[Jb[Fd]]=dd.dims[Fd];Jd[gb[0]]=ic[vd];Jd[gb[1]]=Oc[vd];Tb.push(ra.ingest(Jd))}});
this.value&&(La.rem=this.value);this.value=La.add=La.source=Tb;return La}});g.inherits(ud,ra.Transform,{transform(M,Z){let La,gb;this.value?gb=this.value:(La=Z=Z.addAll(),gb=this.value={});M.derive&&(La=Z.fork(Z.NO_SOURCE),Z.visit(Z.REM,Jb=>{Jb=ra.tupleid(Jb);La.rem.push(gb[Jb]);gb[Jb]=null}),Z.visit(Z.ADD,Jb=>{const Tb=ra.derive(Jb);gb[ra.tupleid(Jb)]=Tb;La.add.push(Tb)}),Z.visit(Z.MOD,Jb=>{const Tb=gb[ra.tupleid(Jb)];for(const Bc in Jb)Tb[Bc]=Jb[Bc],La.modifies(Bc);La.mod.push(Tb)}));return La}});
Fa.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};g.inherits(Fa,ra.Transform,{transform(M,Z){function La(Oc){let vd,Jd;ic.length<Tb?ic.push(Oc):(Jd=~~((Jc+1)*ib.random()),Jd<ic.length&&Jd>=dd&&(vd=ic[Jd],Bc[ra.tupleid(vd)]&&gb.rem.push(vd),ic[Jd]=Oc));++Jc}const gb=Z.fork(Z.NO_SOURCE);var Jb=M.modified("size");const Tb=M.size,Bc=this.value.reduce((Oc,vd)=>(Oc[ra.tupleid(vd)]=1,Oc),{});let ic=this.value,Jc=this.count,dd=0;Z.rem.length&&(Z.visit(Z.REM,Oc=>
{const vd=ra.tupleid(Oc);Bc[vd]&&(Bc[vd]=-1,gb.rem.push(Oc));--Jc}),ic=ic.filter(Oc=>-1!==Bc[ra.tupleid(Oc)]));(Z.rem.length||Jb)&&ic.length<Tb&&Z.source&&(dd=Jc=ic.length,Z.visit(Z.SOURCE,Oc=>{Bc[ra.tupleid(Oc)]||La(Oc)}),dd=-1);if(Jb&&ic.length>Tb){M=ic.length-Tb;for(Jb=0;Jb<M;++Jb)Bc[ra.tupleid(ic[Jb])]=-1,gb.rem.push(ic[Jb]);ic=ic.slice(M)}Z.mod.length&&Z.visit(Z.MOD,Oc=>{Bc[ra.tupleid(Oc)]&&gb.mod.push(Oc)});Z.add.length&&Z.visit(Z.ADD,La);if(Z.add.length||0>dd)gb.add=ic.filter(Oc=>!Bc[ra.tupleid(Oc)]);
this.count=Jc;this.value=gb.source=ic;return gb}});hb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};g.inherits(hb,ra.Transform,{transform(M,Z){if(!this.value||M.modified()){var La=Z.materialize().fork(Z.MOD),gb=M.as||"data";La.rem=this.value?Z.rem.concat(this.value):Z.rem;this.value=K(M.start,M.stop,M.step||1).map(Jb=>
{const Tb={};Tb[gb]=Jb;return ra.ingest(Tb)});La.add=Z.add.concat(this.value);return La}}});g.inherits(ub,ra.Transform,{transform(M,Z){this.value=Z.source;return Z.changed()?Z.fork(Z.NO_SOURCE|Z.NO_FIELDS):Z.StopPropagation}});const ce=["unit0","unit1"];la.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Fb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",
type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":ce}]};g.inherits(la,ra.Transform,{transform(M,Z){const La=M.field,gb=!1!==M.interval;var Jb="utc"===M.timezone;const Tb=this._floor(M,Z),Bc=(Jb?Fb.utcInterval:Fb.timeInterval)(Tb.unit).offset;Jb=M.as||ce;const ic=Jb[0],Jc=Jb[1],dd=Tb.step;let Oc=Tb.start||Infinity,vd=Tb.stop||-Infinity,Jd=Z.ADD;if(M.modified()||
Z.changed(Z.REM)||Z.modified(g.accessorFields(La)))Z=Z.reflow(!0),Jd=Z.SOURCE,Oc=Infinity,vd=-Infinity;Z.visit(Jd,Fd=>{var Zd=La(Fd);let Md;null==Zd?(Fd[ic]=null,gb&&(Fd[Jc]=null)):(Fd[ic]=Zd=Md=Tb(Zd),gb&&(Fd[Jc]=Md=Bc(Zd,dd)),Zd<Oc&&(Oc=Zd),Md>vd&&(vd=Md))});Tb.start=Oc;Tb.stop=vd;return Z.modifies(gb?Jb:ic)},_floor(M,Z){var La="utc"===M.timezone;const {units:gb,step:Jb}=M.units?{units:M.units,step:M.step||1}:Fb.timeBin({extent:M.extent||g.extent(Z.materialize(Z.SOURCE).source,M.field),maxbins:M.maxbins});
M=Fb.timeUnits(gb);Z=this.value||{};La=(La?Fb.utcFloor:Fb.timeFloor)(M,Jb);La.unit=g.peek(M);La.units=M;La.step=Jb;La.start=Z.start;La.stop=Z.stop;return this.value=La}});g.inherits(H,ra.Transform,{transform(M,Z){const La=Z.dataflow,gb=M.field,Jb=this.value,Tb=ic=>Jb.set(gb(ic),ic);let Bc=!0;M.modified("field")||Z.modified(gb.fields)?(Jb.clear(),Z.visit(Z.SOURCE,Tb)):Z.changed()?(Z.visit(Z.REM,ic=>Jb.delete(gb(ic))),Z.visit(Z.ADD,Tb)):Bc=!1;this.modified(Bc);Jb.empty>La.cleanThreshold&&La.runAfter(Jb.clean);
return Z.fork()}});g.inherits(ya,ra.Transform,{transform(M,Z){if(!this.value||M.modified("field")||M.modified("sort")||Z.changed()||M.sort&&Z.modified(M.sort.fields))this.value=(M.sort?Z.source.slice().sort(ra.stableCompare(M.sort)):Z.source).map(M.field)}});const Vd={row_number:function(){return{next:M=>M.index+1}},rank:function(){let M;return{init:()=>M=1,next:Z=>{const La=Z.index,gb=Z.data;return La&&Z.compare(gb[La-1],gb[La])?M=La+1:M}}},dense_rank:function(){let M;return{init:()=>M=1,next:Z=>
{const La=Z.index,gb=Z.data;return La&&Z.compare(gb[La-1],gb[La])?++M:M}}},percent_rank:function(){const M=Vd.rank(),Z=M.next;return{init:M.init,next:La=>(Z(La)-1)/(La.data.length-1)}},cume_dist:function(){let M;return{init:()=>M=0,next:Z=>{const La=Z.data,gb=Z.compare;Z=Z.index;if(M<Z){for(;Z+1<La.length&&!gb(La[Z],La[Z+1]);)++Z;M=Z}return(1+M)/La.length}}},ntile:function(M,Z){Z=+Z;0<Z||g.error("ntile num must be greater than zero.");M=Vd.cume_dist();const La=M.next;return{init:M.init,next:gb=>Math.ceil(Z*
La(gb))}},lag:function(M,Z){Z=+Z||1;return{next:La=>{const gb=La.index-Z;return 0<=gb?M(La.data[gb]):null}}},lead:function(M,Z){Z=+Z||1;return{next:La=>{const gb=La.index+Z;La=La.data;return gb<La.length?M(La[gb]):null}}},first_value:function(M){return{next:Z=>M(Z.data[Z.i0])}},last_value:function(M){return{next:Z=>M(Z.data[Z.i1-1])}},nth_value:function(M,Z){Z=+Z;0<Z||g.error("nth_value nth must be greater than zero.");return{next:La=>{const gb=La.i0+(Z-1);return gb<La.i1?M(La.data[gb]):null}}},prev_value:function(M){let Z;
return{init:()=>Z=null,next:La=>{La=M(La.data[La.index]);return null!=La?Z=La:Z}}},next_value:function(M){let Z,La;return{init:()=>(Z=null,La=-1),next:gb=>{var Jb=gb.data;if(gb.index<=La)Jb=Z;else{a:{gb=gb.index;for(let Tb=Jb.length;gb<Tb;++gb)if(null!=M(Jb[gb]))break a;gb=-1}Jb=0>(La=gb)?(La=Jb.length,Z=null):Z=M(Jb[La])}return Jb}}}},Te=Object.keys(Vd),$d=bb.prototype;$d.init=function(){this.windows.forEach(M=>M.init());this.cell&&this.cell.init()};$d.update=function(M,Z){const La=this.cell,gb=
this.windows,Jb=M.data,Tb=gb&&gb.length;let Bc;if(La){for(Bc=M.p0;Bc<M.i0;++Bc)La.rem(Jb[Bc]);for(Bc=M.p1;Bc<M.i1;++Bc)La.add(Jb[Bc]);La.set(Z)}for(Bc=0;Bc<Tb;++Bc)gb[Bc].update(M,Z)};Eb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Te.concat(ed)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};g.inherits(Eb,ra.Transform,{transform(M,Z){this.stamp=Z.stamp;const La=M.modified(),gb=ra.stableCompare(M.sort),Jb=oc(M.groupby),Tb=ic=>this.group(Jb(ic));let Bc=this.state;if(!Bc||La)Bc=this.state=new bb(M);La||Z.modified(Bc.inputs)?(this.value={},Z.visit(Z.SOURCE,ic=>Tb(ic).add(ic))):(Z.visit(Z.REM,ic=>Tb(ic).remove(ic)),Z.visit(Z.ADD,ic=>Tb(ic).add(ic)));for(let ic=0,Jc=
this._mlen;ic<Jc;++ic)mc(this._mods[ic],Bc,gb,M);this._mlen=0;this._mods=[];return Z.reflow(La).modifies(Bc.outputs)},group(M){let Z=this.value[M];Z||(Z=this.value[M]=Xa(ra.tupleid),Z.stamp=-1);Z.stamp<this.stamp&&(Z.stamp=this.stamp,this._mods[this._mlen++]=Z);return Z}});r.aggregate=Bb;r.bin=Ob;r.collect=qb;r.compare=Oa;r.countpattern=Qa;r.cross=lb;r.density=Na;r.dotbin=Vb;r.expression=ob;r.extent=Y;r.facet=Ea;r.field=db;r.filter=na;r.flatten=p;r.fold=L;r.formula=O;r.generate=f;r.impute=va;r.joinaggregate=
X;r.kde=Ba;r.key=ab;r.load=tc;r.lookup=Ec;r.multiextent=zc;r.multivalues=Sd;r.params=Wb;r.pivot=kb;r.prefacet=yc;r.project=Gc;r.proxy=ad;r.quantile=Nd;r.relay=ud;r.sample=Fa;r.sequence=hb;r.sieve=ub;r.subflow=Ga;r.timeunit=la;r.tupleindex=H;r.values=ya;r.window=Eb})};
shadow$provide[32]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function g(ra,ib){if("undefined"!==typeof document&&document.createElement){const Fb=document.createElement("canvas");if(Fb&&Fb.getContext)return Fb.width=ra,Fb.height=ib,Fb}return null}r.canvas=g;r.domCanvas=g;r.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(w,S,aa){S=w-S+2*aa;return w?0<S?S:1:0}function Fb(w){return function(S){let aa=S[0];S=S[1];let Da;S<aa&&(Da=aa,aa=S,S=Da);return[w.invert(aa),w.invert(S)]}}function Zb(w){return function(S){const aa=
w.range();let Da=S[0];S=S[1];let sb=-1,wb;let Kb;if(S<Da){var Lb=Da;Da=S;S=Lb}Lb=0;for(Kb=aa.length;Lb<Kb;++Lb)aa[Lb]>=Da&&aa[Lb]<=S&&(0>sb&&(sb=Lb),wb=Lb);if(!(0>sb))return Da=w.invertExtent(aa[sb]),S=w.invertExtent(aa[wb]),[void 0===Da[0]?Da[1]:Da[0],void 0===S[1]?S[0]:S[1]]}}function oc(w,S){return null==w||null==S?NaN:w<S?-1:w>S?1:w>=S?0:NaN}function kc(w,S){return null==w||null==S?NaN:S<w?-1:S>w?1:S>=w?0:NaN}function Ac(w){function S(wb,Kb,Lb=0,Mc=wb.length){if(Lb<Mc){if(0!==aa(Kb,Kb))return Mc;
do{const Ed=Lb+Mc>>>1;0>Da(wb[Ed],Kb)?Lb=Ed+1:Mc=Ed}while(Lb<Mc)}return Lb}let aa,Da,sb;2!==w.length?(aa=oc,Da=(wb,Kb)=>oc(w(wb),Kb),sb=(wb,Kb)=>w(wb)-Kb):(aa=w===oc||w===kc?w:Ab,sb=Da=w);return{left:S,center:function(wb,Kb,Lb=0,Mc=wb.length){Mc=S(wb,Kb,Lb,Mc-1);return Mc>Lb&&sb(wb[Mc-1],Kb)>-sb(wb[Mc],Kb)?Mc-1:Mc},right:function(wb,Kb,Lb=0,Mc=wb.length){if(Lb<Mc){if(0!==aa(Kb,Kb))return Mc;do{const Ed=Lb+Mc>>>1;0>=Da(wb[Ed],Kb)?Lb=Ed+1:Mc=Ed}while(Lb<Mc)}return Lb}}}function Ab(){return 0}function ec(w){return null===
w?NaN:+w}function pc({_intern:w,_key:S},aa){S=S(aa);return w.has(S)?w.get(S):aa}function Ya({_intern:w,_key:S},aa){S=S(aa);if(w.has(S))return w.get(S);w.set(S,aa);return aa}function rb({_intern:w,_key:S},aa){S=S(aa);w.has(S)&&(aa=w.get(S),w.delete(S));return aa}function Ib(w){return null!==w&&"object"===typeof w?w.valueOf():w}function Nb(w,S,aa){var Da=(S-w)/Math.max(0,aa),sb=Math.floor(Math.log10(Da));Da/=Math.pow(10,sb);Da=Da>=ag?10:Da>=Vh?5:Da>=Bh?2:1;let wb;0>sb?(wb=Math.pow(10,-sb)/Da,sb=Math.round(w*
wb),Da=Math.round(S*wb),sb/wb<w&&++sb,Da/wb>S&&--Da,wb=-wb):(wb=Math.pow(10,sb)*Da,sb=Math.round(w/wb),Da=Math.round(S/wb),sb*wb<w&&++sb,Da*wb>S&&--Da);return Da<sb&&.5<=aa&&2>aa?Nb(w,S,2*aa):[sb,Da,wb]}function Bb(w,S,aa){S=+S;w=+w;aa=+aa;if(!(0<aa))return[];if(w===S)return[w];var Da=S<w;const [sb,wb,Kb]=Da?Nb(S,w,aa):Nb(w,S,aa);if(!(wb>=sb))return[];w=wb-sb+1;S=Array(w);if(Da)if(0>Kb)for(Da=0;Da<w;++Da)S[Da]=(wb-Da)/-Kb;else for(Da=0;Da<w;++Da)S[Da]=(wb-Da)*Kb;else if(0>Kb)for(Da=0;Da<w;++Da)S[Da]=
(sb+Da)/-Kb;else for(Da=0;Da<w;++Da)S[Da]=(sb+Da)*Kb;return S}function Ob(w,S,aa){return Nb(+w,+S,+aa)[2]}function Xa(w,S,aa){S=+S;w=+w;aa=+aa;const Da=S<w;w=Da?Ob(S,w,aa):Ob(w,S,aa);return(Da?-1:1)*(0>w?1/-w:w)}function qb(w,S,aa=ec){if((Da=w.length)&&!isNaN(S=+S)){if(0>=S||2>Da)return+aa(w[0],0,w);if(1<=S)return+aa(w[Da-1],Da-1,w);var Da;S*=Da-1;Da=Math.floor(S);var sb=+aa(w[Da],Da,w);w=+aa(w[Da+1],Da+1,w);return sb+(w-sb)*(S-Da)}}function Oa(w,S,aa){w=+w;S=+S;aa=2>(sb=arguments.length)?(S=w,w=
0,1):3>sb?1:+aa;for(var Da=-1,sb=Math.max(0,Math.ceil((S-w)/aa))|0,wb=Array(sb);++Da<sb;)wb[Da]=w+Da*aa;return wb}function Ca(w,S){switch(arguments.length){case 0:break;case 1:this.range(w);break;default:this.range(S).domain(w)}return this}function Qa(w,S){switch(arguments.length){case 0:break;case 1:"function"===typeof w?this.interpolator(w):this.range(w);break;default:this.domain(w),"function"===typeof S?this.interpolator(S):this.range(S)}return this}function lb(){function w(wb){let Kb=S.get(wb);
if(void 0===Kb){if(sb!==Ch)return sb;S.set(wb,Kb=aa.push(wb)-1)}return Da[Kb%Da.length]}var S=new vh,aa=[],Da=[],sb=Ch;w.domain=function(wb){if(!arguments.length)return aa.slice();aa=[];S=new vh;for(const Kb of wb)S.has(Kb)||S.set(Kb,aa.push(Kb)-1);return w};w.range=function(wb){return arguments.length?(Da=Array.from(wb),w):Da.slice()};w.unknown=function(wb){return arguments.length?(sb=wb,w):sb};w.copy=function(){return lb(aa,Da).unknown(sb)};Ca.apply(w,arguments);return w}function mb(w,S,aa){w.prototype=
S.prototype=aa;aa.constructor=w}function Na(w,S){w=Object.create(w.prototype);for(var aa in S)w[aa]=S[aa];return w}function vb(){}function pb(){return this.rgb().formatHex()}function Mb(){return this.rgb().formatRgb()}function Vb(w){var S,aa;w=(w+"").trim().toLowerCase();return(S=Dh.exec(w))?(aa=S[1].length,S=parseInt(S[1],16),6===aa?ob(S):3===aa?new Ea(S>>8&15|S>>4&240,S>>4&15|S&240,(S&15)<<4|S&15,1):8===aa?ma(S>>24&255,S>>16&255,S>>8&255,(S&255)/255):4===aa?ma(S>>12&15|S>>8&240,S>>8&15|S>>4&240,
S>>4&15|S&240,((S&15)<<4|S&15)/255):null):(S=Eh.exec(w))?new Ea(S[1],S[2],S[3],1):(S=bi.exec(w))?new Ea(255*S[1]/100,255*S[2]/100,255*S[3]/100,1):(S=Wg.exec(w))?ma(S[1],S[2],S[3],S[4]):(S=jh.exec(w))?ma(255*S[1]/100,255*S[2]/100,255*S[3]/100,S[4]):(S=si.exec(w))?O(S[1],S[2]/100,S[3]/100,1):(S=Ag.exec(w))?O(S[1],S[2]/100,S[3]/100,S[4]):Fh.hasOwnProperty(w)?ob(Fh[w]):"transparent"===w?new Ea(NaN,NaN,NaN,0):null}function ob(w){return new Ea(w>>16&255,w>>8&255,w&255,1)}function ma(w,S,aa,Da){0>=Da&&(w=
S=aa=NaN);return new Ea(w,S,aa,Da)}function Y(w){w instanceof vb||(w=Vb(w));if(!w)return new Ea;w=w.rgb();return new Ea(w.r,w.g,w.b,w.opacity)}function Ga(w,S,aa,Da){return 1===arguments.length?Y(w):new Ea(w,S,aa,null==Da?1:Da)}function Ea(w,S,aa,Da){this.r=+w;this.g=+S;this.b=+aa;this.opacity=+Da}function db(){return`#${L(this.r)}${L(this.g)}${L(this.b)}`}function ba(){const w=na(this.opacity);return`${1===w?"rgb(":"rgba("}${p(this.r)}, ${p(this.g)}, ${p(this.b)}${1===w?")":`, ${w})`}`}function na(w){return isNaN(w)?
1:Math.max(0,Math.min(1,w))}function p(w){return Math.max(0,Math.min(255,Math.round(w)||0))}function L(w){w=p(w);return(16>w?"0":"")+w.toString(16)}function O(w,S,aa,Da){0>=Da?w=S=aa=NaN:0>=aa||1<=aa?w=S=NaN:0>=S&&(w=NaN);return new m(w,S,aa,Da)}function f(w){if(w instanceof m)return new m(w.h,w.s,w.l,w.opacity);w instanceof vb||(w=Vb(w));if(!w)return new m;if(w instanceof m)return w;w=w.rgb();var S=w.r/255,aa=w.g/255,Da=w.b/255,sb=Math.min(S,aa,Da),wb=Math.max(S,aa,Da),Kb=NaN,Lb=wb-sb,Mc=(wb+sb)/
2;Lb?(Kb=S===wb?(aa-Da)/Lb+6*(aa<Da):aa===wb?(Da-S)/Lb+2:(S-aa)/Lb+4,Lb/=.5>Mc?wb+sb:2-wb-sb,Kb*=60):Lb=0<Mc&&1>Mc?0:Kb;return new m(Kb,Lb,Mc,w.opacity)}function v(w,S,aa,Da){return 1===arguments.length?f(w):new m(w,S,aa,null==Da?1:Da)}function m(w,S,aa,Da){this.h=+w;this.s=+S;this.l=+aa;this.opacity=+Da}function C(w){w=(w||0)%360;return 0>w?w+360:w}function B(w){return Math.max(0,Math.min(1,w||0))}function z(w,S,aa){return 255*(60>w?S+(aa-S)*w/60:180>w?aa:240>w?S+(aa-S)*(240-w)/60:S)}function E(w){if(w instanceof
V)return new V(w.l,w.a,w.b,w.opacity);if(w instanceof Za)return Wa(w);w instanceof Ea||(w=Y(w));var S=K(w.r),aa=K(w.g),Da=K(w.b),sb=Aa(.2225045*S+.7168786*aa+.0606169*Da);if(S===aa&&aa===Da)var wb=S=sb;else wb=Aa((.4360747*S+.3850649*aa+.1430804*Da)/.96422),S=Aa((.0139322*S+.0971045*aa+.7141733*Da)/.82521);return new V(116*sb-16,500*(wb-sb),200*(sb-S),w.opacity)}function D(w,S,aa,Da){return 1===arguments.length?E(w):new V(w,S,aa,null==Da?1:Da)}function V(w,S,aa,Da){this.l=+w;this.a=+S;this.b=+aa;
this.opacity=+Da}function Aa(w){return w>yg?Math.pow(w,1/3):w/Gh+ch}function W(w){return w>nh?w*w*w:Gh*(w-ch)}function u(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function K(w){return.04045>=(w/=255)?w/12.92:Math.pow((w+.055)/1.055,2.4)}function va(w){if(w instanceof Za)return new Za(w.h,w.c,w.l,w.opacity);w instanceof V||(w=E(w));if(0===w.a&&0===w.b)return new Za(NaN,0<w.l&&100>w.l?0:NaN,w.l,w.opacity);var S=Math.atan2(w.b,w.a)*Mg;return new Za(0>S?S+360:S,Math.sqrt(w.a*w.a+
w.b*w.b),w.l,w.opacity)}function Ja(w,S,aa,Da){return 1===arguments.length?va(w):new Za(w,S,aa,null==Da?1:Da)}function Za(w,S,aa,Da){this.h=+w;this.c=+S;this.l=+aa;this.opacity=+Da}function Wa(w){if(isNaN(w.h))return new V(w.l,0,0,w.opacity);var S=w.h*Wh;return new V(w.l,Math.cos(S)*w.c,Math.sin(S)*w.c,w.opacity)}function X(w,S,aa,Da){if(1===arguments.length){var sb=w;if(sb instanceof Ba)sb=new Ba(sb.h,sb.s,sb.l,sb.opacity);else{sb instanceof Ea||(sb=Y(sb));var wb=sb.g/255,Kb=sb.b/255,Lb=(Oh*Kb+sb.r/
255*-1.7884503806-3.5172982438*wb)/(Oh+-1.7884503806-3.5172982438);Kb-=Lb;var Mc=(1.97294*(wb-Lb)- -.29227*Kb)/-.90649;Kb=(wb=Math.sqrt(Mc*Mc+Kb*Kb)/(1.97294*Lb*(1-Lb)))?Math.atan2(Mc,Kb)*Mg-120:NaN;sb=new Ba(0>Kb?Kb+360:Kb,wb,Lb,sb.opacity)}}else sb=new Ba(w,S,aa,null==Da?1:Da);return sb}function Ba(w,S,aa,Da){this.h=+w;this.s=+S;this.l=+aa;this.opacity=+Da}function ab(w,S,aa,Da,sb){var wb=w*w,Kb=wb*w;return((1-3*w+3*wb-Kb)*S+(4-6*wb+3*Kb)*aa+(1+3*w+3*wb-3*Kb)*Da+Kb*sb)/6}function Gb(w){var S=w.length-
1;return function(aa){var Da=0>=aa?aa=0:1<=aa?(aa=1,S-1):Math.floor(aa*S),sb=w[Da],wb=w[Da+1];return ab((aa-Da/S)*S,0<Da?w[Da-1]:2*sb-wb,sb,wb,Da<S-1?w[Da+2]:2*wb-sb)}}function tc(w){var S=w.length;return function(aa){var Da=Math.floor((0>(aa%=1)?++aa:aa)*S);return ab((aa-Da/S)*S,w[(Da+S-1)%S],w[Da%S],w[(Da+1)%S],w[(Da+2)%S])}}function wc(w,S){return function(aa){return w+aa*S}}function vc(w,S,aa){return w=Math.pow(w,aa),S=Math.pow(S,aa)-w,aa=1/aa,function(Da){return Math.pow(w+Da*S,aa)}}function Ec(w,
S){var aa=S-w;return aa?wc(w,180<aa||-180>aa?aa-360*Math.round(aa/360):aa):wh(isNaN(w)?S:w)}function zc(w){return 1===(w=+w)?Rc:function(S,aa){return aa-S?vc(S,aa,w):wh(isNaN(S)?aa:S)}}function Rc(w,S){var aa=S-w;return aa?wc(w,aa):wh(isNaN(w)?S:w)}function Sd(w){return function(S){var aa=S.length,Da=Array(aa),sb=Array(aa),wb=Array(aa),Kb;for(Kb=0;Kb<aa;++Kb){var Lb=Ga(S[Kb]);Da[Kb]=Lb.r||0;sb[Kb]=Lb.g||0;wb[Kb]=Lb.b||0}Da=w(Da);sb=w(sb);wb=w(wb);Lb.opacity=1;return function(Mc){Lb.r=Da(Mc);Lb.g=
sb(Mc);Lb.b=wb(Mc);return Lb+""}}}function Ia(w,S){S||(S=[]);var aa=w?Math.min(S.length,w.length):0,Da=S.slice(),sb;return function(wb){for(sb=0;sb<aa;++sb)Da[sb]=w[sb]*(1-wb)+S[sb]*wb;return Da}}function Wb(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function kb(w,S){var aa=S?S.length:0,Da=w?Math.min(aa,w.length):0,sb=Array(Da),wb=Array(aa),Kb;for(Kb=0;Kb<Da;++Kb)sb[Kb]=Nd(w[Kb],S[Kb]);for(;Kb<aa;++Kb)wb[Kb]=S[Kb];return function(Lb){for(Kb=0;Kb<Da;++Kb)wb[Kb]=sb[Kb](Lb);return wb}}
function bc(w,S){var aa=new Date;return w=+w,S=+S,function(Da){return aa.setTime(w*(1-Da)+S*Da),aa}}function Yb(w,S){return w=+w,S=+S,function(aa){return w*(1-aa)+S*aa}}function hc(w,S){var aa={},Da={},sb;if(null===w||"object"!==typeof w)w={};if(null===S||"object"!==typeof S)S={};for(sb in S)sb in w?aa[sb]=Nd(w[sb],S[sb]):Da[sb]=S[sb];return function(wb){for(sb in aa)Da[sb]=aa[sb](wb);return Da}}function yc(w){return function(){return w}}function Gc(w){return function(S){return w(S)+""}}function ad(w,
S){var aa=kh.lastIndex=Hh.lastIndex=0,Da,sb,wb,Kb=-1,Lb=[],Mc=[];w+="";for(S+="";(Da=kh.exec(w))&&(sb=Hh.exec(S));)(wb=sb.index)>aa&&(wb=S.slice(aa,wb),Lb[Kb]?Lb[Kb]+=wb:Lb[++Kb]=wb),(Da=Da[0])===(sb=sb[0])?Lb[Kb]?Lb[Kb]+=sb:Lb[++Kb]=sb:(Lb[++Kb]=null,Mc.push({i:Kb,x:Yb(Da,sb)})),aa=Hh.lastIndex;aa<S.length&&(wb=S.slice(aa),Lb[Kb]?Lb[Kb]+=wb:Lb[++Kb]=wb);return 2>Lb.length?Mc[0]?Gc(Mc[0].x):yc(S):(S=Mc.length,function(Ed){for(var gd=0,nc;gd<S;++gd)Lb[(nc=Mc[gd]).i]=nc.x(Ed);return Lb.join("")})}function Nd(w,
S){var aa=typeof S,Da;return null==S||"boolean"===aa?wh(S):("number"===aa?Yb:"string"===aa?(Da=Vb(S))?(S=Da,ph):ad:S instanceof Vb?ph:S instanceof Date?bc:Wb(S)?Ia:Array.isArray(S)?kb:"function"!==typeof S.valueOf&&"function"!==typeof S.toString||isNaN(S)?hc:Yb)(w,S)}function ud(w,S){return w=+w,S=+S,function(aa){return Math.round(w*(1-aa)+S*aa)}}function Fa(w,S,aa,Da,sb,wb){var Kb,Lb,Mc;if(Kb=Math.sqrt(w*w+S*S))w/=Kb,S/=Kb;if(Mc=w*aa+S*Da)aa-=w*Mc,Da-=S*Mc;if(Lb=Math.sqrt(aa*aa+Da*Da))aa/=Lb,Da/=
Lb,Mc/=Lb;w*Da<S*aa&&(w=-w,S=-S,Mc=-Mc,Kb=-Kb);return{translateX:sb,translateY:wb,rotate:Math.atan2(S,w)*If,skewX:Math.atan(Mc)*If,scaleX:Kb,scaleY:Lb}}function hb(w,S,aa,Da){function sb(Ed){return Ed.length?Ed.pop()+" ":""}function wb(Ed,gd,nc,rd,xd,we){Ed!==nc||gd!==rd?(xd=xd.push("translate(",null,S,null,aa),we.push({i:xd-4,x:Yb(Ed,nc)},{i:xd-2,x:Yb(gd,rd)})):(nc||rd)&&xd.push("translate("+nc+S+rd+aa)}function Kb(Ed,gd,nc,rd){Ed!==gd?(180<Ed-gd?gd+=360:180<gd-Ed&&(Ed+=360),rd.push({i:nc.push(sb(nc)+
"rotate(",null,Da)-2,x:Yb(Ed,gd)})):gd&&nc.push(sb(nc)+"rotate("+gd+Da)}function Lb(Ed,gd,nc,rd){Ed!==gd?rd.push({i:nc.push(sb(nc)+"skewX(",null,Da)-2,x:Yb(Ed,gd)}):gd&&nc.push(sb(nc)+"skewX("+gd+Da)}function Mc(Ed,gd,nc,rd,xd,we){Ed!==nc||gd!==rd?(xd=xd.push(sb(xd)+"scale(",null,",",null,")"),we.push({i:xd-4,x:Yb(Ed,nc)},{i:xd-2,x:Yb(gd,rd)})):1===nc&&1===rd||xd.push(sb(xd)+"scale("+nc+","+rd+")")}return function(Ed,gd){var nc=[],rd=[];Ed=w(Ed);gd=w(gd);wb(Ed.translateX,Ed.translateY,gd.translateX,
gd.translateY,nc,rd);Kb(Ed.rotate,gd.rotate,nc,rd);Lb(Ed.skewX,gd.skewX,nc,rd);Mc(Ed.scaleX,Ed.scaleY,gd.scaleX,gd.scaleY,nc,rd);Ed=gd=null;return function(xd){for(var we=-1,ne=rd.length,Xe;++we<ne;)nc[(Xe=rd[we]).i]=Xe.x(xd);return nc.join("")}}}function ub(w){return((w=Math.exp(w))+1/w)/2}function la(w){return function(S,aa){var Da=w((S=v(S)).h,(aa=v(aa)).h),sb=Rc(S.s,aa.s),wb=Rc(S.l,aa.l),Kb=Rc(S.opacity,aa.opacity);return function(Lb){S.h=Da(Lb);S.s=sb(Lb);S.l=wb(Lb);S.opacity=Kb(Lb);return S+
""}}}function H(w){return function(S,aa){var Da=w((S=Ja(S)).h,(aa=Ja(aa)).h),sb=Rc(S.c,aa.c),wb=Rc(S.l,aa.l),Kb=Rc(S.opacity,aa.opacity);return function(Lb){S.h=Da(Lb);S.c=sb(Lb);S.l=wb(Lb);S.opacity=Kb(Lb);return S+""}}}function ya(w){return function Da(aa){function sb(wb,Kb){var Lb=w((wb=X(wb)).h,(Kb=X(Kb)).h),Mc=Rc(wb.s,Kb.s),Ed=Rc(wb.l,Kb.l),gd=Rc(wb.opacity,Kb.opacity);return function(nc){wb.h=Lb(nc);wb.s=Mc(nc);wb.l=Ed(Math.pow(nc,aa));wb.opacity=gd(nc);return wb+""}}aa=+aa;sb.gamma=Da;return sb}(1)}
function Ka(w,S){void 0===S&&(S=w,w=Nd);for(var aa=0,Da=S.length-1,sb=S[0],wb=Array(0>Da?0:Da);aa<Da;)wb[aa]=w(sb,sb=S[++aa]);return function(Kb){var Lb=Math.max(0,Math.min(Da-1,Math.floor(Kb*=Da)));return wb[Lb](Kb-Lb)}}function bb(w){return function(){return w}}function jb(w){return+w}function Eb(w){return w}function mc(w,S){return(S-=w=+w)?function(aa){return(aa-w)/S}:bb(isNaN(S)?NaN:.5)}function cc(w,S){if(w>S){var aa=w;w=S;S=aa}return function(Da){return Math.max(w,Math.min(S,Da))}}function gc(w,
S,aa){var Da=w[0];w=w[1];var sb=S[0];S=S[1];w<Da?(Da=mc(w,Da),sb=aa(S,sb)):(Da=mc(Da,w),sb=aa(sb,S));return function(wb){return sb(Da(wb))}}function Sc(w,S,aa){var Da=Math.min(w.length,S.length)-1,sb=Array(Da),wb=Array(Da),Kb=-1;w[Da]<w[0]&&(w=w.slice().reverse(),S=S.slice().reverse());for(;++Kb<Da;)sb[Kb]=mc(w[Kb],w[Kb+1]),wb[Kb]=aa(S[Kb],S[Kb+1]);return function(Lb){var Mc=dh(w,Lb,1,Da)-1;return wb[Mc](sb[Mc](Lb))}}function ed(w,S){return S.domain(w.domain()).range(w.range()).interpolate(w.interpolate()).clamp(w.clamp()).unknown(w.unknown())}
function fd(){function w(){var rd=Math.min(aa.length,Da.length);Mc!==Eb&&(Mc=cc(aa[0],aa[rd-1]));Ed=2<rd?Sc:gc;gd=nc=null;return S}function S(rd){return null==rd||isNaN(rd=+rd)?Lb:(gd||(gd=Ed(aa.map(wb),Da,sb)))(wb(Mc(rd)))}var aa=xa,Da=xa,sb=Nd,wb,Kb,Lb,Mc=Eb,Ed,gd,nc;S.invert=function(rd){return Mc(Kb((nc||(nc=Ed(Da,aa.map(wb),Yb)))(rd)))};S.domain=function(rd){return arguments.length?(aa=Array.from(rd,jb),w()):aa.slice()};S.range=function(rd){return arguments.length?(Da=Array.from(rd),w()):Da.slice()};
S.rangeRound=function(rd){return Da=Array.from(rd),sb=ud,w()};S.clamp=function(rd){return arguments.length?(Mc=rd?!0:Eb,w()):Mc!==Eb};S.interpolate=function(rd){return arguments.length?(sb=rd,w()):sb};S.unknown=function(rd){return arguments.length?(Lb=rd,S):Lb};return function(rd,xd){wb=rd;Kb=xd;return w()}}function Rd(w,S){if(0>(S=(w=S?w.toExponential(S-1):w.toExponential()).indexOf("e")))return null;var aa=w.slice(0,S);return[1<aa.length?aa[0]+aa.slice(2):aa,+w.slice(S+1)]}function Td(w){return w=
Rd(Math.abs(w)),w?w[1]:NaN}function Cd(w,S){return function(aa,Da){for(var sb=aa.length,wb=[],Kb=0,Lb=w[0],Mc=0;0<sb&&0<Lb;){Mc+Lb+1>Da&&(Lb=Math.max(1,Da-Mc));wb.push(aa.substring(sb-=Lb,sb+Lb));if((Mc+=Lb+1)>Da)break;Lb=w[Kb=(Kb+1)%w.length]}return wb.reverse().join(S)}}function be(w){return function(S){return S.replace(/[0-9]/g,function(aa){return w[+aa]})}}function ce(w){if(!(S=t.exec(w)))throw Error("invalid format: "+w);var S;return new Vd({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],
width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}function Vd(w){this.fill=void 0===w.fill?" ":w.fill+"";this.align=void 0===w.align?"\x3e":w.align+"";this.sign=void 0===w.sign?"-":w.sign+"";this.symbol=void 0===w.symbol?"":w.symbol+"";this.zero=!!w.zero;this.width=void 0===w.width?void 0:+w.width;this.comma=!!w.comma;this.precision=void 0===w.precision?void 0:+w.precision;this.trim=!!w.trim;this.type=void 0===w.type?"":w.type+""}function Te(w,S){S=Rd(w,S);if(!S)return w+
"";w=S[0];S=S[1];return 0>S?"0."+Array(-S).join("0")+w:w.length>S+1?w.slice(0,S+1)+"."+w.slice(S+1):w+Array(S-w.length+2).join("0")}function $d(w){return w}function M(w){function S(gd){function nc(me){var Ke=rf,qe=Eg,hg,Jg;if("c"===dg)qe=ng(me)+qe,me="";else{me=+me;var Cg=0>me||0>1/me;me=isNaN(me)?Ed:ng(Math.abs(me),jg);if(zh){var fh=me.length,Lh=1,li=-1;a:for(;Lh<fh;++Lh)switch(me[Lh]){case ".":li=hg=Lh;break;case "0":0===li&&(li=Lh);hg=Lh;break;default:if(!+me[Lh])break a;0<li&&(li=0)}me=0<li?me.slice(0,
li)+me.slice(hg+1):me}Cg&&0===+me&&"+"!==we&&(Cg=!1);Ke=(Cg?"("===we?we:Mc:"-"===we||"("===we?"":we)+Ke;qe=("s"===dg?y[8+F/3]:"")+qe+(Cg&&"("===we?")":"");if(Je)for(Cg=-1,hg=me.length;++Cg<hg;)if(Jg=me.charCodeAt(Cg),48>Jg||57<Jg){qe=(46===Jg?wb+me.slice(Cg+1):me.slice(Cg))+qe;me=me.slice(0,Cg);break}}Xf&&!Xe&&(me=aa(me,Infinity));Jg=Ke.length+me.length+qe.length;Cg=Jg<Af?Array(Af-Jg+1).join(rd):"";Xf&&Xe&&(me=aa(Cg+me,Cg.length?Af-qe.length:Infinity),Cg="");switch(xd){case "\x3c":me=Ke+me+qe+Cg;
break;case "\x3d":me=Ke+Cg+me+qe;break;case "^":me=Cg.slice(0,Jg=Cg.length>>1)+Ke+me+qe+Cg.slice(Jg);break;default:me=Cg+Ke+me+qe}return Kb(me)}gd=ce(gd);var rd=gd.fill,xd=gd.align,we=gd.sign,ne=gd.symbol,Xe=gd.zero,Af=gd.width,Xf=gd.comma,jg=gd.precision,zh=gd.trim,dg=gd.type;"n"===dg?(Xf=!0,dg="g"):ha[dg]||(void 0===jg&&(jg=12),zh=!0,dg="g");if(Xe||"0"===rd&&"\x3d"===xd)Xe=!0,rd="0",xd="\x3d";var rf="$"===ne?Da:"#"===ne&&/[boxX]/.test(dg)?"0"+dg.toLowerCase():"",Eg="$"===ne?sb:/[%p]/.test(dg)?Lb:
"",ng=ha[dg],Je=/[defgprs%]/.test(dg);jg=void 0===jg?6:/[gprs]/.test(dg)?Math.max(1,Math.min(21,jg)):Math.max(0,Math.min(20,jg));nc.toString=function(){return gd+""};return nc}var aa=void 0===w.grouping||void 0===w.thousands?$d:Cd(l.call(w.grouping,Number),w.thousands+""),Da=void 0===w.currency?"":w.currency[0]+"",sb=void 0===w.currency?"":w.currency[1]+"",wb=void 0===w.decimal?".":w.decimal+"",Kb=void 0===w.numerals?$d:be(l.call(w.numerals,String)),Lb=void 0===w.percent?"%":w.percent+"",Mc=void 0===
w.minus?"−":w.minus+"",Ed=void 0===w.nan?"NaN":w.nan+"";return{format:S,formatPrefix:function(gd,nc){var rd=S((gd=ce(gd),gd.type="f",gd));gd=3*Math.max(-8,Math.min(8,Math.floor(Td(nc)/3)));var xd=Math.pow(10,-gd),we=y[8+gd/3];return function(ne){return rd(xd*ne)+we}}}}function Z(w,S,aa,Da){aa=Xa(w,S,aa);Da=ce(null==Da?",f":Da);switch(Da.type){case "s":w=Math.max(Math.abs(w),Math.abs(S));if(S=null==Da.precision){var sb=isNaN;aa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Td(w)/3)))-Td(Math.abs(aa)));
S=!sb(sb=aa)}S&&(Da.precision=sb);return Va(Da,w);case "":case "e":case "g":case "p":case "r":var wb;if(wb=null==Da.precision)sb=isNaN,w=Math.max(Math.abs(w),Math.abs(S)),aa=Math.abs(aa),w=Math.abs(w)-aa,aa=Math.max(0,Td(w)-Td(aa))+1,wb=!sb(sb=aa);wb&&(Da.precision=sb-("e"===Da.type));break;case "f":case "%":null!=Da.precision||isNaN(sb=Math.max(0,-Td(Math.abs(aa))))||(Da.precision=sb-2*("%"===Da.type))}return pa(Da)}function La(w){var S=w.domain;w.ticks=function(aa){var Da=S();return Bb(Da[0],Da[Da.length-
1],null==aa?10:aa)};w.tickFormat=function(aa,Da){var sb=S();return Z(sb[0],sb[sb.length-1],null==aa?10:aa,Da)};w.nice=function(aa){null==aa&&(aa=10);var Da=S(),sb=0,wb=Da.length-1,Kb=Da[sb],Lb=Da[wb],Mc=10;if(Lb<Kb){var Ed=Kb;Kb=Lb;Lb=Ed;Ed=sb;sb=wb;wb=Ed}for(;0<Mc--;){Ed=Ob(Kb,Lb,aa);if(Ed===gd)return Da[sb]=Kb,Da[wb]=Lb,S(Da);if(0<Ed)Kb=Math.floor(Kb/Ed)*Ed,Lb=Math.ceil(Lb/Ed)*Ed;else if(0>Ed)Kb=Math.ceil(Kb*Ed)/Ed,Lb=Math.floor(Lb*Ed)/Ed;else break;var gd=Ed}return w};return w}function gb(){var w=
fd()(Eb,Eb);w.copy=function(){return ed(w,gb())};Ca.apply(w,arguments);return La(w)}function Jb(w){function S(Da){return null==Da||isNaN(Da=+Da)?aa:Da}var aa;S.invert=S;S.domain=S.range=function(Da){return arguments.length?(w=Array.from(Da,jb),S):w.slice()};S.unknown=function(Da){return arguments.length?(aa=Da,S):aa};S.copy=function(){return Jb(w).unknown(aa)};w=arguments.length?Array.from(w,jb):[0,1];return La(S)}function Tb(w,S){w=w.slice();var aa=0,Da=w.length-1,sb=w[aa],wb=w[Da];if(wb<sb){var Kb=
aa;aa=Da;Da=Kb;Kb=sb;sb=wb;wb=Kb}w[aa]=S.floor(sb);w[Da]=S.ceil(wb);return w}function Bc(w){return Math.log(w)}function ic(w){return Math.exp(w)}function Jc(w){return-Math.log(-w)}function dd(w){return-Math.exp(-w)}function Oc(w){return isFinite(w)?+("1e"+w):0>w?0:w}function vd(w){return 10===w?Oc:w===Math.E?Math.exp:S=>Math.pow(w,S)}function Jd(w){return w===Math.E?Math.log:10===w&&Math.log10||2===w&&Math.log2||(w=Math.log(w),S=>Math.log(S)/w)}function Fd(w){return(S,aa)=>-w(-S,aa)}function Zd(w){function S(){wb=
Jd(sb);Kb=vd(sb);0>Da()[0]?(wb=Fd(wb),Kb=Fd(Kb),w(Jc,dd)):w(Bc,ic);return aa}const aa=w(Bc,ic),Da=aa.domain;let sb=10,wb,Kb;aa.base=function(Lb){return arguments.length?(sb=+Lb,S()):sb};aa.domain=function(Lb){return arguments.length?(Da(Lb),S()):Da()};aa.ticks=Lb=>{var Mc=Da();let Ed=Mc[0];Mc=Mc[Mc.length-1];const gd=Mc<Ed;gd&&([Ed,Mc]=[Mc,Ed]);let nc=wb(Ed),rd=wb(Mc),xd;const we=null==Lb?10:+Lb;let ne=[];if(!(sb%1)&&rd-nc<we){nc=Math.floor(nc);rd=Math.ceil(rd);if(0<Ed)for(;nc<=rd;++nc)for(Lb=1;Lb<
sb;++Lb){if(xd=0>nc?Lb/Kb(-nc):Lb*Kb(nc),!(xd<Ed)){if(xd>Mc)break;ne.push(xd)}}else for(;nc<=rd;++nc)for(Lb=sb-1;1<=Lb;--Lb)if(xd=0<nc?Lb/Kb(-nc):Lb*Kb(nc),!(xd<Ed)){if(xd>Mc)break;ne.push(xd)}2*ne.length<we&&(ne=Bb(Ed,Mc,we))}else ne=Bb(nc,rd,Math.min(rd-nc,we)).map(Kb);return gd?ne.reverse():ne};aa.tickFormat=(Lb,Mc)=>{null==Lb&&(Lb=10);null==Mc&&(Mc=10===sb?"s":",");"function"!==typeof Mc&&(sb%1||null!=(Mc=ce(Mc)).precision||(Mc.trim=!0),Mc=pa(Mc));if(Infinity===Lb)return Mc;const Ed=Math.max(1,
sb*Lb/aa.ticks().length);return gd=>{let nc=gd/Kb(Math.round(wb(gd)));nc*sb<sb-.5&&(nc*=sb);return nc<=Ed?Mc(gd):""}};aa.nice=()=>Da(Tb(Da(),{floor:Lb=>Kb(Math.floor(wb(Lb))),ceil:Lb=>Kb(Math.ceil(wb(Lb)))}));return aa}function Md(){const w=Zd(fd()).domain([1,10]);w.copy=()=>ed(w,Md()).base(w.base());Ca.apply(w,arguments);return w}function se(w){return function(S){return Math.sign(S)*Math.log1p(Math.abs(S/w))}}function Ae(w){return function(S){return Math.sign(S)*Math.expm1(Math.abs(S))*w}}function hf(w){var S=
1,aa=w(se(S),Ae(S));aa.constant=function(Da){return arguments.length?w(se(S=+Da),Ae(S)):S};return La(aa)}function cf(){var w=hf(fd());w.copy=function(){return ed(w,cf()).constant(w.constant())};return Ca.apply(w,arguments)}function df(w){return function(S){return 0>S?-Math.pow(-S,w):Math.pow(S,w)}}function re(w){return 0>w?-Math.sqrt(-w):Math.sqrt(w)}function nf(w){return 0>w?-w*w:w*w}function T(w){var S=w(Eb,Eb),aa=1;S.exponent=function(Da){return arguments.length?(aa=+Da,1===aa?w(Eb,Eb):.5===aa?
w(re,nf):w(df(aa),df(1/aa))):aa};return La(S)}function ta(){var w=T(fd());w.copy=function(){return ed(w,ta()).exponent(w.exponent())};Ca.apply(w,arguments);return w}function eb(){function w(){var Kb=0,Lb=Math.max(1,Da.length);for(sb=Array(Lb-1);++Kb<Lb;)sb[Kb-1]=qb(aa,Kb/Lb);return S}function S(Kb){return null==Kb||isNaN(Kb=+Kb)?wb:Da[dh(sb,Kb)]}var aa=[],Da=[],sb=[],wb;S.invertExtent=function(Kb){Kb=Da.indexOf(Kb);return 0>Kb?[NaN,NaN]:[0<Kb?sb[Kb-1]:aa[0],Kb<sb.length?sb[Kb]:aa[aa.length-1]]};S.domain=
function(Kb){if(!arguments.length)return aa.slice();aa=[];for(let Lb of Kb)null==Lb||isNaN(Lb=+Lb)||aa.push(Lb);aa.sort(oc);return w()};S.range=function(Kb){return arguments.length?(Da=Array.from(Kb),w()):Da.slice()};S.unknown=function(Kb){return arguments.length?(wb=Kb,S):wb};S.quantiles=function(){return sb.slice()};S.copy=function(){return eb().domain(aa).range(Da).unknown(wb)};return Ca.apply(S,arguments)}function zb(){function w(Mc){return null!=Mc&&Mc<=Mc?Kb[dh(wb,Mc,0,sb)]:Lb}function S(){var Mc=
-1;for(wb=Array(sb);++Mc<sb;)wb[Mc]=((Mc+1)*Da-(Mc-sb)*aa)/(sb+1);return w}var aa=0,Da=1,sb=1,wb=[.5],Kb=[0,1],Lb;w.domain=function(Mc){return arguments.length?([aa,Da]=Mc,aa=+aa,Da=+Da,S()):[aa,Da]};w.range=function(Mc){return arguments.length?(sb=(Kb=Array.from(Mc)).length-1,S()):Kb.slice()};w.invertExtent=function(Mc){Mc=Kb.indexOf(Mc);return 0>Mc?[NaN,NaN]:1>Mc?[aa,wb[0]]:Mc>=sb?[wb[sb-1],Da]:[wb[Mc-1],wb[Mc]]};w.unknown=function(Mc){return arguments.length?(Lb=Mc,w):w};w.thresholds=function(){return wb.slice()};
w.copy=function(){return zb().domain([aa,Da]).range(Kb).unknown(Lb)};return Ca.apply(La(w),arguments)}function Xb(){function w(wb){return null!=wb&&wb<=wb?aa[dh(S,wb,0,sb)]:Da}var S=[.5],aa=[0,1],Da,sb=1;w.domain=function(wb){return arguments.length?(S=Array.from(wb),sb=Math.min(S.length,aa.length-1),w):S.slice()};w.range=function(wb){return arguments.length?(aa=Array.from(wb),sb=Math.min(S.length,aa.length-1),w):aa.slice()};w.invertExtent=function(wb){wb=aa.indexOf(wb);return[S[wb-1],S[wb]]};w.unknown=
function(wb){return arguments.length?(Da=wb,w):Da};w.copy=function(){return Xb().domain(S).range(aa).unknown(Da)};return Ca.apply(w,arguments)}function Cc(w,S,aa,Da){function sb(wb){return w(wb=0===arguments.length?new Date:new Date(+wb)),wb}sb.floor=wb=>(w(wb=new Date(+wb)),wb);sb.ceil=wb=>(w(wb=new Date(wb-1)),S(wb,1),w(wb),wb);sb.round=wb=>{const Kb=sb(wb),Lb=sb.ceil(wb);return wb-Kb<Lb-wb?Kb:Lb};sb.offset=(wb,Kb)=>(S(wb=new Date(+wb),null==Kb?1:Math.floor(Kb)),wb);sb.range=(wb,Kb,Lb)=>{const Mc=
[];wb=sb.ceil(wb);Lb=null==Lb?1:Math.floor(Lb);if(!(wb<Kb&&0<Lb))return Mc;let Ed;do Mc.push(Ed=new Date(+wb)),S(wb,Lb),w(wb);while(Ed<wb&&wb<Kb);return Mc};sb.filter=wb=>Cc(Kb=>{if(Kb>=Kb)for(;w(Kb),!wb(Kb);)Kb.setTime(Kb-1)},(Kb,Lb)=>{if(Kb>=Kb)if(0>Lb)for(;0>=++Lb;)for(;S(Kb,-1),!wb(Kb););else for(;0<=--Lb;)for(;S(Kb,1),!wb(Kb););});aa&&(sb.count=(wb,Kb)=>{$a.setTime(+wb);Hb.setTime(+Kb);w($a);w(Hb);return Math.floor(aa($a,Hb))},sb.every=wb=>{wb=Math.floor(wb);return isFinite(wb)&&0<wb?1<wb?sb.filter(Da?
Kb=>0===Da(Kb)%wb:Kb=>0===sb.count(0,Kb)%wb):sb:null});return sb}function Ub(w){return Cc(S=>{S.setDate(S.getDate()-(S.getDay()+7-w)%7);S.setHours(0,0,0,0)},(S,aa)=>{S.setDate(S.getDate()+7*aa)},(S,aa)=>(aa-S-6E4*(aa.getTimezoneOffset()-S.getTimezoneOffset()))/6048E5)}function I(w){return Cc(S=>{S.setUTCDate(S.getUTCDate()-(S.getUTCDay()+7-w)%7);S.setUTCHours(0,0,0,0)},(S,aa)=>{S.setUTCDate(S.getUTCDate()+7*aa)},(S,aa)=>(aa-S)/6048E5)}function ea(w,S,aa,Da,sb,wb){function Kb(Mc,Ed,gd){const nc=Math.abs(Ed-
Mc)/gd,rd=Ac(([,,ne])=>ne).right(Lb,nc);if(rd===Lb.length)return w.every(Xa(Mc/31536E6,Ed/31536E6,gd));if(0===rd)return fc.every(Math.max(Xa(Mc,Ed,gd),1));const [xd,we]=Lb[nc/Lb[rd-1][2]<Lb[rd][2]/nc?rd-1:rd];return xd.every(we)}const Lb=[[Sb,1,1E3],[Sb,5,5E3],[Sb,15,15E3],[Sb,30,3E4],[wb,1,6E4],[wb,5,3E5],[wb,15,9E5],[wb,30,18E5],[sb,1,36E5],[sb,3,108E5],[sb,6,216E5],[sb,12,432E5],[Da,1,864E5],[Da,2,1728E5],[aa,1,6048E5],[S,1,2592E6],[S,3,7776E6],[w,1,31536E6]];return[function(Mc,Ed,gd){const nc=
Ed<Mc;nc&&([Mc,Ed]=[Ed,Mc]);Mc=(gd=gd&&"function"===typeof gd.range?gd:Kb(Mc,Ed,gd))?gd.range(Mc,+Ed+1):[];return nc?Mc.reverse():Mc},Kb]}function Ta(w){if(0<=w.y&&100>w.y){var S=new Date(-1,w.m,w.d,w.H,w.M,w.S,w.L);S.setFullYear(w.y);return S}return new Date(w.y,w.m,w.d,w.H,w.M,w.S,w.L)}function $b(w){if(0<=w.y&&100>w.y){var S=new Date(Date.UTC(-1,w.m,w.d,w.H,w.M,w.S,w.L));S.setUTCFullYear(w.y);return S}return new Date(Date.UTC(w.y,w.m,w.d,w.H,w.M,w.S,w.L))}function Pc(w,S,aa){return{y:w,m:S,d:aa,
H:0,M:0,S:0,L:0}}function xc(w){function S(Je,me){return function(Ke){var qe=[],hg=-1,Jg=0,Cg=Je.length,fh,Lh;for(Ke instanceof Date||(Ke=new Date(+Ke));++hg<Cg;)if(37===Je.charCodeAt(hg)){qe.push(Je.slice(Jg,hg));null!=(Jg=Ki[fh=Je.charAt(++hg)])?fh=Je.charAt(++hg):Jg="e"===fh?" ":"0";if(Lh=me[fh])fh=Lh(Ke,Jg);qe.push(fh);Jg=hg+1}qe.push(Je.slice(Jg,hg));return qe.join("")}}function aa(Je,me){return function(Ke){var qe=Pc(1900,void 0,1);if(Da(qe,Je,Ke+="",0)!=Ke.length)return null;if("Q"in qe)return new Date(qe.Q);
if("s"in qe)return new Date(1E3*qe.s+("L"in qe?qe.L:0));!me||"Z"in qe||(qe.Z=0);"p"in qe&&(qe.H=qe.H%12+12*qe.p);void 0===qe.m&&(qe.m="q"in qe?qe.q:0);if("V"in qe){if(1>qe.V||53<qe.V)return null;"w"in qe||(qe.w=1);if("Z"in qe){Ke=$b(Pc(qe.y,0,1));var hg=Ke.getUTCDay();Ke=4<hg||0===hg?kf.ceil(Ke):kf(Ke);Ke=pe.offset(Ke,7*(qe.V-1));qe.y=Ke.getUTCFullYear();qe.m=Ke.getUTCMonth();qe.d=Ke.getUTCDate()+(qe.w+6)%7}else Ke=Ta(Pc(qe.y,0,1)),hg=Ke.getDay(),Ke=4<hg||0===hg?Ig.ceil(Ke):Ig(Ke),Ke=Re.offset(Ke,
7*(qe.V-1)),qe.y=Ke.getFullYear(),qe.m=Ke.getMonth(),qe.d=Ke.getDate()+(qe.w+6)%7}else if("W"in qe||"U"in qe)"w"in qe||(qe.w="u"in qe?qe.u%7:"W"in qe?1:0),hg="Z"in qe?$b(Pc(qe.y,0,1)).getUTCDay():Ta(Pc(qe.y,0,1)).getDay(),qe.m=0,qe.d="W"in qe?(qe.w+6)%7+7*qe.W-(hg+5)%7:qe.w+7*qe.U-(hg+6)%7;return"Z"in qe?(qe.H+=qe.Z/100|0,qe.M+=qe.Z%100,$b(qe)):Ta(qe)}}function Da(Je,me,Ke,qe){for(var hg=0,Jg=me.length,Cg=Ke.length,fh;hg<Jg;){if(qe>=Cg)return-1;fh=me.charCodeAt(hg++);if(37===fh){if(fh=me.charAt(hg++),
fh=ng[fh in Ki?me.charAt(hg++):fh],!fh||0>(qe=fh(Je,Ke,qe)))return-1}else if(fh!=Ke.charCodeAt(qe++))return-1}return qe}var sb=w.dateTime,wb=w.date,Kb=w.time,Lb=w.periods,Mc=w.days,Ed=w.shortDays,gd=w.months,nc=w.shortMonths,rd=de(Lb),xd=Sa(Lb),we=de(Mc),ne=Sa(Mc),Xe=de(Ed),Af=Sa(Ed),Xf=de(gd),jg=Sa(gd),zh=de(nc),dg=Sa(nc),rf={a:function(Je){return Ed[Je.getDay()]},A:function(Je){return Mc[Je.getDay()]},b:function(Je){return nc[Je.getMonth()]},B:function(Je){return gd[Je.getMonth()]},c:null,d:ae,
e:ae,f:G,g:Uc,G:yd,H:Yd,I:le,j:N,L:da,m:ka,M:sa,p:function(Je){return Lb[+(12<=Je.getHours())]},q:function(Je){return 1+~~(Je.getMonth()/3)},Q:Bf,s:Cf,S:Ha,u:Pa,U:dc,V:rc,w:sc,W:Ic,x:null,X:null,y:$c,Y:bd,Z:Dd,"%":Hf},Eg={a:function(Je){return Ed[Je.getUTCDay()]},A:function(Je){return Mc[Je.getUTCDay()]},b:function(Je){return nc[Je.getUTCMonth()]},B:function(Je){return gd[Je.getUTCMonth()]},c:null,d:Od,e:Od,f:Hd,g:Wd,G:lf,H:He,I:td,j:ze,L:Ce,m:he,M:De,p:function(Je){return Lb[+(12<=Je.getUTCHours())]},
q:function(Je){return 1+~~(Je.getUTCMonth()/3)},Q:Bf,s:Cf,S:mf,u:bf,U:ue,V:uf,w:Kf,W:ff,x:null,X:null,y:lg,Y:jf,Z:Ze,"%":Hf},ng={a:function(Je,me,Ke){return(me=Xe.exec(me.slice(Ke)))?(Je.w=Af.get(me[0].toLowerCase()),Ke+me[0].length):-1},A:function(Je,me,Ke){return(me=we.exec(me.slice(Ke)))?(Je.w=ne.get(me[0].toLowerCase()),Ke+me[0].length):-1},b:function(Je,me,Ke){return(me=zh.exec(me.slice(Ke)))?(Je.m=dg.get(me[0].toLowerCase()),Ke+me[0].length):-1},B:function(Je,me,Ke){return(me=Xf.exec(me.slice(Ke)))?
(Je.m=jg.get(me[0].toLowerCase()),Ke+me[0].length):-1},c:function(Je,me,Ke){return Da(Je,sb,me,Ke)},d:Xd,e:Xd,f:Fc,g:qd,G:Qc,H:Oe,I:Oe,j:ye,L:ld,m:Ad,M:Ge,p:function(Je,me,Ke){return(me=rd.exec(me.slice(Ke)))?(Je.p=xd.get(me[0].toLowerCase()),Ke+me[0].length):-1},q:Qd,Q:Dc,s:Gd,S:tf,u:qc,U:pd,V:Kc,w:fb,W:Xc,x:function(Je,me,Ke){return Da(Je,wb,me,Ke)},X:function(Je,me,Ke){return Da(Je,Kb,me,Ke)},y:qd,Y:Qc,Z:jd,"%":id};rf.x=S(wb,rf);rf.X=S(Kb,rf);rf.c=S(sb,rf);Eg.x=S(wb,Eg);Eg.X=S(Kb,Eg);Eg.c=S(sb,
Eg);return{format:function(Je){var me=S(Je+="",rf);me.toString=function(){return Je};return me},parse:function(Je){var me=aa(Je+="",!1);me.toString=function(){return Je};return me},utcFormat:function(Je){var me=S(Je+="",Eg);me.toString=function(){return Je};return me},utcParse:function(Je){var me=aa(Je+="",!0);me.toString=function(){return Je};return me}}}function Tc(w,S,aa){var Da=0>w?"-":"";w=(Da?-w:w)+"";var sb=w.length;return Da+(sb<aa?Array(aa-sb+1).join(S)+w:w)}function md(w){return w.replace(bj,
"\\$\x26")}function de(w){return new RegExp("^(?:"+w.map(md).join("|")+")","i")}function Sa(w){return new Map(w.map((S,aa)=>[S.toLowerCase(),aa]))}function fb(w,S,aa){return(S=vg.exec(S.slice(aa,aa+1)))?(w.w=+S[0],aa+S[0].length):-1}function qc(w,S,aa){return(S=vg.exec(S.slice(aa,aa+1)))?(w.u=+S[0],aa+S[0].length):-1}function pd(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.U=+S[0],aa+S[0].length):-1}function Kc(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.V=+S[0],aa+S[0].length):-1}function Xc(w,
S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.W=+S[0],aa+S[0].length):-1}function Qc(w,S,aa){return(S=vg.exec(S.slice(aa,aa+4)))?(w.y=+S[0],aa+S[0].length):-1}function qd(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.y=+S[0]+(68<+S[0]?1900:2E3),aa+S[0].length):-1}function jd(w,S,aa){return(S=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(S.slice(aa,aa+6)))?(w.Z=S[1]?0:-(S[2]+(S[3]||"00")),aa+S[0].length):-1}function Qd(w,S,aa){return(S=vg.exec(S.slice(aa,aa+1)))?(w.q=3*S[0]-3,aa+S[0].length):-1}function Ad(w,
S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.m=S[0]-1,aa+S[0].length):-1}function Xd(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.d=+S[0],aa+S[0].length):-1}function ye(w,S,aa){return(S=vg.exec(S.slice(aa,aa+3)))?(w.m=0,w.d=+S[0],aa+S[0].length):-1}function Oe(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.H=+S[0],aa+S[0].length):-1}function Ge(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.M=+S[0],aa+S[0].length):-1}function tf(w,S,aa){return(S=vg.exec(S.slice(aa,aa+2)))?(w.S=+S[0],aa+S[0].length):
-1}function ld(w,S,aa){return(S=vg.exec(S.slice(aa,aa+3)))?(w.L=+S[0],aa+S[0].length):-1}function Fc(w,S,aa){return(S=vg.exec(S.slice(aa,aa+6)))?(w.L=Math.floor(S[0]/1E3),aa+S[0].length):-1}function id(w,S,aa){return(w=jj.exec(S.slice(aa,aa+1)))?aa+w[0].length:-1}function Dc(w,S,aa){return(S=vg.exec(S.slice(aa)))?(w.Q=+S[0],aa+S[0].length):-1}function Gd(w,S,aa){return(S=vg.exec(S.slice(aa)))?(w.s=+S[0],aa+S[0].length):-1}function ae(w,S){return Tc(w.getDate(),S,2)}function Yd(w,S){return Tc(w.getHours(),
S,2)}function le(w,S){return Tc(w.getHours()%12||12,S,2)}function N(w,S){return Tc(1+Re.count(ih(w),w),S,3)}function da(w,S){return Tc(w.getMilliseconds(),S,3)}function G(w,S){return da(w,S)+"000"}function ka(w,S){return Tc(w.getMonth()+1,S,2)}function sa(w,S){return Tc(w.getMinutes(),S,2)}function Ha(w,S){return Tc(w.getSeconds(),S,2)}function Pa(w){w=w.getDay();return 0===w?7:w}function dc(w,S){return Tc(wf.count(ih(w)-1,w),S,2)}function lc(w){var S=w.getDay();return 4<=S||0===S?Sf(w):Sf.ceil(w)}
function rc(w,S){w=lc(w);return Tc(Sf.count(ih(w),w)+(4===ih(w).getDay()),S,2)}function sc(w){return w.getDay()}function Ic(w,S){return Tc(Ig.count(ih(w)-1,w),S,2)}function $c(w,S){return Tc(w.getFullYear()%100,S,2)}function Uc(w,S){w=lc(w);return Tc(w.getFullYear()%100,S,2)}function bd(w,S){return Tc(w.getFullYear()%1E4,S,4)}function yd(w,S){var aa=w.getDay();w=4<=aa||0===aa?Sf(w):Sf.ceil(w);return Tc(w.getFullYear()%1E4,S,4)}function Dd(w){w=w.getTimezoneOffset();return(0<w?"-":(w*=-1,"+"))+Tc(w/
60|0,"0",2)+Tc(w%60,"0",2)}function Od(w,S){return Tc(w.getUTCDate(),S,2)}function He(w,S){return Tc(w.getUTCHours(),S,2)}function td(w,S){return Tc(w.getUTCHours()%12||12,S,2)}function ze(w,S){return Tc(1+pe.count(ug(w),w),S,3)}function Ce(w,S){return Tc(w.getUTCMilliseconds(),S,3)}function Hd(w,S){return Ce(w,S)+"000"}function he(w,S){return Tc(w.getUTCMonth()+1,S,2)}function De(w,S){return Tc(w.getUTCMinutes(),S,2)}function mf(w,S){return Tc(w.getUTCSeconds(),S,2)}function bf(w){w=w.getUTCDay();
return 0===w?7:w}function ue(w,S){return Tc(Nf.count(ug(w)-1,w),S,2)}function ve(w){var S=w.getUTCDay();return 4<=S||0===S?Pf(w):Pf.ceil(w)}function uf(w,S){w=ve(w);return Tc(Pf.count(ug(w),w)+(4===ug(w).getUTCDay()),S,2)}function Kf(w){return w.getUTCDay()}function ff(w,S){return Tc(kf.count(ug(w)-1,w),S,2)}function lg(w,S){return Tc(w.getUTCFullYear()%100,S,2)}function Wd(w,S){w=ve(w);return Tc(w.getUTCFullYear()%100,S,2)}function jf(w,S){return Tc(w.getUTCFullYear()%1E4,S,4)}function lf(w,S){var aa=
w.getUTCDay();w=4<=aa||0===aa?Pf(w):Pf.ceil(w);return Tc(w.getUTCFullYear()%1E4,S,4)}function Ze(){return"+0000"}function Hf(){return"%"}function Bf(w){return+w}function Cf(w){return Math.floor(+w/1E3)}function Jf(w){return new Date(w)}function wg(w){return w instanceof Date?+w:+new Date(+w)}function eg(w,S,aa,Da,sb,wb,Kb,Lb,Mc,Ed){function gd(rf){return(Mc(rf)<rf?we:Lb(rf)<rf?ne:Kb(rf)<rf?Xe:wb(rf)<rf?Af:Da(rf)<rf?sb(rf)<rf?Xf:jg:aa(rf)<rf?zh:dg)(rf)}var nc=fd()(Eb,Eb),rd=nc.invert,xd=nc.domain,
we=Ed(".%L"),ne=Ed(":%S"),Xe=Ed("%I:%M"),Af=Ed("%I %p"),Xf=Ed("%a %d"),jg=Ed("%b %d"),zh=Ed("%B"),dg=Ed("%Y");nc.invert=function(rf){return new Date(rd(rf))};nc.domain=function(rf){return arguments.length?xd(Array.from(rf,wg)):xd().map(Jf)};nc.ticks=function(rf){var Eg=xd();return w(Eg[0],Eg[Eg.length-1],null==rf?10:rf)};nc.tickFormat=function(rf,Eg){return null==Eg?gd:Ed(Eg)};nc.nice=function(rf){var Eg=xd();rf&&"function"===typeof rf.range||(rf=S(Eg[0],Eg[Eg.length-1],null==rf?10:rf));return rf?
xd(Tb(Eg,rf)):nc};nc.copy=function(){return ed(nc,eg(w,S,aa,Da,sb,wb,Kb,Lb,Mc,Ed))};return nc}function xf(){function w(nc){return null==nc||isNaN(nc=+nc)?gd:Mc(0===Kb?.5:(nc=(Lb(nc)-sb)*Kb,Ed?Math.max(0,Math.min(1,nc)):nc))}function S(nc){return function(rd){var xd,we;return arguments.length?([xd,we]=rd,Mc=nc(xd,we),w):[Mc(0),Mc(1)]}}var aa=0,Da=1,sb,wb,Kb,Lb,Mc=Eb,Ed=!1,gd;w.domain=function(nc){return arguments.length?([aa,Da]=nc,sb=Lb(aa=+aa),wb=Lb(Da=+Da),Kb=sb===wb?0:1/(wb-sb),w):[aa,Da]};w.clamp=
function(nc){return arguments.length?(Ed=!!nc,w):Ed};w.interpolator=function(nc){return arguments.length?(Mc=nc,w):Mc};w.range=S(Nd);w.rangeRound=S(ud);w.unknown=function(nc){return arguments.length?(gd=nc,w):gd};return function(nc){Lb=nc;sb=nc(aa);wb=nc(Da);Kb=sb===wb?0:1/(wb-sb);return w}}function Of(w,S){return S.domain(w.domain()).interpolator(w.interpolator()).clamp(w.clamp()).unknown(w.unknown())}function bg(){var w=La(xf()(Eb));w.copy=function(){return Of(w,bg())};return Qa.apply(w,arguments)}
function Lg(){var w=Zd(xf()).domain([1,10]);w.copy=function(){return Of(w,Lg()).base(w.base())};return Qa.apply(w,arguments)}function Qg(){var w=hf(xf());w.copy=function(){return Of(w,Qg()).constant(w.constant())};return Qa.apply(w,arguments)}function xg(){var w=T(xf());w.copy=function(){return Of(w,xg()).exponent(w.exponent())};return Qa.apply(w,arguments)}function ah(){function w(ne){return isNaN(ne=+ne)?we:(ne=.5+((ne=+rd(ne))-Lb)*(wb*ne<wb*Lb?Ed:gd),nc(xd?Math.max(0,Math.min(1,ne)):ne))}function S(ne){return function(Xe){var Af,
Xf,jg;return arguments.length?([Af,Xf,jg]=Xe,nc=Ka(ne,[Af,Xf,jg]),w):[nc(0),nc(.5),nc(1)]}}var aa=0,Da=.5,sb=1,wb=1,Kb,Lb,Mc,Ed,gd,nc=Eb,rd,xd=!1,we;w.domain=function(ne){return arguments.length?([aa,Da,sb]=ne,Kb=rd(aa=+aa),Lb=rd(Da=+Da),Mc=rd(sb=+sb),Ed=Kb===Lb?0:.5/(Lb-Kb),gd=Lb===Mc?0:.5/(Mc-Lb),wb=Lb<Kb?-1:1,w):[aa,Da,sb]};w.clamp=function(ne){return arguments.length?(xd=!!ne,w):xd};w.interpolator=function(ne){return arguments.length?(nc=ne,w):nc};w.range=S(Nd);w.rangeRound=S(ud);w.unknown=function(ne){return arguments.length?
(we=ne,w):we};return function(ne){rd=ne;Kb=ne(aa);Lb=ne(Da);Mc=ne(sb);Ed=Kb===Lb?0:.5/(Lb-Kb);gd=Lb===Mc?0:.5/(Mc-Lb);wb=Lb<Kb?-1:1;return w}}function qa(){var w=La(ah()(Eb));w.copy=function(){return Of(w,qa())};return Qa.apply(w,arguments)}function cb(){var w=Zd(ah()).domain([.1,1,10]);w.copy=function(){return Of(w,cb()).base(w.base())};return Qa.apply(w,arguments)}function Pb(){var w=hf(ah());w.copy=function(){return Of(w,Pb()).constant(w.constant())};return Qa.apply(w,arguments)}function hd(){var w=
T(ah());w.copy=function(){return Of(w,hd()).exponent(w.exponent())};return Qa.apply(w,arguments)}function nd(){function w(){var nc=aa().length;const rd=sb[1]<sb[0],xd=sb[1-rd],we=ib(nc,Mc,Ed);let ne=sb[rd-0];wb=(xd-ne)/(we||1);Lb&&(wb=Math.floor(wb));ne+=(xd-ne-wb*(nc-Mc))*gd;Kb=wb*(1-Mc);Lb&&(ne=Math.round(ne),Kb=Math.round(Kb));nc=Oa(nc).map(Xe=>ne+wb*Xe);return Da(rd?nc.reverse():nc)}const S=lb().unknown(void 0),aa=S.domain,Da=S.range;let sb=[0,1],wb,Kb,Lb=!1,Mc=0,Ed=0,gd=.5;delete S.unknown;S.domain=
function(nc){return arguments.length?(aa(nc),w()):aa()};S.range=function(nc){return arguments.length?(sb=[+nc[0],+nc[1]],w()):sb.slice()};S.rangeRound=function(nc){sb=[+nc[0],+nc[1]];Lb=!0;return w()};S.bandwidth=function(){return Kb};S.step=function(){return wb};S.round=function(nc){return arguments.length?(Lb=!!nc,w()):Lb};S.padding=function(nc){return arguments.length?(Mc=Ed=Math.max(0,Math.min(1,nc)),w()):Mc};S.paddingInner=function(nc){return arguments.length?(Mc=Math.max(0,Math.min(1,nc)),w()):
Mc};S.paddingOuter=function(nc){return arguments.length?(Ed=Math.max(0,Math.min(1,nc)),w()):Ed};S.align=function(nc){return arguments.length?(gd=Math.max(0,Math.min(1,nc)),w()):gd};S.invertRange=function(nc){if(null!=nc[0]&&null!=nc[1]){var rd=sb[1]<sb[0],xd=rd?Da().reverse():Da(),we=xd.length-1,ne=+nc[0],Xe=+nc[1];if(ne===ne&&Xe===Xe){if(Xe<ne){var Af=ne;ne=Xe;Xe=Af}if(!(Xe<xd[0]||ne>sb[1-rd]))return nc=Math.max(0,Hg(xd,ne)-1),Xe=ne===Xe?nc:Hg(xd,Xe)-1,ne-xd[nc]>Kb+1E-10&&++nc,rd&&(Af=nc,nc=we-Xe,
Xe=we-Af),nc>Xe?void 0:aa().slice(nc,Xe+1)}}};S.invert=function(nc){return(nc=S.invertRange([nc,nc]))?nc[0]:nc};S.copy=function(){return nd().domain(aa()).range(sb).round(Lb).paddingInner(Mc).paddingOuter(Ed).align(gd)};return w()}function oe(w){const S=w.copy;w.padding=w.paddingOuter;delete w.paddingInner;w.copy=function(){return oe(S())};return w}function Pe(){function w(Da){return null==Da||Da!==Da?void 0:aa[(dh(S,Da)-1)%aa.length]}let S=[],aa=[];w.domain=function(Da){return arguments.length?(S=
U.call(Da,g.toNumber),w):S.slice()};w.range=function(Da){return arguments.length?(aa=fa.call(Da),w):aa.slice()};w.tickFormat=function(Da,sb){return Z(S[0],g.peek(S),null==Da?10:Da,sb)};w.copy=function(){return Pe().domain(w.domain()).range(w.range())};return w}function of(w){w[xb]=!0;return w}function Ef(w,S,aa){const Da=function(){const sb=S();sb.invertRange||(sb.invertRange=sb.invert?Fb(sb):sb.invertExtent?Zb(sb):void 0);sb.type=w;return of(sb)};Da.metadata=g.toSet(g.array(aa));return Da}function Qe(w,
S,aa){return 1<arguments.length?(Ma.set(w,Ef(w,S,aa)),this):Zf(w)?Ma.get(w):void 0}function Zf(w){return Ma.has(w)}function Rf(w,S){return(w=Ma.get(w))&&w.metadata[S]}function $f(w){return Rf(w,"discrete")}function mg(w){return Rf(w,"discretizing")}function qg(w){return Rf(w,"log")}function Gg(w){return Rf(w,"temporal")}function bh(w,S,aa){return Ka(hh(S||"rgb",aa),w)}function hh(w,S){w=ia[Ee(w)];return null!=S&&w&&w.gamma?w.gamma(S):w}function Ee(w){return"interpolate"+w.toLowerCase().split("-").map(S=>
S[0].toUpperCase()+S.slice(1)).join("")}function Ie(w){const S=w.length/6|0,aa=Array(S);for(let Da=0;Da<S;)aa[Da]="#"+w.slice(6*Da,6*++Da);return aa}function Lf(w,S){for(const aa in w)gf(aa,S(w[aa]))}function gf(w,S){w=w&&w.toLowerCase();return 1<arguments.length?(Qb[w]=S,this):Qb[w]}function Df(w,S,aa){var Da=w.range();let sb=Da[0],wb=g.peek(Da);Da=Vc;sb>wb&&(Da=wb,wb=sb,sb=Da,Da=Kd);sb=Math.floor(sb);wb=Math.ceil(wb);S=S.map(Kb=>[Kb,w(Kb)]).filter(Kb=>sb<=Kb[1]&&Kb[1]<=wb).sort(Da).map(Kb=>Kb[0]);
if(0<aa&&1<S.length){for(Da=[S[0],g.peek(S)];S.length>aa&&3<=S.length;)S=S.filter((Kb,Lb)=>!(Lb%2));3>S.length&&(S=Da)}return S}function zf(w,S){return w.bins?Df(w,w.bins):w.ticks?w.ticks(S):w.domain()}function fg(w,S,aa,Da,sb,wb){const Kb=S.type;let Lb=jc;if("time"===Kb||"time"===sb)Lb=w.timeFormat(Da);else if("utc"===Kb||"utc"===sb)Lb=w.utcFormat(Da);else if(qg(Kb)){const Mc=w.formatFloat(Da);if(wb||S.bins)Lb=Mc;else{const Ed=rg(S,aa,!1);Lb=gd=>Ed(gd)?Mc(gd):""}}else S.tickFormat?(S=S.domain(),
Lb=w.formatSpan(S[0],S[S.length-1],aa,Da)):Da&&(Lb=w.format(Da));return Lb}function rg(w,S,aa){const Da=zf(w,S),sb=w.base(),wb=Math.log(sb),Kb=Math.max(1,sb*S/Da.length);w=Lb=>{Lb/=Math.pow(sb,Math.round(Math.log(Lb)/wb));Lb*sb<sb-.5&&(Lb*=sb);return Lb<=Kb};return aa?Da.filter(w):w}function gg(w,S){w.bins?(w=w.bins,S=w.slice(0,-1),S.max=g.peek(w),w=S):"log"===w.type?w=rg(w,S,!0):Ud[w.type]?(w=w[Ud[w.type]](),w=[-Infinity].concat(w),w.max=Infinity):w=zf(w,S);return w}function Ff(w,S,aa,Da,sb,wb,Kb){if(cd[S.type]&&
"time"!==wb&&"utc"!==wb){aa=S[cd[S.type]]();wb=aa.length;Kb=1<wb?aa[1]-aa[0]:aa[0];let Lb;for(Lb=1;Lb<wb;++Lb)Kb=Math.min(Kb,aa[Lb]-aa[Lb-1]);w=w.formatSpan(0,Kb,30,sb)}else w=fg(w,S,aa,sb,wb,Kb);return"symbol"===Da&&(Ud[S.type]||S.bins)?ie(w):"discrete"===Da?Be(w):Ve(w)}const Hg=Ac(oc).right;Ac(ec).center;var dh=Hg;class vh extends Map{constructor(w,S=Ib){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:S}});if(null!=w)for(const [aa,Da]of w)this.set(aa,Da)}get(w){return super.get(pc(this,
w))}has(w){return super.has(pc(this,w))}set(w,S){return super.set(Ya(this,w),S)}delete(w){return super.delete(rb(this,w))}}const ag=Math.sqrt(50),Vh=Math.sqrt(10),Bh=Math.sqrt(2),Ch=Symbol("implicit");var Vg=1/.7,Dh=/^#([0-9a-f]{3,8})$/,Eh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),bi=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Wg=
RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),jh=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),si=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Ag=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(vb,Vb,{copy(w){return Object.assign(new this.constructor,this,w)},displayable(){return this.rgb().displayable()},hex:pb,formatHex:pb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return f(this).formatHsl()},formatRgb:Mb,toString:Mb});mb(Ea,Ga,Na(vb,{brighter(w){w=null==w?Vg:Math.pow(Vg,w);return new Ea(this.r*w,this.g*w,this.b*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ea(this.r*w,this.g*w,this.b*w,this.opacity)},rgb(){return this},clamp(){return new Ea(p(this.r),p(this.g),p(this.b),na(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:db,formatHex:db,formatHex8:function(){return`#${L(this.r)}${L(this.g)}${L(this.b)}${L(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ba,toString:ba}));mb(m,v,Na(vb,{brighter(w){w=null==w?Vg:Math.pow(Vg,w);return new m(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new m(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=this.h%360+360*(0>this.h),S=isNaN(w)||isNaN(this.s)?0:this.s,aa=this.l;S=aa+
(.5>aa?aa:1-aa)*S;aa=2*aa-S;return new Ea(z(240<=w?w-240:w+120,aa,S),z(w,aa,S),z(120>w?w+240:w-120,aa,S),this.opacity)},clamp(){return new m(C(this.h),B(this.s),B(this.l),na(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const w=na(this.opacity);return`${1===w?"hsl(":"hsla("}${C(this.h)}, ${100*B(this.s)}%, ${100*B(this.l)}%${1===w?")":`, ${w})`}`}}));const Wh=Math.PI/180,Mg=180/Math.PI,ch=4/29,nh=6/29,
Gh=3*nh*nh,yg=nh*nh*nh;mb(V,D,Na(vb,{brighter(w){return new V(this.l+18*(null==w?1:w),this.a,this.b,this.opacity)},darker(w){return new V(this.l-18*(null==w?1:w),this.a,this.b,this.opacity)},rgb(){var w=(this.l+16)/116,S=isNaN(this.a)?w:w+this.a/500,aa=isNaN(this.b)?w:w-this.b/200;S=.96422*W(S);w=1*W(w);aa=.82521*W(aa);return new Ea(u(3.1338561*S-1.6168667*w-.4906146*aa),u(-.9787684*S+1.9161415*w+.033454*aa),u(.0719453*S-.2289914*w+1.4052427*aa),this.opacity)}}));mb(Za,Ja,Na(vb,{brighter(w){return new Za(this.h,
this.c,this.l+18*(null==w?1:w),this.opacity)},darker(w){return new Za(this.h,this.c,this.l-18*(null==w?1:w),this.opacity)},rgb(){return Wa(this).rgb()}}));var Oh=1.78277*-.29227-.1347134789;mb(Ba,X,Na(vb,{brighter(w){w=null==w?Vg:Math.pow(Vg,w);return new Ba(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ba(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=isNaN(this.h)?0:(this.h+120)*Wh,S=+this.l,aa=isNaN(this.s)?0:this.s*S*(1-S),Da=Math.cos(w);w=Math.sin(w);
return new Ea(255*(S+aa*(-.14861*Da+1.78277*w)),255*(S+aa*(-.29227*Da+-.90649*w)),255*(S+1.97294*aa*Da),this.opacity)}}));var wh=w=>()=>w,ph=function aa(S){function Da(wb,Kb){var Lb=sb((wb=Ga(wb)).r,(Kb=Ga(Kb)).r),Mc=sb(wb.g,Kb.g),Ed=sb(wb.b,Kb.b),gd=Rc(wb.opacity,Kb.opacity);return function(nc){wb.r=Lb(nc);wb.g=Mc(nc);wb.b=Ed(nc);wb.opacity=gd(nc);return wb+""}}var sb=zc(S);Da.gamma=aa;return Da}(1),Xh=Sd(Gb),ci=Sd(tc),kh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hh=new RegExp(kh.source,"g"),
If=180/Math.PI,sg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Rg,yf=hb(function(S){S=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(S+"");return S.isIdentity?sg:Fa(S.a,S.b,S.c,S.d,S.e,S.f)},"px, ","px)","deg)"),lh=hb(function(S){if(null==S)return sg;Rg||(Rg=document.createElementNS("http://www.w3.org/2000/svg","g"));Rg.setAttribute("transform",S);if(!(S=Rg.transform.baseVal.consolidate()))return sg;S=S.matrix;return Fa(S.a,S.b,S.c,S.d,S.e,S.f)},", ",")",")"),Bg=function wb(aa,
Da,sb){function Kb(Lb,Mc){var Ed=Lb[0],gd=Lb[1],nc=Lb[2];Lb=Mc[2];var rd=Mc[0]-Ed,xd=Mc[1]-gd,we=rd*rd+xd*xd;if(1E-12>we){var ne=Math.log(Lb/nc)/aa;Lb=function(Xf){return[Ed+Xf*rd,gd+Xf*xd,nc*Math.exp(aa*Xf*ne)]}}else{var Xe=Math.sqrt(we);Mc=(Lb*Lb-nc*nc+sb*we)/(2*nc*Da*Xe);Lb=(Lb*Lb-nc*nc-sb*we)/(2*Lb*Da*Xe);var Af=Math.log(Math.sqrt(Mc*Mc+1)-Mc);ne=(Math.log(Math.sqrt(Lb*Lb+1)-Lb)-Af)/aa;Lb=function(Xf){Xf*=ne;var jg=ub(Af),zh=aa*Xf+Af;var dg=((zh=Math.exp(2*zh))-1)/(zh+1);var rf=Af;zh=((rf=Math.exp(rf))-
1/rf)/2;dg=nc/(Da*Xe)*(jg*dg-zh);return[Ed+dg*rd,gd+dg*xd,nc*jg/ub(aa*Xf+Af)]}}Lb.duration=1E3*ne*aa/Math.SQRT2;return Lb}Kb.rho=function(Lb){Lb=Math.max(.001,+Lb);var Mc=Lb*Lb;return wb(Lb,Mc,Mc*Mc)};return Kb}(Math.SQRT2,2,4),Mf=la(Ec),R=la(Rc),wa=H(Ec),Ua=H(Rc),q=ya(Ec),P=ya(Rc),ia=Object.freeze({__proto__:null,interpolate:Nd,interpolateArray:function(aa,Da){return(Wb(Da)?Ia:kb)(aa,Da)},interpolateBasis:Gb,interpolateBasisClosed:tc,interpolateCubehelix:q,interpolateCubehelixLong:P,interpolateDate:bc,
interpolateDiscrete:function(aa){var Da=aa.length;return function(sb){return aa[Math.max(0,Math.min(Da-1,Math.floor(sb*Da)))]}},interpolateHcl:wa,interpolateHclLong:Ua,interpolateHsl:Mf,interpolateHslLong:R,interpolateHue:function(aa,Da){var sb=Ec(+aa,+Da);return function(wb){wb=sb(wb);return wb-360*Math.floor(wb/360)}},interpolateLab:function(aa,Da){var sb=Rc((aa=D(aa)).l,(Da=D(Da)).l),wb=Rc(aa.a,Da.a),Kb=Rc(aa.b,Da.b),Lb=Rc(aa.opacity,Da.opacity);return function(Mc){aa.l=sb(Mc);aa.a=wb(Mc);aa.b=
Kb(Mc);aa.opacity=Lb(Mc);return aa+""}},interpolateNumber:Yb,interpolateNumberArray:Ia,interpolateObject:hc,interpolateRgb:ph,interpolateRgbBasis:Xh,interpolateRgbBasisClosed:ci,interpolateRound:ud,interpolateString:ad,interpolateTransformCss:yf,interpolateTransformSvg:lh,interpolateZoom:Bg,piecewise:Ka,quantize:function(aa,Da){for(var sb=Array(Da),wb=0;wb<Da;++wb)sb[wb]=aa(wb/(Da-1));return sb}}),xa=[0,1],t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ce.prototype=Vd.prototype;
Vd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var F,ha={"%":(aa,Da)=>(100*aa).toFixed(Da),b:aa=>Math.round(aa).toString(2),c:aa=>aa+"",d:function(aa){return 1E21<=Math.abs(aa=Math.round(aa))?aa.toLocaleString("en").replace(/,/g,""):aa.toString(10)},e:(aa,Da)=>aa.toExponential(Da),f:(aa,
Da)=>aa.toFixed(Da),g:(aa,Da)=>aa.toPrecision(Da),o:aa=>Math.round(aa).toString(8),p:(aa,Da)=>Te(100*aa,Da),r:Te,s:function(aa,Da){var sb=Rd(aa,Da);if(!sb)return aa+"";var wb=sb[0];sb=sb[1];sb=sb-(F=3*Math.max(-8,Math.min(8,Math.floor(sb/3))))+1;var Kb=wb.length;return sb===Kb?wb:sb>Kb?wb+Array(sb-Kb+1).join("0"):0<sb?wb.slice(0,sb)+"."+wb.slice(sb):"0."+Array(1-sb).join("0")+Rd(aa,Math.max(0,Da+sb-1))[0]},X:aa=>Math.round(aa).toString(16).toUpperCase(),x:aa=>Math.round(aa).toString(16)},l=Array.prototype.map,
y="y z a f p n µ m  k M G T P E Z Y".split(" "),ca,pa,Va;(function(aa){ca=M(aa);pa=ca.format;Va=ca.formatPrefix;return ca})({thousands:",",grouping:[3],currency:["$",""]});const $a=new Date,Hb=new Date,fc=Cc(()=>{},(aa,Da)=>{aa.setTime(+aa+Da)},(aa,Da)=>Da-aa);fc.every=aa=>{aa=Math.floor(aa);return isFinite(aa)&&0<aa?1<aa?Cc(Da=>{Da.setTime(Math.floor(Da/aa)*aa)},(Da,sb)=>{Da.setTime(+Da+sb*aa)},(Da,sb)=>(sb-Da)/aa):fc:null};fc.range;const Sb=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds())},(aa,Da)=>
{aa.setTime(+aa+1E3*Da)},(aa,Da)=>(Da-aa)/1E3,aa=>aa.getUTCSeconds());Sb.range;const Bd=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds())},(aa,Da)=>{aa.setTime(+aa+6E4*Da)},(aa,Da)=>(Da-aa)/6E4,aa=>aa.getMinutes());Bd.range;const Zc=Cc(aa=>{aa.setUTCSeconds(0,0)},(aa,Da)=>{aa.setTime(+aa+6E4*Da)},(aa,Da)=>(Da-aa)/6E4,aa=>aa.getUTCMinutes());Zc.range;const Id=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds()-6E4*aa.getMinutes())},(aa,Da)=>{aa.setTime(+aa+36E5*Da)},(aa,Da)=>
(Da-aa)/36E5,aa=>aa.getHours());Id.range;const te=Cc(aa=>{aa.setUTCMinutes(0,0,0)},(aa,Da)=>{aa.setTime(+aa+36E5*Da)},(aa,Da)=>(Da-aa)/36E5,aa=>aa.getUTCHours());te.range;const Re=Cc(aa=>aa.setHours(0,0,0,0),(aa,Da)=>aa.setDate(aa.getDate()+Da),(aa,Da)=>(Da-aa-6E4*(Da.getTimezoneOffset()-aa.getTimezoneOffset()))/864E5,aa=>aa.getDate()-1);Re.range;const pe=Cc(aa=>{aa.setUTCHours(0,0,0,0)},(aa,Da)=>{aa.setUTCDate(aa.getUTCDate()+Da)},(aa,Da)=>(Da-aa)/864E5,aa=>aa.getUTCDate()-1);pe.range;const xe=Cc(aa=>
{aa.setUTCHours(0,0,0,0)},(aa,Da)=>{aa.setUTCDate(aa.getUTCDate()+Da)},(aa,Da)=>(Da-aa)/864E5,aa=>Math.floor(aa/864E5));xe.range;const wf=Ub(0),Ig=Ub(1),af=Ub(2),$e=Ub(3),Sf=Ub(4),Og=Ub(5),ig=Ub(6);wf.range;Ig.range;af.range;$e.range;Sf.range;Og.range;ig.range;const Nf=I(0),kf=I(1),vf=I(2),Qf=I(3),Pf=I(4),Yg=I(5),cg=I(6);Nf.range;kf.range;vf.range;Qf.range;Pf.range;Yg.range;cg.range;const Kh=Cc(aa=>{aa.setDate(1);aa.setHours(0,0,0,0)},(aa,Da)=>{aa.setMonth(aa.getMonth()+Da)},(aa,Da)=>Da.getMonth()-
aa.getMonth()+12*(Da.getFullYear()-aa.getFullYear()),aa=>aa.getMonth());Kh.range;const kg=Cc(aa=>{aa.setUTCDate(1);aa.setUTCHours(0,0,0,0)},(aa,Da)=>{aa.setUTCMonth(aa.getUTCMonth()+Da)},(aa,Da)=>Da.getUTCMonth()-aa.getUTCMonth()+12*(Da.getUTCFullYear()-aa.getUTCFullYear()),aa=>aa.getUTCMonth());kg.range;const ih=Cc(aa=>{aa.setMonth(0,1);aa.setHours(0,0,0,0)},(aa,Da)=>{aa.setFullYear(aa.getFullYear()+Da)},(aa,Da)=>Da.getFullYear()-aa.getFullYear(),aa=>aa.getFullYear());ih.every=aa=>isFinite(aa=Math.floor(aa))&&
0<aa?Cc(Da=>{Da.setFullYear(Math.floor(Da.getFullYear()/aa)*aa);Da.setMonth(0,1);Da.setHours(0,0,0,0)},(Da,sb)=>{Da.setFullYear(Da.getFullYear()+sb*aa)}):null;ih.range;const ug=Cc(aa=>{aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},(aa,Da)=>{aa.setUTCFullYear(aa.getUTCFullYear()+Da)},(aa,Da)=>Da.getUTCFullYear()-aa.getUTCFullYear(),aa=>aa.getUTCFullYear());ug.every=aa=>isFinite(aa=Math.floor(aa))&&0<aa?Cc(Da=>{Da.setUTCFullYear(Math.floor(Da.getUTCFullYear()/aa)*aa);Da.setUTCMonth(0,1);Da.setUTCHours(0,
0,0,0)},(Da,sb)=>{Da.setUTCFullYear(Da.getUTCFullYear()+sb*aa)}):null;ug.range;const [rh,qi]=ea(ug,kg,Nf,xe,te,Zc),[ii,Di]=ea(ih,Kh,wf,Re,Id,Bd);var Ki={"-":"",_:" ",0:"0"},vg=/^\s*\d+/,jj=/^%/,bj=/[\\^$*+?|[\]().{}]/g,di,kj,x;(function(aa){di=xc(aa);kj=di.format;di.parse;x=di.utcFormat;di.utcParse;return di})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var U=Array.prototype.map;const fa=Array.prototype.slice,Ma=new Map,xb=Symbol("vega_scale");Qe("identity",Jb);Qe("linear",gb,"continuous");Qe("log",Md,["continuous","log"]);Qe("pow",ta,"continuous");Qe("sqrt",function(){return ta.apply(null,arguments).exponent(.5)},"continuous");Qe("symlog",cf,"continuous");Qe("time",function(){return Ca.apply(eg(ii,
Di,ih,Kh,wf,Re,Id,Bd,Sb,kj).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Qe("utc",function(){return Ca.apply(eg(rh,qi,ug,kg,Nf,pe,te,Zc,Sb,x).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Qe("sequential",bg,["continuous","interpolating"]);Qe("sequential-linear",bg,["continuous","interpolating"]);Qe("sequential-log",Lg,["continuous","interpolating","log"]);Qe("sequential-pow",xg,["continuous","interpolating"]);Qe("sequential-sqrt",
function(){return xg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Qe("sequential-symlog",Qg,["continuous","interpolating"]);Qe("diverging-linear",qa,["continuous","interpolating"]);Qe("diverging-log",cb,["continuous","interpolating","log"]);Qe("diverging-pow",hd,["continuous","interpolating"]);Qe("diverging-sqrt",function(){return hd.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Qe("diverging-symlog",Pb,["continuous","interpolating"]);Qe("quantile",eb,
["discretizing","quantile"]);Qe("quantize",zb,"discretizing");Qe("threshold",Xb,"discretizing");Qe("bin-ordinal",Pe,["discrete","discretizing"]);Qe("ordinal",lb,"discrete");Qe("band",nd,"discrete");Qe("point",function(){return oe(nd().paddingInner(1))},"discrete");const Db=["clamp","base","constant","exponent"],Qb={};Lf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Ie);Lf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},aa=>bh(Ie(aa)));const jc=aa=>g.isArray(aa)?aa.map(Da=>String(Da)):String(aa),Vc=(aa,Da)=>aa[1]-Da[1],Kd=(aa,Da)=>Da[1]-aa[1],Ud={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},cd={quantile:"quantiles",quantize:"domain"},ie=aa=>(Da,sb,wb)=>{sb=wb[sb+1];wb=wb.max;wb=null!=wb?wb:Infinity;sb=null!=
sb?sb:wb;Da=Number.isFinite(Da)?aa(Da):null;sb=Number.isFinite(sb)?aa(sb):null;return Da&&sb?Da+" – "+sb:sb?"\x3c "+sb:"≥ "+Da},Be=aa=>(Da,sb)=>sb?aa(Da):null,Ve=aa=>Da=>aa(Da);r.Band="band";r.BinOrdinal="bin-ordinal";r.DiscreteLegend="discrete";r.Diverging="diverging";r.GradientLegend="gradient";r.Identity="identity";r.Linear="linear";r.Log="log";r.Ordinal="ordinal";r.Point="point";r.Pow="pow";r.Quantile="quantile";r.Quantize="quantize";r.Sequential="sequential";r.Sqrt="sqrt";r.SymbolLegend="symbol";
r.Symlog="symlog";r.Threshold="threshold";r.Time="time";r.UTC="utc";r.bandSpace=ib;r.domainCaption=function(aa,Da,sb){sb=sb||{};var wb=Math.max(3,sb.maxlen||7),Kb=sb.format;const Lb=(sb=sb.formatType)||Da.type;g.isString(Kb)&&Gg(Lb)&&(Kb=Kb.replace(/%a/g,"%A").replace(/%b/g,"%B"));aa=Kb||"time"!==Lb?Kb||"utc"!==Lb?Ff(aa,Da,5,null,Kb,sb,!0):aa.utcFormat("%A, %d %B %Y, %X UTC"):aa.timeFormat("%A, %d %B %Y, %X");if(mg(Da.type))return wb=gg(Da).slice(1).map(aa),Da=wb.length,`${Da} boundar${1===Da?"y":
"ies"}: ${wb.join(", ")}`;if($f(Da.type))return Kb=Da.domain(),Da=Kb.length,wb=Da>wb?Kb.slice(0,wb-2).map(aa).join(", ")+", ending with "+Kb.slice(-1).map(aa):Kb.map(aa).join(", "),`${Da} value${1===Da?"":"s"}: ${wb}`;wb=Da.domain();return`values from ${aa(wb[0])} to ${aa(g.peek(wb))}`};r.interpolate=hh;r.interpolateColors=bh;r.interpolateRange=function(aa,Da){const sb=Da[0],wb=g.peek(Da)-sb;return function(Kb){return aa(sb+Kb*wb)}};r.isContinuous=function(aa){return Rf(aa,"continuous")};r.isDiscrete=
$f;r.isDiscretizing=mg;r.isInterpolating=function(aa){return Rf(aa,"interpolating")};r.isLogarithmic=qg;r.isQuantile=function(aa){return Rf(aa,"quantile")};r.isRegisteredScale=function(aa){return aa&&!0===aa[xb]};r.isTemporal=Gg;r.isValidScaleType=Zf;r.labelFormat=Ff;r.labelFraction=function(aa){var Da=aa.domain();const sb=Da.length-1;let wb=+Da[0];Da=+g.peek(Da);let Kb=Da-wb;"threshold"===aa.type&&(aa=sb?Kb/sb:.1,wb-=aa,Da+=aa,Kb=Da-wb);return Lb=>(Lb-wb)/Kb};r.labelValues=gg;r.quantizeInterpolator=
function(aa,Da){const sb=Array(Da),wb=Da+1;for(let Kb=0;Kb<Da;)sb[Kb]=aa(++Kb/wb);return sb};r.registerScale=of;r.scale=Qe;r.scaleCopy=function(aa){const Da=aa.type;aa=aa.copy();aa.type=Da;return aa};r.scaleFraction=function(aa,Da,sb){var wb=sb-Da;let Kb,Lb;return wb&&Number.isFinite(wb)?(wb=(Kb=aa.type).indexOf("-"),Kb=0>wb?Kb:Kb.slice(wb+1),Lb=Qe(Kb)().domain([Da,sb]).range([0,1]),Db.forEach(Mc=>aa[Mc]?Lb[Mc](aa[Mc]()):0),Lb):g.constant(.5)};r.scaleImplicit=Ch;r.scheme=gf;r.tickCount=function(aa,
Da,sb){let wb;g.isNumber(Da)&&(aa.bins&&(Da=Math.max(Da,aa.bins.length)),null!=sb&&(Da=Math.min(Da,Math.floor(g.span(aa.domain())/sb||1))));g.isObject(Da)&&(wb=Da.step,Da=Da.interval);g.isString(Da)&&(Da="time"===aa.type?ra.timeInterval(Da):"utc"==aa.type?ra.utcInterval(Da):g.error("Only time and utc scales accept interval strings."),wb&&(Da=Da.every(wb)));return Da};r.tickFormat=fg;r.tickValues=zf;r.validTicks=Df})};
shadow$provide[34]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(32),Cb(28),Cb(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb){function Zb(q,P,ia){const xa=q.gradient;let t=q.id,F="radial"===xa?"p_":"";t||(t=q.id="gradient_"+dc++,"radial"===xa?(q.x1=oc(q.x1,
.5),q.y1=oc(q.y1,.5),q.r1=oc(q.r1,0),q.x2=oc(q.x2,.5),q.y2=oc(q.y2,.5),q.r2=oc(q.r2,.5),F="p_"):(q.x1=oc(q.x1,0),q.y1=oc(q.y1,0),q.x2=oc(q.x2,1),q.y2=oc(q.y2,0)));P[t]=q;return"url("+(ia||"")+"#"+F+t+")"}function oc(q,P){return null!=q?q:P}function kc(q){return function(){return q}}function Ac(q){return 1<=q?Dd:-1>=q?-Dd:Math.asin(q)}function Ab(q){this._+=q[0];for(let P=1,ia=q.length;P<ia;++P)this._+=arguments[P]+q[P]}function ec(q){let P=Math.floor(q);if(!(0<=P))throw Error(`invalid digits: ${q}`);
if(15<P)return Ab;const ia=Math.pow(10,P);return function(xa){this._+=xa[0];for(let t=1,F=xa.length;t<F;++t)this._+=Math.round(arguments[t]*ia)/ia+xa[t]}}function pc(){return new Ce}function Ya(q){let P=3;q.digits=function(ia){if(!arguments.length)return P;if(null==ia)P=null;else{const xa=Math.floor(ia);if(!(0<=xa))throw new RangeError(`invalid digits: ${ia}`);P=xa}return q};return()=>new Ce(P)}function rb(q){return q.innerRadius}function Ib(q){return q.outerRadius}function Nb(q){return q.startAngle}
function Bb(q){return q.endAngle}function Ob(q){return q&&q.padAngle}function Xa(q,P,ia,xa,t,F,ha){var l=q-ia,y=P-xa;ha=(ha?F:-F)/bd(l*l+y*y);y*=ha;l*=-ha;var ca=q+y,pa=P+l,Va=ia+y,$a=xa+l;ia=(ca+Va)/2;xa=(pa+$a)/2;P=Va-ca;q=$a-pa;ha=P*P+q*q;F=t-F;$a=ca*$a-Va*pa;var Hb=(0>q?-1:1)*bd(Ic(0,F*F*ha-$a*$a));ca=($a*q-P*Hb)/ha;pa=(-$a*P-q*Hb)/ha;Va=($a*q+P*Hb)/ha;P=(-$a*P+q*Hb)/ha;q=ca-ia;ha=pa-xa;ia=Va-ia;xa=P-xa;q*q+ha*ha>ia*ia+xa*xa&&(ca=Va,pa=P);return{cx:ca,cy:pa,x01:-y,y01:-l,x11:ca*(t/F-1),y11:pa*
(t/F-1)}}function qb(q){return"object"===typeof q&&"length"in q?q:Array.from(q)}function Oa(q){this._context=q}function Ca(q){return new Oa(q)}function Qa(q){return q[0]}function lb(q){return q[1]}function mb(q,P){function ia(y){var ca,pa=(y=qb(y)).length,Va,$a=!1,Hb;null==t&&(ha=F(Hb=l()));for(ca=0;ca<=pa;++ca)!(ca<pa&&xa(Va=y[ca],ca,y))===$a&&(($a=!$a)?ha.lineStart():ha.lineEnd()),$a&&ha.point(+q(Va,ca,y),+P(Va,ca,y));if(Hb)return ha=null,Hb+""||null}var xa=kc(!0),t=null,F=Ca,ha=null,l=Ya(ia);q=
"function"===typeof q?q:void 0===q?Qa:kc(q);P="function"===typeof P?P:void 0===P?lb:kc(P);ia.x=function(y){return arguments.length?(q="function"===typeof y?y:kc(+y),ia):q};ia.y=function(y){return arguments.length?(P="function"===typeof y?y:kc(+y),ia):P};ia.defined=function(y){return arguments.length?(xa="function"===typeof y?y:kc(!!y),ia):xa};ia.curve=function(y){return arguments.length?(F=y,null!=t&&(ha=F(t)),ia):F};ia.context=function(y){return arguments.length?(null==y?t=ha=null:ha=F(t=y),ia):
t};return ia}function Na(q,P,ia){function xa(Va){var $a,Hb,fc=(Va=qb(Va)).length,Sb,Bd=!1,Zc,Id=Array(fc),te=Array(fc);null==l&&(ca=y(Zc=pa()));for($a=0;$a<=fc;++$a){if(!($a<fc&&ha(Sb=Va[$a],$a,Va))===Bd)if(Bd=!Bd){var Re=$a;ca.areaStart();ca.lineStart()}else{ca.lineEnd();ca.lineStart();for(Hb=$a-1;Hb>=Re;--Hb)ca.point(Id[Hb],te[Hb]);ca.lineEnd();ca.areaEnd()}Bd&&(Id[$a]=+q(Sb,$a,Va),te[$a]=+P(Sb,$a,Va),ca.point(F?+F(Sb,$a,Va):Id[$a],ia?+ia(Sb,$a,Va):te[$a]))}if(Zc)return ca=null,Zc+""||null}function t(){return mb().defined(ha).curve(y).context(l)}
var F=null,ha=kc(!0),l=null,y=Ca,ca=null,pa=Ya(xa);q="function"===typeof q?q:void 0===q?Qa:kc(+q);P="function"===typeof P?P:void 0===P?kc(0):kc(+P);ia="function"===typeof ia?ia:void 0===ia?lb:kc(+ia);xa.x=function(Va){return arguments.length?(q="function"===typeof Va?Va:kc(+Va),F=null,xa):q};xa.x0=function(Va){return arguments.length?(q="function"===typeof Va?Va:kc(+Va),xa):q};xa.x1=function(Va){return arguments.length?(F=null==Va?null:"function"===typeof Va?Va:kc(+Va),xa):F};xa.y=function(Va){return arguments.length?
(P="function"===typeof Va?Va:kc(+Va),ia=null,xa):P};xa.y0=function(Va){return arguments.length?(P="function"===typeof Va?Va:kc(+Va),xa):P};xa.y1=function(Va){return arguments.length?(ia=null==Va?null:"function"===typeof Va?Va:kc(+Va),xa):ia};xa.lineX0=xa.lineY0=function(){return t().x(q).y(P)};xa.lineY1=function(){return t().x(q).y(ia)};xa.lineX1=function(){return t().x(F).y(P)};xa.defined=function(Va){return arguments.length?(ha="function"===typeof Va?Va:kc(!!Va),xa):ha};xa.curve=function(Va){return arguments.length?
(y=Va,null!=l&&(ca=y(l)),xa):y};xa.context=function(Va){return arguments.length?(null==Va?l=ca=null:ca=y(l=Va),xa):l};return xa}function vb(){}function pb(q,P,ia){q._context.bezierCurveTo((2*q._x0+q._x1)/3,(2*q._y0+q._y1)/3,(q._x0+2*q._x1)/3,(q._y0+2*q._y1)/3,(q._x0+4*q._x1+P)/6,(q._y0+4*q._y1+ia)/6)}function Mb(q){this._context=q}function Vb(q){this._context=q}function ob(q){this._context=q}function ma(q,P){this._basis=new Mb(q);this._beta=P}function Y(q,P,ia){q._context.bezierCurveTo(q._x1+q._k*
(q._x2-q._x0),q._y1+q._k*(q._y2-q._y0),q._x2+q._k*(q._x1-P),q._y2+q._k*(q._y1-ia),q._x2,q._y2)}function Ga(q,P){this._context=q;this._k=(1-P)/6}function Ea(q,P){this._context=q;this._k=(1-P)/6}function db(q,P){this._context=q;this._k=(1-P)/6}function ba(q,P,ia){var xa=q._x1,t=q._y1,F=q._x2,ha=q._y2;if(1E-12<q._l01_a){var l=2*q._l01_2a+3*q._l01_a*q._l12_a+q._l12_2a,y=3*q._l01_a*(q._l01_a+q._l12_a);xa=(xa*l-q._x0*q._l12_2a+q._x2*q._l01_2a)/y;t=(t*l-q._y0*q._l12_2a+q._y2*q._l01_2a)/y}1E-12<q._l23_a&&
(l=2*q._l23_2a+3*q._l23_a*q._l12_a+q._l12_2a,y=3*q._l23_a*(q._l23_a+q._l12_a),F=(F*l+q._x1*q._l23_2a-P*q._l12_2a)/y,ha=(ha*l+q._y1*q._l23_2a-ia*q._l12_2a)/y);q._context.bezierCurveTo(xa,t,F,ha,q._x2,q._y2)}function na(q,P){this._context=q;this._alpha=P}function p(q,P){this._context=q;this._alpha=P}function L(q,P){this._context=q;this._alpha=P}function O(q){this._context=q}function f(q,P,ia){var xa=q._x1-q._x0;P-=q._x1;var t=(q._y1-q._y0)/(xa||0>P&&-0);q=(ia-q._y1)/(P||0>xa&&-0);return((0>t?-1:1)+
(0>q?-1:1))*Math.min(Math.abs(t),Math.abs(q),.5*Math.abs((t*P+q*xa)/(xa+P)))||0}function v(q,P){var ia=q._x1-q._x0;return ia?(3*(q._y1-q._y0)/ia-P)/2:P}function m(q,P,ia){var xa=q._x0,t=q._x1,F=q._y1,ha=(t-xa)/3;q._context.bezierCurveTo(xa+ha,q._y0+ha*P,t-ha,F-ha*ia,t,F)}function C(q){this._context=q}function B(q){this._context=new z(q)}function z(q){this._context=q}function E(q){this._context=q}function D(q){var P,ia=q.length-1,xa=Array(ia),t=Array(ia),F=Array(ia);xa[0]=0;t[0]=2;F[0]=q[0]+2*q[1];
for(P=1;P<ia-1;++P)xa[P]=1,t[P]=4,F[P]=4*q[P]+2*q[P+1];xa[ia-1]=2;t[ia-1]=7;F[ia-1]=8*q[ia-1]+q[ia];for(P=1;P<ia;++P){var ha=xa[P]/t[P-1];t[P]-=ha;F[P]-=ha*F[P-1]}xa[ia-1]=F[ia-1]/t[ia-1];for(P=ia-2;0<=P;--P)xa[P]=(F[P]-xa[P+1])/t[P];t[ia-1]=(q[ia]+xa[ia-1])/2;for(P=0;P<ia-1;++P)t[P]=2*q[P+1]-xa[P+1];return[xa,t]}function V(q,P){this._context=q;this._t=P}function Aa(q,P,ia){q=g.hasOwnProperty(Kf,q)&&Kf[q];var xa=null;q&&(xa=q.curve||q[P||"vertical"],q.tension&&null!=ia&&(xa=xa[q.tension](ia)));return xa}
function W(q){const P=[];(q.match(lg)||[]).forEach(ia=>{let xa=ia[0];var t=xa.toLowerCase();const F=ff[t];var ha=ia.slice(1).trim();ia=[];for(let y=0;F&&y<ha.length;)for(let ca=0;ca<F;++ca){var l="a"!==t||3!==ca&&4!==ca?Wd:lf;l=ha.slice(y).match(l);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");y+=l[0].length;ia.push(+l[0]);l=ha.slice(y).match(jf);null!==l&&(y+=l[0].length)}ha=ia.length;if(ha<F||ha&&0!==ha%F)throw Error("Invalid SVG path, incorrect parameter count");P.push([xa,
...ia.slice(0,F)]);if(ha!==F)for("m"===t&&(xa="M"===xa?"L":"l"),t=F;t<ha;t+=F)P.push([xa,...ia.slice(t,t+F)])});return P}function u(q,P,ia,xa,t,F,ha,l,y){const ca=eg.call(arguments);if(Jf[ca])return Jf[ca];var pa=ha*Ze;const Va=Math.sin(pa);pa=Math.cos(pa);ia=Math.abs(ia);xa=Math.abs(xa);var $a=pa*(l-q)*.5+Va*(y-P)*.5,Hb=pa*(y-P)*.5-Va*(l-q)*.5;$a=$a*$a/(ia*ia)+Hb*Hb/(xa*xa);1<$a&&($a=Math.sqrt($a),ia*=$a,xa*=$a);var fc=pa/ia,Sb=Va/ia,Bd=-Va/xa,Zc=pa/xa;$a=fc*l+Sb*y;Hb=Bd*l+Zc*y;fc=fc*q+Sb*P;Sb=Bd*
q+Zc*P;Bd=1/((fc-$a)*(fc-$a)+(Sb-Hb)*(Sb-Hb))-.25;0>Bd&&(Bd=0);Zc=Math.sqrt(Bd);F==t&&(Zc=-Zc);Bd=.5*($a+fc)-Zc*(Sb-Hb);Zc=.5*(Hb+Sb)+Zc*(fc-$a);$a=Math.atan2(Hb-Zc,$a-Bd);Hb=Math.atan2(Sb-Zc,fc-Bd)-$a;0>Hb&&1===F?Hb+=Bf:0<Hb&&0===F&&(Hb-=Bf);fc=Math.ceil(Math.abs(Hb/(Hf+.001)));Sb=[];for(let Id=0;Id<fc;++Id)Sb[Id]=[Bd,Zc,$a+Id*Hb/fc,$a+(Id+1)*Hb/fc,ia,xa,Va,pa];return Jf[ca]=Sb}function K(q,P,ia,xa,t,F){var ha=null,l=0,y=0,ca=0,pa=0,Va=0,$a=0;null==ia&&(ia=0);null==xa&&(xa=0);null==t&&(t=1);null==
F&&(F=t);q.beginPath&&q.beginPath();for(var Hb=0,fc=P.length;Hb<fc;++Hb){var Sb=P[Hb];if(1!==t||1!==F){var Bd=t;var Zc=F;var Id=xf[0]=Sb[0];if("a"===Id||"A"===Id)xf[1]=Bd*Sb[1],xf[2]=Zc*Sb[2],xf[3]=Sb[3],xf[4]=Sb[4],xf[5]=Sb[5],xf[6]=Bd*Sb[6],xf[7]=Zc*Sb[7];else if("h"===Id||"H"===Id)xf[1]=Bd*Sb[1];else if("v"===Id||"V"===Id)xf[1]=Zc*Sb[1];else{Id=1;for(var te=Sb.length;Id<te;++Id)xf[Id]=(1==Id%2?Bd:Zc)*Sb[Id]}Sb=xf}switch(Sb[0]){case "l":l+=Sb[1];y+=Sb[2];q.lineTo(l+ia,y+xa);break;case "L":l=Sb[1];
y=Sb[2];q.lineTo(l+ia,y+xa);break;case "h":l+=Sb[1];q.lineTo(l+ia,y+xa);break;case "H":l=Sb[1];q.lineTo(l+ia,y+xa);break;case "v":y+=Sb[1];q.lineTo(l+ia,y+xa);break;case "V":y=Sb[1];q.lineTo(l+ia,y+xa);break;case "m":l+=Sb[1];y+=Sb[2];Va=l;$a=y;q.moveTo(l+ia,y+xa);break;case "M":l=Sb[1];y=Sb[2];Va=l;$a=y;q.moveTo(l+ia,y+xa);break;case "c":Bd=l+Sb[5];Zc=y+Sb[6];ca=l+Sb[3];pa=y+Sb[4];q.bezierCurveTo(l+Sb[1]+ia,y+Sb[2]+xa,ca+ia,pa+xa,Bd+ia,Zc+xa);l=Bd;y=Zc;break;case "C":l=Sb[5];y=Sb[6];ca=Sb[3];pa=
Sb[4];q.bezierCurveTo(Sb[1]+ia,Sb[2]+xa,ca+ia,pa+xa,l+ia,y+xa);break;case "s":Bd=l+Sb[3];Zc=y+Sb[4];ca=2*l-ca;pa=2*y-pa;q.bezierCurveTo(ca+ia,pa+xa,l+Sb[1]+ia,y+Sb[2]+xa,Bd+ia,Zc+xa);ca=l+Sb[1];pa=y+Sb[2];l=Bd;y=Zc;break;case "S":Bd=Sb[3];Zc=Sb[4];ca=2*l-ca;pa=2*y-pa;q.bezierCurveTo(ca+ia,pa+xa,Sb[1]+ia,Sb[2]+xa,Bd+ia,Zc+xa);l=Bd;y=Zc;ca=Sb[1];pa=Sb[2];break;case "q":Bd=l+Sb[3];Zc=y+Sb[4];ca=l+Sb[1];pa=y+Sb[2];q.quadraticCurveTo(ca+ia,pa+xa,Bd+ia,Zc+xa);l=Bd;y=Zc;break;case "Q":Bd=Sb[3];Zc=Sb[4];
q.quadraticCurveTo(Sb[1]+ia,Sb[2]+xa,Bd+ia,Zc+xa);l=Bd;y=Zc;ca=Sb[1];pa=Sb[2];break;case "t":Bd=l+Sb[1];Zc=y+Sb[2];null===ha[0].match(/[QqTt]/)?(ca=l,pa=y):"t"===ha[0]?(ca=2*l-Re,pa=2*y-pe):"q"===ha[0]&&(ca=2*l-ca,pa=2*y-pa);var Re=ca;var pe=pa;q.quadraticCurveTo(ca+ia,pa+xa,Bd+ia,Zc+xa);l=Bd;y=Zc;ca=l+Sb[1];pa=y+Sb[2];break;case "T":Bd=Sb[1];Zc=Sb[2];ca=2*l-ca;pa=2*y-pa;q.quadraticCurveTo(ca+ia,pa+xa,Bd+ia,Zc+xa);l=Bd;y=Zc;break;case "a":va(q,l+ia,y+xa,[Sb[1],Sb[2],Sb[3],Sb[4],Sb[5],Sb[6]+l+ia,Sb[7]+
y+xa]);l+=Sb[6];y+=Sb[7];break;case "A":va(q,l+ia,y+xa,[Sb[1],Sb[2],Sb[3],Sb[4],Sb[5],Sb[6]+ia,Sb[7]+xa]);l=Sb[6];y=Sb[7];break;case "z":case "Z":l=Va,y=$a,q.closePath()}ha=Sb}}function va(q,P,ia,xa){P=u(xa[5],xa[6],xa[0],xa[1],xa[3],xa[4],xa[2],P,ia);for(ia=0;ia<P.length;++ia){a:{var t=P[ia];xa=eg.call(t);if(wg[xa]){xa=wg[xa];break a}var F=t[0],ha=t[1],l=t[2],y=t[3],ca=t[4],pa=t[5],Va=t[6],$a=t[7];t=$a*ca;const fc=-Va*pa;ca*=Va;pa*=$a;var Hb=Math.cos(l);const Sb=Math.sin(l);Va=Math.cos(y);$a=Math.sin(y);
l=.5*(y-l);y=Math.sin(.5*l);y=8/3*y*y/Math.sin(l);l=F+Hb-y*Sb;Hb=ha+Sb+y*Hb;F+=Va;ha+=$a;$a=F+y*$a;Va=ha-y*Va;xa=wg[xa]=[t*l+fc*Hb,ca*l+pa*Hb,t*$a+fc*Va,ca*$a+pa*Va,t*F+fc*ha,ca*F+pa*ha]}q.bezierCurveTo(xa[0],xa[1],xa[2],xa[3],xa[4],xa[5])}}function Ja(q){return g.hasOwnProperty(Of,q)?Of[q]:Za(q)}function Za(q){if(!g.hasOwnProperty(bg,q)){const P=W(q);bg[q]={draw:function(ia,xa){K(ia,P,0,0,Math.sqrt(xa)/2)}}}return bg[q]}function Wa(q){return q.x}function X(q){return q.y}function Ba(q){return q.width}
function ab(q){return q.height}function Gb(q){return"function"===typeof q?q:()=>+q}function tc(q,P,ia){return Math.max(P,Math.min(q,ia))}function wc(){function q(pa,Va,$a){var Hb;Va=null!=Va?Va:+P.call(this,pa);$a=null!=$a?$a:+ia.call(this,pa);var fc=+xa.call(this,pa),Sb=+t.call(this,pa),Bd=Math.min(fc,Sb)/2,Zc=tc(+F.call(this,pa),0,Bd),Id=tc(+ha.call(this,pa),0,Bd),te=tc(+l.call(this,pa),0,Bd);pa=tc(+y.call(this,pa),0,Bd);ca||(ca=Hb=pc());0>=Zc&&0>=Id&&0>=te&&0>=pa?ca.rect(Va,$a,fc,Sb):(fc=Va+fc,
Sb=$a+Sb,ca.moveTo(Va+Zc,$a),ca.lineTo(fc-Id,$a),ca.bezierCurveTo(fc-.448084975506*Id,$a,fc,$a+.448084975506*Id,fc,$a+Id),ca.lineTo(fc,Sb-pa),ca.bezierCurveTo(fc,Sb-.448084975506*pa,fc-.448084975506*pa,Sb,fc-pa,Sb),ca.lineTo(Va+te,Sb),ca.bezierCurveTo(Va+.448084975506*te,Sb,Va,Sb-.448084975506*te,Va,Sb-te),ca.lineTo(Va,$a+Zc),ca.bezierCurveTo(Va,$a+.448084975506*Zc,Va+.448084975506*Zc,$a,Va+Zc,$a),ca.closePath());if(Hb)return ca=null,Hb+""||null}var P=Wa,ia=X,xa=Ba,t=ab,F=Gb(0),ha=F,l=F,y=F,ca=null;
q.x=function(pa){return arguments.length?(P=Gb(pa),q):P};q.y=function(pa){return arguments.length?(ia=Gb(pa),q):ia};q.width=function(pa){return arguments.length?(xa=Gb(pa),q):xa};q.height=function(pa){return arguments.length?(t=Gb(pa),q):t};q.cornerRadius=function(pa,Va,$a,Hb){return arguments.length?(F=Gb(pa),ha=null!=Va?Gb(Va):F,y=null!=$a?Gb($a):F,l=null!=Hb?Gb(Hb):ha,q):F};q.context=function(pa){return arguments.length?(ca=null==pa?null:pa,q):ca};return q}function vc(){function q(pa){var Va,$a=
pa.length,Hb,fc=!1,Sb;null==F&&(F=Sb=pc());for(Va=0;Va<=$a;++Va)if(!(Va<$a&&t(Hb=pa[Va],Va,pa))===fc&&(fc=!fc)&&(ha=0),fc){var Bd=+P(Hb,Va,pa),Zc=+ia(Hb,Va,pa);const wf=+xa(Hb,Va,pa)/2;if(ha){var Id=y-Zc,te=Bd-l;if(Id||te){var Re=Math.sqrt(Id*Id+te*te),pe=(Id/=Re)*ca;Re=(te/=Re)*ca;var xe=Math.atan2(te,Id);F.moveTo(l-pe,y-Re);F.lineTo(Bd-Id*wf,Zc-te*wf);F.arc(Bd,Zc,wf,xe-Math.PI,xe);F.lineTo(l+pe,y+Re);F.arc(l,y,ca,xe,xe+Math.PI)}else F.arc(Bd,Zc,wf,0,Bf);F.closePath()}else ha=1;l=Bd;y=Zc;ca=wf}if(Sb)return F=
null,Sb+""||null}var P,ia,xa,t,F=null,ha,l,y,ca;q.x=function(pa){return arguments.length?(P=pa,q):P};q.y=function(pa){return arguments.length?(ia=pa,q):ia};q.size=function(pa){return arguments.length?(xa=pa,q):xa};q.defined=function(pa){return arguments.length?(t=pa,q):t};q.context=function(pa){return arguments.length?(F=null==pa?null:pa,q):F};return q}function Ec(q,P){return null!=q?q:P}function zc(q){return q.cornerRadius||q.cornerRadiusTopLeft||q.cornerRadiusTopRight||q.cornerRadiusBottomRight||
q.cornerRadiusBottomLeft}function Rc(q,P,ia,xa){return hd.context(q)(P,ia,xa)}function Sd(q,P,ia){var xa=P.clip;q=q._defs;P=P.clip_id||(P.clip_id="clip"+Pe++);q=q.clipping[P]||(q.clipping[P]={id:P});g.isFunction(xa)?q.path=xa(null):zc(ia)?q.path=Rc(null,ia,0,0):(q.width=ia.width||0,q.height=ia.height||0);return"url(#"+P+")"}function Ia(q){this.clear();q&&this.union(q)}function Wb(q){this.mark=q;this.bounds=this.bounds||new Ia}function kb(q){Wb.call(this,q);this.items=this.items||[]}function bc(q){this._pending=
0;this._loader=q||ib.loader()}function Yb(q,P,ia){if(P.stroke&&0!==P.opacity&&0!==P.strokeOpacity){const xa=null!=P.strokeWidth?+P.strokeWidth:1;q.expand(xa+(ia?P.strokeJoin&&"miter"!==P.strokeJoin?0:xa:0))}return q}function hc(q,P){Ef=q;P?(Rf=P*Ze,$f=Gg=Math.cos(Rf),mg=Math.sin(Rf),qg=-mg):($f=Gg=1,Rf=mg=qg=0);return gf}function yc(q,P,ia,xa){ia=(q-P)/(q+ia-2*P);0<ia&&1>ia&&xa(q+(P-q)*ia)}function Gc(q,P,ia,xa,t){const F=xa-q+3*P-3*ia,ha=q+ia-2*P;var l=q-P;let y=0,ca=0;1E-14<Math.abs(F)?(l=ha*ha+
l*F,0<=l&&(l=Math.sqrt(l),y=(-ha+l)/F,ca=(-ha-l)/F)):y=.5*l/ha;0<y&&1>y&&t(ad(y,q,P,ia,xa));0<ca&&1>ca&&t(ad(ca,q,P,ia,xa))}function ad(q,P,ia,xa,t){const F=1-q,ha=F*F,l=q*q;return ha*F*P+3*ha*q*ia+3*F*l*xa+l*q*t}function Nd(q){return function(P,ia){if(!Df)return!0;q(Df,P);zf.clear().union(P.bounds).intersect(ia).round();const {x1:xa,y1:t,x2:F,y2:ha}=zf;for(P=t;P<=ha;++P)for(ia=xa;ia<=F;++ia)if(Df.isPointInPath(ia,P))return!0;return!1}}function ud(q,P){return P.contains(q.x||0,q.y||0)}function Fa(q,
P){const ia=q.x||0,xa=q.y||0;return P.intersects(zf.set(ia,xa,ia+(q.width||0),xa+(q.height||0)))}function hb(q,P){const ia=q.x||0,xa=q.y||0;return ub(P,ia,xa,null!=q.x2?q.x2:ia,null!=q.y2?q.y2:xa)}function ub(q,P,ia,xa,t){const {x1:F,y1:ha,x2:l,y2:y}=q;q=xa-P;t-=ia;xa=0;let ca=1,pa,Va,$a,Hb;for(Hb=0;4>Hb;++Hb){0===Hb&&(pa=-q,Va=-(F-P));1===Hb&&(pa=q,Va=l-P);2===Hb&&(pa=-t,Va=-(ha-ia));3===Hb&&(pa=t,Va=y-ia);if(1E-10>Math.abs(pa)&&0>Va)return!1;$a=Va/pa;if(0>pa){if($a>ca)return!1;$a>xa&&(xa=$a)}else if(0<
pa){if($a<xa)return!1;$a<ca&&(ca=$a)}}return!0}function la(q,P){q.globalCompositeOperation=P.blend||"source-over"}function H(q,P){return null==q?P:q}function ya(q,P){const ia=P.length;for(let xa=0;xa<ia;++xa)q.addColorStop(P[xa].offset,P[xa].color);return q}function Ka(q,P,ia){const xa=ia.width(),t=ia.height();if("radial"===P.gradient)q=q.createRadialGradient(ia.x1+H(P.x1,.5)*xa,ia.y1+H(P.y1,.5)*t,Math.max(xa,t)*H(P.r1,0),ia.x1+H(P.x2,.5)*xa,ia.y1+H(P.y2,.5)*t,Math.max(xa,t)*H(P.r2,.5));else{const F=
H(P.x1,0),ha=H(P.y1,0),l=H(P.x2,1),y=H(P.y2,0);if(F===l||ha===y||xa===t)q=q.createLinearGradient(ia.x1+F*xa,ia.y1+ha*t,ia.x1+l*xa,ia.y1+y*t);else{ia=ra.canvas(Math.ceil(xa),Math.ceil(t));const ca=ia.getContext("2d");ca.scale(xa,t);ca.fillStyle=ya(ca.createLinearGradient(F,ha,l,y),P.stops);ca.fillRect(0,0,xa,t);return q.createPattern(ia,"no-repeat")}}return ya(q,P.stops)}function bb(q,P,ia){ia*=null==P.fillOpacity?1:P.fillOpacity;return 0<ia?(q.globalAlpha=ia,P=(ia=P.fill)&&ia.gradient?Ka(q,ia,P.bounds):
ia,q.fillStyle=P,!0):!1}function jb(q,P,ia){var xa=null!=(xa=P.strokeWidth)?xa:1;if(0>=xa)return!1;ia*=null==P.strokeOpacity?1:P.strokeOpacity;return 0<ia?(q.globalAlpha=ia,ia=(ia=P.stroke)&&ia.gradient?Ka(q,ia,P.bounds):ia,q.strokeStyle=ia,q.lineWidth=xa,q.lineCap=P.strokeCap||"butt",q.lineJoin=P.strokeJoin||"miter",q.miterLimit=P.strokeMiterLimit||10,q.setLineDash&&(q.setLineDash(P.strokeDash||fg),q.lineDashOffset=P.strokeDashOffset||0),!0):!1}function Eb(q,P){return q.zindex-P.zindex||q.index-
P.index}function mc(q){if(!q.zdirty)return q.zitems;var P=q.items,ia=[],xa;var t=0;for(xa=P.length;t<xa;++t){var F=P[t];F.index=t;F.zindex&&ia.push(F)}q.zdirty=!1;return q.zitems=ia.sort(Eb)}function cc(q,P){var ia=q.items,xa;if(ia&&ia.length){var t=mc(q);if(t&&t.length){q=0;for(xa=ia.length;q<xa;++q)ia[q].zindex||P(ia[q]);ia=t}q=0;for(xa=ia.length;q<xa;++q)P(ia[q])}}function gc(q,P){var ia=q.items,xa,t;if(!ia||!ia.length)return null;const F=mc(q);F&&F.length&&(ia=F);for(t=ia.length;0<=--t;)if(xa=
P(ia[t]))return xa;if(ia===F)for(ia=q.items,t=ia.length;0<=--t;)if(!ia[t].zindex&&(xa=P(ia[t])))return xa;return null}function Sc(q){return function(P,ia,xa){cc(ia,t=>{xa&&!xa.intersects(t.bounds)||fd(q,P,t,t)})}}function ed(q){return function(P,ia,xa){!ia.items.length||xa&&!xa.intersects(ia.bounds)||fd(q,P,ia.items[0],ia.items)}}function fd(q,P,ia,xa){var t=null==ia.opacity?1:ia.opacity;0===t||q(P,xa)||(la(P,ia),ia.fill&&bb(P,ia,t)&&P.fill(),ia.stroke&&jb(P,ia,t)&&P.stroke())}function Rd(q){q=q||
g.truthy;return function(P,ia,xa,t,F,ha){xa*=P.pixelRatio;t*=P.pixelRatio;return gc(ia,l=>{const y=l.bounds;if((!y||y.contains(F,ha))&&y&&q(P,l,xa,t,F,ha))return l})}}function Td(q,P){return function(ia,xa,t,F){var ha=Array.isArray(xa)?xa[0]:xa,l=null==P?ha.fill:P,y=ha.stroke&&ia.isPointInStroke;if(y){var ca=ha.strokeWidth;ha=ha.strokeCap;ia.lineWidth=null!=ca?ca:1;ia.lineCap=null!=ha?ha:"butt"}return q(ia,xa)?!1:l&&ia.isPointInPath(t,F)||y&&ia.isPointInStroke(t,F)}}function Cd(q,P){return"translate("+
q+","+P+")"}function be(q,P,ia){function xa(t,F){var ha=F.x||0,l=F.y||0,y=F.angle||0;t.translate(ha,l);y&&t.rotate(y*=Ze);t.beginPath();P(t,F);y&&t.rotate(-y);t.translate(-ha,-l)}return{type:q,tag:"path",nested:!1,attr:function(t,F){var ha=Cd(F.x||0,F.y||0)+(F.angle?" rotate("+(F.angle+")"):"");t("transform",ha);t("d",P(null,F))},bound:function(t,F){P(hc(t,F.angle),F);return Yb(t,F).translate(F.x||0,F.y||0)},draw:Sc(xa),pick:Rd(Td(xa)),isect:ia||Nd(xa)}}function ce(q,P,ia){function xa(F,ha){F.beginPath();
P(F,ha)}const t=Td(xa);return{type:q,tag:"path",nested:!0,attr:function(F,ha){ha=ha.mark.items;ha.length&&F("d",P(null,ha))},bound:function(F,ha){ha=ha.items;if(0===ha.length)return F;P(hc(F),ha);return Yb(F,ha[0])},draw:ed(xa),pick:function(F,ha,l,y,ca,pa){var Va=ha.items;ha=ha.bounds;if(!Va||!Va.length||ha&&!ha.contains(ca,pa))return null;l*=F.pixelRatio;y*=F.pixelRatio;return t(F,Va,l,y)?Va[0]:null},isect:ud,tip:ia}}function Vd(q,P){q.beginPath();zc(P)?Rc(q,P,0,0):q.rect(0,0,P.width||0,P.height||
0);q.clip()}function Te(q){const P=H(q.strokeWidth,1);return null!=q.strokeOffset?q.strokeOffset:q.stroke&&.5<P&&1.5>P?.5-Math.abs(P-1):0}function $d(q,P,ia,xa){const t=Te(P);q.beginPath();Rc(q,P,(ia||0)+t,(xa||0)+t)}function M(q,P){var ia=q.image;if(!ia||q.url&&q.url!==ia.url)ia={complete:!1,width:0,height:0},P.loadImage(q.url).then(xa=>{q.image=xa;q.image.url=q.url});return ia}function Z(q,P){return null!=q.width?q.width:P&&P.width?!1!==q.aspect&&q.height?q.height*P.width/P.height:P.width:0}function La(q,
P){return null!=q.height?q.height:P&&P.height?!1!==q.aspect&&q.width?q.width*P.height/P.width:P.height:0}function gb(q,P){return"center"===q?P/2:"right"===q?P:0}function Jb(q,P){return"middle"===q?P/2:"bottom"===q?P:0}function Tb(q,P){var ia=P.path;if(null==ia)return!0;var xa=P.x||0,t=P.y||0,F=P.scaleX||1,ha=P.scaleY||1,l=(P.angle||0)*Ze,y=P.pathCache;y&&y.path===ia||((P.pathCache=y=W(ia)).path=ia);l&&q.rotate&&q.translate?(q.translate(xa,t),q.rotate(l),K(q,y,0,0,F,ha),q.rotate(-l),q.translate(-xa,
-t)):K(q,y,xa,t,F,ha)}function Bc(q,P){q.beginPath();Rc(q,P)}function ic(q,P,ia){if(P.stroke&&jb(q,P,ia)){ia=P.x||0;var xa=P.y||0;var t=null!=P.x2?P.x2:ia;P=null!=P.y2?P.y2:xa;q.beginPath();q.moveTo(ia,xa);q.lineTo(t,P);return!0}return!1}function Jc(q){jh.width=q&&Df?Oc:dd}function dd(q,P){P=Md(q,P);q=Jd(q);return~~(.8*P.length*q)}function Oc(q,P){return 0>=Jd(q)||!(P=Md(q,P))?0:vd(P,hf(q))}function vd(q,P){const ia=`(${P}) ${q}`;let xa=Wg.get(ia);void 0===xa&&(Df.font=P,xa=Df.measureText(q).width,
Wg.set(ia,xa));return xa}function Jd(q){return null!=q.fontSize?+q.fontSize||0:11}function Fd(q){return null!=q.lineHeight?q.lineHeight:Jd(q)+2}function Zd(q){q=q.lineBreak&&q.text&&!g.isArray(q.text)?q.text.split(q.lineBreak):q.text;return g.isArray(q)?1<q.length?q:q[0]:q}function Md(q,P){P=null==P?"":(P+"").trim();if(0<q.limit&&P.length){var ia=+q.limit,xa=se(q);if(!(xa(P)<ia)){var t=q.ellipsis||"…",F="rtl"===q.dir;q=0;var ha=P.length;ia-=xa(t);if(F){for(;q<ha;)F=q+ha>>>1,xa(P.slice(F))>ia?q=F+
1:ha=F;P=t+P.slice(q)}else{for(;q<ha;)F=1+(q+ha>>>1),xa(P.slice(0,F))<ia?q=F:ha=F-1;P=P.slice(0,q)+t}}}return P}function se(q){if(jh.width===Oc){const ia=hf(q);return xa=>vd(xa,ia)}const P=Jd(q);return ia=>~~(.8*ia.length*P)}function Ae(q,P){q=q.font;return(P&&q?String(q).replace(/"/g,"'"):q)||"sans-serif"}function hf(q,P){return(q.fontStyle?q.fontStyle+" ":"")+(q.fontVariant?q.fontVariant+" ":"")+(q.fontWeight?q.fontWeight+" ":"")+Jd(q)+"px "+Ae(q,P)}function cf(q){var P=q.baseline,ia=Jd(q);return Math.round("top"===
P?.79*ia:"middle"===P?.3*ia:"bottom"===P?-.21*ia:"line-top"===P?.29*ia+.5*Fd(q):"line-bottom"===P?.29*ia-.5*Fd(q):0)}function df(q){var P=q.x||0,ia=q.y||0,xa=q.radius||0;xa&&(q=(q.theta||0)-Hf,P+=xa*Math.cos(q),ia+=xa*Math.sin(q));Ag.x1=P;Ag.y1=ia;return Ag}function re(q,P,ia){var xa=jh.height(P),t=P.align,F=df(P),ha=F.x1;F=F.y1;var l=P.dx||0,y=(P.dy||0)+cf(P)-Math.round(.8*xa),ca=Zd(P);g.isArray(ca)?(xa+=Fd(P)*(ca.length-1),ca=ca.reduce((pa,Va)=>Math.max(pa,jh.width(P,Va)),0)):ca=jh.width(P,ca);
"center"===t?l-=ca/2:"right"===t&&(l-=ca);q.set(l+=ha,y+=F,l+ca,y+xa);if(P.angle&&!ia)q.rotate(P.angle*Ze,ha,F);else if(2===ia)return q.rotatedPoints(P.angle*Ze,ha,F);return q}function nf(q,P,ia){var xa=Mg[q.mark.marktype];P=P||xa.bound;xa.nested&&(q=q.mark);return P(q.bounds||(q.bounds=new Ia),q,ia)}function T(q,P,ia){var xa=Mg[q.marktype],t=xa.bound,F=q.items,ha=F&&F.length;if(xa.nested)return ha?q=F[0]:(ch.mark=q,q=ch),ia=nf(q,t,ia),P=P&&P.union(ia)||ia;P=P||q.bounds&&q.bounds.clear()||new Ia;
if(ha)for(xa=0,ha=F.length;xa<ha;++xa)P.union(nf(F[xa],t,ia));return q.bounds=P}function ta(q,P){return JSON.stringify(q,nh,P)}function eb(q){q="string"===typeof q?JSON.parse(q):q;return zb(q)}function zb(q){var P=q.marktype,ia=q.items,xa;if(ia){var t=0;for(xa=ia.length;t<xa;++t){var F=P?"mark":"group";ia[t][F]=q;ia[t].zindex&&(ia[t][F].zdirty=!0);"group"===(P||F)&&zb(ia[t])}}P&&T(q);return q}function Xb(q){arguments.length?this.root=eb(q):(this.root=Cc({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new kb(this.root)])}function Cc(q,P){P={bounds:new Ia,clip:!!q.clip,group:P,interactive:!1===q.interactive?!1:!0,items:[],marktype:q.marktype,name:q.name||void 0,role:q.role||void 0,zindex:q.zindex||0};null!=q.aria&&(P.aria=q.aria);q.description&&(P.description=q.description);return P}function Ub(q,P,ia){!q&&"undefined"!==typeof document&&document.createElement&&(q=document);return q?ia?q.createElementNS(ia,P):q.createElement(P):null}function I(q,P){P=P.toLowerCase();q=q.childNodes;
for(var ia=0,xa=q.length;ia<xa;++ia)if(q[ia].tagName.toLowerCase()===P)return q[ia]}function ea(q,P,ia,xa){P=q.childNodes[P];if(!P||P.tagName.toLowerCase()!==ia.toLowerCase()){var t=P||null;P=Ub(q.ownerDocument,ia,xa);q.insertBefore(P,t)}return P}function Ta(q,P){for(var ia=q.childNodes,xa=ia.length;xa>P;)q.removeChild(ia[--xa]);return q}function $b(q){return"mark-"+q.marktype+(q.role?" role-"+q.role:"")+(q.name?" "+q.name:"")}function Pc(q,P){const ia=P.getBoundingClientRect();return[q.clientX-ia.left-
(P.clientLeft||0),q.clientY-ia.top-(P.clientTop||0)]}function xc(q,P){this._active=null;this._handlers={};this._loader=q||ib.loader();this._tooltip=P||Tc}function Tc(q,P,ia,xa){q.element().setAttribute("title",xa||"")}function md(q){this._bgcolor=this._el=null;this._loader=new bc(q)}function de(q,P){xc.call(this,q,P);this._touch=this._down=null;this._first=!0;this._events={}}function Sa(q,P){("touchstart"===P||"touchmove"===P||"touchend"===P?["touchstart","touchmove","touchend"]:[P]).forEach(ia=>
fb(q,ia))}function fb(q,P){const ia=q.canvas();ia&&!q._events[P]&&(q._events[P]=1,ia.addEventListener(P,q[P]?xa=>q[P](xa):xa=>q.fire(P,xa)))}function qc(q,P,ia){return function(xa){const t=this._active,F=this.pickEvent(xa);F!==t&&(t&&t.exit||this.fire(ia,xa),this._active=F,this.fire(P,xa));this.fire(q,xa)}}function pd(q){return function(P){this.fire(q,P);this._active=null}}function Kc(q){md.call(this,q);this._options={};this._redraw=!1;this._dirty=new Ia;this._tempb=new Ia}function Xc(q,P){xc.call(this,
q,P);const ia=this;ia._hrefHandler=Oh(ia,(xa,t)=>{t&&t.href&&ia.handleHref(xa,t,t.href)});ia._tooltipHandler=Oh(ia,(xa,t)=>{ia.handleTooltip(xa,t,"mouseout"!==xa.type)})}function Qc(q,P){var ia=!1===P.aria;q("aria-hidden",ia||void 0);if(ia||null==P.description)for(const xa in ci)q(ci[xa],void 0);else ia=P.mark.marktype,q("aria-label",P.description),q("role",P.ariaRole||("group"===ia?"graphics-object":"graphics-symbol")),q("aria-roledescription",P.ariaRoleDescription||`${ia} mark`)}function qd(q){return!1===
q.aria?{["aria-hidden"]:!0}:ph[q.role]?null:Xh[q.role]?Qd(q,Xh[q.role]):jd(q)}function jd(q){const P=q.marktype,ia="group"===P||"text"===P||q.items.some(xa=>null!=xa.description&&!1!==xa.aria);return wh(ia?"graphics-object":"graphics-symbol",`${P} mark container`,q.description)}function Qd(q,P){try{const ia=q.items[0],xa=P.caption||(()=>"");return wh(P.role||"graphics-symbol",P.desc,ia.description||xa(ia))}catch(ia){return null}}function Ad(q){try{return g.array(g.peek(q.items).items[0].text).join(" ")}catch(P){return null}}
function Xd(q){q=q.map(P=>P+("fill"===P||"stroke"===P?" color":""));return 2>q.length?q[0]:q.slice(0,-1).join(", ")+" and "+g.peek(q)}function ye(){let q="",P="",ia="";const xa=[],t=(ha,l)=>{null!=l&&(P+=` ${ha}="${kh(l).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return F},F={open(ha,...l){P&&(q+=`${P}>${ia}`,P=ia="");xa.push(ha);P="\x3c"+ha;for(const y of l)for(const ca in y)t(ca,y[ca]);return F},close(){const ha=xa.pop();q=P?q+(P+
(ia?`>${ia}</${ha}>`:"/\x3e")):q+`</${ha}>`;P=ia="";return F},attr:t,text:ha=>(ia+=kh(ha),F),toString:()=>q};return F}function Oe(q,P){q.open(P.tagName);if(P.hasAttributes()){const ia=P.attributes,xa=ia.length;for(let t=0;t<xa;++t)q.attr(ia[t].name,ia[t].value)}if(P.hasChildNodes()){P=P.childNodes;for(const ia of P)3===ia.nodeType?q.text(ia.nodeValue):Oe(q,ia)}return q.close()}function Ge(q){md.call(this,q);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function tf(q,P){for(;q&&
q.dirty!==P;q=q.mark.group)if(q.dirty=P,q.mark&&q.mark.dirty!==P)q.mark.dirty=P;else break}function ld(q,P,ia){P=P.lastChild.previousSibling;let xa,t=0;cc(ia,F=>{xa=q.mark(P,F,xa);++t});Ta(P,1+t)}function Fc(q,P,ia,xa,t){let F=q._svg;if(!F){var ha=P.ownerDocument;F=Ub(ha,xa,yf);q._svg=F;q.mark&&(F.__data__=q,F.__values__={fill:"default"},"g"===xa&&(xa=Ub(ha,"path",yf),F.appendChild(xa),xa.__data__=q,xa=Ub(ha,"g",yf),F.appendChild(xa),xa.__data__=q,ha=Ub(ha,"path",yf),F.appendChild(ha),ha.__data__=
q,ha.__values__={fill:"default"}))}(F.ownerSVGElement!==t||F.parentNode&&1<F.parentNode.childNodes.length&&F.previousSibling!=ia)&&P.insertBefore(F,ia?ia.nextSibling:P.firstChild);return F}function id(q,P,ia){if(P!==Mf[q]){if(ia){var xa=Bg;null!=P?xa.setAttributeNS(ia,q,P):xa.removeAttributeNS(ia,q)}else ae(Bg,q,P);Mf[q]=P}}function Dc(q,P,ia){ia!==Mf[P]&&(null==ia?q.style.removeProperty(P):q.style.setProperty(P,ia+""),Mf[P]=ia)}function Gd(q,P){for(const ia in P)ae(q,ia,P[ia])}function ae(q,P,ia){null!=
ia?q.setAttribute(P,ia):q.removeAttribute(P)}function Yd(){let q;return"undefined"===typeof window?"":(q=window.location).hash?q.href.slice(0,-q.hash.length):q.href}function le(q){md.call(this,q);this._text=null;this._defs={gradient:{},clipping:{}}}function N(q,P,ia,xa,t){let F;if(null==P)return q;"bgrect"===xa&&!1===ia.interactive&&(q["pointer-events"]="none");if("bgfore"===xa&&(!1===ia.interactive&&(q["pointer-events"]="none"),q.display="none",null!==P.fill))return q;"image"===xa&&!1===P.smooth&&
(F=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===xa&&(q["font-family"]=Ae(P),q["font-size"]=Jd(P)+"px",q["font-style"]=P.fontStyle,q["font-variant"]=P.fontVariant,q["font-weight"]=P.fontWeight);for(const ha in If)ia=P[ha],xa=If[ha],("transparent"!==ia||"fill"!==xa&&"stroke"!==xa)&&null!=ia&&(ia&&ia.gradient&&(ia=Zb(ia,t.gradient,"")),q[xa]=ia);for(const ha in sg)t=P[ha],null!=t&&(F=F||[],F.push(`${sg[ha]}: ${t};`));F&&(q.style=F.join(" "));return q}function da(q,P,ia,
xa){if(q.bounds&&P.intersects(q.bounds)&&("group"===q.marktype||!1!==q.interactive&&(!ia||ia(q)))){const F=q.items;var t=q.marktype;q=F.length;let ha=0;if("group"===t)for(;ha<q;++ha)G(F[ha],P,ia,xa);else for(ia=Mg[t].isect;ha<q;++ha)t=F[ha],ka(t,P,ia)&&xa.push(t)}return xa}function G(q,P,ia,xa){ia&&ia(q.mark)&&ka(q,P,Mg.group.isect)&&xa.push(q);const t=q.items,F=t&&t.length;if(F){const ha=q.x||0;q=q.y||0;P.translate(-ha,-q);for(let l=0;l<F;++l)da(t[l],P,ia,xa);P.translate(ha,q)}return xa}function ka(q,
P,ia){const xa=q.bounds;return P.encloses(xa)||P.intersects(xa)&&ia(q,P)}function sa(q,P,ia){return q===P?!0:"path"===ia?Ha(q,P):q instanceof Date&&P instanceof Date?+q===+P:g.isNumber(q)&&g.isNumber(P)?1E-9>=Math.abs(q-P):q&&P&&(g.isObject(q)||g.isObject(P))?Pa(q,P):q==P}function Ha(q,P){return sa(W(q),W(P))}function Pa(q,P){var ia=Object.keys(q),xa=Object.keys(P),t;if(ia.length!==xa.length)return!1;ia.sort();xa.sort();for(t=ia.length-1;0<=t;t--)if(ia[t]!=xa[t])return!1;for(t=ia.length-1;0<=t;t--)if(xa=
ia[t],!sa(q[xa],P[xa],xa))return!1;return typeof q===typeof P}let dc=0;const lc=Math.abs,rc=Math.atan2,sc=Math.cos,Ic=Math.max,$c=Math.min,Uc=Math.sin,bd=Math.sqrt,yd=Math.PI,Dd=yd/2,Od=2*yd,He=Math.PI,td=2*He,ze=td-1E-6;class Ce{constructor(q){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==q?Ab:ec(q)}moveTo(q,P){this._append`M${this._x0=this._x1=+q},${this._y0=this._y1=+P}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(q,P){this._append`L${this._x1=
+q},${this._y1=+P}`}quadraticCurveTo(q,P,ia,xa){this._append`Q${+q},${+P},${this._x1=+ia},${this._y1=+xa}`}bezierCurveTo(q,P,ia,xa,t,F){this._append`C${+q},${+P},${+ia},${+xa},${this._x1=+t},${this._y1=+F}`}arcTo(q,P,ia,xa,t){q=+q;P=+P;ia=+ia;xa=+xa;t=+t;if(0>t)throw Error(`negative radius: ${t}`);var F=this._x1,ha=this._y1;let l=ia-q,y=xa-P,ca=F-q,pa=ha-P;var Va=ca*ca+pa*pa;if(null===this._x1)this._append`M${this._x1=q},${this._y1=P}`;else if(1E-6<Va)if(1E-6<Math.abs(pa*l-y*ca)&&t){ia-=F;xa-=ha;
let $a=l*l+y*y;ha=Math.sqrt($a);F=Math.sqrt(Va);Va=t*Math.tan((He-Math.acos(($a+Va-(ia*ia+xa*xa))/(2*ha*F)))/2);F=Va/F;Va/=ha;1E-6<Math.abs(F-1)&&this._append`L${q+F*ca},${P+F*pa}`;this._append`A${t},${t},0,0,${+(pa*ia>ca*xa)},${this._x1=q+Va*l},${this._y1=P+Va*y}`}else this._append`L${this._x1=q},${this._y1=P}`}arc(q,P,ia,xa,t,F){q=+q;P=+P;ia=+ia;F=!!F;if(0>ia)throw Error(`negative radius: ${ia}`);let ha=ia*Math.cos(xa),l=ia*Math.sin(xa),y=q+ha,ca=P+l,pa=1^F;xa=F?xa-t:t-xa;null===this._x1?this._append`M${y},${ca}`:
(1E-6<Math.abs(this._x1-y)||1E-6<Math.abs(this._y1-ca))&&this._append`L${y},${ca}`;ia&&(0>xa&&(xa=xa%td+td),xa>ze?this._append`A${ia},${ia},0,1,${pa},${q-ha},${P-l}A${ia},${ia},0,1,${pa},${this._x1=y},${this._y1=ca}`:1E-6<xa&&this._append`A${ia},${ia},0,${+(xa>=He)},${pa},${this._x1=q+ia*Math.cos(t)},${this._y1=P+ia*Math.sin(t)}`)}rect(q,P,ia,xa){this._append`M${this._x0=this._x1=+q},${this._y0=this._y1=+P}h${ia=+ia}v${+xa}h${-ia}Z`}toString(){return this._}}pc.prototype=Ce.prototype;Oa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,P){q=+q;P=+P;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,P):this._context.moveTo(q,P);break;case 1:this._point=2;default:this._context.lineTo(q,P)}}};var Hd={draw(q,P){P=bd(P/yd);q.moveTo(P,0);q.arc(0,0,P,0,Od)}};Mb.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:pb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,P){q=+q;P=+P;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,P):this._context.moveTo(q,P);break;case 1:this._point=2;break;case 2:this._point=
3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pb(this,q,P)}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=P}};Vb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+
2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(q,P){q=+q;P=+P;switch(this._point){case 0:this._point=1;this._x2=q;this._y2=P;break;case 1:this._point=2;this._x3=q;this._y3=P;break;case 2:this._point=3;this._x4=q;this._y4=P;this._context.moveTo((this._x0+4*this._x1+q)/6,(this._y0+4*this._y1+P)/6);break;default:pb(this,
q,P)}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=P}};ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,P){q=+q;P=+P;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ia=(this._x0+4*this._x1+q)/6,xa=
(this._y0+4*this._y1+P)/6;this._line?this._context.lineTo(ia,xa):this._context.moveTo(ia,xa);break;case 3:this._point=4;default:pb(this,q,P)}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=P}};ma.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var q=this._x,P=this._y,ia=q.length-1;if(0<ia)for(var xa=q[0],t=P[0],F=q[ia]-xa,ha=P[ia]-t,l=-1,y;++l<=ia;)y=l/ia,this._basis.point(this._beta*q[l]+(1-this._beta)*(xa+y*F),this._beta*P[l]+(1-this._beta)*
(t+y*ha));this._x=this._y=null;this._basis.lineEnd()},point:function(q,P){this._x.push(+q);this._y.push(+P)}};var he=function ia(P){function xa(t){return 1===P?new Mb(t):new ma(t,P)}xa.beta=function(t){return ia(+t)};return xa}(.85);Ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;
case 3:Y(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(P,ia){P=+P;ia=+ia;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(P,ia):this._context.moveTo(P,ia);break;case 1:this._point=2;this._x1=P;this._y1=ia;break;case 2:this._point=3;default:Y(this,P,ia)}this._x0=this._x1;this._x1=this._x2;this._x2=P;this._y0=this._y1;this._y1=this._y2;this._y2=ia}};var De=function xa(ia){function t(F){return new Ga(F,
ia)}t.tension=function(F){return xa(+F)};return t}(0);Ea.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(ia,xa){ia=+ia;xa=+xa;switch(this._point){case 0:this._point=1;this._x3=ia;this._y3=xa;break;case 1:this._point=2;this._context.moveTo(this._x4=ia,this._y4=xa);break;case 2:this._point=3;this._x5=ia;this._y5=xa;break;default:Y(this,ia,xa)}this._x0=this._x1;this._x1=this._x2;this._x2=ia;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var mf=function t(xa){function F(ha){return new Ea(ha,xa)}F.tension=function(ha){return t(+ha)};return F}(0);db.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,t){xa=+xa;t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Y(this,xa,t)}this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=t}};var bf=function F(t){function ha(l){return new db(l,t)}ha.tension=function(l){return F(+l)};return ha}(0);na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(t,F){t=+t;F=+F;if(this._point){var ha=this._x2-t,l=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ha*ha+l*l,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,F):this._context.moveTo(t,F);break;case 1:this._point=
2;break;case 2:this._point=3;default:ba(this,t,F)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=t;this._y0=this._y1;this._y1=this._y2;this._y2=F}};var ue=function ha(F){function l(y){return F?new na(y,F):new Ga(y,0)}l.alpha=function(y){return ha(+y)};return l}(.5);p.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(F,ha){F=+F;ha=+ha;if(this._point){var l=this._x2-F,y=this._y2-ha;this._l23_a=
Math.sqrt(this._l23_2a=Math.pow(l*l+y*y,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=F;this._y3=ha;break;case 1:this._point=2;this._context.moveTo(this._x4=F,this._y4=ha);break;case 2:this._point=3;this._x5=F;this._y5=ha;break;default:ba(this,F,ha)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=F;this._y0=this._y1;this._y1=this._y2;this._y2=ha}};var ve=function l(ha){function y(ca){return ha?
new p(ca,ha):new Ea(ca,0)}y.alpha=function(ca){return l(+ca)};return y}(.5);L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ha,l){ha=+ha;l=+l;if(this._point){var y=this._x2-
ha,ca=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(y*y+ca*ca,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ba(this,ha,l)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=ha;this._y0=this._y1;this._y1=this._y2;
this._y2=l}};var uf=function y(l){function ca(pa){return l?new L(pa,l):new db(pa,0)}ca.alpha=function(pa){return y(+pa)};return ca}(.5);O.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(l,y){l=+l;y=+y;this._point?this._context.lineTo(l,y):(this._point=1,this._context.moveTo(l,y))}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=
this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m(this,this._t0,v(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(l,y){var ca=NaN;l=+l;y=+y;if(l!==this._x1||y!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(l,y):this._context.moveTo(l,y);break;case 1:this._point=2;break;case 2:this._point=
3;m(this,v(this,ca=f(this,l,y)),ca);break;default:m(this,this._t0,ca=f(this,l,y))}this._x0=this._x1;this._x1=l;this._y0=this._y1;this._y1=y;this._t0=ca}}};(B.prototype=Object.create(C.prototype)).point=function(l,y){C.prototype.point.call(this,y,l)};z.prototype={moveTo:function(l,y){this._context.moveTo(y,l)},closePath:function(){this._context.closePath()},lineTo:function(l,y){this._context.lineTo(y,l)},bezierCurveTo:function(l,y,ca,pa,Va,$a){this._context.bezierCurveTo(y,l,pa,ca,$a,Va)}};E.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var l=this._x,y=this._y,ca=l.length;if(ca)if(this._line?this._context.lineTo(l[0],y[0]):this._context.moveTo(l[0],y[0]),2===ca)this._context.lineTo(l[1],y[1]);else for(var pa=D(l),Va=D(y),$a=0,Hb=1;Hb<ca;++$a,++Hb)this._context.bezierCurveTo(pa[0][$a],Va[0][$a],pa[1][$a],Va[1][$a],l[Hb],y[Hb]);(this._line||0!==this._line&&1===ca)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(l,y){this._x.push(+l);this._y.push(+y)}};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(l,y){l=+l;y=+y;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(l,y):this._context.moveTo(l,y);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,y),this._context.lineTo(l,y);else{var ca=this._x*(1-this._t)+l*this._t;this._context.lineTo(ca,this._y);this._context.lineTo(ca,y)}}this._x=l;this._y=y}};const Kf={basis:{curve:function(l){return new Mb(l)}},"basis-closed":{curve:function(l){return new Vb(l)}},"basis-open":{curve:function(l){return new ob(l)}},bundle:{curve:he,tension:"beta",value:.85},cardinal:{curve:De,
tension:"tension",value:0},"cardinal-open":{curve:bf,tension:"tension",value:0},"cardinal-closed":{curve:mf,tension:"tension",value:0},"catmull-rom":{curve:ue,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ve,tension:"alpha",value:.5},"catmull-rom-open":{curve:uf,tension:"alpha",value:.5},linear:{curve:Ca},"linear-closed":{curve:function(l){return new O(l)}},monotone:{horizontal:function(l){return new B(l)},vertical:function(l){return new C(l)}},natural:{curve:function(l){return new E(l)}},
step:{curve:function(l){return new V(l,.5)}},"step-after":{curve:function(l){return new V(l,1)}},"step-before":{curve:function(l){return new V(l,0)}}},ff={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},lg=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Wd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,jf=/^((\s+,?\s*)|(,\s*))/,lf=/^[01]/,Ze=Math.PI/180,Hf=Math.PI/2,Bf=2*Math.PI,Cf=Math.sqrt(3)/2;var Jf={},wg={},eg=[].join;const xf=["l",0,0,0,0,0,0,0],Of={circle:{draw:function(l,y){y=Math.sqrt(y)/2;
l.moveTo(y,0);l.arc(0,0,y,0,Bf)}},cross:{draw:function(l,y){y=Math.sqrt(y)/2;var ca=y/2.5;l.moveTo(-y,-ca);l.lineTo(-y,ca);l.lineTo(-ca,ca);l.lineTo(-ca,y);l.lineTo(ca,y);l.lineTo(ca,ca);l.lineTo(y,ca);l.lineTo(y,-ca);l.lineTo(ca,-ca);l.lineTo(ca,-y);l.lineTo(-ca,-y);l.lineTo(-ca,-ca);l.closePath()}},diamond:{draw:function(l,y){y=Math.sqrt(y)/2;l.moveTo(-y,0);l.lineTo(0,-y);l.lineTo(y,0);l.lineTo(0,y);l.closePath()}},square:{draw:function(l,y){y=Math.sqrt(y);var ca=-y/2;l.rect(ca,ca,y,y)}},arrow:{draw:function(l,
y){y=Math.sqrt(y)/2;var ca=y/7,pa=y/2.5,Va=y/8;l.moveTo(-ca,y);l.lineTo(ca,y);l.lineTo(ca,-Va);l.lineTo(pa,-Va);l.lineTo(0,-y);l.lineTo(-pa,-Va);l.lineTo(-ca,-Va);l.closePath()}},wedge:{draw:function(l,y){var ca=Math.sqrt(y)/2;y=Cf*ca;var pa=y-.5773502691896257*ca;ca/=4;l.moveTo(0,-y-pa);l.lineTo(-ca,y-pa);l.lineTo(ca,y-pa);l.closePath()}},triangle:{draw:function(l,y){y=Math.sqrt(y)/2;var ca=Cf*y,pa=ca-.5773502691896257*y;l.moveTo(0,-ca-pa);l.lineTo(-y,ca-pa);l.lineTo(y,ca-pa);l.closePath()}},"triangle-up":{draw:function(l,
y){y=Math.sqrt(y)/2;var ca=Cf*y;l.moveTo(0,-ca);l.lineTo(-y,ca);l.lineTo(y,ca);l.closePath()}},"triangle-down":{draw:function(l,y){y=Math.sqrt(y)/2;var ca=Cf*y;l.moveTo(0,ca);l.lineTo(-y,-ca);l.lineTo(y,-ca);l.closePath()}},"triangle-right":{draw:function(l,y){y=Math.sqrt(y)/2;var ca=Cf*y;l.moveTo(ca,0);l.lineTo(-ca,-y);l.lineTo(-ca,y);l.closePath()}},"triangle-left":{draw:function(l,y){y=Math.sqrt(y)/2;var ca=Cf*y;l.moveTo(-ca,0);l.lineTo(ca,-y);l.lineTo(ca,y);l.closePath()}},stroke:{draw:function(l,
y){y=Math.sqrt(y)/2;l.moveTo(-y,0);l.lineTo(y,0)}}};var bg={};const Lg=l=>l.x||0,Qg=l=>l.y||0,xg=l=>!1!==l.defined,ah=function(){function l(){var Zc,Id=+y.apply(this,arguments),te=+ca.apply(this,arguments),Re=$a.apply(this,arguments)-Dd,pe=Hb.apply(this,arguments)-Dd,xe=lc(pe-Re),wf=pe>Re;Sb||(Sb=Zc=Bd());if(te<Id){var Ig=te;te=Id;Id=Ig}if(1E-12<te)if(xe>Od-1E-12)Sb.moveTo(te*sc(Re),te*Uc(Re)),Sb.arc(0,0,te,Re,pe,!wf),1E-12<Id&&(Sb.moveTo(Id*sc(pe),Id*Uc(pe)),Sb.arc(0,0,Id,pe,Re,wf));else{var af=
Re,$e=pe;Ig=Re;var Sf=pe,Og=xe,ig=xe,Nf=fc.apply(this,arguments)/2,kf=1E-12<Nf&&(Va?+Va.apply(this,arguments):bd(Id*Id+te*te)),vf=$c(lc(te-Id)/2,+pa.apply(this,arguments)),Qf=vf,Pf=vf;if(1E-12<kf){var Yg=Ac(kf/Id*Uc(Nf));Nf=Ac(kf/te*Uc(Nf));1E-12<(Og-=2*Yg)?(Yg*=wf?1:-1,Ig+=Yg,Sf-=Yg):(Og=0,Ig=Sf=(Re+pe)/2);1E-12<(ig-=2*Nf)?(Nf*=wf?1:-1,af+=Nf,$e-=Nf):(ig=0,af=$e=(Re+pe)/2)}Re=te*sc(af);pe=te*Uc(af);Yg=Id*sc(Sf);Nf=Id*Uc(Sf);if(1E-12<vf){var cg=te*sc($e),Kh=te*Uc($e),kg=Id*sc(Ig),ih=Id*Uc(Ig);if(xe<
yd){Qf=kg-Re;Pf=ih-pe;xe=Yg-cg;kf=Nf-Kh;var ug=kf*Qf-xe*Pf;1E-12>ug*ug?Qf=void 0:(ug=(xe*(pe-Kh)-kf*(Re-cg))/ug,Qf=[Re+ug*Qf,pe+ug*Pf]);Qf?(Pf=Re-Qf[0],xe=pe-Qf[1],kf=cg-Qf[0],ug=Kh-Qf[1],Pf=(Pf*kf+xe*ug)/(bd(Pf*Pf+xe*xe)*bd(kf*kf+ug*ug)),Pf=1/Uc((1<Pf?0:-1>Pf?yd:Math.acos(Pf))/2),xe=bd(Qf[0]*Qf[0]+Qf[1]*Qf[1]),Qf=$c(vf,(Id-xe)/(Pf-1)),Pf=$c(vf,(te-xe)/(Pf+1))):Qf=Pf=0}}1E-12<ig?1E-12<Pf?(af=Xa(kg,ih,Re,pe,te,Pf,wf),$e=Xa(cg,Kh,Yg,Nf,te,Pf,wf),Sb.moveTo(af.cx+af.x01,af.cy+af.y01),Pf<vf?Sb.arc(af.cx,
af.cy,Pf,rc(af.y01,af.x01),rc($e.y01,$e.x01),!wf):(Sb.arc(af.cx,af.cy,Pf,rc(af.y01,af.x01),rc(af.y11,af.x11),!wf),Sb.arc(0,0,te,rc(af.cy+af.y11,af.cx+af.x11),rc($e.cy+$e.y11,$e.cx+$e.x11),!wf),Sb.arc($e.cx,$e.cy,Pf,rc($e.y11,$e.x11),rc($e.y01,$e.x01),!wf))):(Sb.moveTo(Re,pe),Sb.arc(0,0,te,af,$e,!wf)):Sb.moveTo(Re,pe);1E-12<Id&&1E-12<Og?1E-12<Qf?(af=Xa(Yg,Nf,cg,Kh,Id,-Qf,wf),$e=Xa(Re,pe,kg,ih,Id,-Qf,wf),Sb.lineTo(af.cx+af.x01,af.cy+af.y01),Qf<vf?Sb.arc(af.cx,af.cy,Qf,rc(af.y01,af.x01),rc($e.y01,$e.x01),
!wf):(Sb.arc(af.cx,af.cy,Qf,rc(af.y01,af.x01),rc(af.y11,af.x11),!wf),Sb.arc(0,0,Id,rc(af.cy+af.y11,af.cx+af.x11),rc($e.cy+$e.y11,$e.cx+$e.x11),wf),Sb.arc($e.cx,$e.cy,Qf,rc($e.y11,$e.x11),rc($e.y01,$e.x01),!wf))):Sb.arc(0,0,Id,Sf,Ig,wf):Sb.lineTo(Yg,Nf)}else Sb.moveTo(0,0);Sb.closePath();if(Zc)return Sb=null,Zc+""||null}var y=rb,ca=Ib,pa=kc(0),Va=null,$a=Nb,Hb=Bb,fc=Ob,Sb=null,Bd=Ya(l);l.centroid=function(){var Zc=(+y.apply(this,arguments)+ +ca.apply(this,arguments))/2,Id=(+$a.apply(this,arguments)+
+Hb.apply(this,arguments))/2-yd/2;return[sc(Id)*Zc,Uc(Id)*Zc]};l.innerRadius=function(Zc){return arguments.length?(y="function"===typeof Zc?Zc:kc(+Zc),l):y};l.outerRadius=function(Zc){return arguments.length?(ca="function"===typeof Zc?Zc:kc(+Zc),l):ca};l.cornerRadius=function(Zc){return arguments.length?(pa="function"===typeof Zc?Zc:kc(+Zc),l):pa};l.padRadius=function(Zc){return arguments.length?(Va=null==Zc?null:"function"===typeof Zc?Zc:kc(+Zc),l):Va};l.startAngle=function(Zc){return arguments.length?
($a="function"===typeof Zc?Zc:kc(+Zc),l):$a};l.endAngle=function(Zc){return arguments.length?(Hb="function"===typeof Zc?Zc:kc(+Zc),l):Hb};l.padAngle=function(Zc){return arguments.length?(fc="function"===typeof Zc?Zc:kc(+Zc),l):fc};l.context=function(Zc){return arguments.length?(Sb=null==Zc?null:Zc,l):Sb};return l}().startAngle(l=>l.startAngle||0).endAngle(l=>l.endAngle||0).padAngle(l=>l.padAngle||0).innerRadius(l=>l.innerRadius||0).outerRadius(l=>l.outerRadius||0).cornerRadius(l=>l.cornerRadius||
0),qa=Na().x(Lg).y1(Qg).y0(l=>(l.y||0)+(l.height||0)).defined(xg),cb=Na().y(Qg).x1(Lg).x0(l=>(l.x||0)+(l.width||0)).defined(xg),Pb=mb().x(Lg).y(Qg).defined(xg),hd=wc().x(Lg).y(Qg).width(l=>l.width||0).height(l=>l.height||0).cornerRadius(l=>Ec(l.cornerRadiusTopLeft,l.cornerRadius)||0,l=>Ec(l.cornerRadiusTopRight,l.cornerRadius)||0,l=>Ec(l.cornerRadiusBottomRight,l.cornerRadius)||0,l=>Ec(l.cornerRadiusBottomLeft,l.cornerRadius)||0),nd=function(l,y){function ca(){let $a;pa||(pa=$a=Va());l.apply(this,
arguments).draw(pa,+y.apply(this,arguments));if($a)return pa=null,$a+""||null}let pa=null,Va=Ya(ca);l="function"===typeof l?l:kc(l||Hd);y="function"===typeof y?y:kc(void 0===y?64:+y);ca.type=function($a){return arguments.length?(l="function"===typeof $a?$a:kc($a),ca):l};ca.size=function($a){return arguments.length?(y="function"===typeof $a?$a:kc(+$a),ca):y};ca.context=function($a){return arguments.length?(pa=null==$a?null:$a,ca):pa};return ca}().type(l=>Ja(l.shape||"circle")).size(l=>Ec(l.size,64)),
oe=vc().x(Lg).y(Qg).defined(xg).size(l=>l.size||1);var Pe=1;Ia.prototype={clone(){return new Ia(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(l){return this.x1===l.x1&&this.y1===l.y1&&this.x2===l.x2&&this.y2===l.y2},set(l,y,ca,pa){ca<l?(this.x2=l,this.x1=ca):(this.x1=l,this.x2=
ca);pa<y?(this.y2=y,this.y1=pa):(this.y1=y,this.y2=pa);return this},add(l,y){l<this.x1&&(this.x1=l);y<this.y1&&(this.y1=y);l>this.x2&&(this.x2=l);y>this.y2&&(this.y2=y);return this},expand(l){this.x1-=l;this.y1-=l;this.x2+=l;this.y2+=l;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(l){this.x1*=l;this.y1*=l;this.x2*=l;this.y2*=l;return this},translate(l,y){this.x1+=l;this.x2+=l;this.y1+=y;this.y2+=
y;return this},rotate(l,y,ca){l=this.rotatedPoints(l,y,ca);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints(l,y,ca){var {x1:pa,y1:Va,x2:$a,y2:Hb}=this,fc=Math.cos(l);l=Math.sin(l);var Sb=y-y*fc+ca*l;y=ca-y*l-ca*fc;return[fc*pa-l*Va+Sb,l*pa+fc*Va+y,fc*pa-l*Hb+Sb,l*pa+fc*Hb+y,fc*$a-l*Va+Sb,l*$a+fc*Va+y,fc*$a-l*Hb+Sb,l*$a+fc*Hb+y]},union(l){l.x1<this.x1&&(this.x1=l.x1);l.y1<this.y1&&(this.y1=l.y1);l.x2>this.x2&&(this.x2=l.x2);l.y2>this.y2&&(this.y2=l.y2);
return this},intersect(l){l.x1>this.x1&&(this.x1=l.x1);l.y1>this.y1&&(this.y1=l.y1);l.x2<this.x2&&(this.x2=l.x2);l.y2<this.y2&&(this.y2=l.y2);return this},encloses(l){return l&&this.x1<=l.x1&&this.x2>=l.x2&&this.y1<=l.y1&&this.y2>=l.y2},alignsWith(l){return l&&(this.x1==l.x1||this.x2==l.x2||this.y1==l.y1||this.y2==l.y2)},intersects(l){return l&&!(this.x2<l.x1||this.x1>l.x2||this.y2<l.y1||this.y1>l.y2)},contains(l,y){return!(l<this.x1||l>this.x2||y<this.y1||y>this.y2)},width(){return this.x2-this.x1},
height(){return this.y2-this.y1}};g.inherits(kb,Wb);bc.prototype={pending(){return this._pending},sanitizeURL(l){const y=this;y._pending+=1;return y._loader.sanitize(l,{context:"href"}).then(ca=>{--y._pending;return ca}).catch(()=>{--y._pending;return null})},loadImage(l){const y=this,ca=ra.image();y._pending+=1;return y._loader.sanitize(l,{context:"image"}).then(pa=>{const Va=pa.href;if(!Va||!ca)throw{url:Va};const $a=new ca;pa=g.hasOwnProperty(pa,"crossOrigin")?pa.crossOrigin:"anonymous";null!=
pa&&($a.crossOrigin=pa);$a.onload=()=>{--y._pending};$a.onerror=()=>{--y._pending};$a.src=Va;return $a}).catch(pa=>{--y._pending;return{complete:!1,width:0,height:0,src:pa&&pa.url||""}})},ready(){const l=this;return new Promise(y=>{function ca(pa){l.pending()?setTimeout(()=>{ca(!0)},10):y(pa)}ca(!1)})}};const of=Bf-1E-8;let Ef,Qe,Zf,Rf,$f,mg,qg,Gg;const bh=(l,y)=>{l=Qe=l;y=Zf=y;return Ef.add(l,y)},hh=l=>Ef.add(l,Ef.y1),Ee=l=>Ef.add(Ef.x1,l),Ie=(l,y)=>Ef.add($f*l+qg*y,mg*l+Gg*y),Lf=(l,y)=>bh($f*l+
qg*y,mg*l+Gg*y),gf={beginPath(){},closePath(){},moveTo:Lf,lineTo:Lf,rect(l,y,ca,pa){Rf?(Ie(l+ca,y),Ie(l+ca,y+pa),Ie(l,y+pa),Lf(l,y)):(Ef.add(l+ca,y+pa),bh(l,y))},quadraticCurveTo(l,y,ca,pa){const Va=mg*l+Gg*y,$a=$f*ca+qg*pa;ca=mg*ca+Gg*pa;yc(Qe,$f*l+qg*y,$a,hh);yc(Zf,Va,ca,Ee);bh($a,ca)},bezierCurveTo(l,y,ca,pa,Va,$a){const Hb=mg*l+Gg*y,fc=mg*ca+Gg*pa,Sb=$f*Va+qg*$a;Va=mg*Va+Gg*$a;Gc(Qe,$f*l+qg*y,$f*ca+qg*pa,Sb,hh);Gc(Zf,Hb,fc,Va,Ee);bh(Sb,Va)},arc(l,y,ca,pa,Va,$a){pa+=Rf;Va+=Rf;Qe=ca*Math.cos(Va)+
l;Zf=ca*Math.sin(Va)+y;if(Math.abs(Va-pa)>of)Ef.add(l-ca,y-ca),Ef.add(l+ca,y+ca);else{const Hb=Sb=>Ef.add(ca*Math.cos(Sb)+l,ca*Math.sin(Sb)+y);let fc;Hb(pa);Hb(Va);if(Va!==pa)if(pa%=Bf,0>pa&&(pa+=Bf),Va%=Bf,0>Va&&(Va+=Bf),Va<pa&&($a=!$a,fc=pa,pa=Va,Va=fc),$a)for(Va-=Bf,fc=pa-pa%Hf,pa=0;4>pa&&fc>Va;++pa,fc-=Hf)Hb(fc);else for(fc=pa-pa%Hf+Hf,pa=0;4>pa&&fc<Va;++pa,fc+=Hf)Hb(fc)}}};var Df=(Df=ra.canvas(1,1))?Df.getContext("2d"):null;const zf=new Ia;var fg=[],rg=be("arc",function(l,y){return ah.context(l)(y)}),
gg=ce("area",function(l,y){const ca=y[0];return("horizontal"===ca.orient?cb:qa).curve(Aa(ca.interpolate||"linear",ca.orient,ca.tension)).context(l)(y)},function(l,y){y="horizontal"===l[0].orient?y[1]:y[0];for(var ca="horizontal"===l[0].orient?"y":"x",pa=l.length,Va=Infinity,$a,Hb;0<=--pa;)!1!==l[pa].defined&&(Hb=Math.abs(l[pa][ca]-y),Hb<Va&&(Va=Hb,$a=l[pa]));return $a});const Ff=Td($d),Hg=Td($d,!1),dh=Td($d,!0);var vh={type:"group",tag:"g",nested:!1,attr:function(l,y){l("transform",Cd(y.x||0,y.y||
0))},bound:function(l,y){if(!y.clip&&y.items){const ca=y.items,pa=ca.length;for(let Va=0;Va<pa;++Va)l.union(ca[Va].bounds)}(y.clip||y.width||y.height)&&!y.noBound&&l.add(0,0).add(y.width||0,y.height||0);Yb(l,y);return l.translate(y.x||0,y.y||0)},draw:function(l,y,ca){cc(y,pa=>{const Va=pa.x||0,$a=pa.y||0,Hb=pa.strokeForeground,fc=null==pa.opacity?1:pa.opacity;(pa.stroke||pa.fill)&&fc&&($d(l,pa,Va,$a),la(l,pa),pa.fill&&bb(l,pa,fc)&&l.fill(),pa.stroke&&!Hb&&jb(l,pa,fc)&&l.stroke());l.save();l.translate(Va,
$a);pa.clip&&Vd(l,pa);ca&&ca.translate(-Va,-$a);cc(pa,Sb=>{this.draw(l,Sb,ca)});ca&&ca.translate(Va,$a);l.restore();Hb&&pa.stroke&&fc&&($d(l,pa,Va,$a),la(l,pa),jb(l,pa,fc)&&l.stroke())})},pick:function(l,y,ca,pa,Va,$a){if(y.bounds&&!y.bounds.contains(Va,$a)||!y.items)return null;const Hb=ca*l.pixelRatio,fc=pa*l.pixelRatio;return gc(y,Sb=>{let Bd,Zc;var Id=Sb.bounds;if(!Id||Id.contains(Va,$a)){Bd=Sb.x||0;Zc=Sb.y||0;Id=Bd+(Sb.width||0);var te=Zc+(Sb.height||0),Re=Sb.clip;if(!Re||!(Va<Bd||Va>Id||$a<
Zc||$a>te)){l.save();l.translate(Bd,Zc);Bd=Va-Bd;Zc=$a-Zc;if(Re&&zc(Sb)&&!dh(l,Sb,Hb,fc))return l.restore(),null;te=Sb.strokeForeground;if((Re=!1!==y.interactive)&&te&&Sb.stroke&&Hg(l,Sb,Hb,fc))return l.restore(),Sb;Id=gc(Sb,pe=>(!1!==pe.interactive||"group"===pe.marktype)&&pe.bounds&&pe.bounds.contains(Bd,Zc)?this.pick(pe,ca,pa,Bd,Zc):null);!Id&&Re&&(Sb.fill||!te&&Sb.stroke)&&Ff(l,Sb,Hb,fc)&&(Id=Sb);l.restore();return Id||null}}})},isect:Fa,content:function(l,y,ca){y=y.clip?Sd(ca,y,y):null;l("clip-path",
y)},background:function(l,y){l("class","background");l("aria-hidden",!0);const ca=Te(y);l("d",Rc(null,y,ca,ca))},foreground:function(l,y){l("class","foreground");l("aria-hidden",!0);if(y.strokeForeground){const ca=Te(y);l("d",Rc(null,y,ca,ca))}else l("d","")}},ag={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Vh={type:"image",tag:"image",nested:!1,attr:function(l,y,ca){var pa=M(y,ca);ca=Z(y,pa);const Va=La(y,pa),$a=(y.x||0)-gb(y.align,ca),Hb=(y.y||
0)-Jb(y.baseline,Va);pa=!pa.src&&pa.toDataURL?pa.toDataURL():pa.src||"";l("href",pa,ag["xmlns:xlink"],"xlink:href");l("transform",Cd($a,Hb));l("width",ca);l("height",Va);l("preserveAspectRatio",!1===y.aspect?"none":"xMidYMid")},bound:function(l,y){var ca=y.image;const pa=Z(y,ca);ca=La(y,ca);const Va=(y.x||0)-gb(y.align,pa);y=(y.y||0)-Jb(y.baseline,ca);return l.set(Va,y,Va+pa,y+ca)},draw:function(l,y,ca){cc(y,pa=>{if(!ca||ca.intersects(pa.bounds)){var Va=M(pa,this),$a=Z(pa,Va),Hb=La(pa,Va);if(0!==
$a&&0!==Hb){var fc=(pa.x||0)-gb(pa.align,$a),Sb=(pa.y||0)-Jb(pa.baseline,Hb),Bd;if(!1!==pa.aspect){var Zc=Va.width/Va.height;var Id=pa.width/pa.height;Zc===Zc&&Id===Id&&Zc!==Id&&(Id<Zc?(Zc=$a/Zc,Sb+=(Hb-Zc)/2,Hb=Zc):(Zc*=Hb,fc+=($a-Zc)/2,$a=Zc))}if(Va.complete||Va.toDataURL)la(l,pa),l.globalAlpha=null!=(Bd=pa.opacity)?Bd:1,l.imageSmoothingEnabled=!1!==pa.smooth,l.drawImage(Va,fc,Sb,$a,Hb)}}})},pick:Rd(),isect:g.truthy,get:M,xOffset:gb,yOffset:Jb},Bh=ce("line",function(l,y){const ca=y[0];return Pb.curve(Aa(ca.interpolate||
"linear",ca.orient,ca.tension)).context(l)(y)},function(l,y){for(var ca=Math.pow(l[0].strokeWidth||1,2),pa=l.length,Va,$a;0<=--pa;)if(!1!==l[pa].defined&&(Va=l[pa].x-y[0],$a=l[pa].y-y[1],Va=Va*Va+$a*$a,Va<ca))return l[pa];return null}),Ch={type:"path",tag:"path",nested:!1,attr:function(l,y){var ca=y.scaleY||1;1===(y.scaleX||1)&&1===ca||l("vector-effect","non-scaling-stroke");ca=Cd(y.x||0,y.y||0)+(y.angle?" rotate("+(y.angle+")"):"")+(y.scaleX||y.scaleY?" scale("+((y.scaleX||1)+","+(y.scaleY||1)+")"):
"");l("transform",ca);l("d",y.path)},bound:function(l,y){return Tb(hc(l,y.angle),y)?l.set(0,0,0,0):Yb(l,y,!0)},draw:Sc(Tb),pick:Rd(Td(Tb)),isect:Nd(Tb)},Vg={type:"rect",tag:"path",nested:!1,attr:function(l,y){l("d",Rc(null,y))},bound:function(l,y){var ca,pa;return Yb(l.set(ca=y.x||0,pa=y.y||0,ca+y.width||0,pa+y.height||0),y)},draw:Sc(Bc),pick:Rd(Td(Bc)),isect:Fa},Dh={type:"rule",tag:"line",nested:!1,attr:function(l,y){l("transform",Cd(y.x||0,y.y||0));l("x2",null!=y.x2?y.x2-(y.x||0):0);l("y2",null!=
y.y2?y.y2-(y.y||0):0)},bound:function(l,y){var ca,pa;return Yb(l.set(ca=y.x||0,pa=y.y||0,null!=y.x2?y.x2:ca,null!=y.y2?y.y2:pa),y)},draw:function(l,y,ca){cc(y,pa=>{if(!ca||ca.intersects(pa.bounds)){var Va=null==pa.opacity?1:pa.opacity;Va&&ic(l,pa,Va)&&(la(l,pa),l.stroke())}})},pick:Rd(function(l,y,ca,pa){return l.isPointInStroke?ic(l,y,1)&&l.isPointInStroke(ca,pa):!1}),isect:hb},Eh=be("shape",function(l,y){return(y.mark.shape||y.shape).context(l)(y)}),bi=be("symbol",function(l,y){return nd.context(l)(y)},
ud);const Wg=g.lruCache();var jh={height:Jd,measureWidth:Oc,estimateWidth:dd,width:dd,canvas:Jc};Jc(!0);const si={left:"start",center:"middle",right:"end"},Ag=new Ia;var Fh={type:"text",tag:"text",nested:!1,attr:function(l,y){var ca=y.dx||0,pa=(y.dy||0)+cf(y),Va=df(y),$a=Va.x1;Va=Va.y1;var Hb=y.angle||0;l("text-anchor",si[y.align]||"start");if(Hb){if(y=Cd($a,Va)+" rotate("+(Hb+")"),ca||pa)y+=" "+Cd(ca,pa)}else y=Cd($a+ca,Va+pa);l("transform",y)},bound:re,draw:function(l,y,ca){cc(y,pa=>{var Va=null==
pa.opacity?1:pa.opacity,$a;if(!(ca&&!ca.intersects(pa.bounds)||0===Va||0>=pa.fontSize||null==pa.text||0===pa.text.length)){l.font=hf(pa);l.textAlign=pa.align||"left";var Hb=df(pa);var fc=Hb.x1;Hb=Hb.y1;pa.angle&&(l.save(),l.translate(fc,Hb),l.rotate(pa.angle*Ze),fc=Hb=0);fc+=pa.dx||0;Hb+=(pa.dy||0)+cf(pa);var Sb=Zd(pa);la(l,pa);if(g.isArray(Sb)){var Bd=Fd(pa);for($a=0;$a<Sb.length;++$a){var Zc=Md(pa,Sb[$a]);pa.fill&&bb(l,pa,Va)&&l.fillText(Zc,fc,Hb);pa.stroke&&jb(l,pa,Va)&&l.strokeText(Zc,fc,Hb);
Hb+=Bd}}else Zc=Md(pa,Sb),pa.fill&&bb(l,pa,Va)&&l.fillText(Zc,fc,Hb),pa.stroke&&jb(l,pa,Va)&&l.strokeText(Zc,fc,Hb);pa.angle&&l.restore()}})},pick:Rd(function(l,y,ca,pa,Va,$a){if(0>=y.fontSize)return!1;if(!y.angle)return!0;ca=df(y);l=ca.x1;ca=ca.y1;pa=re(Ag,y,1);var Hb=-y.angle*Ze;y=Math.cos(Hb);Hb=Math.sin(Hb);return pa.contains(y*Va-Hb*$a+(l-y*l+Hb*ca),Hb*Va+y*$a+(ca-Hb*l-y*ca))}),isect:function(l,y){l=re(Ag,l,2);return ub(y,l[0],l[1],l[2],l[3])||ub(y,l[0],l[1],l[4],l[5])||ub(y,l[4],l[5],l[6],l[7])||
ub(y,l[2],l[3],l[6],l[7])}},Wh=ce("trail",function(l,y){return oe.context(l)(y)},function(l,y){for(var ca=l.length,pa,Va;0<=--ca;)if(!1!==l[ca].defined&&(pa=l[ca].x-y[0],Va=l[ca].y-y[1],Va=pa*pa+Va*Va,pa=l[ca].size||1,Va<pa*pa))return l[ca];return null}),Mg={arc:rg,area:gg,group:vh,image:Vh,line:Bh,path:Ch,rect:Vg,rule:Dh,shape:Eh,symbol:bi,text:Fh,trail:Wh},ch={mark:null};const nh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Xb.prototype={toJSON(l){return ta(this.root,l||0)},mark(l,y,ca){y=y||this.root.items[0];l=Cc(l,y);y.items[ca]=l;l.zindex&&(l.group.zdirty=!0);return l}};xc.prototype={initialize(l,y,ca){this._el=l;this._obj=ca||null;return this.origin(y)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(l){return arguments.length?(this._origin=l||[0,0],this):this._origin.slice()},scene(l){if(!arguments.length)return this._scene;this._scene=l;return this},on(){},off(){},_handlerIndex(l,
y,ca){for(let pa=l?l.length:0;0<=--pa;)if(l[pa].type===y&&(!ca||l[pa].handler===ca))return pa;return-1},handlers(l){const y=this._handlers,ca=[];if(l)ca.push(...y[this.eventName(l)]);else for(const pa in y)ca.push(...y[pa]);return ca},eventName(l){const y=l.indexOf(".");return 0>y?l:l.slice(0,y)},handleHref(l,y,ca){this._loader.sanitize(ca,{context:"href"}).then(pa=>{const Va=new MouseEvent(l.type,l),$a=Ub(null,"a");for(const Hb in pa)$a.setAttribute(Hb,pa[Hb]);$a.dispatchEvent(Va)}).catch(()=>{})},
handleTooltip(l,y,ca){if(y&&null!=y.tooltip){var pa=this.canvas(),Va=this._origin,$a=y&&y.mark,Hb;if($a&&(Hb=Mg[$a.marktype]).tip){pa=Pc(l,pa);pa[0]-=Va[0];for(pa[1]-=Va[1];y=y.mark.group;)pa[0]-=y.x||0,pa[1]-=y.y||0;y=Hb.tip($a.items,pa)}this._tooltip.call(this._obj,this,l,y,ca&&y&&y.tooltip||null)}},getItemBoundingClientRect(l){var y=this.canvas();if(y){var ca=y.getBoundingClientRect(),pa=this._origin,Va=l.bounds;y=Va.width();var $a=Va.height(),Hb=Va.x1+pa[0]+ca.left;for(ca=Va.y1+pa[1]+ca.top;l.mark&&
(l=l.mark.group);)Hb+=l.x||0,ca+=l.y||0;return{x:Hb,y:ca,width:y,height:$a,left:Hb,top:ca,right:Hb+y,bottom:ca+$a}}}};md.prototype={initialize(l,y,ca,pa,Va){this._el=l;return this.resize(y,ca,pa,Va)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(l){if(0===arguments.length)return this._bgcolor;this._bgcolor=l;return this},resize(l,y,ca,pa){this._width=l;this._height=y;this._origin=ca||[0,0];this._scale=pa||1;return this},dirty(){},render(l){const y=this;y._call=
function(){y._render(l)};y._call();y._call=null;return y},_render(){},renderAsync(l){const y=this.render(l);return this._ready?this._ready.then(()=>y):Promise.resolve(y)},_load(l,y){var ca=this;l=ca._loader[l](y);if(!ca._ready){const pa=ca._call;ca._ready=ca._loader.ready().then(Va=>{Va&&pa();ca._ready=null})}return l},sanitizeURL(l){return this._load("sanitizeURL",l)},loadImage(l){return this._load("loadImage",l)}};g.inherits(de,xc,{initialize(l,y,ca){this._canvas=l&&I(l,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(pa=>Sa(this,pa));return xc.prototype.initialize.call(this,l,y,ca)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(l){this.fire("mousewheel",l)},mousemove:qc("mousemove","mouseover","mouseout"),dragover:qc("dragover","dragenter","dragleave"),
mouseout:pd("mouseout"),dragleave:pd("dragleave"),mousedown(l){this._down=this._active;this.fire("mousedown",l)},click(l){this._down===this._active&&(this.fire("click",l),this._down=null)},touchstart(l){this._touch=this.pickEvent(l.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",l,!0)},touchmove(l){this.fire("touchmove",l,!0)},touchend(l){this.fire("touchend",l,!0);this._touch=null},fire(l,y,ca){ca=ca?this._touch:this._active;const pa=this._handlers[l];
y.vegaType=l;"click"===l&&ca&&ca.href?this.handleHref(y,ca,ca.href):("mousemove"===l||"mouseout"===l)&&this.handleTooltip(y,ca,"mouseout"!==l);if(pa)for(let Va=0,$a=pa.length;Va<$a;++Va)pa[Va].handler.call(this._obj,y,ca)},on(l,y){const ca=this.eventName(l),pa=this._handlers;0>this._handlerIndex(pa[ca],l,y)&&(Sa(this,l),(pa[ca]||(pa[ca]=[])).push({type:l,handler:y}));return this},off(l,y){var ca=this.eventName(l);ca=this._handlers[ca];l=this._handlerIndex(ca,l,y);0<=l&&ca.splice(l,1);return this},
pickEvent(l){l=Pc(l,this._canvas);const y=this._origin;return this.pick(this._scene,l[0],l[1],l[0]-y[0],l[1]-y[1])},pick(l,y,ca,pa,Va){const $a=this.context();return Mg[l.marktype].pick.call(this,$a,l,y,ca,pa,Va)}});var Gh="undefined"!==typeof window?window.devicePixelRatio||1:1;const yg=md.prototype;g.inherits(Kc,md,{initialize(l,y,ca,pa,Va,$a){this._options=$a||{};this._canvas=this._options.externalContext?null:ra.canvas(1,1,this._options.type);l&&this._canvas&&(Ta(l,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return yg.initialize.call(this,l,y,ca,pa,Va)},resize(l,y,ca,pa){yg.resize.call(this,l,y,ca,pa);if(this._canvas){l=this._canvas;y=this._width;ca=this._height;pa=this._origin;var Va=this._scale,$a=this._options.context;const fc="undefined"!==typeof HTMLElement&&l instanceof HTMLElement&&null!=l.parentNode,Sb=l.getContext("2d");Va=fc?Gh:Va;l.width=y*Va;l.height=ca*Va;for(var Hb in $a)Sb[Hb]=$a[Hb];fc&&1!==Va&&(l.style.width=y+"px",l.style.height=ca+"px");Sb.pixelRatio=
Va;Sb.setTransform(Va,0,0,Va,Va*pa[0],Va*pa[1])}else(Hb=this._options.externalContext)||g.error("CanvasRenderer is missing a valid canvas or context"),Hb.scale(this._scale,this._scale),Hb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(l){const y=this._tempb.clear().union(l.bounds);for(l=l.mark.group;l;)y.translate(l.x||0,l.y||0),l=l.mark.group;
this._dirty.union(y)},_render(l){const y=this.context(),ca=this._origin,pa=this._width,Va=this._height,$a=this._dirty;var Hb=(new Ia).set(0,0,pa,Va).translate(-ca[0],-ca[1]);y.save();this._redraw||$a.empty()?Hb=(this._redraw=!1,Hb.expand(1)):(Hb=Hb.intersect($a),Hb.expand(1).round(),y.pixelRatio%1&&Hb.scale(y.pixelRatio).round().scale(1/y.pixelRatio),Hb.translate(-(ca[0]%1),-(ca[1]%1)),y.beginPath(),y.rect(Hb.x1,Hb.y1,Hb.width(),Hb.height()),y.clip());this.clear(-ca[0],-ca[1],pa,Va);this.draw(y,l,
Hb);y.restore();$a.clear();return this},draw(l,y,ca){const pa=Mg[y.marktype];if(y.clip){var Va=y.clip;l.save();g.isFunction(Va)?(l.beginPath(),Va(l),l.clip()):Vd(l,y.group)}pa.draw.call(this,l,y,ca);y.clip&&l.restore()},clear(l,y,ca,pa){const Va=this._options,$a=this.context();"pdf"===Va.type||Va.externalContext||$a.clearRect(l,y,ca,pa);null!=this._bgcolor&&($a.fillStyle=this._bgcolor,$a.fillRect(l,y,ca,pa))}});const Oh=(l,y)=>ca=>{let pa=ca.target.__data__;pa=Array.isArray(pa)?pa[0]:pa;ca.vegaType=
ca.type;y.call(l._obj,ca,pa)};g.inherits(Xc,xc,{initialize(l,y,ca){let pa=this._svg;pa&&(pa.removeEventListener("click",this._hrefHandler),pa.removeEventListener("mousemove",this._tooltipHandler),pa.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=pa=l&&I(l,"svg"))pa.addEventListener("click",this._hrefHandler),pa.addEventListener("mousemove",this._tooltipHandler),pa.addEventListener("mouseout",this._tooltipHandler);return xc.prototype.initialize.call(this,l,y,ca)},canvas(){return this._svg},
on(l,y){const ca=this.eventName(l),pa=this._handlers;0>this._handlerIndex(pa[ca],l,y)&&(l={type:l,handler:y,listener:Oh(this,y)},(pa[ca]||(pa[ca]=[])).push(l),this._svg&&this._svg.addEventListener(ca,l.listener));return this},off(l,y){const ca=this.eventName(l),pa=this._handlers[ca];l=this._handlerIndex(pa,l,y);0<=l&&(this._svg&&this._svg.removeEventListener(ca,pa[l].listener),pa.splice(l,1));return this}});const wh=(l,y,ca)=>({role:l,["aria-roledescription"]:y,["aria-label"]:ca||void 0}),ph=g.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
Xh={axis:{desc:"axis",caption:function(l){var y=l.datum;const ca=l.orient,pa=y.title?Ad(l):null;var Va=l.context;y=Va.scales[y.scale].value;Va=Va.dataflow.locale();const $a=y.type;return`${"left"===ca||"right"===ca?"Y":"X"}-axis`+(pa?` titled '${pa}'`:"")+` for a ${Fb.isDiscrete($a)?"discrete":$a} scale`+` with ${Fb.domainCaption(Va,y,l)}`}},legend:{desc:"legend",caption:function(l){var y=l.datum;const ca=y.title?Ad(l):null,pa=`${y.type||""} legend`.trim();var Va=y.scales;y=Object.keys(Va);var $a=
l.context;Va=$a.scales[Va[y[0]]].value;$a=$a.dataflow.locale();return(pa.length?pa[0].toUpperCase()+pa.slice(1):pa)+(ca?` titled '${ca}'`:"")+` for ${Xd(y)}`+` with ${Fb.domainCaption($a,Va,l)}`}},"title-text":{desc:"title",caption:l=>`Title text '${g.array(l.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:l=>`Subtitle text '${g.array(l.text).join(" ")}'`}},ci={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},kh=l=>(l+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),Hh=l=>Oe(ye(),l)+"",If={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},sg={blend:"mix-blend-mode"},Rg={fill:"none","stroke-miterlimit":10},yf=ag.xmlns,lh=md.prototype;g.inherits(Ge,md,{initialize(l,y,ca,pa,Va){this._defs=
{};this._clearDefs();l&&(this._svg=ea(l,0,"svg",yf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",yf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",ag["xmlns:xlink"]),this._svg.setAttribute("version",ag.version),this._svg.setAttribute("class","marks"),Ta(l,1),this._root=ea(this._svg,0,"g",yf),Gd(this._root,Rg),Ta(this._svg,1));this.background(this._bgcolor);return lh.initialize.call(this,l,y,ca,pa,Va)},background(l){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
l);return lh.background.apply(this,arguments)},resize(l,y,ca,pa){lh.resize.call(this,l,y,ca,pa);this._svg&&(Gd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const l=this._svg,y=this._bgcolor;if(!l)return null;let ca;y&&(l.removeAttribute("style"),ca=ea(l,0,"rect",yf),Gd(ca,{width:this._width,height:this._height,
fill:y}));const pa=Hh(l);y&&(l.removeChild(ca),this._svg.style.setProperty("background-color",y));return pa},_render(l){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,l),Ta(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(l){l.dirty!==this._dirtyID&&(l.dirty=this._dirtyID,this._dirty.push(l))},isDirty(l){return this._dirtyAll||!l._svg||!l._svg.ownerSVGElement||l.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const l=this._dirty;if(!l.length||
!this._dirtyID)return!0;const y=++this._dirtyID;let ca;let pa,Va,$a,Hb;$a=0;for(Hb=l.length;$a<Hb;++$a){ca=l[$a];var fc=ca.mark;fc.marktype!==pa&&(pa=fc.marktype,Va=Mg[pa]);fc.zdirty&&fc.dirty!==y&&(this._dirtyAll=!1,tf(ca,y),fc.items.forEach(Sb=>{Sb.dirty=y}));fc.zdirty||(ca.exit?(Va.nested&&fc.items.length?(fc=fc.items[0],fc._svg&&this._update(Va,fc._svg,fc)):ca._svg&&(fc=ca._svg.parentNode)&&fc.removeChild(ca._svg),ca._svg=null):(ca=Va.nested?fc.items[0]:ca,ca._update!==y&&(ca._svg&&ca._svg.ownerSVGElement?
this._update(Va,ca._svg,ca):(this._dirtyAll=!1,tf(ca,y)),ca._update=y)))}return!this._dirtyAll},mark(l,y,ca){if(!this.isDirty(y))return y._svg;const pa=this._svg,Va=Mg[y.marktype];var $a=!1===y.interactive?"none":null;const Hb="g"===Va.tag,fc=Fc(y,l,ca,"g",pa);fc.setAttribute("class",$b(y));l=qd(y);for(const Zc in l)ae(fc,Zc,l[Zc]);Hb||ae(fc,"pointer-events",$a);ae(fc,"clip-path",y.clip?Sd(this,y,y.group):null);let Sb=null,Bd=0;$a=Zc=>{const Id=this.isDirty(Zc),te=Fc(Zc,fc,Sb,Va.tag,pa);Id&&(this._update(Va,
te,Zc),Hb&&ld(this,te,Zc));Sb=te;++Bd};Va.nested?y.items.length&&$a(y.items[0]):cc(y,$a);Ta(fc,Bd);return fc},_update(l,y,ca){Bg=y;Mf=y.__values__;Qc(id,ca);l.attr(id,ca,this);const pa=R[l.type];pa&&pa.call(this,l,y,ca);Bg&&this.style(Bg,ca)},style(l,y){if(null!=y){for(const ca in If){let pa="font"===ca?Ae(y):y[ca];if(pa===Mf[ca])continue;const Va=If[ca];null==pa?l.removeAttribute(Va):(pa&&pa.gradient&&(pa=Zb(pa,this._defs.gradient,Yd())),l.setAttribute(Va,pa+""));Mf[ca]=pa}for(const ca in sg)Dc(l,
sg[ca],y[ca])}},defs(){const l=this._svg,y=this._defs;let ca=y.el;var pa=0;for(var Va in y.gradient){ca||(y.el=ca=ea(l,1,"defs",yf));var $a=void 0;let Sb,Bd;var Hb=ca,fc=y.gradient[Va];"radial"===fc.gradient?($a=ea(Hb,pa++,"pattern",yf),Gd($a,{id:"p_"+fc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),$a=ea($a,0,"rect",yf),Gd($a,{width:1,height:1,fill:`url(${Yd()}#${fc.id})`}),Hb=ea(Hb,pa++,"radialGradient",yf),Gd(Hb,{id:fc.id,fx:fc.x1,fy:fc.y1,fr:fc.r1,cx:fc.x2,
cy:fc.y2,r:fc.r2})):(Hb=ea(Hb,pa++,"linearGradient",yf),Gd(Hb,{id:fc.id,x1:fc.x1,x2:fc.x2,y1:fc.y1,y2:fc.y2}));Bd=0;for(Sb=fc.stops.length;Bd<Sb;++Bd)$a=ea(Hb,Bd,"stop",yf),$a.setAttribute("offset",fc.stops[Bd].offset),$a.setAttribute("stop-color",fc.stops[Bd].color);Ta(Hb,Bd)}for(const Sb in y.clipping)ca||(y.el=ca=ea(l,1,"defs",yf)),Hb=ca,fc=y.clipping[Sb],Va=pa,Hb=ea(Hb,Va,"clipPath",yf),Hb.setAttribute("id",fc.id),fc.path?(pa=ea(Hb,0,"path",yf),pa.setAttribute("d",fc.path)):(pa=ea(Hb,0,"rect",
yf),Gd(pa,{x:0,y:0,width:fc.width,height:fc.height})),Ta(Hb,1),pa=Va+1;ca&&(0===pa?(l.removeChild(ca),y.el=null):Ta(ca,pa))},_clearDefs(){const l=this._defs;l.gradient={};l.clipping={}}});let Bg=null,Mf=null;const R={group(l,y,ca){const pa=Bg=y.childNodes[2];Mf=pa.__values__;l.foreground(id,ca,this);Mf=y.__values__;Bg=y.childNodes[1];l.content(id,ca,this);y=Bg=y.childNodes[0];l.background(id,ca,this);l=!1===ca.mark.interactive?"none":null;l!==Mf.events&&(ae(pa,"pointer-events",l),ae(y,"pointer-events",
l),Mf.events=l);ca.strokeForeground&&ca.stroke?(l=ca.fill,ae(pa,"display",null),this.style(y,ca),ae(y,"stroke",null),l&&(ca.fill=null),Mf=pa.__values__,this.style(pa,ca),l&&(ca.fill=l),Bg=null):ae(pa,"display","none")},image(l,y,ca){!1===ca.smooth?(Dc(y,"image-rendering","optimizeSpeed"),Dc(y,"image-rendering","pixelated")):Dc(y,"image-rendering",null)},text(l,y,ca){l=Zd(ca);let pa,Va,$a;g.isArray(l)?(pa=l.map(Hb=>Md(ca,Hb)),l=pa.join("\n"),l!==Mf.text&&(Ta(y,0),Va=y.ownerDocument,$a=Fd(ca),pa.forEach((Hb,
fc)=>{const Sb=Ub(Va,"tspan",yf);Sb.__data__=ca;Sb.textContent=Hb;fc&&(Sb.setAttribute("x",0),Sb.setAttribute("dy",$a));y.appendChild(Sb)}),Mf.text=l)):(pa=Md(ca,l),pa!==Mf.text&&(y.textContent=pa,Mf.text=pa));ae(y,"font-family",Ae(ca));ae(y,"font-size",Jd(ca)+"px");ae(y,"font-style",ca.fontStyle);ae(y,"font-variant",ca.fontVariant);ae(y,"font-weight",ca.fontWeight)}};g.inherits(le,md,{svg(){return this._text},_render(l){const y=ye();y.open("svg",g.extend({},ag,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ca=this._bgcolor;ca&&"transparent"!==ca&&"none"!==ca&&y.open("rect",{width:this._width,height:this._height,fill:ca}).close();y.open("g",Rg,{transform:"translate("+this._origin+")"});this.mark(y,l);y.close();this.defs(y);this._text=y.close()+"";return this},mark(l,y){const ca=Mg[y.marktype],pa=ca.tag,Va=[Qc,ca.attr];l.open("g",{"class":$b(y),"clip-path":y.clip?Sd(this,y,y.group):null},qd(y),{"pointer-events":"g"!==
pa&&!1===y.interactive?"none":null});const $a=Hb=>{const fc=this.href(Hb);fc&&l.open("a",fc);l.open(pa,this.attr(y,Hb,Va,"g"!==pa?pa:null));if("text"===pa){var Sb=Zd(Hb);if(g.isArray(Sb)){var Bd={x:0,dy:Fd(Hb)};for(var Zc=0;Zc<Sb.length;++Zc)l.open("tspan",Zc?Bd:null).text(Md(Hb,Sb[Zc])).close()}else l.text(Md(Hb,Sb))}else"g"===pa&&(Sb=Hb.strokeForeground,Bd=Hb.fill,Zc=Hb.stroke,Sb&&Zc&&(Hb.stroke=null),l.open("path",this.attr(y,Hb,ca.background,"bgrect")).close(),l.open("g",this.attr(y,Hb,ca.content)),
cc(Hb,Id=>this.mark(l,Id)),l.close(),Sb&&Zc?(Bd&&(Hb.fill=null),Hb.stroke=Zc,l.open("path",this.attr(y,Hb,ca.foreground,"bgrect")).close(),Bd&&(Hb.fill=Bd)):l.open("path",this.attr(y,Hb,ca.foreground,"bgfore")).close());l.close();fc&&l.close()};ca.nested?y.items&&y.items.length&&$a(y.items[0]):cc(y,$a);return l.close()},href(l){const y=l.href;if(y){if(l=this._hrefs&&this._hrefs[y])return l;this.sanitizeURL(y).then(ca=>{ca["xlink:href"]=ca.href;ca.href=null;(this._hrefs||(this._hrefs={}))[y]=ca})}return null},
attr(l,y,ca,pa){const Va={},$a=(Hb,fc,Sb,Bd)=>{Va[Bd||Hb]=fc};Array.isArray(ca)?ca.forEach(Hb=>Hb($a,y,this)):ca($a,y,this);pa&&N(Va,y,l,pa,this._defs);return Va},defs(l){var y=this._defs.gradient;const ca=this._defs.clipping;if(0!==Object.keys(y).length+Object.keys(ca).length){l.open("defs");for(const Va in y){var pa=y[Va];const $a=pa.stops;"radial"===pa.gradient?(l.open("pattern",{id:"p_"+Va,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),l.open("rect",{width:"1",
height:"1",fill:"url(#"+Va+")"}).close(),l.close(),l.open("radialGradient",{id:Va,fx:pa.x1,fy:pa.y1,fr:pa.r1,cx:pa.x2,cy:pa.y2,r:pa.r2})):l.open("linearGradient",{id:Va,x1:pa.x1,x2:pa.x2,y1:pa.y1,y2:pa.y2});for(pa=0;pa<$a.length;++pa)l.open("stop",{offset:$a[pa].offset,"stop-color":$a[pa].color}).close();l.close()}for(const Va in ca)y=ca[Va],l.open("clipPath",{id:Va}),y.path?l.open("path",{d:y.path}).close():l.open("rect",{x:0,y:0,width:y.width,height:y.height}).close(),l.close();l.close()}}});const wa=
{};wa.canvas=wa.png={renderer:Kc,headless:Kc,handler:de};wa.svg={renderer:Ge,headless:le,handler:Xc};wa.none={};const Ua=new Ia;r.Bounds=Ia;r.CanvasHandler=de;r.CanvasRenderer=Kc;r.Gradient=function(l,y){var ca=[],pa;return pa={gradient:"linear",x1:l?l[0]:0,y1:l?l[1]:0,x2:y?y[0]:1,y2:y?y[1]:0,stops:ca,stop:function(Va,$a){ca.push({offset:Va,color:$a});return pa}}};r.GroupItem=kb;r.Handler=xc;r.Item=Wb;r.Marks=Mg;r.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};r.Renderer=md;r.ResourceLoader=
bc;r.SVGHandler=Xc;r.SVGRenderer=Ge;r.SVGStringRenderer=le;r.Scenegraph=Xb;r.boundClip=function(l){const y=l.clip;if(g.isFunction(y))y(hc(Ua.clear()));else if(y)Ua.set(0,0,l.group.width,l.group.height);else return;l.bounds.intersect(Ua)};r.boundContext=hc;r.boundItem=nf;r.boundMark=T;r.boundStroke=Yb;r.domChild=ea;r.domClear=Ta;r.domCreate=Ub;r.domFind=I;r.font=hf;r.fontFamily=Ae;r.fontSize=Jd;r.intersect=function(l,y,ca){const pa=[];y=(new Ia).union(y);const Va=l.marktype;return Va?da(l,y,ca,pa):
"group"===Va?G(l,y,ca,pa):g.error("Intersect scene must be mark node or group item.")};r.intersectBoxLine=ub;r.intersectPath=Nd;r.intersectPoint=ud;r.intersectRule=hb;r.lineHeight=Fd;r.markup=ye;r.multiLineOffset=function(l){const y=Zd(l);return(g.isArray(y)?y.length-1:0)*Fd(l)};r.path=pc;r.pathCurves=Aa;r.pathEqual=Ha;r.pathParse=W;r.pathRectangle=wc;r.pathRender=K;r.pathSymbols=Ja;r.pathTrail=vc;r.point=Pc;r.renderModule=function(l,y){l=String(l||"").toLowerCase();return 1<arguments.length?(wa[l]=
y,this):wa[l]};r.resetSVGClipId=function(){Pe=1};r.resetSVGDefIds=function(){Pe=1;dc=0};r.sceneEqual=sa;r.sceneFromJSON=eb;r.scenePickVisit=gc;r.sceneToJSON=ta;r.sceneVisit=cc;r.sceneZOrder=mc;r.serializeXML=Hh;r.textMetrics=jh})};
shadow$provide[35]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(34),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib){function Fb(E){g.Transform.call(this,null,E)}function Zb(E,D,V){return D(E.bounds.clear(),E,V)}function oc(E){g.Transform.call(this,
0,E)}function kc(E){return E._signals[":vega_identifier:"]||(E._signals[":vega_identifier:"]=E.add(0))}function Ac(E){g.Transform.call(this,null,E)}function Ab(E){const D=E.groups;E=E.parent;return D&&1===D.size?D.get(Object.keys(D.object)[0]):D&&E?D.lookup(E):null}function ec(E){g.Transform.call(this,null,E)}function pc(E){g.Transform.call(this,null,E)}function Ya(E,D,V){return E[D]===V?0:(E[D]=V,1)}function rb(E){E=E.items[0].orient;return"left"===E||"right"===E}function Ib(E,D,V,Aa){D=D.items[0];
var W=D.datum,u=null!=D.translate?D.translate:.5,K=D.orient,va=+W.grid;var Ja=[W.ticks?va++:-1,W.labels?va++:-1,va+ +W.domain];va=D.range;var Za=D.offset,Wa=D.position,X=D.minExtent,Ba=D.maxExtent;W=W.title&&D.items[Ja[2]].items[0];var ab=D.titlePadding,Gb=D.bounds,tc=W&&ra.multiLineOffset(W),wc;C.clear().union(Gb);Gb.clear();-1<(wc=Ja[0])&&Gb.union(D.items[wc].bounds);-1<(wc=Ja[1])&&Gb.union(D.items[wc].bounds);switch(K){case "top":V=Wa||0;Aa=-Za;X=Math.max(X,Math.min(Ba,-Gb.y1));Gb.add(0,-X).add(va,
0);W&&Nb(E,W,X,ab,tc,0,-1,Gb);break;case "left":V=-Za;Aa=Wa||0;X=Math.max(X,Math.min(Ba,-Gb.x1));Gb.add(-X,0).add(0,va);W&&Nb(E,W,X,ab,tc,1,-1,Gb);break;case "right":V+=Za;Aa=Wa||0;X=Math.max(X,Math.min(Ba,Gb.x2));Gb.add(0,0).add(X,va);W&&Nb(E,W,X,ab,tc,1,1,Gb);break;case "bottom":V=Wa||0;Aa+=Za;X=Math.max(X,Math.min(Ba,Gb.y2));Gb.add(0,0).add(va,X);W&&Nb(E,W,X,ab,0,0,1,Gb);break;default:V=D.x,Aa=D.y}ra.boundStroke(Gb.translate(V,Aa),D);Ya(D,"x",V+u)|Ya(D,"y",Aa+u)&&(D.bounds=C,E.dirty(D),D.bounds=
Gb,E.dirty(D));return D.mark.bounds.clear().union(Gb)}function Nb(E,D,V,Aa,W,u,K,va){const Ja=D.bounds;D.auto&&(V=K*(V+W+Aa),W=Aa=0,E.dirty(D),u?Aa=(D.x||0)-(D.x=V):W=(D.y||0)-(D.y=V),D.mark.bounds.clear().union(Ja.translate(-Aa,-W)),E.dirty(D));va.union(Ja)}function Bb(E){return(new ra.Bounds).set(0,0,E.width||0,E.height||0)}function Ob(E){const D=E.bounds.clone();return D.empty()?D.set(0,0,0,0):D.translate(-(E.x||0),-(E.y||0))}function Xa(E,D,V){E=ib.isObject(E)?E[D]:E;return null!=E?E:void 0!==
V?V:0}function qb(E){return 0>E?Math.ceil(-E):0}function Oa(E,D,V){var Aa=!V.nodirty,W="flush"===V.bounds?Bb:Ob,u=C.set(0,0,0,0),K=Xa(V.align,"column"),va=Xa(V.align,"row"),Ja=Xa(V.padding,"column"),Za=Xa(V.padding,"row"),Wa=V.columns||D.length,X=0>=Wa?1:Math.ceil(D.length/Wa),Ba=D.length,ab=Array(Ba),Gb=Array(Wa),tc=0,wc=Array(Ba),vc=Array(X),Ec=0,zc=Array(Ba),Rc=Array(Ba),Sd=Array(Ba),Ia,Wb,kb;for(Ia=0;Ia<Wa;++Ia)Gb[Ia]=0;for(Ia=0;Ia<X;++Ia)vc[Ia]=0;for(Ia=0;Ia<Ba;++Ia){var bc=D[Ia];var Yb=Sd[Ia]=
W(bc);bc.x=bc.x||0;zc[Ia]=0;bc.y=bc.y||0;Rc[Ia]=0;bc=Ia%Wa;var hc=~~(Ia/Wa);tc=Math.max(tc,Wb=Math.ceil(Yb.x2));Ec=Math.max(Ec,kb=Math.ceil(Yb.y2));Gb[bc]=Math.max(Gb[bc],Wb);vc[hc]=Math.max(vc[hc],kb);ab[Ia]=Ja+qb(Yb.x1);wc[Ia]=Za+qb(Yb.y1);Aa&&E.dirty(D[Ia])}for(Ia=0;Ia<Ba;++Ia)0===Ia%Wa&&(ab[Ia]=0),Ia<Wa&&(wc[Ia]=0);if("each"===K)for(bc=1;bc<Wa;++bc){W=0;for(Ia=bc;Ia<Ba;Ia+=Wa)W<ab[Ia]&&(W=ab[Ia]);for(Ia=bc;Ia<Ba;Ia+=Wa)ab[Ia]=W+Gb[bc-1]}else if("all"===K){for(Ia=W=0;Ia<Ba;++Ia)Ia%Wa&&W<ab[Ia]&&
(W=ab[Ia]);for(Ia=0;Ia<Ba;++Ia)Ia%Wa&&(ab[Ia]=W+tc)}else for(K=!1,bc=1;bc<Wa;++bc)for(Ia=bc;Ia<Ba;Ia+=Wa)ab[Ia]+=Gb[bc-1];if("each"===va)for(hc=1;hc<X;++hc){W=0;Ia=hc*Wa;for(bc=Ia+Wa;Ia<bc;++Ia)W<wc[Ia]&&(W=wc[Ia]);for(Ia=hc*Wa;Ia<bc;++Ia)wc[Ia]=W+vc[hc-1]}else if("all"===va){W=0;for(Ia=Wa;Ia<Ba;++Ia)W<wc[Ia]&&(W=wc[Ia]);for(Ia=Wa;Ia<Ba;++Ia)wc[Ia]=W+Ec}else for(va=!1,hc=1;hc<X;++hc)for(Ia=hc*Wa,bc=Ia+Wa;Ia<bc;++Ia)wc[Ia]+=vc[hc-1];for(Ia=hc=0;Ia<Ba;++Ia)hc=ab[Ia]+(Ia%Wa?hc:0),zc[Ia]+=hc-D[Ia].x;
for(bc=0;bc<Wa;++bc)for(ab=0,Ia=bc;Ia<Ba;Ia+=Wa)ab+=wc[Ia],Rc[Ia]+=ab-D[Ia].y;if(K&&Xa(V.center,"column")&&1<X)for(Ia=0;Ia<Ba;++Ia)Yb="all"===K?tc:Gb[Ia%Wa],hc=Yb-Sd[Ia].x2-D[Ia].x-zc[Ia],0<hc&&(zc[Ia]+=hc/2);if(va&&Xa(V.center,"row")&&1!==Wa)for(Ia=0;Ia<Ba;++Ia)Yb="all"===va?Ec:vc[~~(Ia/Wa)],ab=Yb-Sd[Ia].y2-D[Ia].y-Rc[Ia],0<ab&&(Rc[Ia]+=ab/2);for(Ia=0;Ia<Ba;++Ia)u.union(Sd[Ia].translate(zc[Ia],Rc[Ia]));hc=Xa(V.anchor,"x");ab=Xa(V.anchor,"y");switch(Xa(V.anchor,"column")){case "end":hc-=u.width();
break;case "middle":hc-=u.width()/2}switch(Xa(V.anchor,"row")){case "end":ab-=u.height();break;case "middle":ab-=u.height()/2}hc=Math.round(hc);ab=Math.round(ab);u.clear();for(Ia=0;Ia<Ba;++Ia)D[Ia].mark.bounds.clear();for(Ia=0;Ia<Ba;++Ia)bc=D[Ia],bc.x+=zc[Ia]+=hc,bc.y+=Rc[Ia]+=ab,u.union(bc.mark.bounds.union(bc.bounds.translate(zc[Ia],Rc[Ia]))),Aa&&E.dirty(bc);return u}function Ca(E,D){return"x1"===D?E.x||0:"y1"===D?E.y||0:"x2"===D?(E.x||0)+(E.width||0):"y2"===D?(E.y||0)+(E.height||0):void 0}function Qa(E,
D){return E.bounds[D]}function lb(E,D,V,Aa,W,u,K,va,Ja,Za,Wa,X,Ba,ab){var Gb=V.length,tc=Aa=0,wc,vc;if(!Gb)return Aa;for(wc=Wa;wc<Gb;wc+=X)V[wc]&&(Aa=K(Aa,Ja(V[wc],Za)));if(!D.length)return Aa;D.length>W&&(E.warn("Grid headers exceed limit: "+W),D=D.slice(0,W));Aa+=u;W=0;for(u=D.length;W<u;++W)E.dirty(D[W]),D[W].mark.bounds.clear();wc=Wa;W=0;for(u=D.length;W<u;++W,wc+=X){Ja=D[W];Wa=Ja.mark.bounds;for(Gb=wc;0<=Gb&&null==(vc=V[Gb]);Gb-=Ba);if(va){Gb=null==ab?vc.x:Math.round(vc.bounds.x1+ab*vc.bounds.width());
var Ec=Aa}else Gb=Aa,Ec=null==ab?vc.y:Math.round(vc.bounds.y1+ab*vc.bounds.height());Wa.union(Ja.bounds.translate(Gb-(Ja.x||0),Ec-(Ja.y||0)));Ja.x=Gb;Ja.y=Ec;E.dirty(Ja);tc=K(tc,Wa[Za])}return tc}function mb(E,D,V,Aa,W,u){if(D){E.dirty(D);var K=V;Aa?K=Math.round(W.x1+u*W.width()):V=Math.round(W.y1+u*W.height());D.bounds.translate(K-(D.x||0),V-(D.y||0));D.mark.bounds.clear().union(D.bounds);D.x=K;D.y=V;E.dirty(D)}}function Na(E,D){const V=E[D]||{};return(Aa,W)=>null!=V[Aa]?V[Aa]:null!=E[Aa]?E[Aa]:
W}function vb(E,D){let V=-Infinity;E.forEach(Aa=>{null!=Aa.offset&&(V=Math.max(V,Aa.offset))});return-Infinity<V?V:D}function pb(E,D,V,Aa,W,u,K){const va=Na(V,D);V=vb(E,va("offset",0));const Ja=va("anchor","start"),Za="end"===Ja?1:"middle"===Ja?.5:0;E={align:"each",bounds:va("bounds","flush"),columns:"vertical"===va("direction")?1:E.length,padding:va("margin",8),center:va("center"),nodirty:!0};switch(D){case "left":E.anchor={x:Math.floor(Aa.x1)-V,column:"end",y:Za*(K||Aa.height()+2*Aa.y1),row:Ja};
break;case "right":E.anchor={x:Math.ceil(Aa.x2)+V,y:Za*(K||Aa.height()+2*Aa.y1),row:Ja};break;case "top":E.anchor={y:Math.floor(W.y1)-V,row:"end",x:Za*(u||W.width()+2*W.x1),column:Ja};break;case "bottom":E.anchor={y:Math.ceil(W.y2)+V,x:Za*(u||W.width()+2*W.x1),column:Ja};break;case "top-left":E.anchor={x:V,y:V};break;case "top-right":E.anchor={x:u-V,y:V,column:"end"};break;case "bottom-left":E.anchor={x:V,y:K-V,row:"end"};break;case "bottom-right":E.anchor={x:u-V,y:K-V,column:"end",row:"end"}}return E}
function Mb(E,D){D=D.items[0];var V=D.datum,Aa=D.orient,W=D.bounds,u=D.x,K=D.y;D._bounds?D._bounds.clear().union(W):D._bounds=W.clone();W.clear();var va=D.items[0].items[0];var Ja=D.padding,Za=Ja-va.x,Wa=Ja-va.y;if(D.datum.title){var X=D.items[1].items[0],Ba=X.anchor,ab=D.titlePadding||0,Gb=Ja-X.x,tc=Ja-X.y;switch(X.orient){case "left":Za+=Math.ceil(X.bounds.width())+ab;break;case "right":case "bottom":break;default:Wa+=X.bounds.height()+ab}(Za||Wa)&&ma(E,va,Za,Wa);switch(X.orient){case "left":tc+=
ob(D,va,X,Ba,1,1);break;case "right":Gb+=ob(D,va,X,"end",0,0)+ab;tc+=ob(D,va,X,Ba,1,1);break;case "bottom":Gb+=ob(D,va,X,Ba,0,0);tc+=ob(D,va,X,"end",-1,0,1)+ab;break;default:Gb+=ob(D,va,X,Ba,0,0)}(Gb||tc)&&ma(E,X,Gb,tc);0>(Gb=Math.round(X.bounds.x1-Ja))&&(ma(E,va,-Gb,0),ma(E,X,-Gb,0))}else(Za||Wa)&&ma(E,va,Za,Wa);W=Vb(D,W);E=2*D.padding;va=2*D.padding;W.empty()||(E=Math.ceil(W.width()+E),va=Math.ceil(W.height()+va));"symbol"===V.type&&Y(D.items[0].items[0].items[0].items);"none"!==Aa&&(D.x=u=0,D.y=
K=0);D.width=E;D.height=va;ra.boundStroke(W.set(u,K,u+E,K+va),D);D.mark.bounds.clear().union(W);return D}function Vb(E,D){E.items.forEach(V=>D.union(V.bounds));D.x1=E.padding;D.y1=E.padding;return D}function ob(E,D,V,Aa,W,u,K){const va=V.datum.vgrad;E=("symbol"===E.datum.type||!u&&va||K?D:D.items[0]).bounds[W?"y2":"x2"]-E.padding;D=va&&u?E:0;u=va&&u?0:E;V=0>=W?0:ra.multiLineOffset(V);return Math.round("start"===Aa?D:"end"===Aa?u-V:.5*(E-V))}function ma(E,D,V,Aa){D.x+=V;D.y+=Aa;D.bounds.translate(V,
Aa);D.mark.bounds.translate(V,Aa);E.dirty(D)}function Y(E){const D=E.reduce((V,Aa)=>{V[Aa.column]=Math.max(Aa.bounds.x2-Aa.x,V[Aa.column]||0);return V},{});E.forEach(V=>{V.width=D[V.column];V.height=V.bounds.y2-V.y})}function Ga(E,D,V,Aa,W){var u=D.items[0],K=u.orient,va=u.anchor,Ja=u.offset,Za=u.padding,Wa=u.items[0].items[0],X=u.items[1]&&u.items[1].items[0],Ba="left"===K||"right"===K?Aa:V,ab=0,Gb=V=0;"group"!==u.frame?"left"===K?(ab=W.y2,Ba=W.y1):"right"===K?(ab=W.y1,Ba=W.y2):(ab=W.x1,Ba=W.x2):
"left"===K&&(ab=Aa,Ba=0);Aa="start"===va?ab:"end"===va?Ba:(ab+Ba)/2;if(X&&X.text){switch(K){case "top":case "bottom":Gb=Wa.bounds.height()+Za;break;case "left":V=Wa.bounds.width()+Za;break;case "right":V=-Wa.bounds.width()-Za}C.clear().union(X.bounds);C.translate(V-(X.x||0),Gb-(X.y||0));Ya(X,"x",V)|Ya(X,"y",Gb)&&(E.dirty(X),X.bounds.clear().union(C),X.mark.bounds.clear().union(C),E.dirty(X));C.clear().union(X.bounds)}else C.clear();C.union(Wa.bounds);switch(K){case "top":K=Aa;W=W.y1-C.height()-Ja;
break;case "left":K=W.x1-C.width()-Ja;W=Aa;break;case "right":K=W.x2+C.width()+Ja;W=Aa;break;case "bottom":K=Aa;W=W.y2+Ja;break;default:K=u.x,W=u.y}Ya(u,"x",K)|Ya(u,"y",W)&&(C.translate(K,W),E.dirty(u),u.bounds.clear().union(C),D.bounds.clear().union(C),E.dirty(u));return u.bounds}function Ea(E){g.Transform.call(this,null,E)}function db(E){return E&&"legend-entry"!==E.mark.role}function ba(E,D,V){var Aa=D.items,W=Math.max(0,D.width||0),u=Math.max(0,D.height||0),K=(new ra.Bounds).set(0,0,W,u),va=K.clone(),
Ja=K.clone(),Za=[],Wa,X;var Ba=0;for(X=Aa.length;Ba<X;++Ba){var ab=Aa[Ba];switch(ab.role){case "axis":var Gb=rb(ab)?va:Ja;Gb.union(Ib(E,ab,W,u));break;case "title":var tc=ab;break;case "legend":Za.push(Mb(E,ab));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":va.union(ab.bounds);Ja.union(ab.bounds);break;default:K.union(ab.bounds)}}if(Za.length){const wc={};Za.forEach(vc=>{Wa=vc.orient||"right";"none"!==
Wa&&(wc[Wa]||(wc[Wa]=[])).push(vc)});for(const vc in wc)Aa=wc[vc],Oa(E,Aa,pb(Aa,vc,V.legends,va,Ja,W,u));Za.forEach(vc=>{const Ec=vc.bounds;Ec.equals(vc._bounds)||(vc.bounds=vc._bounds,E.dirty(vc),vc.bounds=Ec,E.dirty(vc));if(!V.autosize||"fit"!==V.autosize.type&&"fit-x"!==V.autosize.type&&"fit-y"!==V.autosize.type)K.union(Ec);else switch(vc.orient){case "left":case "right":K.add(Ec.x1,0).add(Ec.x2,0);break;case "top":case "bottom":K.add(0,Ec.y1).add(0,Ec.y2)}})}K.union(va).union(Ja);tc&&K.union(Ga(E,
tc,W,u,K));D.clip&&K.set(0,0,D.width||0,D.height||0);na(E,D,K,V)}function na(E,D,V,Aa){Aa=Aa.autosize||{};const W=Aa.type;if(!(1>E._autosize)&&W){var u=E._width,K=E._height,va=Math.max(0,D.width||0),Ja=Math.max(0,Math.ceil(-V.x1));D=Math.max(0,D.height||0);var Za=Math.max(0,Math.ceil(-V.y1)),Wa=Math.max(0,Math.ceil(V.x2-va));V=Math.max(0,Math.ceil(V.y2-D));if("padding"===Aa.contains){const X=E.padding();u-=X.left+X.right;K-=X.top+X.bottom}"none"===W?(Za=Ja=0,va=u,D=K):"fit"===W?(va=Math.max(0,u-Ja-
Wa),D=Math.max(0,K-Za-V)):"fit-x"===W?(va=Math.max(0,u-Ja-Wa),K=D+Za+V):"fit-y"===W?(u=va+Ja+Wa,D=Math.max(0,K-Za-V)):"pad"===W&&(u=va+Ja+Wa,K=D+Za+V);E._resizeView(u,K,va,D,[Ja,Za],Aa.resize)}}ib.inherits(Fb,g.Transform,{transform(E,D){const V=D.dataflow,Aa=E.mark,W=Aa.marktype,u=ra.Marks[W],K=u.bound;let va=Aa.bounds,Ja;if(u.nested)Aa.items.length&&V.dirty(Aa.items[0]),va=Zb(Aa,K),Aa.items.forEach(Za=>{Za.bounds.clear().union(va)});else if("group"===W||E.modified())switch(D.visit(D.MOD,Za=>V.dirty(Za)),
va.clear(),Aa.items.forEach(Za=>va.union(Zb(Za,K))),Aa.role){case "axis":case "legend":case "title":D.reflow()}else Ja=D.changed(D.REM),D.visit(D.ADD,Za=>{va.union(Zb(Za,K))}),D.visit(D.MOD,Za=>{Ja=Ja||va.alignsWith(Za.bounds);V.dirty(Za);va.union(Zb(Za,K))}),Ja&&(va.clear(),Aa.items.forEach(Za=>va.union(Za.bounds)));ra.boundClip(Aa);return D.modifies("bounds")}});oc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ib.inherits(oc,g.Transform,{transform(E,
D){const V=kc(D.dataflow),Aa=E.as;let W=V.value;D.visit(D.ADD,u=>u[Aa]=u[Aa]||++W);V.set(this.value=W);return D}});ib.inherits(Ac,g.Transform,{transform(E,D){let V=this.value;V||(V=D.dataflow.scenegraph().mark(E.markdef,Ab(E),E.index),V.group.context=E.context,E.context.group||(E.context.group=V.group),V.source=this.source,V.clip=E.clip,V.interactive=E.interactive,this.value=V);const Aa="group"===V.marktype?ra.GroupItem:ra.Item;D.visit(D.ADD,W=>Aa.call(W,V));if(E.modified("clip")||E.modified("interactive"))V.clip=
E.clip,V.interactive=!!E.interactive,V.zdirty=!0,D.reflow();V.items=D.source;return D}});const p={parity:E=>E.filter((D,V)=>V%2?D.opacity=0:1),greedy:(E,D)=>{let V;return E.filter((Aa,W)=>W&&L(V.bounds,Aa.bounds,D)?Aa.opacity=0:(V=Aa,1))}},L=(E,D,V)=>V>Math.max(D.x1-E.x2,E.x1-D.x2,D.y1-E.y2,E.y1-D.y2),O=(E,D)=>{for(var V=1,Aa=E.length,W=E[0].bounds;V<Aa;++V)if(L(W,W=E[V].bounds,D))return!0},f=E=>{E=E.bounds;return 1<E.width()&&1<E.height()},v=(E,D,V)=>{E=E.range();var Aa=new ra.Bounds;"top"===D||
"bottom"===D?Aa.set(E[0],-Infinity,E[1],Infinity):Aa.set(-Infinity,E[0],Infinity,E[1]);Aa.expand(V||1);return W=>Aa.encloses(W.bounds)},m=E=>{E.forEach(D=>D.opacity=1);return E};ib.inherits(ec,g.Transform,{transform(E,D){const V=p[E.method]||p.parity,Aa=E.separation||0;let W=D.materialize(D.SOURCE).source,u,K;if(W&&W.length){if(!E.method)return E.modified("method")&&(m(W),D=D.reflow(E.modified()).modifies("opacity")),D;W=W.filter(f);if(W.length){E.sort&&(W=W.slice().sort(E.sort));u=m(W);D=D.reflow(E.modified()).modifies("opacity");
if(3<=u.length&&O(u,Aa)){do u=V(u,Aa);while(3<=u.length&&O(u,Aa));3>u.length&&!ib.peek(W).opacity&&(1<u.length&&(ib.peek(u).opacity=0),ib.peek(W).opacity=1)}E.boundScale&&0<=E.boundTolerance&&(K=v(E.boundScale,E.boundOrient,+E.boundTolerance),W.forEach(Ja=>{K(Ja)||(Ja.opacity=0)}));var va=u[0].mark.bounds.clear();W.forEach(Ja=>{Ja.opacity&&va.union(Ja.bounds)});return D}}}});ib.inherits(pc,g.Transform,{transform(E,D){const V=D.dataflow;D.visit(D.ALL,Aa=>V.dirty(Aa));D.fields&&D.fields.zindex&&(E=
D.source&&D.source[0])&&(E.mark.zdirty=!0)}});const C=new ra.Bounds,B=(E,D)=>Math.floor(Math.min(E,D)),z=(E,D)=>Math.ceil(Math.max(E,D));ib.inherits(Ea,g.Transform,{transform(E,D){const V=D.dataflow;E.mark.items.forEach(Aa=>{if(E.layout){var W=E.layout;var u=Aa.items;for(var K=u.length,va=0,Ja,Za,Wa={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};va<K;++va)if(Ja=u[va],Za=Ja.items,"group"===Ja.marktype)switch(Ja.role){case "axis":case "legend":case "title":break;
case "row-header":Wa.rowheaders.push(...Za);break;case "row-footer":Wa.rowfooters.push(...Za);break;case "column-header":Wa.colheaders.push(...Za);break;case "column-footer":Wa.colfooters.push(...Za);break;case "row-title":Wa.rowtitle=Za[0];break;case "column-title":Wa.coltitle=Za[0];break;default:Wa.marks.push(...Za)}u=Wa;Za=u.marks;Wa="flush"===W.bounds?Ca:Qa;K=W.offset;var X=W.columns||Za.length,Ba=0>=X?1:Math.ceil(Za.length/X),ab=Ba*X;va=Oa(V,Za,W);va.empty()&&va.set(0,0,0,0);if(u.rowheaders){Ja=
Xa(W.headerBand,"row",null);var Gb=lb(V,u.rowheaders,Za,X,Ba,-Xa(K,"rowHeader"),B,0,Wa,"x1",0,X,1,Ja)}if(u.colheaders){Ja=Xa(W.headerBand,"column",null);var tc=lb(V,u.colheaders,Za,X,X,-Xa(K,"columnHeader"),B,1,Wa,"y1",0,1,X,Ja)}if(u.rowfooters){Ja=Xa(W.footerBand,"row",null);var wc=lb(V,u.rowfooters,Za,X,Ba,Xa(K,"rowFooter"),z,0,Wa,"x2",X-1,X,1,Ja)}if(u.colfooters){Ja=Xa(W.footerBand,"column",null);var vc=lb(V,u.colfooters,Za,X,X,Xa(K,"columnFooter"),z,1,Wa,"y2",ab-X,1,X,Ja)}u.rowtitle&&(Ja=Xa(W.titleAnchor,
"row"),Za=Xa(K,"rowTitle"),Za="end"===Ja?wc+Za:Gb-Za,Ja=Xa(W.titleBand,"row",.5),mb(V,u.rowtitle,Za,0,va,Ja));u.coltitle&&(Ja=Xa(W.titleAnchor,"column"),Za=Xa(K,"columnTitle"),Za="end"===Ja?vc+Za:tc-Za,Ja=Xa(W.titleBand,"column",.5),mb(V,u.coltitle,Za,1,va,Ja))}ba(V,Aa,E)});return db(E.mark.group)?D.reflow():D}});r.bound=Fb;r.identifier=oc;r.mark=Ac;r.overlap=ec;r.render=pc;r.viewlayout=Ea})};
shadow$provide[36]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(33),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib){function Fb(la){g.Transform.call(this,null,la)}function Zb(la){g.Transform.call(this,null,la)}function oc(){return g.ingest({})}function kc(la){const H=ib.fastmap().test(ya=>
ya.exit);H.lookup=ya=>H.get(la(ya));return H}function Ac(la){g.Transform.call(this,null,la)}function Ab(la){g.Transform.call(this,[],la)}function ec(la){g.Transform.call(this,{},la)}function pc(la,H,ya){la=+la;H=+H;ya=2>(bb=arguments.length)?(H=la,la=0,1):3>bb?1:+ya;for(var Ka=-1,bb=Math.max(0,Math.ceil((H-la)/ya))|0,jb=Array(bb);++Ka<bb;)jb[Ka]=la+Ka*ya;return jb}function Ya(la,H){let ya=0;if(void 0===H)for(var Ka of la){if(Ka=+Ka)ya+=Ka}else{Ka=-1;for(let bb of la)if(bb=+H(bb,++Ka,la))ya+=bb}return ya}
function rb(la){g.Transform.call(this,null,la)}function Ib(la,H,ya){la.prototype=H.prototype=ya;ya.constructor=la}function Nb(la,H){la=Object.create(la.prototype);for(var ya in H)la[ya]=H[ya];return la}function Bb(){}function Ob(){return this.rgb().formatHex()}function Xa(){return this.rgb().formatRgb()}function qb(la){var H,ya;la=(la+"").trim().toLowerCase();return(H=Ia.exec(la))?(ya=H[1].length,H=parseInt(H[1],16),6===ya?Oa(H):3===ya?new lb(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===ya?
Ca(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===ya?Ca(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=Wb.exec(la))?new lb(H[1],H[2],H[3],1):(H=kb.exec(la))?new lb(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=bc.exec(la))?Ca(H[1],H[2],H[3],H[4]):(H=Yb.exec(la))?Ca(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=hc.exec(la))?Vb(H[1],H[2]/100,H[3]/100,1):(H=yc.exec(la))?Vb(H[1],H[2]/100,H[3]/100,H[4]):Gc.hasOwnProperty(la)?Oa(Gc[la]):"transparent"===la?new lb(NaN,NaN,
NaN,0):null}function Oa(la){return new lb(la>>16&255,la>>8&255,la&255,1)}function Ca(la,H,ya,Ka){0>=Ka&&(la=H=ya=NaN);return new lb(la,H,ya,Ka)}function Qa(la,H,ya,Ka){if(1===arguments.length){var bb=la;bb instanceof Bb||(bb=qb(bb));bb?(bb=bb.rgb(),bb=new lb(bb.r,bb.g,bb.b,bb.opacity)):bb=new lb}else bb=new lb(la,H,ya,null==Ka?1:Ka);return bb}function lb(la,H,ya,Ka){this.r=+la;this.g=+H;this.b=+ya;this.opacity=+Ka}function mb(){return`#${Mb(this.r)}${Mb(this.g)}${Mb(this.b)}`}function Na(){const la=
vb(this.opacity);return`${1===la?"rgb(":"rgba("}${pb(this.r)}, ${pb(this.g)}, ${pb(this.b)}${1===la?")":`, ${la})`}`}function vb(la){return isNaN(la)?1:Math.max(0,Math.min(1,la))}function pb(la){return Math.max(0,Math.min(255,Math.round(la)||0))}function Mb(la){la=pb(la);return(16>la?"0":"")+la.toString(16)}function Vb(la,H,ya,Ka){0>=Ka?la=H=ya=NaN:0>=ya||1<=ya?la=H=NaN:0>=H&&(la=NaN);return new ma(la,H,ya,Ka)}function ob(la){if(la instanceof ma)return new ma(la.h,la.s,la.l,la.opacity);la instanceof
Bb||(la=qb(la));if(!la)return new ma;if(la instanceof ma)return la;la=la.rgb();var H=la.r/255,ya=la.g/255,Ka=la.b/255,bb=Math.min(H,ya,Ka),jb=Math.max(H,ya,Ka),Eb=NaN,mc=jb-bb,cc=(jb+bb)/2;mc?(Eb=H===jb?(ya-Ka)/mc+6*(ya<Ka):ya===jb?(Ka-H)/mc+2:(H-ya)/mc+4,mc/=.5>cc?jb+bb:2-jb-bb,Eb*=60):mc=0<cc&&1>cc?0:Eb;return new ma(Eb,mc,cc,la.opacity)}function ma(la,H,ya,Ka){this.h=+la;this.s=+H;this.l=+ya;this.opacity=+Ka}function Y(la){la=(la||0)%360;return 0>la?la+360:la}function Ga(la){return Math.max(0,
Math.min(1,la||0))}function Ea(la,H,ya){return 255*(60>la?H+(ya-H)*la/60:180>la?ya:240>la?H+(ya-H)*(240-la)/60:H)}function db(la,H){return function(ya){return la+ya*H}}function ba(la,H,ya){return la=Math.pow(la,ya),H=Math.pow(H,ya)-la,ya=1/ya,function(Ka){return Math.pow(la+Ka*H,ya)}}function na(la){return 1===(la=+la)?p:function(H,ya){return ya-H?ba(H,ya,la):ad(isNaN(H)?ya:H)}}function p(la,H){var ya=H-la;return ya?db(la,ya):ad(isNaN(la)?H:la)}function L(la,H){H||(H=[]);var ya=la?Math.min(H.length,
la.length):0,Ka=H.slice(),bb;return function(jb){for(bb=0;bb<ya;++bb)Ka[bb]=la[bb]*(1-jb)+H[bb]*jb;return Ka}}function O(la,H){var ya=H?H.length:0,Ka=la?Math.min(ya,la.length):0,bb=Array(Ka),jb=Array(ya),Eb;for(Eb=0;Eb<Ka;++Eb)bb[Eb]=E(la[Eb],H[Eb]);for(;Eb<ya;++Eb)jb[Eb]=H[Eb];return function(mc){for(Eb=0;Eb<Ka;++Eb)jb[Eb]=bb[Eb](mc);return jb}}function f(la,H){var ya=new Date;return la=+la,H=+H,function(Ka){return ya.setTime(la*(1-Ka)+H*Ka),ya}}function v(la,H){return la=+la,H=+H,function(ya){return la*
(1-ya)+H*ya}}function m(la,H){var ya={},Ka={},bb;if(null===la||"object"!==typeof la)la={};if(null===H||"object"!==typeof H)H={};for(bb in H)bb in la?ya[bb]=E(la[bb],H[bb]):Ka[bb]=H[bb];return function(jb){for(bb in ya)Ka[bb]=ya[bb](jb);return Ka}}function C(la){return function(){return la}}function B(la){return function(H){return la(H)+""}}function z(la,H){var ya=ud.lastIndex=Fa.lastIndex=0,Ka,bb,jb,Eb=-1,mc=[],cc=[];la+="";for(H+="";(Ka=ud.exec(la))&&(bb=Fa.exec(H));)(jb=bb.index)>ya&&(jb=H.slice(ya,
jb),mc[Eb]?mc[Eb]+=jb:mc[++Eb]=jb),(Ka=Ka[0])===(bb=bb[0])?mc[Eb]?mc[Eb]+=bb:mc[++Eb]=bb:(mc[++Eb]=null,cc.push({i:Eb,x:v(Ka,bb)})),ya=Fa.lastIndex;ya<H.length&&(jb=H.slice(ya),mc[Eb]?mc[Eb]+=jb:mc[++Eb]=jb);return 2>mc.length?cc[0]?B(cc[0].x):C(H):(H=cc.length,function(gc){for(var Sc=0,ed;Sc<H;++Sc)mc[(ed=cc[Sc]).i]=ed.x(gc);return mc.join("")})}function E(la,H){var ya=typeof H;if(null==H||"boolean"===ya)la=ad(H);else{if("number"===ya)var Ka=v;else"string"===ya?ya=(Ka=qb(H))?(H=Ka,Nd):z:(H instanceof
qb?Ka=Nd:H instanceof Date?Ka=f:(Ka=H,Ka=!ArrayBuffer.isView(Ka)||Ka instanceof DataView?Array.isArray(H)?O:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?m:v:L),ya=Ka),Ka=ya;la=Ka(la,H)}return la}function D(la,H){return la=+la,H=+H,function(ya){return Math.round(la*(1-ya)+H*ya)}}function V(la){return ra.isContinuous(la)&&la!==ra.Sequential}function Aa(la){g.Transform.call(this,null,la);this.modified(!0)}function W(la,H,ya){ra.isLogarithmic(la)&&Math.abs(H.reduce((Ka,bb)=>
Ka+(0>bb?-1:0<bb?1:0),0))!==H.length&&ya.warn("Log scale domain includes zero: "+ib.stringValue(H));return H}function u(la,H,ya){return ib.isFunction(la)&&(H||ya)?ra.interpolateRange(la,K(H||[0,1],ya)):la}function K(la,H){return H?la.slice().reverse():la}function va(la){g.Transform.call(this,null,la)}function Ja(la){g.Transform.call(this,null,la)}function Za(la,H,ya,Ka,bb){H=(H-la.sum)/2;for(var jb=la.length,Eb=0,mc;Eb<jb;++Eb)mc=la[Eb],mc[Ka]=H,mc[bb]=H+=Math.abs(ya(mc))}function Wa(la,H,ya,Ka,bb){H=
1/la.sum;for(var jb=0,Eb=la.length,mc=0,cc=0,gc;mc<Eb;++mc)gc=la[mc],gc[Ka]=jb,gc[bb]=jb=H*(cc+=Math.abs(ya(gc)))}function X(la,H,ya,Ka,bb){for(var jb=H=0,Eb=la.length,mc=0,cc,gc;mc<Eb;++mc)gc=la[mc],cc=+ya(gc),0>cc?(gc[Ka]=jb,gc[bb]=jb+=cc):(gc[Ka]=H,gc[bb]=H+=cc)}function Ba(la,H,ya,Ka){var bb=[],jb=fd=>fd(gc),Eb;if(null==H)bb.push(la.slice());else{var mc={};var cc=0;for(Eb=la.length;cc<Eb;++cc){var gc=la[cc];var Sc=H.map(jb);var ed=mc[Sc];ed||(mc[Sc]=ed=[],bb.push(ed));ed.push(gc)}}jb=Sc=0;for(la=
bb.length;Sc<la;++Sc){ed=bb[Sc];H=cc=0;for(Eb=ed.length;cc<Eb;++cc)H+=Math.abs(Ka(ed[cc]));ed.sum=H;H>jb&&(jb=H);ya&&ed.sort(ya)}bb.max=jb;return bb}ib.inherits(Fb,g.Transform,{transform(la,H){if(this.value&&!la.modified())return H.StopPropagation;var ya=H.dataflow.locale();H=H.fork(H.NO_SOURCE|H.NO_FIELDS);var Ka=this.value,bb=la.scale,jb=ra.tickCount(bb,null==la.count?la.values?la.values.length:10:la.count,la.minstep),Eb=la.format||ra.tickFormat(ya,bb,jb,la.formatSpecifier,la.formatType,!!la.values),
mc=la.values?ra.validTicks(bb,la.values,jb):ra.tickValues(bb,jb);Ka&&(H.rem=Ka);Ka=mc.map((cc,gc)=>g.ingest({index:gc/(mc.length-1||1),value:cc,label:Eb(cc)}));la.extra&&Ka.length&&Ka.push(g.ingest({index:-1,extra:{value:Ka[0].value},label:""}));H.source=Ka;this.value=H.add=Ka;return H}});ib.inherits(Zb,g.Transform,{transform(la,H){var ya=H.dataflow,Ka=H.fork(H.NO_SOURCE|H.NO_FIELDS),bb=la.item||oc,jb=la.key||g.tupleid,Eb=this.value;ib.isArray(Ka.encode)&&(Ka.encode=null);Eb&&(la.modified("key")||
H.modified(jb))&&ib.error("DataJoin does not support modified key function or fields.");Eb||(H=H.addAll(),this.value=Eb=kc(jb));H.visit(H.ADD,mc=>{const cc=jb(mc);let gc=Eb.get(cc);gc?gc.exit?(Eb.empty--,Ka.add.push(gc)):Ka.mod.push(gc):(gc=bb(mc),Eb.set(cc,gc),Ka.add.push(gc));gc.datum=mc;gc.exit=!1});H.visit(H.MOD,mc=>{var cc=jb(mc);if(cc=Eb.get(cc))cc.datum=mc,Ka.mod.push(cc)});H.visit(H.REM,mc=>{var cc=jb(mc);cc=Eb.get(cc);mc!==cc.datum||cc.exit||(Ka.rem.push(cc),cc.exit=!0,++Eb.empty)});H.changed(H.ADD_MOD)&&
Ka.modifies("datum");(H.clean()||la.clean&&Eb.empty>ya.cleanThreshold)&&ya.runAfter(Eb.clean);return Ka}});ib.inherits(Ac,g.Transform,{transform(la,H){var ya=H.fork(H.ADD_REM),Ka=la.mod||!1,bb=la.encoders,jb=H.encode;if(ib.isArray(jb))if(ya.changed()||jb.every(ed=>bb[ed]))jb=jb[0],ya.encode=null;else return H.StopPropagation;var Eb="enter"===jb,mc=bb.update||ib.falsy,cc=bb.enter||ib.falsy,gc=bb.exit||ib.falsy,Sc=(jb&&!Eb?bb[jb]:mc)||ib.falsy;H.changed(H.ADD)&&(H.visit(H.ADD,ed=>{cc(ed,la);mc(ed,la)}),
ya.modifies(cc.output),ya.modifies(mc.output),Sc!==ib.falsy&&Sc!==mc&&(H.visit(H.ADD,ed=>{Sc(ed,la)}),ya.modifies(Sc.output)));H.changed(H.REM)&&gc!==ib.falsy&&(H.visit(H.REM,ed=>{gc(ed,la)}),ya.modifies(gc.output));if(Eb||Sc!==ib.falsy)jb=H.MOD|(la.modified()?H.REFLOW:0),Eb?(H.visit(jb,ed=>{const fd=cc(ed,la)||Ka;(Sc(ed,la)||fd)&&ya.mod.push(ed)}),ya.mod.length&&ya.modifies(cc.output)):H.visit(jb,ed=>{(Sc(ed,la)||Ka)&&ya.mod.push(ed)}),ya.mod.length&&ya.modifies(Sc.output);return ya.changed()?ya:
H.StopPropagation}});ib.inherits(Ab,g.Transform,{transform(la,H){if(null!=this.value&&!la.modified())return H.StopPropagation;var ya=H.dataflow.locale(),Ka=H.fork(H.NO_SOURCE|H.NO_FIELDS),bb=this.value,jb=la.type||ra.SymbolLegend,Eb=la.scale,mc=+la.limit,cc=ra.tickCount(Eb,null==la.count?5:la.count,la.minstep),gc=!!la.values||jb===ra.SymbolLegend,Sc=la.format||ra.labelFormat(ya,Eb,cc,jb,la.formatSpecifier,la.formatType,gc),ed=la.values||ra.labelValues(Eb,cc),fd;bb&&(Ka.rem=bb);if(jb===ra.SymbolLegend){if(mc&&
ed.length>mc){H.dataflow.warn("Symbol legend count exceeds limit, filtering items.");bb=ed.slice(0,mc-1);var Rd=!0}else bb=ed;if(ib.isFunction(fd=la.size)){la.values||0!==Eb(bb[0])||(bb=bb.slice(1));var Td=bb.reduce((be,ce)=>Math.max(be,fd(ce,la)),0)}else fd=ib.constant(Td=fd||8);bb=bb.map((be,ce)=>g.ingest({index:ce,label:Sc(be,ce,bb),value:be,offset:Td,size:fd(be,la)}));Rd&&(Rd=ed[bb.length],bb.push(g.ingest({index:bb.length,label:`\u2026${ed.length-bb.length} entries`,value:Rd,offset:Td,size:fd(Rd,
la)})))}else if(jb===ra.GradientLegend){H=Eb.domain();var Cd=ra.scaleFraction(Eb,H[0],ib.peek(H));3>ed.length&&!la.values&&H[0]!==ib.peek(H)&&(ed=[H[0],ib.peek(H)]);bb=ed.map((be,ce)=>g.ingest({index:ce,label:Sc(be,ce,ed),value:be,perc:Cd(be)}))}else fd=ed.length-1,Cd=ra.labelFraction(Eb),bb=ed.map((be,ce)=>g.ingest({index:ce,label:Sc(be,ce,ed),value:be,perc:ce?Cd(be):0,perc2:ce===fd?1:Cd(ed[ce+1])}));Ka.source=bb;this.value=Ka.add=bb;return Ka}});const ab=la=>la.source.x,Gb=la=>la.source.y,tc=la=>
la.target.x,wc=la=>la.target.y;ec.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",
type:"signal"},{name:"as",type:"string","default":"path"}]};ib.inherits(ec,g.Transform,{transform(la,H){var ya=la.sourceX||ab,Ka=la.sourceY||Gb,bb=la.targetX||tc,jb=la.targetY||wc,Eb=la.as||"path",mc=la.shape||"line",cc=Rc.get(mc+"-"+(la.orient||"vertical"))||Rc.get(mc);cc||ib.error("LinkPath unsupported type: "+la.shape+(la.orient?"-"+la.orient:""));H.visit(H.SOURCE,gc=>{gc[Eb]=cc(ya(gc),Ka(gc),bb(gc),jb(gc))});return H.reflow(la.modified()).modifies(Eb)}});const vc=(la,H,ya,Ka)=>"M"+la+","+H+"L"+
ya+","+Ka,Ec=(la,H,ya,Ka)=>{var bb=ya-la,jb=Ka-H,Eb=Math.hypot(bb,jb)/2;return"M"+la+","+H+"A"+Eb+","+Eb+" "+180*Math.atan2(jb,bb)/Math.PI+" 0 1 "+ya+","+Ka},zc=(la,H,ya,Ka)=>{var bb=ya-la;const jb=Ka-H,Eb=.2*(bb+jb);bb=.2*(jb-bb);return"M"+la+","+H+"C"+(la+Eb)+","+(H+bb)+" "+(ya+bb)+","+(Ka-Eb)+" "+ya+","+Ka},Rc=ib.fastmap({line:vc,"line-radial":(la,H,ya,Ka)=>vc(H*Math.cos(la),H*Math.sin(la),Ka*Math.cos(ya),Ka*Math.sin(ya)),arc:Ec,"arc-radial":(la,H,ya,Ka)=>Ec(H*Math.cos(la),H*Math.sin(la),Ka*Math.cos(ya),
Ka*Math.sin(ya)),curve:zc,"curve-radial":(la,H,ya,Ka)=>zc(H*Math.cos(la),H*Math.sin(la),Ka*Math.cos(ya),Ka*Math.sin(ya)),"orthogonal-horizontal":(la,H,ya,Ka)=>"M"+la+","+H+"V"+Ka+"H"+ya,"orthogonal-vertical":(la,H,ya,Ka)=>"M"+la+","+H+"H"+ya+"V"+Ka,"orthogonal-radial":(la,H,ya,Ka)=>{const bb=Math.cos(ya),jb=Math.sin(ya);return"M"+H*Math.cos(la)+","+H*Math.sin(la)+"A"+H+","+H+" 0 0,"+((Math.abs(ya-la)>Math.PI?ya<=la:ya>la)?1:0)+" "+H*bb+","+H*jb+"L"+Ka*bb+","+Ka*jb},"diagonal-horizontal":(la,H,ya,
Ka)=>{const bb=(la+ya)/2;return"M"+la+","+H+"C"+bb+","+H+" "+bb+","+Ka+" "+ya+","+Ka},"diagonal-vertical":(la,H,ya,Ka)=>{const bb=(H+Ka)/2;return"M"+la+","+H+"C"+la+","+bb+" "+ya+","+bb+" "+ya+","+Ka},"diagonal-radial":(la,H,ya,Ka)=>{const bb=Math.cos(la);la=Math.sin(la);const jb=Math.cos(ya);ya=Math.sin(ya);const Eb=(H+Ka)/2;return"M"+H*bb+","+H*la+"C"+Eb*bb+","+Eb*la+" "+Eb*jb+","+Eb*ya+" "+Ka*jb+","+Ka*ya}});rb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",
type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};ib.inherits(rb,g.Transform,{transform(la,H){var ya=la.as||["startAngle","endAngle"],Ka=ya[0],bb=ya[1],jb=la.startAngle||0,Eb=null!=la.endAngle?la.endAngle:2*Math.PI,mc=H.source,cc=mc.map(la.field||ib.one),gc=cc.length,Sc=jb;jb=(Eb-jb)/Ya(cc);Eb=pc(gc);var ed;la.sort&&Eb.sort((Td,Cd)=>cc[Td]-
cc[Cd]);for(ed=0;ed<gc;++ed){var fd=cc[Eb[ed]];var Rd=mc[Eb[ed]];Rd[Ka]=Sc;Rd[bb]=Sc+=fd*jb}this.value=cc;return H.reflow(la.modified()).modifies(ya)}});var Sd=1/.7,Ia=/^#([0-9a-f]{3,8})$/,Wb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),kb=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),bc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Yb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),hc=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),yc=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Gc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ib(Bb,qb,{copy(la){return Object.assign(new this.constructor,this,la)},displayable(){return this.rgb().displayable()},hex:Ob,formatHex:Ob,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ob(this).formatHsl()},formatRgb:Xa,toString:Xa});Ib(lb,Qa,Nb(Bb,{brighter(la){la=null==la?Sd:Math.pow(Sd,la);return new lb(this.r*la,this.g*la,this.b*la,this.opacity)},
darker(la){la=null==la?.7:Math.pow(.7,la);return new lb(this.r*la,this.g*la,this.b*la,this.opacity)},rgb(){return this},clamp(){return new lb(pb(this.r),pb(this.g),pb(this.b),vb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mb,formatHex:mb,formatHex8:function(){return`#${Mb(this.r)}${Mb(this.g)}${Mb(this.b)}${Mb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Na,toString:Na}));Ib(ma,
function(la,H,ya,Ka){return 1===arguments.length?ob(la):new ma(la,H,ya,null==Ka?1:Ka)},Nb(Bb,{brighter(la){la=null==la?Sd:Math.pow(Sd,la);return new ma(this.h,this.s,this.l*la,this.opacity)},darker(la){la=null==la?.7:Math.pow(.7,la);return new ma(this.h,this.s,this.l*la,this.opacity)},rgb(){var la=this.h%360+360*(0>this.h),H=isNaN(la)||isNaN(this.s)?0:this.s,ya=this.l;H=ya+(.5>ya?ya:1-ya)*H;ya=2*ya-H;return new lb(Ea(240<=la?la-240:la+120,ya,H),Ea(la,ya,H),Ea(120>la?la+240:la-120,ya,H),this.opacity)},
clamp(){return new ma(Y(this.h),Ga(this.s),Ga(this.l),vb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const la=vb(this.opacity);return`${1===la?"hsl(":"hsla("}${Y(this.h)}, ${100*Ga(this.s)}%, ${100*Ga(this.l)}%${1===la?")":`, ${la})`}`}}));var ad=la=>()=>la,Nd=function ya(H){function Ka(jb,Eb){var mc=bb((jb=Qa(jb)).r,(Eb=Qa(Eb)).r),cc=bb(jb.g,Eb.g),gc=bb(jb.b,Eb.b),Sc=p(jb.opacity,Eb.opacity);return function(ed){jb.r=
mc(ed);jb.g=cc(ed);jb.b=gc(ed);jb.opacity=Sc(ed);return jb+""}}var bb=na(H);Ka.gamma=ya;return Ka}(1),ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fa=new RegExp(ud.source,"g");const hb=ib.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));ib.inherits(Aa,g.Transform,{transform(H,ya){var Ka=ya.dataflow,bb=this.value;var jb=H.type;var Eb=
"";if(jb===ra.Sequential)jb=ra.Sequential+"-"+ra.Linear;else{var mc=H.type;ra.isContinuous(mc)&&mc!==ra.Time&&mc!==ra.UTC&&(H.scheme||H.range&&H.range.length&&H.range.every(ib.isString))&&(Eb=H.rawDomain?H.rawDomain.length:H.domain?H.domain.length+ +(null!=H.domainMid):0,Eb=2===Eb?ra.Sequential+"-":3===Eb?ra.Diverging+"-":"");jb=(Eb+jb||ra.Linear).toLowerCase()}bb&&jb===bb.type||(this.value=bb=ra.scale(jb)());for(jb in H)hb[jb]||"padding"===jb&&V(bb.type)||(ib.isFunction(bb[jb])?bb[jb](H[jb]):Ka.warn("Unsupported scale property: "+
jb));Eb=jb=bb;(mc=H.domainRaw)?(bb.domain(W(bb.type,mc,Ka)),mc=mc.length):mc=-1;if(-1<mc)Ka=mc;else{var cc=H.domain;mc=bb.type;var gc;!(gc=H.zero)&&(gc=void 0===H.zero)&&(gc=bb.type,gc=!bb.bins&&(gc===ra.Linear||gc===ra.Pow||gc===ra.Sqrt));if(cc){if(V(mc)&&H.padding&&cc[0]!==ib.peek(cc)){var Sc=H.range,ed=H.padding;var fd=H.exponent;var Rd=H.constant;Sc=Math.abs(ib.peek(Sc)-Sc[0]);ed=Sc/(Sc-2*ed);fd=mc===ra.Log?ib.zoomLog(cc,null,ed):mc===ra.Sqrt?ib.zoomPow(cc,null,ed,.5):mc===ra.Pow?ib.zoomPow(cc,
null,ed,fd||1):mc===ra.Symlog?ib.zoomSymlog(cc,null,ed,Rd||1):ib.zoomLinear(cc,null,ed);cc=cc.slice();cc[0]=fd[0];cc[cc.length-1]=fd[1]}if(gc||null!=H.domainMin||null!=H.domainMax||null!=H.domainMid)fd=(cc=cc.slice()).length-1||1,gc&&(0<cc[0]&&(cc[0]=0),0>cc[fd]&&(cc[fd]=0)),null!=H.domainMin&&(cc[0]=H.domainMin),null!=H.domainMax&&(cc[fd]=H.domainMax),null!=H.domainMid&&(gc=H.domainMid,Rd=gc>cc[fd]?fd+1:gc<cc[0]?0:fd,Rd!==fd&&Ka.warn("Scale domainMid exceeds domain min or max.",gc),cc.splice(Rd,
0,gc));bb.domain(W(mc,cc,Ka));mc===ra.Ordinal&&bb.unknown(H.domainImplicit?ra.scaleImplicit:void 0);H.nice&&bb.nice&&bb.nice(!0!==H.nice&&ra.tickCount(bb,H.nice)||null);Ka=cc.length}else Ka=0}(mc=H.bins)&&!ib.isArray(mc)&&(gc=Eb.domain(),bb=gc[0],gc=ib.peek(gc),cc=mc.step,fd=null==mc.start?bb:mc.start,mc=null==mc.stop?gc:mc.stop,cc||ib.error("Scale bins parameter missing step property."),fd<bb&&(fd=cc*Math.ceil(bb/cc)),mc>gc&&(mc=cc*Math.floor(gc/cc)),mc=pc(fd,mc+cc/2,cc));mc?Eb.bins=mc:Eb.bins&&
delete Eb.bins;Eb.type===ra.BinOrdinal&&(mc?H.domain||H.domainRaw||(Eb.domain(mc),Ka=mc.length):Eb.bins=Eb.domain());bb=Ka;a:{Eb=jb.type;Ka=H.round||!1;mc=H.range;if(null!=H.rangeStep)Eb!==ra.Band&&Eb!==ra.Point&&ib.error("Only band and point scales support rangeStep."),mc=[0,H.rangeStep*ra.bandSpace(bb,Eb===ra.Point?1:(null!=H.paddingInner?H.paddingInner:H.padding)||0,(null!=H.paddingOuter?H.paddingOuter:H.padding)||0)];else if(H.scheme&&(mc=H.schemeExtent,ib.isArray(H.scheme)?gc=ra.interpolateColors(H.scheme,
H.interpolate,H.interpolateGamma):(gc=H.scheme.toLowerCase(),(gc=ra.scheme(gc))||ib.error(`Unrecognized scheme name: ${H.scheme}`)),bb=Eb===ra.Threshold?bb+1:Eb===ra.BinOrdinal?bb-1:Eb===ra.Quantile||Eb===ra.Quantize?+H.schemeCount||5:bb,mc=ra.isInterpolating(Eb)?u(gc,mc,H.reverse):ib.isFunction(gc)?ra.quantizeInterpolator(u(gc,mc),bb):Eb===ra.Ordinal?gc:gc.slice(0,bb),ib.isFunction(mc)))if(jb.interpolator){jb.interpolator(mc);break a}else ib.error(`Scale type ${Eb} does not support interpolating color schemes.`);
mc&&ra.isInterpolating(Eb)?jb.interpolator(ra.interpolateColors(K(mc,H.reverse),H.interpolate,H.interpolateGamma)):(mc&&H.interpolate&&jb.interpolate?jb.interpolate(ra.interpolate(H.interpolate,H.interpolateGamma)):ib.isFunction(jb.round)?jb.round(Ka):ib.isFunction(jb.rangeRound)&&jb.interpolate(Ka?D:E),mc&&jb.range(K(mc,H.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});ib.inherits(va,g.Transform,{transform(H,ya){const Ka=H.modified("sort")||ya.changed(ya.ADD)||ya.modified(H.sort.fields)||
ya.modified("datum");Ka&&ya.source.sort(g.stableCompare(H.sort));this.modified(Ka);return ya}});const ub=["y0","y1"];Ja.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ub}]};ib.inherits(Ja,g.Transform,{transform(H,ya){var Ka=H.as||ub,bb=Ka[0],jb=Ka[1],Eb=g.stableCompare(H.sort),
mc=H.field||ib.one,cc="center"===H.offset?Za:"normalize"===H.offset?Wa:X,gc;Eb=Ba(ya.source,H.groupby,Eb,mc);var Sc=0;var ed=Eb.length;for(gc=Eb.max;Sc<ed;++Sc)cc(Eb[Sc],gc,mc,bb,jb);return ya.reflow(H.modified()).modifies(Ka)}});r.axisticks=Fb;r.datajoin=Zb;r.encode=Ac;r.legendentries=Ab;r.linkpath=ec;r.pie=rb;r.scale=Aa;r.sortitems=va;r.stack=Ja})};
shadow$provide[37]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function*ra(G){for(const ka of G)yield*ka}function ib(G){return 1<G?0:-1>G?gc:Math.acos(G)}function Fb(G){return 1<G?Sc:-1>G?-Sc:Math.asin(G)}function Zb(){}function oc(G,ka){if(G&&Bc.hasOwnProperty(G.type))Bc[G.type](G,
ka)}function kc(G,ka,sa){var Ha=-1;sa=G.length-sa;for(ka.lineStart();++Ha<sa;){var Pa=G[Ha];ka.point(Pa[0],Pa[1],Pa[2])}ka.lineEnd()}function Ac(G,ka){var sa=-1,Ha=G.length;for(ka.polygonStart();++sa<Ha;)kc(G[sa],ka,1);ka.polygonEnd()}function Ab(G,ka){if(G&&Tb.hasOwnProperty(G.type))Tb[G.type](G,ka);else oc(G,ka)}function ec(G){return[ce(G[1],G[0]),Fb(G[2])]}function pc(G){var ka=G[0];G=G[1];var sa=Vd(G);return[sa*Vd(ka),sa*Z(ka),Z(G)]}function Ya(G,ka){return G[0]*ka[0]+G[1]*ka[1]+G[2]*ka[2]}function rb(G,
ka){return[G[1]*ka[2]-G[2]*ka[1],G[2]*ka[0]-G[0]*ka[2],G[0]*ka[1]-G[1]*ka[0]]}function Ib(G,ka){G[0]+=ka[0];G[1]+=ka[1];G[2]+=ka[2]}function Nb(G,ka){return[G[0]*ka,G[1]*ka,G[2]*ka]}function Bb(G){var ka=gb(G[0]*G[0]+G[1]*G[1]+G[2]*G[2]);G[0]/=ka;G[1]/=ka;G[2]/=ka}function Ob(G,ka){function sa(Ha,Pa){return Ha=G(Ha,Pa),ka(Ha[0],Ha[1])}G.invert&&ka.invert&&(sa.invert=function(Ha,Pa){return Ha=ka.invert(Ha,Pa),Ha&&G.invert(Ha[0],Ha[1])});return sa}function Xa(G,ka){Cd(G)>gc&&(G-=Math.round(G/fd)*fd);
return[G,ka]}function qb(G,ka,sa){return(G%=fd)?ka||sa?Ob(Ca(G),Qa(ka,sa)):Ca(G):ka||sa?Qa(ka,sa):Xa}function Oa(G){return function(ka,sa){ka+=G;Cd(ka)>gc&&(ka-=Math.round(ka/fd)*fd);return[ka,sa]}}function Ca(G){var ka=Oa(G);ka.invert=Oa(-G);return ka}function Qa(G,ka){function sa(rc,sc){var Ic=Vd(sc),$c=Vd(rc)*Ic;rc=Z(rc)*Ic;sc=Z(sc);Ic=sc*Ha+$c*Pa;return[ce(rc*dc-Ic*lc,$c*Ha-sc*Pa),Fb(Ic*dc+rc*lc)]}var Ha=Vd(G),Pa=Z(G),dc=Vd(ka),lc=Z(ka);sa.invert=function(rc,sc){var Ic=Vd(sc),$c=Vd(rc)*Ic;rc=
Z(rc)*Ic;sc=Z(sc);Ic=sc*dc-rc*lc;return[ce(rc*dc+sc*lc,$c*Ha+Ic*Pa),Fb(Ic*Ha-$c*Pa)]};return sa}function lb(G){function ka(sa){sa=G(sa[0]*Td,sa[1]*Td);return sa[0]*=Rd,sa[1]*=Rd,sa}G=qb(G[0]*Td,G[1]*Td,2<G.length?G[2]*Td:0);ka.invert=function(sa){sa=G.invert(sa[0]*Td,sa[1]*Td);return sa[0]*=Rd,sa[1]*=Rd,sa};return ka}function mb(G,ka){ka=pc(ka);ka[0]-=G;Bb(ka);G=ib(-ka[1]);return((0>-ka[2]?-G:G)+fd-1E-6)%fd}function Na(){var G=[],ka;return{point:function(sa,Ha,Pa){ka.push([sa,Ha,Pa])},lineStart:function(){G.push(ka=
[])},lineEnd:Zb,rejoin:function(){1<G.length&&G.push(G.pop().concat(G.shift()))},result:function(){var sa=G;G=[];ka=null;return sa}}}function vb(G,ka){return 1E-6>Cd(G[0]-ka[0])&&1E-6>Cd(G[1]-ka[1])}function pb(G,ka,sa,Ha){this.x=G;this.z=ka;this.o=sa;this.e=Ha;this.v=!1;this.n=this.p=null}function Mb(G,ka,sa,Ha,Pa){var dc=[],lc=[];G.forEach(function(Uc){if(!(0>=(bd=Uc.length-1))){var bd,yd=Uc[0],Dd=Uc[bd];if(vb(yd,Dd)){if(!yd[2]&&!Dd[2]){Pa.lineStart();for(rc=0;rc<bd;++rc)Pa.point((yd=Uc[rc])[0],
yd[1]);Pa.lineEnd();return}Dd[0]+=2E-6}dc.push(bd=new pb(yd,Uc,null,!0));lc.push(bd.o=new pb(yd,null,bd,!1));dc.push(bd=new pb(Dd,Uc,null,!1));lc.push(bd.o=new pb(Dd,null,bd,!0))}});if(dc.length){lc.sort(ka);Vb(dc);Vb(lc);var rc=0;for(G=lc.length;rc<G;++rc)lc[rc].e=sa=!sa;sa=dc[0];for(var sc;;){for(var Ic=sa,$c=!0;Ic.v;)if((Ic=Ic.n)===sa)return;ka=Ic.z;Pa.lineStart();do{Ic.v=Ic.o.v=!0;if(Ic.e){if($c)for(rc=0,G=ka.length;rc<G;++rc)Pa.point((sc=ka[rc])[0],sc[1]);else Ha(Ic.x,Ic.n.x,1,Pa);Ic=Ic.n}else{if($c)for(ka=
Ic.p.z,rc=ka.length-1;0<=rc;--rc)Pa.point((sc=ka[rc])[0],sc[1]);else Ha(Ic.x,Ic.p.x,-1,Pa);Ic=Ic.p}Ic=Ic.o;ka=Ic.z;$c=!$c}while(!Ic.v);Pa.lineEnd()}}}function Vb(G){if(ka=G.length){for(var ka,sa=0,Ha=G[0],Pa;++sa<ka;)Ha.n=Pa=G[sa],Pa.p=Ha,Ha=Pa;Ha.n=Pa=G[0];Pa.p=Ha}}function ob(G){return Cd(G[0])<=gc?G[0]:La(G[0])*((Cd(G[0])+gc)%fd-gc)}function ma(G,ka,sa,Ha){return function(Pa){function dc(Hd,he){G(Hd,he)&&Pa.point(Hd,he)}function lc(Hd,he){bd.point(Hd,he)}function rc(){Ce.point=lc;bd.lineStart()}
function sc(){Ce.point=dc;bd.lineEnd()}function Ic(Hd,he){ze.push([Hd,he]);Dd.point(Hd,he)}function $c(){Dd.lineStart();ze=[]}function Uc(){Ic(ze[0][0],ze[0][1]);Dd.lineEnd();var Hd=Dd.clean(),he=yd.result(),De=he.length,mf;ze.pop();He.push(ze);ze=null;if(De)if(Hd&1){if(De=he[0],0<(he=De.length-1)){Od||(Pa.polygonStart(),Od=!0);Pa.lineStart();for(Hd=0;Hd<he;++Hd)Pa.point((mf=De[Hd])[0],mf[1]);Pa.lineEnd()}}else 1<De&&Hd&2&&he.push(he.pop().concat(he.shift())),td.push(he.filter(Y))}var bd=ka(Pa),yd=
Na(),Dd=ka(yd),Od=!1,He,td,ze,Ce={point:dc,lineStart:rc,lineEnd:sc,polygonStart:function(){Ce.point=Ic;Ce.lineStart=$c;Ce.lineEnd=Uc;td=[];He=[]},polygonEnd:function(){Ce.point=dc;Ce.lineStart=rc;Ce.lineEnd=sc;td=Array.from(ra(td));var Hd=He;var he=ob(Ha),De=Ha[1],mf=Z(De),bf=[Z(he),-Vd(he),0],ue=0,ve=0,uf=new cc;1===mf?De=Sc+1E-6:-1===mf&&(De=-Sc-1E-6);mf=0;for(var Kf=Hd.length;mf<Kf;++mf)if(lg=(ff=Hd[mf]).length){var ff,lg,Wd=ff[lg-1],jf=ob(Wd),lf=Wd[1]/2+ed,Ze=Z(lf),Hf=Vd(lf);for(lf=0;lf<lg;++lf,
jf=Cf,Ze=Jf,Hf=wg,Wd=Bf){var Bf=ff[lf],Cf=ob(Bf);wg=Bf[1]/2+ed;var Jf=Z(wg),wg=Vd(wg),eg=Cf-jf,xf=0<=eg?1:-1,Of=xf*eg,bg=Of>gc;Ze*=Jf;uf.add(ce(Ze*xf*Z(Of),Hf*wg+Ze*Vd(Of)));ue+=bg?eg+xf*fd:eg;bg^jf>=he^Cf>=he&&(Wd=rb(pc(Wd),pc(Bf)),Bb(Wd),jf=rb(bf,Wd),Bb(jf),jf=(bg^0<=eg?-1:1)*Fb(jf[2]),De>jf||De===jf&&(Wd[0]||Wd[1]))&&(ve+=bg^0<=eg?1:-1)}}Hd=(-1E-6>ue||1E-6>ue&&-1E-12>uf)^ve&1;td.length?(Od||(Pa.polygonStart(),Od=!0),Mb(td,Ga,Hd,sa,Pa)):Hd&&(Od||(Pa.polygonStart(),Od=!0),Pa.lineStart(),sa(null,
null,1,Pa),Pa.lineEnd());Od&&(Pa.polygonEnd(),Od=!1);td=He=null},sphere:function(){Pa.polygonStart();Pa.lineStart();sa(null,null,1,Pa);Pa.lineEnd();Pa.polygonEnd()}};return Ce}}function Y(G){return 1<G.length}function Ga(G,ka){return(0>(G=G.x)[0]?G[1]-Sc-1E-6:Sc-G[1])-(0>(ka=ka.x)[0]?ka[1]-Sc-1E-6:Sc-ka[1])}function Ea(G){function ka(sc,Ic){return Vd(sc)*Vd(Ic)>Pa}function sa(sc,Ic,$c){var Uc=pc(sc),bd=pc(Ic),yd=[1,0,0];bd=rb(Uc,bd);var Dd=Ya(bd,bd);Uc=bd[0];var Od=Dd-Uc*Uc;if(!Od)return!$c&&sc;Dd=
Pa*Dd/Od;Od=-Pa*Uc/Od;Uc=rb(yd,bd);yd=Nb(yd,Dd);bd=Nb(bd,Od);Ib(yd,bd);bd=Ya(yd,Uc);Dd=Ya(Uc,Uc);Od=bd*bd-Dd*(Ya(yd,yd)-1);if(!(0>Od)){var He=gb(Od);Od=Nb(Uc,(-bd-He)/Dd);Ib(Od,yd);Od=ec(Od);if(!$c)return Od;$c=sc[0];var td=Ic[0];sc=sc[1];Ic=Ic[1];if(td<$c){var ze=$c;$c=td;td=ze}var Ce=td-$c,Hd=1E-6>Cd(Ce-gc);!Hd&&Ic<sc&&(ze=sc,sc=Ic,Ic=ze);if(Hd||1E-6>Ce?Hd?0<sc+Ic^Od[1]<(1E-6>Cd(Od[0]-$c)?sc:Ic):sc<=Od[1]&&Od[1]<=Ic:Ce>gc^($c<=Od[0]&&Od[0]<=td))return Ic=Nb(Uc,(-bd+He)/Dd),Ib(Ic,yd),[Od,ec(Ic)]}}
function Ha(sc,Ic){var $c=lc?G:gc-G,Uc=0;sc<-$c?Uc|=1:sc>$c&&(Uc|=2);Ic<-$c?Uc|=4:Ic>$c&&(Uc|=8);return Uc}var Pa=Vd(G),dc=6*Td,lc=0<Pa,rc=1E-6<Cd(Pa);return ma(ka,function(sc){var Ic,$c,Uc,bd,yd;return{lineStart:function(){bd=Uc=!1;yd=1},point:function(Dd,Od){var He=[Dd,Od],td=ka(Dd,Od);Od=lc?td?0:Ha(Dd,Od):td?Ha(Dd+(0>Dd?gc:-gc),Od):0;!Ic&&(bd=Uc=td)&&sc.lineStart();td!==Uc&&(Dd=sa(Ic,He),!Dd||vb(Ic,Dd)||vb(He,Dd))&&(He[2]=1);if(td!==Uc)yd=0,td?(sc.lineStart(),Dd=sa(He,Ic),sc.point(Dd[0],Dd[1])):
(Dd=sa(Ic,He),sc.point(Dd[0],Dd[1],2),sc.lineEnd()),Ic=Dd;else if(rc&&Ic&&lc^td){var ze;Od&$c||!(ze=sa(He,Ic,!0))||(yd=0,lc?(sc.lineStart(),sc.point(ze[0][0],ze[0][1]),sc.point(ze[1][0],ze[1][1]),sc.lineEnd()):(sc.point(ze[1][0],ze[1][1]),sc.lineEnd(),sc.lineStart(),sc.point(ze[0][0],ze[0][1],3)))}!td||Ic&&vb(Ic,He)||sc.point(He[0],He[1]);Ic=He;Uc=td;$c=Od},lineEnd:function(){Uc&&sc.lineEnd();Ic=null},clean:function(){return yd|(bd&&Uc)<<1}}},function(sc,Ic,$c,Uc){var bd=sc;if(dc){sc=Vd(G);var yd=
Z(G),Dd=$c*dc;if(null==bd)bd=G+$c*fd,Ic=G-Dd/2;else if(bd=mb(sc,bd),Ic=mb(sc,Ic),0<$c?bd<Ic:bd>Ic)bd+=$c*fd;for(var Od=bd;0<$c?Od>Ic:Od<Ic;Od-=Dd)bd=ec([sc,-yd*Vd(Od),-yd*Z(Od)]),Uc.point(bd[0],bd[1])}},lc?[0,-G]:[-gc,G-gc])}function db(G,ka,sa,Ha,Pa,dc){var lc=G[0],rc=G[1],sc=0,Ic=1,$c=ka[0]-lc,Uc=ka[1]-rc;sa-=lc;if($c||!(0<sa)){sa/=$c;if(0>$c){if(sa<sc)return;sa<Ic&&(Ic=sa)}else if(0<$c){if(sa>Ic)return;sa>sc&&(sc=sa)}sa=Pa-lc;if($c||!(0>sa)){sa/=$c;if(0>$c){if(sa>Ic)return;sa>sc&&(sc=sa)}else if(0<
$c){if(sa<sc)return;sa<Ic&&(Ic=sa)}sa=Ha-rc;if(Uc||!(0<sa)){sa/=Uc;if(0>Uc){if(sa<sc)return;sa<Ic&&(Ic=sa)}else if(0<Uc){if(sa>Ic)return;sa>sc&&(sc=sa)}sa=dc-rc;if(Uc||!(0>sa)){sa/=Uc;if(0>Uc){if(sa>Ic)return;sa>sc&&(sc=sa)}else if(0<Uc){if(sa<sc)return;sa<Ic&&(Ic=sa)}0<sc&&(G[0]=lc+sc*$c,G[1]=rc+sc*Uc);1>Ic&&(ka[0]=lc+Ic*$c,ka[1]=rc+Ic*Uc);return!0}}}}}function ba(G,ka,sa,Ha){function Pa(sc,Ic,$c,Uc){var bd=0,yd=0;if(null==sc||(bd=dc(sc,$c))!==(yd=dc(Ic,$c))||0>rc(sc,Ic)^0<$c){do Uc.point(0===bd||
3===bd?G:sa,1<bd?Ha:ka);while((bd=(bd+$c+4)%4)!==yd)}else Uc.point(Ic[0],Ic[1])}function dc(sc,Ic){return 1E-6>Cd(sc[0]-G)?0<Ic?0:3:1E-6>Cd(sc[0]-sa)?0<Ic?2:1:1E-6>Cd(sc[1]-ka)?0<Ic?1:0:0<Ic?3:2}function lc(sc,Ic){return rc(sc.x,Ic.x)}function rc(sc,Ic){var $c=dc(sc,1),Uc=dc(Ic,1);return $c!==Uc?$c-Uc:0===$c?Ic[1]-sc[1]:1===$c?sc[0]-Ic[0]:2===$c?sc[1]-Ic[1]:Ic[0]-sc[0]}return function(sc){function Ic(ue,ve){G<=ue&&ue<=sa&&ka<=ve&&ve<=Ha&&Uc.point(ue,ve)}function $c(ue,ve){var uf=G<=ue&&ue<=sa&&ka<=
ve&&ve<=Ha;Dd&&Od.push([ue,ve]);if(De)He=ue,td=ve,ze=uf,De=!1,uf&&(Uc.lineStart(),Uc.point(ue,ve));else if(uf&&he)Uc.point(ue,ve);else{var Kf=[Ce=Math.max(-1E9,Math.min(1E9,Ce)),Hd=Math.max(-1E9,Math.min(1E9,Hd))],ff=[ue=Math.max(-1E9,Math.min(1E9,ue)),ve=Math.max(-1E9,Math.min(1E9,ve))];db(Kf,ff,G,ka,sa,Ha)?(he||(Uc.lineStart(),Uc.point(Kf[0],Kf[1])),Uc.point(ff[0],ff[1]),uf||Uc.lineEnd(),mf=!1):uf&&(Uc.lineStart(),Uc.point(ue,ve),mf=!1)}Ce=ue;Hd=ve;he=uf}var Uc=sc,bd=Na(),yd,Dd,Od,He,td,ze,Ce,Hd,
he,De,mf,bf={point:Ic,lineStart:function(){bf.point=$c;Dd&&Dd.push(Od=[]);De=!0;he=!1;Ce=Hd=NaN},lineEnd:function(){yd&&($c(He,td),ze&&he&&bd.rejoin(),yd.push(bd.result()));bf.point=Ic;he&&Uc.lineEnd()},polygonStart:function(){Uc=bd;yd=[];Dd=[];mf=!0},polygonEnd:function(){for(var ue,ve=ue=0,uf=Dd.length;ve<uf;++ve){var Kf=Dd[ve],ff=1,lg=Kf.length,Wd=Kf[0],jf=Wd[0];for(Wd=Wd[1];ff<lg;++ff){var lf=jf;var Ze=Wd;Wd=Kf[ff];jf=Wd[0];Wd=Wd[1];Ze<=Ha?Wd>Ha&&(jf-lf)*(Ha-Ze)>(Wd-Ze)*(G-lf)&&++ue:Wd<=Ha&&(jf-
lf)*(Ha-Ze)<(Wd-Ze)*(G-lf)&&--ue}}ve=mf&&ue;uf=(yd=Array.from(ra(yd))).length;if(ve||uf)sc.polygonStart(),ve&&(sc.lineStart(),Pa(null,null,1,sc),sc.lineEnd()),uf&&Mb(yd,lc,ue,Pa,sc),sc.polygonEnd();Uc=sc;yd=Dd=Od=null}};return bf}}function na(){Md.point=p}function p(G,ka){Md.point=L;vd=Fd=G;Jd=Zd=ka}function L(G,ka){Oc.add(Zd*G-Fd*ka);Fd=G;Zd=ka}function O(){L(vd,Jd)}function f(G,ka){nf+=G;T+=ka;++ta}function v(){xc.point=m}function m(G,ka){xc.point=C;f($b=G,Pc=ka)}function C(G,ka){var sa=G-$b,Ha=
ka-Pc;sa=gb(sa*sa+Ha*Ha);eb+=sa*($b+G)/2;zb+=sa*(Pc+ka)/2;Xb+=sa;f($b=G,Pc=ka)}function B(){xc.point=f}function z(){xc.point=D}function E(){V(ea,Ta)}function D(G,ka){xc.point=V;f(ea=$b=G,Ta=Pc=ka)}function V(G,ka){var sa=G-$b,Ha=ka-Pc;sa=gb(sa*sa+Ha*Ha);eb+=sa*($b+G)/2;zb+=sa*(Pc+ka)/2;Xb+=sa;sa=Pc*G-$b*ka;Cc+=sa*($b+G);Ub+=sa*(Pc+ka);I+=3*sa;f($b=G,Pc=ka)}function Aa(G){this._context=G}function W(G,ka){Kc.point=u;Sa=qc=G;fb=pd=ka}function u(G,ka){qc-=G;pd-=ka;md.add(gb(qc*qc+pd*pd));qc=G;pd=ka}function K(G){let ka=
1;this._+=G[0];for(const sa=G.length;ka<sa;++ka)this._+=arguments[ka]+G[ka]}function va(G){const ka=Math.floor(G);if(!(0<=ka))throw new RangeError(`invalid digits: ${G}`);if(15<ka)return K;if(ka!==Qc){const sa=Math.pow(10,ka);Qc=ka;qd=function(Ha){let Pa=1;this._+=Ha[0];for(const dc=Ha.length;Pa<dc;++Pa)this._+=Math.round(arguments[Pa]*sa)/sa+Ha[Pa]}}return qd}function Ja(G,ka){function sa(rc){rc&&("function"===typeof Pa&&lc.pointRadius(+Pa.apply(this,arguments)),Ab(rc,dc(lc)));return lc.result()}
let Ha=3,Pa=4.5,dc,lc;sa.area=function(rc){Ab(rc,dc(se));return se.result()};sa.measure=function(rc){Ab(rc,dc(Xc));return Xc.result()};sa.bounds=function(rc){Ab(rc,dc(re));return re.result()};sa.centroid=function(rc){Ab(rc,dc(Tc));return Tc.result()};sa.projection=function(rc){if(!arguments.length)return G;dc=null==rc?(G=null,Jc):(G=rc).stream;return sa};sa.context=function(rc){if(!arguments.length)return ka;lc=null==rc?(ka=null,new Ad(Ha)):new Aa(ka=rc);"function"!==typeof Pa&&lc.pointRadius(Pa);
return sa};sa.pointRadius=function(rc){if(!arguments.length)return Pa;Pa="function"===typeof rc?rc:(lc.pointRadius(+rc),+rc);return sa};sa.digits=function(rc){if(!arguments.length)return Ha;if(null==rc)Ha=null;else{const sc=Math.floor(rc);if(!(0<=sc))throw new RangeError(`invalid digits: ${rc}`);Ha=sc}null===ka&&(lc=new Ad(Ha));return sa};return sa.projection(G).digits(Ha).context(ka)}function Za(G){return function(ka){var sa=new Wa,Ha;for(Ha in G)sa[Ha]=G[Ha];sa.stream=ka;return sa}}function Wa(){}
function X(G,ka,sa){var Ha=G.clipExtent&&G.clipExtent();G.scale(150).translate([0,0]);null!=Ha&&G.clipExtent(null);Ab(sa,G.stream(re));ka(re.result());null!=Ha&&G.clipExtent(Ha);return G}function Ba(G,ka,sa){return X(G,function(Ha){var Pa=ka[1][0]-ka[0][0],dc=ka[1][1]-ka[0][1],lc=Math.min(Pa/(Ha[1][0]-Ha[0][0]),dc/(Ha[1][1]-Ha[0][1]));Pa=+ka[0][0]+(Pa-lc*(Ha[1][0]+Ha[0][0]))/2;Ha=+ka[0][1]+(dc-lc*(Ha[1][1]+Ha[0][1]))/2;G.scale(150*lc).translate([Pa,Ha])},sa)}function ab(G,ka,sa){return X(G,function(Ha){var Pa=
+ka,dc=Pa/(Ha[1][0]-Ha[0][0]);Pa=(Pa-dc*(Ha[1][0]+Ha[0][0]))/2;Ha=-dc*Ha[0][1];G.scale(150*dc).translate([Pa,Ha])},sa)}function Gb(G,ka,sa){return X(G,function(Ha){var Pa=+ka,dc=Pa/(Ha[1][1]-Ha[0][1]),lc=-dc*Ha[0][0];Ha=(Pa-dc*(Ha[1][1]+Ha[0][1]))/2;G.scale(150*dc).translate([lc,Ha])},sa)}function tc(G){return Za({point:function(ka,sa){ka=G(ka,sa);this.stream.point(ka[0],ka[1])}})}function wc(G,ka){function sa(Ha,Pa,dc,lc,rc,sc,Ic,$c,Uc,bd,yd,Dd,Od,He){var td=Ic-Ha,ze=$c-Pa,Ce=td*td+ze*ze;if(Ce>4*
ka&&Od--){var Hd=lc+bd,he=rc+yd,De=sc+Dd,mf=gb(Hd*Hd+he*he+De*De),bf=Fb(De/=mf),ue=1E-6>Cd(Cd(De)-1)||1E-6>Cd(dc-Uc)?(dc+Uc)/2:ce(he,Hd),ve=G(ue,bf);bf=ve[0];ve=ve[1];var uf=bf-Ha,Kf=ve-Pa,ff=ze*uf-td*Kf;if(ff*ff/Ce>ka||.3<Cd((td*uf+ze*Kf)/Ce-.5)||lc*bd+rc*yd+sc*Dd<Xd)sa(Ha,Pa,dc,lc,rc,sc,bf,ve,ue,Hd/=mf,he/=mf,De,Od,He),He.point(bf,ve),sa(bf,ve,ue,Hd,he,De,Ic,$c,Uc,bd,yd,Dd,Od,He)}}return function(Ha){function Pa(bf,ue){bf=G(bf,ue);Ha.point(bf[0],bf[1])}function dc(){ze=NaN;mf.point=lc;Ha.lineStart()}
function lc(bf,ue){var ve=pc([bf,ue]);ue=G(bf,ue);sa(ze,Ce,td,Hd,he,De,ze=ue[0],Ce=ue[1],td=bf,Hd=ve[0],he=ve[1],De=ve[2],16,Ha);Ha.point(ze,Ce)}function rc(){mf.point=Pa;Ha.lineEnd()}function sc(){dc();mf.point=Ic;mf.lineEnd=$c}function Ic(bf,ue){lc(Uc=bf,ue);bd=ze;yd=Ce;Dd=Hd;Od=he;He=De;mf.point=lc}function $c(){sa(ze,Ce,td,Hd,he,De,bd,yd,Uc,Dd,Od,He,16,Ha);mf.lineEnd=rc;rc()}var Uc,bd,yd,Dd,Od,He,td,ze,Ce,Hd,he,De,mf={point:Pa,lineStart:dc,lineEnd:rc,polygonStart:function(){Ha.polygonStart();
mf.lineStart=sc},polygonEnd:function(){Ha.polygonEnd();mf.lineStart=dc}};return mf}}function vc(G){return Za({point:function(ka,sa){ka=G(ka,sa);return this.stream.point(ka[0],ka[1])}})}function Ec(G,ka,sa,Ha,Pa){function dc(lc,rc){lc*=Ha;rc*=Pa;return[ka+G*lc,sa-G*rc]}dc.invert=function(lc,rc){return[(lc-ka)/G*Ha,(sa-rc)/G*Pa]};return dc}function zc(G,ka,sa,Ha,Pa,dc){function lc(Dd,Od){Dd*=Ha;Od*=Pa;return[sc*Dd-Ic*Od+ka,sa-Ic*Dd-sc*Od]}if(!dc)return Ec(G,ka,sa,Ha,Pa);var rc=Vd(dc);dc=Z(dc);var sc=
rc*G,Ic=dc*G,$c=rc/G,Uc=dc/G,bd=(dc*sa-rc*ka)/G,yd=(dc*ka+rc*sa)/G;lc.invert=function(Dd,Od){return[Ha*($c*Dd-Uc*Od+bd),Pa*(yd-Uc*Dd-$c*Od)]};return lc}function Rc(G){return Sd(function(){return G})()}function Sd(G){function ka(Wd){return Kf(Wd[0]*Td,Wd[1]*Td)}function sa(Wd){return(Wd=Kf.invert(Wd[0],Wd[1]))&&[Wd[0]*Rd,Wd[1]*Rd]}function Ha(){var Wd=zc(lc,0,0,He,td,Od).apply(null,dc(Ic,$c));Wd=zc(lc,rc-Wd[0],sc-Wd[1],He,td,Od);Dd=qb(Uc,bd,yd);uf=Ob(dc,Wd);Kf=Ob(Dd,uf);Wd=uf;ve=+ue?wc(Wd,ue):tc(Wd);
return Pa()}function Pa(){ff=lg=null;return ka}var dc,lc=150,rc=480,sc=250,Ic=0,$c=0,Uc=0,bd=0,yd=0,Dd,Od=0,He=1,td=1,ze=null,Ce=ic,Hd=null,he,De,mf,bf=Jc,ue=.5,ve,uf,Kf,ff,lg;ka.stream=function(Wd){return ff&&lg===Wd?ff:ff=ye(vc(Dd)(Ce(ve(bf(lg=Wd)))))};ka.preclip=function(Wd){return arguments.length?(Ce=Wd,ze=void 0,Pa()):Ce};ka.postclip=function(Wd){return arguments.length?(bf=Wd,Hd=he=De=mf=null,Pa()):bf};ka.clipAngle=function(Wd){return arguments.length?(Ce=+Wd?Ea(ze=Wd*Td):(ze=null,ic),Pa()):
ze*Rd};ka.clipExtent=function(Wd){return arguments.length?(bf=null==Wd?(Hd=he=De=mf=null,Jc):ba(Hd=+Wd[0][0],he=+Wd[0][1],De=+Wd[1][0],mf=+Wd[1][1]),Pa()):null==Hd?null:[[Hd,he],[De,mf]]};ka.scale=function(Wd){return arguments.length?(lc=+Wd,Ha()):lc};ka.translate=function(Wd){return arguments.length?(rc=+Wd[0],sc=+Wd[1],Ha()):[rc,sc]};ka.center=function(Wd){return arguments.length?(Ic=Wd[0]%360*Td,$c=Wd[1]%360*Td,Ha()):[Ic*Rd,$c*Rd]};ka.rotate=function(Wd){return arguments.length?(Uc=Wd[0]%360*Td,
bd=Wd[1]%360*Td,yd=2<Wd.length?Wd[2]%360*Td:0,Ha()):[Uc*Rd,bd*Rd,yd*Rd]};ka.angle=function(Wd){return arguments.length?(Od=Wd%360*Td,Ha()):Od*Rd};ka.reflectX=function(Wd){return arguments.length?(He=Wd?-1:1,Ha()):0>He};ka.reflectY=function(Wd){return arguments.length?(td=Wd?-1:1,Ha()):0>td};ka.precision=function(Wd){if(arguments.length){var jf=uf;var lf=ue=Wd*Wd;jf=(ve=+lf?wc(jf,lf):tc(jf),Pa())}else jf=gb(ue);return jf};ka.fitExtent=function(Wd,jf){return Ba(ka,Wd,jf)};ka.fitSize=function(Wd,jf){return Ba(ka,
[[0,0],Wd],jf)};ka.fitWidth=function(Wd,jf){return ab(ka,Wd,jf)};ka.fitHeight=function(Wd,jf){return Gb(ka,Wd,jf)};return function(){dc=G.apply(this,arguments);ka.invert=dc.invert&&sa;return Ha()}}function Ia(G){var ka=0,sa=gc/3,Ha=Sd(G);G=Ha(ka,sa);G.parallels=function(Pa){return arguments.length?Ha(ka=Pa[0]*Td,sa=Pa[1]*Td):[ka*Rd,sa*Rd]};return G}function Wb(G){function ka(Ha,Pa){return[Ha*sa,Z(Pa)/sa]}var sa=Vd(G);ka.invert=function(Ha,Pa){return[Ha/sa,Fb(Pa*sa)]};return ka}function kb(G,ka){function sa(rc,
sc){sc=gb(dc-2*Pa*Z(sc))/Pa;return[sc*Z(rc*=Pa),lc-sc*Vd(rc)]}var Ha=Z(G),Pa=(Ha+Z(ka))/2;if(1E-6>Cd(Pa))return Wb(G);var dc=1+Ha*(2*Pa-Ha),lc=gb(dc)/Pa;sa.invert=function(rc,sc){sc=lc-sc;var Ic=ce(rc,Cd(sc))*La(sc);0>sc*Pa&&(Ic-=gc*La(rc)*La(sc));return[Ic/Pa,Fb((dc-(rc*rc+sc*sc)*Pa*Pa)/(2*Pa))]};return sa}function bc(){return Ia(kb).scale(155.424).center([0,33.6442])}function Yb(){return bc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function hc(G){var ka=
G.length;return{point:function(sa,Ha){for(var Pa=-1;++Pa<ka;)G[Pa].point(sa,Ha)},sphere:function(){for(var sa=-1;++sa<ka;)G[sa].sphere()},lineStart:function(){for(var sa=-1;++sa<ka;)G[sa].lineStart()},lineEnd:function(){for(var sa=-1;++sa<ka;)G[sa].lineEnd()},polygonStart:function(){for(var sa=-1;++sa<ka;)G[sa].polygonStart()},polygonEnd:function(){for(var sa=-1;++sa<ka;)G[sa].polygonEnd()}}}function yc(G){return function(ka,sa){var Ha=Vd(ka),Pa=Vd(sa);Ha=G(Ha*Pa);return Infinity===Ha?[2,0]:[Ha*Pa*
Z(ka),Ha*Z(sa)]}}function Gc(G){return function(ka,sa){var Ha=gb(ka*ka+sa*sa),Pa=G(Ha),dc=Z(Pa);Pa=Vd(Pa);return[ce(ka*dc,Ha*Pa),Fb(Ha&&sa*dc/Ha)]}}function ad(G,ka){return[G,$d(Jb((Sc+ka)/2))]}function Nd(G){function ka(){var Uc=gc*Pa(),bd=sa(lb(sa.rotate()).invert([0,0]));return lc(null==rc?[[bd[0]-Uc,bd[1]-Uc],[bd[0]+Uc,bd[1]+Uc]]:G===ad?[[Math.max(bd[0]-Uc,rc),sc],[Math.min(bd[0]+Uc,Ic),$c]]:[[rc,Math.max(bd[1]-Uc,sc)],[Ic,Math.min(bd[1]+Uc,$c)]])}var sa=Rc(G),Ha=sa.center,Pa=sa.scale,dc=sa.translate,
lc=sa.clipExtent,rc=null,sc,Ic,$c;sa.scale=function(Uc){return arguments.length?(Pa(Uc),ka()):Pa()};sa.translate=function(Uc){return arguments.length?(dc(Uc),ka()):dc()};sa.center=function(Uc){return arguments.length?(Ha(Uc),ka()):Ha()};sa.clipExtent=function(Uc){return arguments.length?(null==Uc?rc=sc=Ic=$c=null:(rc=+Uc[0][0],sc=+Uc[0][1],Ic=+Uc[1][0],$c=+Uc[1][1]),ka()):null==rc?null:[[rc,sc],[Ic,$c]]};return ka()}function ud(G,ka){function sa(lc,rc){0<dc?rc<-Sc+1E-6&&(rc=-Sc+1E-6):rc>Sc-1E-6&&
(rc=Sc-1E-6);rc=dc/M(Jb((Sc+rc)/2),Pa);return[rc*Z(Pa*lc),dc-rc*Vd(Pa*lc)]}var Ha=Vd(G),Pa=G===ka?Z(G):$d(Ha/Vd(ka))/$d(Jb((Sc+ka)/2)/Jb((Sc+G)/2)),dc=Ha*M(Jb((Sc+G)/2),Pa)/Pa;if(!Pa)return ad;sa.invert=function(lc,rc){rc=dc-rc;var sc=La(Pa)*gb(lc*lc+rc*rc),Ic=ce(lc,Cd(rc))*La(rc);0>rc*Pa&&(Ic-=gc*La(lc)*La(rc));return[Ic/Pa,2*be(M(dc/sc,1/Pa))-Sc]};return sa}function Fa(G,ka){return[G,ka]}function hb(G,ka){function sa(lc,rc){rc=dc-rc;lc*=Pa;return[rc*Z(lc),dc-rc*Vd(lc)]}var Ha=Vd(G),Pa=G===ka?Z(G):
(Ha-Vd(ka))/(ka-G),dc=Ha/Pa+G;if(1E-6>Cd(Pa))return Fa;sa.invert=function(lc,rc){rc=dc-rc;var sc=ce(lc,Cd(rc))*La(rc);0>rc*Pa&&(sc-=gc*La(lc)*La(rc));return[sc/Pa,dc-La(Pa)*gb(lc*lc+rc*rc)]};return sa}function ub(G,ka){ka=Fb(tf*Z(ka));var sa=ka*ka,Ha=sa*sa*sa;return[G*Vd(ka)/(tf*(1.340264+3*-.081106*sa+Ha*(7*8.93E-4+.034164*sa))),ka*(1.340264+-.081106*sa+Ha*(8.93E-4+.003796*sa))]}function la(G,ka){var sa=Vd(ka),Ha=Vd(G)*sa;return[sa*Z(G)/Ha,Z(ka)/Ha]}function H(G,ka){var sa=ka*ka,Ha=sa*sa;return[G*
(.8707-.131979*sa+Ha*(-.013791+Ha*(.003971*sa-.001529*Ha))),ka*(1.007226+sa*(.015085+Ha*(-.044475+.028874*sa-.005916*Ha)))]}function ya(G,ka){return[Vd(ka)*Z(G),Z(ka)]}function Ka(G,ka){var sa=Vd(ka),Ha=1+Vd(G)*sa;return[sa*Z(G)/Ha,Z(ka)/Ha]}function bb(G,ka){return[$d(Jb((Sc+ka)/2)),-G]}function jb(G){return 1<G?Gd:-1>G?-Gd:Math.asin(G)}function Eb(G,ka){return function Ha(){const Pa=ka();Pa.type=G;Pa.path=Ja().projection(Pa);Pa.copy=Pa.copy||function(){const dc=Ha();N.forEach(lc=>{if(Pa[lc])dc[lc](Pa[lc]())});
dc.path.pointRadius(Pa.path.pointRadius());return dc};return g.registerScale(Pa)}}function mc(G,ka){if(!G||"string"!==typeof G)throw Error("Projection type must be a name string.");G=G.toLowerCase();return 1<arguments.length?(da[G]=Eb(G,ka),this):da[G]||null}class cc{constructor(){this._partials=new Float64Array(32);this._n=0}add(G){const ka=this._partials;let sa=0;for(let Ha=0;Ha<this._n&&32>Ha;Ha++){const Pa=ka[Ha],dc=G+Pa;(G=Math.abs(G)<Math.abs(Pa)?G-(dc-Pa):Pa-(dc-G))&&(ka[sa++]=G);G=dc}ka[sa]=
G;this._n=sa+1;return this}valueOf(){const G=this._partials;let ka=this._n;let sa,Ha=0;if(0<ka){for(Ha=G[--ka];0<ka;){var Pa=Ha;sa=G[--ka];Ha=Pa+sa;if(Pa=sa-(Ha-Pa))break}0<ka&&(0>Pa&&0>G[ka-1]||0<Pa&&0<G[ka-1])&&(sa=2*Pa,Pa=Ha+sa,sa==Pa-Ha&&(Ha=Pa))}return Ha}}var gc=Math.PI,Sc=gc/2,ed=gc/4,fd=2*gc,Rd=180/gc,Td=gc/180,Cd=Math.abs,be=Math.atan,ce=Math.atan2,Vd=Math.cos,Te=Math.exp,$d=Math.log,M=Math.pow,Z=Math.sin,La=Math.sign||function(G){return 0<G?1:0>G?-1:0},gb=Math.sqrt,Jb=Math.tan,Tb={Feature:function(G,
ka){oc(G.geometry,ka)},FeatureCollection:function(G,ka){G=G.features;for(var sa=-1,Ha=G.length;++sa<Ha;)oc(G[sa].geometry,ka)}},Bc={Sphere:function(G,ka){ka.sphere()},Point:function(G,ka){G=G.coordinates;ka.point(G[0],G[1],G[2])},MultiPoint:function(G,ka){for(var sa=G.coordinates,Ha=-1,Pa=sa.length;++Ha<Pa;)G=sa[Ha],ka.point(G[0],G[1],G[2])},LineString:function(G,ka){kc(G.coordinates,ka,0)},MultiLineString:function(G,ka){G=G.coordinates;for(var sa=-1,Ha=G.length;++sa<Ha;)kc(G[sa],ka,0)},Polygon:function(G,
ka){Ac(G.coordinates,ka)},MultiPolygon:function(G,ka){G=G.coordinates;for(var sa=-1,Ha=G.length;++sa<Ha;)Ac(G[sa],ka)},GeometryCollection:function(G,ka){G=G.geometries;for(var sa=-1,Ha=G.length;++sa<Ha;)oc(G[sa],ka)}};Xa.invert=Xa;var ic=ma(function(){return!0},function(G){var ka=NaN,sa=NaN,Ha=NaN,Pa;return{lineStart:function(){G.lineStart();Pa=1},point:function(dc,lc){var rc=0<dc?gc:-gc,sc=Cd(dc-ka);if(1E-6>Cd(sc-gc))G.point(ka,sa=0<(sa+lc)/2?Sc:-Sc),G.point(Ha,sa),G.lineEnd(),G.lineStart(),G.point(rc,
sa),G.point(dc,sa),Pa=0;else if(Ha!==rc&&sc>=gc){1E-6>Cd(ka-Ha)&&(ka-=1E-6*Ha);1E-6>Cd(dc-rc)&&(dc-=1E-6*rc);sc=ka;var Ic=sa,$c=dc,Uc,bd,yd=Z(sc-$c);sa=1E-6<Cd(yd)?be((Z(Ic)*(bd=Vd(lc))*Z($c)-Z(lc)*(Uc=Vd(Ic))*Z(sc))/(Uc*bd*yd)):(Ic+lc)/2;G.point(Ha,sa);G.lineEnd();G.lineStart();G.point(rc,sa);Pa=0}G.point(ka=dc,sa=lc);Ha=rc},lineEnd:function(){G.lineEnd();ka=sa=NaN},clean:function(){return 2-Pa}}},function(G,ka,sa,Ha){null==G?(sa*=Sc,Ha.point(-gc,sa),Ha.point(0,sa),Ha.point(gc,sa),Ha.point(gc,0),
Ha.point(gc,-sa),Ha.point(0,-sa),Ha.point(-gc,-sa),Ha.point(-gc,0),Ha.point(-gc,sa)):1E-6<Cd(G[0]-ka[0])?(G=G[0]<ka[0]?gc:-gc,sa=sa*G/2,Ha.point(-G,sa),Ha.point(0,sa),Ha.point(G,sa)):Ha.point(ka[0],ka[1])},[-gc,-Sc]),Jc=G=>G,dd=new cc,Oc=new cc,vd,Jd,Fd,Zd,Md={point:Zb,lineStart:Zb,lineEnd:Zb,polygonStart:function(){Md.lineStart=na;Md.lineEnd=O},polygonEnd:function(){Md.lineStart=Md.lineEnd=Md.point=Zb;dd.add(Cd(Oc));Oc=new cc},result:function(){var G=dd/2;dd=new cc;return G}},se=Md,Ae=Infinity,hf=
Ae,cf=-Ae,df=cf,re={point:function(G,ka){G<Ae&&(Ae=G);G>cf&&(cf=G);ka<hf&&(hf=ka);ka>df&&(df=ka)},lineStart:Zb,lineEnd:Zb,polygonStart:Zb,polygonEnd:Zb,result:function(){var G=[[Ae,hf],[cf,df]];cf=df=-(hf=Ae=Infinity);return G}},nf=0,T=0,ta=0,eb=0,zb=0,Xb=0,Cc=0,Ub=0,I=0,ea,Ta,$b,Pc,xc={point:f,lineStart:v,lineEnd:B,polygonStart:function(){xc.lineStart=z;xc.lineEnd=E},polygonEnd:function(){xc.point=f;xc.lineStart=v;xc.lineEnd=B},result:function(){var G=I?[Cc/I,Ub/I]:Xb?[eb/Xb,zb/Xb]:ta?[nf/ta,T/ta]:
[NaN,NaN];nf=T=ta=eb=zb=Xb=Cc=Ub=I=0;return G}},Tc=xc;Aa.prototype={_radius:4.5,pointRadius:function(G){return this._radius=G,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(G,ka){switch(this._point){case 0:this._context.moveTo(G,ka);this._point=1;break;case 1:this._context.lineTo(G,ka);break;default:this._context.moveTo(G+this._radius,
ka),this._context.arc(G,ka,this._radius,0,fd)}},result:Zb};var md=new cc,de,Sa,fb,qc,pd,Kc={point:Zb,lineStart:function(){Kc.point=W},lineEnd:function(){de&&u(Sa,fb);Kc.point=Zb},polygonStart:function(){de=!0},polygonEnd:function(){de=null},result:function(){var G=+md;md=new cc;return G}},Xc=Kc;let Qc,qd,jd,Qd;class Ad{constructor(G){this._append=null==G?K:va(G);this._radius=4.5;this._=""}pointRadius(G){this._radius=+G;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(G,ka){switch(this._point){case 0:this._append`M${G},${ka}`;this._point=1;break;case 1:this._append`L${G},${ka}`;break;default:this._append`M${G},${ka}`;if(this._radius!==jd||this._append!==qd)G=this._radius,ka=this._,this._="",this._append`m0,${G}a${G},${G} 0 1,1 0,${-2*G}a${G},${G} 0 1,1 0,${2*G}z`,jd=G,qd=this._append,Qd=this._,this._=ka;this._+=Qd}}result(){const G=this._;this._="";return G.length?G:null}}Wa.prototype={constructor:Wa,
point:function(G,ka){this.stream.point(G,ka)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Xd=Vd(30*Td),ye=Za({point:function(G,ka){this.stream.point(G*Td,ka*Td)}}),Oe=yc(function(G){return gb(2/(1+G))});Oe.invert=Gc(function(G){return 2*Fb(G/2)});var Ge=yc(function(G){return(G=ib(G))&&G/Z(G)});Ge.invert=Gc(function(G){return G});
ad.invert=function(G,ka){return[G,2*be(Te(ka))-Sc]};Fa.invert=Fa;var tf=gb(3)/2;ub.invert=function(G,ka){for(var sa=ka,Ha=sa*sa,Pa=Ha*Ha*Ha,dc=0,lc;12>dc&&!(lc=sa*(1.340264+-.081106*Ha+Pa*(8.93E-4+.003796*Ha))-ka,Ha=1.340264+3*-.081106*Ha+Pa*(7*8.93E-4+.034164*Ha),sa-=lc/=Ha,Ha=sa*sa,Pa=Ha*Ha*Ha,1E-12>Cd(lc));++dc);return[tf*G*(1.340264+3*-.081106*Ha+Pa*(7*8.93E-4+.034164*Ha))/Vd(sa),Fb(Z(sa)/tf)]};la.invert=Gc(be);H.invert=function(G,ka){var sa=ka,Ha=25;do{var Pa=sa*sa;var dc=Pa*Pa;sa-=dc=(sa*(1.007226+
Pa*(.015085+dc*(-.044475+.028874*Pa-.005916*dc)))-ka)/(1.007226+Pa*(.045255+dc*(-.311325+.259866*Pa-.005916*11*dc)))}while(1E-6<Cd(dc)&&0<--Ha);return[G/(.8707+(Pa=sa*sa)*(-.131979+Pa*(-.013791+Pa*Pa*Pa*(.003971-.001529*Pa)))),sa]};ya.invert=Gc(Fb);Ka.invert=Gc(function(G){return 2*be(G)});bb.invert=function(G,ka){return[-ka,2*be(Te(G))-Sc]};var ld=Math.abs,Fc=Math.cos,id=Math.sin,Dc=Math.PI,Gd=Dc/2,ae=Math.sqrt(2),Yd=function(G,ka,sa){function Ha(Pa,dc){var lc=dc,rc=sa*id(lc),sc=30,Ic;do lc-=Ic=
(lc+id(lc)-rc)/(1+Fc(lc));while(1E-6<ld(Ic)&&0<--sc);return[G*Pa*Fc(dc=lc/2),ka*id(dc)]}Ha.invert=function(Pa,dc){return dc=jb(dc/ka),[Pa/(G*Fc(dc)),jb((2*dc+id(2*dc))/sa)]};return Ha}(ae/Gd,ae,Dc);const le=Ja(),N="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),da={albers:Yb,albersusa:function(){function G(bd){var yd=bd[0];bd=bd[1];return $c=null,(dc.point(yd,bd),$c)||(rc.point(yd,
bd),$c)||(Ic.point(yd,bd),$c)}function ka(){sa=Ha=null;return G}var sa,Ha,Pa=Yb(),dc,lc=bc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),rc,sc=bc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ic,$c,Uc={point:function(bd,yd){$c=[bd,yd]}};G.invert=function(bd){var yd=Pa.scale(),Dd=Pa.translate(),Od=(bd[0]-Dd[0])/yd;yd=(bd[1]-Dd[1])/yd;return(.12<=yd&&.234>yd&&-.425<=Od&&-.214>Od?lc:.166<=yd&&.234>yd&&-.214<=Od&&-.115>Od?sc:Pa).invert(bd)};G.stream=function(bd){return sa&&Ha===bd?sa:
sa=hc([Pa.stream(Ha=bd),lc.stream(bd),sc.stream(bd)])};G.precision=function(bd){if(!arguments.length)return Pa.precision();Pa.precision(bd);lc.precision(bd);sc.precision(bd);return ka()};G.scale=function(bd){if(!arguments.length)return Pa.scale();Pa.scale(bd);lc.scale(.35*bd);sc.scale(bd);return G.translate(Pa.translate())};G.translate=function(bd){if(!arguments.length)return Pa.translate();var yd=Pa.scale(),Dd=+bd[0],Od=+bd[1];dc=Pa.translate(bd).clipExtent([[Dd-.455*yd,Od-.238*yd],[Dd+.455*yd,Od+
.238*yd]]).stream(Uc);rc=lc.translate([Dd-.307*yd,Od+.201*yd]).clipExtent([[Dd-.425*yd+1E-6,Od+.12*yd+1E-6],[Dd-.214*yd-1E-6,Od+.234*yd-1E-6]]).stream(Uc);Ic=sc.translate([Dd-.205*yd,Od+.212*yd]).clipExtent([[Dd-.214*yd+1E-6,Od+.166*yd+1E-6],[Dd-.115*yd-1E-6,Od+.234*yd-1E-6]]).stream(Uc);return ka()};G.fitExtent=function(bd,yd){return Ba(G,bd,yd)};G.fitSize=function(bd,yd){return Ba(G,[[0,0],bd],yd)};G.fitWidth=function(bd,yd){return ab(G,bd,yd)};G.fitHeight=function(bd,yd){return Gb(G,bd,yd)};return G.scale(1070)},
azimuthalequalarea:function(){return Rc(Oe).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Rc(Ge).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ia(ud).scale(109.5).parallels([30,30])},conicequalarea:bc,conicequidistant:function(){return Ia(hb).scale(131.154).center([0,13.9389])},equalEarth:function(){return Rc(ub).scale(177.158)},equirectangular:function(){return Rc(Fa).scale(152.63)},gnomonic:function(){return Rc(la).scale(144.049).clipAngle(60)},identity:function(){function G(){Dd=
sa*dc;Od=sa*lc;ze=Ce=null;return ka}function ka(Hd){var he=Hd[0]*Dd;Hd=Hd[1]*Od;if(rc){var De=Hd*sc-he*Ic;he=he*sc+Hd*Ic;Hd=De}return[he+Ha,Hd+Pa]}var sa=1,Ha=0,Pa=0,dc=1,lc=1,rc=0,sc,Ic,$c=null,Uc,bd,yd,Dd=1,Od=1,He=Za({point:function(Hd,he){Hd=ka([Hd,he]);this.stream.point(Hd[0],Hd[1])}}),td=Jc,ze,Ce;ka.invert=function(Hd){var he=Hd[0]-Ha;Hd=Hd[1]-Pa;if(rc){var De=Hd*sc+he*Ic;he=he*sc-Hd*Ic;Hd=De}return[he/Dd,Hd/Od]};ka.stream=function(Hd){return ze&&Ce===Hd?ze:ze=He(td(Ce=Hd))};ka.postclip=function(Hd){return arguments.length?
(td=Hd,$c=Uc=bd=yd=null,G()):td};ka.clipExtent=function(Hd){return arguments.length?(td=null==Hd?($c=Uc=bd=yd=null,Jc):ba($c=+Hd[0][0],Uc=+Hd[0][1],bd=+Hd[1][0],yd=+Hd[1][1]),G()):null==$c?null:[[$c,Uc],[bd,yd]]};ka.scale=function(Hd){return arguments.length?(sa=+Hd,G()):sa};ka.translate=function(Hd){return arguments.length?(Ha=+Hd[0],Pa=+Hd[1],G()):[Ha,Pa]};ka.angle=function(Hd){return arguments.length?(rc=Hd%360*Td,Ic=Z(rc),sc=Vd(rc),G()):rc*Rd};ka.reflectX=function(Hd){return arguments.length?
(dc=Hd?-1:1,G()):0>dc};ka.reflectY=function(Hd){return arguments.length?(lc=Hd?-1:1,G()):0>lc};ka.fitExtent=function(Hd,he){return Ba(ka,Hd,he)};ka.fitSize=function(Hd,he){return Ba(ka,[[0,0],Hd],he)};ka.fitWidth=function(Hd,he){return ab(ka,Hd,he)};ka.fitHeight=function(Hd,he){return Gb(ka,Hd,he)};return ka},mercator:function(){return Nd(ad).scale(961/fd)},mollweide:function(){return Rc(Yd).scale(169.529)},naturalEarth1:function(){return Rc(H).scale(175.295)},orthographic:function(){return Rc(ya).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return Rc(Ka).scale(250).clipAngle(142)},transversemercator:function(){var G=Nd(bb),ka=G.center,sa=G.rotate;G.center=function(Ha){return arguments.length?ka([-Ha[1],Ha[0]]):(Ha=ka(),[Ha[1],-Ha[0]])};G.rotate=function(Ha){return arguments.length?sa([Ha[0],Ha[1],2<Ha.length?Ha[2]+90:90]):(Ha=sa(),[Ha[0],Ha[1],Ha[2]-90])};return sa([0,0,90]).scale(159.155)}};for(const G in da)mc(G,da[G]);r.getProjectionPath=function(G){return G&&G.path||le};r.projection=mc;r.projectionProperties=
N})};
shadow$provide[38]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(21),Cb(30),Cb(37),Cb(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb,Zb){function oc(H,ya,Ka){var bb=(ya-H)/Math.max(0,Ka),jb=
Math.floor(Math.log10(bb));bb/=Math.pow(10,jb);bb=bb>=Sd?10:bb>=Ia?5:bb>=Wb?2:1;let Eb;0>jb?(Eb=Math.pow(10,-jb)/bb,jb=Math.round(H*Eb),bb=Math.round(ya*Eb),jb/Eb<H&&++jb,bb/Eb>ya&&--bb,Eb=-Eb):(Eb=Math.pow(10,jb)*bb,jb=Math.round(H/Eb),bb=Math.round(ya/Eb),jb*Eb<H&&++jb,bb*Eb>ya&&--bb);return bb<jb&&.5<=Ka&&2>Ka?oc(H,ya,2*Ka):[jb,bb,Eb]}function kc(H,ya,Ka){return oc(+H,+ya,+Ka)[2]}function Ac(H,ya){let Ka;if(void 0===ya)for(var bb of H)null!=bb&&(Ka<bb||void 0===Ka&&bb>=bb)&&(Ka=bb);else{bb=-1;
for(let jb of H)null!=(jb=ya(jb,++bb,H))&&(Ka<jb||void 0===Ka&&jb>=jb)&&(Ka=jb)}return Ka}function Ab(H,ya,Ka){H=+H;ya=+ya;Ka=2>(jb=arguments.length)?(ya=H,H=0,1):3>jb?1:+Ka;for(var bb=-1,jb=Math.max(0,Math.ceil((ya-H)/Ka))|0,Eb=Array(jb);++bb<jb;)Eb[bb]=H+bb*Ka;return Eb}function ec(H,ya){let Ka=0;if(void 0===ya)for(var bb of H){if(bb=+bb)Ka+=bb}else{bb=-1;for(let jb of H)if(jb=+ya(jb,++bb,H))Ka+=jb}return Ka}function pc(){}function Ya(){function H(cc,gc){return gc.map(Sc=>ya(cc,Sc))}function ya(cc,
gc){var Sc=[],ed=[];Ka(cc,gc,fd=>{mc(fd,cc,gc);for(var Rd=0,Td=fd.length,Cd=fd[Td-1][1]*fd[0][0]-fd[Td-1][0]*fd[0][1];++Rd<Td;)Cd+=fd[Rd-1][1]*fd[Rd][0]-fd[Rd-1][0]*fd[Rd][1];0<Cd?Sc.push([fd]):ed.push(fd)});ed.forEach(fd=>{for(var Rd=0,Td=Sc.length,Cd;Rd<Td;++Rd){a:{var be=(Cd=Sc[Rd])[0];for(var ce=fd,Vd=-1,Te=ce.length;++Vd<Te;){b:{var $d=be;for(var M=ce[Vd],Z=M[0],La=M[1],gb=-1,Jb=0,Tb=$d.length,Bc=Tb-1;Jb<Tb;Bc=Jb++){var ic=$d[Jb],Jc=ic[0],dd=ic[1],Oc=$d[Bc];Bc=Oc[0];var vd=Oc[1],Jd,Fd=ic;ic=
Oc;Oc=M;if(Jd=(ic[0]-Fd[0])*(Oc[1]-Fd[1])===(Oc[0]-Fd[0])*(ic[1]-Fd[1]))Fd=Fd[Jd=+(Fd[0]===ic[0])],Oc=Oc[Jd],ic=ic[Jd],Jd=Fd<=Oc&&Oc<=ic||ic<=Oc&&Oc<=Fd;if(Jd){$d=0;break b}dd>La!==vd>La&&Z<(Bc-Jc)*(La-dd)/(vd-dd)+Jc&&(gb=-gb)}$d=gb}if($d){be=$d;break a}}be=0}if(-1!==be){Cd.push(fd);break}}});return{type:"MultiPolygon",value:gc,coordinates:Sc}}function Ka(cc,gc,Sc){function ed($d){var M=[$d[0][0]+Cd,$d[0][1]+Td];$d=[$d[1][0]+Cd,$d[1][1]+Td];var Z=2*M[0]+M[1]*(jb+1)*4,La=2*$d[0]+$d[1]*(jb+1)*4,gb,
Jb;(gb=Rd[Z])?(Jb=fd[La])?(delete Rd[gb.end],delete fd[Jb.start],gb===Jb?(gb.ring.push($d),Sc(gb.ring)):fd[gb.start]=Rd[Jb.end]={start:gb.start,end:Jb.end,ring:gb.ring.concat(Jb.ring)}):(delete Rd[gb.end],gb.ring.push($d),Rd[gb.end=La]=gb):(gb=fd[La])?(Jb=Rd[Z])?(delete fd[gb.start],delete Rd[Jb.end],gb===Jb?(gb.ring.push($d),Sc(gb.ring)):fd[Jb.start]=Rd[gb.end]={start:Jb.start,end:gb.end,ring:Jb.ring.concat(gb.ring)}):(delete fd[gb.start],gb.ring.unshift(M),fd[gb.start=Z]=gb):fd[Z]=Rd[La]={start:Z,
end:La,ring:[M,$d]}}var fd=[],Rd=[],Td;var Cd=Td=-1;var be=cc[0]>=gc;for(kb[be<<1].forEach(ed);++Cd<jb-1;){var ce=be;be=cc[Cd+1]>=gc;kb[ce|be<<1].forEach(ed)}for(kb[be<<0].forEach(ed);++Td<Eb-1;){Cd=-1;be=cc[Td*jb+jb]>=gc;var Vd=cc[Td*jb]>=gc;for(kb[be<<1|Vd<<2].forEach(ed);++Cd<jb-1;){ce=be;be=cc[Td*jb+jb+Cd+1]>=gc;var Te=Vd;Vd=cc[Td*jb+Cd+1]>=gc;kb[ce|be<<1|Vd<<2|Te<<3].forEach(ed)}kb[be|Vd<<3].forEach(ed)}Cd=-1;Vd=cc[Td*jb]>=gc;for(kb[Vd<<2].forEach(ed);++Cd<jb-1;)Te=Vd,Vd=cc[Td*jb+Cd+1]>=gc,kb[Vd<<
2|Te<<3].forEach(ed);kb[Vd<<3].forEach(ed)}function bb(cc,gc,Sc){cc.forEach(ed=>{var fd=ed[0],Rd=ed[1],Td=fd|0,Cd=Rd|0,be=gc[Cd*jb+Td];if(0<fd&&fd<jb&&Td===fd){var ce=gc[Cd*jb+Td-1];ed[0]=fd+(Sc-ce)/(be-ce)-.5}0<Rd&&Rd<Eb&&Cd===Rd&&(ce=gc[(Cd-1)*jb+Td],ed[1]=Rd+(Sc-ce)/(be-ce)-.5)})}var jb=1,Eb=1,mc=bb;H.contour=ya;H.size=function(cc){if(!arguments.length)return[jb,Eb];var gc=Math.floor(cc[0]),Sc=Math.floor(cc[1]);0<=gc&&0<=Sc||ra.error("invalid size");return jb=gc,Eb=Sc,H};H.smooth=function(cc){return arguments.length?
(mc=cc?bb:pc,H):mc===bb};return H}function rb(H,ya,Ka){return function(bb){var jb=ra.extent(bb);bb=Ka?Math.min(jb[0],0):jb[0];jb=jb[1];var Eb=jb-bb;if(ya){var mc=H;var cc=+jb;var gc=+bb;mc=+mc;gc=(Eb=cc<gc)?kc(cc,gc,mc):kc(gc,cc,mc);Eb=(Eb?-1:1)*(0>gc?1/-gc:gc)}else Eb/=H+1;return Ab(bb+Eb,jb,Eb)}}function Ib(H){g.Transform.call(this,null,H)}function Nb(H,ya,Ka){const bb=rb(Ka.levels||10,Ka.nice,!1!==Ka.zero);return"shared"!==Ka.resolve?bb:bb(H.map(jb=>Ac(ya(jb).values)))}function Bb(H,ya,Ka,bb){var jb=
bb.scale||ya.scale;let Eb=bb.translate||ya.translate;ra.isFunction(jb)&&(jb=jb(Ka,bb));ra.isFunction(Eb)&&(Eb=Eb(Ka,bb));if(1!==jb&&null!=jb||Eb)Ka=(ra.isNumber(jb)?jb:jb[0])||1,jb=(ra.isNumber(jb)?jb:jb[1])||1,H.forEach(Ob(ya,Ka,jb,Eb&&Eb[0]||0,Eb&&Eb[1]||0))}function Ob(H,ya,Ka,bb,jb){function Eb(fd){fd.forEach(mc)}function mc(fd){ed&&fd.reverse();fd.forEach(cc)}function cc(fd){fd[0]=(fd[0]-gc)*ya+bb;fd[1]=(fd[1]-Sc)*Ka+jb}const gc=H.x1||0,Sc=H.y1||0,ed=0>ya*Ka;return function(fd){fd.coordinates.forEach(Eb);
return fd}}function Xa(H,ya,Ka){H=0<=H?H:ib.bandwidthNRD(ya,Ka);return Math.round((Math.sqrt(4*H*H+1)-1)/2)}function qb(H){return ra.isFunction(H)?H:ra.constant(+H)}function Oa(){function H(gc,Sc){const ed=Xa(jb[0],gc,ya)>>cc,fd=Xa(jb[1],gc,Ka)>>cc,Rd=ed?ed+2:0,Td=fd?fd+2:0,Cd=2*Rd+(Eb>>cc),be=2*Td+(mc>>cc),ce=new Float32Array(Cd*be),Vd=new Float32Array(Cd*be);let Te=ce;gc.forEach($d=>{const M=Rd+(+ya($d)>>cc),Z=Td+(+Ka($d)>>cc);0<=M&&M<Cd&&0<=Z&&Z<be&&(ce[M+Z*Cd]+=+bb($d))});0<ed&&0<fd?(Ca(Cd,be,
ce,Vd,ed),Qa(Cd,be,Vd,ce,fd),Ca(Cd,be,ce,Vd,ed),Qa(Cd,be,Vd,ce,fd),Ca(Cd,be,ce,Vd,ed),Qa(Cd,be,Vd,ce,fd)):0<ed?(Ca(Cd,be,ce,Vd,ed),Ca(Cd,be,Vd,ce,ed),Ca(Cd,be,ce,Vd,ed),Te=Vd):0<fd&&(Qa(Cd,be,ce,Vd,fd),Qa(Cd,be,Vd,ce,fd),Qa(Cd,be,ce,Vd,fd),Te=Vd);gc=Sc?Math.pow(2,-2*cc):1/ec(Te);for(let $d=0,M=Cd*be;$d<M;++$d)Te[$d]*=gc;return{values:Te,scale:1<<cc,width:Cd,height:be,x1:Rd,y1:Td,x2:Rd+(Eb>>cc),y2:Td+(mc>>cc)}}var ya=gc=>gc[0],Ka=gc=>gc[1],bb=ra.one,jb=[-1,-1],Eb=960,mc=500,cc=2;H.x=function(gc){return arguments.length?
(ya=qb(gc),H):ya};H.y=function(gc){return arguments.length?(Ka=qb(gc),H):Ka};H.weight=function(gc){return arguments.length?(bb=qb(gc),H):bb};H.size=function(gc){if(!arguments.length)return[Eb,mc];var Sc=+gc[0],ed=+gc[1];0<=Sc&&0<=ed||ra.error("invalid size");return Eb=Sc,mc=ed,H};H.cellSize=function(gc){if(!arguments.length)return 1<<cc;1<=(gc=+gc)||ra.error("invalid cell size");cc=Math.floor(Math.log(gc)/Math.LN2);return H};H.bandwidth=function(gc){if(!arguments.length)return jb;gc=ra.array(gc);
1===gc.length&&(gc=[+gc[0],+gc[0]]);2!==gc.length&&ra.error("invalid bandwidth");return jb=gc,H};return H}function Ca(H,ya,Ka,bb,jb){const Eb=(jb<<1)+1;for(let mc=0;mc<ya;++mc)for(let cc=0,gc=0;cc<H+jb;++cc)cc<H&&(gc+=Ka[cc+mc*H]),cc>=jb&&(cc>=Eb&&(gc-=Ka[cc-Eb+mc*H]),bb[cc-jb+mc*H]=gc/Math.min(cc+1,H-1+Eb-cc,Eb))}function Qa(H,ya,Ka,bb,jb){const Eb=(jb<<1)+1;for(let mc=0;mc<H;++mc)for(let cc=0,gc=0;cc<ya+jb;++cc)cc<ya&&(gc+=Ka[mc+cc*H]),cc>=jb&&(cc>=Eb&&(gc-=Ka[mc+(cc-Eb)*H]),bb[mc+(cc-jb)*H]=gc/
Math.min(cc+1,ya-1+Eb-cc,Eb))}function lb(H){g.Transform.call(this,null,H)}function mb(H,ya){bc.forEach(Ka=>null!=ya[Ka]?H[Ka](ya[Ka]):0);return H}function Na(H,ya){var Ka=[],bb=ed=>ed(cc),jb;if(null==ya)Ka.push(H);else{var Eb={};var mc=0;for(jb=H.length;mc<jb;++mc){var cc=H[mc];var gc=ya.map(bb);var Sc=Eb[gc];Sc||(Eb[gc]=Sc=[],Sc.dims=gc,Ka.push(Sc));Sc.push(cc)}}return Ka}function vb(H){g.Transform.call(this,null,H)}function pb(H){g.Transform.call(this,null,H)}function Mb(H){g.Transform.call(this,
null,H)}function Vb(H,ya){const Ka=H.pointRadius();H.context(null);null!=ya&&H.pointRadius(ya);return Ka}function ob(H){g.Transform.call(this,null,H)}function ma(H){g.Transform.call(this,null,H)}function Y(H,ya,Ka){const bb=null==Ka?jb=>H(ya(jb)):jb=>{var Eb=H.pointRadius();jb=H.pointRadius(Ka)(ya(jb));H.pointRadius(Eb);return jb};bb.context=jb=>{H.context(jb);return bb};return bb}function Ga(H,ya,Ka){var bb=Ab(H,ya-1E-6,Ka).concat(ya);return function(jb){return bb.map(function(Eb){return[jb,Eb]})}}
function Ea(H,ya,Ka){var bb=Ab(H,ya-1E-6,Ka).concat(ya);return function(jb){return bb.map(function(Eb){return[Eb,jb]})}}function db(){function H(){return{type:"MultiLineString",coordinates:ya()}}function ya(){return Ab(hc(Eb/Rd)*Rd,jb,Rd).map(ce).concat(Ab(hc(Sc/Td)*Td,gc,Td).map(Vd)).concat(Ab(hc(bb/ed)*ed,Ka,ed).filter(function($d){return 1E-6<Yb($d%Rd)}).map(Cd)).concat(Ab(hc(cc/fd)*fd,mc,fd).filter(function($d){return 1E-6<Yb($d%Td)}).map(be))}var Ka,bb,jb,Eb,mc,cc,gc,Sc,ed=10,fd=ed,Rd=90,Td=
360,Cd,be,ce,Vd,Te=2.5;H.lines=function(){return ya().map(function($d){return{type:"LineString",coordinates:$d}})};H.outline=function(){return{type:"Polygon",coordinates:[ce(Eb).concat(Vd(gc).slice(1),ce(jb).reverse().slice(1),Vd(Sc).reverse().slice(1))]}};H.extent=function($d){return arguments.length?H.extentMajor($d).extentMinor($d):H.extentMinor()};H.extentMajor=function($d){if(!arguments.length)return[[Eb,Sc],[jb,gc]];Eb=+$d[0][0];jb=+$d[1][0];Sc=+$d[0][1];gc=+$d[1][1];Eb>jb&&($d=Eb,Eb=jb,jb=
$d);Sc>gc&&($d=Sc,Sc=gc,gc=$d);return H.precision(Te)};H.extentMinor=function($d){if(!arguments.length)return[[bb,cc],[Ka,mc]];bb=+$d[0][0];Ka=+$d[1][0];cc=+$d[0][1];mc=+$d[1][1];bb>Ka&&($d=bb,bb=Ka,Ka=$d);cc>mc&&($d=cc,cc=mc,mc=$d);return H.precision(Te)};H.step=function($d){return arguments.length?H.stepMajor($d).stepMinor($d):H.stepMinor()};H.stepMajor=function($d){if(!arguments.length)return[Rd,Td];Rd=+$d[0];Td=+$d[1];return H};H.stepMinor=function($d){if(!arguments.length)return[ed,fd];ed=+$d[0];
fd=+$d[1];return H};H.precision=function($d){if(!arguments.length)return Te;Te=+$d;Cd=Ga(cc,mc,90);be=Ea(bb,Ka,Te);ce=Ga(Sc,gc,90);Vd=Ea(Eb,jb,Te);return H};return H.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ba(H){g.Transform.call(this,[],H);this.generator=db()}function na(H,ya,Ka){H.prototype=ya.prototype=Ka;Ka.constructor=H}function p(H,ya){H=Object.create(H.prototype);for(var Ka in ya)H[Ka]=ya[Ka];return H}function L(){}function O(){return this.rgb().formatHex()}
function f(){return this.rgb().formatRgb()}function v(H){var ya,Ka;H=(H+"").trim().toLowerCase();return(ya=Gc.exec(H))?(Ka=ya[1].length,ya=parseInt(ya[1],16),6===Ka?m(ya):3===Ka?new z(ya>>8&15|ya>>4&240,ya>>4&15|ya&240,(ya&15)<<4|ya&15,1):8===Ka?C(ya>>24&255,ya>>16&255,ya>>8&255,(ya&255)/255):4===Ka?C(ya>>12&15|ya>>8&240,ya>>8&15|ya>>4&240,ya>>4&15|ya&240,((ya&15)<<4|ya&15)/255):null):(ya=ad.exec(H))?new z(ya[1],ya[2],ya[3],1):(ya=Nd.exec(H))?new z(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,1):(ya=
ud.exec(H))?C(ya[1],ya[2],ya[3],ya[4]):(ya=Fa.exec(H))?C(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,ya[4]):(ya=hb.exec(H))?u(ya[1],ya[2]/100,ya[3]/100,1):(ya=ub.exec(H))?u(ya[1],ya[2]/100,ya[3]/100,ya[4]):la.hasOwnProperty(H)?m(la[H]):"transparent"===H?new z(NaN,NaN,NaN,0):null}function m(H){return new z(H>>16&255,H>>8&255,H&255,1)}function C(H,ya,Ka,bb){0>=bb&&(H=ya=Ka=NaN);return new z(H,ya,Ka,bb)}function B(H,ya,Ka,bb){if(1===arguments.length){var jb=H;jb instanceof L||(jb=v(jb));jb?(jb=jb.rgb(),
jb=new z(jb.r,jb.g,jb.b,jb.opacity)):jb=new z}else jb=new z(H,ya,Ka,null==bb?1:bb);return jb}function z(H,ya,Ka,bb){this.r=+H;this.g=+ya;this.b=+Ka;this.opacity=+bb}function E(){return`#${W(this.r)}${W(this.g)}${W(this.b)}`}function D(){const H=V(this.opacity);return`${1===H?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${1===H?")":`, ${H})`}`}function V(H){return isNaN(H)?1:Math.max(0,Math.min(1,H))}function Aa(H){return Math.max(0,Math.min(255,Math.round(H)||0))}function W(H){H=Aa(H);
return(16>H?"0":"")+H.toString(16)}function u(H,ya,Ka,bb){0>=bb?H=ya=Ka=NaN:0>=Ka||1<=Ka?H=ya=NaN:0>=ya&&(H=NaN);return new va(H,ya,Ka,bb)}function K(H){if(H instanceof va)return new va(H.h,H.s,H.l,H.opacity);H instanceof L||(H=v(H));if(!H)return new va;if(H instanceof va)return H;H=H.rgb();var ya=H.r/255,Ka=H.g/255,bb=H.b/255,jb=Math.min(ya,Ka,bb),Eb=Math.max(ya,Ka,bb),mc=NaN,cc=Eb-jb,gc=(Eb+jb)/2;cc?(mc=ya===Eb?(Ka-bb)/cc+6*(Ka<bb):Ka===Eb?(bb-ya)/cc+2:(ya-Ka)/cc+4,cc/=.5>gc?Eb+jb:2-Eb-jb,mc*=60):
cc=0<gc&&1>gc?0:mc;return new va(mc,cc,gc,H.opacity)}function va(H,ya,Ka,bb){this.h=+H;this.s=+ya;this.l=+Ka;this.opacity=+bb}function Ja(H){H=(H||0)%360;return 0>H?H+360:H}function Za(H){return Math.max(0,Math.min(1,H||0))}function Wa(H,ya,Ka){return 255*(60>H?ya+(Ka-ya)*H/60:180>H?Ka:240>H?ya+(Ka-ya)*(240-H)/60:ya)}function X(H){g.Transform.call(this,null,H)}function Ba(H,ya){let Ka;ra.isFunction(H)?(Ka=bb=>B(H(bb,ya)),Ka.dep=Gb(H)):Ka=ra.constant(B(H||"#888"));return Ka}function ab(H,ya){let Ka;
ra.isFunction(H)?(Ka=bb=>H(bb,ya),Ka.dep=Gb(H)):H?Ka=ra.constant(H):(Ka=bb=>bb.$value/bb.$max||0,Ka.dep=!0);return Ka}function Gb(H){if(!ra.isFunction(H))return!1;H=ra.toSet(ra.accessorFields(H));return H.$x||H.$y||H.$value||H.$max}function tc(H,ya,Ka,bb){const jb=H.width;var Eb=H.height;const mc=H.x1||0,cc=H.y1||0,gc=H.x2||jb;Eb=H.y2||Eb;const Sc=H.values;H=Sc?Cd=>Sc[Cd]:ra.zero;const ed=Zb.canvas(gc-mc,Eb-cc),fd=ed.getContext("2d"),Rd=fd.getImageData(0,0,gc-mc,Eb-cc),Td=Rd.data;for(let Cd=cc,be=
0;Cd<Eb;++Cd){ya.$y=Cd-cc;for(let ce=mc,Vd=Cd*jb;ce<gc;++ce,be+=4){ya.$x=ce-mc;ya.$value=H(ce+Vd);const Te=Ka(ya);Td[be+0]=Te.r;Td[be+1]=Te.g;Td[be+2]=Te.b;Td[be+3]=~~(255*bb(ya))}}fd.putImageData(Rd,0,0);return ed}function wc(H){g.Transform.call(this,null,H);this.modified(!0)}function vc(H,ya){const Ka=zc(ya.fit);ya.extent?H.fitExtent(ya.extent,Ka):ya.size?H.fitSize(ya.size,Ka):0}function Ec(H){const ya=Fb.projection((H||"mercator").toLowerCase());ya||ra.error("Unrecognized projection type: "+H);
return ya()}function zc(H){H=ra.array(H);return 1===H.length?H[0]:{type:"FeatureCollection",features:H.reduce((ya,Ka)=>ya.concat(Rc(Ka)),[])}}function Rc(H){return"FeatureCollection"===H.type?H.features:ra.array(H).filter(ya=>null!=ya).map(ya=>"Feature"===ya.type?ya:{type:"Feature",geometry:ya})}const Sd=Math.sqrt(50),Ia=Math.sqrt(10),Wb=Math.sqrt(2),kb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],
[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Ib.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",
type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ra.inherits(Ib,g.Transform,{transform(H,ya){if(this.value&&!ya.changed()&&!H.modified())return ya.StopPropagation;var Ka=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;var bb=H.field||ra.identity,jb=Ya().smooth(!1!==H.smooth),Eb=H.thresholds||Nb(ya,bb,H),mc=null===H.as?null:H.as||"contour",cc=[];ya.forEach(gc=>
{const Sc=bb(gc),ed=jb.size([Sc.width,Sc.height])(Sc.values,ra.isArray(Eb)?Eb:Eb(Sc.values));Bb(ed,Sc,gc,H);ed.forEach(fd=>{cc.push(g.rederive(gc,g.ingest(null!=mc?{[mc]:fd}:fd)))})});this.value&&(Ka.rem=this.value);this.value=Ka.source=Ka.add=cc;return Ka}});lb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const bc="x y weight size cellSize bandwidth".split(" ");ra.inherits(lb,g.Transform,{transform(H,ya){if(this.value&&!ya.changed()&&!H.modified())return ya.StopPropagation;var Ka=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;ya=Na(ya,H.groupby);var bb=(H.groupby||[]).map(ra.accessorName),jb=mb(Oa(),
H),Eb=H.as||"grid",mc=[];mc=ya.map(cc=>{var gc=g.ingest,Sc={[Eb]:jb(cc,H.counts)};cc=cc.dims;for(let ed=0;ed<bb.length;++ed)Sc[bb[ed]]=cc[ed];return gc.call(g,Sc)});this.value&&(Ka.rem=this.value);this.value=Ka.source=Ka.add=mc;return Ka}});vb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},
{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ra.inherits(vb,g.Transform,{transform(H,ya){if(this.value&&!ya.changed()&&!H.modified())return ya.StopPropagation;var Ka=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),bb=Ya().smooth(!1!==H.smooth),jb=H.values,Eb=H.thresholds||rb(H.count||10,H.nice,!!jb),mc=H.size;if(!jb){jb=ya.materialize(ya.SOURCE).source;H=mb(Oa(),H)(jb,
!0);var cc=Ob(H,H.scale||1,H.scale||1,0,0);mc=[H.width,H.height];jb=H.values}Eb=ra.isArray(Eb)?Eb:Eb(jb);jb=bb.size(mc)(jb,Eb);cc&&jb.forEach(cc);this.value&&(Ka.rem=this.value);this.value=Ka.source=Ka.add=(jb||[]).map(g.ingest);return Ka}});pb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ra.inherits(pb,g.Transform,{transform(H,ya){var Ka=this._features,bb=this._points,jb=H.fields,Eb=jb&&jb[0],mc=jb&&jb[1],cc=H.geojson||
!jb&&ra.identity;jb=ya.ADD;H=H.modified()||ya.changed(ya.REM)||ya.modified(ra.accessorFields(cc))||Eb&&ya.modified(ra.accessorFields(Eb))||mc&&ya.modified(ra.accessorFields(mc));if(!this.value||H)jb=ya.SOURCE,this._features=Ka=[],this._points=bb=[];cc&&ya.visit(jb,gc=>Ka.push(cc(gc)));Eb&&mc&&(ya.visit(jb,gc=>{var Sc=Eb(gc);gc=mc(gc);null!=Sc&&null!=gc&&(Sc=+Sc)===Sc&&(gc=+gc)===gc&&bb.push([Sc,gc])}),Ka=Ka.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:bb}}));this.value={type:"FeatureCollection",
features:Ka}}});Mb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};ra.inherits(Mb,g.Transform,{transform(H,ya){var Ka=ya.fork(ya.ALL),bb=this.value,jb=H.field||ra.identity,Eb=H.as||"path",mc=Ka.SOURCE;!bb||H.modified()?(this.value=bb=Fb.getProjectionPath(H.projection),Ka.materialize().reflow()):mc=jb===ra.identity||ya.modified(jb.fields)?
Ka.ADD_MOD:Ka.ADD;H=Vb(bb,H.pointRadius);Ka.visit(mc,cc=>cc[Eb]=bb(jb(cc)));bb.pointRadius(H);return Ka.modifies(Eb)}});ob.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ra.inherits(ob,g.Transform,{transform(H,ya){function Ka(Sc){const ed=bb([jb(Sc),Eb(Sc)]);ed?(Sc[cc]=ed[0],Sc[gc]=ed[1]):(Sc[cc]=void 0,Sc[gc]=void 0)}
var bb=H.projection,jb=H.fields[0],Eb=H.fields[1],mc=H.as||["x","y"],cc=mc[0],gc=mc[1];H.modified()?ya=ya.materialize().reflow(!0).visit(ya.SOURCE,Ka):(H=ya.modified(jb.fields)||ya.modified(Eb.fields),ya.visit(H?ya.ADD_MOD:ya.ADD,Ka));return ya.modifies(mc)}});ma.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
ra.inherits(ma,g.Transform,{transform(H,ya){ya=ya.fork(ya.ALL);var Ka=this.value,bb=H.as||"shape",jb=ya.ADD;if(!Ka||H.modified())this.value=Ka=Y(Fb.getProjectionPath(H.projection),H.field||ra.field("datum"),H.pointRadius),ya.materialize().reflow(),jb=ya.SOURCE;ya.visit(jb,Eb=>Eb[bb]=Ka);return ya.modifies(bb)}});var Yb=Math.abs,hc=Math.ceil;ba.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ra.inherits(ba,g.Transform,{transform(H,ya){var Ka=this.value,bb=this.generator;
if(!Ka.length||H.modified())for(const jb in H)if(ra.isFunction(bb[jb]))bb[jb](H[jb]);H=bb();Ka.length?ya.mod.push(g.replace(Ka[0],H)):ya.add.push(g.ingest(H));Ka[0]=H;return ya}});var yc=1/.7,Gc=/^#([0-9a-f]{3,8})$/,ad=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Nd=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ud=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Fa=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),hb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ub=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
la={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};na(L,v,{copy(H){return Object.assign(new this.constructor,this,H)},displayable(){return this.rgb().displayable()},hex:O,formatHex:O,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return K(this).formatHsl()},formatRgb:f,toString:f});na(z,B,p(L,{brighter(H){H=null==H?yc:Math.pow(yc,H);return new z(this.r*H,this.g*H,this.b*H,this.opacity)},darker(H){H=
null==H?.7:Math.pow(.7,H);return new z(this.r*H,this.g*H,this.b*H,this.opacity)},rgb(){return this},clamp(){return new z(Aa(this.r),Aa(this.g),Aa(this.b),V(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:E,formatHex:E,formatHex8:function(){return`#${W(this.r)}${W(this.g)}${W(this.b)}${W(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:D,toString:D}));na(va,function(H,ya,Ka,bb){return 1===
arguments.length?K(H):new va(H,ya,Ka,null==bb?1:bb)},p(L,{brighter(H){H=null==H?yc:Math.pow(yc,H);return new va(this.h,this.s,this.l*H,this.opacity)},darker(H){H=null==H?.7:Math.pow(.7,H);return new va(this.h,this.s,this.l*H,this.opacity)},rgb(){var H=this.h%360+360*(0>this.h),ya=isNaN(H)||isNaN(this.s)?0:this.s,Ka=this.l;ya=Ka+(.5>Ka?Ka:1-Ka)*ya;Ka=2*Ka-ya;return new z(Wa(240<=H?H-240:H+120,Ka,ya),Wa(H,Ka,ya),Wa(120>H?H+240:H-120,Ka,ya),this.opacity)},clamp(){return new va(Ja(this.h),Za(this.s),
Za(this.l),V(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const H=V(this.opacity);return`${1===H?"hsl(":"hsla("}${Ja(this.h)}, ${100*Za(this.s)}%, ${100*Za(this.l)}%${1===H?")":`, ${H})`}`}}));X.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"as",type:"string","default":"image"}]};ra.inherits(X,g.Transform,{transform(H,ya){if(!ya.changed()&&!H.modified())return ya.StopPropagation;var Ka=ya.materialize(ya.SOURCE).source,bb="shared"===H.resolve,jb=H.field||ra.identity,Eb=ab(H.opacity,H),mc=Ba(H.color,H),cc=H.as||"image",gc={$x:0,$y:0,$value:0,$max:bb?Ac(Ka.map(Sc=>Ac(jb(Sc).values))):0};Ka.forEach(Sc=>{const ed=jb(Sc),fd=ra.extend({},Sc,gc);bb||(fd.$max=Ac(ed.values||[]));Sc[cc]=tc(ed,fd,mc.dep?mc:ra.constant(mc(fd)),
Eb.dep?Eb:ra.constant(Eb(fd)))});return ya.reflow(!0).modifies(cc)}});ra.inherits(wc,g.Transform,{transform(H,ya){let Ka=this.value;!Ka||H.modified("type")?(this.value=Ka=Ec(H.type),Fb.projectionProperties.forEach(bb=>{if(null!=H[bb]){var jb=Ka,Eb=H[bb];if(ra.isFunction(jb[bb]))jb[bb](Eb)}})):Fb.projectionProperties.forEach(bb=>{if(H.modified(bb)){var jb=Ka,Eb=H[bb];if(ra.isFunction(jb[bb]))jb[bb](Eb)}});null!=H.pointRadius&&Ka.path.pointRadius(H.pointRadius);H.fit&&vc(Ka,H);return ya.fork(ya.NO_SOURCE|
ya.NO_FIELDS)}});r.contour=vb;r.geojson=pb;r.geopath=Mb;r.geopoint=ob;r.geoshape=ma;r.graticule=ba;r.heatmap=X;r.isocontour=Ib;r.kde2d=lb;r.projection=wc})};
shadow$provide[39]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,g,ra){function ib(W,u,K,va){if(isNaN(u)||isNaN(K))return W;var Ja,Za=W._root;va={data:va};var Wa=W._x0,X=W._y0,Ba=W._x1,ab=W._y1,Gb,tc,wc,vc,Ec;if(!Za)return W._root=
va,W;for(;Za.length;)if((wc=u>=(Gb=(Wa+Ba)/2))?Wa=Gb:Ba=Gb,(vc=K>=(tc=(X+ab)/2))?X=tc:ab=tc,Ja=Za,!(Za=Za[Ec=vc<<1|wc]))return Ja[Ec]=va,W;var zc=+W._x.call(null,Za.data);var Rc=+W._y.call(null,Za.data);if(u===zc&&K===Rc)return va.next=Za,Ja?Ja[Ec]=va:W._root=va,W;do Ja=Ja?Ja[Ec]=Array(4):W._root=Array(4),(wc=u>=(Gb=(Wa+Ba)/2))?Wa=Gb:Ba=Gb,(vc=K>=(tc=(X+ab)/2))?X=tc:ab=tc;while((Ec=vc<<1|wc)===(wc=(Rc>=tc)<<1|zc>=Gb));return Ja[wc]=Za,Ja[Ec]=va,W}function Fb(W,u,K,va,Ja){this.node=W;this.x0=u;this.y0=
K;this.x1=va;this.y1=Ja}function Zb(W){return W[0]}function oc(W){return W[1]}function kc(W,u,K){u=new Ac(null==u?Zb:u,null==K?oc:K,NaN,NaN,NaN,NaN);return null==W?u:u.addAll(W)}function Ac(W,u,K,va,Ja,Za){this._x=W;this._y=u;this._x0=K;this._y0=va;this._x1=Ja;this._y1=Za;this._root=void 0}function Ab(W){for(var u={data:W.data},K=u;W=W.next;)K=K.next={data:W.data};return u}function ec(W){return function(){return W}}function pc(W){return W.x+W.vx}function Ya(W){return W.y+W.vy}function rb(W){return W.index}
function Ib(W,u){W=W.get(u);if(!W)throw Error("node not found: "+u);return W}function Nb(){for(var W=0,u=arguments.length,K={},va;W<u;++W){if(!(va=arguments[W]+"")||va in K||/[\s.]/.test(va))throw Error("illegal type: "+va);K[va]=[]}return new Bb(K)}function Bb(W){this._=W}function Ob(W,u){return W.trim().split(/^|\s+/).map(function(K){var va="",Ja=K.indexOf(".");0<=Ja&&(va=K.slice(Ja+1),K=K.slice(0,Ja));if(K&&!u.hasOwnProperty(K))throw Error("unknown type: "+K);return{type:K,name:va}})}function Xa(W,
u,K){for(var va=0,Ja=W.length;va<Ja;++va)if(W[va].name===u){W[va]=db;W=W.slice(0,va).concat(W.slice(va+1));break}null!=K&&W.push({name:u,value:K});return W}function qb(){v=0}function Oa(){this._call=this._time=this._next=null}function Ca(W,u,K){var va=new Oa;va.restart(W,u,K);return va}function Qa(){v=(f=C.now())+m;ba=na=0;try{v||(B(qb),v=C.now()+m);++ba;for(var W=L,u;W;)0<=(u=v-W._time)&&W._call.call(void 0,u),W=W._next;--ba}finally{ba=0;W=L;for(var K=Infinity;W;)if(W._call){K>W._time&&(K=W._time);
var va=W;W=W._next}else u=W._next,W._next=null,W=va?va._next=u:L=u;O=va;mb(K);v=0}}function lb(){var W=C.now(),u=W-f;1E3<u&&(m-=u,f=W)}function mb(W){ba||(na&&(na=clearTimeout(na)),24<W-v?(Infinity>W&&(na=setTimeout(Qa,W-C.now()-m)),p&&(p=clearInterval(p))):(p||(f=C.now(),p=setInterval(lb,1E3)),ba=1,B(Qa)))}function Na(){let W=1;return()=>(W=(1664525*W+1013904223)%4294967296)/4294967296}function vb(W){return W.x}function pb(W){return W.y}function Mb(W){function u(){K();vc.call("tick",Za);Wa<X&&(wc.stop(),
vc.call("end",Za))}function K(zc){var Rc,Sd=W.length;void 0===zc&&(zc=1);for(var Ia=0;Ia<zc;++Ia)for(Wa+=(ab-Wa)*Ba,tc.forEach(function(kb){kb(Wa)}),Rc=0;Rc<Sd;++Rc){var Wb=W[Rc];null==Wb.fx?Wb.x+=Wb.vx*=Gb:(Wb.x=Wb.fx,Wb.vx=0);null==Wb.fy?Wb.y+=Wb.vy*=Gb:(Wb.y=Wb.fy,Wb.vy=0)}return Za}function va(){for(var zc=0,Rc=W.length,Sd;zc<Rc;++zc){Sd=W[zc];Sd.index=zc;null!=Sd.fx&&(Sd.x=Sd.fx);null!=Sd.fy&&(Sd.y=Sd.fy);if(isNaN(Sd.x)||isNaN(Sd.y)){var Ia=10*Math.sqrt(.5+zc),Wb=zc*z;Sd.x=Ia*Math.cos(Wb);Sd.y=
Ia*Math.sin(Wb)}if(isNaN(Sd.vx)||isNaN(Sd.vy))Sd.vx=Sd.vy=0}}function Ja(zc){zc.initialize&&zc.initialize(W,Ec);return zc}var Za,Wa=1,X=.001,Ba=1-Math.pow(X,1/300),ab=0,Gb=.6,tc=new Map,wc=Ca(u),vc=Nb("tick","end"),Ec=Na();null==W&&(W=[]);va();return Za={tick:K,restart:function(){return wc.restart(u),Za},stop:function(){return wc.stop(),Za},nodes:function(zc){return arguments.length?(W=zc,va(),tc.forEach(Ja),Za):W},alpha:function(zc){return arguments.length?(Wa=+zc,Za):Wa},alphaMin:function(zc){return arguments.length?
(X=+zc,Za):X},alphaDecay:function(zc){return arguments.length?(Ba=+zc,Za):+Ba},alphaTarget:function(zc){return arguments.length?(ab=+zc,Za):ab},velocityDecay:function(zc){return arguments.length?(Gb=1-zc,Za):1-Gb},randomSource:function(zc){return arguments.length?(Ec=zc,tc.forEach(Ja),Za):Ec},force:function(zc,Rc){return 1<arguments.length?(null==Rc?tc.delete(zc):tc.set(zc,Ja(Rc)),Za):tc.get(zc)},find:function(zc,Rc,Sd){var Ia,Wb=W.length;Sd=null==Sd?Infinity:Sd*Sd;for(Ia=0;Ia<Wb;++Ia){var kb=W[Ia];
var bc=zc-kb.x;var Yb=Rc-kb.y;bc=bc*bc+Yb*Yb;if(bc<Sd){var hc=kb;Sd=bc}}return hc},on:function(zc,Rc){return 1<arguments.length?(vc.on(zc,Rc),Za):vc.on(zc)}}}function Vb(W){g.Transform.call(this,null,W)}function ob(W,u){return()=>W.touch(u).run()}function ma(W,u){W=Mb(W);const K=W.stop,va=W.restart;let Ja=!1;W.stopped=()=>Ja;W.restart=()=>(Ja=!1,va());W.stop=()=>(Ja=!0,K());return Y(W,u,!0).on("end",()=>Ja=!0)}function Y(W,u,K,va){var Ja=ra.array(u.forces),Za;var Wa=0;for(Za=D.length;Wa<Za;++Wa){var X=
D[Wa];if("forces"!==X&&u.modified(X))W[X](u[X])}Wa=0;for(Za=Ja.length;Wa<Za;++Wa){var Ba="forces"+Wa;if(K||u.modified("forces",Wa)){X=void 0;var ab=Ja[Wa];ra.hasOwnProperty(E,ab.force)||ra.error("Unrecognized force: "+ab.force);var Gb=E[ab.force]();for(X in ab)ra.isFunction(Gb[X])&&Ga(Gb[X],ab[X],ab);X=Gb}else{if(X=va)a:{Gb=X=void 0;ab=Ja[Wa];var tc=va;for(Gb in ab)if(ra.isFunction(X=ab[Gb])&&tc.modified(ra.accessorFields(X))){X=1;break a}X=0}X=X?W.force(Ba):null}X&&W.force(Ba,X)}for(Za=W.numForces||
0;Wa<Za;++Wa)W.force("forces"+Wa,null);W.numForces=Ja.length;return W}function Ga(W,u,K){W(ra.isFunction(u)?va=>u(va,K):u)}var Ea=kc.prototype=Ac.prototype;Ea.copy=function(){var W=new Ac(this._x,this._y,this._x0,this._y0,this._x1,this._y1),u=this._root,K,va;if(!u)return W;if(!u.length)return W._root=Ab(u),W;for(K=[{source:u,target:W._root=Array(4)}];u=K.pop();)for(var Ja=0;4>Ja;++Ja)if(va=u.source[Ja])va.length?K.push({source:va,target:u.target[Ja]=Array(4)}):u.target[Ja]=Ab(va);return W};Ea.add=
function(W){const u=+this._x.call(null,W),K=+this._y.call(null,W);return ib(this.cover(u,K),u,K,W)};Ea.addAll=function(W){var u,K,va=W.length,Ja,Za,Wa=Array(va),X=Array(va),Ba=Infinity,ab=Infinity,Gb=-Infinity,tc=-Infinity;for(K=0;K<va;++K)isNaN(Ja=+this._x.call(null,u=W[K]))||isNaN(Za=+this._y.call(null,u))||(Wa[K]=Ja,X[K]=Za,Ja<Ba&&(Ba=Ja),Ja>Gb&&(Gb=Ja),Za<ab&&(ab=Za),Za>tc&&(tc=Za));if(Ba>Gb||ab>tc)return this;this.cover(Ba,ab).cover(Gb,tc);for(K=0;K<va;++K)ib(this,Wa[K],X[K],W[K]);return this};
Ea.cover=function(W,u){if(isNaN(W=+W)||isNaN(u=+u))return this;var K=this._x0,va=this._y0,Ja=this._x1,Za=this._y1;if(isNaN(K))Ja=(K=Math.floor(W))+1,Za=(va=Math.floor(u))+1;else{for(var Wa=Ja-K||1,X=this._root,Ba,ab;K>W||W>=Ja||va>u||u>=Za;)switch(ab=(u<va)<<1|W<K,Ba=Array(4),Ba[ab]=X,X=Ba,Wa*=2,ab){case 0:Ja=K+Wa;Za=va+Wa;break;case 1:K=Ja-Wa;Za=va+Wa;break;case 2:Ja=K+Wa;va=Za-Wa;break;case 3:K=Ja-Wa,va=Za-Wa}this._root&&this._root.length&&(this._root=X)}this._x0=K;this._y0=va;this._x1=Ja;this._y1=
Za;return this};Ea.data=function(){var W=[];this.visit(function(u){if(!u.length){do W.push(u.data);while(u=u.next)}});return W};Ea.extent=function(W){return arguments.length?this.cover(+W[0][0],+W[0][1]).cover(+W[1][0],+W[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Ea.find=function(W,u,K){var va=this._x0,Ja=this._y0,Za,Wa,X,Ba,ab=this._x1,Gb=this._y1,tc=[],wc=this._root,vc;wc&&tc.push(new Fb(wc,va,Ja,ab,Gb));null==K?K=Infinity:(va=W-K,Ja=u-K,ab=W+K,Gb=u+K,K*=K);for(;vc=
tc.pop();)if(!(!(wc=vc.node)||(Za=vc.x0)>ab||(Wa=vc.y0)>Gb||(X=vc.x1)<va||(Ba=vc.y1)<Ja))if(wc.length){vc=(Za+X)/2;var Ec=(Wa+Ba)/2;tc.push(new Fb(wc[3],vc,Ec,X,Ba),new Fb(wc[2],Za,Ec,vc,Ba),new Fb(wc[1],vc,Wa,X,Ec),new Fb(wc[0],Za,Wa,vc,Ec));if(wc=(u>=Ec)<<1|W>=vc)vc=tc[tc.length-1],tc[tc.length-1]=tc[tc.length-1-wc],tc[tc.length-1-wc]=vc}else if(vc=W-+this._x.call(null,wc.data),Ec=u-+this._y.call(null,wc.data),vc=vc*vc+Ec*Ec,vc<K){var zc=Math.sqrt(K=vc);va=W-zc;Ja=u-zc;ab=W+zc;Gb=u+zc;zc=wc.data}return zc};
Ea.remove=function(W){if(isNaN(Ba=+this._x.call(null,W))||isNaN(ab=+this._y.call(null,W)))return this;var u,K=this._root,va,Ja=this._x0,Za=this._y0,Wa=this._x1,X=this._y1,Ba,ab,Gb,tc,wc,vc,Ec;if(!K)return this;if(K.length)for(;;){(wc=Ba>=(Gb=(Ja+Wa)/2))?Ja=Gb:Wa=Gb;(vc=ab>=(tc=(Za+X)/2))?Za=tc:X=tc;if(!(u=K,K=K[Ec=vc<<1|wc]))return this;if(!K.length)break;if(u[Ec+1&3]||u[Ec+2&3]||u[Ec+3&3]){var zc=u;var Rc=Ec}}for(;K.data!==W;)if(!(va=K,K=K.next))return this;(W=K.next)&&delete K.next;if(va)return W?
va.next=W:delete va.next,this;if(!u)return this._root=W,this;W?u[Ec]=W:delete u[Ec];(K=u[0]||u[1]||u[2]||u[3])&&K===(u[3]||u[2]||u[1]||u[0])&&!K.length&&(zc?zc[Rc]=K:this._root=K);return this};Ea.removeAll=function(W){for(var u=0,K=W.length;u<K;++u)this.remove(W[u]);return this};Ea.root=function(){return this._root};Ea.size=function(){var W=0;this.visit(function(u){if(!u.length){do++W;while(u=u.next)}});return W};Ea.visit=function(W){var u=[],K,va=this._root,Ja,Za,Wa,X,Ba;for(va&&u.push(new Fb(va,
this._x0,this._y0,this._x1,this._y1));K=u.pop();)if(!W(va=K.node,Za=K.x0,Wa=K.y0,X=K.x1,Ba=K.y1)&&va.length){K=(Za+X)/2;var ab=(Wa+Ba)/2;(Ja=va[3])&&u.push(new Fb(Ja,K,ab,X,Ba));(Ja=va[2])&&u.push(new Fb(Ja,Za,ab,K,Ba));(Ja=va[1])&&u.push(new Fb(Ja,K,Wa,X,ab));(Ja=va[0])&&u.push(new Fb(Ja,Za,Wa,K,ab))}return this};Ea.visitAfter=function(W){var u=[],K=[],va;for(this._root&&u.push(new Fb(this._root,this._x0,this._y0,this._x1,this._y1));va=u.pop();){var Ja=va.node;if(Ja.length){var Za,Wa=va.x0,X=va.y0,
Ba=va.x1,ab=va.y1,Gb=(Wa+Ba)/2,tc=(X+ab)/2;(Za=Ja[0])&&u.push(new Fb(Za,Wa,X,Gb,tc));(Za=Ja[1])&&u.push(new Fb(Za,Gb,X,Ba,tc));(Za=Ja[2])&&u.push(new Fb(Za,Wa,tc,Gb,ab));(Za=Ja[3])&&u.push(new Fb(Za,Gb,tc,Ba,ab))}K.push(va)}for(;va=K.pop();)W(va.node,va.x0,va.y0,va.x1,va.y1);return this};Ea.x=function(W){return arguments.length?(this._x=W,this):this._x};Ea.y=function(W){return arguments.length?(this._y=W,this):this._y};var db={value:()=>{}};Bb.prototype=Nb.prototype={constructor:Bb,on:function(W,
u){var K=this._,va=Ob(W+"",K),Ja,Za=-1,Wa=va.length;if(2>arguments.length)for(;++Za<Wa;){var X;if(X=Ja=(W=va[Za]).type){a:{X=K[Ja];for(var Ba=0,ab=X.length;Ba<ab;++Ba)if((Ja=X[Ba]).name===W.name){Ja=Ja.value;break a}Ja=void 0}X=Ja}if(X)return Ja}else{if(null!=u&&"function"!==typeof u)throw Error("invalid callback: "+u);for(;++Za<Wa;)if(Ja=(W=va[Za]).type)K[Ja]=Xa(K[Ja],W.name,u);else if(null==u)for(Ja in K)K[Ja]=Xa(K[Ja],W.name,null);return this}},copy:function(){var W={},u=this._,K;for(K in u)W[K]=
u[K].slice();return new Bb(W)},call:function(W,u){if(0<(Ja=arguments.length-2))for(var K=Array(Ja),va=0,Ja,Za;va<Ja;++va)K[va]=arguments[va+2];if(!this._.hasOwnProperty(W))throw Error("unknown type: "+W);Za=this._[W];va=0;for(Ja=Za.length;va<Ja;++va)Za[va].value.apply(u,K)},apply:function(W,u,K){if(!this._.hasOwnProperty(W))throw Error("unknown type: "+W);W=this._[W];for(var va=0,Ja=W.length;va<Ja;++va)W[va].value.apply(u,K)}};var ba=0,na=0,p=0,L,O,f=0,v=0,m=0,C="object"===typeof performance&&performance.now?
performance:Date,B="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(W){setTimeout(W,17)};Oa.prototype=Ca.prototype={constructor:Oa,restart:function(W,u,K){if("function"!==typeof W)throw new TypeError("callback is not a function");K=(null==K?v||(B(qb),v=C.now()+m):+K)+(null==u?0:+u);this._next||O===this||(O?O._next=this:L=this,O=this);this._call=W;this._time=K;mb()},stop:function(){this._call&&(this._call=null,this._time=Infinity,mb())}};var z=
Math.PI*(3-Math.sqrt(5));const E={center:function(W,u){function K(){var Za,Wa=va.length,X=0,Ba=0;for(Za=0;Za<Wa;++Za){var ab=va[Za];X+=ab.x;Ba+=ab.y}X=(X/Wa-W)*Ja;Ba=(Ba/Wa-u)*Ja;for(Za=0;Za<Wa;++Za)ab=va[Za],ab.x-=X,ab.y-=Ba}var va,Ja=1;null==W&&(W=0);null==u&&(u=0);K.initialize=function(Za){va=Za};K.x=function(Za){return arguments.length?(W=+Za,K):W};K.y=function(Za){return arguments.length?(u=+Za,K):u};K.strength=function(Za){return arguments.length?(Ja=+Za,K):Ja};return K},collide:function(W){function u(){function ab(Wb,
kb,bc,Yb,hc){var yc=Wb.data;Wb=Wb.r;var Gc=Rc+Wb;if(yc)yc.index>vc.index&&(kb=Ec-yc.x-yc.vx,bc=zc-yc.y-yc.vy,Yb=kb*kb+bc*bc,Yb<Gc*Gc&&(0===kb&&(kb=1E-6*(Wa()-.5),Yb+=kb*kb),0===bc&&(bc=1E-6*(Wa()-.5),Yb+=bc*bc),Yb=(Gc-(Yb=Math.sqrt(Yb)))/Yb*X,vc.vx+=(kb*=Yb)*(Gc=(Wb*=Wb)/(Sd+Wb)),vc.vy+=(bc*=Yb)*Gc,yc.vx-=kb*(Gc=1-Gc),yc.vy-=bc*Gc));else return kb>Ec+Gc||Yb<Ec-Gc||bc>zc+Gc||hc<zc-Gc}for(var Gb,tc=Ja.length,wc,vc,Ec,zc,Rc,Sd,Ia=0;Ia<Ba;++Ia)for(wc=kc(Ja,pc,Ya).visitAfter(K),Gb=0;Gb<tc;++Gb)vc=Ja[Gb],
Rc=Za[vc.index],Sd=Rc*Rc,Ec=vc.x+vc.vx,zc=vc.y+vc.vy,wc.visit(ab)}function K(ab){if(ab.data)return ab.r=Za[ab.data.index];for(var Gb=ab.r=0;4>Gb;++Gb)ab[Gb]&&ab[Gb].r>ab.r&&(ab.r=ab[Gb].r)}function va(){if(Ja){var ab,Gb=Ja.length;Za=Array(Gb);for(ab=0;ab<Gb;++ab){var tc=Ja[ab];Za[tc.index]=+W(tc,ab,Ja)}}}var Ja,Za,Wa,X=1,Ba=1;"function"!==typeof W&&(W=ec(null==W?1:+W));u.initialize=function(ab,Gb){Ja=ab;Wa=Gb;va()};u.iterations=function(ab){return arguments.length?(Ba=+ab,u):Ba};u.strength=function(ab){return arguments.length?
(X=+ab,u):X};u.radius=function(ab){return arguments.length?(W="function"===typeof ab?ab:ec(+ab),va(),u):W};return u},nbody:function(){function W(vc){var Ec=Ja.length,zc=kc(Ja,vb,pb).visitAfter(K);X=vc;for(vc=0;vc<Ec;++vc)Za=Ja[vc],zc.visit(va)}function u(){if(Ja){var vc,Ec=Ja.length;ab=Array(Ec);for(vc=0;vc<Ec;++vc){var zc=Ja[vc];ab[zc.index]=+Ba(zc,vc,Ja)}}}function K(vc){var Ec=0,zc,Rc,Sd=0,Ia,Wb,kb;if(vc.length){for(Ia=Wb=kb=0;4>kb;++kb)(zc=vc[kb])&&(Rc=Math.abs(zc.value))&&(Ec+=zc.value,Sd+=Rc,
Ia+=Rc*zc.x,Wb+=Rc*zc.y);vc.x=Ia/Sd;vc.y=Wb/Sd}else{zc=vc;zc.x=zc.data.x;zc.y=zc.data.y;do Ec+=ab[zc.data.index];while(zc=zc.next)}vc.value=Ec}function va(vc,Ec,zc,Rc){if(!vc.value)return!0;zc=vc.x-Za.x;var Sd=vc.y-Za.y;Ec=Rc-Ec;Rc=zc*zc+Sd*Sd;if(Ec*Ec/wc<Rc)return Rc<tc&&(0===zc&&(zc=1E-6*(Wa()-.5),Rc+=zc*zc),0===Sd&&(Sd=1E-6*(Wa()-.5),Rc+=Sd*Sd),Rc<Gb&&(Rc=Math.sqrt(Gb*Rc)),Za.vx+=zc*vc.value*X/Rc,Za.vy+=Sd*vc.value*X/Rc),!0;if(!(vc.length||Rc>=tc)){if(vc.data!==Za||vc.next)0===zc&&(zc=1E-6*(Wa()-
.5),Rc+=zc*zc),0===Sd&&(Sd=1E-6*(Wa()-.5),Rc+=Sd*Sd),Rc<Gb&&(Rc=Math.sqrt(Gb*Rc));do vc.data!==Za&&(Ec=ab[vc.data.index]*X/Rc,Za.vx+=zc*Ec,Za.vy+=Sd*Ec);while(vc=vc.next)}}var Ja,Za,Wa,X,Ba=ec(-30),ab,Gb=1,tc=Infinity,wc=.81;W.initialize=function(vc,Ec){Ja=vc;Wa=Ec;u()};W.strength=function(vc){return arguments.length?(Ba="function"===typeof vc?vc:ec(+vc),u(),W):Ba};W.distanceMin=function(vc){return arguments.length?(Gb=vc*vc,W):Math.sqrt(Gb)};W.distanceMax=function(vc){return arguments.length?(tc=
vc*vc,W):Math.sqrt(tc)};W.theta=function(vc){return arguments.length?(wc=vc*vc,W):Math.sqrt(wc)};return W},link:function(W){function u(zc){for(var Rc=0,Sd=W.length;Rc<Ec;++Rc)for(var Ia=0,Wb,kb,bc,Yb,hc;Ia<Sd;++Ia)Wb=W[Ia],kb=Wb.source,Wb=Wb.target,bc=Wb.x+Wb.vx-kb.x-kb.vx||1E-6*(vc()-.5),Yb=Wb.y+Wb.vy-kb.y-kb.vy||1E-6*(vc()-.5),hc=Math.sqrt(bc*bc+Yb*Yb),hc=(hc-ab[Ia])/hc*zc*X[Ia],bc*=hc,Yb*=hc,Wb.vx-=bc*(hc=wc[Ia]),Wb.vy-=Yb*hc,kb.vx+=bc*(hc=1-hc),kb.vy+=Yb*hc}function K(){if(Gb){var zc=Gb.length,
Rc=W.length,Sd=new Map(Gb.map((Wb,kb)=>[Za(Wb,kb,Gb),Wb]));var Ia=0;for(tc=Array(zc);Ia<Rc;++Ia)zc=W[Ia],zc.index=Ia,"object"!==typeof zc.source&&(zc.source=Ib(Sd,zc.source)),"object"!==typeof zc.target&&(zc.target=Ib(Sd,zc.target)),tc[zc.source.index]=(tc[zc.source.index]||0)+1,tc[zc.target.index]=(tc[zc.target.index]||0)+1;Ia=0;for(wc=Array(Rc);Ia<Rc;++Ia)zc=W[Ia],wc[Ia]=tc[zc.source.index]/(tc[zc.source.index]+tc[zc.target.index]);X=Array(Rc);va();ab=Array(Rc);Ja()}}function va(){if(Gb)for(var zc=
0,Rc=W.length;zc<Rc;++zc)X[zc]=+Wa(W[zc],zc,W)}function Ja(){if(Gb)for(var zc=0,Rc=W.length;zc<Rc;++zc)ab[zc]=+Ba(W[zc],zc,W)}var Za=rb,Wa=function(zc){return 1/Math.min(tc[zc.source.index],tc[zc.target.index])},X,Ba=ec(30),ab,Gb,tc,wc,vc,Ec=1;null==W&&(W=[]);u.initialize=function(zc,Rc){Gb=zc;vc=Rc;K()};u.links=function(zc){return arguments.length?(W=zc,K(),u):W};u.id=function(zc){return arguments.length?(Za=zc,u):Za};u.iterations=function(zc){return arguments.length?(Ec=+zc,u):Ec};u.strength=function(zc){return arguments.length?
(Wa="function"===typeof zc?zc:ec(+zc),va(),u):Wa};u.distance=function(zc){return arguments.length?(Ba="function"===typeof zc?zc:ec(+zc),Ja(),u):Ba};return u},x:function(W){function u(X){for(var Ba=0,ab=Ja.length,Gb;Ba<ab;++Ba)Gb=Ja[Ba],Gb.vx+=(Wa[Ba]-Gb.x)*Za[Ba]*X}function K(){if(Ja){var X,Ba=Ja.length;Za=Array(Ba);Wa=Array(Ba);for(X=0;X<Ba;++X)Za[X]=isNaN(Wa[X]=+W(Ja[X],X,Ja))?0:+va(Ja[X],X,Ja)}}var va=ec(.1),Ja,Za,Wa;"function"!==typeof W&&(W=ec(null==W?0:+W));u.initialize=function(X){Ja=X;K()};
u.strength=function(X){return arguments.length?(va="function"===typeof X?X:ec(+X),K(),u):va};u.x=function(X){return arguments.length?(W="function"===typeof X?X:ec(+X),K(),u):W};return u},y:function(W){function u(X){for(var Ba=0,ab=Ja.length,Gb;Ba<ab;++Ba)Gb=Ja[Ba],Gb.vy+=(Wa[Ba]-Gb.y)*Za[Ba]*X}function K(){if(Ja){var X,Ba=Ja.length;Za=Array(Ba);Wa=Array(Ba);for(X=0;X<Ba;++X)Za[X]=isNaN(Wa[X]=+W(Ja[X],X,Ja))?0:+va(Ja[X],X,Ja)}}var va=ec(.1),Ja,Za,Wa;"function"!==typeof W&&(W=ec(null==W?0:+W));u.initialize=
function(X){Ja=X;K()};u.strength=function(X){return arguments.length?(va="function"===typeof X?X:ec(+X),K(),u):va};u.y=function(X){return arguments.length?(W="function"===typeof X?X:ec(+X),K(),u):W};return u}},D=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],V=["static","iterations"],Aa=["x","y","vx","vy"];Vb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Aa}]};ra.inherits(Vb,g.Transform,{transform(W,u){var K=this.value,va=u.changed(u.ADD_REM),Ja=W.modified(D),Za=W.iterations||300;K?(va&&(u.modifies("index"),K.nodes(u.source)),(Ja||u.changed(u.MOD))&&Y(K,W,0,u)):(this.value=K=ma(u.source,W),K.on("tick",ob(u.dataflow,this)),W.static||(va=!0,K.tick()),u.modifies("index"));if(Ja||va||W.modified(V)||
u.changed()&&W.restart)if(K.alpha(Math.max(K.alpha(),W.alpha||1)).alphaDecay(1-Math.pow(K.alphaMin(),1/Za)),W.static)for(K.stop();0<=--Za;)K.tick();else if(K.stopped()&&K.restart(),!va)return u.StopPropagation;return this.finish(W,u)},finish(W,u){const K=u.dataflow;for(let X=this._argops,Ba=0,ab=X.length,Gb;Ba<ab;++Ba)if(Gb=X[Ba],"forces"===Gb.name&&"link"===Gb.op._argval.force)for(var va=Gb.op._argops,Ja=0,Za=va.length,Wa;Ja<Za;++Ja)if("links"===va[Ja].name&&(Wa=va[Ja].op.source)){K.pulse(Wa,K.changeset().reflow());
break}return u.reflow(W.modified()).modifies(Aa)}});r.force=Vb})};
shadow$provide[40]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(Ia,Wb,kb){const bc={};Ia.each(Yb=>{const hc=Yb.data;kb(hc)&&(bc[Wb(hc)]=Yb)});Ia.lookup=bc;return Ia}function Fb(Ia,Wb){return Ia.parent===Wb.parent?1:2}function Zb(Ia,Wb){return Ia+
Wb.x}function oc(Ia,Wb){return Math.max(Ia,Wb.y)}function kc(Ia){for(var Wb;Wb=Ia.children;)Ia=Wb[0];return Ia}function Ac(Ia){for(var Wb;Wb=Ia.children;)Ia=Wb[Wb.length-1];return Ia}function Ab(Ia){var Wb=0,kb=Ia.children,bc=kb&&kb.length;if(bc)for(;0<=--bc;)Wb+=kb[bc].value;else Wb=1;Ia.value=Wb}function ec(Ia,Wb){Ia instanceof Map?(Ia=[void 0,Ia],void 0===Wb&&(Wb=Ya)):void 0===Wb&&(Wb=pc);Ia=new Nb(Ia);for(var kb,bc=[Ia],Yb,hc,yc,Gc;kb=bc.pop();)if((hc=Wb(kb.data))&&(Gc=(hc=Array.from(hc)).length))for(kb.children=
hc,yc=Gc-1;0<=yc;--yc)bc.push(Yb=hc[yc]=new Nb(hc[yc])),Yb.parent=kb,Yb.depth=kb.depth+1;return Ia.eachBefore(Ib)}function pc(Ia){return Ia.children}function Ya(Ia){return Array.isArray(Ia)?Ia[1]:null}function rb(Ia){void 0!==Ia.data.value&&(Ia.value=Ia.data.value);Ia.data=Ia.data.data}function Ib(Ia){var Wb=0;do Ia.height=Wb;while((Ia=Ia.parent)&&Ia.height<++Wb)}function Nb(Ia){this.data=Ia;this.depth=this.height=0;this.parent=null}function Bb(Ia){if("function"!==typeof Ia)throw Error();return Ia}
function Ob(){return 0}function Xa(Ia){return function(){return Ia}}function qb(){let Ia=1;return()=>(Ia=(1664525*Ia+1013904223)%4294967296)/4294967296}function Oa(Ia,Wb){var kb=Ia.r-Wb.r,bc=Wb.x-Ia.x;Ia=Wb.y-Ia.y;return 0>kb||kb*kb<bc*bc+Ia*Ia}function Ca(Ia,Wb){var kb=Ia.r-Wb.r+1E-9*Math.max(Ia.r,Wb.r,1),bc=Wb.x-Ia.x;Ia=Wb.y-Ia.y;return 0<kb&&kb*kb>bc*bc+Ia*Ia}function Qa(Ia,Wb){for(var kb=0;kb<Wb.length;++kb)if(!Ca(Ia,Wb[kb]))return!1;return!0}function lb(Ia,Wb){var kb=Ia.x,bc=Ia.y;Ia=Ia.r;var Yb=
Wb.x,hc=Wb.y;Wb=Wb.r;var yc=Yb-kb,Gc=hc-bc,ad=Wb-Ia,Nd=Math.sqrt(yc*yc+Gc*Gc);return{x:(kb+Yb+yc/Nd*ad)/2,y:(bc+hc+Gc/Nd*ad)/2,r:(Nd+Ia+Wb)/2}}function mb(Ia,Wb,kb){var bc=Ia.x,Yb=Ia.y;Ia=Ia.r;var hc=Wb.x,yc=Wb.y,Gc=Wb.r,ad=kb.x,Nd=kb.y,ud=kb.r;kb=bc-hc;Wb=bc-ad;var Fa=Yb-yc,hb=Yb-Nd,ub=Gc-Ia,la=ud-Ia,H=bc*bc+Yb*Yb-Ia*Ia;yc=H-hc*hc-yc*yc+Gc*Gc;Nd=H-ad*ad-Nd*Nd+ud*ud;ad=Wb*Fa-kb*hb;hc=(Fa*Nd-hb*yc)/(2*ad)-bc;Fa=(hb*ub-Fa*la)/ad;hb=(Wb*yc-kb*Nd)/(2*ad)-Yb;kb=(kb*la-Wb*ub)/ad;Wb=Fa*Fa+kb*kb-1;ub=2*(Ia+
hc*Fa+hb*kb);Ia=hc*hc+hb*hb-Ia*Ia;Ia=-(1E-6<Math.abs(Wb)?(ub+Math.sqrt(ub*ub-4*Wb*Ia))/(2*Wb):Ia/ub);return{x:bc+hc+Fa*Ia,y:Yb+hb+kb*Ia,r:Ia}}function Na(Ia,Wb,kb){var bc=Ia.x-Wb.x,Yb=Ia.y-Wb.y,hc=bc*bc+Yb*Yb;if(hc){var yc=Wb.r+kb.r;yc*=yc;var Gc=Ia.r+kb.r;Gc*=Gc;if(yc>Gc){var ad=(hc+Gc-yc)/(2*hc);yc=Math.sqrt(Math.max(0,Gc/hc-ad*ad));kb.x=Ia.x-ad*bc-yc*Yb;kb.y=Ia.y-ad*Yb+yc*bc}else ad=(hc+yc-Gc)/(2*hc),yc=Math.sqrt(Math.max(0,yc/hc-ad*ad)),kb.x=Wb.x+ad*bc-yc*Yb,kb.y=Wb.y+ad*Yb+yc*bc}else kb.x=Wb.x+
kb.r,kb.y=Wb.y}function vb(Ia,Wb){var kb=Ia.r+Wb.r-1E-6,bc=Wb.x-Ia.x;Ia=Wb.y-Ia.y;return 0<kb&&kb*kb>bc*bc+Ia*Ia}function pb(Ia){var Wb=Ia._,kb=Ia.next._,bc=Wb.r+kb.r;Ia=(Wb.x*kb.r+kb.x*Wb.r)/bc;Wb=(Wb.y*kb.r+kb.y*Wb.r)/bc;return Ia*Ia+Wb*Wb}function Mb(Ia){this._=Ia;this.previous=this.next=null}function Vb(Ia,Wb){if(!(bc=(Ia="object"===typeof Ia&&"length"in Ia?Ia:Array.from(Ia)).length))return 0;var kb,bc;var Yb=Ia[0];Yb.x=0;Yb.y=0;if(!(1<bc))return Yb.r;var hc=Ia[1];Yb.x=-hc.r;hc.x=Yb.r;hc.y=0;
if(!(2<bc))return Yb.r+hc.r;Na(hc,Yb,kb=Ia[2]);Yb=new Mb(Yb);hc=new Mb(hc);kb=new Mb(kb);Yb.next=kb.previous=hc;hc.next=Yb.previous=kb;kb.next=hc.previous=Yb;var yc=3;a:for(;yc<bc;++yc){Na(Yb._,hc._,kb=Ia[yc]);kb=new Mb(kb);var Gc=hc.next;var ad=Yb.previous;var Nd=hc._.r;var ud=Yb._.r;do if(Nd<=ud){if(vb(Gc._,kb._)){hc=Gc;Yb.next=hc;hc.previous=Yb;--yc;continue a}Nd+=Gc._.r;Gc=Gc.next}else{if(vb(ad._,kb._)){Yb=ad;Yb.next=hc;hc.previous=Yb;--yc;continue a}ud+=ad._.r;ad=ad.previous}while(Gc!==ad.next);
kb.previous=Yb;kb.next=hc;Yb.next=hc.previous=hc=kb;for(Gc=pb(Yb);(kb=kb.next)!==hc;)(ad=pb(kb))<Gc&&(Yb=kb,Gc=ad);hc=Yb.next}Yb=[hc._];for(kb=hc;(kb=kb.next)!==hc;)Yb.push(kb._);hc=0;Yb=Array.from(Yb);for(kb=Yb.length;kb;)Gc=Wb()*kb--|0,yc=Yb[kb],Yb[kb]=Yb[Gc],Yb[Gc]=yc;Yb=(Wb=Yb).length;kb=[];for(var Fa;hc<Yb;)if(yc=Wb[hc],Fa&&Ca(Fa,yc))++hc;else{a:if(Fa=kb,Qa(yc,Fa))Fa=[yc];else{for(kb=0;kb<Fa.length;++kb)if(Oa(yc,Fa[kb])&&Qa(lb(Fa[kb],yc),Fa)){Fa=[Fa[kb],yc];break a}for(kb=0;kb<Fa.length-1;++kb)for(hc=
kb+1;hc<Fa.length;++hc)if(Oa(lb(Fa[kb],Fa[hc]),yc)&&Oa(lb(Fa[kb],yc),Fa[hc])&&Oa(lb(Fa[hc],yc),Fa[kb])&&Qa(mb(Fa[kb],Fa[hc],yc),Fa)){Fa=[Fa[kb],Fa[hc],yc];break a}throw Error();}a:{Fa=kb=Fa;switch(Fa.length){case 1:Fa=Fa[0];Fa={x:Fa.x,y:Fa.y,r:Fa.r};break a;case 2:Fa=lb(Fa[0],Fa[1]);break a;case 3:Fa=mb(Fa[0],Fa[1],Fa[2]);break a}Fa=void 0}hc=0}kb=Fa;for(yc=0;yc<bc;++yc)Yb=Ia[yc],Yb.x-=kb.x,Yb.y-=kb.y;return kb.r}function ob(Ia){return Math.sqrt(Ia.value)}function ma(Ia){return function(Wb){Wb.children||
(Wb.r=Math.max(0,+Ia(Wb)||0))}}function Y(Ia,Wb,kb){return function(bc){if(Yb=bc.children){var Yb,hc,yc=Yb.length,Gc=Ia(bc)*Wb||0;if(Gc)for(hc=0;hc<yc;++hc)Yb[hc].r+=Gc;var ad=Vb(Yb,kb);if(Gc)for(hc=0;hc<yc;++hc)Yb[hc].r-=Gc;bc.r=ad+Gc}}}function Ga(Ia){return function(Wb){var kb=Wb.parent;Wb.r*=Ia;kb&&(Wb.x=kb.x+Ia*Wb.x,Wb.y=kb.y+Ia*Wb.y)}}function Ea(Ia){Ia.x0=Math.round(Ia.x0);Ia.y0=Math.round(Ia.y0);Ia.x1=Math.round(Ia.x1);Ia.y1=Math.round(Ia.y1)}function db(Ia,Wb,kb,bc,Yb){var hc=Ia.children,
yc=-1,Gc=hc.length;for(bc=Ia.value&&(bc-Wb)/Ia.value;++yc<Gc;)Ia=hc[yc],Ia.y0=kb,Ia.y1=Yb,Ia.x0=Wb,Ia.x1=Wb+=Ia.value*bc}function ba(Ia){return Ia.id}function na(Ia){return Ia.parentId}function p(){function Ia(Yb){var hc=Array.from(Yb),yc=Wb,Gc=kb,ad,Nd,ud=new Map;if(null!=bc){const ya=hc.map((bb,jb)=>{bb=bc(bb,jb,Yb);bb=`${bb}`;jb=bb.length;O(bb,jb-1)&&!O(bb,jb-2)&&(bb=bb.slice(0,-1));return"/"===bb[0]?bb:`/${bb}`}),Ka=ya.map(L);yc=(new Set(ya)).add("");for(ub of Ka)yc.has(ub)||(yc.add(ub),ya.push(ub),
Ka.push(L(ub)),hc.push(Gb));yc=(bb,jb)=>ya[jb];Gc=(bb,jb)=>Ka[jb]}var Fa=0;for(ad=hc.length;Fa<ad;++Fa){var hb=hc[Fa];var ub=hc[Fa]=new Nb(hb);if(null!=(Nd=yc(hb,Fa,Yb))&&(Nd+="")){var la=ub.id=Nd;ud.set(la,ud.has(la)?ab:ub)}null!=(Nd=Gc(hb,Fa,Yb))&&(Nd+="")&&(ub.parent=Nd)}for(Fa=0;Fa<ad;++Fa)if(ub=hc[Fa],Nd=ub.parent){yc=ud.get(Nd);if(!yc)throw Error("missing: "+Nd);if(yc===ab)throw Error("ambiguous: "+Nd);yc.children?yc.children.push(ub):yc.children=[ub];ub.parent=yc}else{if(H)throw Error("multiple roots");
var H=ub}if(!H)throw Error("no root");if(null!=bc){for(;H.data===Gb&&1===H.children.length;)H=H.children[0],--ad;for(Nd=hc.length-1;0<=Nd;--Nd){ub=hc[Nd];if(ub.data!==Gb)break;ub.data=null}}H.parent=Ba;H.eachBefore(function(ya){ya.depth=ya.parent.depth+1;--ad}).eachBefore(Ib);H.parent=null;if(0<ad)throw Error("cycle");return H}var Wb=ba,kb=na,bc;Ia.id=function(Yb){return arguments.length?(Wb=null==Yb?null:Bb(Yb),Ia):Wb};Ia.parentId=function(Yb){return arguments.length?(kb=null==Yb?null:Bb(Yb),Ia):
kb};Ia.path=function(Yb){return arguments.length?(bc=null==Yb?null:Bb(Yb),Ia):bc};return Ia}function L(Ia){let Wb=Ia.length;if(2>Wb)return"";for(;1<--Wb&&!O(Ia,Wb););return Ia.slice(0,Wb)}function O(Ia,Wb){if("/"===Ia[Wb]){let kb=0;for(;0<Wb&&"\\"===Ia[--Wb];)++kb;if(0===(kb&1))return!0}return!1}function f(Ia,Wb){return Ia.parent===Wb.parent?1:2}function v(Ia){var Wb=Ia.children;return Wb?Wb[0]:Ia.t}function m(Ia){var Wb=Ia.children;return Wb?Wb[Wb.length-1]:Ia.t}function C(Ia,Wb){this._=Ia;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Wb}function B(Ia){Ia=new C(Ia,0);for(var Wb,kb=[Ia],bc,Yb,hc;Wb=kb.pop();)if(Yb=Wb._.children)for(Wb.children=Array(bc=Yb.length),hc=bc-1;0<=hc;--hc)kb.push(bc=Wb.children[hc]=new C(Yb[hc],hc)),bc.parent=Wb;(Ia.parent=new C(null,0)).children=[Ia];return Ia}function z(Ia,Wb,kb,bc,Yb){var hc=Ia.children,yc=-1,Gc=hc.length;for(Yb=Ia.value&&(Yb-kb)/Ia.value;++yc<Gc;)Ia=hc[yc],Ia.x0=Wb,Ia.x1=bc,Ia.y0=kb,Ia.y1=kb+=
Ia.value*Yb}function E(Ia,Wb,kb,bc,Yb,hc){for(var yc=[],Gc=Wb.children,ad,Nd,ud=ad=0,Fa=Gc.length,hb,ub=Wb.value,la,H,ya,Ka,bb,jb;ad<Fa;){Wb=Yb-kb;hb=hc-bc;do la=Gc[ud++].value;while(!la&&ud<Fa);H=ya=la;jb=Math.max(hb/Wb,Wb/hb)/(ub*Ia);Ka=la*la*jb;for(bb=Math.max(ya/Ka,Ka/H);ud<Fa;++ud){la+=Nd=Gc[ud].value;Nd<H&&(H=Nd);Nd>ya&&(ya=Nd);Ka=la*la*jb;Ka=Math.max(ya/Ka,Ka/H);if(Ka>bb){la-=Nd;break}bb=Ka}yc.push(ad={value:la,dice:Wb<hb,children:Gc.slice(ad,ud)});ad.dice?db(ad,kb,bc,Yb,ub?bc+=hb*la/ub:hc):
z(ad,kb,bc,ub?kb+=Wb*la/ub:Yb,hc);ub-=la;ad=ud}return yc}function D(){function Ia(hb){hb.x0=hb.y0=0;hb.x1=Yb;hb.y1=hc;hb.eachBefore(Wb);yc=[0];bc&&hb.eachBefore(Ea);return hb}function Wb(hb){var ub=yc[hb.depth],la=hb.x0+ub,H=hb.y0+ub,ya=hb.x1-ub,Ka=hb.y1-ub;ya<la&&(la=ya=(la+ya)/2);Ka<H&&(H=Ka=(H+Ka)/2);hb.x0=la;hb.y0=H;hb.x1=ya;hb.y1=Ka;hb.children&&(ub=yc[hb.depth+1]=Gc(hb)/2,la+=Fa(hb)-ub,H+=ad(hb)-ub,ya-=Nd(hb)-ub,Ka-=ud(hb)-ub,ya<la&&(la=ya=(la+ya)/2),Ka<H&&(H=Ka=(H+Ka)/2),kb(hb,la,H,ya,Ka))}
var kb=wc,bc=!1,Yb=1,hc=1,yc=[0],Gc=Ob,ad=Ob,Nd=Ob,ud=Ob,Fa=Ob;Ia.round=function(hb){return arguments.length?(bc=!!hb,Ia):bc};Ia.size=function(hb){return arguments.length?(Yb=+hb[0],hc=+hb[1],Ia):[Yb,hc]};Ia.tile=function(hb){return arguments.length?(kb=Bb(hb),Ia):kb};Ia.padding=function(hb){return arguments.length?Ia.paddingInner(hb).paddingOuter(hb):Ia.paddingInner()};Ia.paddingInner=function(hb){return arguments.length?(Gc="function"===typeof hb?hb:Xa(+hb),Ia):Gc};Ia.paddingOuter=function(hb){return arguments.length?
Ia.paddingTop(hb).paddingRight(hb).paddingBottom(hb).paddingLeft(hb):Ia.paddingTop()};Ia.paddingTop=function(hb){return arguments.length?(ad="function"===typeof hb?hb:Xa(+hb),Ia):ad};Ia.paddingRight=function(hb){return arguments.length?(Nd="function"===typeof hb?hb:Xa(+hb),Ia):Nd};Ia.paddingBottom=function(hb){return arguments.length?(ud="function"===typeof hb?hb:Xa(+hb),Ia):ud};Ia.paddingLeft=function(hb){return arguments.length?(Fa="function"===typeof hb?hb:Xa(+hb),Ia):Fa};return Ia}function V(Ia){g.Transform.call(this,
null,Ia)}function Aa(){function Ia(Yb,hc){if(hc>=kb.length)return Yb;const yc=Yb.length,Gc=kb[hc++],ad={},Nd={};let ud=-1,Fa,hb,ub;for(;++ud<yc;)Fa=Gc(hb=Yb[ud])+"",(ub=ad[Fa])?ub.push(hb):ad[Fa]=[hb];for(Fa in ad)Nd[Fa]=Ia(ad[Fa],hc);return Nd}function Wb(Yb,hc){if(++hc>kb.length)return Yb;const yc=[];for(const Gc in Yb)yc.push({key:Gc,values:Wb(Yb[Gc],hc)});return yc}const kb=[],bc={entries:Yb=>Wb(Ia(Yb,0),0),key:Yb=>(kb.push(Yb),bc)};return bc}function W(Ia){g.Transform.call(this,null,Ia)}function u(Ia,
Wb,kb){for(let bc,Yb=0,hc=Wb.length;Yb<hc;++Yb)if(bc=Wb[Yb],bc in kb)Ia[bc](kb[bc])}function K(Ia){W.call(this,Ia)}function va(Ia){W.call(this,Ia)}function Ja(Ia){g.Transform.call(this,null,Ia)}function Za(Ia){W.call(this,Ia)}function Wa(Ia){g.Transform.call(this,[],Ia)}function X(Ia){W.call(this,Ia)}Nb.prototype=ec.prototype={constructor:Nb,count:function(){return this.eachAfter(Ab)},each:function(Ia,Wb){let kb=-1;for(const bc of this)Ia.call(Wb,bc,++kb,this);return this},eachAfter:function(Ia,Wb){for(var kb,
bc=[this],Yb=[],hc,yc,Gc=-1;kb=bc.pop();)if(Yb.push(kb),kb=kb.children)for(hc=0,yc=kb.length;hc<yc;++hc)bc.push(kb[hc]);for(;kb=Yb.pop();)Ia.call(Wb,kb,++Gc,this);return this},eachBefore:function(Ia,Wb){for(var kb,bc=[this],Yb,hc=-1;kb=bc.pop();)if(Ia.call(Wb,kb,++hc,this),kb=kb.children)for(Yb=kb.length-1;0<=Yb;--Yb)bc.push(kb[Yb]);return this},find:function(Ia,Wb){let kb=-1;for(const bc of this)if(Ia.call(Wb,bc,++kb,this))return bc},sum:function(Ia){return this.eachAfter(function(Wb){for(var kb=
+Ia(Wb.data)||0,bc=Wb.children,Yb=bc&&bc.length;0<=--Yb;)kb+=bc[Yb].value;Wb.value=kb})},sort:function(Ia){return this.eachBefore(function(Wb){Wb.children&&Wb.children.sort(Ia)})},path:function(Ia){var Wb=this;var kb=Wb;var bc=Ia;if(kb!==bc){var Yb=kb.ancestors(),hc=bc.ancestors(),yc=null;kb=Yb.pop();for(bc=hc.pop();kb===bc;)yc=kb,kb=Yb.pop(),bc=hc.pop();kb=yc}for(bc=[Wb];Wb!==kb;)Wb=Wb.parent,bc.push(Wb);for(Wb=bc.length;Ia!==kb;)bc.splice(Wb,0,Ia),Ia=Ia.parent;return bc},ancestors:function(){for(var Ia=
this,Wb=[Ia];Ia=Ia.parent;)Wb.push(Ia);return Wb},descendants:function(){return Array.from(this)},leaves:function(){var Ia=[];this.eachBefore(function(Wb){Wb.children||Ia.push(Wb)});return Ia},links:function(){var Ia=this,Wb=[];Ia.each(function(kb){kb!==Ia&&Wb.push({source:kb.parent,target:kb})});return Wb},copy:function(){return ec(this).eachBefore(rb)},[Symbol.iterator]:function*(){var Ia,Wb=[this],kb;do{var bc=Wb.reverse();for(Wb=[];Ia=bc.pop();)if(yield Ia,Ia=Ia.children){var Yb=0;for(kb=Ia.length;Yb<
kb;++Yb)Wb.push(Ia[Yb])}}while(Wb.length)}};var Ba={depth:-1},ab={},Gb={};C.prototype=Object.create(Nb.prototype);var tc=(1+Math.sqrt(5))/2,wc=function kb(Wb){function bc(Yb,hc,yc,Gc,ad){E(Wb,Yb,hc,yc,Gc,ad)}bc.ratio=function(Yb){return kb(1<(Yb=+Yb)?Yb:1)};return bc}(tc);tc=function bc(kb){function Yb(hc,yc,Gc,ad,Nd){if((ud=hc._squarify)&&ud.ratio===kb)for(var ud,Fa,hb,ub=-1,la,H=ud.length,ya=hc.value;++ub<H;){hc=ud[ub];Fa=hc.children;hb=hc.value=0;for(la=Fa.length;hb<la;++hb)hc.value+=Fa[hb].value;
hc.dice?db(hc,yc,Gc,ad,ya?Gc+=(Nd-Gc)*hc.value/ya:Nd):z(hc,yc,Gc,ya?yc+=(ad-yc)*hc.value/ya:ad,Nd);ya-=hc.value}else hc._squarify=ud=E(kb,hc,yc,Gc,ad,Nd),ud.ratio=kb}Yb.ratio=function(hc){return bc(1<(hc=+hc)?hc:1)};return Yb}(tc);V.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const vc=kb=>kb.values;ra.inherits(V,g.Transform,{transform(kb,bc){bc.source||ra.error("Nest transform requires an upstream data source.");
var Yb=kb.generate,hc=kb.modified(),yc=bc.clone(),Gc=this.value;if(!Gc||hc||bc.changed())Gc&&Gc.each(ad=>{ad.children&&g.isTuple(ad.data)&&yc.rem.push(ad.data)}),this.value=Gc=ec({values:ra.array(kb.keys).reduce((ad,Nd)=>{ad.key(Nd);return ad},Aa()).entries(yc.source)},vc),Yb&&Gc.each(ad=>{ad.children&&(ad=g.ingest(ad.data),yc.add.push(ad),yc.source.push(ad))}),ib(Gc,g.tupleid,g.tupleid);yc.source.root=Gc;return yc}});const Ec=(kb,bc)=>kb.parent===bc.parent?1:2;ra.inherits(W,g.Transform,{transform(kb,
bc){bc.source&&bc.source.root||ra.error(this.constructor.name+" transform requires a backing tree data source.");const Yb=this.layout(kb.method),hc=this.fields,yc=bc.source.root,Gc=kb.as||hc;kb.field?yc.sum(kb.field):yc.count();kb.sort&&yc.sort(g.stableCompare(kb.sort,ad=>ad.data));u(Yb,this.params,kb);Yb.separation&&Yb.separation(!1!==kb.separation?Ec:ra.one);try{this.value=Yb(yc)}catch(ad){ra.error(ad)}yc.each(ad=>{const Nd=ad.data,ud=hc.length-1;for(let Fa=0;Fa<ud;++Fa)Nd[Gc[Fa]]=ad[hc[Fa]];Nd[Gc[ud]]=
ad.children?ad.children.length:0});return bc.reflow(kb.modified()).modifies(Gc).modifies("leaf")}});var zc=["x","y","r","depth","children"];K.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zc.length,"default":zc}]};ra.inherits(K,W,{layout:function(){function kb(Gc){const ad=
qb();Gc.x=Yb/2;Gc.y=hc/2;bc?Gc.eachBefore(ma(bc)).eachAfter(Y(yc,.5,ad)).eachBefore(Ga(1)):Gc.eachBefore(ma(ob)).eachAfter(Y(Ob,1,ad)).eachAfter(Y(yc,Gc.r/Math.min(Yb,hc),ad)).eachBefore(Ga(Math.min(Yb,hc)/(2*Gc.r)));return Gc}var bc=null,Yb=1,hc=1,yc=Ob;kb.radius=function(Gc){return arguments.length?(bc=null==Gc?null:Bb(Gc),kb):bc};kb.size=function(Gc){return arguments.length?(Yb=+Gc[0],hc=+Gc[1],kb):[Yb,hc]};kb.padding=function(Gc){return arguments.length?(yc="function"===typeof Gc?Gc:Xa(+Gc),kb):
yc};return kb},params:["radius","size","padding"],fields:zc});zc="x0 y0 x1 y1 depth children".split(" ");va.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zc.length,"default":zc}]};ra.inherits(va,W,{layout:function(){function kb(ad){var Nd=ad.height+
1;ad.x0=ad.y0=yc;ad.x1=Yb;ad.y1=hc/Nd;ad.eachBefore(bc(hc,Nd));Gc&&ad.eachBefore(Ea);return ad}function bc(ad,Nd){return function(ud){ud.children&&db(ud,ud.x0,ad*(ud.depth+1)/Nd,ud.x1,ad*(ud.depth+2)/Nd);var Fa=ud.x0,hb=ud.y0,ub=ud.x1-yc,la=ud.y1-yc;ub<Fa&&(Fa=ub=(Fa+ub)/2);la<hb&&(hb=la=(hb+la)/2);ud.x0=Fa;ud.y0=hb;ud.x1=ub;ud.y1=la}}var Yb=1,hc=1,yc=0,Gc=!1;kb.round=function(ad){return arguments.length?(Gc=!!ad,kb):Gc};kb.size=function(ad){return arguments.length?(Yb=+ad[0],hc=+ad[1],kb):[Yb,hc]};
kb.padding=function(ad){return arguments.length?(yc=+ad,kb):yc};return kb},params:["size","round","padding"],fields:zc});Ja.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ra.inherits(Ja,g.Transform,{transform(kb,bc){bc.source||ra.error("Stratify transform requires an upstream data source.");let Yb=this.value;const hc=kb.modified(),yc=bc.fork(bc.ALL).materialize(bc.SOURCE);bc=!Yb||hc||bc.changed(bc.ADD_REM)||
bc.modified(kb.key.fields)||bc.modified(kb.parentKey.fields);yc.source=yc.source.slice();bc&&(Yb=yc.source.length?ib(p().id(kb.key).parentId(kb.parentKey)(yc.source),kb.key,ra.truthy):ib(p()([{}]),kb.key,kb.key));yc.source.root=this.value=Yb;return yc}});const Rc={tidy:function(){function kb(ud){var Fa=B(ud);Fa.eachAfter(bc);Fa.parent.m=-Fa.z;Fa.eachBefore(Yb);if(Nd)ud.eachBefore(hc);else{var hb=ud,ub=ud,la=ud;ud.eachBefore(function(bb){bb.x<hb.x&&(hb=bb);bb.x>ub.x&&(ub=bb);bb.depth>la.depth&&(la=
bb)});Fa=hb===ub?1:yc(hb,ub)/2;var H=Fa-hb.x,ya=Gc/(ub.x+Fa+H),Ka=ad/(la.depth||1);ud.eachBefore(function(bb){bb.x=(bb.x+H)*ya;bb.y=bb.depth*Ka})}return ud}function bc(ud){var Fa=ud.children,hb=ud.parent.children,ub=ud.i?hb[ud.i-1]:null;if(Fa){for(var la=0,H=0,ya=ud.children,Ka=ya.length,bb;0<=--Ka;)bb=ya[Ka],bb.z+=la,bb.m+=la,la+=bb.s+(H+=bb.c);Fa=(Fa[0].z+Fa[Fa.length-1].z)/2;ub?(ud.z=ub.z+yc(ud._,ub._),ud.m=ud.z-Fa):ud.z=Fa}else ub&&(ud.z=ub.z+yc(ud._,ub._));Fa=ud.parent;hb=ud.parent.A||hb[0];
if(ub){H=la=ud;ya=la.parent.children[0];Ka=la.m;bb=H.m;for(var jb=ub.m,Eb=ya.m,mc;ub=m(ub),la=v(la),ub&&la;){ya=v(ya);H=m(H);H.a=ud;mc=ub.z+jb-la.z-Ka+yc(ub._,la._);if(0<mc){var cc=ub.a.parent===ud.parent?ub.a:hb,gc=ud,Sc=mc,ed=Sc/(gc.i-cc.i);gc.c-=ed;gc.s+=Sc;cc.c+=ed;gc.z+=Sc;gc.m+=Sc;Ka+=mc;bb+=mc}jb+=ub.m;Ka+=la.m;Eb+=ya.m;bb+=H.m}ub&&!m(H)&&(H.t=ub,H.m+=jb-bb);la&&!v(ya)&&(ya.t=la,ya.m+=Ka-Eb,hb=ud)}Fa.A=hb}function Yb(ud){ud._.x=ud.z+ud.parent.m;ud.m+=ud.parent.m}function hc(ud){ud.x*=Gc;ud.y=
ud.depth*ad}var yc=f,Gc=1,ad=1,Nd=null;kb.separation=function(ud){return arguments.length?(yc=ud,kb):yc};kb.size=function(ud){return arguments.length?(Nd=!1,Gc=+ud[0],ad=+ud[1],kb):Nd?null:[Gc,ad]};kb.nodeSize=function(ud){return arguments.length?(Nd=!0,Gc=+ud[0],ad=+ud[1],kb):Nd?[Gc,ad]:null};return kb},cluster:function(){function kb(Gc){var ad,Nd=0;Gc.eachAfter(function(la){var H=la.children;if(H){var ya=H.reduce(Zb,0)/H.length;la.x=ya;la.y=1+H.reduce(oc,0)}else la.x=ad?Nd+=bc(la,ad):0,la.y=0,ad=
la});var ud=kc(Gc),Fa=Ac(Gc),hb=ud.x-bc(ud,Fa)/2,ub=Fa.x+bc(Fa,ud)/2;return Gc.eachAfter(yc?function(la){la.x=(la.x-Gc.x)*Yb;la.y=(Gc.y-la.y)*hc}:function(la){la.x=(la.x-hb)/(ub-hb)*Yb;la.y=(1-(Gc.y?la.y/Gc.y:1))*hc})}var bc=Fb,Yb=1,hc=1,yc=!1;kb.separation=function(Gc){return arguments.length?(bc=Gc,kb):bc};kb.size=function(Gc){return arguments.length?(yc=!1,Yb=+Gc[0],hc=+Gc[1],kb):yc?null:[Yb,hc]};kb.nodeSize=function(Gc){return arguments.length?(yc=!0,Yb=+Gc[0],hc=+Gc[1],kb):yc?[Yb,hc]:null};return kb}};
zc=["x","y","depth","children"];Za.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:zc.length,"default":zc}]};ra.inherits(Za,W,{layout(kb){kb=kb||"tidy";if(ra.hasOwnProperty(Rc,
kb))return Rc[kb]();ra.error("Unrecognized Tree layout method: "+kb)},params:["size","nodeSize"],fields:zc});Wa.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ra.inherits(Wa,g.Transform,{transform(kb,bc){kb=this.value;const Yb=bc.source&&bc.source.root,hc=bc.fork(bc.NO_SOURCE),yc={};Yb||ra.error("TreeLinks transform requires a tree data source.");bc.changed(bc.ADD_REM)?(hc.rem=kb,bc.visit(bc.SOURCE,Gc=>yc[g.tupleid(Gc)]=1),Yb.each(Gc=>{const ad=Gc.data;(Gc=Gc.parent&&
Gc.parent.data)&&yc[g.tupleid(ad)]&&yc[g.tupleid(Gc)]&&hc.add.push(g.ingest({source:Gc,target:ad}))}),this.value=hc.add):bc.changed(bc.MOD)&&(bc.visit(bc.MOD,Gc=>yc[g.tupleid(Gc)]=1),kb.forEach(Gc=>{(yc[g.tupleid(Gc.source)]||yc[g.tupleid(Gc.target)])&&hc.mod.push(Gc)}));return hc}});const Sd={binary:function(kb,bc,Yb,hc,yc){function Gc(ub,la,H,ya,Ka,bb,jb){if(ub>=la-1)ub=ad[ub],ub.x0=ya,ub.y0=Ka,ub.x1=bb,ub.y1=jb;else{for(var Eb=hb[ub],mc=H/2+Eb,cc=ub+1,gc=la-1;cc<gc;){var Sc=cc+gc>>>1;hb[Sc]<mc?
cc=Sc+1:gc=Sc}mc-hb[cc-1]<hb[cc]-mc&&ub+1<cc&&--cc;Eb=hb[cc]-Eb;mc=H-Eb;bb-ya>jb-Ka?(H=H?(ya*mc+bb*Eb)/H:bb,Gc(ub,cc,Eb,ya,Ka,H,jb),Gc(cc,la,mc,H,Ka,bb,jb)):(H=H?(Ka*mc+jb*Eb)/H:jb,Gc(ub,cc,Eb,ya,Ka,bb,H),Gc(cc,la,mc,ya,H,bb,jb))}}var ad=kb.children,Nd,ud=ad.length,Fa,hb=Array(ud+1);for(hb[0]=Fa=Nd=0;Nd<ud;++Nd)hb[Nd+1]=Fa+=ad[Nd].value;Gc(0,ud,kb.value,bc,Yb,hc,yc)},dice:db,slice:z,slicedice:function(kb,bc,Yb,hc,yc){(kb.depth&1?z:db)(kb,bc,Yb,hc,yc)},squarify:wc,resquarify:tc};tc="x0 y0 x1 y1 depth children".split(" ");
X.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number",
"default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:tc.length,"default":tc}]};ra.inherits(X,W,{layout(){const kb=D();kb.ratio=bc=>{const Yb=kb.tile();Yb.ratio&&kb.tile(Yb.ratio(bc))};kb.method=bc=>{ra.hasOwnProperty(Sd,bc)?kb.tile(Sd[bc]):ra.error("Unrecognized Treemap layout method: "+bc)};return kb},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:tc});r.nest=V;r.pack=K;r.partition=va;r.stratify=Ja;r.tree=Za;r.treelinks=Wa;r.treemap=X})};
shadow$provide[41]=function(ac,Cb,Wc,nb){!function(r,g){"object"==typeof nb&&"undefined"!=typeof Wc?g(nb):"function"==typeof define&&define.amd?define(["exports"],g):g((r="undefined"!=typeof globalThis?globalThis:r||self).vega={})}(this,function(r){function g(ra,ib){if("undefined"!=typeof document&&document.createElement){const Fb=document.createElement("canvas");if(Fb&&Fb.getContext)return Fb.width=ra,Fb.height=ib,Fb}return null}r.canvas=g;r.domCanvas=g;r.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[42]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function ra(u){const K=g.array(u).slice(),va={};K.length||g.error("Missing time unit.");K.forEach(Ja=>{g.hasOwnProperty(Ca,Ja)?va[Ja]=1:g.error(`Invalid time unit: ${Ja}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&g.error(`Incompatible time units: ${u}`);K.sort((Ja,Za)=>Ca[Ja]-Ca[Za]);return K}function ib(u,K,va,Ja){function Za(Wa){return u(Wa=0===arguments.length?new Date:new Date(+Wa)),Wa}Za.floor=function(Wa){return u(Wa=new Date(+Wa)),Wa};Za.ceil=function(Wa){return u(Wa=new Date(Wa-1)),K(Wa,1),u(Wa),Wa};Za.round=function(Wa){var X=Za(Wa),Ba=Za.ceil(Wa);return Wa-X<Ba-Wa?X:Ba};Za.offset=function(Wa,X){return K(Wa=new Date(+Wa),null==X?1:Math.floor(X)),Wa};Za.range=function(Wa,
X,Ba){var ab=[],Gb;Wa=Za.ceil(Wa);Ba=null==Ba?1:Math.floor(Ba);if(!(Wa<X&&0<Ba))return ab;do ab.push(Gb=new Date(+Wa)),K(Wa,Ba),u(Wa);while(Gb<Wa&&Wa<X);return ab};Za.filter=function(Wa){return ib(function(X){if(X>=X)for(;u(X),!Wa(X);)X.setTime(X-1)},function(X,Ba){if(X>=X)if(0>Ba)for(;0>=++Ba;)for(;K(X,-1),!Wa(X););else for(;0<=--Ba;)for(;K(X,1),!Wa(X););})};va&&(Za.count=function(Wa,X){lb.setTime(+Wa);mb.setTime(+X);u(lb);u(mb);return Math.floor(va(lb,mb))},Za.every=function(Wa){Wa=Math.floor(Wa);
return isFinite(Wa)&&0<Wa?1<Wa?Za.filter(Ja?function(X){return 0===Ja(X)%Wa}:function(X){return 0===Za.count(0,X)%Wa}):Za:null});return Za}function Fb(u){return ib(function(K){K.setDate(K.getDate()-(K.getDay()+7-u)%7);K.setHours(0,0,0,0)},function(K,va){K.setDate(K.getDate()+7*va)},function(K,va){return(va-K-6E4*(va.getTimezoneOffset()-K.getTimezoneOffset()))/6048E5})}function Zb(u){return ib(function(K){K.setUTCDate(K.getUTCDate()-(K.getUTCDay()+7-u)%7);K.setUTCHours(0,0,0,0)},function(K,va){K.setUTCDate(K.getUTCDate()+
7*va)},function(K,va){return(va-K)/6048E5})}function oc(u,K){return null==u||null==K?NaN:u<K?-1:u>K?1:u>=K?0:NaN}function kc(u){function K(Wa,X,Ba=0,ab=Wa.length){if(Ba<ab){if(0!==Ja(X,X))return ab;do{const Gb=Ba+ab>>>1;0>Za(Wa[Gb],X)?Ba=Gb+1:ab=Gb}while(Ba<ab)}return Ba}let va=u,Ja=u,Za=u;2!==u.length&&(va=(Wa,X)=>u(Wa)-X,Ja=oc,Za=(Wa,X)=>oc(u(Wa),X));return{left:K,center:function(Wa,X,Ba=0,ab=Wa.length){ab=K(Wa,X,Ba,ab-1);return ab>Ba&&va(Wa[ab-1],X)>-va(Wa[ab],X)?ab-1:ab},right:function(Wa,X,Ba=
0,ab=Wa.length){if(Ba<ab){if(0!==Ja(X,X))return ab;do{const Gb=Ba+ab>>>1;0>=Za(Wa[Gb],X)?Ba=Gb+1:ab=Gb}while(Ba<ab)}return Ba}}}function Ac(u,K,va){var Ja=Math.abs(K-u)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(Ja)/Math.LN10));Ja/=va;Ja>=L?va*=10:Ja>=O?va*=5:Ja>=f&&(va*=2);return K<u?-va:va}function Ab(u){v.setFullYear(u);v.setMonth(0);v.setDate(1);v.setHours(0,0,0,0);return v}function ec(u){return Vb.count(Ab(u.getFullYear())-1,u)}function pc(u){return ob.count(Ab(u.getFullYear())-1,u)}function Ya(u,
K,va,Ja,Za,Wa,X){return 0<=u&&100>u?(K=new Date(-1,K,va,Ja,Za,Wa,X),K.setFullYear(u),K):new Date(u,K,va,Ja,Za,Wa,X)}function rb(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return db.count(K-1,u)}function Ib(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return ba.count(K-1,u)}function Nb(u){v.setTime(Date.UTC(u,0,1));return v.getUTCDay()}function Bb(u,K,va,Ja,Za,Wa,X){return 0<=u&&100>u?(u=new Date(Date.UTC(-1,K,va,Ja,Za,Wa,X)),u.setUTCFullYear(va.y),u):new Date(Date.UTC(u,K,va,Ja,Za,Wa,X))}function Ob(u,
K,va,Ja,Za){const Wa=K||1,X=g.peek(u);K=(Rc,Sd,Ia)=>{Ia=Ia||Rc;return Xa(va[Ia],Ja[Ia],Rc===X&&Wa,Sd)};const Ba=new Date;u=g.toSet(u);const ab=u.year?K("year"):g.constant(2012),Gb=u.month?K("month"):u.quarter?K("quarter"):g.zero,tc=u.week&&u.day?K("day",1,"weekday"):u.week?K("week",1):u.day?K("day",1):u.date?K("date",1):u.dayofyear?K("dayofyear",1):g.one,wc=u.hours?K("hours"):g.zero,vc=u.minutes?K("minutes"):g.zero,Ec=u.seconds?K("seconds"):g.zero,zc=u.milliseconds?K("milliseconds"):g.zero;return function(Rc){Ba.setTime(+Rc);
Rc=ab(Ba);return Za(Rc,Gb(Ba),tc(Ba,Rc),wc(Ba),vc(Ba),Ec(Ba),zc(Ba))}}function Xa(u,K,va,Ja){const Za=1>=va?u:Ja?(Wa,X)=>Ja+va*Math.floor((u(Wa,X)-Ja)/va):(Wa,X)=>va*Math.floor(u(Wa,X)/va);return K?(Wa,X)=>K(Za(Wa,X),X):Za}function qb(u,K,va){return K+7*u-(va+6)%7}const Oa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ca=Oa.reduce((u,K,va)=>(u[K]=1+va,u),{}),Qa={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Na=ib(function(){},function(u,K){u.setTime(+u+K)},function(u,K){return K-u});Na.every=function(u){u=Math.floor(u);return isFinite(u)&&0<u?1<u?ib(function(K){K.setTime(Math.floor(K/u)*u)},function(K,va){K.setTime(+K+va*u)},function(K,va){return(va-K)/u}):Na:null};var vb=ib(function(u){u.setTime(u-u.getMilliseconds())},function(u,K){u.setTime(+u+
1E3*K)},function(u,K){return(K-u)/1E3},function(u){return u.getUTCSeconds()}),pb=ib(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds())},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getMinutes()}),Mb=ib(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds()-6E4*u.getMinutes())},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-u)/36E5},function(u){return u.getHours()}),Vb=ib(u=>u.setHours(0,0,0,0),(u,K)=>u.setDate(u.getDate()+
K),(u,K)=>(K-u-6E4*(K.getTimezoneOffset()-u.getTimezoneOffset()))/864E5,u=>u.getDate()-1),ob=Fb(0);Fb(1);Fb(2);Fb(3);Fb(4);Fb(5);Fb(6);var ma=ib(function(u){u.setDate(1);u.setHours(0,0,0,0)},function(u,K){u.setMonth(u.getMonth()+K)},function(u,K){return K.getMonth()-u.getMonth()+12*(K.getFullYear()-u.getFullYear())},function(u){return u.getMonth()}),Y=ib(function(u){u.setMonth(0,1);u.setHours(0,0,0,0)},function(u,K){u.setFullYear(u.getFullYear()+K)},function(u,K){return K.getFullYear()-u.getFullYear()},
function(u){return u.getFullYear()});Y.every=function(u){return isFinite(u=Math.floor(u))&&0<u?ib(function(K){K.setFullYear(Math.floor(K.getFullYear()/u)*u);K.setMonth(0,1);K.setHours(0,0,0,0)},function(K,va){K.setFullYear(K.getFullYear()+va*u)}):null};var Ga=ib(function(u){u.setUTCSeconds(0,0)},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getUTCMinutes()}),Ea=ib(function(u){u.setUTCMinutes(0,0,0)},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-
u)/36E5},function(u){return u.getUTCHours()}),db=ib(function(u){u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCDate(u.getUTCDate()+K)},function(u,K){return(K-u)/864E5},function(u){return u.getUTCDate()-1}),ba=Zb(0);Zb(1);Zb(2);Zb(3);Zb(4);Zb(5);Zb(6);var na=ib(function(u){u.setUTCDate(1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCMonth(u.getUTCMonth()+K)},function(u,K){return K.getUTCMonth()-u.getUTCMonth()+12*(K.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()}),p=ib(function(u){u.setUTCMonth(0,
1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCFullYear(u.getUTCFullYear()+K)},function(u,K){return K.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});p.every=function(u){return isFinite(u=Math.floor(u))&&0<u?ib(function(K){K.setUTCFullYear(Math.floor(K.getUTCFullYear()/u)*u);K.setUTCMonth(0,1);K.setUTCHours(0,0,0,0)},function(K,va){K.setUTCFullYear(K.getUTCFullYear()+va*u)}):null};var L=Math.sqrt(50),O=Math.sqrt(10),f=Math.sqrt(2);const v=new Date,m={year:u=>u.getFullYear(),
quarter:u=>Math.floor(u.getMonth()/3),month:u=>u.getMonth(),date:u=>u.getDate(),hours:u=>u.getHours(),minutes:u=>u.getMinutes(),seconds:u=>u.getSeconds(),milliseconds:u=>u.getMilliseconds(),dayofyear:u=>ec(u),week:u=>pc(u),weekday:(u,K)=>qb(pc(u),u.getDay(),Ab(K).getDay()),day:(u,K)=>qb(1,u.getDay(),Ab(K).getDay())},C={quarter:u=>3*u,week:(u,K)=>qb(u,0,Ab(K).getDay())},B={year:u=>u.getUTCFullYear(),quarter:u=>Math.floor(u.getUTCMonth()/3),month:u=>u.getUTCMonth(),date:u=>u.getUTCDate(),hours:u=>u.getUTCHours(),
minutes:u=>u.getUTCMinutes(),seconds:u=>u.getUTCSeconds(),milliseconds:u=>u.getUTCMilliseconds(),dayofyear:u=>rb(u),week:u=>Ib(u),day:(u,K)=>qb(1,u.getUTCDay(),Nb(K)),weekday:(u,K)=>qb(Ib(u),u.getUTCDay(),Nb(K))},z={quarter:u=>3*u,week:(u,K)=>qb(u,0,Nb(K))},E={year:Y,quarter:ma.every(3),month:ma,week:ob,date:Vb,day:Vb,dayofyear:Vb,hours:Mb,minutes:pb,seconds:vb,milliseconds:Na},D={year:p,quarter:na.every(3),month:na,week:ba,date:db,day:db,dayofyear:db,hours:Ea,minutes:Ga,seconds:vb,milliseconds:Na},
V="year month date hours minutes seconds milliseconds".split(" ");vb=V.slice(0,-1);pb=vb.slice(0,-1);Mb=pb.slice(0,-1);ma=Mb.slice(0,-1);Y=["year","month"];const Aa=["year"],W=[[vb,1,1E3],[vb,5,5E3],[vb,15,15E3],[vb,30,3E4],[pb,1,6E4],[pb,5,3E5],[pb,15,9E5],[pb,30,18E5],[Mb,1,36E5],[Mb,3,108E5],[Mb,6,216E5],[Mb,12,432E5],[ma,1,864E5],[["year","week"],1,6048E5],[Y,1,2592E6],[Y,3,7776E6],[Aa,1,31536E6]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";
r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";r.TIME_UNITS=Oa;r.WEEK="week";r.YEAR="year";r.dayofyear=function(u){return ec(new Date(u))};r.timeBin=function(u){var K=u.extent;u=u.maxbins||40;var va=Math.abs(g.span(K))/u;let Ja=kc(Za=>Za[2]).right(W,va);Ja===W.length?(va=Aa,K=Ac(K[0]/31536E6,K[1]/31536E6,u)):Ja?(Ja=W[va/W[Ja-1][2]<W[Ja][2]/va?Ja-1:Ja],va=Ja[0],K=Ja[1]):(va=V,K=Math.max(Ac(K[0],K[1],u),1));return{units:va,step:K}};r.timeFloor=function(u,K){return Ob(u,
K||1,m,C,Ya)};r.timeInterval=function(u){return E[u]};r.timeOffset=function(u,K,va){return(u=E[u])?u.offset(K,va):void 0};r.timeSequence=function(u,K,va,Ja){return(u=E[u])?u.range(K,va,Ja):void 0};r.timeUnitSpecifier=function(u,K){K=g.extend({},Qa,K);u=ra(u);const va=u.length;let Ja="",Za,Wa,X;for(Za=0;Za<va;)for(Wa=u.length;Wa>Za;--Wa)if(X=u.slice(Za,Wa).join("-"),null!=K[X]){Ja+=K[X];Za=Wa;break}return Ja.trim()};r.timeUnits=ra;r.utcFloor=function(u,K){return Ob(u,K||1,B,z,Bb)};r.utcInterval=function(u){return D[u]};
r.utcOffset=function(u,K,va){return(u=D[u])?u.offset(K,va):void 0};r.utcSequence=function(u,K,va,Ja){return(u=D[u])?u.range(K,va,Ja):void 0};r.utcdayofyear=function(u){return rb(new Date(u))};r.utcweek=function(u){return Ib(new Date(u))};r.week=function(u){return pc(new Date(u))};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[43]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(42),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(I){const ea={};return Ta=>ea[Ta]||(ea[Ta]=I(Ta))}function Fb(I,ea){if(0>(ea=(I=ea?I.toExponential(ea-1):I.toExponential()).indexOf("e")))return null;var Ta=I.slice(0,ea);return[1<
Ta.length?Ta[0]+Ta.slice(2):Ta,+I.slice(ea+1)]}function Zb(I){return I=Fb(Math.abs(I)),I?I[1]:NaN}function oc(I,ea){return function(Ta,$b){for(var Pc=Ta.length,xc=[],Tc=0,md=I[0],de=0;0<Pc&&0<md;){de+md+1>$b&&(md=Math.max(1,$b-de));xc.push(Ta.substring(Pc-=md,Pc+md));if((de+=md+1)>$b)break;md=I[Tc=(Tc+1)%I.length]}return xc.reverse().join(ea)}}function kc(I){return function(ea){return ea.replace(/[0-9]/g,function(Ta){return I[+Ta]})}}function Ac(I){if(!(ea=Vd.exec(I)))throw Error("invalid format: "+
I);var ea;return new Ab({fill:ea[1],align:ea[2],sign:ea[3],symbol:ea[4],zero:ea[5],width:ea[6],comma:ea[7],precision:ea[8]&&ea[8].slice(1),trim:ea[9],type:ea[10]})}function Ab(I){this.fill=void 0===I.fill?" ":I.fill+"";this.align=void 0===I.align?"\x3e":I.align+"";this.sign=void 0===I.sign?"-":I.sign+"";this.symbol=void 0===I.symbol?"":I.symbol+"";this.zero=!!I.zero;this.width=void 0===I.width?void 0:+I.width;this.comma=!!I.comma;this.precision=void 0===I.precision?void 0:+I.precision;this.trim=!!I.trim;
this.type=void 0===I.type?"":I.type+""}function ec(I,ea){ea=Fb(I,ea);if(!ea)return I+"";I=ea[0];ea=ea[1];return 0>ea?"0."+Array(-ea).join("0")+I:I.length>ea+1?I.slice(0,ea+1)+"."+I.slice(ea+1):I+Array(ea-I.length+2).join("0")}function pc(I){return I}function Ya(I){function ea(fb){function qc(Fc){var id=Oe,Dc=Ge,Gd,ae;if("c"===ye)Dc=tf(Fc)+Dc,Fc="";else{Fc=+Fc;var Yd=0>Fc||0>1/Fc;Fc=isNaN(Fc)?Sa:tf(Math.abs(Fc),Ad);if(Xd){var le=Fc.length,N=1,da=-1;a:for(;N<le;++N)switch(Fc[N]){case ".":da=Gd=N;break;
case "0":0===da&&(da=N);Gd=N;break;default:if(!+Fc[N])break a;0<da&&(da=0)}Fc=0<da?Fc.slice(0,da)+Fc.slice(Gd+1):Fc}Yd&&0===+Fc&&"+"!==Xc&&(Yd=!1);id=(Yd?"("===Xc?Xc:de:"-"===Xc||"("===Xc?"":Xc)+id;Dc=("s"===ye?Z[8+Te/3]:"")+Dc+(Yd&&"("===Xc?")":"");if(ld)for(Yd=-1,Gd=Fc.length;++Yd<Gd;)if(ae=Fc.charCodeAt(Yd),48>ae||57<ae){Dc=(46===ae?xc+Fc.slice(Yd+1):Fc.slice(Yd))+Dc;Fc=Fc.slice(0,Yd);break}}Qd&&!qd&&(Fc=Ta(Fc,Infinity));ae=id.length+Fc.length+Dc.length;Yd=ae<jd?Array(jd-ae+1).join(pd):"";Qd&&
qd&&(Fc=Ta(Yd+Fc,Yd.length?jd-Dc.length:Infinity),Yd="");switch(Kc){case "\x3c":Fc=id+Fc+Dc+Yd;break;case "\x3d":Fc=id+Yd+Fc+Dc;break;case "^":Fc=Yd.slice(0,ae=Yd.length>>1)+id+Fc+Dc+Yd.slice(ae);break;default:Fc=Yd+id+Fc+Dc}return Tc(Fc)}fb=Ac(fb);var pd=fb.fill,Kc=fb.align,Xc=fb.sign,Qc=fb.symbol,qd=fb.zero,jd=fb.width,Qd=fb.comma,Ad=fb.precision,Xd=fb.trim,ye=fb.type;"n"===ye?(Qd=!0,ye="g"):$d[ye]||(void 0===Ad&&(Ad=12),Xd=!0,ye="g");if(qd||"0"===pd&&"\x3d"===Kc)qd=!0,pd="0",Kc="\x3d";var Oe="$"===
Qc?$b:"#"===Qc&&/[boxX]/.test(ye)?"0"+ye.toLowerCase():"",Ge="$"===Qc?Pc:/[%p]/.test(ye)?md:"",tf=$d[ye],ld=/[defgprs%]/.test(ye);Ad=void 0===Ad?6:/[gprs]/.test(ye)?Math.max(1,Math.min(21,Ad)):Math.max(0,Math.min(20,Ad));qc.toString=function(){return fb+""};return qc}var Ta=void 0===I.grouping||void 0===I.thousands?pc:oc(M.call(I.grouping,Number),I.thousands+""),$b=void 0===I.currency?"":I.currency[0]+"",Pc=void 0===I.currency?"":I.currency[1]+"",xc=void 0===I.decimal?".":I.decimal+"",Tc=void 0===
I.numerals?pc:kc(M.call(I.numerals,String)),md=void 0===I.percent?"%":I.percent+"",de=void 0===I.minus?"−":I.minus+"",Sa=void 0===I.nan?"NaN":I.nan+"";return{format:ea,formatPrefix:function(fb,qc){var pd=ea((fb=Ac(fb),fb.type="f",fb));fb=3*Math.max(-8,Math.min(8,Math.floor(Zb(qc)/3)));var Kc=Math.pow(10,-fb),Xc=Z[8+fb/3];return function(Qc){return pd(Kc*Qc)+Xc}}}}function rb(I,ea){return Ta=>{Ta=I(Ta);const $b=Ta.indexOf(ea);if(0>$b)return Ta;a:{var Pc=Ta.lastIndexOf("e");if(!(0<Pc)){for(Pc=Ta.length;--Pc>
$b;){var xc=Ta.charCodeAt(Pc);if(48<=xc&&57>=xc){Pc+=1;break a}}Pc=void 0}}for(xc=Pc<Ta.length?Ta.slice(Pc):"";--Pc>$b;)if("0"!==Ta[Pc]){++Pc;break}return Ta.slice(0,Pc)+xc}}function Ib(I){const ea=ib(I.format),Ta=I.formatPrefix;return{format:ea,formatPrefix:Ta,formatFloat($b){$b=Ac($b||",");if(null==$b.precision){$b.precision=12;switch($b.type){case "%":$b.precision-=2;break;case "e":--$b.precision}return rb(ea($b),ea(".1f")(1)[1])}return ea($b)},formatSpan($b,Pc,xc,Tc){Tc=Ac(null==Tc?",f":Tc);var md=
Math.abs(Pc-$b)/Math.max(0,xc);xc=Math.pow(10,Math.floor(Math.log(md)/Math.LN10));md/=xc;md>=Cd?xc*=10:md>=be?xc*=5:md>=ce&&(xc*=2);xc=Pc<$b?-xc:xc;$b=Math.max(Math.abs($b),Math.abs(Pc));if(null==Tc.precision)switch(Tc.type){case "s":return Pc=isNaN,xc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zb($b)/3)))-Zb(Math.abs(xc))),Pc(Pc=xc)||(Tc.precision=Pc),Ta(Tc,$b);case "":case "e":case "g":case "p":case "r":Pc=isNaN;xc=Math.abs(xc);$b=Math.abs($b)-xc;$b=Math.max(0,Zb($b)-Zb(xc))+1;Pc(Pc=$b)||(Tc.precision=
Pc-("e"===Tc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-Zb(Math.abs(xc))))||(Tc.precision=Pc-2*("%"===Tc.type))}return ea(Tc)}}}function Nb(){return Tb=Ib({format:gb,formatPrefix:Jb})}function Bb(I){return Ib(Ya(I))}function Ob(I){return arguments.length?Tb=Bb(I):Tb}function Xa(I,ea,Ta,$b){function Pc(xc){return I(xc=0===arguments.length?new Date:new Date(+xc)),xc}Pc.floor=function(xc){return I(xc=new Date(+xc)),xc};Pc.ceil=function(xc){return I(xc=new Date(xc-1)),ea(xc,1),I(xc),xc};Pc.round=
function(xc){var Tc=Pc(xc),md=Pc.ceil(xc);return xc-Tc<md-xc?Tc:md};Pc.offset=function(xc,Tc){return ea(xc=new Date(+xc),null==Tc?1:Math.floor(Tc)),xc};Pc.range=function(xc,Tc,md){var de=[],Sa;xc=Pc.ceil(xc);md=null==md?1:Math.floor(md);if(!(xc<Tc&&0<md))return de;do de.push(Sa=new Date(+xc)),ea(xc,md),I(xc);while(Sa<xc&&xc<Tc);return de};Pc.filter=function(xc){return Xa(function(Tc){if(Tc>=Tc)for(;I(Tc),!xc(Tc);)Tc.setTime(Tc-1)},function(Tc,md){if(Tc>=Tc)if(0>md)for(;0>=++md;)for(;ea(Tc,-1),!xc(Tc););
else for(;0<=--md;)for(;ea(Tc,1),!xc(Tc););})};Ta&&(Pc.count=function(xc,Tc){Bc.setTime(+xc);ic.setTime(+Tc);I(Bc);I(ic);return Math.floor(Ta(Bc,ic))},Pc.every=function(xc){xc=Math.floor(xc);return isFinite(xc)&&0<xc?1<xc?Pc.filter($b?function(Tc){return 0===$b(Tc)%xc}:function(Tc){return 0===Pc.count(0,Tc)%xc}):Pc:null});return Pc}function qb(I){return Xa(function(ea){ea.setDate(ea.getDate()-(ea.getDay()+7-I)%7);ea.setHours(0,0,0,0)},function(ea,Ta){ea.setDate(ea.getDate()+7*Ta)},function(ea,Ta){return(Ta-
ea-6E4*(Ta.getTimezoneOffset()-ea.getTimezoneOffset()))/6048E5})}function Oa(I){return Xa(function(ea){ea.setUTCDate(ea.getUTCDate()-(ea.getUTCDay()+7-I)%7);ea.setUTCHours(0,0,0,0)},function(ea,Ta){ea.setUTCDate(ea.getUTCDate()+7*Ta)},function(ea,Ta){return(Ta-ea)/6048E5})}function Ca(I){if(0<=I.y&&100>I.y){var ea=new Date(-1,I.m,I.d,I.H,I.M,I.S,I.L);ea.setFullYear(I.y);return ea}return new Date(I.y,I.m,I.d,I.H,I.M,I.S,I.L)}function Qa(I){if(0<=I.y&&100>I.y){var ea=new Date(Date.UTC(-1,I.m,I.d,I.H,
I.M,I.S,I.L));ea.setUTCFullYear(I.y);return ea}return new Date(Date.UTC(I.y,I.m,I.d,I.H,I.M,I.S,I.L))}function lb(I,ea,Ta){return{y:I,m:ea,d:Ta,H:0,M:0,S:0,L:0}}function mb(I){function ea(ld,Fc){return function(id){var Dc=[],Gd=-1,ae=0,Yd=ld.length,le,N;for(id instanceof Date||(id=new Date(+id));++Gd<Yd;)if(37===ld.charCodeAt(Gd)){Dc.push(ld.slice(ae,Gd));null!=(ae=df[le=ld.charAt(++Gd)])?le=ld.charAt(++Gd):ae="e"===le?" ":"0";if(N=Fc[le])le=N(id,ae);Dc.push(le);ae=Gd+1}Dc.push(ld.slice(ae,Gd));return Dc.join("")}}
function Ta(ld,Fc){return function(id){var Dc=lb(1900,void 0,1);if($b(Dc,ld,id+="",0)!=id.length)return null;if("Q"in Dc)return new Date(Dc.Q);if("s"in Dc)return new Date(1E3*Dc.s+("L"in Dc?Dc.L:0));!Fc||"Z"in Dc||(Dc.Z=0);"p"in Dc&&(Dc.H=Dc.H%12+12*Dc.p);void 0===Dc.m&&(Dc.m="q"in Dc?Dc.q:0);if("V"in Dc){if(1>Dc.V||53<Dc.V)return null;"w"in Dc||(Dc.w=1);if("Z"in Dc){id=Qa(lb(Dc.y,0,1));var Gd=id.getUTCDay();id=4<Gd||0===Gd?se.ceil(id):se(id);id=Zd.offset(id,7*(Dc.V-1));Dc.y=id.getUTCFullYear();Dc.m=
id.getUTCMonth();Dc.d=id.getUTCDate()+(Dc.w+6)%7}else id=Ca(lb(Dc.y,0,1)),Gd=id.getDay(),id=4<Gd||0===Gd?Oc.ceil(id):Oc(id),id=Jc.offset(id,7*(Dc.V-1)),Dc.y=id.getFullYear(),Dc.m=id.getMonth(),Dc.d=id.getDate()+(Dc.w+6)%7}else if("W"in Dc||"U"in Dc)"w"in Dc||(Dc.w="u"in Dc?Dc.u%7:"W"in Dc?1:0),Gd="Z"in Dc?Qa(lb(Dc.y,0,1)).getUTCDay():Ca(lb(Dc.y,0,1)).getDay(),Dc.m=0,Dc.d="W"in Dc?(Dc.w+6)%7+7*Dc.W-(Gd+5)%7:Dc.w+7*Dc.U-(Gd+6)%7;return"Z"in Dc?(Dc.H+=Dc.Z/100|0,Dc.M+=Dc.Z%100,Qa(Dc)):Ca(Dc)}}function $b(ld,
Fc,id,Dc){for(var Gd=0,ae=Fc.length,Yd=id.length,le;Gd<ae;){if(Dc>=Yd)return-1;le=Fc.charCodeAt(Gd++);if(37===le){if(le=Fc.charAt(Gd++),le=tf[le in df?Fc.charAt(Gd++):le],!le||0>(Dc=le(ld,id,Dc)))return-1}else if(le!=id.charCodeAt(Dc++))return-1}return Dc}var Pc=I.dateTime,xc=I.date,Tc=I.time,md=I.periods,de=I.days,Sa=I.shortDays,fb=I.months,qc=I.shortMonths,pd=pb(md),Kc=Mb(md),Xc=pb(de),Qc=Mb(de),qd=pb(Sa),jd=Mb(Sa),Qd=pb(fb),Ad=Mb(fb),Xd=pb(qc),ye=Mb(qc),Oe={a:function(ld){return Sa[ld.getDay()]},
A:function(ld){return de[ld.getDay()]},b:function(ld){return qc[ld.getMonth()]},B:function(ld){return fb[ld.getMonth()]},c:null,d:V,e:V,f:va,g:Ec,G:Rc,H:Aa,I:W,j:u,L:K,m:Ja,M:Za,p:function(ld){return md[+(12<=ld.getHours())]},q:function(ld){return 1+~~(ld.getMonth()/3)},Q:mc,s:cc,S:Wa,u:X,U:Ba,V:Gb,w:tc,W:wc,x:null,X:null,y:vc,Y:zc,Z:Sd,"%":Eb},Ge={a:function(ld){return Sa[ld.getUTCDay()]},A:function(ld){return de[ld.getUTCDay()]},b:function(ld){return qc[ld.getUTCMonth()]},B:function(ld){return fb[ld.getUTCMonth()]},
c:null,d:Ia,e:Ia,f:hc,g:ya,G:bb,H:Wb,I:kb,j:bc,L:Yb,m:yc,M:Gc,p:function(ld){return md[+(12<=ld.getUTCHours())]},q:function(ld){return 1+~~(ld.getUTCMonth()/3)},Q:mc,s:cc,S:ad,u:Nd,U:ud,V:hb,w:ub,W:la,x:null,X:null,y:H,Y:Ka,Z:jb,"%":Eb},tf={a:function(ld,Fc,id){return(Fc=qd.exec(Fc.slice(id)))?(ld.w=jd.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},A:function(ld,Fc,id){return(Fc=Xc.exec(Fc.slice(id)))?(ld.w=Qc.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},b:function(ld,Fc,id){return(Fc=Xd.exec(Fc.slice(id)))?
(ld.m=ye.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},B:function(ld,Fc,id){return(Fc=Qd.exec(Fc.slice(id)))?(ld.m=Ad.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},c:function(ld,Fc,id){return $b(ld,Pc,Fc,id)},d:L,e:L,f:B,g:db,G:Ea,H:f,I:f,j:O,L:C,m:p,M:v,p:function(ld,Fc,id){return(Fc=pd.exec(Fc.slice(id)))?(ld.p=Kc.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},q:na,Q:E,s:D,S:m,u:ob,U:ma,V:Y,w:Vb,W:Ga,x:function(ld,Fc,id){return $b(ld,xc,Fc,id)},X:function(ld,Fc,id){return $b(ld,Tc,Fc,id)},y:db,Y:Ea,
Z:ba,"%":z};Oe.x=ea(xc,Oe);Oe.X=ea(Tc,Oe);Oe.c=ea(Pc,Oe);Ge.x=ea(xc,Ge);Ge.X=ea(Tc,Ge);Ge.c=ea(Pc,Ge);return{format:function(ld){var Fc=ea(ld+="",Oe);Fc.toString=function(){return ld};return Fc},parse:function(ld){var Fc=Ta(ld+="",!1);Fc.toString=function(){return ld};return Fc},utcFormat:function(ld){var Fc=ea(ld+="",Ge);Fc.toString=function(){return ld};return Fc},utcParse:function(ld){var Fc=Ta(ld+="",!0);Fc.toString=function(){return ld};return Fc}}}function Na(I,ea,Ta){var $b=0>I?"-":"";I=($b?
-I:I)+"";var Pc=I.length;return $b+(Pc<Ta?Array(Ta-Pc+1).join(ea)+I:I)}function vb(I){return I.replace(T,"\\$\x26")}function pb(I){return new RegExp("^(?:"+I.map(vb).join("|")+")","i")}function Mb(I){return new Map(I.map((ea,Ta)=>[ea.toLowerCase(),Ta]))}function Vb(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+1)))?(I.w=+ea[0],Ta+ea[0].length):-1}function ob(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+1)))?(I.u=+ea[0],Ta+ea[0].length):-1}function ma(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.U=+ea[0],
Ta+ea[0].length):-1}function Y(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.V=+ea[0],Ta+ea[0].length):-1}function Ga(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.W=+ea[0],Ta+ea[0].length):-1}function Ea(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+4)))?(I.y=+ea[0],Ta+ea[0].length):-1}function db(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.y=+ea[0]+(68<+ea[0]?1900:2E3),Ta+ea[0].length):-1}function ba(I,ea,Ta){return(ea=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ea.slice(Ta,Ta+6)))?(I.Z=ea[1]?
0:-(ea[2]+(ea[3]||"00")),Ta+ea[0].length):-1}function na(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+1)))?(I.q=3*ea[0]-3,Ta+ea[0].length):-1}function p(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.m=ea[0]-1,Ta+ea[0].length):-1}function L(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.d=+ea[0],Ta+ea[0].length):-1}function O(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+3)))?(I.m=0,I.d=+ea[0],Ta+ea[0].length):-1}function f(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.H=+ea[0],Ta+ea[0].length):
-1}function v(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.M=+ea[0],Ta+ea[0].length):-1}function m(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.S=+ea[0],Ta+ea[0].length):-1}function C(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+3)))?(I.L=+ea[0],Ta+ea[0].length):-1}function B(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+6)))?(I.L=Math.floor(ea[0]/1E3),Ta+ea[0].length):-1}function z(I,ea,Ta){return(I=nf.exec(ea.slice(Ta,Ta+1)))?Ta+I[0].length:-1}function E(I,ea,Ta){return(ea=re.exec(ea.slice(Ta)))?
(I.Q=+ea[0],Ta+ea[0].length):-1}function D(I,ea,Ta){return(ea=re.exec(ea.slice(Ta)))?(I.s=+ea[0],Ta+ea[0].length):-1}function V(I,ea){return Na(I.getDate(),ea,2)}function Aa(I,ea){return Na(I.getHours(),ea,2)}function W(I,ea){return Na(I.getHours()%12||12,ea,2)}function u(I,ea){return Na(1+Jc.count(Fd(I),I),ea,3)}function K(I,ea){return Na(I.getMilliseconds(),ea,3)}function va(I,ea){return K(I,ea)+"000"}function Ja(I,ea){return Na(I.getMonth()+1,ea,2)}function Za(I,ea){return Na(I.getMinutes(),ea,
2)}function Wa(I,ea){return Na(I.getSeconds(),ea,2)}function X(I){I=I.getDay();return 0===I?7:I}function Ba(I,ea){return Na(dd.count(Fd(I)-1,I),ea,2)}function ab(I){var ea=I.getDay();return 4<=ea||0===ea?vd(I):vd.ceil(I)}function Gb(I,ea){I=ab(I);return Na(vd.count(Fd(I),I)+(4===Fd(I).getDay()),ea,2)}function tc(I){return I.getDay()}function wc(I,ea){return Na(Oc.count(Fd(I)-1,I),ea,2)}function vc(I,ea){return Na(I.getFullYear()%100,ea,2)}function Ec(I,ea){I=ab(I);return Na(I.getFullYear()%100,ea,
2)}function zc(I,ea){return Na(I.getFullYear()%1E4,ea,4)}function Rc(I,ea){var Ta=I.getDay();I=4<=Ta||0===Ta?vd(I):vd.ceil(I);return Na(I.getFullYear()%1E4,ea,4)}function Sd(I){I=I.getTimezoneOffset();return(0<I?"-":(I*=-1,"+"))+Na(I/60|0,"0",2)+Na(I%60,"0",2)}function Ia(I,ea){return Na(I.getUTCDate(),ea,2)}function Wb(I,ea){return Na(I.getUTCHours(),ea,2)}function kb(I,ea){return Na(I.getUTCHours()%12||12,ea,2)}function bc(I,ea){return Na(1+Zd.count(cf(I),I),ea,3)}function Yb(I,ea){return Na(I.getUTCMilliseconds(),
ea,3)}function hc(I,ea){return Yb(I,ea)+"000"}function yc(I,ea){return Na(I.getUTCMonth()+1,ea,2)}function Gc(I,ea){return Na(I.getUTCMinutes(),ea,2)}function ad(I,ea){return Na(I.getUTCSeconds(),ea,2)}function Nd(I){I=I.getUTCDay();return 0===I?7:I}function ud(I,ea){return Na(Md.count(cf(I)-1,I),ea,2)}function Fa(I){var ea=I.getUTCDay();return 4<=ea||0===ea?Ae(I):Ae.ceil(I)}function hb(I,ea){I=Fa(I);return Na(Ae.count(cf(I),I)+(4===cf(I).getUTCDay()),ea,2)}function ub(I){return I.getUTCDay()}function la(I,
ea){return Na(se.count(cf(I)-1,I),ea,2)}function H(I,ea){return Na(I.getUTCFullYear()%100,ea,2)}function ya(I,ea){I=Fa(I);return Na(I.getUTCFullYear()%100,ea,2)}function Ka(I,ea){return Na(I.getUTCFullYear()%1E4,ea,4)}function bb(I,ea){var Ta=I.getUTCDay();I=4<=Ta||0===Ta?Ae(I):Ae.ceil(I);return Na(I.getUTCFullYear()%1E4,ea,4)}function jb(){return"+0000"}function Eb(){return"%"}function mc(I){return+I}function cc(I){return Math.floor(+I/1E3)}function gc(I,ea,Ta){Ta=Ta||{};ra.isObject(Ta)||ra.error(`Invalid time multi-format specifier: ${Ta}`);
const $b=ea(g.SECONDS),Pc=ea(g.MINUTES),xc=ea(g.HOURS),Tc=ea(g.DATE),md=ea(g.WEEK),de=ea(g.MONTH),Sa=ea(g.QUARTER),fb=ea(g.YEAR),qc=I(Ta[g.MILLISECONDS]||".%L"),pd=I(Ta[g.SECONDS]||":%S"),Kc=I(Ta[g.MINUTES]||"%I:%M"),Xc=I(Ta[g.HOURS]||"%I %p"),Qc=I(Ta[g.DATE]||Ta[g.DAY]||"%a %d"),qd=I(Ta[g.WEEK]||"%b %d"),jd=I(Ta[g.MONTH]||"%B"),Qd=I(Ta[g.QUARTER]||"%B"),Ad=I(Ta[g.YEAR]||"%Y");return Xd=>($b(Xd)<Xd?qc:Pc(Xd)<Xd?pd:xc(Xd)<Xd?Kc:Tc(Xd)<Xd?Xc:de(Xd)<Xd?md(Xd)<Xd?Qc:qd:fb(Xd)<Xd?Sa(Xd)<Xd?jd:Qd:Ad)(Xd)}
function Sc(I){const ea=ib(I.format),Ta=ib(I.utcFormat);return{timeFormat:$b=>ra.isString($b)?ea($b):gc(ea,g.timeInterval,$b),utcFormat:$b=>ra.isString($b)?Ta($b):gc(Ta,g.utcInterval,$b),timeParse:ib(I.parse),utcParse:ib(I.utcParse)}}function ed(){return Ub=Sc({format:eb,parse:zb,utcFormat:Xb,utcParse:Cc})}function fd(I){return Sc(mb(I))}function Rd(I){return arguments.length?Ub=fd(I):Ub}function Td(I,ea){var Ta=arguments.length;Ta&&2!==Ta&&ra.error("defaultLocale expects either zero or two arguments.");
if(Ta){Ta=Ob(I);var $b=Rd(ea);Ta=ra.extend({},Ta,$b)}else Ta=Ob(),$b=Rd(),Ta=ra.extend({},Ta,$b);return Ta}var Cd=Math.sqrt(50),be=Math.sqrt(10),ce=Math.sqrt(2),Vd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ac.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Te,$d={"%":(I,ea)=>(100*I).toFixed(ea),b:I=>Math.round(I).toString(2),c:I=>I+"",d:function(I){return 1E21<=Math.abs(I=Math.round(I))?I.toLocaleString("en").replace(/,/g,""):I.toString(10)},e:(I,ea)=>I.toExponential(ea),f:(I,ea)=>I.toFixed(ea),g:(I,ea)=>I.toPrecision(ea),o:I=>Math.round(I).toString(8),p:(I,ea)=>ec(100*I,ea),r:ec,s:function(I,ea){var Ta=Fb(I,ea);if(!Ta)return I+"";var $b=Ta[0];Ta=Ta[1];Ta=Ta-(Te=3*Math.max(-8,Math.min(8,Math.floor(Ta/3))))+1;var Pc=$b.length;
return Ta===Pc?$b:Ta>Pc?$b+Array(Ta-Pc+1).join("0"):0<Ta?$b.slice(0,Ta)+"."+$b.slice(Ta):"0."+Array(1-Ta).join("0")+Fb(I,Math.max(0,ea+Ta-1))[0]},X:I=>Math.round(I).toString(16).toUpperCase(),x:I=>Math.round(I).toString(16)},M=Array.prototype.map,Z="y z a f p n µ m  k M G T P E Z Y".split(" "),La,gb,Jb;(function(I){La=Ya(I);gb=La.format;Jb=La.formatPrefix;return La})({thousands:",",grouping:[3],currency:["$",""]});let Tb;Nb();var Bc=new Date,ic=new Date,Jc=Xa(I=>I.setHours(0,0,0,0),(I,ea)=>I.setDate(I.getDate()+
ea),(I,ea)=>(ea-I-6E4*(ea.getTimezoneOffset()-I.getTimezoneOffset()))/864E5,I=>I.getDate()-1),dd=qb(0),Oc=qb(1);qb(2);qb(3);var vd=qb(4);qb(5);qb(6);var Jd=Xa(function(I){I.setMonth(0,1);I.setHours(0,0,0,0)},function(I,ea){I.setFullYear(I.getFullYear()+ea)},function(I,ea){return ea.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});Jd.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Xa(function(ea){ea.setFullYear(Math.floor(ea.getFullYear()/I)*I);ea.setMonth(0,1);ea.setHours(0,
0,0,0)},function(ea,Ta){ea.setFullYear(ea.getFullYear()+Ta*I)}):null};var Fd=Jd,Zd=Xa(function(I){I.setUTCHours(0,0,0,0)},function(I,ea){I.setUTCDate(I.getUTCDate()+ea)},function(I,ea){return(ea-I)/864E5},function(I){return I.getUTCDate()-1}),Md=Oa(0),se=Oa(1);Oa(2);Oa(3);var Ae=Oa(4);Oa(5);Oa(6);var hf=Xa(function(I){I.setUTCMonth(0,1);I.setUTCHours(0,0,0,0)},function(I,ea){I.setUTCFullYear(I.getUTCFullYear()+ea)},function(I,ea){return ea.getUTCFullYear()-I.getUTCFullYear()},function(I){return I.getUTCFullYear()});
hf.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Xa(function(ea){ea.setUTCFullYear(Math.floor(ea.getUTCFullYear()/I)*I);ea.setUTCMonth(0,1);ea.setUTCHours(0,0,0,0)},function(ea,Ta){ea.setUTCFullYear(ea.getUTCFullYear()+Ta*I)}):null};var cf=hf,df={"-":"",_:" ",0:"0"},re=/^\s*\d+/,nf=/^%/,T=/[\\^$*+?|[\]().{}]/g,ta,eb,zb,Xb,Cc;(function(I){ta=mb(I);eb=ta.format;zb=ta.parse;Xb=ta.utcFormat;Cc=ta.utcParse;return ta})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Ub;ed();r.defaultLocale=Td;r.locale=function(I,ea){I=I?Bb(I):Ob();ea=ea?fd(ea):Rd();return ra.extend({},I,ea)};r.numberFormatDefaultLocale=Ob;r.numberFormatLocale=Bb;r.resetDefaultLocale=function(){Nb();
ed();return Td()};r.resetNumberFormatDefaultLocale=Nb;r.resetTimeFormatDefaultLocale=ed;r.timeFormatDefaultLocale=Rd;r.timeFormatLocale=fd;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[44]=function(ac,Cb,Wc,nb){var r=Cb(27).Buffer;(function(g,ra){"object"===typeof nb&&"undefined"!==typeof Wc?ra(nb,Cb(21),Cb(22),Cb(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ra):(g="undefined"!==typeof globalThis?globalThis:g||self,ra(g.vega={},g.vega,g.topojson,g.vega))})(this,function(g,ra,ib,Fb){function Zb(ba,na){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const L=yield p.sanitize(ba,
na),O=L.href;return L.localFile?p.file(O):p.http(O,na)})}function oc(ba,na){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=ra.extend({},p.options,na);const L=p.fileAccess,O={href:null};var f;let v;var m=Na.test(ba.replace(vb,""));null!=ba&&"string"===typeof ba&&m||ra.error("Sanitize failure, invalid URI: "+ra.stringValue(ba));m=mb.test(ba);(f=na.baseURL)&&!m&&(ba.startsWith("/")||f.endsWith("/")||(ba="/"+ba),ba=f+ba);v=(f=ba.startsWith("file://"))||"file"===na.mode||
"http"!==na.mode&&!m&&L;f?ba=ba.slice(7):ba.startsWith("//")&&("file"===na.defaultProtocol?(ba=ba.slice(2),v=!0):ba=(na.defaultProtocol||"http")+":"+ba);Object.defineProperty(O,"localFile",{value:!!v});O.href=ba;na.target&&(O.target=na.target+"");na.rel&&(O.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(O.crossOrigin=na.crossOrigin+"");return O})}function kc(ba){return ba?na=>new Promise((p,L)=>{ba.readFile(na,(O,f)=>{O?L(O):p(f)})}):Ac}function Ac(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ra.error("No file system access.")})}
function Ab(ba){return ba?function(na,p){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var O=ra.extend({},L.options.http,p);const f=p&&p.response;O=yield ba(na,O);return O.ok?ra.isFunction(O[f])?O[f]():O.text():ra.error(O.status+""+O.statusText)})}:ec}function ec(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ra.error("No HTTP fetch method available.")})}function pc(ba,na){if(!ba||!ba.length)return"unknown";const p=ba.length,L=Vb.length,O=Vb.map((f,
v)=>v+1);for(let f=0,v=0,m,C;f<p;++f)for(C=na?ba[f][na]:ba[f],m=0;m<L;++m)if(O[m]&&null!=C&&C===C&&!Vb[m](C)&&(O[m]=0,++v,v===Vb.length))return"string";return ob[O.reduce((f,v)=>0===f?v:f,0)-1]}function Ya(ba,na){return na.reduce((p,L)=>{p[L]=pc(ba,L);return p},{})}function rb(ba){return new Function("d","return {"+ba.map(function(na,p){return JSON.stringify(na)+": d["+p+'] || ""'}).join(",")+"}")}function Ib(ba,na){var p=rb(ba);return function(L,O){return na(p(L),O,ba)}}function Nb(ba){var na=Object.create(null),
p=[];ba.forEach(function(L){for(var O in L)O in na||p.push(na[O]=O)});return p}function Bb(ba,na){ba+="";var p=ba.length;return p<na?Array(na-p+1).join(0)+ba:ba}function Ob(ba){function na(m,C){function B(){if(W)return Y;if(u)return u=!1,ma;var va,Ja=D,Za;if(34===m.charCodeAt(Ja)){for(;D++<E&&34!==m.charCodeAt(D)||34===m.charCodeAt(++D););(va=D)>=E?W=!0:10===(Za=m.charCodeAt(D++))?u=!0:13===Za&&(u=!0,10===m.charCodeAt(D)&&++D);return m.slice(Ja+1,va-1).replace(/""/g,'"')}for(;D<E;){if(10===(Za=m.charCodeAt(va=
D++)))u=!0;else if(13===Za)u=!0,10===m.charCodeAt(D)&&++D;else if(Za!==v)continue;return m.slice(Ja,va)}return W=!0,m.slice(Ja,E)}var z=[],E=m.length,D=0,V=0,Aa,W=0>=E,u=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Y;){for(var K=[];Aa!==ma&&Aa!==Y;)K.push(Aa),Aa=B();C&&null==(K=C(K,V++))||z.push(K)}return z}function p(m,C){return m.map(function(B){return C.map(function(z){return O(B[z])}).join(ba)})}function L(m){return m.map(O).join(ba)}function O(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),z=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var D=m.getUTCFullYear();m=(0>D?"-"+Bb(-D,6):9999<D?"+"+Bb(D,6):Bb(D,4))+"-"+Bb(m.getUTCMonth()+1,2)+"-"+Bb(m.getUTCDate(),2)+(E?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"."+Bb(E,3)+"Z":z?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"Z":B||C?"T"+Bb(C,2)+":"+Bb(B,2)+"Z":"")}C=m}else C=f.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var f=new RegExp('["'+
ba+"\n\r]"),v=ba.charCodeAt(0);return{parse:function(m,C){var B,z;m=na(m,function(E,D){if(B)return B(E,D-1);z=E;B=C?Ib(E,C):rb(E)});m.columns=z||[];return m},parseRows:na,format:function(m,C){null==C&&(C=Nb(m));return[C.map(O).join(ba)].concat(p(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Nb(m));return p(m,C).join("\n")},formatRows:function(m){return m.map(L).join("\n")},formatRow:L,formatValue:O}}function Xa(ba){const na=function(p,L){const O={delimiter:ba};return qb(p,L?ra.extend(L,O):
O)};na.responseType="text";return na}function qb(ba,na){na.header&&(ba=na.header.map(ra.stringValue).join(na.delimiter)+"\n"+ba);return Ob(na.delimiter).parse(ba+"")}function Oa(ba,na){const p=na&&na.property?ra.field(na.property):ra.identity;var L;if(L=ra.isObject(ba))L=!("function"===typeof r&&ra.isFunction(r.isBuffer)&&r.isBuffer(ba));L?(ba=p(ba),!ra.isArray(ba)&&ra.isIterable(ba)&&(ba=[...ba]),na=na&&na.copy?JSON.parse(JSON.stringify(ba)):ba):na=p(JSON.parse(ba));return na}function Ca(ba,na){let p,
L,O,f;ba=Oa(ba,na);na&&na.feature?(p=ib.feature,O=na.feature):na&&na.mesh?(p=ib.mesh,O=na.mesh,f=Ga[na.filter]):ra.error("Missing TopoJSON feature or mesh parameter.");return(L=(L=ba.objects[O])?p(ba,L,f):ra.error("Invalid TopoJSON object: "+O))&&L.features||[L]}function Qa(ba,na){return 1<arguments.length?(Ea[ba]=na,this):ra.hasOwnProperty(Ea,ba)?Ea[ba]:null}function lb(ba,na,p,L){if(ba.length){var O=Fb.timeFormatDefaultLocale();p=p||O.timeParse;L=L||O.utcParse;O=ba.columns||Object.keys(ba[0]);var f,
v;"auto"===na&&(na=Ya(ba,O));O=Object.keys(na);var m=O.map(D=>{var V=na[D];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){D=V.split(/:(.+)?/,2);V=D[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===D[0]?L:p)(V)}if(!Mb[V])throw Error("Illegal format pattern: "+D+":"+V);return Mb[V]});var C=0;var B=ba.length;for(v=O.length;C<B;++C){var z=ba[C];for(f=0;f<v;++f){var E=O[f];z[E]=m[f](z[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Na=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
vb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Mb={boolean:ra.toBoolean,integer:ra.toNumber,number:ra.toNumber,date:ra.toDate,string:ra.toString,unknown:ra.identity},Vb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>pb(ba)&&Number.isInteger(+ba),pb,ba=>!Number.isNaN(Date.parse(ba))],ob=["boolean","integer","number","date"];var ma={},Y={};qb.responseType="text";Oa.responseType="json";const Ga={interior:(ba,na)=>ba!==na,exterior:(ba,
na)=>ba===na};Ca.responseType="json";const Ea={dsv:qb,csv:Xa(","),tsv:Xa("\t"),json:Oa,topojson:Ca},db=function(ba,na){return p=>({options:p||{},sanitize:oc,load:Zb,fileAccess:!!na,file:kc(na),http:Ab(ba)})}("undefined"!==typeof fetch&&fetch,null);g.format=Ea;g.formats=Qa;g.inferType=pc;g.inferTypes=Ya;g.loader=db;g.read=function(ba,na,p,L){na=na||{};const O=Qa(na.type||"json");O||ra.error("Unknown data format type: "+na.type);ba=O(ba,na);na.parse&&lb(ba,na.parse,p,L);ra.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};g.responseType=function(ba){return(ba=Qa(ba))&&ba.responseType||"text"};g.typeParsers=Mb;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[45]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(x,U,fa){U=x-U+2*fa;return x?0<U?U:1:0}function Fb(x){return function(U){let fa=U[0];U=U[1];let Ma;U<fa&&(Ma=fa,fa=U,U=Ma);return[x.invert(fa),x.invert(U)]}}function Zb(x){return function(U){const fa=
x.range();let Ma=U[0];U=U[1];let xb=-1,Db;let Qb;if(U<Ma){var jc=Ma;Ma=U;U=jc}jc=0;for(Qb=fa.length;jc<Qb;++jc)fa[jc]>=Ma&&fa[jc]<=U&&(0>xb&&(xb=jc),Db=jc);if(!(0>xb))return Ma=x.invertExtent(fa[xb]),U=x.invertExtent(fa[Db]),[void 0===Ma[0]?Ma[1]:Ma[0],void 0===U[1]?U[0]:U[1]]}}function oc(x,U){return null==x||null==U?NaN:x<U?-1:x>U?1:x>=U?0:NaN}function kc(x){function U(Db,Qb,jc=0,Vc=Db.length){if(jc<Vc){if(0!==Ma(Qb,Qb))return Vc;do{const Kd=jc+Vc>>>1;0>xb(Db[Kd],Qb)?jc=Kd+1:Vc=Kd}while(jc<Vc)}return jc}
let fa=x,Ma=x,xb=x;2!==x.length&&(fa=(Db,Qb)=>x(Db)-Qb,Ma=oc,xb=(Db,Qb)=>oc(x(Db),Qb));return{left:U,center:function(Db,Qb,jc=0,Vc=Db.length){Vc=U(Db,Qb,jc,Vc-1);return Vc>jc&&fa(Db[Vc-1],Qb)>-fa(Db[Vc],Qb)?Vc-1:Vc},right:function(Db,Qb,jc=0,Vc=Db.length){if(jc<Vc){if(0!==Ma(Qb,Qb))return Vc;do{const Kd=jc+Vc>>>1;0>=xb(Db[Kd],Qb)?jc=Kd+1:Vc=Kd}while(jc<Vc)}return jc}}}function Ac(x){return null===x?NaN:+x}function Ab({_intern:x,_key:U},fa){U=U(fa);return x.has(U)?x.get(U):fa}function ec({_intern:x,
_key:U},fa){U=U(fa);if(x.has(U))return x.get(U);x.set(U,fa);return fa}function pc({_intern:x,_key:U},fa){U=U(fa);x.has(U)&&(fa=x.get(U),x.delete(U));return fa}function Ya(x){return null!==x&&"object"===typeof x?x.valueOf():x}function rb(x,U,fa){var Ma,xb=-1,Db;U=+U;x=+x;fa=+fa;if(x===U&&0<fa)return[x];if(Ma=U<x){var Qb=x;x=U;U=Qb}if(0===(Db=Ib(x,U,fa))||!isFinite(Db))return[];if(0<Db)for(fa=Math.round(x/Db),Qb=Math.round(U/Db),fa*Db<x&&++fa,Qb*Db>U&&--Qb,x=Array(Qb=Qb-fa+1);++xb<Qb;)x[xb]=(fa+xb)*
Db;else for(Db=-Db,fa=Math.round(x*Db),Qb=Math.round(U*Db),fa/Db<x&&++fa,Qb/Db>U&&--Qb,x=Array(Qb=Qb-fa+1);++xb<Qb;)x[xb]=(fa+xb)/Db;Ma&&x.reverse();return x}function Ib(x,U,fa){U=(U-x)/Math.max(0,fa);x=Math.floor(Math.log(U)/Math.LN10);U/=Math.pow(10,x);return 0<=x?(U>=zf?10:U>=fg?5:U>=rg?2:1)*Math.pow(10,x):-Math.pow(10,-x)/(U>=zf?10:U>=fg?5:U>=rg?2:1)}function Nb(x,U,fa){var Ma=Math.abs(U-x)/Math.max(0,fa);fa=Math.pow(10,Math.floor(Math.log(Ma)/Math.LN10));Ma/=fa;Ma>=zf?fa*=10:Ma>=fg?fa*=5:Ma>=
rg&&(fa*=2);return U<x?-fa:fa}function Bb(x,U,fa=Ac){if(Ma=x.length){if(0>=(U=+U)||2>Ma)return+fa(x[0],0,x);if(1<=U)return+fa(x[Ma-1],Ma-1,x);var Ma;U*=Ma-1;Ma=Math.floor(U);var xb=+fa(x[Ma],Ma,x);x=+fa(x[Ma+1],Ma+1,x);return xb+(x-xb)*(U-Ma)}}function Ob(x,U,fa){x=+x;U=+U;fa=2>(xb=arguments.length)?(U=x,x=0,1):3>xb?1:+fa;for(var Ma=-1,xb=Math.max(0,Math.ceil((U-x)/fa))|0,Db=Array(xb);++Ma<xb;)Db[Ma]=x+Ma*fa;return Db}function Xa(x,U){switch(arguments.length){case 0:break;case 1:this.range(x);break;
default:this.range(U).domain(x)}return this}function qb(x,U){switch(arguments.length){case 0:break;case 1:"function"===typeof x?this.interpolator(x):this.range(x);break;default:this.domain(x),"function"===typeof U?this.interpolator(U):this.range(U)}return this}function Oa(){function x(Db){let Qb=U.get(Db);if(void 0===Qb){if(xb!==gg)return xb;U.set(Db,Qb=fa.push(Db)-1)}return Ma[Qb%Ma.length]}var U=new Df,fa=[],Ma=[],xb=gg;x.domain=function(Db){if(!arguments.length)return fa.slice();fa=[];U=new Df;
for(const Qb of Db)U.has(Qb)||U.set(Qb,fa.push(Qb)-1);return x};x.range=function(Db){return arguments.length?(Ma=Array.from(Db),x):Ma.slice()};x.unknown=function(Db){return arguments.length?(xb=Db,x):xb};x.copy=function(){return Oa(fa,Ma).unknown(xb)};Xa.apply(x,arguments);return x}function Ca(x,U,fa){x.prototype=U.prototype=fa;fa.constructor=x}function Qa(x,U){x=Object.create(x.prototype);for(var fa in U)x[fa]=U[fa];return x}function lb(){}function mb(){return this.rgb().formatHex()}function Na(){return this.rgb().formatRgb()}
function vb(x){var U,fa;x=(x+"").trim().toLowerCase();return(U=Hg.exec(x))?(fa=U[1].length,U=parseInt(U[1],16),6===fa?pb(U):3===fa?new ma(U>>8&15|U>>4&240,U>>4&15|U&240,(U&15)<<4|U&15,1):8===fa?Mb(U>>24&255,U>>16&255,U>>8&255,(U&255)/255):4===fa?Mb(U>>12&15|U>>8&240,U>>8&15|U>>4&240,U>>4&15|U&240,((U&15)<<4|U&15)/255):null):(U=dh.exec(x))?new ma(U[1],U[2],U[3],1):(U=vh.exec(x))?new ma(255*U[1]/100,255*U[2]/100,255*U[3]/100,1):(U=ag.exec(x))?Mb(U[1],U[2],U[3],U[4]):(U=Vh.exec(x))?Mb(255*U[1]/100,255*
U[2]/100,255*U[3]/100,U[4]):(U=Bh.exec(x))?db(U[1],U[2]/100,U[3]/100,1):(U=Ch.exec(x))?db(U[1],U[2]/100,U[3]/100,U[4]):Vg.hasOwnProperty(x)?pb(Vg[x]):"transparent"===x?new ma(NaN,NaN,NaN,0):null}function pb(x){return new ma(x>>16&255,x>>8&255,x&255,1)}function Mb(x,U,fa,Ma){0>=Ma&&(x=U=fa=NaN);return new ma(x,U,fa,Ma)}function Vb(x){x instanceof lb||(x=vb(x));if(!x)return new ma;x=x.rgb();return new ma(x.r,x.g,x.b,x.opacity)}function ob(x,U,fa,Ma){return 1===arguments.length?Vb(x):new ma(x,U,fa,null==
Ma?1:Ma)}function ma(x,U,fa,Ma){this.r=+x;this.g=+U;this.b=+fa;this.opacity=+Ma}function Y(){return"#"+Ea(this.r)+Ea(this.g)+Ea(this.b)}function Ga(){var x=this.opacity;x=isNaN(x)?1:Math.max(0,Math.min(1,x));return(1===x?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===x?")":", "+x+")")}function Ea(x){x=Math.max(0,Math.min(255,Math.round(x)||0));return(16>x?"0":"")+x.toString(16)}
function db(x,U,fa,Ma){0>=Ma?x=U=fa=NaN:0>=fa||1<=fa?x=U=NaN:0>=U&&(x=NaN);return new p(x,U,fa,Ma)}function ba(x){if(x instanceof p)return new p(x.h,x.s,x.l,x.opacity);x instanceof lb||(x=vb(x));if(!x)return new p;if(x instanceof p)return x;x=x.rgb();var U=x.r/255,fa=x.g/255,Ma=x.b/255,xb=Math.min(U,fa,Ma),Db=Math.max(U,fa,Ma),Qb=NaN,jc=Db-xb,Vc=(Db+xb)/2;jc?(Qb=U===Db?(fa-Ma)/jc+6*(fa<Ma):fa===Db?(Ma-U)/jc+2:(U-fa)/jc+4,jc/=.5>Vc?Db+xb:2-Db-xb,Qb*=60):jc=0<Vc&&1>Vc?0:Qb;return new p(Qb,jc,Vc,x.opacity)}
function na(x,U,fa,Ma){return 1===arguments.length?ba(x):new p(x,U,fa,null==Ma?1:Ma)}function p(x,U,fa,Ma){this.h=+x;this.s=+U;this.l=+fa;this.opacity=+Ma}function L(x,U,fa){return 255*(60>x?U+(fa-U)*x/60:180>x?fa:240>x?U+(fa-U)*(240-x)/60:U)}function O(x){if(x instanceof v)return new v(x.l,x.a,x.b,x.opacity);if(x instanceof V)return Aa(x);x instanceof ma||(x=Vb(x));var U=z(x.r),fa=z(x.g),Ma=z(x.b),xb=m(.2225045*U+.7168786*fa+.0606169*Ma);if(U===fa&&fa===Ma)var Db=U=xb;else Db=m((.4360747*U+.3850649*
fa+.1430804*Ma)/.96422),U=m((.0139322*U+.0971045*fa+.7141733*Ma)/.82521);return new v(116*xb-16,500*(Db-xb),200*(xb-U),x.opacity)}function f(x,U,fa,Ma){return 1===arguments.length?O(x):new v(x,U,fa,null==Ma?1:Ma)}function v(x,U,fa,Ma){this.l=+x;this.a=+U;this.b=+fa;this.opacity=+Ma}function m(x){return x>si?Math.pow(x,1/3):x/jh+bi}function C(x){return x>Wg?x*x*x:jh*(x-bi)}function B(x){return 255*(.0031308>=x?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function z(x){return.04045>=(x/=255)?x/12.92:Math.pow((x+
.055)/1.055,2.4)}function E(x){if(x instanceof V)return new V(x.h,x.c,x.l,x.opacity);x instanceof v||(x=O(x));if(0===x.a&&0===x.b)return new V(NaN,0<x.l&&100>x.l?0:NaN,x.l,x.opacity);var U=Math.atan2(x.b,x.a)*Eh;return new V(0>U?U+360:U,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function D(x,U,fa,Ma){return 1===arguments.length?E(x):new V(x,U,fa,null==Ma?1:Ma)}function V(x,U,fa,Ma){this.h=+x;this.c=+U;this.l=+fa;this.opacity=+Ma}function Aa(x){if(isNaN(x.h))return new v(x.l,0,0,x.opacity);var U=x.h*
Dh;return new v(x.l,Math.cos(U)*x.c,Math.sin(U)*x.c,x.opacity)}function W(x,U,fa,Ma){if(1===arguments.length){var xb=x;if(xb instanceof u)xb=new u(xb.h,xb.s,xb.l,xb.opacity);else{xb instanceof ma||(xb=Vb(xb));var Db=xb.g/255,Qb=xb.b/255,jc=(Ag*Qb+xb.r/255*-1.7884503806-3.5172982438*Db)/(Ag+-1.7884503806-3.5172982438);Qb-=jc;var Vc=(1.97294*(Db-jc)- -.29227*Qb)/-.90649;Qb=(Db=Math.sqrt(Vc*Vc+Qb*Qb)/(1.97294*jc*(1-jc)))?Math.atan2(Vc,Qb)*Eh-120:NaN;xb=new u(0>Qb?Qb+360:Qb,Db,jc,xb.opacity)}}else xb=
new u(x,U,fa,null==Ma?1:Ma);return xb}function u(x,U,fa,Ma){this.h=+x;this.s=+U;this.l=+fa;this.opacity=+Ma}function K(x,U,fa,Ma,xb){var Db=x*x,Qb=Db*x;return((1-3*x+3*Db-Qb)*U+(4-6*Db+3*Qb)*fa+(1+3*x+3*Db-3*Qb)*Ma+Qb*xb)/6}function va(x){var U=x.length-1;return function(fa){var Ma=0>=fa?fa=0:1<=fa?(fa=1,U-1):Math.floor(fa*U),xb=x[Ma],Db=x[Ma+1];return K((fa-Ma/U)*U,0<Ma?x[Ma-1]:2*xb-Db,xb,Db,Ma<U-1?x[Ma+2]:2*Db-xb)}}function Ja(x){var U=x.length;return function(fa){var Ma=Math.floor((0>(fa%=1)?++fa:
fa)*U);return K((fa-Ma/U)*U,x[(Ma+U-1)%U],x[Ma%U],x[(Ma+1)%U],x[(Ma+2)%U])}}function Za(x,U){return function(fa){return x+fa*U}}function Wa(x,U,fa){return x=Math.pow(x,fa),U=Math.pow(U,fa)-x,fa=1/fa,function(Ma){return Math.pow(x+Ma*U,fa)}}function X(x,U){var fa=U-x;return fa?Za(x,180<fa||-180>fa?fa-360*Math.round(fa/360):fa):Fh(isNaN(x)?U:x)}function Ba(x){return 1===(x=+x)?ab:function(U,fa){return fa-U?Wa(U,fa,x):Fh(isNaN(U)?fa:U)}}function ab(x,U){var fa=U-x;return fa?Za(x,fa):Fh(isNaN(x)?U:x)}
function Gb(x){return function(U){var fa=U.length,Ma=Array(fa),xb=Array(fa),Db=Array(fa),Qb;for(Qb=0;Qb<fa;++Qb){var jc=ob(U[Qb]);Ma[Qb]=jc.r||0;xb[Qb]=jc.g||0;Db[Qb]=jc.b||0}Ma=x(Ma);xb=x(xb);Db=x(Db);jc.opacity=1;return function(Vc){jc.r=Ma(Vc);jc.g=xb(Vc);jc.b=Db(Vc);return jc+""}}}function tc(x,U){U||(U=[]);var fa=x?Math.min(U.length,x.length):0,Ma=U.slice(),xb;return function(Db){for(xb=0;xb<fa;++xb)Ma[xb]=x[xb]*(1-Db)+U[xb]*Db;return Ma}}function wc(x){return ArrayBuffer.isView(x)&&!(x instanceof
DataView)}function vc(x,U){var fa=U?U.length:0,Ma=x?Math.min(fa,x.length):0,xb=Array(Ma),Db=Array(fa),Qb;for(Qb=0;Qb<Ma;++Qb)xb[Qb]=kb(x[Qb],U[Qb]);for(;Qb<fa;++Qb)Db[Qb]=U[Qb];return function(jc){for(Qb=0;Qb<Ma;++Qb)Db[Qb]=xb[Qb](jc);return Db}}function Ec(x,U){var fa=new Date;return x=+x,U=+U,function(Ma){return fa.setTime(x*(1-Ma)+U*Ma),fa}}function zc(x,U){return x=+x,U=+U,function(fa){return x*(1-fa)+U*fa}}function Rc(x,U){var fa={},Ma={},xb;if(null===x||"object"!==typeof x)x={};if(null===U||
"object"!==typeof U)U={};for(xb in U)xb in x?fa[xb]=kb(x[xb],U[xb]):Ma[xb]=U[xb];return function(Db){for(xb in fa)Ma[xb]=fa[xb](Db);return Ma}}function Sd(x){return function(){return x}}function Ia(x){return function(U){return x(U)+""}}function Wb(x,U){var fa=nh.lastIndex=Gh.lastIndex=0,Ma,xb,Db,Qb=-1,jc=[],Vc=[];x+="";for(U+="";(Ma=nh.exec(x))&&(xb=Gh.exec(U));)(Db=xb.index)>fa&&(Db=U.slice(fa,Db),jc[Qb]?jc[Qb]+=Db:jc[++Qb]=Db),(Ma=Ma[0])===(xb=xb[0])?jc[Qb]?jc[Qb]+=xb:jc[++Qb]=xb:(jc[++Qb]=null,
Vc.push({i:Qb,x:zc(Ma,xb)})),fa=Gh.lastIndex;fa<U.length&&(Db=U.slice(fa),jc[Qb]?jc[Qb]+=Db:jc[++Qb]=Db);return 2>jc.length?Vc[0]?Ia(Vc[0].x):Sd(U):(U=Vc.length,function(Kd){for(var Ud=0,cd;Ud<U;++Ud)jc[(cd=Vc[Ud]).i]=cd.x(Kd);return jc.join("")})}function kb(x,U){var fa=typeof U,Ma;return null==U||"boolean"===fa?Fh(U):("number"===fa?zc:"string"===fa?(Ma=vb(U))?(U=Ma,Wh):Wb:U instanceof vb?Wh:U instanceof Date?Ec:wc(U)?tc:Array.isArray(U)?vc:"function"!==typeof U.valueOf&&"function"!==typeof U.toString||
isNaN(U)?Rc:zc)(x,U)}function bc(x,U){return x=+x,U=+U,function(fa){return Math.round(x*(1-fa)+U*fa)}}function Yb(x,U,fa,Ma,xb,Db){var Qb,jc,Vc;if(Qb=Math.sqrt(x*x+U*U))x/=Qb,U/=Qb;if(Vc=x*fa+U*Ma)fa-=x*Vc,Ma-=U*Vc;if(jc=Math.sqrt(fa*fa+Ma*Ma))fa/=jc,Ma/=jc,Vc/=jc;x*Ma<U*fa&&(x=-x,U=-U,Vc=-Vc,Qb=-Qb);return{translateX:xb,translateY:Db,rotate:Math.atan2(U,x)*yg,skewX:Math.atan(Vc)*yg,scaleX:Qb,scaleY:jc}}function hc(x,U,fa,Ma){function xb(Kd){return Kd.length?Kd.pop()+" ":""}function Db(Kd,Ud,cd,ie,
Be,Ve){Kd!==cd||Ud!==ie?(Be=Be.push("translate(",null,U,null,fa),Ve.push({i:Be-4,x:zc(Kd,cd)},{i:Be-2,x:zc(Ud,ie)})):(cd||ie)&&Be.push("translate("+cd+U+ie+fa)}function Qb(Kd,Ud,cd,ie){Kd!==Ud?(180<Kd-Ud?Ud+=360:180<Ud-Kd&&(Kd+=360),ie.push({i:cd.push(xb(cd)+"rotate(",null,Ma)-2,x:zc(Kd,Ud)})):Ud&&cd.push(xb(cd)+"rotate("+Ud+Ma)}function jc(Kd,Ud,cd,ie){Kd!==Ud?ie.push({i:cd.push(xb(cd)+"skewX(",null,Ma)-2,x:zc(Kd,Ud)}):Ud&&cd.push(xb(cd)+"skewX("+Ud+Ma)}function Vc(Kd,Ud,cd,ie,Be,Ve){Kd!==cd||Ud!==
ie?(Be=Be.push(xb(Be)+"scale(",null,",",null,")"),Ve.push({i:Be-4,x:zc(Kd,cd)},{i:Be-2,x:zc(Ud,ie)})):1===cd&&1===ie||Be.push(xb(Be)+"scale("+cd+","+ie+")")}return function(Kd,Ud){var cd=[],ie=[];Kd=x(Kd);Ud=x(Ud);Db(Kd.translateX,Kd.translateY,Ud.translateX,Ud.translateY,cd,ie);Qb(Kd.rotate,Ud.rotate,cd,ie);jc(Kd.skewX,Ud.skewX,cd,ie);Vc(Kd.scaleX,Kd.scaleY,Ud.scaleX,Ud.scaleY,cd,ie);Kd=Ud=null;return function(Be){for(var Ve=-1,w=ie.length,S;++Ve<w;)cd[(S=ie[Ve]).i]=S.x(Be);return cd.join("")}}}
function yc(x){return((x=Math.exp(x))+1/x)/2}function Gc(x){return function(U,fa){var Ma=x((U=na(U)).h,(fa=na(fa)).h),xb=ab(U.s,fa.s),Db=ab(U.l,fa.l),Qb=ab(U.opacity,fa.opacity);return function(jc){U.h=Ma(jc);U.s=xb(jc);U.l=Db(jc);U.opacity=Qb(jc);return U+""}}}function ad(x){return function(U,fa){var Ma=x((U=D(U)).h,(fa=D(fa)).h),xb=ab(U.c,fa.c),Db=ab(U.l,fa.l),Qb=ab(U.opacity,fa.opacity);return function(jc){U.h=Ma(jc);U.c=xb(jc);U.l=Db(jc);U.opacity=Qb(jc);return U+""}}}function Nd(x){return function Ma(fa){function xb(Db,
Qb){var jc=x((Db=W(Db)).h,(Qb=W(Qb)).h),Vc=ab(Db.s,Qb.s),Kd=ab(Db.l,Qb.l),Ud=ab(Db.opacity,Qb.opacity);return function(cd){Db.h=jc(cd);Db.s=Vc(cd);Db.l=Kd(Math.pow(cd,fa));Db.opacity=Ud(cd);return Db+""}}fa=+fa;xb.gamma=Ma;return xb}(1)}function ud(x,U){void 0===U&&(U=x,x=kb);for(var fa=0,Ma=U.length-1,xb=U[0],Db=Array(0>Ma?0:Ma);fa<Ma;)Db[fa]=x(xb,xb=U[++fa]);return function(Qb){var jc=Math.max(0,Math.min(Ma-1,Math.floor(Qb*=Ma)));return Db[jc](Qb-jc)}}function Fa(x){return function(){return x}}
function hb(x){return+x}function ub(x){return x}function la(x,U){return(U-=x=+x)?function(fa){return(fa-x)/U}:Fa(isNaN(U)?NaN:.5)}function H(x,U){if(x>U){var fa=x;x=U;U=fa}return function(Ma){return Math.max(x,Math.min(U,Ma))}}function ya(x,U,fa){var Ma=x[0];x=x[1];var xb=U[0];U=U[1];x<Ma?(Ma=la(x,Ma),xb=fa(U,xb)):(Ma=la(Ma,x),xb=fa(xb,U));return function(Db){return xb(Ma(Db))}}function Ka(x,U,fa){var Ma=Math.min(x.length,U.length)-1,xb=Array(Ma),Db=Array(Ma),Qb=-1;x[Ma]<x[0]&&(x=x.slice().reverse(),
U=U.slice().reverse());for(;++Qb<Ma;)xb[Qb]=la(x[Qb],x[Qb+1]),Db[Qb]=fa(U[Qb],U[Qb+1]);return function(jc){var Vc=gf(x,jc,1,Ma)-1;return Db[Vc](xb[Vc](jc))}}function bb(x,U){return U.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function jb(){function x(){var ie=Math.min(fa.length,Ma.length);Vc!==ub&&(Vc=H(fa[0],fa[ie-1]));Kd=2<ie?Ka:ya;Ud=cd=null;return U}function U(ie){return null==ie||isNaN(ie=+ie)?jc:(Ud||(Ud=Kd(fa.map(Db),Ma,xb)))(Db(Vc(ie)))}
var fa=Bg,Ma=Bg,xb=kb,Db,Qb,jc,Vc=ub,Kd,Ud,cd;U.invert=function(ie){return Vc(Qb((cd||(cd=Kd(Ma,fa.map(Db),zc)))(ie)))};U.domain=function(ie){return arguments.length?(fa=Array.from(ie,hb),x()):fa.slice()};U.range=function(ie){return arguments.length?(Ma=Array.from(ie),x()):Ma.slice()};U.rangeRound=function(ie){return Ma=Array.from(ie),xb=bc,x()};U.clamp=function(ie){return arguments.length?(Vc=ie?!0:ub,x()):Vc!==ub};U.interpolate=function(ie){return arguments.length?(xb=ie,x()):xb};U.unknown=function(ie){return arguments.length?
(jc=ie,U):jc};return function(ie,Be){Db=ie;Qb=Be;return x()}}function Eb(x,U){if(0>(U=(x=U?x.toExponential(U-1):x.toExponential()).indexOf("e")))return null;var fa=x.slice(0,U);return[1<fa.length?fa[0]+fa.slice(2):fa,+x.slice(U+1)]}function mc(x){return x=Eb(Math.abs(x)),x?x[1]:NaN}function cc(x,U){return function(fa,Ma){for(var xb=fa.length,Db=[],Qb=0,jc=x[0],Vc=0;0<xb&&0<jc;){Vc+jc+1>Ma&&(jc=Math.max(1,Ma-Vc));Db.push(fa.substring(xb-=jc,xb+jc));if((Vc+=jc+1)>Ma)break;jc=x[Qb=(Qb+1)%x.length]}return Db.reverse().join(U)}}
function gc(x){return function(U){return U.replace(/[0-9]/g,function(fa){return x[+fa]})}}function Sc(x){if(!(U=Mf.exec(x)))throw Error("invalid format: "+x);var U;return new ed({fill:U[1],align:U[2],sign:U[3],symbol:U[4],zero:U[5],width:U[6],comma:U[7],precision:U[8]&&U[8].slice(1),trim:U[9],type:U[10]})}function ed(x){this.fill=void 0===x.fill?" ":x.fill+"";this.align=void 0===x.align?"\x3e":x.align+"";this.sign=void 0===x.sign?"-":x.sign+"";this.symbol=void 0===x.symbol?"":x.symbol+"";this.zero=
!!x.zero;this.width=void 0===x.width?void 0:+x.width;this.comma=!!x.comma;this.precision=void 0===x.precision?void 0:+x.precision;this.trim=!!x.trim;this.type=void 0===x.type?"":x.type+""}function fd(x,U){U=Eb(x,U);if(!U)return x+"";x=U[0];U=U[1];return 0>U?"0."+Array(-U).join("0")+x:x.length>U+1?x.slice(0,U+1)+"."+x.slice(U+1):x+Array(U-x.length+2).join("0")}function Rd(x){return x}function Td(x){function U(Ud){function cd(nc){var rd=Lb,xd=Mc,we,ne;if("c"===Kb)xd=Ed(nc)+xd,nc="";else{nc=+nc;var Xe=
0>nc||0>1/nc;nc=isNaN(nc)?Kd:Ed(Math.abs(nc),sb);if(wb){var Af=nc.length,Xf=1,jg=-1;a:for(;Xf<Af;++Xf)switch(nc[Xf]){case ".":jg=we=Xf;break;case "0":0===jg&&(jg=Xf);we=Xf;break;default:if(!+nc[Xf])break a;0<jg&&(jg=0)}nc=0<jg?nc.slice(0,jg)+nc.slice(we+1):nc}Xe&&0===+nc&&"+"!==Ve&&(Xe=!1);rd=(Xe?"("===Ve?Ve:Vc:"-"===Ve||"("===Ve?"":Ve)+rd;xd=("s"===Kb?q[8+R/3]:"")+xd+(Xe&&"("===Ve?")":"");if(gd)for(Xe=-1,we=nc.length;++Xe<we;)if(ne=nc.charCodeAt(Xe),48>ne||57<ne){xd=(46===ne?Db+nc.slice(Xe+1):nc.slice(Xe))+
xd;nc=nc.slice(0,Xe);break}}Da&&!S&&(nc=fa(nc,Infinity));ne=rd.length+nc.length+xd.length;Xe=ne<aa?Array(aa-ne+1).join(ie):"";Da&&S&&(nc=fa(Xe+nc,Xe.length?aa-xd.length:Infinity),Xe="");switch(Be){case "\x3c":nc=rd+nc+xd+Xe;break;case "\x3d":nc=rd+Xe+nc+xd;break;case "^":nc=Xe.slice(0,ne=Xe.length>>1)+rd+nc+xd+Xe.slice(ne);break;default:nc=Xe+rd+nc+xd}return Qb(nc)}Ud=Sc(Ud);var ie=Ud.fill,Be=Ud.align,Ve=Ud.sign,w=Ud.symbol,S=Ud.zero,aa=Ud.width,Da=Ud.comma,sb=Ud.precision,wb=Ud.trim,Kb=Ud.type;"n"===
Kb?(Da=!0,Kb="g"):wa[Kb]||(void 0===sb&&(sb=12),wb=!0,Kb="g");if(S||"0"===ie&&"\x3d"===Be)S=!0,ie="0",Be="\x3d";var Lb="$"===w?Ma:"#"===w&&/[boxX]/.test(Kb)?"0"+Kb.toLowerCase():"",Mc="$"===w?xb:/[%p]/.test(Kb)?jc:"",Ed=wa[Kb],gd=/[defgprs%]/.test(Kb);sb=void 0===sb?6:/[gprs]/.test(Kb)?Math.max(1,Math.min(21,sb)):Math.max(0,Math.min(20,sb));cd.toString=function(){return Ud+""};return cd}var fa=void 0===x.grouping||void 0===x.thousands?Rd:cc(Ua.call(x.grouping,Number),x.thousands+""),Ma=void 0===x.currency?
"":x.currency[0]+"",xb=void 0===x.currency?"":x.currency[1]+"",Db=void 0===x.decimal?".":x.decimal+"",Qb=void 0===x.numerals?Rd:gc(Ua.call(x.numerals,String)),jc=void 0===x.percent?"%":x.percent+"",Vc=void 0===x.minus?"−":x.minus+"",Kd=void 0===x.nan?"NaN":x.nan+"";return{format:U,formatPrefix:function(Ud,cd){var ie=U((Ud=Sc(Ud),Ud.type="f",Ud));Ud=3*Math.max(-8,Math.min(8,Math.floor(mc(cd)/3)));var Be=Math.pow(10,-Ud),Ve=q[8+Ud/3];return function(w){return ie(Be*w)+Ve}}}}function Cd(x,U,fa,Ma){fa=
Nb(x,U,fa);Ma=Sc(null==Ma?",f":Ma);switch(Ma.type){case "s":x=Math.max(Math.abs(x),Math.abs(U));if(U=null==Ma.precision){var xb=isNaN;fa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mc(x)/3)))-mc(Math.abs(fa)));U=!xb(xb=fa)}U&&(Ma.precision=xb);return xa(Ma,x);case "":case "e":case "g":case "p":case "r":var Db;if(Db=null==Ma.precision)xb=isNaN,x=Math.max(Math.abs(x),Math.abs(U)),fa=Math.abs(fa),x=Math.abs(x)-fa,fa=Math.max(0,mc(x)-mc(fa))+1,Db=!xb(xb=fa);Db&&(Ma.precision=xb-("e"===Ma.type));break;
case "f":case "%":null!=Ma.precision||isNaN(xb=Math.max(0,-mc(Math.abs(fa))))||(Ma.precision=xb-2*("%"===Ma.type))}return ia(Ma)}function be(x){var U=x.domain;x.ticks=function(fa){var Ma=U();return rb(Ma[0],Ma[Ma.length-1],null==fa?10:fa)};x.tickFormat=function(fa,Ma){var xb=U();return Cd(xb[0],xb[xb.length-1],null==fa?10:fa,Ma)};x.nice=function(fa){null==fa&&(fa=10);var Ma=U(),xb=0,Db=Ma.length-1,Qb=Ma[xb],jc=Ma[Db],Vc=10;if(jc<Qb){var Kd=Qb;Qb=jc;jc=Kd;Kd=xb;xb=Db;Db=Kd}for(;0<Vc--;){Kd=Ib(Qb,jc,
fa);if(Kd===Ud)return Ma[xb]=Qb,Ma[Db]=jc,U(Ma);if(0<Kd)Qb=Math.floor(Qb/Kd)*Kd,jc=Math.ceil(jc/Kd)*Kd;else if(0>Kd)Qb=Math.ceil(Qb*Kd)/Kd,jc=Math.floor(jc*Kd)/Kd;else break;var Ud=Kd}return x};return x}function ce(){var x=jb()(ub,ub);x.copy=function(){return bb(x,ce())};Xa.apply(x,arguments);return be(x)}function Vd(x){function U(Ma){return null==Ma||isNaN(Ma=+Ma)?fa:Ma}var fa;U.invert=U;U.domain=U.range=function(Ma){return arguments.length?(x=Array.from(Ma,hb),U):x.slice()};U.unknown=function(Ma){return arguments.length?
(fa=Ma,U):fa};U.copy=function(){return Vd(x).unknown(fa)};x=arguments.length?Array.from(x,hb):[0,1];return be(U)}function Te(x,U){x=x.slice();var fa=0,Ma=x.length-1,xb=x[fa],Db=x[Ma];if(Db<xb){var Qb=fa;fa=Ma;Ma=Qb;Qb=xb;xb=Db;Db=Qb}x[fa]=U.floor(xb);x[Ma]=U.ceil(Db);return x}function $d(x){return Math.log(x)}function M(x){return Math.exp(x)}function Z(x){return-Math.log(-x)}function La(x){return-Math.exp(-x)}function gb(x){return isFinite(x)?+("1e"+x):0>x?0:x}function Jb(x){return 10===x?gb:x===
Math.E?Math.exp:U=>Math.pow(x,U)}function Tb(x){return x===Math.E?Math.log:10===x&&Math.log10||2===x&&Math.log2||(x=Math.log(x),U=>Math.log(U)/x)}function Bc(x){return(U,fa)=>-x(-U,fa)}function ic(x){function U(){Db=Tb(xb);Qb=Jb(xb);0>Ma()[0]?(Db=Bc(Db),Qb=Bc(Qb),x(Z,La)):x($d,M);return fa}const fa=x($d,M),Ma=fa.domain;let xb=10,Db,Qb;fa.base=function(jc){return arguments.length?(xb=+jc,U()):xb};fa.domain=function(jc){return arguments.length?(Ma(jc),U()):Ma()};fa.ticks=jc=>{var Vc=Ma();let Kd=Vc[0];
Vc=Vc[Vc.length-1];const Ud=Vc<Kd;Ud&&([Kd,Vc]=[Vc,Kd]);let cd=Db(Kd),ie=Db(Vc),Be;const Ve=null==jc?10:+jc;let w=[];if(!(xb%1)&&ie-cd<Ve){cd=Math.floor(cd);ie=Math.ceil(ie);if(0<Kd)for(;cd<=ie;++cd)for(jc=1;jc<xb;++jc){if(Be=0>cd?jc/Qb(-cd):jc*Qb(cd),!(Be<Kd)){if(Be>Vc)break;w.push(Be)}}else for(;cd<=ie;++cd)for(jc=xb-1;1<=jc;--jc)if(Be=0<cd?jc/Qb(-cd):jc*Qb(cd),!(Be<Kd)){if(Be>Vc)break;w.push(Be)}2*w.length<Ve&&(w=rb(Kd,Vc,Ve))}else w=rb(cd,ie,Math.min(ie-cd,Ve)).map(Qb);return Ud?w.reverse():w};
fa.tickFormat=(jc,Vc)=>{null==jc&&(jc=10);null==Vc&&(Vc=10===xb?"s":",");"function"!==typeof Vc&&(xb%1||null!=(Vc=Sc(Vc)).precision||(Vc.trim=!0),Vc=ia(Vc));if(Infinity===jc)return Vc;const Kd=Math.max(1,xb*jc/fa.ticks().length);return Ud=>{let cd=Ud/Qb(Math.round(Db(Ud)));cd*xb<xb-.5&&(cd*=xb);return cd<=Kd?Vc(Ud):""}};fa.nice=()=>Ma(Te(Ma(),{floor:jc=>Qb(Math.floor(Db(jc))),ceil:jc=>Qb(Math.ceil(Db(jc)))}));return fa}function Jc(){const x=ic(jb()).domain([1,10]);x.copy=()=>bb(x,Jc()).base(x.base());
Xa.apply(x,arguments);return x}function dd(x){return function(U){return Math.sign(U)*Math.log1p(Math.abs(U/x))}}function Oc(x){return function(U){return Math.sign(U)*Math.expm1(Math.abs(U))*x}}function vd(x){var U=1,fa=x(dd(U),Oc(U));fa.constant=function(Ma){return arguments.length?x(dd(U=+Ma),Oc(U)):U};return be(fa)}function Jd(){var x=vd(jb());x.copy=function(){return bb(x,Jd()).constant(x.constant())};return Xa.apply(x,arguments)}function Fd(x){return function(U){return 0>U?-Math.pow(-U,x):Math.pow(U,
x)}}function Zd(x){return 0>x?-Math.sqrt(-x):Math.sqrt(x)}function Md(x){return 0>x?-x*x:x*x}function se(x){var U=x(ub,ub),fa=1;U.exponent=function(Ma){return arguments.length?(fa=+Ma,1===fa?x(ub,ub):.5===fa?x(Zd,Md):x(Fd(fa),Fd(1/fa))):fa};return be(U)}function Ae(){var x=se(jb());x.copy=function(){return bb(x,Ae()).exponent(x.exponent())};Xa.apply(x,arguments);return x}function hf(){function x(){var Qb=0,jc=Math.max(1,Ma.length);for(xb=Array(jc-1);++Qb<jc;)xb[Qb-1]=Bb(fa,Qb/jc);return U}function U(Qb){return null==
Qb||isNaN(Qb=+Qb)?Db:Ma[gf(xb,Qb)]}var fa=[],Ma=[],xb=[],Db;U.invertExtent=function(Qb){Qb=Ma.indexOf(Qb);return 0>Qb?[NaN,NaN]:[0<Qb?xb[Qb-1]:fa[0],Qb<xb.length?xb[Qb]:fa[fa.length-1]]};U.domain=function(Qb){if(!arguments.length)return fa.slice();fa=[];for(let jc of Qb)null==jc||isNaN(jc=+jc)||fa.push(jc);fa.sort(oc);return x()};U.range=function(Qb){return arguments.length?(Ma=Array.from(Qb),x()):Ma.slice()};U.unknown=function(Qb){return arguments.length?(Db=Qb,U):Db};U.quantiles=function(){return xb.slice()};
U.copy=function(){return hf().domain(fa).range(Ma).unknown(Db)};return Xa.apply(U,arguments)}function cf(){function x(Vc){return null!=Vc&&Vc<=Vc?Qb[gf(Db,Vc,0,xb)]:jc}function U(){var Vc=-1;for(Db=Array(xb);++Vc<xb;)Db[Vc]=((Vc+1)*Ma-(Vc-xb)*fa)/(xb+1);return x}var fa=0,Ma=1,xb=1,Db=[.5],Qb=[0,1],jc;x.domain=function(Vc){return arguments.length?([fa,Ma]=Vc,fa=+fa,Ma=+Ma,U()):[fa,Ma]};x.range=function(Vc){return arguments.length?(xb=(Qb=Array.from(Vc)).length-1,U()):Qb.slice()};x.invertExtent=function(Vc){Vc=
Qb.indexOf(Vc);return 0>Vc?[NaN,NaN]:1>Vc?[fa,Db[0]]:Vc>=xb?[Db[xb-1],Ma]:[Db[Vc-1],Db[Vc]]};x.unknown=function(Vc){return arguments.length?(jc=Vc,x):x};x.thresholds=function(){return Db.slice()};x.copy=function(){return cf().domain([fa,Ma]).range(Qb).unknown(jc)};return Xa.apply(be(x),arguments)}function df(){function x(Db){return null!=Db&&Db<=Db?fa[gf(U,Db,0,xb)]:Ma}var U=[.5],fa=[0,1],Ma,xb=1;x.domain=function(Db){return arguments.length?(U=Array.from(Db),xb=Math.min(U.length,fa.length-1),x):
U.slice()};x.range=function(Db){return arguments.length?(fa=Array.from(Db),xb=Math.min(U.length,fa.length-1),x):fa.slice()};x.invertExtent=function(Db){Db=fa.indexOf(Db);return[U[Db-1],U[Db]]};x.unknown=function(Db){return arguments.length?(Ma=Db,x):Ma};x.copy=function(){return df().domain(U).range(fa).unknown(Ma)};return Xa.apply(x,arguments)}function re(x,U,fa,Ma){function xb(Db){return x(Db=0===arguments.length?new Date:new Date(+Db)),Db}xb.floor=function(Db){return x(Db=new Date(+Db)),Db};xb.ceil=
function(Db){return x(Db=new Date(Db-1)),U(Db,1),x(Db),Db};xb.round=function(Db){var Qb=xb(Db),jc=xb.ceil(Db);return Db-Qb<jc-Db?Qb:jc};xb.offset=function(Db,Qb){return U(Db=new Date(+Db),null==Qb?1:Math.floor(Qb)),Db};xb.range=function(Db,Qb,jc){var Vc=[],Kd;Db=xb.ceil(Db);jc=null==jc?1:Math.floor(jc);if(!(Db<Qb&&0<jc))return Vc;do Vc.push(Kd=new Date(+Db)),U(Db,jc),x(Db);while(Kd<Db&&Db<Qb);return Vc};xb.filter=function(Db){return re(function(Qb){if(Qb>=Qb)for(;x(Qb),!Db(Qb);)Qb.setTime(Qb-1)},
function(Qb,jc){if(Qb>=Qb)if(0>jc)for(;0>=++jc;)for(;U(Qb,-1),!Db(Qb););else for(;0<=--jc;)for(;U(Qb,1),!Db(Qb););})};fa&&(xb.count=function(Db,Qb){t.setTime(+Db);F.setTime(+Qb);x(t);x(F);return Math.floor(fa(t,F))},xb.every=function(Db){Db=Math.floor(Db);return isFinite(Db)&&0<Db?1<Db?xb.filter(Ma?function(Qb){return 0===Ma(Qb)%Db}:function(Qb){return 0===xb.count(0,Qb)%Db}):xb:null});return xb}function nf(x){return re(function(U){U.setDate(U.getDate()-(U.getDay()+7-x)%7);U.setHours(0,0,0,0)},function(U,
fa){U.setDate(U.getDate()+7*fa)},function(U,fa){return(fa-U-6E4*(fa.getTimezoneOffset()-U.getTimezoneOffset()))/6048E5})}function T(x){return re(function(U){U.setUTCDate(U.getUTCDate()-(U.getUTCDay()+7-x)%7);U.setUTCHours(0,0,0,0)},function(U,fa){U.setUTCDate(U.getUTCDate()+7*fa)},function(U,fa){return(fa-U)/6048E5})}function ta(x,U,fa,Ma,xb,Db){function Qb(Vc,Kd,Ud){const cd=Math.abs(Kd-Vc)/Ud,ie=kc(([,,w])=>w).right(jc,cd);if(ie===jc.length)return x.every(Nb(Vc/31536E6,Kd/31536E6,Ud));if(0===ie)return l.every(Math.max(Nb(Vc,
Kd,Ud),1));const [Be,Ve]=jc[cd/jc[ie-1][2]<jc[ie][2]/cd?ie-1:ie];return Be.every(Ve)}const jc=[[y,1,1E3],[y,5,5E3],[y,15,15E3],[y,30,3E4],[Db,1,6E4],[Db,5,3E5],[Db,15,9E5],[Db,30,18E5],[xb,1,36E5],[xb,3,108E5],[xb,6,216E5],[xb,12,432E5],[Ma,1,864E5],[Ma,2,1728E5],[fa,1,6048E5],[U,1,2592E6],[U,3,7776E6],[x,1,31536E6]];return[function(Vc,Kd,Ud){const cd=Kd<Vc;cd&&([Vc,Kd]=[Kd,Vc]);Vc=(Ud=Ud&&"function"===typeof Ud.range?Ud:Qb(Vc,Kd,Ud))?Ud.range(Vc,+Kd+1):[];return cd?Vc.reverse():Vc},Qb]}function eb(x){if(0<=
x.y&&100>x.y){var U=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);U.setFullYear(x.y);return U}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function zb(x){if(0<=x.y&&100>x.y){var U=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));U.setUTCFullYear(x.y);return U}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function Xb(x,U,fa){return{y:x,m:U,d:fa,H:0,M:0,S:0,L:0}}function Cc(x){function U(gd,nc){return function(rd){var xd=[],we=-1,ne=0,Xe=gd.length,Af,Xf;for(rd instanceof Date||(rd=new Date(+rd));++we<
Xe;)if(37===gd.charCodeAt(we)){xd.push(gd.slice(ne,we));null!=(ne=kf[Af=gd.charAt(++we)])?Af=gd.charAt(++we):ne="e"===Af?" ":"0";if(Xf=nc[Af])Af=Xf(rd,ne);xd.push(Af);ne=we+1}xd.push(gd.slice(ne,we));return xd.join("")}}function fa(gd,nc){return function(rd){var xd=Xb(1900,void 0,1);if(Ma(xd,gd,rd+="",0)!=rd.length)return null;if("Q"in xd)return new Date(xd.Q);if("s"in xd)return new Date(1E3*xd.s+("L"in xd?xd.L:0));!nc||"Z"in xd||(xd.Z=0);"p"in xd&&(xd.H=xd.H%12+12*xd.p);void 0===xd.m&&(xd.m="q"in
xd?xd.q:0);if("V"in xd){if(1>xd.V||53<xd.V)return null;"w"in xd||(xd.w=1);if("Z"in xd){rd=zb(Xb(xd.y,0,1));var we=rd.getUTCDay();rd=4<we||0===we?xe.ceil(rd):xe(rd);rd=Re.offset(rd,7*(xd.V-1));xd.y=rd.getUTCFullYear();xd.m=rd.getUTCMonth();xd.d=rd.getUTCDate()+(xd.w+6)%7}else rd=eb(Xb(xd.y,0,1)),we=rd.getDay(),rd=4<we||0===we?Hb.ceil(rd):Hb(rd),rd=Va.offset(rd,7*(xd.V-1)),xd.y=rd.getFullYear(),xd.m=rd.getMonth(),xd.d=rd.getDate()+(xd.w+6)%7}else if("W"in xd||"U"in xd)"w"in xd||(xd.w="u"in xd?xd.u%
7:"W"in xd?1:0),we="Z"in xd?zb(Xb(xd.y,0,1)).getUTCDay():eb(Xb(xd.y,0,1)).getDay(),xd.m=0,xd.d="W"in xd?(xd.w+6)%7+7*xd.W-(we+5)%7:xd.w+7*xd.U-(we+6)%7;return"Z"in xd?(xd.H+=xd.Z/100|0,xd.M+=xd.Z%100,zb(xd)):eb(xd)}}function Ma(gd,nc,rd,xd){for(var we=0,ne=nc.length,Xe=rd.length,Af;we<ne;){if(xd>=Xe)return-1;Af=nc.charCodeAt(we++);if(37===Af){if(Af=nc.charAt(we++),Af=Ed[Af in kf?nc.charAt(we++):Af],!Af||0>(xd=Af(gd,rd,xd)))return-1}else if(Af!=rd.charCodeAt(xd++))return-1}return xd}var xb=x.dateTime,
Db=x.date,Qb=x.time,jc=x.periods,Vc=x.days,Kd=x.shortDays,Ud=x.months,cd=x.shortMonths,ie=ea(jc),Be=Ta(jc),Ve=ea(Vc),w=Ta(Vc),S=ea(Kd),aa=Ta(Kd),Da=ea(Ud),sb=Ta(Ud),wb=ea(cd),Kb=Ta(cd),Lb={a:function(gd){return Kd[gd.getDay()]},A:function(gd){return Vc[gd.getDay()]},b:function(gd){return cd[gd.getMonth()]},B:function(gd){return Ud[gd.getMonth()]},c:null,d:Ge,e:Ge,f:Dc,g:Pa,G:lc,H:tf,I:ld,j:Fc,L:id,m:Gd,M:ae,p:function(gd){return jc[+(12<=gd.getHours())]},q:function(gd){return 1+~~(gd.getMonth()/3)},
Q:ff,s:lg,S:Yd,u:le,U:N,V:G,w:ka,W:sa,x:null,X:null,y:Ha,Y:dc,Z:rc,"%":Kf},Mc={a:function(gd){return Kd[gd.getUTCDay()]},A:function(gd){return Vc[gd.getUTCDay()]},b:function(gd){return cd[gd.getUTCMonth()]},B:function(gd){return Ud[gd.getUTCMonth()]},c:null,d:sc,e:sc,f:yd,g:bf,G:ve,H:Ic,I:$c,j:Uc,L:bd,m:Dd,M:Od,p:function(gd){return jc[+(12<=gd.getUTCHours())]},q:function(gd){return 1+~~(gd.getUTCMonth()/3)},Q:ff,s:lg,S:He,u:td,U:ze,V:Hd,w:he,W:De,x:null,X:null,y:mf,Y:ue,Z:uf,"%":Kf},Ed={a:function(gd,
nc,rd){return(nc=S.exec(nc.slice(rd)))?(gd.w=aa.get(nc[0].toLowerCase()),rd+nc[0].length):-1},A:function(gd,nc,rd){return(nc=Ve.exec(nc.slice(rd)))?(gd.w=w.get(nc[0].toLowerCase()),rd+nc[0].length):-1},b:function(gd,nc,rd){return(nc=wb.exec(nc.slice(rd)))?(gd.m=Kb.get(nc[0].toLowerCase()),rd+nc[0].length):-1},B:function(gd,nc,rd){return(nc=Da.exec(nc.slice(rd)))?(gd.m=sb.get(nc[0].toLowerCase()),rd+nc[0].length):-1},c:function(gd,nc,rd){return Ma(gd,xb,nc,rd)},d:Kc,e:Kc,f:Ad,g:Sa,G:de,H:Qc,I:Qc,j:Xc,
L:Qd,m:pd,M:qd,p:function(gd,nc,rd){return(nc=ie.exec(nc.slice(rd)))?(gd.p=Be.get(nc[0].toLowerCase()),rd+nc[0].length):-1},q:qc,Q:ye,s:Oe,S:jd,u:Pc,U:xc,V:Tc,w:$b,W:md,x:function(gd,nc,rd){return Ma(gd,Db,nc,rd)},X:function(gd,nc,rd){return Ma(gd,Qb,nc,rd)},y:Sa,Y:de,Z:fb,"%":Xd};Lb.x=U(Db,Lb);Lb.X=U(Qb,Lb);Lb.c=U(xb,Lb);Mc.x=U(Db,Mc);Mc.X=U(Qb,Mc);Mc.c=U(xb,Mc);return{format:function(gd){var nc=U(gd+="",Lb);nc.toString=function(){return gd};return nc},parse:function(gd){var nc=fa(gd+="",!1);nc.toString=
function(){return gd};return nc},utcFormat:function(gd){var nc=U(gd+="",Mc);nc.toString=function(){return gd};return nc},utcParse:function(gd){var nc=fa(gd+="",!0);nc.toString=function(){return gd};return nc}}}function Ub(x,U,fa){var Ma=0>x?"-":"";x=(Ma?-x:x)+"";var xb=x.length;return Ma+(xb<fa?Array(fa-xb+1).join(U)+x:x)}function I(x){return x.replace(Pf,"\\$\x26")}function ea(x){return new RegExp("^(?:"+x.map(I).join("|")+")","i")}function Ta(x){return new Map(x.map((U,fa)=>[U.toLowerCase(),fa]))}
function $b(x,U,fa){return(U=vf.exec(U.slice(fa,fa+1)))?(x.w=+U[0],fa+U[0].length):-1}function Pc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+1)))?(x.u=+U[0],fa+U[0].length):-1}function xc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.U=+U[0],fa+U[0].length):-1}function Tc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.V=+U[0],fa+U[0].length):-1}function md(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.W=+U[0],fa+U[0].length):-1}function de(x,U,fa){return(U=vf.exec(U.slice(fa,fa+4)))?(x.y=+U[0],fa+U[0].length):
-1}function Sa(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.y=+U[0]+(68<+U[0]?1900:2E3),fa+U[0].length):-1}function fb(x,U,fa){return(U=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(U.slice(fa,fa+6)))?(x.Z=U[1]?0:-(U[2]+(U[3]||"00")),fa+U[0].length):-1}function qc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+1)))?(x.q=3*U[0]-3,fa+U[0].length):-1}function pd(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.m=U[0]-1,fa+U[0].length):-1}function Kc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.d=+U[0],fa+U[0].length):
-1}function Xc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+3)))?(x.m=0,x.d=+U[0],fa+U[0].length):-1}function Qc(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.H=+U[0],fa+U[0].length):-1}function qd(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.M=+U[0],fa+U[0].length):-1}function jd(x,U,fa){return(U=vf.exec(U.slice(fa,fa+2)))?(x.S=+U[0],fa+U[0].length):-1}function Qd(x,U,fa){return(U=vf.exec(U.slice(fa,fa+3)))?(x.L=+U[0],fa+U[0].length):-1}function Ad(x,U,fa){return(U=vf.exec(U.slice(fa,fa+6)))?(x.L=Math.floor(U[0]/
1E3),fa+U[0].length):-1}function Xd(x,U,fa){return(x=Qf.exec(U.slice(fa,fa+1)))?fa+x[0].length:-1}function ye(x,U,fa){return(U=vf.exec(U.slice(fa)))?(x.Q=+U[0],fa+U[0].length):-1}function Oe(x,U,fa){return(U=vf.exec(U.slice(fa)))?(x.s=+U[0],fa+U[0].length):-1}function Ge(x,U){return Ub(x.getDate(),U,2)}function tf(x,U){return Ub(x.getHours(),U,2)}function ld(x,U){return Ub(x.getHours()%12||12,U,2)}function Fc(x,U){return Ub(1+Va.count(Zc(x),x),U,3)}function id(x,U){return Ub(x.getMilliseconds(),U,
3)}function Dc(x,U){return id(x,U)+"000"}function Gd(x,U){return Ub(x.getMonth()+1,U,2)}function ae(x,U){return Ub(x.getMinutes(),U,2)}function Yd(x,U){return Ub(x.getSeconds(),U,2)}function le(x){x=x.getDay();return 0===x?7:x}function N(x,U){return Ub($a.count(Zc(x)-1,x),U,2)}function da(x){var U=x.getDay();return 4<=U||0===U?fc(x):fc.ceil(x)}function G(x,U){x=da(x);return Ub(fc.count(Zc(x),x)+(4===Zc(x).getDay()),U,2)}function ka(x){return x.getDay()}function sa(x,U){return Ub(Hb.count(Zc(x)-1,
x),U,2)}function Ha(x,U){return Ub(x.getFullYear()%100,U,2)}function Pa(x,U){x=da(x);return Ub(x.getFullYear()%100,U,2)}function dc(x,U){return Ub(x.getFullYear()%1E4,U,4)}function lc(x,U){var fa=x.getDay();x=4<=fa||0===fa?fc(x):fc.ceil(x);return Ub(x.getFullYear()%1E4,U,4)}function rc(x){x=x.getTimezoneOffset();return(0<x?"-":(x*=-1,"+"))+Ub(x/60|0,"0",2)+Ub(x%60,"0",2)}function sc(x,U){return Ub(x.getUTCDate(),U,2)}function Ic(x,U){return Ub(x.getUTCHours(),U,2)}function $c(x,U){return Ub(x.getUTCHours()%
12||12,U,2)}function Uc(x,U){return Ub(1+Re.count($e(x),x),U,3)}function bd(x,U){return Ub(x.getUTCMilliseconds(),U,3)}function yd(x,U){return bd(x,U)+"000"}function Dd(x,U){return Ub(x.getUTCMonth()+1,U,2)}function Od(x,U){return Ub(x.getUTCMinutes(),U,2)}function He(x,U){return Ub(x.getUTCSeconds(),U,2)}function td(x){x=x.getUTCDay();return 0===x?7:x}function ze(x,U){return Ub(pe.count($e(x)-1,x),U,2)}function Ce(x){var U=x.getUTCDay();return 4<=U||0===U?wf(x):wf.ceil(x)}function Hd(x,U){x=Ce(x);
return Ub(wf.count($e(x),x)+(4===$e(x).getUTCDay()),U,2)}function he(x){return x.getUTCDay()}function De(x,U){return Ub(xe.count($e(x)-1,x),U,2)}function mf(x,U){return Ub(x.getUTCFullYear()%100,U,2)}function bf(x,U){x=Ce(x);return Ub(x.getUTCFullYear()%100,U,2)}function ue(x,U){return Ub(x.getUTCFullYear()%1E4,U,4)}function ve(x,U){var fa=x.getUTCDay();x=4<=fa||0===fa?wf(x):wf.ceil(x);return Ub(x.getUTCFullYear()%1E4,U,4)}function uf(){return"+0000"}function Kf(){return"%"}function ff(x){return+x}
function lg(x){return Math.floor(+x/1E3)}function Wd(x){return new Date(x)}function jf(x){return x instanceof Date?+x:+new Date(+x)}function lf(x,U,fa,Ma,xb,Db,Qb,jc,Vc,Kd){function Ud(Lb){return(Vc(Lb)<Lb?Ve:jc(Lb)<Lb?w:Qb(Lb)<Lb?S:Db(Lb)<Lb?aa:Ma(Lb)<Lb?xb(Lb)<Lb?Da:sb:fa(Lb)<Lb?wb:Kb)(Lb)}var cd=jb()(ub,ub),ie=cd.invert,Be=cd.domain,Ve=Kd(".%L"),w=Kd(":%S"),S=Kd("%I:%M"),aa=Kd("%I %p"),Da=Kd("%a %d"),sb=Kd("%b %d"),wb=Kd("%B"),Kb=Kd("%Y");cd.invert=function(Lb){return new Date(ie(Lb))};cd.domain=
function(Lb){return arguments.length?Be(Array.from(Lb,jf)):Be().map(Wd)};cd.ticks=function(Lb){var Mc=Be();return x(Mc[0],Mc[Mc.length-1],null==Lb?10:Lb)};cd.tickFormat=function(Lb,Mc){return null==Mc?Ud:Kd(Mc)};cd.nice=function(Lb){var Mc=Be();Lb&&"function"===typeof Lb.range||(Lb=U(Mc[0],Mc[Mc.length-1],null==Lb?10:Lb));return Lb?Be(Te(Mc,Lb)):cd};cd.copy=function(){return bb(cd,lf(x,U,fa,Ma,xb,Db,Qb,jc,Vc,Kd))};return cd}function Ze(){function x(cd){return null==cd||isNaN(cd=+cd)?Ud:Vc(0===Qb?
.5:(cd=(jc(cd)-xb)*Qb,Kd?Math.max(0,Math.min(1,cd)):cd))}function U(cd){return function(ie){var Be,Ve;return arguments.length?([Be,Ve]=ie,Vc=cd(Be,Ve),x):[Vc(0),Vc(1)]}}var fa=0,Ma=1,xb,Db,Qb,jc,Vc=ub,Kd=!1,Ud;x.domain=function(cd){return arguments.length?([fa,Ma]=cd,xb=jc(fa=+fa),Db=jc(Ma=+Ma),Qb=xb===Db?0:1/(Db-xb),x):[fa,Ma]};x.clamp=function(cd){return arguments.length?(Kd=!!cd,x):Kd};x.interpolator=function(cd){return arguments.length?(Vc=cd,x):Vc};x.range=U(kb);x.rangeRound=U(bc);x.unknown=
function(cd){return arguments.length?(Ud=cd,x):Ud};return function(cd){jc=cd;xb=cd(fa);Db=cd(Ma);Qb=xb===Db?0:1/(Db-xb);return x}}function Hf(x,U){return U.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function Bf(){var x=be(Ze()(ub));x.copy=function(){return Hf(x,Bf())};return qb.apply(x,arguments)}function Cf(){var x=ic(Ze()).domain([1,10]);x.copy=function(){return Hf(x,Cf()).base(x.base())};return qb.apply(x,arguments)}function Jf(){var x=vd(Ze());x.copy=
function(){return Hf(x,Jf()).constant(x.constant())};return qb.apply(x,arguments)}function wg(){var x=se(Ze());x.copy=function(){return Hf(x,wg()).exponent(x.exponent())};return qb.apply(x,arguments)}function eg(){function x(w){return isNaN(w=+w)?Ve:(w=.5+((w=+ie(w))-jc)*(Db*w<Db*jc?Kd:Ud),cd(Be?Math.max(0,Math.min(1,w)):w))}function U(w){return function(S){var aa,Da,sb;return arguments.length?([aa,Da,sb]=S,cd=ud(w,[aa,Da,sb]),x):[cd(0),cd(.5),cd(1)]}}var fa=0,Ma=.5,xb=1,Db=1,Qb,jc,Vc,Kd,Ud,cd=ub,
ie,Be=!1,Ve;x.domain=function(w){return arguments.length?([fa,Ma,xb]=w,Qb=ie(fa=+fa),jc=ie(Ma=+Ma),Vc=ie(xb=+xb),Kd=Qb===jc?0:.5/(jc-Qb),Ud=jc===Vc?0:.5/(Vc-jc),Db=jc<Qb?-1:1,x):[fa,Ma,xb]};x.clamp=function(w){return arguments.length?(Be=!!w,x):Be};x.interpolator=function(w){return arguments.length?(cd=w,x):cd};x.range=U(kb);x.rangeRound=U(bc);x.unknown=function(w){return arguments.length?(Ve=w,x):Ve};return function(w){ie=w;Qb=w(fa);jc=w(Ma);Vc=w(xb);Kd=Qb===jc?0:.5/(jc-Qb);Ud=jc===Vc?0:.5/(Vc-jc);
Db=jc<Qb?-1:1;return x}}function xf(){var x=be(eg()(ub));x.copy=function(){return Hf(x,xf())};return qb.apply(x,arguments)}function Of(){var x=ic(eg()).domain([.1,1,10]);x.copy=function(){return Hf(x,Of()).base(x.base())};return qb.apply(x,arguments)}function bg(){var x=vd(eg());x.copy=function(){return Hf(x,bg()).constant(x.constant())};return qb.apply(x,arguments)}function Lg(){var x=se(eg());x.copy=function(){return Hf(x,Lg()).exponent(x.exponent())};return qb.apply(x,arguments)}function Qg(){function x(){var cd=
fa().length;const ie=xb[1]<xb[0],Be=xb[1-ie],Ve=ib(cd,Vc,Kd);let w=xb[ie-0];Db=(Be-w)/(Ve||1);jc&&(Db=Math.floor(Db));w+=(Be-w-Db*(cd-Vc))*Ud;Qb=Db*(1-Vc);jc&&(w=Math.round(w),Qb=Math.round(Qb));cd=Ob(cd).map(S=>w+Db*S);return Ma(ie?cd.reverse():cd)}const U=Oa().unknown(void 0),fa=U.domain,Ma=U.range;let xb=[0,1],Db,Qb,jc=!1,Vc=0,Kd=0,Ud=.5;delete U.unknown;U.domain=function(cd){return arguments.length?(fa(cd),x()):fa()};U.range=function(cd){return arguments.length?(xb=[+cd[0],+cd[1]],x()):xb.slice()};
U.rangeRound=function(cd){xb=[+cd[0],+cd[1]];jc=!0;return x()};U.bandwidth=function(){return Qb};U.step=function(){return Db};U.round=function(cd){return arguments.length?(jc=!!cd,x()):jc};U.padding=function(cd){return arguments.length?(Vc=Kd=Math.max(0,Math.min(1,cd)),x()):Vc};U.paddingInner=function(cd){return arguments.length?(Vc=Math.max(0,Math.min(1,cd)),x()):Vc};U.paddingOuter=function(cd){return arguments.length?(Kd=Math.max(0,Math.min(1,cd)),x()):Kd};U.align=function(cd){return arguments.length?
(Ud=Math.max(0,Math.min(1,cd)),x()):Ud};U.invertRange=function(cd){if(null!=cd[0]&&null!=cd[1]){var ie=xb[1]<xb[0],Be=ie?Ma().reverse():Ma(),Ve=Be.length-1,w=+cd[0],S=+cd[1];if(w===w&&S===S){if(S<w){var aa=w;w=S;S=aa}if(!(S<Be[0]||w>xb[1-ie]))return cd=Math.max(0,Lf(Be,w)-1),S=w===S?cd:Lf(Be,S)-1,w-Be[cd]>Qb+1E-10&&++cd,ie&&(aa=cd,cd=Ve-S,S=Ve-aa),cd>S?void 0:fa().slice(cd,S+1)}}};U.invert=function(cd){return(cd=U.invertRange([cd,cd]))?cd[0]:cd};U.copy=function(){return Qg().domain(fa()).range(xb).round(jc).paddingInner(Vc).paddingOuter(Kd).align(Ud)};
return x()}function xg(x){const U=x.copy;x.padding=x.paddingOuter;delete x.paddingInner;x.copy=function(){return xg(U())};return x}function ah(){function x(Ma){return null==Ma||Ma!==Ma?void 0:fa[(gf(U,Ma)-1)%fa.length]}let U=[],fa=[];x.domain=function(Ma){return arguments.length?(U=kg.call(Ma,g.toNumber),x):U.slice()};x.range=function(Ma){return arguments.length?(fa=ih.call(Ma),x):fa.slice()};x.tickFormat=function(Ma,xb){return Cd(U[0],g.peek(U),null==Ma?10:Ma,xb)};x.copy=function(){return ah().domain(x.domain()).range(x.range())};
return x}function qa(x,U,fa){const Ma=function(){const xb=U();xb.invertRange||(xb.invertRange=xb.invert?Fb(xb):xb.invertExtent?Zb(xb):void 0);xb.type=x;return xb};Ma.metadata=g.toSet(g.array(fa));return Ma}function cb(x,U,fa){return 1<arguments.length?(ug[x]=qa(x,U,fa),this):Pb(x)?ug[x]:void 0}function Pb(x){return g.hasOwnProperty(ug,x)}function hd(x,U){return(x=ug[x])&&x.metadata[U]}function nd(x){return hd(x,"discrete")}function oe(x){return hd(x,"discretizing")}function Pe(x){return hd(x,"log")}
function of(x){return hd(x,"temporal")}function Ef(x,U,fa){return ud(Qe(U||"rgb",fa),x)}function Qe(x,U){x=lh[Zf(x)];return null!=U&&x&&x.gamma?x.gamma(U):x}function Zf(x){return"interpolate"+x.toLowerCase().split("-").map(U=>U[0].toUpperCase()+U.slice(1)).join("")}function Rf(x){const U=x.length/6|0,fa=Array(U);for(let Ma=0;Ma<U;)fa[Ma]="#"+x.slice(6*Ma,6*++Ma);return fa}function $f(x,U){for(const fa in x)mg(fa,U(x[fa]))}function mg(x,U){x=x&&x.toLowerCase();return 1<arguments.length?(qi[x]=U,this):
qi[x]}function qg(x,U,fa){var Ma=x.range();let xb=Ma[0],Db=g.peek(Ma);Ma=Di;xb>Db&&(Ma=Db,Db=xb,xb=Ma,Ma=Ki);xb=Math.floor(xb);Db=Math.ceil(Db);U=U.map(Qb=>[Qb,x(Qb)]).filter(Qb=>xb<=Qb[1]&&Qb[1]<=Db).sort(Ma).map(Qb=>Qb[0]);if(0<fa&&1<U.length){for(Ma=[U[0],g.peek(U)];U.length>fa&&3<=U.length;)U=U.filter((Qb,jc)=>!(jc%2));3>U.length&&(U=Ma)}return U}function Gg(x,U){return x.bins?qg(x,x.bins):x.ticks?x.ticks(U):x.domain()}function bh(x,U,fa,Ma,xb,Db){const Qb=U.type;let jc=ii;if("time"===Qb||"time"===
xb)jc=x.timeFormat(Ma);else if("utc"===Qb||"utc"===xb)jc=x.utcFormat(Ma);else if(Pe(Qb)){const Vc=x.formatFloat(Ma);if(Db||U.bins)jc=Vc;else{const Kd=hh(U,fa,!1);jc=Ud=>Kd(Ud)?Vc(Ud):""}}else U.tickFormat?(U=U.domain(),jc=x.formatSpan(U[0],U[U.length-1],fa,Ma)):Ma&&(jc=x.format(Ma));return jc}function hh(x,U,fa){const Ma=Gg(x,U),xb=x.base(),Db=Math.log(xb),Qb=Math.max(1,xb*U/Ma.length);x=jc=>{jc/=Math.pow(xb,Math.round(Math.log(jc)/Db));jc*xb<xb-.5&&(jc*=xb);return jc<=Qb};return fa?Ma.filter(x):
x}function Ee(x,U){x.bins?(x=x.bins,U=x.slice(0,-1),U.max=g.peek(x),x=U):"log"===x.type?x=hh(x,U,!0):vg[x.type]?(x=x[vg[x.type]](),x=[-Infinity].concat(x),x.max=Infinity):x=Gg(x,U);return x}function Ie(x,U,fa,Ma,xb,Db,Qb){if(jj[U.type]&&"time"!==Db&&"utc"!==Db){fa=U[jj[U.type]]();Db=fa.length;Qb=1<Db?fa[1]-fa[0]:fa[0];let jc;for(jc=1;jc<Db;++jc)Qb=Math.min(Qb,fa[jc]-fa[jc-1]);x=x.formatSpan(0,Qb,30,xb)}else x=bh(x,U,fa,xb,Db,Qb);return"symbol"===Ma&&(vg[U.type]||U.bins)?bj(x):"discrete"===Ma?di(x):
kj(x)}const Lf=kc(oc).right;kc(Ac).center;var gf=Lf;class Df extends Map{constructor(x,U=Ya){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:U}});if(null!=x)for(const [fa,Ma]of x)this.set(fa,Ma)}get(x){return super.get(Ab(this,x))}has(x){return super.has(Ab(this,x))}set(x,U){return super.set(ec(this,x),U)}delete(x){return super.delete(pc(this,x))}}var zf=Math.sqrt(50),fg=Math.sqrt(10),rg=Math.sqrt(2);const gg=Symbol("implicit");var Ff=1/.7,Hg=/^#([0-9a-f]{3,8})$/,dh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
vh=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ag=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Vh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Bh=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ch=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Vg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Ca(lb,vb,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:mb,formatHex:mb,formatHsl:function(){return ba(this).formatHsl()},formatRgb:Na,toString:Na});Ca(ma,ob,Qa(lb,{brighter:function(x){x=null==x?Ff:Math.pow(Ff,x);return new ma(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){x=null==x?.7:Math.pow(.7,x);return new ma(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Y,formatHex:Y,formatRgb:Ga,toString:Ga}));Ca(p,na,Qa(lb,{brighter:function(x){x=null==x?Ff:Math.pow(Ff,x);return new p(this.h,this.s,this.l*x,this.opacity)},darker:function(x){x=null==x?.7:Math.pow(.7,x);return new p(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+360*(0>this.h),U=isNaN(x)||isNaN(this.s)?0:this.s,fa=this.l;U=fa+(.5>fa?fa:1-fa)*U;fa=2*fa-U;return new ma(L(240<=
x?x-240:x+120,fa,U),L(x,fa,U),L(120>x?x+240:x-120,fa,U),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var x=this.opacity;x=isNaN(x)?1:Math.max(0,Math.min(1,x));return(1===x?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===x?")":", "+x+")")}}));const Dh=Math.PI/180,Eh=180/Math.PI,bi=4/29,Wg=6/29,jh=3*Wg*Wg,si=Wg*Wg*Wg;Ca(v,f,Qa(lb,{brighter:function(x){return new v(this.l+
18*(null==x?1:x),this.a,this.b,this.opacity)},darker:function(x){return new v(this.l-18*(null==x?1:x),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,U=isNaN(this.a)?x:x+this.a/500,fa=isNaN(this.b)?x:x-this.b/200;U=.96422*C(U);x=1*C(x);fa=.82521*C(fa);return new ma(B(3.1338561*U-1.6168667*x-.4906146*fa),B(-.9787684*U+1.9161415*x+.033454*fa),B(.0719453*U-.2289914*x+1.4052427*fa),this.opacity)}}));Ca(V,D,Qa(lb,{brighter:function(x){return new V(this.h,this.c,this.l+18*(null==x?1:x),
this.opacity)},darker:function(x){return new V(this.h,this.c,this.l-18*(null==x?1:x),this.opacity)},rgb:function(){return Aa(this).rgb()}}));var Ag=1.78277*-.29227-.1347134789;Ca(u,W,Qa(lb,{brighter:function(x){x=null==x?Ff:Math.pow(Ff,x);return new u(this.h,this.s,this.l*x,this.opacity)},darker:function(x){x=null==x?.7:Math.pow(.7,x);return new u(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*Dh,U=+this.l,fa=isNaN(this.s)?0:this.s*U*(1-U),Ma=Math.cos(x);x=
Math.sin(x);return new ma(255*(U+fa*(-.14861*Ma+1.78277*x)),255*(U+fa*(-.29227*Ma+-.90649*x)),255*(U+1.97294*fa*Ma),this.opacity)}}));var Fh=x=>()=>x,Wh=function fa(U){function Ma(Db,Qb){var jc=xb((Db=ob(Db)).r,(Qb=ob(Qb)).r),Vc=xb(Db.g,Qb.g),Kd=xb(Db.b,Qb.b),Ud=ab(Db.opacity,Qb.opacity);return function(cd){Db.r=jc(cd);Db.g=Vc(cd);Db.b=Kd(cd);Db.opacity=Ud(cd);return Db+""}}var xb=Ba(U);Ma.gamma=fa;return Ma}(1),Mg=Gb(va),ch=Gb(Ja),nh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gh=new RegExp(nh.source,
"g"),yg=180/Math.PI,Oh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},wh,ph=hc(function(U){U=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(U+"");return U.isIdentity?Oh:Yb(U.a,U.b,U.c,U.d,U.e,U.f)},"px, ","px)","deg)"),Xh=hc(function(U){if(null==U)return Oh;wh||(wh=document.createElementNS("http://www.w3.org/2000/svg","g"));wh.setAttribute("transform",U);if(!(U=wh.transform.baseVal.consolidate()))return Oh;U=U.matrix;return Yb(U.a,U.b,U.c,U.d,U.e,U.f)},", ",")",")"),
ci=function Db(fa,Ma,xb){function Qb(jc,Vc){var Kd=jc[0],Ud=jc[1],cd=jc[2];jc=Vc[2];var ie=Vc[0]-Kd,Be=Vc[1]-Ud,Ve=ie*ie+Be*Be;if(1E-12>Ve){var w=Math.log(jc/cd)/fa;jc=function(Da){return[Kd+Da*ie,Ud+Da*Be,cd*Math.exp(fa*Da*w)]}}else{var S=Math.sqrt(Ve);Vc=(jc*jc-cd*cd+xb*Ve)/(2*cd*Ma*S);jc=(jc*jc-cd*cd-xb*Ve)/(2*jc*Ma*S);var aa=Math.log(Math.sqrt(Vc*Vc+1)-Vc);w=(Math.log(Math.sqrt(jc*jc+1)-jc)-aa)/fa;jc=function(Da){Da*=w;var sb=yc(aa),wb=fa*Da+aa;var Kb=((wb=Math.exp(2*wb))-1)/(wb+1);var Lb=aa;
wb=((Lb=Math.exp(Lb))-1/Lb)/2;Kb=cd/(Ma*S)*(sb*Kb-wb);return[Kd+Kb*ie,Ud+Kb*Be,cd*sb/yc(fa*Da+aa)]}}jc.duration=1E3*w*fa/Math.SQRT2;return jc}Qb.rho=function(jc){jc=Math.max(.001,+jc);var Vc=jc*jc;return Db(jc,Vc,Vc*Vc)};return Qb}(Math.SQRT2,2,4),kh=Gc(X),Hh=Gc(ab),If=ad(X),sg=ad(ab),Rg=Nd(X),yf=Nd(ab),lh=Object.freeze({__proto__:null,interpolate:kb,interpolateArray:function(fa,Ma){return(wc(Ma)?tc:vc)(fa,Ma)},interpolateBasis:va,interpolateBasisClosed:Ja,interpolateDate:Ec,interpolateDiscrete:function(fa){var Ma=
fa.length;return function(xb){return fa[Math.max(0,Math.min(Ma-1,Math.floor(xb*Ma)))]}},interpolateHue:function(fa,Ma){var xb=X(+fa,+Ma);return function(Db){Db=xb(Db);return Db-360*Math.floor(Db/360)}},interpolateNumber:zc,interpolateNumberArray:tc,interpolateObject:Rc,interpolateRound:bc,interpolateString:Wb,interpolateTransformCss:ph,interpolateTransformSvg:Xh,interpolateZoom:ci,interpolateRgb:Wh,interpolateRgbBasis:Mg,interpolateRgbBasisClosed:ch,interpolateHsl:kh,interpolateHslLong:Hh,interpolateLab:function(fa,
Ma){var xb=ab((fa=f(fa)).l,(Ma=f(Ma)).l),Db=ab(fa.a,Ma.a),Qb=ab(fa.b,Ma.b),jc=ab(fa.opacity,Ma.opacity);return function(Vc){fa.l=xb(Vc);fa.a=Db(Vc);fa.b=Qb(Vc);fa.opacity=jc(Vc);return fa+""}},interpolateHcl:If,interpolateHclLong:sg,interpolateCubehelix:Rg,interpolateCubehelixLong:yf,piecewise:ud,quantize:function(fa,Ma){for(var xb=Array(Ma),Db=0;Db<Ma;++Db)xb[Db]=fa(Db/(Ma-1));return xb}}),Bg=[0,1],Mf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Sc.prototype=ed.prototype;
ed.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var R,wa={"%":(fa,Ma)=>(100*fa).toFixed(Ma),b:fa=>Math.round(fa).toString(2),c:fa=>fa+"",d:function(fa){return 1E21<=Math.abs(fa=Math.round(fa))?fa.toLocaleString("en").replace(/,/g,""):fa.toString(10)},e:(fa,Ma)=>fa.toExponential(Ma),f:(fa,
Ma)=>fa.toFixed(Ma),g:(fa,Ma)=>fa.toPrecision(Ma),o:fa=>Math.round(fa).toString(8),p:(fa,Ma)=>fd(100*fa,Ma),r:fd,s:function(fa,Ma){var xb=Eb(fa,Ma);if(!xb)return fa+"";var Db=xb[0];xb=xb[1];xb=xb-(R=3*Math.max(-8,Math.min(8,Math.floor(xb/3))))+1;var Qb=Db.length;return xb===Qb?Db:xb>Qb?Db+Array(xb-Qb+1).join("0"):0<xb?Db.slice(0,xb)+"."+Db.slice(xb):"0."+Array(1-xb).join("0")+Eb(fa,Math.max(0,Ma+xb-1))[0]},X:fa=>Math.round(fa).toString(16).toUpperCase(),x:fa=>Math.round(fa).toString(16)},Ua=Array.prototype.map,
q="y z a f p n µ m  k M G T P E Z Y".split(" "),P,ia,xa;(function(fa){P=Td(fa);ia=P.format;xa=P.formatPrefix;return P})({thousands:",",grouping:[3],currency:["$",""]});var t=new Date,F=new Date,ha=re(function(){},function(fa,Ma){fa.setTime(+fa+Ma)},function(fa,Ma){return Ma-fa});ha.every=function(fa){fa=Math.floor(fa);return isFinite(fa)&&0<fa?1<fa?re(function(Ma){Ma.setTime(Math.floor(Ma/fa)*fa)},function(Ma,xb){Ma.setTime(+Ma+xb*fa)},function(Ma,xb){return(xb-Ma)/fa}):ha:null};var l=ha,y=re(function(fa){fa.setTime(fa-
fa.getMilliseconds())},function(fa,Ma){fa.setTime(+fa+1E3*Ma)},function(fa,Ma){return(Ma-fa)/1E3},function(fa){return fa.getUTCSeconds()}),ca=re(function(fa){fa.setTime(fa-fa.getMilliseconds()-1E3*fa.getSeconds())},function(fa,Ma){fa.setTime(+fa+6E4*Ma)},function(fa,Ma){return(Ma-fa)/6E4},function(fa){return fa.getMinutes()}),pa=re(function(fa){fa.setTime(fa-fa.getMilliseconds()-1E3*fa.getSeconds()-6E4*fa.getMinutes())},function(fa,Ma){fa.setTime(+fa+36E5*Ma)},function(fa,Ma){return(Ma-fa)/36E5},
function(fa){return fa.getHours()}),Va=re(fa=>fa.setHours(0,0,0,0),(fa,Ma)=>fa.setDate(fa.getDate()+Ma),(fa,Ma)=>(Ma-fa-6E4*(Ma.getTimezoneOffset()-fa.getTimezoneOffset()))/864E5,fa=>fa.getDate()-1),$a=nf(0),Hb=nf(1);nf(2);nf(3);var fc=nf(4);nf(5);nf(6);var Sb=re(function(fa){fa.setDate(1);fa.setHours(0,0,0,0)},function(fa,Ma){fa.setMonth(fa.getMonth()+Ma)},function(fa,Ma){return Ma.getMonth()-fa.getMonth()+12*(Ma.getFullYear()-fa.getFullYear())},function(fa){return fa.getMonth()}),Bd=re(function(fa){fa.setMonth(0,
1);fa.setHours(0,0,0,0)},function(fa,Ma){fa.setFullYear(fa.getFullYear()+Ma)},function(fa,Ma){return Ma.getFullYear()-fa.getFullYear()},function(fa){return fa.getFullYear()});Bd.every=function(fa){return isFinite(fa=Math.floor(fa))&&0<fa?re(function(Ma){Ma.setFullYear(Math.floor(Ma.getFullYear()/fa)*fa);Ma.setMonth(0,1);Ma.setHours(0,0,0,0)},function(Ma,xb){Ma.setFullYear(Ma.getFullYear()+xb*fa)}):null};var Zc=Bd,Id=re(function(fa){fa.setUTCSeconds(0,0)},function(fa,Ma){fa.setTime(+fa+6E4*Ma)},function(fa,
Ma){return(Ma-fa)/6E4},function(fa){return fa.getUTCMinutes()}),te=re(function(fa){fa.setUTCMinutes(0,0,0)},function(fa,Ma){fa.setTime(+fa+36E5*Ma)},function(fa,Ma){return(Ma-fa)/36E5},function(fa){return fa.getUTCHours()}),Re=re(function(fa){fa.setUTCHours(0,0,0,0)},function(fa,Ma){fa.setUTCDate(fa.getUTCDate()+Ma)},function(fa,Ma){return(Ma-fa)/864E5},function(fa){return fa.getUTCDate()-1}),pe=T(0),xe=T(1);T(2);T(3);var wf=T(4);T(5);T(6);var Ig=re(function(fa){fa.setUTCDate(1);fa.setUTCHours(0,
0,0,0)},function(fa,Ma){fa.setUTCMonth(fa.getUTCMonth()+Ma)},function(fa,Ma){return Ma.getUTCMonth()-fa.getUTCMonth()+12*(Ma.getUTCFullYear()-fa.getUTCFullYear())},function(fa){return fa.getUTCMonth()}),af=re(function(fa){fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Ma){fa.setUTCFullYear(fa.getUTCFullYear()+Ma)},function(fa,Ma){return Ma.getUTCFullYear()-fa.getUTCFullYear()},function(fa){return fa.getUTCFullYear()});af.every=function(fa){return isFinite(fa=Math.floor(fa))&&0<fa?re(function(Ma){Ma.setUTCFullYear(Math.floor(Ma.getUTCFullYear()/
fa)*fa);Ma.setUTCMonth(0,1);Ma.setUTCHours(0,0,0,0)},function(Ma,xb){Ma.setUTCFullYear(Ma.getUTCFullYear()+xb*fa)}):null};var $e=af;const [Sf,Og]=ta($e,Ig,pe,Re,te,Id),[ig,Nf]=ta(Zc,Sb,$a,Va,pa,ca);var kf={"-":"",_:" ",0:"0"},vf=/^\s*\d+/,Qf=/^%/,Pf=/[\\^$*+?|[\]().{}]/g,Yg,cg,Kh;(function(fa){Yg=Cc(fa);cg=Yg.format;Kh=Yg.utcFormat;return Yg})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var kg=Array.prototype.map;const ih=Array.prototype.slice,ug={};cb("identity",Vd);cb("linear",ce,"continuous");cb("log",Jc,["continuous","log"]);cb("pow",Ae,"continuous");cb("sqrt",function(){return Ae.apply(null,arguments).exponent(.5)},"continuous");cb("symlog",Jd,"continuous");cb("time",function(){return Xa.apply(lf(ig,
Nf,Zc,Sb,$a,Va,pa,ca,y,cg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);cb("utc",function(){return Xa.apply(lf(Sf,Og,$e,Ig,pe,Re,te,Id,y,Kh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);cb("sequential",Bf,["continuous","interpolating"]);cb("sequential-linear",Bf,["continuous","interpolating"]);cb("sequential-log",Cf,["continuous","interpolating","log"]);cb("sequential-pow",wg,["continuous","interpolating"]);cb("sequential-sqrt",
function(){return wg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);cb("sequential-symlog",Jf,["continuous","interpolating"]);cb("diverging-linear",xf,["continuous","interpolating"]);cb("diverging-log",Of,["continuous","interpolating","log"]);cb("diverging-pow",Lg,["continuous","interpolating"]);cb("diverging-sqrt",function(){return Lg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);cb("diverging-symlog",bg,["continuous","interpolating"]);cb("quantile",hf,
["discretizing","quantile"]);cb("quantize",cf,"discretizing");cb("threshold",df,"discretizing");cb("bin-ordinal",ah,["discrete","discretizing"]);cb("ordinal",Oa,"discrete");cb("band",Qg,"discrete");cb("point",function(){return xg(Qg().paddingInner(1))},"discrete");const rh=["clamp","base","constant","exponent"],qi={};$f({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Rf);$f({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},fa=>Ef(Rf(fa)));const ii=fa=>g.isArray(fa)?fa.map(Ma=>String(Ma)):String(fa),Di=(fa,Ma)=>fa[1]-Ma[1],Ki=(fa,Ma)=>Ma[1]-fa[1],vg={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},jj={quantile:"quantiles",quantize:"domain"},bj=fa=>(Ma,xb,Db)=>{xb=Db[xb+1];Db=Db.max;Db=null!=Db?Db:Infinity;xb=null!=
xb?xb:Db;Ma=Number.isFinite(Ma)?fa(Ma):null;xb=Number.isFinite(xb)?fa(xb):null;return Ma&&xb?Ma+" – "+xb:xb?"\x3c "+xb:"≥ "+Ma},di=fa=>(Ma,xb)=>xb?fa(Ma):null,kj=fa=>Ma=>fa(Ma);r.Band="band";r.BinOrdinal="bin-ordinal";r.DiscreteLegend="discrete";r.Diverging="diverging";r.GradientLegend="gradient";r.Identity="identity";r.Linear="linear";r.Log="log";r.Ordinal="ordinal";r.Point="point";r.Pow="pow";r.Quantile="quantile";r.Quantize="quantize";r.Sequential="sequential";r.Sqrt="sqrt";r.SymbolLegend="symbol";
r.Symlog="symlog";r.Threshold="threshold";r.Time="time";r.UTC="utc";r.bandSpace=ib;r.domainCaption=function(fa,Ma,xb){xb=xb||{};var Db=Math.max(3,xb.maxlen||7),Qb=xb.format;const jc=(xb=xb.formatType)||Ma.type;g.isString(Qb)&&of(jc)&&(Qb=Qb.replace(/%a/g,"%A").replace(/%b/g,"%B"));fa=Qb||"time"!==jc?Qb||"utc"!==jc?Ie(fa,Ma,5,null,Qb,xb,!0):fa.utcFormat("%A, %d %B %Y, %X UTC"):fa.timeFormat("%A, %d %B %Y, %X");if(oe(Ma.type))return Db=Ee(Ma).slice(1).map(fa),Ma=Db.length,`${Ma} boundar${1===Ma?"y":
"ies"}: ${Db.join(", ")}`;if(nd(Ma.type))return Qb=Ma.domain(),Ma=Qb.length,Db=Ma>Db?Qb.slice(0,Db-2).map(fa).join(", ")+", ending with "+Qb.slice(-1).map(fa):Qb.map(fa).join(", "),`${Ma} value${1===Ma?"":"s"}: ${Db}`;Db=Ma.domain();return`values from ${fa(Db[0])} to ${fa(g.peek(Db))}`};r.interpolate=Qe;r.interpolateColors=Ef;r.interpolateRange=function(fa,Ma){const xb=Ma[0],Db=g.peek(Ma)-xb;return function(Qb){return fa(xb+Qb*Db)}};r.isContinuous=function(fa){return hd(fa,"continuous")};r.isDiscrete=
nd;r.isDiscretizing=oe;r.isInterpolating=function(fa){return hd(fa,"interpolating")};r.isLogarithmic=Pe;r.isQuantile=function(fa){return hd(fa,"quantile")};r.isTemporal=of;r.isValidScaleType=Pb;r.labelFormat=Ie;r.labelFraction=function(fa){var Ma=fa.domain();const xb=Ma.length-1;let Db=+Ma[0];Ma=+g.peek(Ma);let Qb=Ma-Db;"threshold"===fa.type&&(fa=xb?Qb/xb:.1,Db-=fa,Ma+=fa,Qb=Ma-Db);return jc=>(jc-Db)/Qb};r.labelValues=Ee;r.quantizeInterpolator=function(fa,Ma){const xb=Array(Ma),Db=Ma+1;for(let Qb=
0;Qb<Ma;)xb[Qb]=fa(++Qb/Db);return xb};r.scale=cb;r.scaleCopy=function(fa){const Ma=fa.type;fa=fa.copy();fa.type=Ma;return fa};r.scaleFraction=function(fa,Ma,xb){var Db=xb-Ma;let Qb,jc;return Db&&Number.isFinite(Db)?(Db=(Qb=fa.type).indexOf("-"),Qb=0>Db?Qb:Qb.slice(Db+1),jc=cb(Qb)().domain([Ma,xb]).range([0,1]),rh.forEach(Vc=>fa[Vc]?jc[Vc](fa[Vc]()):0),jc):g.constant(.5)};r.scaleImplicit=gg;r.scheme=mg;r.tickCount=function(fa,Ma,xb){let Db;g.isNumber(Ma)&&(fa.bins&&(Ma=Math.max(Ma,fa.bins.length)),
null!=xb&&(Ma=Math.min(Ma,Math.floor(g.span(fa.domain())/xb||1))));g.isObject(Ma)&&(Db=Ma.step,Ma=Ma.interval);g.isString(Ma)&&(Ma="time"===fa.type?ra.timeInterval(Ma):"utc"==fa.type?ra.utcInterval(Ma):g.error("Only time and utc scales accept interval strings."),Db&&(Ma=Ma.every(Db)));return Ma};r.tickFormat=bh;r.tickValues=Gg;r.validTicks=qg;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[46]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(41),Cb(44),Cb(45)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb){function Zb(R,wa,Ua){const q=R.gradient;let P=R.id,ia="radial"===q?"p_":"";P||(P=R.id="gradient_"+Ha++,"radial"===q?(R.x1=oc(R.x1,
.5),R.y1=oc(R.y1,.5),R.r1=oc(R.r1,0),R.x2=oc(R.x2,.5),R.y2=oc(R.y2,.5),R.r2=oc(R.r2,.5),ia="p_"):(R.x1=oc(R.x1,0),R.y1=oc(R.y1,0),R.x2=oc(R.x2,1),R.y2=oc(R.y2,0)));wa[P]=R;return"url("+(Ua||"")+"#"+ia+P+")"}function oc(R,wa){return null!=R?R:wa}function kc(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Ac(){return new kc}function Ab(R){return function(){return R}}function ec(R){return 1<=R?Od:-1>=R?-Od:Math.asin(R)}function pc(R){return R.innerRadius}function Ya(R){return R.outerRadius}
function rb(R){return R.startAngle}function Ib(R){return R.endAngle}function Nb(R){return R&&R.padAngle}function Bb(R,wa,Ua,q,P,ia,xa){var t=R-Ua,F=wa-q;xa=(xa?ia:-ia)/yd(t*t+F*F);F*=xa;t*=-xa;var ha=R+F,l=wa+t,y=Ua+F,ca=q+t;Ua=(ha+y)/2;q=(l+ca)/2;wa=y-ha;R=ca-l;xa=wa*wa+R*R;ia=P-ia;ca=ha*ca-y*l;var pa=(0>R?-1:1)*yd($c(0,ia*ia*xa-ca*ca));ha=(ca*R-wa*pa)/xa;l=(-ca*wa-R*pa)/xa;y=(ca*R+wa*pa)/xa;wa=(-ca*wa+R*pa)/xa;R=ha-Ua;xa=l-q;Ua=y-Ua;q=wa-q;R*R+xa*xa>Ua*Ua+q*q&&(ha=y,l=wa);return{cx:ha,cy:l,x01:-F,
y01:-t,x11:ha*(P/ia-1),y11:l*(P/ia-1)}}function Ob(R){return"object"===typeof R&&"length"in R?R:Array.from(R)}function Xa(R){this._context=R}function qb(R){return new Xa(R)}function Oa(R){return R[0]}function Ca(R){return R[1]}function Qa(R,wa){function Ua(t){var F,ha=(t=Ob(t)).length,l,y=!1,ca;null==P&&(xa=ia(ca=Ac()));for(F=0;F<=ha;++F)!(F<ha&&q(l=t[F],F,t))===y&&((y=!y)?xa.lineStart():xa.lineEnd()),y&&xa.point(+R(l,F,t),+wa(l,F,t));if(ca)return xa=null,ca+""||null}var q=Ab(!0),P=null,ia=qb,xa=
null;R="function"===typeof R?R:void 0===R?Oa:Ab(R);wa="function"===typeof wa?wa:void 0===wa?Ca:Ab(wa);Ua.x=function(t){return arguments.length?(R="function"===typeof t?t:Ab(+t),Ua):R};Ua.y=function(t){return arguments.length?(wa="function"===typeof t?t:Ab(+t),Ua):wa};Ua.defined=function(t){return arguments.length?(q="function"===typeof t?t:Ab(!!t),Ua):q};Ua.curve=function(t){return arguments.length?(ia=t,null!=P&&(xa=ia(P)),Ua):ia};Ua.context=function(t){return arguments.length?(null==t?P=xa=null:
xa=ia(P=t),Ua):P};return Ua}function lb(R,wa,Ua){function q(l){var y,ca,pa=(l=Ob(l)).length,Va,$a=!1,Hb,fc=Array(pa),Sb=Array(pa);null==t&&(ha=F(Hb=Ac()));for(y=0;y<=pa;++y){if(!(y<pa&&xa(Va=l[y],y,l))===$a)if($a=!$a){var Bd=y;ha.areaStart();ha.lineStart()}else{ha.lineEnd();ha.lineStart();for(ca=y-1;ca>=Bd;--ca)ha.point(fc[ca],Sb[ca]);ha.lineEnd();ha.areaEnd()}$a&&(fc[y]=+R(Va,y,l),Sb[y]=+wa(Va,y,l),ha.point(ia?+ia(Va,y,l):fc[y],Ua?+Ua(Va,y,l):Sb[y]))}if(Hb)return ha=null,Hb+""||null}function P(){return Qa().defined(xa).curve(F).context(t)}
var ia=null,xa=Ab(!0),t=null,F=qb,ha=null;R="function"===typeof R?R:void 0===R?Oa:Ab(+R);wa="function"===typeof wa?wa:void 0===wa?Ab(0):Ab(+wa);Ua="function"===typeof Ua?Ua:void 0===Ua?Ca:Ab(+Ua);q.x=function(l){return arguments.length?(R="function"===typeof l?l:Ab(+l),ia=null,q):R};q.x0=function(l){return arguments.length?(R="function"===typeof l?l:Ab(+l),q):R};q.x1=function(l){return arguments.length?(ia=null==l?null:"function"===typeof l?l:Ab(+l),q):ia};q.y=function(l){return arguments.length?
(wa="function"===typeof l?l:Ab(+l),Ua=null,q):wa};q.y0=function(l){return arguments.length?(wa="function"===typeof l?l:Ab(+l),q):wa};q.y1=function(l){return arguments.length?(Ua=null==l?null:"function"===typeof l?l:Ab(+l),q):Ua};q.lineX0=q.lineY0=function(){return P().x(R).y(wa)};q.lineY1=function(){return P().x(R).y(Ua)};q.lineX1=function(){return P().x(ia).y(wa)};q.defined=function(l){return arguments.length?(xa="function"===typeof l?l:Ab(!!l),q):xa};q.curve=function(l){return arguments.length?
(F=l,null!=t&&(ha=F(t)),q):F};q.context=function(l){return arguments.length?(null==l?t=ha=null:ha=F(t=l),q):t};return q}function mb(){}function Na(R,wa,Ua){R._context.bezierCurveTo((2*R._x0+R._x1)/3,(2*R._y0+R._y1)/3,(R._x0+2*R._x1)/3,(R._y0+2*R._y1)/3,(R._x0+4*R._x1+wa)/6,(R._y0+4*R._y1+Ua)/6)}function vb(R){this._context=R}function pb(R){this._context=R}function Mb(R){this._context=R}function Vb(R,wa){this._basis=new vb(R);this._beta=wa}function ob(R,wa,Ua){R._context.bezierCurveTo(R._x1+R._k*(R._x2-
R._x0),R._y1+R._k*(R._y2-R._y0),R._x2+R._k*(R._x1-wa),R._y2+R._k*(R._y1-Ua),R._x2,R._y2)}function ma(R,wa){this._context=R;this._k=(1-wa)/6}function Y(R,wa){this._context=R;this._k=(1-wa)/6}function Ga(R,wa){this._context=R;this._k=(1-wa)/6}function Ea(R,wa,Ua){var q=R._x1,P=R._y1,ia=R._x2,xa=R._y2;if(1E-12<R._l01_a){var t=2*R._l01_2a+3*R._l01_a*R._l12_a+R._l12_2a,F=3*R._l01_a*(R._l01_a+R._l12_a);q=(q*t-R._x0*R._l12_2a+R._x2*R._l01_2a)/F;P=(P*t-R._y0*R._l12_2a+R._y2*R._l01_2a)/F}1E-12<R._l23_a&&(t=
2*R._l23_2a+3*R._l23_a*R._l12_a+R._l12_2a,F=3*R._l23_a*(R._l23_a+R._l12_a),ia=(ia*t+R._x1*R._l23_2a-wa*R._l12_2a)/F,xa=(xa*t+R._y1*R._l23_2a-Ua*R._l12_2a)/F);R._context.bezierCurveTo(q,P,ia,xa,R._x2,R._y2)}function db(R,wa){this._context=R;this._alpha=wa}function ba(R,wa){this._context=R;this._alpha=wa}function na(R,wa){this._context=R;this._alpha=wa}function p(R){this._context=R}function L(R,wa,Ua){var q=R._x1-R._x0;wa-=R._x1;var P=(R._y1-R._y0)/(q||0>wa&&-0);R=(Ua-R._y1)/(wa||0>q&&-0);return((0>
P?-1:1)+(0>R?-1:1))*Math.min(Math.abs(P),Math.abs(R),.5*Math.abs((P*wa+R*q)/(q+wa)))||0}function O(R,wa){var Ua=R._x1-R._x0;return Ua?(3*(R._y1-R._y0)/Ua-wa)/2:wa}function f(R,wa,Ua){var q=R._x0,P=R._x1,ia=R._y1,xa=(P-q)/3;R._context.bezierCurveTo(q+xa,R._y0+xa*wa,P-xa,ia-xa*Ua,P,ia)}function v(R){this._context=R}function m(R){this._context=new C(R)}function C(R){this._context=R}function B(R){this._context=R}function z(R){var wa,Ua=R.length-1,q=Array(Ua),P=Array(Ua),ia=Array(Ua);q[0]=0;P[0]=2;ia[0]=
R[0]+2*R[1];for(wa=1;wa<Ua-1;++wa)q[wa]=1,P[wa]=4,ia[wa]=4*R[wa]+2*R[wa+1];q[Ua-1]=2;P[Ua-1]=7;ia[Ua-1]=8*R[Ua-1]+R[Ua];for(wa=1;wa<Ua;++wa){var xa=q[wa]/P[wa-1];P[wa]-=xa;ia[wa]-=xa*ia[wa-1]}q[Ua-1]=ia[Ua-1]/P[Ua-1];for(wa=Ua-2;0<=wa;--wa)q[wa]=(ia[wa]-q[wa+1])/P[wa];P[Ua-1]=(R[Ua]+q[Ua-1])/2;for(wa=0;wa<Ua-1;++wa)P[wa]=2*R[wa+1]-q[wa+1];return[q,P]}function E(R,wa){this._context=R;this._t=wa}function D(R,wa,Ua){R=g.hasOwnProperty(ue,R)&&ue[R];var q=null;R&&(q=R.curve||R[wa||"vertical"],R.tension&&
null!=Ua&&(q=q[R.tension](Ua)));return q}function V(R){const wa=[];(R.match(uf)||[]).forEach(Ua=>{let q=Ua[0];var P=q.toLowerCase();const ia=ve[P];var xa=Ua.slice(1).trim();Ua=[];for(let F=0;ia&&F<xa.length;)for(let ha=0;ha<ia;++ha){var t="a"!==P||3!==ha&&4!==ha?Kf:lg;t=xa.slice(F).match(t);if(null===t)throw Error("Invalid SVG path, incorrect parameter type");F+=t[0].length;Ua.push(+t[0]);t=xa.slice(F).match(ff);null!==t&&(F+=t[0].length)}xa=Ua.length;if(xa<ia||xa&&0!==xa%ia)throw Error("Invalid SVG path, incorrect parameter count");
wa.push([q,...Ua.slice(0,ia)]);if(xa!==ia)for("m"===P&&(q="M"===q?"L":"l"),P=ia;P<xa;P+=ia)wa.push([q,...Ua.slice(P,P+ia)])});return wa}function Aa(R,wa,Ua,q,P,ia,xa,t,F){const ha=Cf.call(arguments);if(Hf[ha])return Hf[ha];var l=xa*Wd;const y=Math.sin(l);l=Math.cos(l);Ua=Math.abs(Ua);q=Math.abs(q);var ca=l*(t-R)*.5+y*(F-wa)*.5,pa=l*(F-wa)*.5-y*(t-R)*.5;ca=ca*ca/(Ua*Ua)+pa*pa/(q*q);1<ca&&(ca=Math.sqrt(ca),Ua*=ca,q*=ca);var Va=l/Ua,$a=y/Ua,Hb=-y/q,fc=l/q;ca=Va*t+$a*F;pa=Hb*t+fc*F;Va=Va*R+$a*wa;$a=Hb*
R+fc*wa;Hb=1/((Va-ca)*(Va-ca)+($a-pa)*($a-pa))-.25;0>Hb&&(Hb=0);fc=Math.sqrt(Hb);ia==P&&(fc=-fc);Hb=.5*(ca+Va)-fc*($a-pa);fc=.5*(pa+$a)+fc*(Va-ca);ca=Math.atan2(pa-fc,ca-Hb);pa=Math.atan2($a-fc,Va-Hb)-ca;0>pa&&1===ia?pa+=lf:0<pa&&0===ia&&(pa-=lf);Va=Math.ceil(Math.abs(pa/(jf+.001)));$a=[];for(let Sb=0;Sb<Va;++Sb)$a[Sb]=[Hb,fc,ca+Sb*pa/Va,ca+(Sb+1)*pa/Va,Ua,q,y,l];return Hf[ha]=$a}function W(R,wa,Ua,q,P,ia){var xa=null,t=0,F=0,ha=0,l=0,y=0,ca=0;null==Ua&&(Ua=0);null==q&&(q=0);null==P&&(P=1);null==
ia&&(ia=P);R.beginPath&&R.beginPath();for(var pa=0,Va=wa.length;pa<Va;++pa){var $a=wa[pa];if(1!==P||1!==ia){var Hb=P;var fc=ia;var Sb=Jf[0]=$a[0];if("a"===Sb||"A"===Sb)Jf[1]=Hb*$a[1],Jf[2]=fc*$a[2],Jf[3]=$a[3],Jf[4]=$a[4],Jf[5]=$a[5],Jf[6]=Hb*$a[6],Jf[7]=fc*$a[7];else if("h"===Sb||"H"===Sb)Jf[1]=Hb*$a[1];else if("v"===Sb||"V"===Sb)Jf[1]=fc*$a[1];else{Sb=1;for(var Bd=$a.length;Sb<Bd;++Sb)Jf[Sb]=(1==Sb%2?Hb:fc)*$a[Sb]}$a=Jf}switch($a[0]){case "l":t+=$a[1];F+=$a[2];R.lineTo(t+Ua,F+q);break;case "L":t=
$a[1];F=$a[2];R.lineTo(t+Ua,F+q);break;case "h":t+=$a[1];R.lineTo(t+Ua,F+q);break;case "H":t=$a[1];R.lineTo(t+Ua,F+q);break;case "v":F+=$a[1];R.lineTo(t+Ua,F+q);break;case "V":F=$a[1];R.lineTo(t+Ua,F+q);break;case "m":t+=$a[1];F+=$a[2];y=t;ca=F;R.moveTo(t+Ua,F+q);break;case "M":t=$a[1];F=$a[2];y=t;ca=F;R.moveTo(t+Ua,F+q);break;case "c":Hb=t+$a[5];fc=F+$a[6];ha=t+$a[3];l=F+$a[4];R.bezierCurveTo(t+$a[1]+Ua,F+$a[2]+q,ha+Ua,l+q,Hb+Ua,fc+q);t=Hb;F=fc;break;case "C":t=$a[5];F=$a[6];ha=$a[3];l=$a[4];R.bezierCurveTo($a[1]+
Ua,$a[2]+q,ha+Ua,l+q,t+Ua,F+q);break;case "s":Hb=t+$a[3];fc=F+$a[4];ha=2*t-ha;l=2*F-l;R.bezierCurveTo(ha+Ua,l+q,t+$a[1]+Ua,F+$a[2]+q,Hb+Ua,fc+q);ha=t+$a[1];l=F+$a[2];t=Hb;F=fc;break;case "S":Hb=$a[3];fc=$a[4];ha=2*t-ha;l=2*F-l;R.bezierCurveTo(ha+Ua,l+q,$a[1]+Ua,$a[2]+q,Hb+Ua,fc+q);t=Hb;F=fc;ha=$a[1];l=$a[2];break;case "q":Hb=t+$a[3];fc=F+$a[4];ha=t+$a[1];l=F+$a[2];R.quadraticCurveTo(ha+Ua,l+q,Hb+Ua,fc+q);t=Hb;F=fc;break;case "Q":Hb=$a[3];fc=$a[4];R.quadraticCurveTo($a[1]+Ua,$a[2]+q,Hb+Ua,fc+q);t=
Hb;F=fc;ha=$a[1];l=$a[2];break;case "t":Hb=t+$a[1];fc=F+$a[2];null===xa[0].match(/[QqTt]/)?(ha=t,l=F):"t"===xa[0]?(ha=2*t-Zc,l=2*F-Id):"q"===xa[0]&&(ha=2*t-ha,l=2*F-l);var Zc=ha;var Id=l;R.quadraticCurveTo(ha+Ua,l+q,Hb+Ua,fc+q);t=Hb;F=fc;ha=t+$a[1];l=F+$a[2];break;case "T":Hb=$a[1];fc=$a[2];ha=2*t-ha;l=2*F-l;R.quadraticCurveTo(ha+Ua,l+q,Hb+Ua,fc+q);t=Hb;F=fc;break;case "a":u(R,t+Ua,F+q,[$a[1],$a[2],$a[3],$a[4],$a[5],$a[6]+t+Ua,$a[7]+F+q]);t+=$a[6];F+=$a[7];break;case "A":u(R,t+Ua,F+q,[$a[1],$a[2],
$a[3],$a[4],$a[5],$a[6]+Ua,$a[7]+q]);t=$a[6];F=$a[7];break;case "z":case "Z":t=y,F=ca,R.closePath()}xa=$a}}function u(R,wa,Ua,q){wa=Aa(q[5],q[6],q[0],q[1],q[3],q[4],q[2],wa,Ua);for(Ua=0;Ua<wa.length;++Ua){a:{var P=wa[Ua];q=Cf.call(P);if(Bf[q]){q=Bf[q];break a}var ia=P[0],xa=P[1],t=P[2],F=P[3],ha=P[4],l=P[5],y=P[6],ca=P[7];P=ca*ha;const Va=-y*l;ha*=y;l*=ca;var pa=Math.cos(t);const $a=Math.sin(t);y=Math.cos(F);ca=Math.sin(F);t=.5*(F-t);F=Math.sin(.5*t);F=8/3*F*F/Math.sin(t);t=ia+pa-F*$a;pa=xa+$a+F*
pa;ia+=y;xa+=ca;ca=ia+F*ca;y=xa-F*y;q=Bf[q]=[P*t+Va*pa,ha*t+l*pa,P*ca+Va*y,ha*ca+l*y,P*ia+Va*xa,ha*ia+l*xa]}R.bezierCurveTo(q[0],q[1],q[2],q[3],q[4],q[5])}}function K(R){return g.hasOwnProperty(wg,R)?wg[R]:va(R)}function va(R){if(!g.hasOwnProperty(eg,R)){const wa=V(R);eg[R]={draw:function(Ua,q){W(Ua,wa,0,0,Math.sqrt(q)/2)}}}return eg[R]}function Ja(R){return R.x}function Za(R){return R.y}function Wa(R){return R.width}function X(R){return R.height}function Ba(R){return"function"===typeof R?R:()=>+R}
function ab(R,wa,Ua){return Math.max(wa,Math.min(R,Ua))}function Gb(){function R(l,y,ca){var pa;y=null!=y?y:+wa.call(this,l);ca=null!=ca?ca:+Ua.call(this,l);var Va=+q.call(this,l),$a=+P.call(this,l),Hb=Math.min(Va,$a)/2,fc=ab(+ia.call(this,l),0,Hb),Sb=ab(+xa.call(this,l),0,Hb),Bd=ab(+t.call(this,l),0,Hb);l=ab(+F.call(this,l),0,Hb);ha||(ha=pa=Ac());0>=fc&&0>=Sb&&0>=Bd&&0>=l?ha.rect(y,ca,Va,$a):(Va=y+Va,$a=ca+$a,ha.moveTo(y+fc,ca),ha.lineTo(Va-Sb,ca),ha.bezierCurveTo(Va-.448084975506*Sb,ca,Va,ca+.448084975506*
Sb,Va,ca+Sb),ha.lineTo(Va,$a-l),ha.bezierCurveTo(Va,$a-.448084975506*l,Va-.448084975506*l,$a,Va-l,$a),ha.lineTo(y+Bd,$a),ha.bezierCurveTo(y+.448084975506*Bd,$a,y,$a-.448084975506*Bd,y,$a-Bd),ha.lineTo(y,ca+fc),ha.bezierCurveTo(y,ca+.448084975506*fc,y+.448084975506*fc,ca,y+fc,ca),ha.closePath());if(pa)return ha=null,pa+""||null}var wa=Ja,Ua=Za,q=Wa,P=X,ia=Ba(0),xa=ia,t=ia,F=ia,ha=null;R.x=function(l){return arguments.length?(wa=Ba(l),R):wa};R.y=function(l){return arguments.length?(Ua=Ba(l),R):Ua};
R.width=function(l){return arguments.length?(q=Ba(l),R):q};R.height=function(l){return arguments.length?(P=Ba(l),R):P};R.cornerRadius=function(l,y,ca,pa){return arguments.length?(ia=Ba(l),xa=null!=y?Ba(y):ia,F=null!=ca?Ba(ca):ia,t=null!=pa?Ba(pa):xa,R):ia};R.context=function(l){return arguments.length?(ha=null==l?null:l,R):ha};return R}function tc(){function R(l){var y,ca=l.length,pa,Va=!1,$a;null==ia&&(ia=$a=Ac());for(y=0;y<=ca;++y)if(!(y<ca&&P(pa=l[y],y,l))===Va&&(Va=!Va)&&(xa=0),Va){var Hb=+wa(pa,
y,l),fc=+Ua(pa,y,l);const Re=+q(pa,y,l)/2;if(xa){var Sb=F-fc,Bd=Hb-t;if(Sb||Bd){var Zc=Math.sqrt(Sb*Sb+Bd*Bd),Id=(Sb/=Zc)*ha;Zc=(Bd/=Zc)*ha;var te=Math.atan2(Bd,Sb);ia.moveTo(t-Id,F-Zc);ia.lineTo(Hb-Sb*Re,fc-Bd*Re);ia.arc(Hb,fc,Re,te-Math.PI,te);ia.lineTo(t+Id,F+Zc);ia.arc(t,F,ha,te,te+Math.PI)}else ia.arc(Hb,fc,Re,0,lf);ia.closePath()}else xa=1;t=Hb;F=fc;ha=Re}if($a)return ia=null,$a+""||null}var wa,Ua,q,P,ia=null,xa,t,F,ha;R.x=function(l){return arguments.length?(wa=l,R):wa};R.y=function(l){return arguments.length?
(Ua=l,R):Ua};R.size=function(l){return arguments.length?(q=l,R):q};R.defined=function(l){return arguments.length?(P=l,R):P};R.context=function(l){return arguments.length?(ia=null==l?null:l,R):ia};return R}function wc(R,wa){return null!=R?R:wa}function vc(R){return R.cornerRadius||R.cornerRadiusTopLeft||R.cornerRadiusTopRight||R.cornerRadiusBottomRight||R.cornerRadiusBottomLeft}function Ec(R,wa,Ua,q){return qa.context(R)(wa,Ua,q)}function zc(R,wa,Ua){var q=wa.clip;R=R._defs;wa=wa.clip_id||(wa.clip_id=
"clip"+hd++);R=R.clipping[wa]||(R.clipping[wa]={id:wa});g.isFunction(q)?R.path=q(null):vc(Ua)?R.path=Ec(null,Ua,0,0):(R.width=Ua.width||0,R.height=Ua.height||0);return"url(#"+wa+")"}function Rc(R){this.clear();R&&this.union(R)}function Sd(R){this.mark=R;this.bounds=this.bounds||new Rc}function Ia(R){Sd.call(this,R);this.items=this.items||[]}function Wb(R){this._pending=0;this._loader=R||ib.loader()}function kb(R,wa,Ua){if(wa.stroke&&0!==wa.opacity&&0!==wa.strokeOpacity){const q=null!=wa.strokeWidth?
+wa.strokeWidth:1;R.expand(q+(Ua?wa.strokeJoin&&"miter"!==wa.strokeJoin?0:q:0))}return R}function bc(R,wa){oe=R;wa?(Ef=wa*Wd,Qe=$f=Math.cos(Ef),Zf=Math.sin(Ef),Rf=-Zf):(Qe=$f=1,Ef=Zf=Rf=0);return Ee}function Yb(R,wa,Ua,q){Ua=(R-wa)/(R+Ua-2*wa);0<Ua&&1>Ua&&q(R+(wa-R)*Ua)}function hc(R,wa,Ua,q,P){const ia=q-R+3*wa-3*Ua,xa=R+Ua-2*wa;var t=R-wa;let F=0,ha=0;1E-14<Math.abs(ia)?(t=xa*xa+t*ia,0<=t&&(t=Math.sqrt(t),F=(-xa+t)/ia,ha=(-xa-t)/ia)):F=.5*t/xa;0<F&&1>F&&P(yc(F,R,wa,Ua,q));0<ha&&1>ha&&P(yc(ha,R,
wa,Ua,q))}function yc(R,wa,Ua,q,P){const ia=1-R,xa=ia*ia,t=R*R;return xa*ia*wa+3*xa*R*Ua+3*ia*t*q+t*R*P}function Gc(R){return function(wa,Ua){if(!Ie)return!0;R(Ie,wa);Lf.clear().union(wa.bounds).intersect(Ua).round();const {x1:q,y1:P,x2:ia,y2:xa}=Lf;for(wa=P;wa<=xa;++wa)for(Ua=q;Ua<=ia;++Ua)if(Ie.isPointInPath(Ua,wa))return!0;return!1}}function ad(R,wa){return wa.contains(R.x||0,R.y||0)}function Nd(R,wa){const Ua=R.x||0,q=R.y||0;return wa.intersects(Lf.set(Ua,q,Ua+(R.width||0),q+(R.height||0)))}function ud(R,
wa){const Ua=R.x||0,q=R.y||0;return Fa(wa,Ua,q,null!=R.x2?R.x2:Ua,null!=R.y2?R.y2:q)}function Fa(R,wa,Ua,q,P){const {x1:ia,y1:xa,x2:t,y2:F}=R;R=q-wa;P-=Ua;q=0;let ha=1,l,y,ca,pa;for(pa=0;4>pa;++pa){0===pa&&(l=-R,y=-(ia-wa));1===pa&&(l=R,y=t-wa);2===pa&&(l=-P,y=-(xa-Ua));3===pa&&(l=P,y=F-Ua);if(1E-10>Math.abs(l)&&0>y)return!1;ca=y/l;if(0>l){if(ca>ha)return!1;ca>q&&(q=ca)}else if(0<l){if(ca<q)return!1;ca<ha&&(ha=ca)}}return!0}function hb(R,wa){R.globalCompositeOperation=wa.blend||"source-over"}function ub(R,
wa){return null==R?wa:R}function la(R,wa){const Ua=wa.length;for(let q=0;q<Ua;++q)R.addColorStop(wa[q].offset,wa[q].color);return R}function H(R,wa,Ua){const q=Ua.width(),P=Ua.height();if("radial"===wa.gradient)R=R.createRadialGradient(Ua.x1+ub(wa.x1,.5)*q,Ua.y1+ub(wa.y1,.5)*P,Math.max(q,P)*ub(wa.r1,0),Ua.x1+ub(wa.x2,.5)*q,Ua.y1+ub(wa.y2,.5)*P,Math.max(q,P)*ub(wa.r2,.5));else{const ia=ub(wa.x1,0),xa=ub(wa.y1,0),t=ub(wa.x2,1),F=ub(wa.y2,0);if(ia===t||xa===F||q===P)R=R.createLinearGradient(Ua.x1+ia*
q,Ua.y1+xa*P,Ua.x1+t*q,Ua.y1+F*P);else{Ua=ra.canvas(Math.ceil(q),Math.ceil(P));const ha=Ua.getContext("2d");ha.scale(q,P);ha.fillStyle=la(ha.createLinearGradient(ia,xa,t,F),wa.stops);ha.fillRect(0,0,q,P);return R.createPattern(Ua,"no-repeat")}}return la(R,wa.stops)}function ya(R,wa,Ua){Ua*=null==wa.fillOpacity?1:wa.fillOpacity;return 0<Ua?(R.globalAlpha=Ua,wa=(Ua=wa.fill)&&Ua.gradient?H(R,Ua,wa.bounds):Ua,R.fillStyle=wa,!0):!1}function Ka(R,wa,Ua){var q=null!=(q=wa.strokeWidth)?q:1;if(0>=q)return!1;
Ua*=null==wa.strokeOpacity?1:wa.strokeOpacity;return 0<Ua?(R.globalAlpha=Ua,Ua=(Ua=wa.stroke)&&Ua.gradient?H(R,Ua,wa.bounds):Ua,R.strokeStyle=Ua,R.lineWidth=q,R.lineCap=wa.strokeCap||"butt",R.lineJoin=wa.strokeJoin||"miter",R.miterLimit=wa.strokeMiterLimit||10,R.setLineDash&&(R.setLineDash(wa.strokeDash||gf),R.lineDashOffset=wa.strokeDashOffset||0),!0):!1}function bb(R,wa){return R.zindex-wa.zindex||R.index-wa.index}function jb(R){if(!R.zdirty)return R.zitems;var wa=R.items,Ua=[],q;var P=0;for(q=
wa.length;P<q;++P){var ia=wa[P];ia.index=P;ia.zindex&&Ua.push(ia)}R.zdirty=!1;return R.zitems=Ua.sort(bb)}function Eb(R,wa){var Ua=R.items,q;if(Ua&&Ua.length){var P=jb(R);if(P&&P.length){R=0;for(q=Ua.length;R<q;++R)Ua[R].zindex||wa(Ua[R]);Ua=P}R=0;for(q=Ua.length;R<q;++R)wa(Ua[R])}}function mc(R,wa){var Ua=R.items,q,P;if(!Ua||!Ua.length)return null;const ia=jb(R);ia&&ia.length&&(Ua=ia);for(P=Ua.length;0<=--P;)if(q=wa(Ua[P]))return q;if(Ua===ia)for(Ua=R.items,P=Ua.length;0<=--P;)if(!Ua[P].zindex&&
(q=wa(Ua[P])))return q;return null}function cc(R){return function(wa,Ua,q){Eb(Ua,P=>{q&&!q.intersects(P.bounds)||Sc(R,wa,P,P)})}}function gc(R){return function(wa,Ua,q){!Ua.items.length||q&&!q.intersects(Ua.bounds)||Sc(R,wa,Ua.items[0],Ua.items)}}function Sc(R,wa,Ua,q){var P=null==Ua.opacity?1:Ua.opacity;0===P||R(wa,q)||(hb(wa,Ua),Ua.fill&&ya(wa,Ua,P)&&wa.fill(),Ua.stroke&&Ka(wa,Ua,P)&&wa.stroke())}function ed(R){R=R||g.truthy;return function(wa,Ua,q,P,ia,xa){q*=wa.pixelRatio;P*=wa.pixelRatio;return mc(Ua,
t=>{const F=t.bounds;if((!F||F.contains(ia,xa))&&F&&R(wa,t,q,P,ia,xa))return t})}}function fd(R,wa){return function(Ua,q,P,ia){var xa=Array.isArray(q)?q[0]:q,t=null==wa?xa.fill:wa,F=xa.stroke&&Ua.isPointInStroke;if(F){var ha=xa.strokeWidth;xa=xa.strokeCap;Ua.lineWidth=null!=ha?ha:1;Ua.lineCap=null!=xa?xa:"butt"}return R(Ua,q)?!1:t&&Ua.isPointInPath(P,ia)||F&&Ua.isPointInStroke(P,ia)}}function Rd(R,wa){return"translate("+R+","+wa+")"}function Td(R,wa,Ua){function q(P,ia){var xa=ia.x||0,t=ia.y||0,F=
ia.angle||0;P.translate(xa,t);F&&P.rotate(F*=Wd);P.beginPath();wa(P,ia);F&&P.rotate(-F);P.translate(-xa,-t)}return{type:R,tag:"path",nested:!1,attr:function(P,ia){var xa=Rd(ia.x||0,ia.y||0)+(ia.angle?" rotate("+(ia.angle+")"):"");P("transform",xa);P("d",wa(null,ia))},bound:function(P,ia){wa(bc(P,ia.angle),ia);return kb(P,ia).translate(ia.x||0,ia.y||0)},draw:cc(q),pick:ed(fd(q)),isect:Ua||Gc(q)}}function Cd(R,wa,Ua){function q(ia,xa){ia.beginPath();wa(ia,xa)}const P=fd(q);return{type:R,tag:"path",
nested:!0,attr:function(ia,xa){xa=xa.mark.items;xa.length&&ia("d",wa(null,xa))},bound:function(ia,xa){xa=xa.items;if(0===xa.length)return ia;wa(bc(ia),xa);return kb(ia,xa[0])},draw:gc(q),pick:function(ia,xa,t,F,ha,l){var y=xa.items;xa=xa.bounds;if(!y||!y.length||xa&&!xa.contains(ha,l))return null;t*=ia.pixelRatio;F*=ia.pixelRatio;return P(ia,y,t,F)?y[0]:null},isect:ad,tip:Ua}}function be(R,wa){R.beginPath();vc(wa)?Ec(R,wa,0,0):R.rect(0,0,wa.width||0,wa.height||0);R.clip()}function ce(R){const wa=
ub(R.strokeWidth,1);return null!=R.strokeOffset?R.strokeOffset:R.stroke&&.5<wa&&1.5>wa?.5-Math.abs(wa-1):0}function Vd(R,wa,Ua,q){const P=ce(wa);R.beginPath();Ec(R,wa,(Ua||0)+P,(q||0)+P)}function Te(R,wa){var Ua=R.image;if(!Ua||R.url&&R.url!==Ua.url)Ua={complete:!1,width:0,height:0},wa.loadImage(R.url).then(q=>{R.image=q;R.image.url=R.url});return Ua}function $d(R,wa){return null!=R.width?R.width:wa&&wa.width?!1!==R.aspect&&R.height?R.height*wa.width/wa.height:wa.width:0}function M(R,wa){return null!=
R.height?R.height:wa&&wa.height?!1!==R.aspect&&R.width?R.width*wa.height/wa.width:wa.height:0}function Z(R,wa){return"center"===R?wa/2:"right"===R?wa:0}function La(R,wa){return"middle"===R?wa/2:"bottom"===R?wa:0}function gb(R,wa){var Ua=wa.path;if(null==Ua)return!0;var q=wa.x||0,P=wa.y||0,ia=wa.scaleX||1,xa=wa.scaleY||1,t=(wa.angle||0)*Wd,F=wa.pathCache;F&&F.path===Ua||((wa.pathCache=F=V(Ua)).path=Ua);t&&R.rotate&&R.translate?(R.translate(q,P),R.rotate(t),W(R,F,0,0,ia,xa),R.rotate(-t),R.translate(-q,
-P)):W(R,F,q,P,ia,xa)}function Jb(R,wa){R.beginPath();Ec(R,wa)}function Tb(R,wa,Ua){if(wa.stroke&&Ka(R,wa,Ua)){Ua=wa.x||0;var q=wa.y||0;var P=null!=wa.x2?wa.x2:Ua;wa=null!=wa.y2?wa.y2:q;R.beginPath();R.moveTo(Ua,q);R.lineTo(P,wa);return!0}return!1}function Bc(R){Eh.width=R&&Ie?Jc:ic}function ic(R,wa){wa=Fd(R,wa);R=Oc(R);return~~(.8*wa.length*R)}function Jc(R,wa){return 0>=Oc(R)||!(wa=Fd(R,wa))?0:dd(wa,se(R))}function dd(R,wa){const Ua=`(${wa}) ${R}`;let q=Dh.get(Ua);void 0===q&&(Ie.font=wa,q=Ie.measureText(R).width,
Dh.set(Ua,q));return q}function Oc(R){return null!=R.fontSize?+R.fontSize||0:11}function vd(R){return null!=R.lineHeight?R.lineHeight:Oc(R)+2}function Jd(R){R=R.lineBreak&&R.text&&!g.isArray(R.text)?R.text.split(R.lineBreak):R.text;return g.isArray(R)?1<R.length?R:R[0]:R}function Fd(R,wa){wa=null==wa?"":(wa+"").trim();if(0<R.limit&&wa.length){var Ua=+R.limit,q=Zd(R);if(!(q(wa)<Ua)){var P=R.ellipsis||"…",ia="rtl"===R.dir;R=0;var xa=wa.length;Ua-=q(P);if(ia){for(;R<xa;)ia=R+xa>>>1,q(wa.slice(ia))>Ua?
R=ia+1:xa=ia;wa=P+wa.slice(R)}else{for(;R<xa;)ia=1+(R+xa>>>1),q(wa.slice(0,ia))<Ua?R=ia:xa=ia-1;wa=wa.slice(0,R)+P}}}return wa}function Zd(R){if(Eh.width===Jc){const Ua=se(R);return q=>dd(q,Ua)}const wa=Oc(R);return Ua=>~~(.8*Ua.length*wa)}function Md(R,wa){R=R.font;return(wa&&R?String(R).replace(/"/g,"'"):R)||"sans-serif"}function se(R,wa){return(R.fontStyle?R.fontStyle+" ":"")+(R.fontVariant?R.fontVariant+" ":"")+(R.fontWeight?R.fontWeight+" ":"")+Oc(R)+"px "+Md(R,wa)}function Ae(R){var wa=R.baseline,
Ua=Oc(R);return Math.round("top"===wa?.79*Ua:"middle"===wa?.3*Ua:"bottom"===wa?-.21*Ua:"line-top"===wa?.29*Ua+.5*vd(R):"line-bottom"===wa?.29*Ua-.5*vd(R):0)}function hf(R){var wa=R.x||0,Ua=R.y||0,q=R.radius||0;q&&(R=(R.theta||0)-jf,wa+=q*Math.cos(R),Ua+=q*Math.sin(R));Wg.x1=wa;Wg.y1=Ua;return Wg}function cf(R,wa,Ua){var q=Eh.height(wa),P=wa.align,ia=hf(wa),xa=ia.x1;ia=ia.y1;var t=wa.dx||0,F=(wa.dy||0)+Ae(wa)-Math.round(.8*q),ha=Jd(wa);g.isArray(ha)?(q+=vd(wa)*(ha.length-1),ha=ha.reduce((l,y)=>Math.max(l,
Eh.width(wa,y)),0)):ha=Eh.width(wa,ha);"center"===P?t-=ha/2:"right"===P&&(t-=ha);R.set(t+=xa,F+=ia,t+ha,F+q);if(wa.angle&&!Ua)R.rotate(wa.angle*Wd,xa,ia);else if(2===Ua)return R.rotatedPoints(wa.angle*Wd,xa,ia);return R}function df(R,wa,Ua){var q=Ag[R.mark.marktype];wa=wa||q.bound;q.nested&&(R=R.mark);return wa(R.bounds||(R.bounds=new Rc),R,Ua)}function re(R,wa,Ua){var q=Ag[R.marktype],P=q.bound,ia=R.items,xa=ia&&ia.length;if(q.nested)return xa?R=ia[0]:(Fh.mark=R,R=Fh),Ua=df(R,P,Ua),wa=wa&&wa.union(Ua)||
Ua;wa=wa||R.bounds&&R.bounds.clear()||new Rc;if(xa)for(q=0,xa=ia.length;q<xa;++q)wa.union(df(ia[q],P,Ua));return R.bounds=wa}function nf(R,wa){return JSON.stringify(R,Wh,wa)}function T(R){R="string"===typeof R?JSON.parse(R):R;return ta(R)}function ta(R){var wa=R.marktype,Ua=R.items,q;if(Ua){var P=0;for(q=Ua.length;P<q;++P){var ia=wa?"mark":"group";Ua[P][ia]=R;Ua[P].zindex&&(Ua[P][ia].zdirty=!0);"group"===(wa||ia)&&ta(Ua[P])}}wa&&re(R);return R}function eb(R){arguments.length?this.root=T(R):(this.root=
zb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ia(this.root)])}function zb(R,wa){wa={bounds:new Rc,clip:!!R.clip,group:wa,interactive:!1===R.interactive?!1:!0,items:[],marktype:R.marktype,name:R.name||void 0,role:R.role||void 0,zindex:R.zindex||0};null!=R.aria&&(wa.aria=R.aria);R.description&&(wa.description=R.description);return wa}function Xb(R,wa,Ua){!R&&"undefined"!==typeof document&&document.createElement&&(R=document);return R?Ua?R.createElementNS(Ua,wa):R.createElement(wa):
null}function Cc(R,wa){wa=wa.toLowerCase();R=R.childNodes;for(var Ua=0,q=R.length;Ua<q;++Ua)if(R[Ua].tagName.toLowerCase()===wa)return R[Ua]}function Ub(R,wa,Ua,q){wa=R.childNodes[wa];if(!wa||wa.tagName.toLowerCase()!==Ua.toLowerCase()){var P=wa||null;wa=Xb(R.ownerDocument,Ua,q);R.insertBefore(wa,P)}return wa}function I(R,wa){for(var Ua=R.childNodes,q=Ua.length;q>wa;)R.removeChild(Ua[--q]);return R}function ea(R){return"mark-"+R.marktype+(R.role?" role-"+R.role:"")+(R.name?" "+R.name:"")}function Ta(R,
wa){const Ua=wa.getBoundingClientRect();return[R.clientX-Ua.left-(wa.clientLeft||0),R.clientY-Ua.top-(wa.clientTop||0)]}function $b(R,wa){this._active=null;this._handlers={};this._loader=R||ib.loader();this._tooltip=wa||Pc}function Pc(R,wa,Ua,q){R.element().setAttribute("title",q||"")}function xc(R){this._bgcolor=this._el=null;this._loader=new Wb(R)}function Tc(R,wa){$b.call(this,R,wa);this._touch=this._down=null;this._first=!0;this._events={}}function md(R,wa){("touchstart"===wa||"touchmove"===wa||
"touchend"===wa?["touchstart","touchmove","touchend"]:[wa]).forEach(Ua=>de(R,Ua))}function de(R,wa){const Ua=R.canvas();Ua&&!R._events[wa]&&(R._events[wa]=1,Ua.addEventListener(wa,R[wa]?q=>R[wa](q):q=>R.fire(wa,q)))}function Sa(R,wa,Ua){return function(q){const P=this._active,ia=this.pickEvent(q);ia!==P&&(P&&P.exit||this.fire(Ua,q),this._active=ia,this.fire(wa,q));this.fire(R,q)}}function fb(R){return function(wa){this.fire(R,wa);this._active=null}}function qc(R){xc.call(this,R);this._options={};
this._redraw=!1;this._dirty=new Rc;this._tempb=new Rc}function pd(R,wa){$b.call(this,R,wa);const Ua=this;Ua._hrefHandler=nh(Ua,(q,P)=>{P&&P.href&&Ua.handleHref(q,P,P.href)});Ua._tooltipHandler=nh(Ua,(q,P)=>{Ua.handleTooltip(q,P,"mouseout"!==q.type)})}function Kc(R,wa){var Ua=!1===wa.aria;R("aria-hidden",Ua||void 0);if(Ua||null==wa.description)for(const q in wh)R(wh[q],void 0);else Ua=wa.mark.marktype,R("aria-label",wa.description),R("role",wa.ariaRole||("group"===Ua?"graphics-object":"graphics-symbol")),
R("aria-roledescription",wa.ariaRoleDescription||`${Ua} mark`)}function Xc(R){return!1===R.aria?{["aria-hidden"]:!0}:yg[R.role]?null:Oh[R.role]?qd(R,Oh[R.role]):Qc(R)}function Qc(R){const wa=R.marktype,Ua="group"===wa||"text"===wa||R.items.some(q=>null!=q.description&&!1!==q.aria);return Gh(Ua?"graphics-object":"graphics-symbol",`${wa} mark container`,R.description)}function qd(R,wa){try{const Ua=R.items[0],q=wa.caption||(()=>"");return Gh(wa.role||"graphics-symbol",wa.desc,Ua.description||q(Ua))}catch(Ua){return null}}
function jd(R){try{return g.array(g.peek(R.items).items[0].text).join(" ")}catch(wa){return null}}function Qd(R){R=R.map(wa=>wa+("fill"===wa||"stroke"===wa?" color":""));return 2>R.length?R[0]:R.slice(0,-1).join(", ")+" and "+g.peek(R)}function Ad(){let R="",wa="",Ua="";const q=[],P=(xa,t)=>{null!=t&&(wa+=` ${xa}="${ph(t).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return ia},ia={open(xa,...t){wa&&(R+=`${wa}>${Ua}`,wa=Ua="");q.push(xa);
wa="\x3c"+xa;for(const F of t)for(const ha in F)P(ha,F[ha]);return ia},close(){const xa=q.pop();R=wa?R+(wa+(Ua?`>${Ua}</${xa}>`:"/\x3e")):R+`</${xa}>`;wa=Ua="";return ia},attr:P,text:xa=>(Ua+=ph(xa),ia),toString:()=>R};return ia}function Xd(R,wa){R.open(wa.tagName);if(wa.hasAttributes()){const Ua=wa.attributes,q=Ua.length;for(let P=0;P<q;++P)R.attr(Ua[P].name,Ua[P].value)}if(wa.hasChildNodes()){wa=wa.childNodes;for(const Ua of wa)3===Ua.nodeType?R.text(Ua.nodeValue):Xd(R,Ua)}return R.close()}function ye(R){xc.call(this,
R);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Oe(R,wa){for(;R&&R.dirty!==wa;R=R.mark.group)if(R.dirty=wa,R.mark&&R.mark.dirty!==wa)R.mark.dirty=wa;else break}function Ge(R,wa,Ua){wa=wa.lastChild.previousSibling;let q,P=0;Eb(Ua,ia=>{q=R.mark(wa,ia,q);++P});I(wa,1+P)}function tf(R,wa,Ua,q,P){let ia=R._svg;if(!ia){var xa=wa.ownerDocument;ia=Xb(xa,q,If);R._svg=ia;R.mark&&(ia.__data__=R,ia.__values__={fill:"default"},"g"===q&&(q=Xb(xa,"path",If),ia.appendChild(q),q.__data__=
R,q=Xb(xa,"g",If),ia.appendChild(q),q.__data__=R,xa=Xb(xa,"path",If),ia.appendChild(xa),xa.__data__=R,xa.__values__={fill:"default"}))}(ia.ownerSVGElement!==P||ia.parentNode&&1<ia.parentNode.childNodes.length&&ia.previousSibling!=Ua)&&wa.insertBefore(ia,Ua?Ua.nextSibling:wa.firstChild);return ia}function ld(R,wa,Ua){if(wa!==yf[R]){if(Ua){var q=Rg;null!=wa?q.setAttributeNS(Ua,R,wa):q.removeAttributeNS(Ua,R)}else Dc(Rg,R,wa);yf[R]=wa}}function Fc(R,wa,Ua){Ua!==yf[wa]&&(null==Ua?R.style.removeProperty(wa):
R.style.setProperty(wa,Ua+""),yf[wa]=Ua)}function id(R,wa){for(const Ua in wa)Dc(R,Ua,wa[Ua])}function Dc(R,wa,Ua){null!=Ua?R.setAttribute(wa,Ua):R.removeAttribute(wa)}function Gd(){let R;return"undefined"===typeof window?"":(R=window.location).hash?R.href.slice(0,-R.hash.length):R.href}function ae(R){xc.call(this,R);this._text=null;this._defs={gradient:{},clipping:{}}}function Yd(R,wa,Ua,q,P){let ia;if(null==wa)return R;"bgrect"===q&&!1===Ua.interactive&&(R["pointer-events"]="none");if("bgfore"===
q&&(!1===Ua.interactive&&(R["pointer-events"]="none"),R.display="none",null!==wa.fill))return R;"image"===q&&!1===wa.smooth&&(ia=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===q&&(R["font-family"]=Md(wa),R["font-size"]=Oc(wa)+"px",R["font-style"]=wa.fontStyle,R["font-variant"]=wa.fontVariant,R["font-weight"]=wa.fontWeight);for(const xa in ci)Ua=wa[xa],q=ci[xa],("transparent"!==Ua||"fill"!==q&&"stroke"!==q)&&null!=Ua&&(Ua&&Ua.gradient&&(Ua=Zb(Ua,P.gradient,"")),R[q]=Ua);
for(const xa in kh)P=wa[xa],null!=P&&(ia=ia||[],ia.push(`${kh[xa]}: ${P};`));ia&&(R.style=ia.join(" "));return R}function le(R,wa,Ua,q){if(R.bounds&&wa.intersects(R.bounds)&&("group"===R.marktype||!1!==R.interactive&&(!Ua||Ua(R)))){const ia=R.items;var P=R.marktype;R=ia.length;let xa=0;if("group"===P)for(;xa<R;++xa)N(ia[xa],wa,Ua,q);else for(Ua=Ag[P].isect;xa<R;++xa)P=ia[xa],da(P,wa,Ua)&&q.push(P)}return q}function N(R,wa,Ua,q){Ua&&Ua(R.mark)&&da(R,wa,Ag.group.isect)&&q.push(R);const P=R.items,ia=
P&&P.length;if(ia){const xa=R.x||0;R=R.y||0;wa.translate(-xa,-R);for(let t=0;t<ia;++t)le(P[t],wa,Ua,q);wa.translate(xa,R)}return q}function da(R,wa,Ua){const q=R.bounds;return wa.encloses(q)||wa.intersects(q)&&Ua(R,wa)}function G(R,wa,Ua){return R===wa?!0:"path"===Ua?ka(R,wa):R instanceof Date&&wa instanceof Date?+R===+wa:g.isNumber(R)&&g.isNumber(wa)?1E-9>=Math.abs(R-wa):R&&wa&&(g.isObject(R)||g.isObject(wa))?sa(R,wa):R==wa}function ka(R,wa){return G(V(R),V(wa))}function sa(R,wa){var Ua=Object.keys(R),
q=Object.keys(wa),P;if(Ua.length!==q.length)return!1;Ua.sort();q.sort();for(P=Ua.length-1;0<=P;P--)if(Ua[P]!=q[P])return!1;for(P=Ua.length-1;0<=P;P--)if(q=Ua[P],!G(R[q],wa[q],q))return!1;return typeof R===typeof wa}let Ha=0;const Pa=Math.PI,dc=2*Pa,lc=dc-1E-6;kc.prototype=Ac.prototype={constructor:kc,moveTo:function(R,wa){this._+="M"+(this._x0=this._x1=+R)+","+(this._y0=this._y1=+wa)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(R,wa){this._+=
"L"+(this._x1=+R)+","+(this._y1=+wa)},quadraticCurveTo:function(R,wa,Ua,q){this._+="Q"+ +R+","+ +wa+","+(this._x1=+Ua)+","+(this._y1=+q)},bezierCurveTo:function(R,wa,Ua,q,P,ia){this._+="C"+ +R+","+ +wa+","+ +Ua+","+ +q+","+(this._x1=+P)+","+(this._y1=+ia)},arcTo:function(R,wa,Ua,q,P){R=+R;wa=+wa;Ua=+Ua;q=+q;P=+P;var ia=this._x1,xa=this._y1,t=Ua-R,F=q-wa,ha=ia-R,l=xa-wa,y=ha*ha+l*l;if(0>P)throw Error("negative radius: "+P);if(null===this._x1)this._+="M"+(this._x1=R)+","+(this._y1=wa);else if(1E-6<
y)if(1E-6<Math.abs(l*t-F*ha)&&P){Ua-=ia;q-=xa;var ca=t*t+F*F;xa=Math.sqrt(ca);ia=Math.sqrt(y);y=P*Math.tan((Pa-Math.acos((ca+y-(Ua*Ua+q*q))/(2*xa*ia)))/2);ia=y/ia;y/=xa;1E-6<Math.abs(ia-1)&&(this._+="L"+(R+ia*ha)+","+(wa+ia*l));this._+="A"+P+","+P+",0,0,"+ +(l*Ua>ha*q)+","+(this._x1=R+y*t)+","+(this._y1=wa+y*F)}else this._+="L"+(this._x1=R)+","+(this._y1=wa)},arc:function(R,wa,Ua,q,P,ia){R=+R;wa=+wa;Ua=+Ua;ia=!!ia;var xa=Ua*Math.cos(q),t=Ua*Math.sin(q),F=R+xa,ha=wa+t,l=1^ia;q=ia?q-P:P-q;if(0>Ua)throw Error("negative radius: "+
Ua);if(null===this._x1)this._+="M"+F+","+ha;else if(1E-6<Math.abs(this._x1-F)||1E-6<Math.abs(this._y1-ha))this._+="L"+F+","+ha;Ua&&(0>q&&(q=q%dc+dc),q>lc?this._+="A"+Ua+","+Ua+",0,1,"+l+","+(R-xa)+","+(wa-t)+"A"+Ua+","+Ua+",0,1,"+l+","+(this._x1=F)+","+(this._y1=ha):1E-6<q&&(this._+="A"+Ua+","+Ua+",0,"+ +(q>=Pa)+","+l+","+(this._x1=R+Ua*Math.cos(P))+","+(this._y1=wa+Ua*Math.sin(P))))},rect:function(R,wa,Ua,q){this._+="M"+(this._x0=this._x1=+R)+","+(this._y0=this._y1=+wa)+"h"+ +Ua+"v"+ +q+"h"+-Ua+
"Z"},toString:function(){return this._}};const rc=Math.abs,sc=Math.atan2,Ic=Math.cos,$c=Math.max,Uc=Math.min,bd=Math.sin,yd=Math.sqrt,Dd=Math.PI,Od=Dd/2,He=2*Dd;Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,wa){R=+R;wa=+wa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,
wa):this._context.moveTo(R,wa);break;case 1:this._point=2;default:this._context.lineTo(R,wa)}}};var td={draw(R,wa){wa=yd(wa/Dd);R.moveTo(wa,0);R.arc(0,0,wa,0,He)}};vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Na(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(R,wa){R=+R;wa=+wa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,wa):this._context.moveTo(R,wa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Na(this,R,wa)}this._x0=this._x1;this._x1=R;this._y0=this._y1;this._y1=wa}};pb.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=
this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(R,wa){R=+R;wa=+wa;switch(this._point){case 0:this._point=
1;this._x2=R;this._y2=wa;break;case 1:this._point=2;this._x3=R;this._y3=wa;break;case 2:this._point=3;this._x4=R;this._y4=wa;this._context.moveTo((this._x0+4*this._x1+R)/6,(this._y0+4*this._y1+wa)/6);break;default:Na(this,R,wa)}this._x0=this._x1;this._x1=R;this._y0=this._y1;this._y1=wa}};Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,wa){R=+R;wa=+wa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ua=(this._x0+4*this._x1+R)/6,q=(this._y0+4*this._y1+wa)/6;this._line?this._context.lineTo(Ua,q):this._context.moveTo(Ua,q);break;case 3:this._point=4;default:Na(this,R,wa)}this._x0=this._x1;this._x1=R;this._y0=this._y1;this._y1=wa}};Vb.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},
lineEnd:function(){var R=this._x,wa=this._y,Ua=R.length-1;if(0<Ua)for(var q=R[0],P=wa[0],ia=R[Ua]-q,xa=wa[Ua]-P,t=-1,F;++t<=Ua;)F=t/Ua,this._basis.point(this._beta*R[t]+(1-this._beta)*(q+F*ia),this._beta*wa[t]+(1-this._beta)*(P+F*xa));this._x=this._y=null;this._basis.lineEnd()},point:function(R,wa){this._x.push(+R);this._y.push(+wa)}};var ze=function Ua(wa){function q(P){return 1===wa?new vb(P):new Vb(P,wa)}q.beta=function(P){return Ua(+P)};return q}(.85);ma.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ob(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,Ua){wa=+wa;Ua=+Ua;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(wa,Ua):this._context.moveTo(wa,Ua);break;
case 1:this._point=2;this._x1=wa;this._y1=Ua;break;case 2:this._point=3;default:ob(this,wa,Ua)}this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=Ua}};var Ce=function q(Ua){function P(ia){return new ma(ia,Ua)}P.tension=function(ia){return q(+ia)};return P}(0);Y.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ua,q){Ua=+Ua;q=+q;switch(this._point){case 0:this._point=1;this._x3=Ua;this._y3=q;break;case 1:this._point=2;this._context.moveTo(this._x4=Ua,this._y4=q);break;case 2:this._point=3;this._x5=Ua;this._y5=q;break;default:ob(this,Ua,q)}this._x0=this._x1;this._x1=this._x2;
this._x2=Ua;this._y0=this._y1;this._y1=this._y2;this._y2=q}};var Hd=function P(q){function ia(xa){return new Y(xa,q)}ia.tension=function(xa){return P(+xa)};return ia}(0);Ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,P){q=+q;P=+P;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ob(this,q,P)}this._x0=this._x1;this._x1=this._x2;this._x2=q;this._y0=this._y1;this._y1=this._y2;this._y2=P}};var he=function ia(P){function xa(t){return new Ga(t,P)}xa.tension=function(t){return ia(+t)};return xa}(0);db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(P,ia){P=+P;ia=+ia;if(this._point){var xa=this._x2-P,t=this._y2-ia;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(xa*xa+t*t,
this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(P,ia):this._context.moveTo(P,ia);break;case 1:this._point=2;break;case 2:this._point=3;default:Ea(this,P,ia)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=P;this._y0=this._y1;this._y1=this._y2;this._y2=ia}};var De=function xa(ia){function t(F){return ia?new db(F,ia):new ma(F,0)}t.alpha=function(F){return xa(+F)};return t}(.5);
ba.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(ia,xa){ia=+ia;xa=+xa;if(this._point){var t=this._x2-ia,F=this._y2-xa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+F*F,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=ia;this._y3=xa;break;case 1:this._point=2;this._context.moveTo(this._x4=ia,this._y4=xa);break;case 2:this._point=3;this._x5=ia;this._y5=xa;break;default:Ea(this,ia,xa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=ia;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var mf=function t(xa){function F(ha){return xa?new ba(ha,xa):new Y(ha,0)}F.alpha=function(ha){return t(+ha)};return F}(.5);na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,t){xa=+xa;t=+t;if(this._point){var F=this._x2-xa,ha=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(F*F+ha*ha,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ea(this,xa,t)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=t}};var bf=function F(t){function ha(l){return t?new na(l,t):new Ga(l,0)}ha.alpha=function(l){return F(+l)};return ha}(.5);p.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,F){t=+t;F=+F;this._point?this._context.lineTo(t,F):(this._point=1,this._context.moveTo(t,
F))}};v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f(this,this._t0,O(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(t,F){var ha=NaN;t=+t;F=+F;if(t!==this._x1||F!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(t,F):this._context.moveTo(t,F);break;case 1:this._point=2;break;case 2:this._point=3;f(this,O(this,ha=L(this,t,F)),ha);break;default:f(this,this._t0,ha=L(this,t,F))}this._x0=this._x1;this._x1=t;this._y0=this._y1;this._y1=F;this._t0=ha}}};(m.prototype=Object.create(v.prototype)).point=function(t,F){v.prototype.point.call(this,F,t)};C.prototype={moveTo:function(t,F){this._context.moveTo(F,t)},closePath:function(){this._context.closePath()},lineTo:function(t,F){this._context.lineTo(F,
t)},bezierCurveTo:function(t,F,ha,l,y,ca){this._context.bezierCurveTo(F,t,l,ha,ca,y)}};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var t=this._x,F=this._y,ha=t.length;if(ha)if(this._line?this._context.lineTo(t[0],F[0]):this._context.moveTo(t[0],F[0]),2===ha)this._context.lineTo(t[1],F[1]);else for(var l=z(t),y=z(F),ca=0,pa=1;pa<ha;++ca,++pa)this._context.bezierCurveTo(l[0][ca],y[0][ca],l[1][ca],y[1][ca],
t[pa],F[pa]);(this._line||0!==this._line&&1===ha)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(t,F){this._x.push(+t);this._y.push(+F)}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&
(this._t=1-this._t,this._line=1-this._line)},point:function(t,F){t=+t;F=+F;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,F):this._context.moveTo(t,F);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,F),this._context.lineTo(t,F);else{var ha=this._x*(1-this._t)+t*this._t;this._context.lineTo(ha,this._y);this._context.lineTo(ha,F)}}this._x=t;this._y=F}};const ue={basis:{curve:function(t){return new vb(t)}},"basis-closed":{curve:function(t){return new pb(t)}},
"basis-open":{curve:function(t){return new Mb(t)}},bundle:{curve:ze,tension:"beta",value:.85},cardinal:{curve:Ce,tension:"tension",value:0},"cardinal-open":{curve:he,tension:"tension",value:0},"cardinal-closed":{curve:Hd,tension:"tension",value:0},"catmull-rom":{curve:De,tension:"alpha",value:.5},"catmull-rom-closed":{curve:mf,tension:"alpha",value:.5},"catmull-rom-open":{curve:bf,tension:"alpha",value:.5},linear:{curve:qb},"linear-closed":{curve:function(t){return new p(t)}},monotone:{horizontal:function(t){return new m(t)},
vertical:function(t){return new v(t)}},natural:{curve:function(t){return new B(t)}},step:{curve:function(t){return new E(t,.5)}},"step-after":{curve:function(t){return new E(t,1)}},"step-before":{curve:function(t){return new E(t,0)}}},ve={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},uf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Kf=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ff=/^((\s+,?\s*)|(,\s*))/,lg=/^[01]/,Wd=Math.PI/180,jf=Math.PI/2,lf=2*Math.PI,Ze=Math.sqrt(3)/2;var Hf={},Bf={},Cf=
[].join;const Jf=["l",0,0,0,0,0,0,0],wg={circle:{draw:function(t,F){F=Math.sqrt(F)/2;t.moveTo(F,0);t.arc(0,0,F,0,lf)}},cross:{draw:function(t,F){F=Math.sqrt(F)/2;var ha=F/2.5;t.moveTo(-F,-ha);t.lineTo(-F,ha);t.lineTo(-ha,ha);t.lineTo(-ha,F);t.lineTo(ha,F);t.lineTo(ha,ha);t.lineTo(F,ha);t.lineTo(F,-ha);t.lineTo(ha,-ha);t.lineTo(ha,-F);t.lineTo(-ha,-F);t.lineTo(-ha,-ha);t.closePath()}},diamond:{draw:function(t,F){F=Math.sqrt(F)/2;t.moveTo(-F,0);t.lineTo(0,-F);t.lineTo(F,0);t.lineTo(0,F);t.closePath()}},
square:{draw:function(t,F){F=Math.sqrt(F);var ha=-F/2;t.rect(ha,ha,F,F)}},arrow:{draw:function(t,F){F=Math.sqrt(F)/2;var ha=F/7,l=F/2.5,y=F/8;t.moveTo(-ha,F);t.lineTo(ha,F);t.lineTo(ha,-y);t.lineTo(l,-y);t.lineTo(0,-F);t.lineTo(-l,-y);t.lineTo(-ha,-y);t.closePath()}},wedge:{draw:function(t,F){var ha=Math.sqrt(F)/2;F=Ze*ha;var l=F-.5773502691896257*ha;ha/=4;t.moveTo(0,-F-l);t.lineTo(-ha,F-l);t.lineTo(ha,F-l);t.closePath()}},triangle:{draw:function(t,F){F=Math.sqrt(F)/2;var ha=Ze*F,l=ha-.5773502691896257*
F;t.moveTo(0,-ha-l);t.lineTo(-F,ha-l);t.lineTo(F,ha-l);t.closePath()}},"triangle-up":{draw:function(t,F){F=Math.sqrt(F)/2;var ha=Ze*F;t.moveTo(0,-ha);t.lineTo(-F,ha);t.lineTo(F,ha);t.closePath()}},"triangle-down":{draw:function(t,F){F=Math.sqrt(F)/2;var ha=Ze*F;t.moveTo(0,ha);t.lineTo(-F,-ha);t.lineTo(F,-ha);t.closePath()}},"triangle-right":{draw:function(t,F){F=Math.sqrt(F)/2;var ha=Ze*F;t.moveTo(ha,0);t.lineTo(-ha,-F);t.lineTo(-ha,F);t.closePath()}},"triangle-left":{draw:function(t,F){F=Math.sqrt(F)/
2;var ha=Ze*F;t.moveTo(-ha,0);t.lineTo(ha,-F);t.lineTo(ha,F);t.closePath()}},stroke:{draw:function(t,F){F=Math.sqrt(F)/2;t.moveTo(-F,0);t.lineTo(F,0)}}};var eg={};const xf=t=>t.x||0,Of=t=>t.y||0,bg=t=>!1!==t.defined,Lg=function(){function t(){var Hb,fc=+F.apply(this,arguments),Sb=+ha.apply(this,arguments),Bd=ca.apply(this,arguments)-Od,Zc=pa.apply(this,arguments)-Od,Id=rc(Zc-Bd),te=Zc>Bd;$a||($a=Hb=Ac());if(Sb<fc){var Re=Sb;Sb=fc;fc=Re}if(1E-12<Sb)if(Id>He-1E-12)$a.moveTo(Sb*Ic(Bd),Sb*bd(Bd)),$a.arc(0,
0,Sb,Bd,Zc,!te),1E-12<fc&&($a.moveTo(fc*Ic(Zc),fc*bd(Zc)),$a.arc(0,0,fc,Zc,Bd,te));else{var pe=Bd,xe=Zc;Re=Bd;var wf=Zc,Ig=Id,af=Id,$e=Va.apply(this,arguments)/2,Sf=1E-12<$e&&(y?+y.apply(this,arguments):yd(fc*fc+Sb*Sb)),Og=Uc(rc(Sb-fc)/2,+l.apply(this,arguments)),ig=Og,Nf=Og;if(1E-12<Sf){var kf=ec(Sf/fc*bd($e));$e=ec(Sf/Sb*bd($e));1E-12<(Ig-=2*kf)?(kf*=te?1:-1,Re+=kf,wf-=kf):(Ig=0,Re=wf=(Bd+Zc)/2);1E-12<(af-=2*$e)?($e*=te?1:-1,pe+=$e,xe-=$e):(af=0,pe=xe=(Bd+Zc)/2)}Bd=Sb*Ic(pe);Zc=Sb*bd(pe);kf=fc*
Ic(wf);$e=fc*bd(wf);if(1E-12<Og){var vf=Sb*Ic(xe),Qf=Sb*bd(xe),Pf=fc*Ic(Re),Yg=fc*bd(Re);if(Id=Id<Dd){var cg=Pf-Bd;Id=Yg-Zc;Sf=kf-vf;var Kh=$e-Qf,kg=Kh*cg-Sf*Id;1E-12>kg*kg?cg=void 0:(kg=(Sf*(Zc-Qf)-Kh*(Bd-vf))/kg,cg=[Bd+kg*cg,Zc+kg*Id]);Id=cg}Id&&(ig=Bd-cg[0],Nf=Zc-cg[1],Id=vf-cg[0],Sf=Qf-cg[1],ig=(ig*Id+Nf*Sf)/(yd(ig*ig+Nf*Nf)*yd(Id*Id+Sf*Sf)),Nf=1/bd((1<ig?0:-1>ig?Dd:Math.acos(ig))/2),cg=yd(cg[0]*cg[0]+cg[1]*cg[1]),ig=Uc(Og,(fc-cg)/(Nf-1)),Nf=Uc(Og,(Sb-cg)/(Nf+1)))}1E-12<af?1E-12<Nf?(pe=Bb(Pf,
Yg,Bd,Zc,Sb,Nf,te),xe=Bb(vf,Qf,kf,$e,Sb,Nf,te),$a.moveTo(pe.cx+pe.x01,pe.cy+pe.y01),Nf<Og?$a.arc(pe.cx,pe.cy,Nf,sc(pe.y01,pe.x01),sc(xe.y01,xe.x01),!te):($a.arc(pe.cx,pe.cy,Nf,sc(pe.y01,pe.x01),sc(pe.y11,pe.x11),!te),$a.arc(0,0,Sb,sc(pe.cy+pe.y11,pe.cx+pe.x11),sc(xe.cy+xe.y11,xe.cx+xe.x11),!te),$a.arc(xe.cx,xe.cy,Nf,sc(xe.y11,xe.x11),sc(xe.y01,xe.x01),!te))):($a.moveTo(Bd,Zc),$a.arc(0,0,Sb,pe,xe,!te)):$a.moveTo(Bd,Zc);1E-12<fc&&1E-12<Ig?1E-12<ig?(pe=Bb(kf,$e,vf,Qf,fc,-ig,te),xe=Bb(Bd,Zc,Pf,Yg,fc,
-ig,te),$a.lineTo(pe.cx+pe.x01,pe.cy+pe.y01),ig<Og?$a.arc(pe.cx,pe.cy,ig,sc(pe.y01,pe.x01),sc(xe.y01,xe.x01),!te):($a.arc(pe.cx,pe.cy,ig,sc(pe.y01,pe.x01),sc(pe.y11,pe.x11),!te),$a.arc(0,0,fc,sc(pe.cy+pe.y11,pe.cx+pe.x11),sc(xe.cy+xe.y11,xe.cx+xe.x11),te),$a.arc(xe.cx,xe.cy,ig,sc(xe.y11,xe.x11),sc(xe.y01,xe.x01),!te))):$a.arc(0,0,fc,wf,Re,te):$a.lineTo(kf,$e)}else $a.moveTo(0,0);$a.closePath();if(Hb)return $a=null,Hb+""||null}var F=pc,ha=Ya,l=Ab(0),y=null,ca=rb,pa=Ib,Va=Nb,$a=null;t.centroid=function(){var Hb=
(+F.apply(this,arguments)+ +ha.apply(this,arguments))/2,fc=(+ca.apply(this,arguments)+ +pa.apply(this,arguments))/2-Dd/2;return[Ic(fc)*Hb,bd(fc)*Hb]};t.innerRadius=function(Hb){return arguments.length?(F="function"===typeof Hb?Hb:Ab(+Hb),t):F};t.outerRadius=function(Hb){return arguments.length?(ha="function"===typeof Hb?Hb:Ab(+Hb),t):ha};t.cornerRadius=function(Hb){return arguments.length?(l="function"===typeof Hb?Hb:Ab(+Hb),t):l};t.padRadius=function(Hb){return arguments.length?(y=null==Hb?null:
"function"===typeof Hb?Hb:Ab(+Hb),t):y};t.startAngle=function(Hb){return arguments.length?(ca="function"===typeof Hb?Hb:Ab(+Hb),t):ca};t.endAngle=function(Hb){return arguments.length?(pa="function"===typeof Hb?Hb:Ab(+Hb),t):pa};t.padAngle=function(Hb){return arguments.length?(Va="function"===typeof Hb?Hb:Ab(+Hb),t):Va};t.context=function(Hb){return arguments.length?($a=null==Hb?null:Hb,t):$a};return t}().startAngle(t=>t.startAngle||0).endAngle(t=>t.endAngle||0).padAngle(t=>t.padAngle||0).innerRadius(t=>
t.innerRadius||0).outerRadius(t=>t.outerRadius||0).cornerRadius(t=>t.cornerRadius||0),Qg=lb().x(xf).y1(Of).y0(t=>(t.y||0)+(t.height||0)).defined(bg),xg=lb().y(Of).x1(xf).x0(t=>(t.x||0)+(t.width||0)).defined(bg),ah=Qa().x(xf).y(Of).defined(bg),qa=Gb().x(xf).y(Of).width(t=>t.width||0).height(t=>t.height||0).cornerRadius(t=>wc(t.cornerRadiusTopLeft,t.cornerRadius)||0,t=>wc(t.cornerRadiusTopRight,t.cornerRadius)||0,t=>wc(t.cornerRadiusBottomRight,t.cornerRadius)||0,t=>wc(t.cornerRadiusBottomLeft,t.cornerRadius)||
0),cb=function(t,F){function ha(){let y;l||(l=y=Ac());t.apply(this,arguments).draw(l,+F.apply(this,arguments));if(y)return l=null,y+""||null}let l=null;t="function"===typeof t?t:Ab(t||td);F="function"===typeof F?F:Ab(void 0===F?64:+F);ha.type=function(y){return arguments.length?(t="function"===typeof y?y:Ab(y),ha):t};ha.size=function(y){return arguments.length?(F="function"===typeof y?y:Ab(+y),ha):F};ha.context=function(y){return arguments.length?(l=null==y?null:y,ha):l};return ha}().type(t=>K(t.shape||
"circle")).size(t=>wc(t.size,64)),Pb=tc().x(xf).y(Of).defined(bg).size(t=>t.size||1);var hd=1;Rc.prototype={clone(){return new Rc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,F,ha,l){ha<t?(this.x2=
t,this.x1=ha):(this.x1=t,this.x2=ha);l<F?(this.y2=F,this.y1=l):(this.y1=F,this.y2=l);return this},add(t,F){t<this.x1&&(this.x1=t);F<this.y1&&(this.y1=F);t>this.x2&&(this.x2=t);F>this.y2&&(this.y2=F);return this},expand(t){this.x1-=t;this.y1-=t;this.x2+=t;this.y2+=t;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(t){this.x1*=t;this.y1*=t;this.x2*=t;this.y2*=t;return this},translate(t,F){this.x1+=t;
this.x2+=t;this.y1+=F;this.y2+=F;return this},rotate(t,F,ha){t=this.rotatedPoints(t,F,ha);return this.clear().add(t[0],t[1]).add(t[2],t[3]).add(t[4],t[5]).add(t[6],t[7])},rotatedPoints(t,F,ha){var {x1:l,y1:y,x2:ca,y2:pa}=this,Va=Math.cos(t);t=Math.sin(t);var $a=F-F*Va+ha*t;F=ha-F*t-ha*Va;return[Va*l-t*y+$a,t*l+Va*y+F,Va*l-t*pa+$a,t*l+Va*pa+F,Va*ca-t*y+$a,t*ca+Va*y+F,Va*ca-t*pa+$a,t*ca+Va*pa+F]},union(t){t.x1<this.x1&&(this.x1=t.x1);t.y1<this.y1&&(this.y1=t.y1);t.x2>this.x2&&(this.x2=t.x2);t.y2>this.y2&&
(this.y2=t.y2);return this},intersect(t){t.x1>this.x1&&(this.x1=t.x1);t.y1>this.y1&&(this.y1=t.y1);t.x2<this.x2&&(this.x2=t.x2);t.y2<this.y2&&(this.y2=t.y2);return this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,F){return!(t<this.x1||t>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};g.inherits(Ia,Sd);Wb.prototype={pending(){return this._pending},sanitizeURL(t){const F=this;F._pending+=1;return F._loader.sanitize(t,{context:"href"}).then(ha=>{--F._pending;return ha}).catch(()=>{--F._pending;return null})},loadImage(t){const F=this,ha=ra.image();F._pending+=1;return F._loader.sanitize(t,{context:"image"}).then(l=>{const y=l.href;if(!y||!ha)throw{url:y};const ca=new ha;l=g.hasOwnProperty(l,"crossOrigin")?l.crossOrigin:"anonymous";null!=
l&&(ca.crossOrigin=l);ca.onload=()=>{--F._pending};ca.onerror=()=>{--F._pending};ca.src=y;return ca}).catch(l=>{--F._pending;return{complete:!1,width:0,height:0,src:l&&l.url||""}})},ready(){const t=this;return new Promise(F=>{function ha(l){t.pending()?setTimeout(()=>{ha(!0)},10):F(l)}ha(!1)})}};const nd=lf-1E-8;let oe,Pe,of,Ef,Qe,Zf,Rf,$f;const mg=(t,F)=>{t=Pe=t;F=of=F;return oe.add(t,F)},qg=t=>oe.add(t,oe.y1),Gg=t=>oe.add(oe.x1,t),bh=(t,F)=>oe.add(Qe*t+Rf*F,Zf*t+$f*F),hh=(t,F)=>mg(Qe*t+Rf*F,Zf*
t+$f*F),Ee={beginPath(){},closePath(){},moveTo:hh,lineTo:hh,rect(t,F,ha,l){Ef?(bh(t+ha,F),bh(t+ha,F+l),bh(t,F+l),hh(t,F)):(oe.add(t+ha,F+l),mg(t,F))},quadraticCurveTo(t,F,ha,l){const y=Zf*t+$f*F,ca=Qe*ha+Rf*l;ha=Zf*ha+$f*l;Yb(Pe,Qe*t+Rf*F,ca,qg);Yb(of,y,ha,Gg);mg(ca,ha)},bezierCurveTo(t,F,ha,l,y,ca){const pa=Zf*t+$f*F,Va=Zf*ha+$f*l,$a=Qe*y+Rf*ca;y=Zf*y+$f*ca;hc(Pe,Qe*t+Rf*F,Qe*ha+Rf*l,$a,qg);hc(of,pa,Va,y,Gg);mg($a,y)},arc(t,F,ha,l,y,ca){l+=Ef;y+=Ef;Pe=ha*Math.cos(y)+t;of=ha*Math.sin(y)+F;if(Math.abs(y-
l)>nd)oe.add(t-ha,F-ha),oe.add(t+ha,F+ha);else{const pa=$a=>oe.add(ha*Math.cos($a)+t,ha*Math.sin($a)+F);let Va;pa(l);pa(y);if(y!==l)if(l%=lf,0>l&&(l+=lf),y%=lf,0>y&&(y+=lf),y<l&&(ca=!ca,Va=l,l=y,y=Va),ca)for(y-=lf,Va=l-l%jf,l=0;4>l&&Va>y;++l,Va-=jf)pa(Va);else for(Va=l-l%jf+jf,l=0;4>l&&Va<y;++l,Va+=jf)pa(Va)}}};var Ie=(Ie=ra.canvas(1,1))?Ie.getContext("2d"):null;const Lf=new Rc;var gf=[],Df=Td("arc",function(t,F){return Lg.context(t)(F)}),zf=Cd("area",function(t,F){const ha=F[0];return("horizontal"===
ha.orient?xg:Qg).curve(D(ha.interpolate||"linear",ha.orient,ha.tension)).context(t)(F)},function(t,F){F="horizontal"===t[0].orient?F[1]:F[0];for(var ha="horizontal"===t[0].orient?"y":"x",l=t.length,y=Infinity,ca,pa;0<=--l;)!1!==t[l].defined&&(pa=Math.abs(t[l][ha]-F),pa<y&&(y=pa,ca=t[l]));return ca});const fg=fd(Vd),rg=fd(Vd,!1),gg=fd(Vd,!0);var Ff={type:"group",tag:"g",nested:!1,attr:function(t,F){t("transform",Rd(F.x||0,F.y||0))},bound:function(t,F){if(!F.clip&&F.items){const ha=F.items,l=ha.length;
for(let y=0;y<l;++y)t.union(ha[y].bounds)}(F.clip||F.width||F.height)&&!F.noBound&&t.add(0,0).add(F.width||0,F.height||0);kb(t,F);return t.translate(F.x||0,F.y||0)},draw:function(t,F,ha){Eb(F,l=>{const y=l.x||0,ca=l.y||0,pa=l.strokeForeground,Va=null==l.opacity?1:l.opacity;(l.stroke||l.fill)&&Va&&(Vd(t,l,y,ca),hb(t,l),l.fill&&ya(t,l,Va)&&t.fill(),l.stroke&&!pa&&Ka(t,l,Va)&&t.stroke());t.save();t.translate(y,ca);l.clip&&be(t,l);ha&&ha.translate(-y,-ca);Eb(l,$a=>{this.draw(t,$a,ha)});ha&&ha.translate(y,
ca);t.restore();pa&&l.stroke&&Va&&(Vd(t,l,y,ca),hb(t,l),Ka(t,l,Va)&&t.stroke())})},pick:function(t,F,ha,l,y,ca){if(F.bounds&&!F.bounds.contains(y,ca)||!F.items)return null;const pa=ha*t.pixelRatio,Va=l*t.pixelRatio;return mc(F,$a=>{let Hb,fc;var Sb=$a.bounds;if(!Sb||Sb.contains(y,ca)){Hb=$a.x||0;fc=$a.y||0;Sb=Hb+($a.width||0);var Bd=fc+($a.height||0),Zc=$a.clip;if(!Zc||!(y<Hb||y>Sb||ca<fc||ca>Bd)){t.save();t.translate(Hb,fc);Hb=y-Hb;fc=ca-fc;if(Zc&&vc($a)&&!gg(t,$a,pa,Va))return t.restore(),null;
Bd=$a.strokeForeground;if((Zc=!1!==F.interactive)&&Bd&&$a.stroke&&rg(t,$a,pa,Va))return t.restore(),$a;Sb=mc($a,Id=>(!1!==Id.interactive||"group"===Id.marktype)&&Id.bounds&&Id.bounds.contains(Hb,fc)?this.pick(Id,ha,l,Hb,fc):null);!Sb&&Zc&&($a.fill||!Bd&&$a.stroke)&&fg(t,$a,pa,Va)&&(Sb=$a);t.restore();return Sb||null}}})},isect:Nd,content:function(t,F,ha){F=F.clip?zc(ha,F,F):null;t("clip-path",F)},background:function(t,F){t("class","background");t("aria-hidden",!0);const ha=ce(F);t("d",Ec(null,F,ha,
ha))},foreground:function(t,F){t("class","foreground");t("aria-hidden",!0);if(F.strokeForeground){const ha=ce(F);t("d",Ec(null,F,ha,ha))}else t("d","")}},Hg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},dh={type:"image",tag:"image",nested:!1,attr:function(t,F,ha){var l=Te(F,ha);ha=$d(F,l);const y=M(F,l),ca=(F.x||0)-Z(F.align,ha),pa=(F.y||0)-La(F.baseline,y);l=!l.src&&l.toDataURL?l.toDataURL():l.src||"";t("href",l,Hg["xmlns:xlink"],"xlink:href");t("transform",
Rd(ca,pa));t("width",ha);t("height",y);t("preserveAspectRatio",!1===F.aspect?"none":"xMidYMid")},bound:function(t,F){var ha=F.image;const l=$d(F,ha);ha=M(F,ha);const y=(F.x||0)-Z(F.align,l);F=(F.y||0)-La(F.baseline,ha);return t.set(y,F,y+l,F+ha)},draw:function(t,F,ha){Eb(F,l=>{if(!ha||ha.intersects(l.bounds)){var y=Te(l,this),ca=$d(l,y),pa=M(l,y);if(0!==ca&&0!==pa){var Va=(l.x||0)-Z(l.align,ca),$a=(l.y||0)-La(l.baseline,pa),Hb;if(!1!==l.aspect){var fc=y.width/y.height;var Sb=l.width/l.height;fc===
fc&&Sb===Sb&&fc!==Sb&&(Sb<fc?(fc=ca/fc,$a+=(pa-fc)/2,pa=fc):(fc*=pa,Va+=(ca-fc)/2,ca=fc))}if(y.complete||y.toDataURL)hb(t,l),t.globalAlpha=null!=(Hb=l.opacity)?Hb:1,t.imageSmoothingEnabled=!1!==l.smooth,t.drawImage(y,Va,$a,ca,pa)}}})},pick:ed(),isect:g.truthy,get:Te,xOffset:Z,yOffset:La},vh=Cd("line",function(t,F){const ha=F[0];return ah.curve(D(ha.interpolate||"linear",ha.orient,ha.tension)).context(t)(F)},function(t,F){for(var ha=Math.pow(t[0].strokeWidth||1,2),l=t.length,y,ca;0<=--l;)if(!1!==t[l].defined&&
(y=t[l].x-F[0],ca=t[l].y-F[1],y=y*y+ca*ca,y<ha))return t[l];return null}),ag={type:"path",tag:"path",nested:!1,attr:function(t,F){var ha=F.scaleY||1;1===(F.scaleX||1)&&1===ha||t("vector-effect","non-scaling-stroke");ha=Rd(F.x||0,F.y||0)+(F.angle?" rotate("+(F.angle+")"):"")+(F.scaleX||F.scaleY?" scale("+((F.scaleX||1)+","+(F.scaleY||1)+")"):"");t("transform",ha);t("d",F.path)},bound:function(t,F){return gb(bc(t,F.angle),F)?t.set(0,0,0,0):kb(t,F,!0)},draw:cc(gb),pick:ed(fd(gb)),isect:Gc(gb)},Vh={type:"rect",
tag:"path",nested:!1,attr:function(t,F){t("d",Ec(null,F))},bound:function(t,F){var ha,l;return kb(t.set(ha=F.x||0,l=F.y||0,ha+F.width||0,l+F.height||0),F)},draw:cc(Jb),pick:ed(fd(Jb)),isect:Nd},Bh={type:"rule",tag:"line",nested:!1,attr:function(t,F){t("transform",Rd(F.x||0,F.y||0));t("x2",null!=F.x2?F.x2-(F.x||0):0);t("y2",null!=F.y2?F.y2-(F.y||0):0)},bound:function(t,F){var ha,l;return kb(t.set(ha=F.x||0,l=F.y||0,null!=F.x2?F.x2:ha,null!=F.y2?F.y2:l),F)},draw:function(t,F,ha){Eb(F,l=>{if(!ha||ha.intersects(l.bounds)){var y=
null==l.opacity?1:l.opacity;y&&Tb(t,l,y)&&(hb(t,l),t.stroke())}})},pick:ed(function(t,F,ha,l){return t.isPointInStroke?Tb(t,F,1)&&t.isPointInStroke(ha,l):!1}),isect:ud},Ch=Td("shape",function(t,F){return(F.mark.shape||F.shape).context(t)(F)}),Vg=Td("symbol",function(t,F){return cb.context(t)(F)},ad);const Dh=g.lruCache();var Eh={height:Oc,measureWidth:Jc,estimateWidth:ic,width:ic,canvas:Bc};Bc(!0);const bi={left:"start",center:"middle",right:"end"},Wg=new Rc;var jh={type:"text",tag:"text",nested:!1,
attr:function(t,F){var ha=F.dx||0,l=(F.dy||0)+Ae(F),y=hf(F),ca=y.x1;y=y.y1;var pa=F.angle||0;t("text-anchor",bi[F.align]||"start");if(pa){if(F=Rd(ca,y)+" rotate("+(pa+")"),ha||l)F+=" "+Rd(ha,l)}else F=Rd(ca+ha,y+l);t("transform",F)},bound:cf,draw:function(t,F,ha){Eb(F,l=>{var y=null==l.opacity?1:l.opacity,ca;if(!(ha&&!ha.intersects(l.bounds)||0===y||0>=l.fontSize||null==l.text||0===l.text.length)){t.font=se(l);t.textAlign=l.align||"left";var pa=hf(l);var Va=pa.x1;pa=pa.y1;l.angle&&(t.save(),t.translate(Va,
pa),t.rotate(l.angle*Wd),Va=pa=0);Va+=l.dx||0;pa+=(l.dy||0)+Ae(l);var $a=Jd(l);hb(t,l);if(g.isArray($a)){var Hb=vd(l);for(ca=0;ca<$a.length;++ca){var fc=Fd(l,$a[ca]);l.fill&&ya(t,l,y)&&t.fillText(fc,Va,pa);l.stroke&&Ka(t,l,y)&&t.strokeText(fc,Va,pa);pa+=Hb}}else fc=Fd(l,$a),l.fill&&ya(t,l,y)&&t.fillText(fc,Va,pa),l.stroke&&Ka(t,l,y)&&t.strokeText(fc,Va,pa);l.angle&&t.restore()}})},pick:ed(function(t,F,ha,l,y,ca){if(0>=F.fontSize)return!1;if(!F.angle)return!0;ha=hf(F);t=ha.x1;ha=ha.y1;l=cf(Wg,F,1);
var pa=-F.angle*Wd;F=Math.cos(pa);pa=Math.sin(pa);return l.contains(F*y-pa*ca+(t-F*t+pa*ha),pa*y+F*ca+(ha-pa*t-F*ha))}),isect:function(t,F){t=cf(Wg,t,2);return Fa(F,t[0],t[1],t[2],t[3])||Fa(F,t[0],t[1],t[4],t[5])||Fa(F,t[4],t[5],t[6],t[7])||Fa(F,t[2],t[3],t[6],t[7])}},si=Cd("trail",function(t,F){return Pb.context(t)(F)},function(t,F){for(var ha=t.length,l,y;0<=--ha;)if(!1!==t[ha].defined&&(l=t[ha].x-F[0],y=t[ha].y-F[1],y=l*l+y*y,l=t[ha].size||1,y<l*l))return t[ha];return null}),Ag={arc:Df,area:zf,
group:Ff,image:dh,line:vh,path:ag,rect:Vh,rule:Bh,shape:Ch,symbol:Vg,text:jh,trail:si},Fh={mark:null};const Wh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
eb.prototype={toJSON(t){return nf(this.root,t||0)},mark(t,F,ha){F=F||this.root.items[0];t=zb(t,F);F.items[ha]=t;t.zindex&&(t.group.zdirty=!0);return t}};$b.prototype={initialize(t,F,ha){this._el=t;this._obj=ha||null;return this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){if(!arguments.length)return this._scene;this._scene=t;return this},on(){},off(){},_handlerIndex(t,
F,ha){for(let l=t?t.length:0;0<=--l;)if(t[l].type===F&&(!ha||t[l].handler===ha))return l;return-1},handlers(t){const F=this._handlers,ha=[];if(t)ha.push(...F[this.eventName(t)]);else for(const l in F)ha.push(...F[l]);return ha},eventName(t){const F=t.indexOf(".");return 0>F?t:t.slice(0,F)},handleHref(t,F,ha){this._loader.sanitize(ha,{context:"href"}).then(l=>{const y=new MouseEvent(t.type,t),ca=Xb(null,"a");for(const pa in l)ca.setAttribute(pa,l[pa]);ca.dispatchEvent(y)}).catch(()=>{})},handleTooltip(t,
F,ha){if(F&&null!=F.tooltip){var l=this.canvas(),y=this._origin,ca=F&&F.mark,pa;if(ca&&(pa=Ag[ca.marktype]).tip){l=Ta(t,l);l[0]-=y[0];for(l[1]-=y[1];F=F.mark.group;)l[0]-=F.x||0,l[1]-=F.y||0;F=pa.tip(ca.items,l)}this._tooltip.call(this._obj,this,t,F,ha&&F&&F.tooltip||null)}},getItemBoundingClientRect(t){var F=this.canvas();if(F){var ha=F.getBoundingClientRect(),l=this._origin,y=t.bounds;F=y.width();var ca=y.height(),pa=y.x1+l[0]+ha.left;for(ha=y.y1+l[1]+ha.top;t.mark&&(t=t.mark.group);)pa+=t.x||0,
ha+=t.y||0;return{x:pa,y:ha,width:F,height:ca,left:pa,top:ha,right:pa+F,bottom:ha+ca}}}};xc.prototype={initialize(t,F,ha,l,y){this._el=t;return this.resize(F,ha,l,y)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){if(0===arguments.length)return this._bgcolor;this._bgcolor=t;return this},resize(t,F,ha,l){this._width=t;this._height=F;this._origin=ha||[0,0];this._scale=l||1;return this},dirty(){},render(t){const F=this;F._call=function(){F._render(t)};F._call();
F._call=null;return F},_render(){},renderAsync(t){const F=this.render(t);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(t,F){var ha=this;t=ha._loader[t](F);if(!ha._ready){const l=ha._call;ha._ready=ha._loader.ready().then(y=>{y&&l();ha._ready=null})}return t},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};g.inherits(Tc,$b,{initialize(t,F,ha){this._canvas=t&&Cc(t,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(l=>
md(this,l));return $b.prototype.initialize.call(this,t,F,ha)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(t){this.fire("mousewheel",t)},mousemove:Sa("mousemove","mouseover","mouseout"),dragover:Sa("dragover","dragenter","dragleave"),mouseout:fb("mouseout"),dragleave:fb("dragleave"),
mousedown(t){this._down=this._active;this.fire("mousedown",t)},click(t){this._down===this._active&&(this.fire("click",t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",t,!0)},touchmove(t){this.fire("touchmove",t,!0)},touchend(t){this.fire("touchend",t,!0);this._touch=null},fire(t,F,ha){ha=ha?this._touch:this._active;const l=this._handlers[t];F.vegaType=t;"click"===t&&ha&&ha.href?this.handleHref(F,
ha,ha.href):("mousemove"===t||"mouseout"===t)&&this.handleTooltip(F,ha,"mouseout"!==t);if(l)for(let y=0,ca=l.length;y<ca;++y)l[y].handler.call(this._obj,F,ha)},on(t,F){const ha=this.eventName(t),l=this._handlers;0>this._handlerIndex(l[ha],t,F)&&(md(this,t),(l[ha]||(l[ha]=[])).push({type:t,handler:F}));return this},off(t,F){var ha=this.eventName(t);ha=this._handlers[ha];t=this._handlerIndex(ha,t,F);0<=t&&ha.splice(t,1);return this},pickEvent(t){t=Ta(t,this._canvas);const F=this._origin;return this.pick(this._scene,
t[0],t[1],t[0]-F[0],t[1]-F[1])},pick(t,F,ha,l,y){const ca=this.context();return Ag[t.marktype].pick.call(this,ca,t,F,ha,l,y)}});var Mg="undefined"!==typeof window?window.devicePixelRatio||1:1;const ch=xc.prototype;g.inherits(qc,xc,{initialize(t,F,ha,l,y,ca){this._options=ca||{};this._canvas=this._options.externalContext?null:ra.canvas(1,1,this._options.type);t&&this._canvas&&(I(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return ch.initialize.call(this,t,F,ha,l,y)},resize(t,
F,ha,l){ch.resize.call(this,t,F,ha,l);if(this._canvas){t=this._canvas;F=this._width;ha=this._height;l=this._origin;var y=this._scale,ca=this._options.context;const Va="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,$a=t.getContext("2d");y=Va?Mg:y;t.width=F*y;t.height=ha*y;for(var pa in ca)$a[pa]=ca[pa];Va&&1!==y&&(t.style.width=F+"px",t.style.height=ha+"px");$a.pixelRatio=y;$a.setTransform(y,0,0,y,y*l[0],y*l[1])}else(pa=this._options.externalContext)||g.error("CanvasRenderer is missing a valid canvas or context"),
pa.scale(this._scale,this._scale),pa.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const F=this._tempb.clear().union(t.bounds);for(t=t.mark.group;t;)F.translate(t.x||0,t.y||0),t=t.mark.group;this._dirty.union(F)},_render(t){const F=this.context(),ha=this._origin,l=this._width,y=this._height,ca=this._dirty;var pa=(new Rc).set(0,0,l,y).translate(-ha[0],
-ha[1]);F.save();this._redraw||ca.empty()?pa=(this._redraw=!1,pa.expand(1)):(pa=pa.intersect(ca),pa.expand(1).round(),F.pixelRatio%1&&pa.scale(F.pixelRatio).round().scale(1/F.pixelRatio),pa.translate(-(ha[0]%1),-(ha[1]%1)),F.beginPath(),F.rect(pa.x1,pa.y1,pa.width(),pa.height()),F.clip());this.clear(-ha[0],-ha[1],l,y);this.draw(F,t,pa);F.restore();ca.clear();return this},draw(t,F,ha){const l=Ag[F.marktype];if(F.clip){var y=F.clip;t.save();g.isFunction(y)?(t.beginPath(),y(t),t.clip()):be(t,F.group)}l.draw.call(this,
t,F,ha);F.clip&&t.restore()},clear(t,F,ha,l){const y=this._options,ca=this.context();"pdf"===y.type||y.externalContext||ca.clearRect(t,F,ha,l);null!=this._bgcolor&&(ca.fillStyle=this._bgcolor,ca.fillRect(t,F,ha,l))}});const nh=(t,F)=>ha=>{let l=ha.target.__data__;l=Array.isArray(l)?l[0]:l;ha.vegaType=ha.type;F.call(t._obj,ha,l)};g.inherits(pd,$b,{initialize(t,F,ha){let l=this._svg;l&&(l.removeEventListener("click",this._hrefHandler),l.removeEventListener("mousemove",this._tooltipHandler),l.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=l=t&&Cc(t,"svg"))l.addEventListener("click",this._hrefHandler),l.addEventListener("mousemove",this._tooltipHandler),l.addEventListener("mouseout",this._tooltipHandler);return $b.prototype.initialize.call(this,t,F,ha)},canvas(){return this._svg},on(t,F){const ha=this.eventName(t),l=this._handlers;0>this._handlerIndex(l[ha],t,F)&&(t={type:t,handler:F,listener:nh(this,F)},(l[ha]||(l[ha]=[])).push(t),this._svg&&this._svg.addEventListener(ha,t.listener));return this},
off(t,F){const ha=this.eventName(t),l=this._handlers[ha];t=this._handlerIndex(l,t,F);0<=t&&(this._svg&&this._svg.removeEventListener(ha,l[t].listener),l.splice(t,1));return this}});const Gh=(t,F,ha)=>({role:t,["aria-roledescription"]:F,["aria-label"]:ha||void 0}),yg=g.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Oh={axis:{desc:"axis",caption:function(t){var F=t.datum;const ha=t.orient,
l=F.title?jd(t):null;var y=t.context;F=y.scales[F.scale].value;y=y.dataflow.locale();const ca=F.type;return`${"left"===ha||"right"===ha?"Y":"X"}-axis`+(l?` titled '${l}'`:"")+` for a ${Fb.isDiscrete(ca)?"discrete":ca} scale`+` with ${Fb.domainCaption(y,F,t)}`}},legend:{desc:"legend",caption:function(t){var F=t.datum;const ha=F.title?jd(t):null,l=`${F.type||""} legend`.trim();var y=F.scales;F=Object.keys(y);var ca=t.context;y=ca.scales[y[F[0]]].value;ca=ca.dataflow.locale();return(l.length?l[0].toUpperCase()+
l.slice(1):l)+(ha?` titled '${ha}'`:"")+` for ${Qd(F)}`+` with ${Fb.domainCaption(ca,y,t)}`}},"title-text":{desc:"title",caption:t=>`Title text '${g.array(t.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${g.array(t.text).join(" ")}'`}},wh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},ph=t=>(t+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Xh=t=>Xd(Ad(),t)+"",ci={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},kh={blend:"mix-blend-mode"},Hh={fill:"none","stroke-miterlimit":10},If=Hg.xmlns,sg=xc.prototype;g.inherits(ye,xc,{initialize(t,F,ha,l,y){this._defs={};this._clearDefs();t&&(this._svg=Ub(t,0,"svg",If),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",If),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Hg["xmlns:xlink"]),this._svg.setAttribute("version",Hg.version),this._svg.setAttribute("class","marks"),I(t,1),this._root=Ub(this._svg,0,"g",If),id(this._root,Hh),I(this._svg,1));this.background(this._bgcolor);return sg.initialize.call(this,t,F,ha,l,y)},background(t){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t);return sg.background.apply(this,arguments)},resize(t,F,ha,l){sg.resize.call(this,
t,F,ha,l);this._svg&&(id(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const t=this._svg,F=this._bgcolor;if(!t)return null;let ha;F&&(t.removeAttribute("style"),ha=Ub(t,0,"rect",If),id(ha,{width:this._width,height:this._height,fill:F}));const l=Xh(t);F&&(t.removeChild(ha),this._svg.style.setProperty("background-color",
F));return l},_render(t){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),I(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const F=++this._dirtyID;let ha;let l,y,ca,pa;ca=0;for(pa=t.length;ca<
pa;++ca){ha=t[ca];var Va=ha.mark;Va.marktype!==l&&(l=Va.marktype,y=Ag[l]);Va.zdirty&&Va.dirty!==F&&(this._dirtyAll=!1,Oe(ha,F),Va.items.forEach($a=>{$a.dirty=F}));Va.zdirty||(ha.exit?(y.nested&&Va.items.length?(Va=Va.items[0],Va._svg&&this._update(y,Va._svg,Va)):ha._svg&&(Va=ha._svg.parentNode)&&Va.removeChild(ha._svg),ha._svg=null):(ha=y.nested?Va.items[0]:ha,ha._update!==F&&(ha._svg&&ha._svg.ownerSVGElement?this._update(y,ha._svg,ha):(this._dirtyAll=!1,Oe(ha,F)),ha._update=F)))}return!this._dirtyAll},
mark(t,F,ha){if(!this.isDirty(F))return F._svg;const l=this._svg,y=Ag[F.marktype];var ca=!1===F.interactive?"none":null;const pa="g"===y.tag,Va=tf(F,t,ha,"g",l);Va.setAttribute("class",ea(F));t=Xc(F);for(const fc in t)Dc(Va,fc,t[fc]);pa||Dc(Va,"pointer-events",ca);Dc(Va,"clip-path",F.clip?zc(this,F,F.group):null);let $a=null,Hb=0;ca=fc=>{const Sb=this.isDirty(fc),Bd=tf(fc,Va,$a,y.tag,l);Sb&&(this._update(y,Bd,fc),pa&&Ge(this,Bd,fc));$a=Bd;++Hb};y.nested?F.items.length&&ca(F.items[0]):Eb(F,ca);I(Va,
Hb);return Va},_update(t,F,ha){Rg=F;yf=F.__values__;Kc(ld,ha);t.attr(ld,ha,this);const l=lh[t.type];l&&l.call(this,t,F,ha);Rg&&this.style(Rg,ha)},style(t,F){if(null!=F){for(const ha in ci){let l="font"===ha?Md(F):F[ha];if(l===yf[ha])continue;const y=ci[ha];null==l?t.removeAttribute(y):(l&&l.gradient&&(l=Zb(l,this._defs.gradient,Gd())),t.setAttribute(y,l+""));yf[ha]=l}for(const ha in kh)Fc(t,kh[ha],F[ha])}},defs(){const t=this._svg,F=this._defs;let ha=F.el;var l=0;for(var y in F.gradient){ha||(F.el=
ha=Ub(t,1,"defs",If));var ca=void 0;let $a,Hb;var pa=ha,Va=F.gradient[y];"radial"===Va.gradient?(ca=Ub(pa,l++,"pattern",If),id(ca,{id:"p_"+Va.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),ca=Ub(ca,0,"rect",If),id(ca,{width:1,height:1,fill:`url(${Gd()}#${Va.id})`}),pa=Ub(pa,l++,"radialGradient",If),id(pa,{id:Va.id,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):(pa=Ub(pa,l++,"linearGradient",If),id(pa,{id:Va.id,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2}));
Hb=0;for($a=Va.stops.length;Hb<$a;++Hb)ca=Ub(pa,Hb,"stop",If),ca.setAttribute("offset",Va.stops[Hb].offset),ca.setAttribute("stop-color",Va.stops[Hb].color);I(pa,Hb)}for(const $a in F.clipping)ha||(F.el=ha=Ub(t,1,"defs",If)),pa=ha,Va=F.clipping[$a],y=l,pa=Ub(pa,y,"clipPath",If),pa.setAttribute("id",Va.id),Va.path?(l=Ub(pa,0,"path",If),l.setAttribute("d",Va.path)):(l=Ub(pa,0,"rect",If),id(l,{x:0,y:0,width:Va.width,height:Va.height})),I(pa,1),l=y+1;ha&&(0===l?(t.removeChild(ha),F.el=null):I(ha,l))},
_clearDefs(){const t=this._defs;t.gradient={};t.clipping={}}});let Rg=null,yf=null;const lh={group(t,F,ha){const l=Rg=F.childNodes[2];yf=l.__values__;t.foreground(ld,ha,this);yf=F.__values__;Rg=F.childNodes[1];t.content(ld,ha,this);F=Rg=F.childNodes[0];t.background(ld,ha,this);t=!1===ha.mark.interactive?"none":null;t!==yf.events&&(Dc(l,"pointer-events",t),Dc(F,"pointer-events",t),yf.events=t);ha.strokeForeground&&ha.stroke?(t=ha.fill,Dc(l,"display",null),this.style(F,ha),Dc(F,"stroke",null),t&&(ha.fill=
null),yf=l.__values__,this.style(l,ha),t&&(ha.fill=t),Rg=null):Dc(l,"display","none")},image(t,F,ha){!1===ha.smooth?(Fc(F,"image-rendering","optimizeSpeed"),Fc(F,"image-rendering","pixelated")):Fc(F,"image-rendering",null)},text(t,F,ha){t=Jd(ha);let l,y,ca;g.isArray(t)?(l=t.map(pa=>Fd(ha,pa)),t=l.join("\n"),t!==yf.text&&(I(F,0),y=F.ownerDocument,ca=vd(ha),l.forEach((pa,Va)=>{const $a=Xb(y,"tspan",If);$a.__data__=ha;$a.textContent=pa;Va&&($a.setAttribute("x",0),$a.setAttribute("dy",ca));F.appendChild($a)}),
yf.text=t)):(l=Fd(ha,t),l!==yf.text&&(F.textContent=l,yf.text=l));Dc(F,"font-family",Md(ha));Dc(F,"font-size",Oc(ha)+"px");Dc(F,"font-style",ha.fontStyle);Dc(F,"font-variant",ha.fontVariant);Dc(F,"font-weight",ha.fontWeight)}};g.inherits(ae,xc,{svg(){return this._text},_render(t){const F=Ad();F.open("svg",g.extend({},Hg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ha=this._bgcolor;ha&&"transparent"!==ha&&"none"!==
ha&&F.open("rect",{width:this._width,height:this._height,fill:ha}).close();F.open("g",Hh,{transform:"translate("+this._origin+")"});this.mark(F,t);F.close();this.defs(F);this._text=F.close()+"";return this},mark(t,F){const ha=Ag[F.marktype],l=ha.tag,y=[Kc,ha.attr];t.open("g",{"class":ea(F),"clip-path":F.clip?zc(this,F,F.group):null},Xc(F),{"pointer-events":"g"!==l&&!1===F.interactive?"none":null});const ca=pa=>{const Va=this.href(pa);Va&&t.open("a",Va);t.open(l,this.attr(F,pa,y,"g"!==l?l:null));if("text"===
l){var $a=Jd(pa);if(g.isArray($a)){var Hb={x:0,dy:vd(pa)};for(var fc=0;fc<$a.length;++fc)t.open("tspan",fc?Hb:null).text(Fd(pa,$a[fc])).close()}else t.text(Fd(pa,$a))}else"g"===l&&($a=pa.strokeForeground,Hb=pa.fill,fc=pa.stroke,$a&&fc&&(pa.stroke=null),t.open("path",this.attr(F,pa,ha.background,"bgrect")).close(),t.open("g",this.attr(F,pa,ha.content)),Eb(pa,Sb=>this.mark(t,Sb)),t.close(),$a&&fc?(Hb&&(pa.fill=null),pa.stroke=fc,t.open("path",this.attr(F,pa,ha.foreground,"bgrect")).close(),Hb&&(pa.fill=
Hb)):t.open("path",this.attr(F,pa,ha.foreground,"bgfore")).close());t.close();Va&&t.close()};ha.nested?F.items&&F.items.length&&ca(F.items[0]):Eb(F,ca);return t.close()},href(t){const F=t.href;if(F){if(t=this._hrefs&&this._hrefs[F])return t;this.sanitizeURL(F).then(ha=>{ha["xlink:href"]=ha.href;ha.href=null;(this._hrefs||(this._hrefs={}))[F]=ha})}return null},attr(t,F,ha,l){const y={},ca=(pa,Va,$a,Hb)=>{y[Hb||pa]=Va};Array.isArray(ha)?ha.forEach(pa=>pa(ca,F,this)):ha(ca,F,this);l&&Yd(y,F,t,l,this._defs);
return y},defs(t){var F=this._defs.gradient;const ha=this._defs.clipping;if(0!==Object.keys(F).length+Object.keys(ha).length){t.open("defs");for(const y in F){var l=F[y];const ca=l.stops;"radial"===l.gradient?(t.open("pattern",{id:"p_"+y,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+y+")"}).close(),t.close(),t.open("radialGradient",{id:y,fx:l.x1,fy:l.y1,fr:l.r1,cx:l.x2,cy:l.y2,r:l.r2})):t.open("linearGradient",
{id:y,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2});for(l=0;l<ca.length;++l)t.open("stop",{offset:ca[l].offset,"stop-color":ca[l].color}).close();t.close()}for(const y in ha)F=ha[y],t.open("clipPath",{id:y}),F.path?t.open("path",{d:F.path}).close():t.open("rect",{x:0,y:0,width:F.width,height:F.height}).close(),t.close();t.close()}}});const Bg={};Bg.canvas=Bg.png={renderer:qc,headless:qc,handler:Tc};Bg.svg={renderer:ye,headless:ae,handler:pd};Bg.none={};const Mf=new Rc;r.Bounds=Rc;r.CanvasHandler=Tc;r.CanvasRenderer=
qc;r.Gradient=function(t,F){var ha=[],l;return l={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:ha,stop:function(y,ca){ha.push({offset:y,color:ca});return l}}};r.GroupItem=Ia;r.Handler=$b;r.Item=Sd;r.Marks=Ag;r.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};r.Renderer=xc;r.ResourceLoader=Wb;r.SVGHandler=pd;r.SVGRenderer=ye;r.SVGStringRenderer=ae;r.Scenegraph=eb;r.boundClip=function(t){const F=t.clip;if(g.isFunction(F))F(bc(Mf.clear()));else if(F)Mf.set(0,0,
t.group.width,t.group.height);else return;t.bounds.intersect(Mf)};r.boundContext=bc;r.boundItem=df;r.boundMark=re;r.boundStroke=kb;r.domChild=Ub;r.domClear=I;r.domCreate=Xb;r.domFind=Cc;r.font=se;r.fontFamily=Md;r.fontSize=Oc;r.intersect=function(t,F,ha){const l=[];F=(new Rc).union(F);const y=t.marktype;return y?le(t,F,ha,l):"group"===y?N(t,F,ha,l):g.error("Intersect scene must be mark node or group item.")};r.intersectBoxLine=Fa;r.intersectPath=Gc;r.intersectPoint=ad;r.intersectRule=ud;r.lineHeight=
vd;r.markup=Ad;r.multiLineOffset=function(t){const F=Jd(t);return(g.isArray(F)?F.length-1:0)*vd(t)};r.path=Ac;r.pathCurves=D;r.pathEqual=ka;r.pathParse=V;r.pathRectangle=Gb;r.pathRender=W;r.pathSymbols=K;r.pathTrail=tc;r.point=Ta;r.renderModule=function(t,F){t=String(t||"").toLowerCase();return 1<arguments.length?(Bg[t]=F,this):Bg[t]};r.resetSVGClipId=function(){hd=1};r.resetSVGDefIds=function(){hd=1;Ha=0};r.sceneEqual=G;r.sceneFromJSON=T;r.scenePickVisit=mc;r.sceneToJSON=nf;r.sceneVisit=Eb;r.sceneZOrder=
jb;r.serializeXML=Xh;r.textMetrics=Eh;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[47]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(44),Cb(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib){function Fb(f){const v=f||g.identity,m=[],C={};m.add=B=>{const z=v(B);C[z]||(C[z]=1,m.push(B));return m};m.remove=B=>{const z=v(B);C[z]&&(C[z]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function Zb(f,v){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield v(f)}catch(m){f.error(m)}})}function oc(f){f=f===Object(f)?f:{data:f};if(!f[Y]){var v=Ga++;f[Y]=v}return f}function kc(f,v){for(const m in f)v[m]=f[m];return v}function Ac(f){return f&&f.constructor===Ab}function Ab(){const f=[],v=[],m=[],C=[],B=[];let z=null,E=!1;return{constructor:Ab,insert(D){D=g.array(D);const V=D.length;for(let Aa=0;Aa<V;++Aa)f.push(D[Aa]);return this},
remove(D){const V=g.isFunction(D)?C:v;D=g.array(D);const Aa=D.length;for(let W=0;W<Aa;++W)V.push(D[W]);return this},modify(D,V,Aa){V={field:V,value:g.constant(Aa)};g.isFunction(D)?(V.filter=D,B.push(V)):(V.tuple=D,m.push(V));return this},encode(D,V){g.isFunction(D)?B.push({filter:D,field:V}):m.push({tuple:D,field:V});return this},clean(D){z=D;return this},reflow(){E=!0;return this},pulse(D,V){function Aa(Ba,ab,Gb){Gb?Ba[ab]=Gb(Ba):D.encode=ab;E||(u[Ba[Y]]=Ba)}const W={},u={};let K,va,Ja,Za,Wa,X;K=
0;for(va=V.length;K<va;++K)W[V[K][Y]]=1;K=0;for(va=v.length;K<va;++K)Wa=v[K],W[Wa[Y]]=-1;K=0;for(va=C.length;K<va;++K)Za=C[K],V.forEach(Ba=>{Za(Ba)&&(W[Ba[Y]]=-1)});K=0;for(va=f.length;K<va;++K)Wa=f[K],X=Wa[Y],W[X]?W[X]=1:D.add.push(oc(f[K]));K=0;for(va=V.length;K<va;++K)Wa=V[K],0>W[Wa[Y]]&&D.rem.push(Wa);K=0;for(va=m.length;K<va;++K)Ja=m[K],Wa=Ja.tuple,Za=Ja.field,X=W[Wa[Y]],0<X&&(Aa(Wa,Za,Ja.value),D.modifies(Za));K=0;for(va=B.length;K<va;++K)Ja=B[K],Za=Ja.filter,V.forEach(Ba=>{Za(Ba)&&0<W[Ba[Y]]&&
Aa(Ba,Ja.field,Ja.value)}),D.modifies(Ja.field);if(E)D.mod=v.length||C.length?V.filter(Ba=>0<W[Ba[Y]]):V.slice();else for(X in u)D.mod.push(u[X]);(z||null==z&&(v.length||C.length))&&D.clean(!0);return D}}}function ec(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function pc(f,v,m,C){this.id=++Ea;this.value=f;this.qrank=this.rank=this.stamp=-1;this.flags=0;v&&(this._update=v);m&&this.parameters(m,C)}function Ya(f){return function(v){const m=this.flags;if(0===arguments.length)return!!(m&
f);this.flags=v?m|f:m&~f;return this}}function rb(f,v,m){this.id=++ba;this.value=null;m&&(this.receive=m);f&&(this._filter=f);v&&(this._apply=v)}function Ib(f,v,m){return new rb(f,v,m)}function Nb(f){let v;const m=new Promise(C=>v=C);m.requests=0;m.done=()=>{0===--m.requests&&(f._pending=null,v(f))};return f._pending=m}function Bb(f,v,m,C,B,z){const E=g.extend({},z,na);let D;g.isFunction(m)||(m=g.constant(m));void 0===C?B=V=>f.touch(m(V)):g.isFunction(C)?(D=new pc(null,C,B,!1),B=V=>{D.evaluate(V);
V=m(V);const Aa=D.value;Ac(Aa)?f.pulse(V,Aa,z):f.update(V,Aa,E)}):B=V=>f.update(m(V),C,E);v.apply(B)}function Ob(f,v,m,C,B,z){void 0===C?v.targets().add(m):(z=z||{},C=new pc(null,Xa(m,C),B,!1),C.modified(z.force),C.rank=v.rank,v.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),f.connect(m,[C])))}function Xa(f,v){v=g.isFunction(v)?v:g.constant(v);return f?function(m,C){m=v(m,C);f.skip()||(f.skip(m!==this.value).value=m);return m}:v}function qb(f,v,m){this.dataflow=f;this.stamp=null==
v?-1:v;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Oa(f,v){const m=[];g.visitArray(f,v,C=>m.push(C));return m}function Ca(f,v){const m={};f.visit(v,C=>{m[C[Y]]=1});return C=>m[C[Y]]?null:C}function Qa(f,v){return f?(m,C)=>f(m,C)&&v(m,C):v}function lb(f,v,m,C){const B=m.length;let z=0;this.dataflow=f;this.stamp=v;this.fields=null;this.encode=C||null;this.pulses=m;for(f=0;f<B;++f)if(C=m[f],C.stamp===v){if(C.fields){const E=this.fields||(this.fields={});for(const D in C.fields)E[D]=
1}C.changed(this.ADD)&&(z|=this.ADD);C.changed(this.REM)&&(z|=this.REM);C.changed(this.MOD)&&(z|=this.MOD)}this.changes=z}function mb(f){f.error("Dataflow already running. Use runAsync() to chain invocations.");return f}function Na(f,v){if(v&&v.stamp===f.stamp)return v;f=f.fork();v&&v!==p&&(f.source=v.source);return f}function vb(f){let v=[];return{clear:()=>v=[],size:()=>v.length,peek:()=>v[0],push:m=>{v.push(m);return pb(v,0,v.length-1,f)},pop:()=>{var m=v.pop();let C;if(v.length){C=v[0];v[0]=m;
m=v;var B=0;const z=B,E=m.length,D=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=f(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=D;pb(m,z,B,f)}else C=m;return C}}}function pb(f,v,m,C){let B,z;const E=f[m];for(;m>v;)if(z=m-1>>1,B=f[z],0>C(E,B))f[m]=B,m=z;else break;return f[m]=E}function Mb(){this.logger(g.logger());this.logLevel(g.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=ra.loader()}catch(f){}this._touched=Fb(g.id);this._input={};this._pulse=null;this._heap=
vb((f,v)=>f.qrank-v.qrank);this._postrun=[]}function Vb(f){return function(){return this._log[f].apply(this,arguments)}}function ob(f,v){pc.call(this,f,null,v)}function ma(f){f=f&&f.toLowerCase();return g.hasOwnProperty(O,f)?O[f]:null}const Y=Symbol("vega_id");let Ga=1;ec.prototype={set(f,v,m,C){const B=this[f],z=this["_:mod:_"];if(null!=v&&0<=v){if(B[v]!==m||C)B[v]=m,z[v+":"+f]=-1,z[f]=-1}else if(B!==m||C)this[f]=m,z[f]=g.isArray(m)?1+m.length:-1;return this},modified(f,v){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(g.isArray(f)){for(C=0;C<f.length;++C)if(m[f[C]])return!0;return!1}return null!=v&&0<=v?v+1<m[f]||!!m[v+":"+f]:!!m[f]},clear(){this["_:mod:_"]={};return this}};let Ea=0;const db=new ec;pc.prototype={targets(){return this._targets||(this._targets=Fb(g.id))},set(f){return this.value!==f?(this.value=f,1):0},skip:Ya(1),modified:Ya(2),parameters(f,v,m){v=!1!==v;const C=this._argval=this._argval||new ec,B=this._argops=this._argops||[],z=[];
let E,D,V,Aa;const W=(u,K,va)=>{va instanceof pc?(va!==this&&(v&&va.targets().add(this),z.push(va)),B.push({op:va,name:u,index:K})):C.set(u,K,va)};for(E in f)if(D=f[E],"pulse"===E)g.array(D).forEach(u=>{u instanceof pc?u!==this&&(u.targets().add(this),z.push(u)):g.error("Pulse parameters must be operator instances.")}),this.source=D;else if(g.isArray(D))for(C.set(E,-1,Array(V=D.length)),Aa=0;Aa<V;++Aa)W(E,Aa,D[Aa]);else W(E,-1,D);this.marshall().clear();m&&(B.initonly=!0);return z},marshall(f){const v=
this._argval||db,m=this._argops;let C,B,z,E;if(m){const D=m.length;for(B=0;B<D;++B)C=m[B],z=C.op,E=z.modified()&&z.stamp===f,v.set(C.name,C.index,z.value,E);if(m.initonly){for(B=0;B<D;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return v},detach(){const f=this._argops;let v,m;if(f)for(v=0,m=f.length;v<m;++v){var C=f[v];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(f){var v=this._update;if(v){const m=this.marshall(f.stamp);v=v.call(this,
m,f);m.clear();if(v!==this.value)this.value=v;else if(!this.modified())return f.StopPropagation}},run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?(this.skip(!1),v=0):v=this.evaluate(f);return this.pulse=v||f}};let ba=0;rb.prototype={_filter:g.truthy,_apply:g.identity,targets(){return this._targets||(this._targets=Fb(g.id))},consume(f){if(!arguments.length)return!!this._consume;this._consume=!!f;return this},receive(f){if(this._filter(f)){const v=this.value=this._apply(f),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(v);this._consume&&(f.preventDefault(),f.stopPropagation())}},filter(f){f=Ib(f);this.targets().add(f);return f},apply(f){f=Ib(null,f);this.targets().add(f);return f},merge(){const f=Ib();this.targets().add(f);for(let v=0,m=arguments.length;v<m;++v)arguments[v].targets().add(f);return f},throttle(f){let v=-1;return this.filter(()=>{const m=Date.now();return m-v>f?(v=m,1):0})},debounce(f){const v=Ib();this.targets().add(Ib(null,null,g.debounce(f,
m=>{const C=m.dataflow;v.receive(m);C&&C.run&&C.run()})));return v},between(f,v){let m=!1;f.targets().add(Ib(null,null,()=>m=!0));v.targets().add(Ib(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=g.truthy;this._targets=null}};const na={skip:!0},p={};qb.prototype={StopPropagation:p,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(f){return(new qb(this.dataflow)).init(this,f)},clone(){const f=this.fork(7);f.add=f.add.slice();f.rem=
f.rem.slice();f.mod=f.mod.slice();f.source&&(f.source=f.source.slice());return f.materialize(23)},addAll(){let f=this;f.source&&f.add!==f.rem&&(f.rem.length||f.source.length!==f.add.length)&&(f=(new qb(this.dataflow)).init(this),f.add=f.source,f.rem=[]);return f},init(f,v){this.stamp=f.stamp;this.encode=f.encode;!f.fields||v&64||(this.fields=f.fields);v&1?(this.addF=f.addF,this.add=f.add):(this.addF=null,this.add=[]);v&2?(this.remF=f.remF,this.rem=f.rem):(this.remF=null,this.rem=[]);v&4?(this.modF=
f.modF,this.mod=f.mod):(this.modF=null,this.mod=[]);v&32?this.source=this.srcF=null:(this.srcF=f.srcF,this.source=f.source,f.cleans&&(this.cleans=f.cleans));return this},runAfter(f){this.dataflow.runAfter(f)},changed(f){f=f||7;return f&1&&this.add.length||f&2&&this.rem.length||f&4&&this.mod.length},reflow(f){if(f)return this.fork(7).reflow();f=this.add.length;const v=this.source&&this.source.length;v&&v!==f&&(this.mod=this.source,f&&this.filter(4,Ca(this,1)));return this},clean(f){return arguments.length?
(this.cleans=!!f,this):this.cleans},modifies(f){const v=this.fields||(this.fields={});g.isArray(f)?f.forEach(m=>v[m]=!0):v[f]=!0;return this},modified(f,v){const m=this.fields;return(v||this.mod.length)&&m?arguments.length?g.isArray(f)?f.some(C=>m[C]):m[f]:!!m:!1},filter(f,v){f&1&&(this.addF=Qa(this.addF,v));f&2&&(this.remF=Qa(this.remF,v));f&4&&(this.modF=Qa(this.modF,v));f&16&&(this.srcF=Qa(this.srcF,v));return this},materialize(f){f=f||7;f&1&&this.addF&&(this.add=Oa(this.add,this.addF),this.addF=
null);f&2&&this.remF&&(this.rem=Oa(this.rem,this.remF),this.remF=null);f&4&&this.modF&&(this.mod=Oa(this.mod,this.modF),this.modF=null);f&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(f,v){if(f&16)return g.visitArray(this.source,this.srcF,v),this;f&1&&g.visitArray(this.add,this.addF,v);f&2&&g.visitArray(this.rem,this.remF,v);f&4&&g.visitArray(this.mod,this.modF,v);const m=this.source;f&8&&m&&(f=this.add.length+this.mod.length,f!==m.length&&(f?g.visitArray(m,
Ca(this,5),v):g.visitArray(m,this.srcF,v)));return this}};g.inherits(lb,qb,{fork(f){const v=(new qb(this.dataflow)).init(this,f&this.NO_FIELDS);void 0!==f&&(f&v.ADD&&this.visit(v.ADD,m=>v.add.push(m)),f&v.REM&&this.visit(v.REM,m=>v.rem.push(m)),f&v.MOD&&this.visit(v.MOD,m=>v.mod.push(m)));return v},changed(f){return this.changes&f},modified(f){const v=this.fields;return v&&this.changes&this.MOD?g.isArray(f)?f.some(m=>v[m]):v[f]:0},filter(){g.error("MultiPulse does not support filtering.")},materialize(){g.error("MultiPulse does not support materialization.")},
visit(f,v){const m=this.pulses,C=m.length;let B=0;if(f&this.SOURCE)for(;B<C;++B)m[B].visit(f,v);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(f,v);return this}});const L={skip:!1,force:!1};Mb.prototype={stamp(){return this._clock},loader(f){return arguments.length?(this._loader=f,this):this._loader},locale(f){return arguments.length?(this._locale=f,this):this._locale},logger(f){return arguments.length?(this._log=f,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),
logLevel:Vb("level"),cleanThreshold:1E4,add:function(f,v,m,C){let B=1;f instanceof pc||(f&&f.prototype instanceof pc?f=new f:g.isFunction(f)?f=new pc(null,f):(B=0,f=new pc(f,v)));this.rank(f);B&&(C=m,m=v);m&&this.connect(f,f.parameters(m,C));this.touch(f);return f},connect:function(f,v){const m=f.rank,C=v.length;for(let B=0;B<C;++B)if(m<v[B].rank){this.rerank(f);break}},rank:function(f){f.rank=++this._rank},rerank:function(f){const v=[f];let m,C,B;for(;v.length;)if(this.rank(m=v.pop()),C=m._targets)for(B=
C.length;0<=--B;)v.push(m=C[B]),m===f&&g.error("Cycle detected in dataflow graph.")},pulse:function(f,v,m){this.touch(f,m||L);m=new qb(this,this._clock+(this._pulse?0:1));const C=f.pulse&&f.pulse.source||[];m.target=f;this._input[f.id]=v.pulse(m,C);return this},touch:function(f,v){v=v||L;this._pulse?this._enqueue(f):this._touched.add(f);v.skip&&f.skip(!0);return this},update:function(f,v,m){m=m||L;(f.set(v)||m.force)&&this.touch(f,m);return this},changeset:Ab,ingest:function(f,v,m){v=this.parse(v,
m);return this.pulse(f,this.changeset().insert(v))},parse:function(f,v){const m=this.locale();return ra.read(f,v,m.timeParse,m.utcParse)},preload:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Nb(C);B.requests+=1;const z=yield C.request(v,m);C.pulse(f,C.changeset().remove(g.truthy).insert(z.data||[]));B.done();return z})},request:function(f,v){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(f,{context:"dataflow",response:ra.responseType(v&&v.type)});try{B=m.parse(B,v)}catch(z){C=-2,m.warn("Data ingestion failed",f,z)}}catch(z){C=-1,m.warn("Loading failed",f,z)}return{data:B,status:C}})},events:function(f,v,m,C){const B=this,z=Ib(m,C);m=function(E){E.dataflow=B;try{z.receive(E)}catch(D){B.error(D)}finally{B.run()}};f="string"===typeof f&&"undefined"!==typeof document?document.querySelectorAll(f):g.array(f);C=f.length;for(let E=0;E<C;++E)f[E].addEventListener(v,m);
return z},on:function(f,v,m,C,B){(f instanceof pc?Ob:Bb)(this,f,v,m,C,B);return this},evaluate:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);v&&(yield Zb(C,v));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var z=++C._clock;C._pulse=new qb(C,z,f);C._touched.forEach(W=>C._enqueue(W,!0));C._touched=Fb(g.id);var E=0;let D,V,Aa;try{for(;0<C._heap.size();)D=
C._heap.pop(),D.rank!==D.qrank?C._enqueue(D,!0):(V=D.run(C._getPulse(D,f)),V.then?V=yield V:V.async&&(B.push(V.async),V=p),V!==p&&D._targets&&D._targets.forEach(W=>C._enqueue(W)),++E)}catch(W){C._heap.clear(),Aa=W}C._input={};C._pulse=null;C.debug(`Pulse ${z}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(z=C._postrun.sort((W,u)=>u.priority-W.priority),C._postrun=[],E=0;E<z.length;++E)yield Zb(C,z[E].callback);m&&(yield Zb(C,m));B.length&&Promise.all(B).then(W=>C.runAsync(null,
()=>{W.forEach(u=>{try{u(C)}catch(K){C.error(K)}})}));return C})},run:function(f,v,m){return this._pulse?mb(this):(this.evaluate(f,v,m),this)},runAsync:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(f,v,m)).then(B,B);return C._running})},runAfter:function(f,v,m){if(this._pulse||v)this._postrun.push({priority:m||0,callback:f});else try{f(this)}catch(C){this.error(C)}},
_enqueue:function(f,v){const m=f.stamp<this._clock;m&&(f.stamp=this._clock);if(m||v)f.qrank=f.rank,this._heap.push(f)},_getPulse:function(f,v){const m=f.source,C=this._clock;return m&&g.isArray(m)?new lb(this,C,m.map(B=>B.pulse),v):this._input[f.id]||Na(this._pulse,m&&m.pulse)}};g.inherits(ob,pc,{run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?this.skip(!1):v=this.evaluate(f);v=v||f;v.then?v=v.then(m=>this.pulse=m):v!==f.StopPropagation&&(this.pulse=v);return v},evaluate(f){const v=
this.marshall(f.stamp);f=this.transform(v,f);v.clear();return f},transform(){}});const O={};r.Dataflow=Mb;r.EventStream=rb;r.MultiPulse=lb;r.Operator=pc;r.Parameters=ec;r.Pulse=qb;r.Transform=ob;r.UniqueList=Fb;r.asyncCallback=Zb;r.changeset=Ab;r.definition=function(f){return(f=ma(f))&&f.Definition||null};r.derive=function(f){return kc(f,oc({}))};r.ingest=oc;r.isChangeSet=Ac;r.isTuple=function(f){return!(!f||!f[Y])};r.rederive=kc;r.replace=function(f,v){v[Y]=f[Y];return v};r.stableCompare=function(f,
v){return f?v?(m,C)=>f(m,C)||v(m)[Y]-v(C)[Y]:(m,C)=>f(m,C)||m[Y]-C[Y]:null};r.transform=ma;r.transforms=O;r.tupleid=function(f){return f[Y]};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[48]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(46),Cb(41),Cb(47),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb){function Zb(ob,ma){const Y=ob.bitmap();(ma||[]).forEach(Ga=>Y.set(ob(Ga.boundary[0]),ob(Ga.boundary[3])));
return[Y,void 0]}function oc(ob,ma,Y,Ga,Ea){const db=ob.width,ba=ob.height;Ga=Ga||Ea;const na=ra.canvas(db,ba).getContext("2d");var p=ra.canvas(db,ba).getContext("2d"),L=Ga&&ra.canvas(db,ba).getContext("2d");Y.forEach(D=>kc(na,D,!1));kc(p,ma,!1);Ga&&kc(L,ma,!0);ma=new Uint32Array(na.getImageData(0,0,db,ba).data.buffer);Y=new Uint32Array(p.getImageData(0,0,db,ba).data.buffer);L=Ga&&new Uint32Array(L.getImageData(0,0,db,ba).data.buffer);p=ob.bitmap();const O=Ga&&ob.bitmap();let f,v;let m,C,B,z;for(v=
0;v<ba;++v)for(f=0;f<db;++f){var E=v*db+f;C=ma[E]&4278190080;z=Y[E]&4278190080;B=Ga&&L[E]&4278190080;if(C||B||z)E=ob(f),m=ob(v),Ea||!C&&!z||p.set(E,m),Ga&&(C||B)&&O.set(E,m)}return[p,O]}function kc(ob,ma,Y){if(ma.length){var Ga=ma[0].mark.marktype;"group"===Ga?ma.forEach(Ea=>{Ea.items.forEach(db=>kc(ob,db.items,Y))}):g.Marks[Ga].draw(ob,{items:Y?ma.map(Ac):ma})}}function Ac(ob){ob=ib.rederive(ob,{});return ob.stroke&&0!==ob.strokeOpacity||ob.fill&&0!==ob.fillOpacity?Object.assign({},ob,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):ob}function Ab(ob,ma){const Y=new Uint32Array(~~((ob*ma+32)/32));return{array:Y,get:(Ga,Ea)=>{Ga=Ea*ob+Ga;return Y[Ga>>>5]&1<<(Ga&31)},set:(Ga,Ea)=>{Ga=Ea*ob+Ga;Y[Ga>>>5]|=1<<(Ga&31)},clear:(Ga,Ea)=>{Ga=Ea*ob+Ga;Y[Ga>>>5]&=~(1<<(Ga&31))},getRange:(Ga,Ea,db,ba)=>{let na,p,L;for(;ba>=Ea;--ba){var O=ba*ob+Ga;na=ba*ob+db;p=O>>>5;L=na>>>5;if(p===L){if(Y[p]&Oa[O&31]&Ca[(na&31)+1])return!0}else{if(Y[p]&Oa[O&31]||Y[L]&Ca[(na&31)+1])return!0;for(O=p+1;O<L;++O)if(Y[O])return!0}}return!1},
setRange:(Ga,Ea,db,ba)=>{let na,p,L;for(;Ea<=ba;++Ea){var O=Ea*ob+Ga;na=Ea*ob+db;p=O>>>5;L=na>>>5;if(p===L)Y[p]|=Oa[O&31]&Ca[(na&31)+1];else for(Y[p]|=Oa[O&31],Y[L]|=Ca[(na&31)+1],O=p+1;O<L;++O)Y[O]|=4294967295}},clearRange:(Ga,Ea,db,ba)=>{let na,p,L;for(;Ea<=ba;++Ea){var O=Ea*ob+Ga;na=Ea*ob+db;p=O>>>5;L=na>>>5;if(p===L)Y[p]&=Ca[O&31]|Oa[(na&31)+1];else for(Y[p]&=Ca[O&31],Y[L]&=Oa[(na&31)+1],O=p+1;O<L;++O)Y[O]&=0}},outOfBounds:(Ga,Ea,db,ba)=>0>Ga||0>Ea||ba>=ma||db>=ob}}function ec(ob,ma,Y){const Ga=
Math.max(1,Math.sqrt(ob*ma/1E6)),Ea=~~((ob+2*Y+Ga)/Ga),db=~~((ma+2*Y+Ga)/Ga),ba=na=>~~((na+Y)/Ga);ba.invert=na=>na*Ga-Y;ba.bitmap=()=>Ab(Ea,db);ba.ratio=Ga;ba.padding=Y;ba.width=ob;ba.height=ma;return ba}function pc(ob,ma,Y,Ga,Ea,db){Y/=2;return 0>ob-Y||ob+Y>Ea||0>ma-(Y=Ga/2)||ma+Y>db}function Ya(ob,ma,Y,Ga,Ea,db,ba,na){Ea=Ea*db/(2*Ga);Ga=ob(ma-Ea);ma=ob(ma+Ea);Ea=ob(Y-(db/=2));ob=ob(Y+db);return ba.outOfBounds(Ga,Ea,ma,ob)||ba.getRange(Ga,Ea,ma,ob)||na&&na.getRange(Ga,Ea,ma,ob)}function rb(ob,ma,
Y,Ga){const Ea=ob.width,db=ob.height,ba=ma[0],na=ma[1],p=Ga.length;return function(L){const O=L.boundary,f=L.datum.fontSize;if(0>O[2]||0>O[5]||O[0]>Ea||O[3]>db)return!1;var v;let m=null!=(v=L.textWidth)?v:0,C;let B,z;let E;let D;let V,Aa;for(let wc=0;wc<p;++wc){v=(Y[wc]&3)-1;C=(Y[wc]>>>2&3)-1;var W=0===v&&0===C||0>Ga[wc];var u=v&&C?Math.SQRT1_2:1;B=0>Ga[wc]?-1:1;z=O[1+v]+Ga[wc]*v*u;D=O[4+C]+B*f*C/2+Ga[wc]*C*u;u=D-f/2;E=D+f/2;var K=ob(z);V=ob(u);Aa=ob(E);if(!m){var va=K;var Ja=V;var Za=Aa;var Wa=ba,
X=na,Ba=W;if(Wa.outOfBounds(va,Ja,K,Za)||(Ba&&X||Wa).getRange(va,Ja,K,Za))continue;else m=g.textMetrics.width(L.datum,L.datum.text)}Ja=z+B*m*v/2;z=Ja-m/2;va=Ja+m/2;K=ob(z);Za=ob(va);Wa=K;X=Za;Ba=V;var ab=Aa,Gb=ba,tc=na;if(!Gb.outOfBounds(Wa,Ba,X,ab)&&!(W&&tc||Gb).getRange(Wa,Ba,X,ab))return L.x=v?0>v*B?va:z:Ja,L.y=C?0>C*B?E:u:D,L.align=mb[v*B+1],L.baseline=Na[C*B+1],ba.setRange(K,V,Za,Aa),!0}return!1}}function Ib(ob,ma,Y,Ga,Ea,db,ba,na,p,L,O){if(!ob.length)return ob;var f=Math.max(Ga.length,Ea.length);
const v=Nb(Ga,f);Ea=Bb(Ea,f);const m=Ob(ob[0].datum);var C="group"===m&&ob[0].datum.items[p].marktype;f="area"===C;const B=Xa(m,C,na,p),z=null===L||Infinity===L;C=f&&"naive"===O;let E=-1,D=-1;na=ob.map(W=>{const u=z?g.textMetrics.width(W,W.text):void 0;E=Math.max(E,u);D=Math.max(D,W.fontSize);return{datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:B(W),textWidth:u}});L=null===L||Infinity===L?Math.max(E,D)+Math.max(...Ga):L;ma=ec(ma[0],ma[1],L);if(!C){Y&&na.sort((W,u)=>Y(W.datum,
u.datum));var V=!1;for(Ga=0;Ga<Ea.length&&!V;++Ga)V=5===Ea[Ga]||0>v[Ga];ob=(m&&ba||f)&&ob.map(W=>W.datum);V=db.length||ob?oc(ma,ob||[],db,V,f):Zb(ma,ba&&na)}const Aa=f?pb[O](ma,V,ba,p):rb(ma,V,Ea,v);na.forEach(W=>W.opacity=+Aa(W));return na}function Nb(ob,ma){const Y=new Float64Array(ma),Ga=ob.length;for(let Ea=0;Ea<Ga;++Ea)Y[Ea]=ob[Ea]||0;for(ob=Ga;ob<ma;++ob)Y[ob]=Y[Ga-1];return Y}function Bb(ob,ma){const Y=new Int8Array(ma),Ga=ob.length;for(let Ea=0;Ea<Ga;++Ea)Y[Ea]|=vb[ob[Ea]];for(ob=Ga;ob<ma;++ob)Y[ob]=
Y[Ga-1];return Y}function Ob(ob){return ob&&ob.mark&&ob.mark.marktype}function Xa(ob,ma,Y,Ga){const Ea=db=>[db.x,db.x,db.x,db.y,db.y,db.y];return ob?"line"===ob||"area"===ob?db=>Ea(db.datum):"line"===ma?db=>{db=db.datum.items[Ga].items;return Ea(db.length?db["start"===Y?0:db.length-1]:{x:NaN,y:NaN})}:db=>{db=db.datum.bounds;return[db.x1,(db.x1+db.x2)/2,db.x2,db.y1,(db.y1+db.y2)/2,db.y2]}:Ea}function qb(ob){ib.Transform.call(this,null,ob)}const Oa=new Uint32Array(33),Ca=new Uint32Array(33);Ca[0]=0;
Oa[0]=~Ca[0];for(let ob=1;32>=ob;++ob)Ca[ob]=Ca[ob-1]<<1|1,Oa[ob]=~Ca[ob];const Qa=[-1,-1,1,1],lb=[-1,1,-1,1],mb=["right","center","left"],Na=["bottom","middle","top"],vb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},pb={naive:function(ob,ma,Y,Ga){const Ea=ob.width,db=ob.height;return function(ba){const na=ba.datum.datum.items[Ga].items,p=na.length,L=ba.datum.fontSize,O=g.textMetrics.width(ba.datum,ba.datum.text);let f=0;let v,m,C,B,z;for(let D=
0;D<p;++D){var E=na[D].x;m=na[D].y;v=void 0===na[D].x2?E:na[D].x2;C=void 0===na[D].y2?m:na[D].y2;B=(E+v)/2;z=(m+C)/2;E=Math.abs(v-E+C-m);E>=f&&(f=E,ba.x=B,ba.y=z)}B=O/2;z=L/2;E=ba.x-B;v=ba.x+B;m=ba.y-z;C=ba.y+z;ba.align="center";0>E&&v<=Ea?ba.align="left":0<=E&&Ea<v&&(ba.align="right");ba.baseline="middle";0>m&&C<=db?ba.baseline="top":0<=m&&db<C&&(ba.baseline="bottom");return!0}},"reduced-search":function(ob,ma,Y,Ga){function Ea(L,O,f,v,m){L=ob.invert(L);O=ob.invert(O);let C=f,B=ba,z;if(!pc(L,O,v,
m,db,ba)&&!Ya(ob,L,O,m,v,C,na,p)&&!Ya(ob,L,O,m,v,m,na,null)){for(;1<=B-C;)z=(C+B)/2,Ya(ob,L,O,m,v,z,na,p)?B=z:C=z;if(C>f)return[L,O,C,!0]}}const db=ob.width,ba=ob.height,na=ma[0],p=ma[1];return function(L){const O=L.datum.datum.items[Ga].items,f=O.length,v=L.datum.fontSize,m=g.textMetrics.width(L.datum,L.datum.text);let C=Y?v:0,B=!1,z=!1,E=0;let D;let V;let Aa,W,u,K,va,Ja,Za,Wa;for(let Gb=0;Gb<f;++Gb){var X=O[Gb].x;var Ba=O[Gb].y;D=void 0===O[Gb].x2?X:O[Gb].x2;V=void 0===O[Gb].y2?Ba:O[Gb].y2;if(X>
D){var ab=X;X=D;D=ab}Ba>V&&(ab=Ba,Ba=V,V=ab);W=ob(X);K=ob(D);u=~~((W+K)/2);va=ob(Ba);Za=ob(V);Ja=~~((va+Za)/2);for(ab=u;ab>=W;--ab)for(Aa=Ja;Aa>=va;--Aa)(Wa=Ea(ab,Aa,C,m,v))&&([L.x,L.y,C,B]=Wa);for(ab=u;ab<=K;++ab)for(Aa=Ja;Aa<=Za;++Aa)(Wa=Ea(ab,Aa,C,m,v))&&([L.x,L.y,C,B]=Wa);B||Y||(ab=Math.abs(D-X+V-Ba),X=(X+D)/2,Ba=(Ba+V)/2,ab>=E&&!pc(X,Ba,m,v,db,ba)&&!Ya(ob,X,Ba,v,m,v,na,null)&&(E=ab,L.x=X,L.y=Ba,z=!0))}return B||z?(X=m/2,Ba=v/2,na.setRange(ob(L.x-X),ob(L.y-Ba),ob(L.x+X),ob(L.y+Ba)),L.align="center",
L.baseline="middle",!0):!1}},floodfill:function(ob,ma,Y,Ga){const Ea=ob.width,db=ob.height,ba=ma[0],na=ma[1],p=ob.bitmap();return function(L){const O=L.datum.datum.items[Ga].items,f=O.length,v=L.datum.fontSize,m=g.textMetrics.width(L.datum,L.datum.text),C=[];let B=Y?v:0,z=!1,E=!1,D=0,V,Aa,W,u,K,va;var Ja;for(let X=0;X<f;++X){V=O[X].x;W=O[X].y;Aa=void 0===O[X].x2?V:O[X].x2;u=void 0===O[X].y2?W:O[X].y2;for(C.push([ob((V+Aa)/2),ob((W+u)/2)]);C.length;)if([Za,Wa]=C.pop(),!(ba.get(Za,Wa)||na.get(Za,Wa)||
p.get(Za,Wa))){p.set(Za,Wa);for(Ja=0;4>Ja;++Ja)K=Za+Qa[Ja],va=Wa+lb[Ja],p.outOfBounds(K,va,K,va)||C.push([K,va]);K=ob.invert(Za);va=ob.invert(Wa);var Za=B;var Wa=db;if(!pc(K,va,m,v,Ea,db)&&!Ya(ob,K,va,v,m,Za,ba,na)&&!Ya(ob,K,va,v,m,v,ba,null)){for(;1<=Wa-Za;)Ja=(Za+Wa)/2,Ya(ob,K,va,v,m,Ja,ba,na)?Wa=Ja:Za=Ja;Za>B&&(L.x=K,L.y=va,B=Za,z=!0)}}z||Y||(Za=Math.abs(Aa-V+u-W),K=(V+Aa)/2,va=(W+u)/2,Za>=D&&!pc(K,va,m,v,Ea,db)&&!Ya(ob,K,va,v,m,v,ba,null)&&(D=Za,L.x=K,L.y=va,E=!0))}return z||E?(K=m/2,va=v/2,ba.setRange(ob(L.x-
K),ob(L.y-va),ob(L.x+K),ob(L.y+va)),L.align="center",L.baseline="middle",!0):!1}}},Mb=["x","y","opacity","align","baseline"],Vb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");qb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Vb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},
{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Mb.length,default:Mb}]};Fb.inherits(qb,ib.Transform,{transform(ob,ma){function Y(db){db=ob[db];return Fb.isFunction(db)&&ma.modified(db.fields)}const Ga=ob.modified();if(Ga||ma.changed(ma.ADD_REM)||Y("sort")){ob.size&&
2===ob.size.length||Fb.error("Size parameter should be specified as a [width, height] array.");var Ea=ob.as||Mb;Ib(ma.materialize(ma.SOURCE).source||[],ob.size,ob.sort,Fb.array(null==ob.offset?1:ob.offset),Fb.array(ob.anchor||Vb),ob.avoidMarks||[],!1!==ob.avoidBaseMark,ob.lineAnchor||"end",ob.markIndex||0,void 0===ob.padding?0:ob.padding,ob.method||"naive").forEach(db=>{const ba=db.datum;ba[Ea[0]]=db.x;ba[Ea[1]]=db.y;ba[Ea[2]]=db.opacity;ba[Ea[3]]=db.align;ba[Ea[4]]=db.baseline});return ma.reflow(Ga).modifies(Ea)}}});
r.label=qb})};
shadow$provide[49]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function ra(u){const K=g.array(u).slice(),va={};K.length||g.error("Missing time unit.");K.forEach(Ja=>{g.hasOwnProperty(Ca,Ja)?va[Ja]=1:g.error(`Invalid time unit: ${Ja}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&g.error(`Incompatible time units: ${u}`);K.sort((Ja,Za)=>Ca[Ja]-Ca[Za]);return K}function ib(u,K,va,Ja){function Za(Wa){return u(Wa=0===arguments.length?new Date:new Date(+Wa)),Wa}Za.floor=function(Wa){return u(Wa=new Date(+Wa)),Wa};Za.ceil=function(Wa){return u(Wa=new Date(Wa-1)),K(Wa,1),u(Wa),Wa};Za.round=function(Wa){var X=Za(Wa),Ba=Za.ceil(Wa);return Wa-X<Ba-Wa?X:Ba};Za.offset=function(Wa,X){return K(Wa=new Date(+Wa),null==X?1:Math.floor(X)),Wa};Za.range=function(Wa,
X,Ba){var ab=[],Gb;Wa=Za.ceil(Wa);Ba=null==Ba?1:Math.floor(Ba);if(!(Wa<X&&0<Ba))return ab;do ab.push(Gb=new Date(+Wa)),K(Wa,Ba),u(Wa);while(Gb<Wa&&Wa<X);return ab};Za.filter=function(Wa){return ib(function(X){if(X>=X)for(;u(X),!Wa(X);)X.setTime(X-1)},function(X,Ba){if(X>=X)if(0>Ba)for(;0>=++Ba;)for(;K(X,-1),!Wa(X););else for(;0<=--Ba;)for(;K(X,1),!Wa(X););})};va&&(Za.count=function(Wa,X){lb.setTime(+Wa);mb.setTime(+X);u(lb);u(mb);return Math.floor(va(lb,mb))},Za.every=function(Wa){Wa=Math.floor(Wa);
return isFinite(Wa)&&0<Wa?1<Wa?Za.filter(Ja?function(X){return 0===Ja(X)%Wa}:function(X){return 0===Za.count(0,X)%Wa}):Za:null});return Za}function Fb(u){return ib(function(K){K.setDate(K.getDate()-(K.getDay()+7-u)%7);K.setHours(0,0,0,0)},function(K,va){K.setDate(K.getDate()+7*va)},function(K,va){return(va-K-6E4*(va.getTimezoneOffset()-K.getTimezoneOffset()))/6048E5})}function Zb(u){return ib(function(K){K.setUTCDate(K.getUTCDate()-(K.getUTCDay()+7-u)%7);K.setUTCHours(0,0,0,0)},function(K,va){K.setUTCDate(K.getUTCDate()+
7*va)},function(K,va){return(va-K)/6048E5})}function oc(u,K){return null==u||null==K?NaN:u<K?-1:u>K?1:u>=K?0:NaN}function kc(u){function K(Wa,X,Ba=0,ab=Wa.length){if(Ba<ab){if(0!==Ja(X,X))return ab;do{const Gb=Ba+ab>>>1;0>Za(Wa[Gb],X)?Ba=Gb+1:ab=Gb}while(Ba<ab)}return Ba}let va=u,Ja=u,Za=u;2!==u.length&&(va=(Wa,X)=>u(Wa)-X,Ja=oc,Za=(Wa,X)=>oc(u(Wa),X));return{left:K,center:function(Wa,X,Ba=0,ab=Wa.length){ab=K(Wa,X,Ba,ab-1);return ab>Ba&&va(Wa[ab-1],X)>-va(Wa[ab],X)?ab-1:ab},right:function(Wa,X,Ba=
0,ab=Wa.length){if(Ba<ab){if(0!==Ja(X,X))return ab;do{const Gb=Ba+ab>>>1;0>=Za(Wa[Gb],X)?Ba=Gb+1:ab=Gb}while(Ba<ab)}return Ba}}}function Ac(u,K,va){var Ja=Math.abs(K-u)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(Ja)/Math.LN10));Ja/=va;Ja>=L?va*=10:Ja>=O?va*=5:Ja>=f&&(va*=2);return K<u?-va:va}function Ab(u){v.setFullYear(u);v.setMonth(0);v.setDate(1);v.setHours(0,0,0,0);return v}function ec(u){return Vb.count(Ab(u.getFullYear())-1,u)}function pc(u){return ob.count(Ab(u.getFullYear())-1,u)}function Ya(u,
K,va,Ja,Za,Wa,X){return 0<=u&&100>u?(K=new Date(-1,K,va,Ja,Za,Wa,X),K.setFullYear(u),K):new Date(u,K,va,Ja,Za,Wa,X)}function rb(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return db.count(K-1,u)}function Ib(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return ba.count(K-1,u)}function Nb(u){v.setTime(Date.UTC(u,0,1));return v.getUTCDay()}function Bb(u,K,va,Ja,Za,Wa,X){return 0<=u&&100>u?(u=new Date(Date.UTC(-1,K,va,Ja,Za,Wa,X)),u.setUTCFullYear(va.y),u):new Date(Date.UTC(u,K,va,Ja,Za,Wa,X))}function Ob(u,
K,va,Ja,Za){const Wa=K||1,X=g.peek(u);K=(Rc,Sd,Ia)=>{Ia=Ia||Rc;return Xa(va[Ia],Ja[Ia],Rc===X&&Wa,Sd)};const Ba=new Date;u=g.toSet(u);const ab=u.year?K("year"):g.constant(2012),Gb=u.month?K("month"):u.quarter?K("quarter"):g.zero,tc=u.week&&u.day?K("day",1,"weekday"):u.week?K("week",1):u.day?K("day",1):u.date?K("date",1):u.dayofyear?K("dayofyear",1):g.one,wc=u.hours?K("hours"):g.zero,vc=u.minutes?K("minutes"):g.zero,Ec=u.seconds?K("seconds"):g.zero,zc=u.milliseconds?K("milliseconds"):g.zero;return function(Rc){Ba.setTime(+Rc);
Rc=ab(Ba);return Za(Rc,Gb(Ba),tc(Ba,Rc),wc(Ba),vc(Ba),Ec(Ba),zc(Ba))}}function Xa(u,K,va,Ja){const Za=1>=va?u:Ja?(Wa,X)=>Ja+va*Math.floor((u(Wa,X)-Ja)/va):(Wa,X)=>va*Math.floor(u(Wa,X)/va);return K?(Wa,X)=>K(Za(Wa,X),X):Za}function qb(u,K,va){return K+7*u-(va+6)%7}const Oa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ca=Oa.reduce((u,K,va)=>(u[K]=1+va,u),{}),Qa={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Na=ib(function(){},function(u,K){u.setTime(+u+K)},function(u,K){return K-u});Na.every=function(u){u=Math.floor(u);return isFinite(u)&&0<u?1<u?ib(function(K){K.setTime(Math.floor(K/u)*u)},function(K,va){K.setTime(+K+va*u)},function(K,va){return(va-K)/u}):Na:null};var vb=ib(function(u){u.setTime(u-u.getMilliseconds())},function(u,K){u.setTime(+u+
1E3*K)},function(u,K){return(K-u)/1E3},function(u){return u.getUTCSeconds()}),pb=ib(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds())},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getMinutes()}),Mb=ib(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds()-6E4*u.getMinutes())},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-u)/36E5},function(u){return u.getHours()}),Vb=ib(u=>u.setHours(0,0,0,0),(u,K)=>u.setDate(u.getDate()+
K),(u,K)=>(K-u-6E4*(K.getTimezoneOffset()-u.getTimezoneOffset()))/864E5,u=>u.getDate()-1),ob=Fb(0);Fb(1);Fb(2);Fb(3);Fb(4);Fb(5);Fb(6);var ma=ib(function(u){u.setDate(1);u.setHours(0,0,0,0)},function(u,K){u.setMonth(u.getMonth()+K)},function(u,K){return K.getMonth()-u.getMonth()+12*(K.getFullYear()-u.getFullYear())},function(u){return u.getMonth()}),Y=ib(function(u){u.setMonth(0,1);u.setHours(0,0,0,0)},function(u,K){u.setFullYear(u.getFullYear()+K)},function(u,K){return K.getFullYear()-u.getFullYear()},
function(u){return u.getFullYear()});Y.every=function(u){return isFinite(u=Math.floor(u))&&0<u?ib(function(K){K.setFullYear(Math.floor(K.getFullYear()/u)*u);K.setMonth(0,1);K.setHours(0,0,0,0)},function(K,va){K.setFullYear(K.getFullYear()+va*u)}):null};var Ga=ib(function(u){u.setUTCSeconds(0,0)},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getUTCMinutes()}),Ea=ib(function(u){u.setUTCMinutes(0,0,0)},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-
u)/36E5},function(u){return u.getUTCHours()}),db=ib(function(u){u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCDate(u.getUTCDate()+K)},function(u,K){return(K-u)/864E5},function(u){return u.getUTCDate()-1}),ba=Zb(0);Zb(1);Zb(2);Zb(3);Zb(4);Zb(5);Zb(6);var na=ib(function(u){u.setUTCDate(1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCMonth(u.getUTCMonth()+K)},function(u,K){return K.getUTCMonth()-u.getUTCMonth()+12*(K.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()}),p=ib(function(u){u.setUTCMonth(0,
1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCFullYear(u.getUTCFullYear()+K)},function(u,K){return K.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});p.every=function(u){return isFinite(u=Math.floor(u))&&0<u?ib(function(K){K.setUTCFullYear(Math.floor(K.getUTCFullYear()/u)*u);K.setUTCMonth(0,1);K.setUTCHours(0,0,0,0)},function(K,va){K.setUTCFullYear(K.getUTCFullYear()+va*u)}):null};var L=Math.sqrt(50),O=Math.sqrt(10),f=Math.sqrt(2);const v=new Date,m={year:u=>u.getFullYear(),
quarter:u=>Math.floor(u.getMonth()/3),month:u=>u.getMonth(),date:u=>u.getDate(),hours:u=>u.getHours(),minutes:u=>u.getMinutes(),seconds:u=>u.getSeconds(),milliseconds:u=>u.getMilliseconds(),dayofyear:u=>ec(u),week:u=>pc(u),weekday:(u,K)=>qb(pc(u),u.getDay(),Ab(K).getDay()),day:(u,K)=>qb(1,u.getDay(),Ab(K).getDay())},C={quarter:u=>3*u,week:(u,K)=>qb(u,0,Ab(K).getDay())},B={year:u=>u.getUTCFullYear(),quarter:u=>Math.floor(u.getUTCMonth()/3),month:u=>u.getUTCMonth(),date:u=>u.getUTCDate(),hours:u=>u.getUTCHours(),
minutes:u=>u.getUTCMinutes(),seconds:u=>u.getUTCSeconds(),milliseconds:u=>u.getUTCMilliseconds(),dayofyear:u=>rb(u),week:u=>Ib(u),day:(u,K)=>qb(1,u.getUTCDay(),Nb(K)),weekday:(u,K)=>qb(Ib(u),u.getUTCDay(),Nb(K))},z={quarter:u=>3*u,week:(u,K)=>qb(u,0,Nb(K))},E={year:Y,quarter:ma.every(3),month:ma,week:ob,date:Vb,day:Vb,dayofyear:Vb,hours:Mb,minutes:pb,seconds:vb,milliseconds:Na},D={year:p,quarter:na.every(3),month:na,week:ba,date:db,day:db,dayofyear:db,hours:Ea,minutes:Ga,seconds:vb,milliseconds:Na},
V="year month date hours minutes seconds milliseconds".split(" ");vb=V.slice(0,-1);pb=vb.slice(0,-1);Mb=pb.slice(0,-1);ma=Mb.slice(0,-1);Y=["year","month"];const Aa=["year"],W=[[vb,1,1E3],[vb,5,5E3],[vb,15,15E3],[vb,30,3E4],[pb,1,6E4],[pb,5,3E5],[pb,15,9E5],[pb,30,18E5],[Mb,1,36E5],[Mb,3,108E5],[Mb,6,216E5],[Mb,12,432E5],[ma,1,864E5],[["year","week"],1,6048E5],[Y,1,2592E6],[Y,3,7776E6],[Aa,1,31536E6]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";
r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";r.TIME_UNITS=Oa;r.WEEK="week";r.YEAR="year";r.dayofyear=function(u){return ec(new Date(u))};r.timeBin=function(u){var K=u.extent;u=u.maxbins||40;var va=Math.abs(g.span(K))/u;let Ja=kc(Za=>Za[2]).right(W,va);Ja===W.length?(va=Aa,K=Ac(K[0]/31536E6,K[1]/31536E6,u)):Ja?(Ja=W[va/W[Ja-1][2]<W[Ja][2]/va?Ja-1:Ja],va=Ja[0],K=Ja[1]):(va=V,K=Math.max(Ac(K[0],K[1],u),1));return{units:va,step:K}};r.timeFloor=function(u,K){return Ob(u,
K||1,m,C,Ya)};r.timeInterval=function(u){return E[u]};r.timeOffset=function(u,K,va){return(u=E[u])?u.offset(K,va):void 0};r.timeSequence=function(u,K,va,Ja){return(u=E[u])?u.range(K,va,Ja):void 0};r.timeUnitSpecifier=function(u,K){K=g.extend({},Qa,K);u=ra(u);const va=u.length;let Ja="",Za,Wa,X;for(Za=0;Za<va;)for(Wa=u.length;Wa>Za;--Wa)if(X=u.slice(Za,Wa).join("-"),null!=K[X]){Ja+=K[X];Za=Wa;break}return Ja.trim()};r.timeUnits=ra;r.utcFloor=function(u,K){return Ob(u,K||1,B,z,Bb)};r.utcInterval=function(u){return D[u]};
r.utcOffset=function(u,K,va){return(u=D[u])?u.offset(K,va):void 0};r.utcSequence=function(u,K,va,Ja){return(u=D[u])?u.range(K,va,Ja):void 0};r.utcdayofyear=function(u){return rb(new Date(u))};r.utcweek=function(u){return Ib(new Date(u))};r.week=function(u){return pc(new Date(u))};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[50]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(49),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(I){const ea={};return Ta=>ea[Ta]||(ea[Ta]=I(Ta))}function Fb(I,ea){if(0>(ea=(I=ea?I.toExponential(ea-1):I.toExponential()).indexOf("e")))return null;var Ta=I.slice(0,ea);return[1<
Ta.length?Ta[0]+Ta.slice(2):Ta,+I.slice(ea+1)]}function Zb(I){return I=Fb(Math.abs(I)),I?I[1]:NaN}function oc(I,ea){return function(Ta,$b){for(var Pc=Ta.length,xc=[],Tc=0,md=I[0],de=0;0<Pc&&0<md;){de+md+1>$b&&(md=Math.max(1,$b-de));xc.push(Ta.substring(Pc-=md,Pc+md));if((de+=md+1)>$b)break;md=I[Tc=(Tc+1)%I.length]}return xc.reverse().join(ea)}}function kc(I){return function(ea){return ea.replace(/[0-9]/g,function(Ta){return I[+Ta]})}}function Ac(I){if(!(ea=Vd.exec(I)))throw Error("invalid format: "+
I);var ea;return new Ab({fill:ea[1],align:ea[2],sign:ea[3],symbol:ea[4],zero:ea[5],width:ea[6],comma:ea[7],precision:ea[8]&&ea[8].slice(1),trim:ea[9],type:ea[10]})}function Ab(I){this.fill=void 0===I.fill?" ":I.fill+"";this.align=void 0===I.align?"\x3e":I.align+"";this.sign=void 0===I.sign?"-":I.sign+"";this.symbol=void 0===I.symbol?"":I.symbol+"";this.zero=!!I.zero;this.width=void 0===I.width?void 0:+I.width;this.comma=!!I.comma;this.precision=void 0===I.precision?void 0:+I.precision;this.trim=!!I.trim;
this.type=void 0===I.type?"":I.type+""}function ec(I,ea){ea=Fb(I,ea);if(!ea)return I+"";I=ea[0];ea=ea[1];return 0>ea?"0."+Array(-ea).join("0")+I:I.length>ea+1?I.slice(0,ea+1)+"."+I.slice(ea+1):I+Array(ea-I.length+2).join("0")}function pc(I){return I}function Ya(I){function ea(fb){function qc(Fc){var id=Oe,Dc=Ge,Gd,ae;if("c"===ye)Dc=tf(Fc)+Dc,Fc="";else{Fc=+Fc;var Yd=0>Fc||0>1/Fc;Fc=isNaN(Fc)?Sa:tf(Math.abs(Fc),Ad);if(Xd){var le=Fc.length,N=1,da=-1;a:for(;N<le;++N)switch(Fc[N]){case ".":da=Gd=N;break;
case "0":0===da&&(da=N);Gd=N;break;default:if(!+Fc[N])break a;0<da&&(da=0)}Fc=0<da?Fc.slice(0,da)+Fc.slice(Gd+1):Fc}Yd&&0===+Fc&&"+"!==Xc&&(Yd=!1);id=(Yd?"("===Xc?Xc:de:"-"===Xc||"("===Xc?"":Xc)+id;Dc=("s"===ye?Z[8+Te/3]:"")+Dc+(Yd&&"("===Xc?")":"");if(ld)for(Yd=-1,Gd=Fc.length;++Yd<Gd;)if(ae=Fc.charCodeAt(Yd),48>ae||57<ae){Dc=(46===ae?xc+Fc.slice(Yd+1):Fc.slice(Yd))+Dc;Fc=Fc.slice(0,Yd);break}}Qd&&!qd&&(Fc=Ta(Fc,Infinity));ae=id.length+Fc.length+Dc.length;Yd=ae<jd?Array(jd-ae+1).join(pd):"";Qd&&
qd&&(Fc=Ta(Yd+Fc,Yd.length?jd-Dc.length:Infinity),Yd="");switch(Kc){case "\x3c":Fc=id+Fc+Dc+Yd;break;case "\x3d":Fc=id+Yd+Fc+Dc;break;case "^":Fc=Yd.slice(0,ae=Yd.length>>1)+id+Fc+Dc+Yd.slice(ae);break;default:Fc=Yd+id+Fc+Dc}return Tc(Fc)}fb=Ac(fb);var pd=fb.fill,Kc=fb.align,Xc=fb.sign,Qc=fb.symbol,qd=fb.zero,jd=fb.width,Qd=fb.comma,Ad=fb.precision,Xd=fb.trim,ye=fb.type;"n"===ye?(Qd=!0,ye="g"):$d[ye]||(void 0===Ad&&(Ad=12),Xd=!0,ye="g");if(qd||"0"===pd&&"\x3d"===Kc)qd=!0,pd="0",Kc="\x3d";var Oe="$"===
Qc?$b:"#"===Qc&&/[boxX]/.test(ye)?"0"+ye.toLowerCase():"",Ge="$"===Qc?Pc:/[%p]/.test(ye)?md:"",tf=$d[ye],ld=/[defgprs%]/.test(ye);Ad=void 0===Ad?6:/[gprs]/.test(ye)?Math.max(1,Math.min(21,Ad)):Math.max(0,Math.min(20,Ad));qc.toString=function(){return fb+""};return qc}var Ta=void 0===I.grouping||void 0===I.thousands?pc:oc(M.call(I.grouping,Number),I.thousands+""),$b=void 0===I.currency?"":I.currency[0]+"",Pc=void 0===I.currency?"":I.currency[1]+"",xc=void 0===I.decimal?".":I.decimal+"",Tc=void 0===
I.numerals?pc:kc(M.call(I.numerals,String)),md=void 0===I.percent?"%":I.percent+"",de=void 0===I.minus?"−":I.minus+"",Sa=void 0===I.nan?"NaN":I.nan+"";return{format:ea,formatPrefix:function(fb,qc){var pd=ea((fb=Ac(fb),fb.type="f",fb));fb=3*Math.max(-8,Math.min(8,Math.floor(Zb(qc)/3)));var Kc=Math.pow(10,-fb),Xc=Z[8+fb/3];return function(Qc){return pd(Kc*Qc)+Xc}}}}function rb(I,ea){return Ta=>{Ta=I(Ta);const $b=Ta.indexOf(ea);if(0>$b)return Ta;a:{var Pc=Ta.lastIndexOf("e");if(!(0<Pc)){for(Pc=Ta.length;--Pc>
$b;){var xc=Ta.charCodeAt(Pc);if(48<=xc&&57>=xc){Pc+=1;break a}}Pc=void 0}}for(xc=Pc<Ta.length?Ta.slice(Pc):"";--Pc>$b;)if("0"!==Ta[Pc]){++Pc;break}return Ta.slice(0,Pc)+xc}}function Ib(I){const ea=ib(I.format),Ta=I.formatPrefix;return{format:ea,formatPrefix:Ta,formatFloat($b){$b=Ac($b||",");if(null==$b.precision){$b.precision=12;switch($b.type){case "%":$b.precision-=2;break;case "e":--$b.precision}return rb(ea($b),ea(".1f")(1)[1])}return ea($b)},formatSpan($b,Pc,xc,Tc){Tc=Ac(null==Tc?",f":Tc);var md=
Math.abs(Pc-$b)/Math.max(0,xc);xc=Math.pow(10,Math.floor(Math.log(md)/Math.LN10));md/=xc;md>=Cd?xc*=10:md>=be?xc*=5:md>=ce&&(xc*=2);xc=Pc<$b?-xc:xc;$b=Math.max(Math.abs($b),Math.abs(Pc));if(null==Tc.precision)switch(Tc.type){case "s":return Pc=isNaN,xc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zb($b)/3)))-Zb(Math.abs(xc))),Pc(Pc=xc)||(Tc.precision=Pc),Ta(Tc,$b);case "":case "e":case "g":case "p":case "r":Pc=isNaN;xc=Math.abs(xc);$b=Math.abs($b)-xc;$b=Math.max(0,Zb($b)-Zb(xc))+1;Pc(Pc=$b)||(Tc.precision=
Pc-("e"===Tc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-Zb(Math.abs(xc))))||(Tc.precision=Pc-2*("%"===Tc.type))}return ea(Tc)}}}function Nb(){return Tb=Ib({format:gb,formatPrefix:Jb})}function Bb(I){return Ib(Ya(I))}function Ob(I){return arguments.length?Tb=Bb(I):Tb}function Xa(I,ea,Ta,$b){function Pc(xc){return I(xc=0===arguments.length?new Date:new Date(+xc)),xc}Pc.floor=function(xc){return I(xc=new Date(+xc)),xc};Pc.ceil=function(xc){return I(xc=new Date(xc-1)),ea(xc,1),I(xc),xc};Pc.round=
function(xc){var Tc=Pc(xc),md=Pc.ceil(xc);return xc-Tc<md-xc?Tc:md};Pc.offset=function(xc,Tc){return ea(xc=new Date(+xc),null==Tc?1:Math.floor(Tc)),xc};Pc.range=function(xc,Tc,md){var de=[],Sa;xc=Pc.ceil(xc);md=null==md?1:Math.floor(md);if(!(xc<Tc&&0<md))return de;do de.push(Sa=new Date(+xc)),ea(xc,md),I(xc);while(Sa<xc&&xc<Tc);return de};Pc.filter=function(xc){return Xa(function(Tc){if(Tc>=Tc)for(;I(Tc),!xc(Tc);)Tc.setTime(Tc-1)},function(Tc,md){if(Tc>=Tc)if(0>md)for(;0>=++md;)for(;ea(Tc,-1),!xc(Tc););
else for(;0<=--md;)for(;ea(Tc,1),!xc(Tc););})};Ta&&(Pc.count=function(xc,Tc){Bc.setTime(+xc);ic.setTime(+Tc);I(Bc);I(ic);return Math.floor(Ta(Bc,ic))},Pc.every=function(xc){xc=Math.floor(xc);return isFinite(xc)&&0<xc?1<xc?Pc.filter($b?function(Tc){return 0===$b(Tc)%xc}:function(Tc){return 0===Pc.count(0,Tc)%xc}):Pc:null});return Pc}function qb(I){return Xa(function(ea){ea.setDate(ea.getDate()-(ea.getDay()+7-I)%7);ea.setHours(0,0,0,0)},function(ea,Ta){ea.setDate(ea.getDate()+7*Ta)},function(ea,Ta){return(Ta-
ea-6E4*(Ta.getTimezoneOffset()-ea.getTimezoneOffset()))/6048E5})}function Oa(I){return Xa(function(ea){ea.setUTCDate(ea.getUTCDate()-(ea.getUTCDay()+7-I)%7);ea.setUTCHours(0,0,0,0)},function(ea,Ta){ea.setUTCDate(ea.getUTCDate()+7*Ta)},function(ea,Ta){return(Ta-ea)/6048E5})}function Ca(I){if(0<=I.y&&100>I.y){var ea=new Date(-1,I.m,I.d,I.H,I.M,I.S,I.L);ea.setFullYear(I.y);return ea}return new Date(I.y,I.m,I.d,I.H,I.M,I.S,I.L)}function Qa(I){if(0<=I.y&&100>I.y){var ea=new Date(Date.UTC(-1,I.m,I.d,I.H,
I.M,I.S,I.L));ea.setUTCFullYear(I.y);return ea}return new Date(Date.UTC(I.y,I.m,I.d,I.H,I.M,I.S,I.L))}function lb(I,ea,Ta){return{y:I,m:ea,d:Ta,H:0,M:0,S:0,L:0}}function mb(I){function ea(ld,Fc){return function(id){var Dc=[],Gd=-1,ae=0,Yd=ld.length,le,N;for(id instanceof Date||(id=new Date(+id));++Gd<Yd;)if(37===ld.charCodeAt(Gd)){Dc.push(ld.slice(ae,Gd));null!=(ae=df[le=ld.charAt(++Gd)])?le=ld.charAt(++Gd):ae="e"===le?" ":"0";if(N=Fc[le])le=N(id,ae);Dc.push(le);ae=Gd+1}Dc.push(ld.slice(ae,Gd));return Dc.join("")}}
function Ta(ld,Fc){return function(id){var Dc=lb(1900,void 0,1);if($b(Dc,ld,id+="",0)!=id.length)return null;if("Q"in Dc)return new Date(Dc.Q);if("s"in Dc)return new Date(1E3*Dc.s+("L"in Dc?Dc.L:0));!Fc||"Z"in Dc||(Dc.Z=0);"p"in Dc&&(Dc.H=Dc.H%12+12*Dc.p);void 0===Dc.m&&(Dc.m="q"in Dc?Dc.q:0);if("V"in Dc){if(1>Dc.V||53<Dc.V)return null;"w"in Dc||(Dc.w=1);if("Z"in Dc){id=Qa(lb(Dc.y,0,1));var Gd=id.getUTCDay();id=4<Gd||0===Gd?se.ceil(id):se(id);id=Zd.offset(id,7*(Dc.V-1));Dc.y=id.getUTCFullYear();Dc.m=
id.getUTCMonth();Dc.d=id.getUTCDate()+(Dc.w+6)%7}else id=Ca(lb(Dc.y,0,1)),Gd=id.getDay(),id=4<Gd||0===Gd?Oc.ceil(id):Oc(id),id=Jc.offset(id,7*(Dc.V-1)),Dc.y=id.getFullYear(),Dc.m=id.getMonth(),Dc.d=id.getDate()+(Dc.w+6)%7}else if("W"in Dc||"U"in Dc)"w"in Dc||(Dc.w="u"in Dc?Dc.u%7:"W"in Dc?1:0),Gd="Z"in Dc?Qa(lb(Dc.y,0,1)).getUTCDay():Ca(lb(Dc.y,0,1)).getDay(),Dc.m=0,Dc.d="W"in Dc?(Dc.w+6)%7+7*Dc.W-(Gd+5)%7:Dc.w+7*Dc.U-(Gd+6)%7;return"Z"in Dc?(Dc.H+=Dc.Z/100|0,Dc.M+=Dc.Z%100,Qa(Dc)):Ca(Dc)}}function $b(ld,
Fc,id,Dc){for(var Gd=0,ae=Fc.length,Yd=id.length,le;Gd<ae;){if(Dc>=Yd)return-1;le=Fc.charCodeAt(Gd++);if(37===le){if(le=Fc.charAt(Gd++),le=tf[le in df?Fc.charAt(Gd++):le],!le||0>(Dc=le(ld,id,Dc)))return-1}else if(le!=id.charCodeAt(Dc++))return-1}return Dc}var Pc=I.dateTime,xc=I.date,Tc=I.time,md=I.periods,de=I.days,Sa=I.shortDays,fb=I.months,qc=I.shortMonths,pd=pb(md),Kc=Mb(md),Xc=pb(de),Qc=Mb(de),qd=pb(Sa),jd=Mb(Sa),Qd=pb(fb),Ad=Mb(fb),Xd=pb(qc),ye=Mb(qc),Oe={a:function(ld){return Sa[ld.getDay()]},
A:function(ld){return de[ld.getDay()]},b:function(ld){return qc[ld.getMonth()]},B:function(ld){return fb[ld.getMonth()]},c:null,d:V,e:V,f:va,g:Ec,G:Rc,H:Aa,I:W,j:u,L:K,m:Ja,M:Za,p:function(ld){return md[+(12<=ld.getHours())]},q:function(ld){return 1+~~(ld.getMonth()/3)},Q:mc,s:cc,S:Wa,u:X,U:Ba,V:Gb,w:tc,W:wc,x:null,X:null,y:vc,Y:zc,Z:Sd,"%":Eb},Ge={a:function(ld){return Sa[ld.getUTCDay()]},A:function(ld){return de[ld.getUTCDay()]},b:function(ld){return qc[ld.getUTCMonth()]},B:function(ld){return fb[ld.getUTCMonth()]},
c:null,d:Ia,e:Ia,f:hc,g:ya,G:bb,H:Wb,I:kb,j:bc,L:Yb,m:yc,M:Gc,p:function(ld){return md[+(12<=ld.getUTCHours())]},q:function(ld){return 1+~~(ld.getUTCMonth()/3)},Q:mc,s:cc,S:ad,u:Nd,U:ud,V:hb,w:ub,W:la,x:null,X:null,y:H,Y:Ka,Z:jb,"%":Eb},tf={a:function(ld,Fc,id){return(Fc=qd.exec(Fc.slice(id)))?(ld.w=jd.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},A:function(ld,Fc,id){return(Fc=Xc.exec(Fc.slice(id)))?(ld.w=Qc.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},b:function(ld,Fc,id){return(Fc=Xd.exec(Fc.slice(id)))?
(ld.m=ye.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},B:function(ld,Fc,id){return(Fc=Qd.exec(Fc.slice(id)))?(ld.m=Ad.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},c:function(ld,Fc,id){return $b(ld,Pc,Fc,id)},d:L,e:L,f:B,g:db,G:Ea,H:f,I:f,j:O,L:C,m:p,M:v,p:function(ld,Fc,id){return(Fc=pd.exec(Fc.slice(id)))?(ld.p=Kc.get(Fc[0].toLowerCase()),id+Fc[0].length):-1},q:na,Q:E,s:D,S:m,u:ob,U:ma,V:Y,w:Vb,W:Ga,x:function(ld,Fc,id){return $b(ld,xc,Fc,id)},X:function(ld,Fc,id){return $b(ld,Tc,Fc,id)},y:db,Y:Ea,
Z:ba,"%":z};Oe.x=ea(xc,Oe);Oe.X=ea(Tc,Oe);Oe.c=ea(Pc,Oe);Ge.x=ea(xc,Ge);Ge.X=ea(Tc,Ge);Ge.c=ea(Pc,Ge);return{format:function(ld){var Fc=ea(ld+="",Oe);Fc.toString=function(){return ld};return Fc},parse:function(ld){var Fc=Ta(ld+="",!1);Fc.toString=function(){return ld};return Fc},utcFormat:function(ld){var Fc=ea(ld+="",Ge);Fc.toString=function(){return ld};return Fc},utcParse:function(ld){var Fc=Ta(ld+="",!0);Fc.toString=function(){return ld};return Fc}}}function Na(I,ea,Ta){var $b=0>I?"-":"";I=($b?
-I:I)+"";var Pc=I.length;return $b+(Pc<Ta?Array(Ta-Pc+1).join(ea)+I:I)}function vb(I){return I.replace(T,"\\$\x26")}function pb(I){return new RegExp("^(?:"+I.map(vb).join("|")+")","i")}function Mb(I){return new Map(I.map((ea,Ta)=>[ea.toLowerCase(),Ta]))}function Vb(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+1)))?(I.w=+ea[0],Ta+ea[0].length):-1}function ob(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+1)))?(I.u=+ea[0],Ta+ea[0].length):-1}function ma(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.U=+ea[0],
Ta+ea[0].length):-1}function Y(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.V=+ea[0],Ta+ea[0].length):-1}function Ga(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.W=+ea[0],Ta+ea[0].length):-1}function Ea(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+4)))?(I.y=+ea[0],Ta+ea[0].length):-1}function db(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.y=+ea[0]+(68<+ea[0]?1900:2E3),Ta+ea[0].length):-1}function ba(I,ea,Ta){return(ea=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ea.slice(Ta,Ta+6)))?(I.Z=ea[1]?
0:-(ea[2]+(ea[3]||"00")),Ta+ea[0].length):-1}function na(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+1)))?(I.q=3*ea[0]-3,Ta+ea[0].length):-1}function p(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.m=ea[0]-1,Ta+ea[0].length):-1}function L(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.d=+ea[0],Ta+ea[0].length):-1}function O(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+3)))?(I.m=0,I.d=+ea[0],Ta+ea[0].length):-1}function f(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.H=+ea[0],Ta+ea[0].length):
-1}function v(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.M=+ea[0],Ta+ea[0].length):-1}function m(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+2)))?(I.S=+ea[0],Ta+ea[0].length):-1}function C(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+3)))?(I.L=+ea[0],Ta+ea[0].length):-1}function B(I,ea,Ta){return(ea=re.exec(ea.slice(Ta,Ta+6)))?(I.L=Math.floor(ea[0]/1E3),Ta+ea[0].length):-1}function z(I,ea,Ta){return(I=nf.exec(ea.slice(Ta,Ta+1)))?Ta+I[0].length:-1}function E(I,ea,Ta){return(ea=re.exec(ea.slice(Ta)))?
(I.Q=+ea[0],Ta+ea[0].length):-1}function D(I,ea,Ta){return(ea=re.exec(ea.slice(Ta)))?(I.s=+ea[0],Ta+ea[0].length):-1}function V(I,ea){return Na(I.getDate(),ea,2)}function Aa(I,ea){return Na(I.getHours(),ea,2)}function W(I,ea){return Na(I.getHours()%12||12,ea,2)}function u(I,ea){return Na(1+Jc.count(Fd(I),I),ea,3)}function K(I,ea){return Na(I.getMilliseconds(),ea,3)}function va(I,ea){return K(I,ea)+"000"}function Ja(I,ea){return Na(I.getMonth()+1,ea,2)}function Za(I,ea){return Na(I.getMinutes(),ea,
2)}function Wa(I,ea){return Na(I.getSeconds(),ea,2)}function X(I){I=I.getDay();return 0===I?7:I}function Ba(I,ea){return Na(dd.count(Fd(I)-1,I),ea,2)}function ab(I){var ea=I.getDay();return 4<=ea||0===ea?vd(I):vd.ceil(I)}function Gb(I,ea){I=ab(I);return Na(vd.count(Fd(I),I)+(4===Fd(I).getDay()),ea,2)}function tc(I){return I.getDay()}function wc(I,ea){return Na(Oc.count(Fd(I)-1,I),ea,2)}function vc(I,ea){return Na(I.getFullYear()%100,ea,2)}function Ec(I,ea){I=ab(I);return Na(I.getFullYear()%100,ea,
2)}function zc(I,ea){return Na(I.getFullYear()%1E4,ea,4)}function Rc(I,ea){var Ta=I.getDay();I=4<=Ta||0===Ta?vd(I):vd.ceil(I);return Na(I.getFullYear()%1E4,ea,4)}function Sd(I){I=I.getTimezoneOffset();return(0<I?"-":(I*=-1,"+"))+Na(I/60|0,"0",2)+Na(I%60,"0",2)}function Ia(I,ea){return Na(I.getUTCDate(),ea,2)}function Wb(I,ea){return Na(I.getUTCHours(),ea,2)}function kb(I,ea){return Na(I.getUTCHours()%12||12,ea,2)}function bc(I,ea){return Na(1+Zd.count(cf(I),I),ea,3)}function Yb(I,ea){return Na(I.getUTCMilliseconds(),
ea,3)}function hc(I,ea){return Yb(I,ea)+"000"}function yc(I,ea){return Na(I.getUTCMonth()+1,ea,2)}function Gc(I,ea){return Na(I.getUTCMinutes(),ea,2)}function ad(I,ea){return Na(I.getUTCSeconds(),ea,2)}function Nd(I){I=I.getUTCDay();return 0===I?7:I}function ud(I,ea){return Na(Md.count(cf(I)-1,I),ea,2)}function Fa(I){var ea=I.getUTCDay();return 4<=ea||0===ea?Ae(I):Ae.ceil(I)}function hb(I,ea){I=Fa(I);return Na(Ae.count(cf(I),I)+(4===cf(I).getUTCDay()),ea,2)}function ub(I){return I.getUTCDay()}function la(I,
ea){return Na(se.count(cf(I)-1,I),ea,2)}function H(I,ea){return Na(I.getUTCFullYear()%100,ea,2)}function ya(I,ea){I=Fa(I);return Na(I.getUTCFullYear()%100,ea,2)}function Ka(I,ea){return Na(I.getUTCFullYear()%1E4,ea,4)}function bb(I,ea){var Ta=I.getUTCDay();I=4<=Ta||0===Ta?Ae(I):Ae.ceil(I);return Na(I.getUTCFullYear()%1E4,ea,4)}function jb(){return"+0000"}function Eb(){return"%"}function mc(I){return+I}function cc(I){return Math.floor(+I/1E3)}function gc(I,ea,Ta){Ta=Ta||{};ra.isObject(Ta)||ra.error(`Invalid time multi-format specifier: ${Ta}`);
const $b=ea(g.SECONDS),Pc=ea(g.MINUTES),xc=ea(g.HOURS),Tc=ea(g.DATE),md=ea(g.WEEK),de=ea(g.MONTH),Sa=ea(g.QUARTER),fb=ea(g.YEAR),qc=I(Ta[g.MILLISECONDS]||".%L"),pd=I(Ta[g.SECONDS]||":%S"),Kc=I(Ta[g.MINUTES]||"%I:%M"),Xc=I(Ta[g.HOURS]||"%I %p"),Qc=I(Ta[g.DATE]||Ta[g.DAY]||"%a %d"),qd=I(Ta[g.WEEK]||"%b %d"),jd=I(Ta[g.MONTH]||"%B"),Qd=I(Ta[g.QUARTER]||"%B"),Ad=I(Ta[g.YEAR]||"%Y");return Xd=>($b(Xd)<Xd?qc:Pc(Xd)<Xd?pd:xc(Xd)<Xd?Kc:Tc(Xd)<Xd?Xc:de(Xd)<Xd?md(Xd)<Xd?Qc:qd:fb(Xd)<Xd?Sa(Xd)<Xd?jd:Qd:Ad)(Xd)}
function Sc(I){const ea=ib(I.format),Ta=ib(I.utcFormat);return{timeFormat:$b=>ra.isString($b)?ea($b):gc(ea,g.timeInterval,$b),utcFormat:$b=>ra.isString($b)?Ta($b):gc(Ta,g.utcInterval,$b),timeParse:ib(I.parse),utcParse:ib(I.utcParse)}}function ed(){return Ub=Sc({format:eb,parse:zb,utcFormat:Xb,utcParse:Cc})}function fd(I){return Sc(mb(I))}function Rd(I){return arguments.length?Ub=fd(I):Ub}function Td(I,ea){var Ta=arguments.length;Ta&&2!==Ta&&ra.error("defaultLocale expects either zero or two arguments.");
if(Ta){Ta=Ob(I);var $b=Rd(ea);Ta=ra.extend({},Ta,$b)}else Ta=Ob(),$b=Rd(),Ta=ra.extend({},Ta,$b);return Ta}var Cd=Math.sqrt(50),be=Math.sqrt(10),ce=Math.sqrt(2),Vd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ac.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Te,$d={"%":(I,ea)=>(100*I).toFixed(ea),b:I=>Math.round(I).toString(2),c:I=>I+"",d:function(I){return 1E21<=Math.abs(I=Math.round(I))?I.toLocaleString("en").replace(/,/g,""):I.toString(10)},e:(I,ea)=>I.toExponential(ea),f:(I,ea)=>I.toFixed(ea),g:(I,ea)=>I.toPrecision(ea),o:I=>Math.round(I).toString(8),p:(I,ea)=>ec(100*I,ea),r:ec,s:function(I,ea){var Ta=Fb(I,ea);if(!Ta)return I+"";var $b=Ta[0];Ta=Ta[1];Ta=Ta-(Te=3*Math.max(-8,Math.min(8,Math.floor(Ta/3))))+1;var Pc=$b.length;
return Ta===Pc?$b:Ta>Pc?$b+Array(Ta-Pc+1).join("0"):0<Ta?$b.slice(0,Ta)+"."+$b.slice(Ta):"0."+Array(1-Ta).join("0")+Fb(I,Math.max(0,ea+Ta-1))[0]},X:I=>Math.round(I).toString(16).toUpperCase(),x:I=>Math.round(I).toString(16)},M=Array.prototype.map,Z="y z a f p n µ m  k M G T P E Z Y".split(" "),La,gb,Jb;(function(I){La=Ya(I);gb=La.format;Jb=La.formatPrefix;return La})({thousands:",",grouping:[3],currency:["$",""]});let Tb;Nb();var Bc=new Date,ic=new Date,Jc=Xa(I=>I.setHours(0,0,0,0),(I,ea)=>I.setDate(I.getDate()+
ea),(I,ea)=>(ea-I-6E4*(ea.getTimezoneOffset()-I.getTimezoneOffset()))/864E5,I=>I.getDate()-1),dd=qb(0),Oc=qb(1);qb(2);qb(3);var vd=qb(4);qb(5);qb(6);var Jd=Xa(function(I){I.setMonth(0,1);I.setHours(0,0,0,0)},function(I,ea){I.setFullYear(I.getFullYear()+ea)},function(I,ea){return ea.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});Jd.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Xa(function(ea){ea.setFullYear(Math.floor(ea.getFullYear()/I)*I);ea.setMonth(0,1);ea.setHours(0,
0,0,0)},function(ea,Ta){ea.setFullYear(ea.getFullYear()+Ta*I)}):null};var Fd=Jd,Zd=Xa(function(I){I.setUTCHours(0,0,0,0)},function(I,ea){I.setUTCDate(I.getUTCDate()+ea)},function(I,ea){return(ea-I)/864E5},function(I){return I.getUTCDate()-1}),Md=Oa(0),se=Oa(1);Oa(2);Oa(3);var Ae=Oa(4);Oa(5);Oa(6);var hf=Xa(function(I){I.setUTCMonth(0,1);I.setUTCHours(0,0,0,0)},function(I,ea){I.setUTCFullYear(I.getUTCFullYear()+ea)},function(I,ea){return ea.getUTCFullYear()-I.getUTCFullYear()},function(I){return I.getUTCFullYear()});
hf.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Xa(function(ea){ea.setUTCFullYear(Math.floor(ea.getUTCFullYear()/I)*I);ea.setUTCMonth(0,1);ea.setUTCHours(0,0,0,0)},function(ea,Ta){ea.setUTCFullYear(ea.getUTCFullYear()+Ta*I)}):null};var cf=hf,df={"-":"",_:" ",0:"0"},re=/^\s*\d+/,nf=/^%/,T=/[\\^$*+?|[\]().{}]/g,ta,eb,zb,Xb,Cc;(function(I){ta=mb(I);eb=ta.format;zb=ta.parse;Xb=ta.utcFormat;Cc=ta.utcParse;return ta})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Ub;ed();r.defaultLocale=Td;r.locale=function(I,ea){I=I?Bb(I):Ob();ea=ea?fd(ea):Rd();return ra.extend({},I,ea)};r.numberFormatDefaultLocale=Ob;r.numberFormatLocale=Bb;r.resetDefaultLocale=function(){Nb();
ed();return Td()};r.resetNumberFormatDefaultLocale=Nb;r.resetTimeFormatDefaultLocale=ed;r.timeFormatDefaultLocale=Rd;r.timeFormatLocale=fd;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[51]=function(ac,Cb,Wc,nb){var r=Cb(27).Buffer;(function(g,ra){"object"===typeof nb&&"undefined"!==typeof Wc?ra(nb,Cb(21),Cb(22),Cb(50)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ra):(g="undefined"!==typeof globalThis?globalThis:g||self,ra(g.vega={},g.vega,g.topojson,g.vega))})(this,function(g,ra,ib,Fb){function Zb(ba,na){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const L=yield p.sanitize(ba,
na),O=L.href;return L.localFile?p.file(O):p.http(O,na)})}function oc(ba,na){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=ra.extend({},p.options,na);const L=p.fileAccess,O={href:null};var f;let v;var m=Na.test(ba.replace(vb,""));null!=ba&&"string"===typeof ba&&m||ra.error("Sanitize failure, invalid URI: "+ra.stringValue(ba));m=mb.test(ba);(f=na.baseURL)&&!m&&(ba.startsWith("/")||f.endsWith("/")||(ba="/"+ba),ba=f+ba);v=(f=ba.startsWith("file://"))||"file"===na.mode||
"http"!==na.mode&&!m&&L;f?ba=ba.slice(7):ba.startsWith("//")&&("file"===na.defaultProtocol?(ba=ba.slice(2),v=!0):ba=(na.defaultProtocol||"http")+":"+ba);Object.defineProperty(O,"localFile",{value:!!v});O.href=ba;na.target&&(O.target=na.target+"");na.rel&&(O.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(O.crossOrigin=na.crossOrigin+"");return O})}function kc(ba){return ba?na=>new Promise((p,L)=>{ba.readFile(na,(O,f)=>{O?L(O):p(f)})}):Ac}function Ac(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ra.error("No file system access.")})}
function Ab(ba){return ba?function(na,p){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var O=ra.extend({},L.options.http,p);const f=p&&p.response;O=yield ba(na,O);return O.ok?ra.isFunction(O[f])?O[f]():O.text():ra.error(O.status+""+O.statusText)})}:ec}function ec(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ra.error("No HTTP fetch method available.")})}function pc(ba,na){if(!ba||!ba.length)return"unknown";const p=ba.length,L=Vb.length,O=Vb.map((f,
v)=>v+1);for(let f=0,v=0,m,C;f<p;++f)for(C=na?ba[f][na]:ba[f],m=0;m<L;++m)if(O[m]&&null!=C&&C===C&&!Vb[m](C)&&(O[m]=0,++v,v===Vb.length))return"string";return ob[O.reduce((f,v)=>0===f?v:f,0)-1]}function Ya(ba,na){return na.reduce((p,L)=>{p[L]=pc(ba,L);return p},{})}function rb(ba){return new Function("d","return {"+ba.map(function(na,p){return JSON.stringify(na)+": d["+p+'] || ""'}).join(",")+"}")}function Ib(ba,na){var p=rb(ba);return function(L,O){return na(p(L),O,ba)}}function Nb(ba){var na=Object.create(null),
p=[];ba.forEach(function(L){for(var O in L)O in na||p.push(na[O]=O)});return p}function Bb(ba,na){ba+="";var p=ba.length;return p<na?Array(na-p+1).join(0)+ba:ba}function Ob(ba){function na(m,C){function B(){if(W)return Y;if(u)return u=!1,ma;var va,Ja=D,Za;if(34===m.charCodeAt(Ja)){for(;D++<E&&34!==m.charCodeAt(D)||34===m.charCodeAt(++D););(va=D)>=E?W=!0:10===(Za=m.charCodeAt(D++))?u=!0:13===Za&&(u=!0,10===m.charCodeAt(D)&&++D);return m.slice(Ja+1,va-1).replace(/""/g,'"')}for(;D<E;){if(10===(Za=m.charCodeAt(va=
D++)))u=!0;else if(13===Za)u=!0,10===m.charCodeAt(D)&&++D;else if(Za!==v)continue;return m.slice(Ja,va)}return W=!0,m.slice(Ja,E)}var z=[],E=m.length,D=0,V=0,Aa,W=0>=E,u=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Y;){for(var K=[];Aa!==ma&&Aa!==Y;)K.push(Aa),Aa=B();C&&null==(K=C(K,V++))||z.push(K)}return z}function p(m,C){return m.map(function(B){return C.map(function(z){return O(B[z])}).join(ba)})}function L(m){return m.map(O).join(ba)}function O(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),z=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var D=m.getUTCFullYear();m=(0>D?"-"+Bb(-D,6):9999<D?"+"+Bb(D,6):Bb(D,4))+"-"+Bb(m.getUTCMonth()+1,2)+"-"+Bb(m.getUTCDate(),2)+(E?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"."+Bb(E,3)+"Z":z?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"Z":B||C?"T"+Bb(C,2)+":"+Bb(B,2)+"Z":"")}C=m}else C=f.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var f=new RegExp('["'+
ba+"\n\r]"),v=ba.charCodeAt(0);return{parse:function(m,C){var B,z;m=na(m,function(E,D){if(B)return B(E,D-1);z=E;B=C?Ib(E,C):rb(E)});m.columns=z||[];return m},parseRows:na,format:function(m,C){null==C&&(C=Nb(m));return[C.map(O).join(ba)].concat(p(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Nb(m));return p(m,C).join("\n")},formatRows:function(m){return m.map(L).join("\n")},formatRow:L,formatValue:O}}function Xa(ba){const na=function(p,L){const O={delimiter:ba};return qb(p,L?ra.extend(L,O):
O)};na.responseType="text";return na}function qb(ba,na){na.header&&(ba=na.header.map(ra.stringValue).join(na.delimiter)+"\n"+ba);return Ob(na.delimiter).parse(ba+"")}function Oa(ba,na){const p=na&&na.property?ra.field(na.property):ra.identity;var L;if(L=ra.isObject(ba))L=!("function"===typeof r&&ra.isFunction(r.isBuffer)&&r.isBuffer(ba));L?(ba=p(ba),!ra.isArray(ba)&&ra.isIterable(ba)&&(ba=[...ba]),na=na&&na.copy?JSON.parse(JSON.stringify(ba)):ba):na=p(JSON.parse(ba));return na}function Ca(ba,na){let p,
L,O,f;ba=Oa(ba,na);na&&na.feature?(p=ib.feature,O=na.feature):na&&na.mesh?(p=ib.mesh,O=na.mesh,f=Ga[na.filter]):ra.error("Missing TopoJSON feature or mesh parameter.");return(L=(L=ba.objects[O])?p(ba,L,f):ra.error("Invalid TopoJSON object: "+O))&&L.features||[L]}function Qa(ba,na){return 1<arguments.length?(Ea[ba]=na,this):ra.hasOwnProperty(Ea,ba)?Ea[ba]:null}function lb(ba,na,p,L){if(ba.length){var O=Fb.timeFormatDefaultLocale();p=p||O.timeParse;L=L||O.utcParse;O=ba.columns||Object.keys(ba[0]);var f,
v;"auto"===na&&(na=Ya(ba,O));O=Object.keys(na);var m=O.map(D=>{var V=na[D];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){D=V.split(/:(.+)?/,2);V=D[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===D[0]?L:p)(V)}if(!Mb[V])throw Error("Illegal format pattern: "+D+":"+V);return Mb[V]});var C=0;var B=ba.length;for(v=O.length;C<B;++C){var z=ba[C];for(f=0;f<v;++f){var E=O[f];z[E]=m[f](z[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Na=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
vb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Mb={boolean:ra.toBoolean,integer:ra.toNumber,number:ra.toNumber,date:ra.toDate,string:ra.toString,unknown:ra.identity},Vb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>pb(ba)&&Number.isInteger(+ba),pb,ba=>!Number.isNaN(Date.parse(ba))],ob=["boolean","integer","number","date"];var ma={},Y={};qb.responseType="text";Oa.responseType="json";const Ga={interior:(ba,na)=>ba!==na,exterior:(ba,
na)=>ba===na};Ca.responseType="json";const Ea={dsv:qb,csv:Xa(","),tsv:Xa("\t"),json:Oa,topojson:Ca},db=function(ba,na){return p=>({options:p||{},sanitize:oc,load:Zb,fileAccess:!!na,file:kc(na),http:Ab(ba)})}("undefined"!==typeof fetch&&fetch,null);g.format=Ea;g.formats=Qa;g.inferType=pc;g.inferTypes=Ya;g.loader=db;g.read=function(ba,na,p,L){na=na||{};const O=Qa(na.type||"json");O||ra.error("Unknown data format type: "+na.type);ba=O(ba,na);na.parse&&lb(ba,na.parse,p,L);ra.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};g.responseType=function(ba){return(ba=Qa(ba))&&ba.responseType||"text"};g.typeParsers=Mb;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[52]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(51),Cb(50)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib){function Fb(f){const v=f||g.identity,m=[],C={};m.add=B=>{const z=v(B);C[z]||(C[z]=1,m.push(B));return m};m.remove=B=>{const z=v(B);C[z]&&(C[z]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function Zb(f,v){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield v(f)}catch(m){f.error(m)}})}function oc(f){f=f===Object(f)?f:{data:f};if(!f[Y]){var v=Ga++;f[Y]=v}return f}function kc(f,v){for(const m in f)v[m]=f[m];return v}function Ac(f){return f&&f.constructor===Ab}function Ab(){const f=[],v=[],m=[],C=[],B=[];let z=null,E=!1;return{constructor:Ab,insert(D){D=g.array(D);const V=D.length;for(let Aa=0;Aa<V;++Aa)f.push(D[Aa]);return this},
remove(D){const V=g.isFunction(D)?C:v;D=g.array(D);const Aa=D.length;for(let W=0;W<Aa;++W)V.push(D[W]);return this},modify(D,V,Aa){V={field:V,value:g.constant(Aa)};g.isFunction(D)?(V.filter=D,B.push(V)):(V.tuple=D,m.push(V));return this},encode(D,V){g.isFunction(D)?B.push({filter:D,field:V}):m.push({tuple:D,field:V});return this},clean(D){z=D;return this},reflow(){E=!0;return this},pulse(D,V){function Aa(Ba,ab,Gb){Gb?Ba[ab]=Gb(Ba):D.encode=ab;E||(u[Ba[Y]]=Ba)}const W={},u={};let K,va,Ja,Za,Wa,X;K=
0;for(va=V.length;K<va;++K)W[V[K][Y]]=1;K=0;for(va=v.length;K<va;++K)Wa=v[K],W[Wa[Y]]=-1;K=0;for(va=C.length;K<va;++K)Za=C[K],V.forEach(Ba=>{Za(Ba)&&(W[Ba[Y]]=-1)});K=0;for(va=f.length;K<va;++K)Wa=f[K],X=Wa[Y],W[X]?W[X]=1:D.add.push(oc(f[K]));K=0;for(va=V.length;K<va;++K)Wa=V[K],0>W[Wa[Y]]&&D.rem.push(Wa);K=0;for(va=m.length;K<va;++K)Ja=m[K],Wa=Ja.tuple,Za=Ja.field,X=W[Wa[Y]],0<X&&(Aa(Wa,Za,Ja.value),D.modifies(Za));K=0;for(va=B.length;K<va;++K)Ja=B[K],Za=Ja.filter,V.forEach(Ba=>{Za(Ba)&&0<W[Ba[Y]]&&
Aa(Ba,Ja.field,Ja.value)}),D.modifies(Ja.field);if(E)D.mod=v.length||C.length?V.filter(Ba=>0<W[Ba[Y]]):V.slice();else for(X in u)D.mod.push(u[X]);(z||null==z&&(v.length||C.length))&&D.clean(!0);return D}}}function ec(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function pc(f,v,m,C){this.id=++Ea;this.value=f;this.qrank=this.rank=this.stamp=-1;this.flags=0;v&&(this._update=v);m&&this.parameters(m,C)}function Ya(f){return function(v){const m=this.flags;if(0===arguments.length)return!!(m&
f);this.flags=v?m|f:m&~f;return this}}function rb(f,v,m){this.id=++ba;this.value=null;m&&(this.receive=m);f&&(this._filter=f);v&&(this._apply=v)}function Ib(f,v,m){return new rb(f,v,m)}function Nb(f){let v;const m=new Promise(C=>v=C);m.requests=0;m.done=()=>{0===--m.requests&&(f._pending=null,v(f))};return f._pending=m}function Bb(f,v,m,C,B,z){const E=g.extend({},z,na);let D;g.isFunction(m)||(m=g.constant(m));void 0===C?B=V=>f.touch(m(V)):g.isFunction(C)?(D=new pc(null,C,B,!1),B=V=>{D.evaluate(V);
V=m(V);const Aa=D.value;Ac(Aa)?f.pulse(V,Aa,z):f.update(V,Aa,E)}):B=V=>f.update(m(V),C,E);v.apply(B)}function Ob(f,v,m,C,B,z){void 0===C?v.targets().add(m):(z=z||{},C=new pc(null,Xa(m,C),B,!1),C.modified(z.force),C.rank=v.rank,v.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),f.connect(m,[C])))}function Xa(f,v){v=g.isFunction(v)?v:g.constant(v);return f?function(m,C){m=v(m,C);f.skip()||(f.skip(m!==this.value).value=m);return m}:v}function qb(f,v,m){this.dataflow=f;this.stamp=null==
v?-1:v;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Oa(f,v){const m=[];g.visitArray(f,v,C=>m.push(C));return m}function Ca(f,v){const m={};f.visit(v,C=>{m[C[Y]]=1});return C=>m[C[Y]]?null:C}function Qa(f,v){return f?(m,C)=>f(m,C)&&v(m,C):v}function lb(f,v,m,C){const B=m.length;let z=0;this.dataflow=f;this.stamp=v;this.fields=null;this.encode=C||null;this.pulses=m;for(f=0;f<B;++f)if(C=m[f],C.stamp===v){if(C.fields){const E=this.fields||(this.fields={});for(const D in C.fields)E[D]=
1}C.changed(this.ADD)&&(z|=this.ADD);C.changed(this.REM)&&(z|=this.REM);C.changed(this.MOD)&&(z|=this.MOD)}this.changes=z}function mb(f){f.error("Dataflow already running. Use runAsync() to chain invocations.");return f}function Na(f,v){if(v&&v.stamp===f.stamp)return v;f=f.fork();v&&v!==p&&(f.source=v.source);return f}function vb(f){let v=[];return{clear:()=>v=[],size:()=>v.length,peek:()=>v[0],push:m=>{v.push(m);return pb(v,0,v.length-1,f)},pop:()=>{var m=v.pop();let C;if(v.length){C=v[0];v[0]=m;
m=v;var B=0;const z=B,E=m.length,D=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=f(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=D;pb(m,z,B,f)}else C=m;return C}}}function pb(f,v,m,C){let B,z;const E=f[m];for(;m>v;)if(z=m-1>>1,B=f[z],0>C(E,B))f[m]=B,m=z;else break;return f[m]=E}function Mb(){this.logger(g.logger());this.logLevel(g.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=ra.loader()}catch(f){}this._touched=Fb(g.id);this._input={};this._pulse=null;this._heap=
vb((f,v)=>f.qrank-v.qrank);this._postrun=[]}function Vb(f){return function(){return this._log[f].apply(this,arguments)}}function ob(f,v){pc.call(this,f,null,v)}function ma(f){f=f&&f.toLowerCase();return g.hasOwnProperty(O,f)?O[f]:null}const Y=Symbol("vega_id");let Ga=1;ec.prototype={set(f,v,m,C){const B=this[f],z=this["_:mod:_"];if(null!=v&&0<=v){if(B[v]!==m||C)B[v]=m,z[v+":"+f]=-1,z[f]=-1}else if(B!==m||C)this[f]=m,z[f]=g.isArray(m)?1+m.length:-1;return this},modified(f,v){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(g.isArray(f)){for(C=0;C<f.length;++C)if(m[f[C]])return!0;return!1}return null!=v&&0<=v?v+1<m[f]||!!m[v+":"+f]:!!m[f]},clear(){this["_:mod:_"]={};return this}};let Ea=0;const db=new ec;pc.prototype={targets(){return this._targets||(this._targets=Fb(g.id))},set(f){return this.value!==f?(this.value=f,1):0},skip:Ya(1),modified:Ya(2),parameters(f,v,m){v=!1!==v;const C=this._argval=this._argval||new ec,B=this._argops=this._argops||[],z=[];
let E,D,V,Aa;const W=(u,K,va)=>{va instanceof pc?(va!==this&&(v&&va.targets().add(this),z.push(va)),B.push({op:va,name:u,index:K})):C.set(u,K,va)};for(E in f)if(D=f[E],"pulse"===E)g.array(D).forEach(u=>{u instanceof pc?u!==this&&(u.targets().add(this),z.push(u)):g.error("Pulse parameters must be operator instances.")}),this.source=D;else if(g.isArray(D))for(C.set(E,-1,Array(V=D.length)),Aa=0;Aa<V;++Aa)W(E,Aa,D[Aa]);else W(E,-1,D);this.marshall().clear();m&&(B.initonly=!0);return z},marshall(f){const v=
this._argval||db,m=this._argops;let C,B,z,E;if(m){const D=m.length;for(B=0;B<D;++B)C=m[B],z=C.op,E=z.modified()&&z.stamp===f,v.set(C.name,C.index,z.value,E);if(m.initonly){for(B=0;B<D;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return v},detach(){const f=this._argops;let v,m;if(f)for(v=0,m=f.length;v<m;++v){var C=f[v];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(f){var v=this._update;if(v){const m=this.marshall(f.stamp);v=v.call(this,
m,f);m.clear();if(v!==this.value)this.value=v;else if(!this.modified())return f.StopPropagation}},run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?(this.skip(!1),v=0):v=this.evaluate(f);return this.pulse=v||f}};let ba=0;rb.prototype={_filter:g.truthy,_apply:g.identity,targets(){return this._targets||(this._targets=Fb(g.id))},consume(f){if(!arguments.length)return!!this._consume;this._consume=!!f;return this},receive(f){if(this._filter(f)){const v=this.value=this._apply(f),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(v);this._consume&&(f.preventDefault(),f.stopPropagation())}},filter(f){f=Ib(f);this.targets().add(f);return f},apply(f){f=Ib(null,f);this.targets().add(f);return f},merge(){const f=Ib();this.targets().add(f);for(let v=0,m=arguments.length;v<m;++v)arguments[v].targets().add(f);return f},throttle(f){let v=-1;return this.filter(()=>{const m=Date.now();return m-v>f?(v=m,1):0})},debounce(f){const v=Ib();this.targets().add(Ib(null,null,g.debounce(f,
m=>{const C=m.dataflow;v.receive(m);C&&C.run&&C.run()})));return v},between(f,v){let m=!1;f.targets().add(Ib(null,null,()=>m=!0));v.targets().add(Ib(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=g.truthy;this._targets=null}};const na={skip:!0},p={};qb.prototype={StopPropagation:p,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(f){return(new qb(this.dataflow)).init(this,f)},clone(){const f=this.fork(7);f.add=f.add.slice();f.rem=
f.rem.slice();f.mod=f.mod.slice();f.source&&(f.source=f.source.slice());return f.materialize(23)},addAll(){let f=this;f.source&&f.add!==f.rem&&(f.rem.length||f.source.length!==f.add.length)&&(f=(new qb(this.dataflow)).init(this),f.add=f.source,f.rem=[]);return f},init(f,v){this.stamp=f.stamp;this.encode=f.encode;!f.fields||v&64||(this.fields=f.fields);v&1?(this.addF=f.addF,this.add=f.add):(this.addF=null,this.add=[]);v&2?(this.remF=f.remF,this.rem=f.rem):(this.remF=null,this.rem=[]);v&4?(this.modF=
f.modF,this.mod=f.mod):(this.modF=null,this.mod=[]);v&32?this.source=this.srcF=null:(this.srcF=f.srcF,this.source=f.source,f.cleans&&(this.cleans=f.cleans));return this},runAfter(f){this.dataflow.runAfter(f)},changed(f){f=f||7;return f&1&&this.add.length||f&2&&this.rem.length||f&4&&this.mod.length},reflow(f){if(f)return this.fork(7).reflow();f=this.add.length;const v=this.source&&this.source.length;v&&v!==f&&(this.mod=this.source,f&&this.filter(4,Ca(this,1)));return this},clean(f){return arguments.length?
(this.cleans=!!f,this):this.cleans},modifies(f){const v=this.fields||(this.fields={});g.isArray(f)?f.forEach(m=>v[m]=!0):v[f]=!0;return this},modified(f,v){const m=this.fields;return(v||this.mod.length)&&m?arguments.length?g.isArray(f)?f.some(C=>m[C]):m[f]:!!m:!1},filter(f,v){f&1&&(this.addF=Qa(this.addF,v));f&2&&(this.remF=Qa(this.remF,v));f&4&&(this.modF=Qa(this.modF,v));f&16&&(this.srcF=Qa(this.srcF,v));return this},materialize(f){f=f||7;f&1&&this.addF&&(this.add=Oa(this.add,this.addF),this.addF=
null);f&2&&this.remF&&(this.rem=Oa(this.rem,this.remF),this.remF=null);f&4&&this.modF&&(this.mod=Oa(this.mod,this.modF),this.modF=null);f&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(f,v){if(f&16)return g.visitArray(this.source,this.srcF,v),this;f&1&&g.visitArray(this.add,this.addF,v);f&2&&g.visitArray(this.rem,this.remF,v);f&4&&g.visitArray(this.mod,this.modF,v);const m=this.source;f&8&&m&&(f=this.add.length+this.mod.length,f!==m.length&&(f?g.visitArray(m,
Ca(this,5),v):g.visitArray(m,this.srcF,v)));return this}};g.inherits(lb,qb,{fork(f){const v=(new qb(this.dataflow)).init(this,f&this.NO_FIELDS);void 0!==f&&(f&v.ADD&&this.visit(v.ADD,m=>v.add.push(m)),f&v.REM&&this.visit(v.REM,m=>v.rem.push(m)),f&v.MOD&&this.visit(v.MOD,m=>v.mod.push(m)));return v},changed(f){return this.changes&f},modified(f){const v=this.fields;return v&&this.changes&this.MOD?g.isArray(f)?f.some(m=>v[m]):v[f]:0},filter(){g.error("MultiPulse does not support filtering.")},materialize(){g.error("MultiPulse does not support materialization.")},
visit(f,v){const m=this.pulses,C=m.length;let B=0;if(f&this.SOURCE)for(;B<C;++B)m[B].visit(f,v);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(f,v);return this}});const L={skip:!1,force:!1};Mb.prototype={stamp(){return this._clock},loader(f){return arguments.length?(this._loader=f,this):this._loader},locale(f){return arguments.length?(this._locale=f,this):this._locale},logger(f){return arguments.length?(this._log=f,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),
logLevel:Vb("level"),cleanThreshold:1E4,add:function(f,v,m,C){let B=1;f instanceof pc||(f&&f.prototype instanceof pc?f=new f:g.isFunction(f)?f=new pc(null,f):(B=0,f=new pc(f,v)));this.rank(f);B&&(C=m,m=v);m&&this.connect(f,f.parameters(m,C));this.touch(f);return f},connect:function(f,v){const m=f.rank,C=v.length;for(let B=0;B<C;++B)if(m<v[B].rank){this.rerank(f);break}},rank:function(f){f.rank=++this._rank},rerank:function(f){const v=[f];let m,C,B;for(;v.length;)if(this.rank(m=v.pop()),C=m._targets)for(B=
C.length;0<=--B;)v.push(m=C[B]),m===f&&g.error("Cycle detected in dataflow graph.")},pulse:function(f,v,m){this.touch(f,m||L);m=new qb(this,this._clock+(this._pulse?0:1));const C=f.pulse&&f.pulse.source||[];m.target=f;this._input[f.id]=v.pulse(m,C);return this},touch:function(f,v){v=v||L;this._pulse?this._enqueue(f):this._touched.add(f);v.skip&&f.skip(!0);return this},update:function(f,v,m){m=m||L;(f.set(v)||m.force)&&this.touch(f,m);return this},changeset:Ab,ingest:function(f,v,m){v=this.parse(v,
m);return this.pulse(f,this.changeset().insert(v))},parse:function(f,v){const m=this.locale();return ra.read(f,v,m.timeParse,m.utcParse)},preload:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Nb(C);B.requests+=1;const z=yield C.request(v,m);C.pulse(f,C.changeset().remove(g.truthy).insert(z.data||[]));B.done();return z})},request:function(f,v){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(f,{context:"dataflow",response:ra.responseType(v&&v.type)});try{B=m.parse(B,v)}catch(z){C=-2,m.warn("Data ingestion failed",f,z)}}catch(z){C=-1,m.warn("Loading failed",f,z)}return{data:B,status:C}})},events:function(f,v,m,C){const B=this,z=Ib(m,C);m=function(E){E.dataflow=B;try{z.receive(E)}catch(D){B.error(D)}finally{B.run()}};f="string"===typeof f&&"undefined"!==typeof document?document.querySelectorAll(f):g.array(f);C=f.length;for(let E=0;E<C;++E)f[E].addEventListener(v,m);
return z},on:function(f,v,m,C,B){(f instanceof pc?Ob:Bb)(this,f,v,m,C,B);return this},evaluate:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);v&&(yield Zb(C,v));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var z=++C._clock;C._pulse=new qb(C,z,f);C._touched.forEach(W=>C._enqueue(W,!0));C._touched=Fb(g.id);var E=0;let D,V,Aa;try{for(;0<C._heap.size();)D=
C._heap.pop(),D.rank!==D.qrank?C._enqueue(D,!0):(V=D.run(C._getPulse(D,f)),V.then?V=yield V:V.async&&(B.push(V.async),V=p),V!==p&&D._targets&&D._targets.forEach(W=>C._enqueue(W)),++E)}catch(W){C._heap.clear(),Aa=W}C._input={};C._pulse=null;C.debug(`Pulse ${z}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(z=C._postrun.sort((W,u)=>u.priority-W.priority),C._postrun=[],E=0;E<z.length;++E)yield Zb(C,z[E].callback);m&&(yield Zb(C,m));B.length&&Promise.all(B).then(W=>C.runAsync(null,
()=>{W.forEach(u=>{try{u(C)}catch(K){C.error(K)}})}));return C})},run:function(f,v,m){return this._pulse?mb(this):(this.evaluate(f,v,m),this)},runAsync:function(f,v,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(f,v,m)).then(B,B);return C._running})},runAfter:function(f,v,m){if(this._pulse||v)this._postrun.push({priority:m||0,callback:f});else try{f(this)}catch(C){this.error(C)}},
_enqueue:function(f,v){const m=f.stamp<this._clock;m&&(f.stamp=this._clock);if(m||v)f.qrank=f.rank,this._heap.push(f)},_getPulse:function(f,v){const m=f.source,C=this._clock;return m&&g.isArray(m)?new lb(this,C,m.map(B=>B.pulse),v):this._input[f.id]||Na(this._pulse,m&&m.pulse)}};g.inherits(ob,pc,{run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?this.skip(!1):v=this.evaluate(f);v=v||f;v.then?v=v.then(m=>this.pulse=m):v!==f.StopPropagation&&(this.pulse=v);return v},evaluate(f){const v=
this.marshall(f.stamp);f=this.transform(v,f);v.clear();return f},transform(){}});const O={};r.Dataflow=Mb;r.EventStream=rb;r.MultiPulse=lb;r.Operator=pc;r.Parameters=ec;r.Pulse=qb;r.Transform=ob;r.UniqueList=Fb;r.asyncCallback=Zb;r.changeset=Ab;r.definition=function(f){return(f=ma(f))&&f.Definition||null};r.derive=function(f){return kc(f,oc({}))};r.ingest=oc;r.isChangeSet=Ac;r.isTuple=function(f){return!(!f||!f[Y])};r.rederive=kc;r.replace=function(f,v){v[Y]=f[Y];return v};r.stableCompare=function(f,
v){return f?v?(m,C)=>f(m,C)||v(m)[Y]-v(C)[Y]:(m,C)=>f(m,C)||m[Y]-C[Y]:null};r.transform=ma;r.transforms=O;r.tupleid=function(f){return f[Y]};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[53]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(30),Cb(52),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib){function Fb(Ac,Ab){var ec=[],pc=function(Xa){return Xa(Nb)},Ya;if(null==Ab)ec.push(Ac);else{var rb={};var Ib=0;for(Ya=Ac.length;Ib<Ya;++Ib){var Nb=Ac[Ib];
var Bb=Ab.map(pc);var Ob=rb[Bb];Ob||(rb[Bb]=Ob=[],Ob.dims=Bb,ec.push(Ob));Ob.push(Nb)}}return ec}function Zb(Ac){ra.Transform.call(this,null,Ac)}function oc(Ac){ra.Transform.call(this,null,Ac)}Zb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};ib.inherits(Zb,ra.Transform,{transform(Ac,Ab){const ec=
Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||Ac.modified()){Ab=Ab.materialize(Ab.SOURCE).source;Ab=Fb(Ab,Ac.groupby);const pc=(Ac.groupby||[]).map(ib.accessorName),Ya=pc.length,rb=Ac.as||[ib.accessorName(Ac.x),ib.accessorName(Ac.y)],Ib=[];Ab.forEach(Nb=>{g.regressionLoess(Nb,Ac.x,Ac.y,Ac.bandwidth||.3).forEach(Bb=>{const Ob={};for(let Xa=0;Xa<Ya;++Xa)Ob[pc[Xa]]=Nb.dims[Xa];Ob[rb[0]]=Bb[0];Ob[rb[1]]=Bb[1];Ib.push(ra.ingest(Ob))})});this.value&&(ec.rem=this.value);this.value=ec.add=
ec.source=Ib}return ec}});const kc={constant:g.regressionConstant,linear:g.regressionLinear,log:g.regressionLog,exp:g.regressionExp,pow:g.regressionPow,quad:g.regressionQuad,poly:g.regressionPoly};oc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(kc)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};ib.inherits(oc,ra.Transform,{transform(Ac,Ab){const ec=Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||Ac.modified()){var pc=Ab.materialize(Ab.SOURCE).source;pc=Fb(pc,Ac.groupby);const Ya=(Ac.groupby||[]).map(ib.accessorName),rb=Ac.method||"linear",Ib=null==Ac.order?3:Ac.order,Nb="poly"===rb?Ib:"quad"===rb?2:1,Bb=Ac.as||[ib.accessorName(Ac.x),ib.accessorName(Ac.y)],Ob=
kc[rb],Xa=[];let qb=Ac.extent;ib.hasOwnProperty(kc,rb)||ib.error("Invalid regression method: "+rb);null!=qb&&"log"===rb&&0>=qb[0]&&(Ab.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),qb=null);pc.forEach(Oa=>{if(Oa.length<=Nb)Ab.dataflow.warn("Skipping regression with more parameters than data points.");else{var Ca=Ob(Oa,Ac.x,Ac.y,Ib);if(Ac.params)Xa.push(ra.ingest({keys:Oa.dims,coef:Ca.coef,rSquared:Ca.rSquared}));else{var Qa=qb||ib.extent(Oa,Ac.x),lb=mb=>{const Na={};
for(let vb=0;vb<Ya.length;++vb)Na[Ya[vb]]=Oa.dims[vb];Na[Bb[0]]=mb[0];Na[Bb[1]]=mb[1];Xa.push(ra.ingest(Na))};"linear"===rb||"constant"===rb?Qa.forEach(mb=>lb([mb,Ca.predict(mb)])):g.sampleCurve(Ca.predict,Qa,25,200).forEach(lb)}}});this.value&&(ec.rem=this.value);this.value=ec.add=ec.source=Xa}return ec}});r.loess=Zb;r.regression=oc})};
shadow$provide[54]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,g,ra){function ib(ma,Y,Ga,Ea,db){let ba,na;let p=Y[0],L=Ea[0],O=0,f=0;L>p===L>-p?(ba=p,p=Y[++O]):(ba=L,L=Ea[++f]);let v=0;if(O<ma&&f<Ga){if(L>p===L>-p){na=p+ba;
var m=ba-(na-p);p=Y[++O]}else na=L+ba,m=ba-(na-L),L=Ea[++f];ba=na;for(0!==m&&(db[v++]=m);O<ma&&f<Ga;)L>p===L>-p?(na=ba+p,m=na-ba,m=ba-(na-m)+(p-m),p=Y[++O]):(na=ba+L,m=na-ba,m=ba-(na-m)+(L-m),L=Ea[++f]),ba=na,0!==m&&(db[v++]=m)}for(;O<ma;)na=ba+p,m=na-ba,m=ba-(na-m)+(p-m),p=Y[++O],ba=na,0!==m&&(db[v++]=m);for(;f<Ga;)na=ba+L,m=na-ba,m=ba-(na-m)+(L-m),L=Ea[++f],ba=na,0!==m&&(db[v++]=m);if(0!==ba||0===v)db[v++]=ba;return v}function Fb(ma,Y,Ga,Ea,db,ba){var na=(Y-ba)*(Ga-db),p=(ma-db)*(Ea-ba),L=na-p;
if(0===na||0===p||0<na!==0<p)return L;na=Math.abs(na+p);if(Math.abs(L)>=3.3306690738754716E-16*na)return L;{let z;L=ma-db;const E=Ga-db;p=Y-ba;const D=Ea-ba;var O=L*D;var f=134217729*L;var v=f-(f-L);var m=L-v;f=134217729*D;f-=f-D;z=D-f;var C=m*z-(O-v*f-m*f-v*z);var B=p*E;f=134217729*p;v=f-(f-p);m=p-v;f=134217729*E;f-=f-E;z=E-f;f=m*z-(B-v*f-m*f-v*z);m=C-f;v=C-m;Bb[0]=C-(m+v)+(v-f);C=O+m;v=C-O;O=O-(C-v)+(m-v);m=O-B;v=O-m;Bb[1]=O-(m+v)+(v-B);B=C+m;v=B-C;Bb[2]=C-(B-v)+(m-v);Bb[3]=B;B=Bb[0];for(O=1;4>
O;O++)B+=Bb[O];O=2.2204460492503146E-16*na;B>=O||-B>=O?Ea=B:(v=ma-L,ma=ma-(L+v)+(v-db),v=Ga-E,Ga=Ga-(E+v)+(v-db),v=Y-p,Y=Y-(p+v)+(v-ba),v=Ea-D,Ea=Ea-(D+v)+(v-ba),0===ma&&0===Y&&0===Ga&&0===Ea?Ea=B:(O=1.1093356479670487E-31*na+3.3306690738754706E-16*Math.abs(B),B+=L*Ea+D*ma-(p*Ga+E*Y),B>=O||-B>=O?Ea=B:(O=ma*D,f=134217729*ma,v=f-(f-ma),m=ma-v,f=134217729*D,f-=f-D,z=D-f,C=m*z-(O-v*f-m*f-v*z),B=Y*E,f=134217729*Y,v=f-(f-Y),m=Y-v,f=134217729*E,f-=f-E,z=E-f,f=m*z-(B-v*f-m*f-v*z),m=C-f,v=C-m,Oa[0]=C-(m+v)+
(v-f),C=O+m,v=C-O,O=O-(C-v)+(m-v),m=O-B,v=O-m,Oa[1]=O-(m+v)+(v-B),B=C+m,v=B-C,Oa[2]=C-(B-v)+(m-v),Oa[3]=B,ba=ib(4,Bb,4,Oa,Ob),O=L*Ea,f=134217729*L,v=f-(f-L),m=L-v,f=134217729*Ea,f-=f-Ea,z=Ea-f,C=m*z-(O-v*f-m*f-v*z),B=p*Ga,f=134217729*p,v=f-(f-p),m=p-v,f=134217729*Ga,f-=f-Ga,z=Ga-f,f=m*z-(B-v*f-m*f-v*z),m=C-f,v=C-m,Oa[0]=C-(m+v)+(v-f),C=O+m,v=C-O,O=O-(C-v)+(m-v),m=O-B,v=O-m,Oa[1]=O-(m+v)+(v-B),B=C+m,v=B-C,Oa[2]=C-(B-v)+(m-v),Oa[3]=B,ba=ib(ba,Ob,4,Oa,Xa),O=ma*Ea,f=134217729*ma,v=f-(f-ma),m=ma-v,f=134217729*
Ea,f-=f-Ea,z=Ea-f,C=m*z-(O-v*f-m*f-v*z),B=Y*Ga,f=134217729*Y,v=f-(f-Y),m=Y-v,f=134217729*Ga,f-=f-Ga,z=Ga-f,f=m*z-(B-v*f-m*f-v*z),m=C-f,v=C-m,Oa[0]=C-(m+v)+(v-f),C=O+m,v=C-O,O=O-(C-v)+(m-v),m=O-B,v=O-m,Oa[1]=O-(m+v)+(v-B),B=C+m,v=B-C,Oa[2]=C-(B-v)+(m-v),Oa[3]=B,Ea=ib(ba,Xa,4,Oa,qb),Ea=qb[Ea-1])))}return-Ea}function Zb(ma,Y,Ga,Ea){ma-=Ga;Y-=Ea;return ma*ma+Y*Y}function oc(ma,Y,Ga,Ea){if(20>=Ea-Ga)for(var db=Ga+1;db<=Ea;db++){for(var ba=ma[db],na=Y[ba],p=db-1;p>=Ga&&Y[ma[p]]>na;)ma[p+1]=ma[p--];ma[p+
1]=ba}else{db=Ga+1;ba=Ea;kc(ma,Ga+Ea>>1,db);Y[ma[Ga]]>Y[ma[Ea]]&&kc(ma,Ga,Ea);Y[ma[db]]>Y[ma[Ea]]&&kc(ma,db,Ea);Y[ma[Ga]]>Y[ma[db]]&&kc(ma,Ga,db);na=ma[db];for(p=Y[na];;){do db++;while(Y[ma[db]]<p);do ba--;while(Y[ma[ba]]>p);if(ba<db)break;kc(ma,db,ba)}ma[Ga+1]=ma[ba];ma[ba]=na;Ea-db+1>=ba-Ga?(oc(ma,Y,db,Ea),oc(ma,Y,Ga,ba-1)):(oc(ma,Y,Ga,ba-1),oc(ma,Y,db,Ea))}}function kc(ma,Y,Ga){const Ea=ma[Y];ma[Y]=ma[Ga];ma[Ga]=Ea}function Ac(ma){return ma[0]}function Ab(ma){return ma[1]}function ec(ma){return ma[0]}
function pc(ma){return ma[1]}function Ya(ma){const {triangles:Y,coords:Ga}=ma;for(ma=0;ma<Y.length;ma+=3){const Ea=2*Y[ma],db=2*Y[ma+1],ba=2*Y[ma+2];if(1E-10<(Ga[ba]-Ga[Ea])*(Ga[db+1]-Ga[Ea+1])-(Ga[db]-Ga[Ea])*(Ga[ba+1]-Ga[Ea+1]))return!1}return!0}function rb(ma,Y,Ga){return[ma+Math.sin(ma+Y)*Ga,Y+Math.cos(ma-Y)*Ga]}function*Ib(ma,Y,Ga,Ea){let db=0;for(const ba of ma)yield Y.call(Ea,ba,db,ma),yield Ga.call(Ea,ba,db,ma),++db}function Nb(ma){g.Transform.call(this,null,ma)}const Bb=new Float64Array(4),
Ob=new Float64Array(8),Xa=new Float64Array(12),qb=new Float64Array(16),Oa=new Float64Array(4),Ca=Math.pow(2,-52),Qa=new Uint32Array(512);class lb{static from(ma,Y=Ac,Ga=Ab){const Ea=ma.length,db=new Float64Array(2*Ea);for(let ba=0;ba<Ea;ba++){const na=ma[ba];db[2*ba]=Y(na);db[2*ba+1]=Ga(na)}return new lb(db)}constructor(ma){const Y=ma.length>>1;if(0<Y&&"number"!==typeof ma[0])throw Error("Expected coords to contain numbers.");this.coords=ma;ma=Math.max(2*Y-5,0);this._triangles=new Uint32Array(3*ma);
this._halfedges=new Int32Array(3*ma);this._hashSize=Math.ceil(Math.sqrt(Y));this._hullPrev=new Uint32Array(Y);this._hullNext=new Uint32Array(Y);this._hullTri=new Uint32Array(Y);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Y);this._dists=new Float64Array(Y);this.update()}update(){const {coords:ma,_hullPrev:Y,_hullNext:Ga,_hullTri:Ea,_hullHash:db}=this;var ba=ma.length>>1,na=Infinity,p=Infinity,L=-Infinity,O=-Infinity;for(var f=0;f<ba;f++){var v=ma[2*f];var m=ma[2*
f+1];v<na&&(na=v);m<p&&(p=m);v>L&&(L=v);m>O&&(O=m);this._ids[f]=f}L=(na+L)/2;p=(p+O)/2;na=Infinity;for(O=0;O<ba;O++)if(f=Zb(L,p,ma[2*O],ma[2*O+1]),f<na){var C=O;na=f}p=ma[2*C];O=ma[2*C+1];na=Infinity;for(L=0;L<ba;L++)if(L!==C&&(f=Zb(p,O,ma[2*L],ma[2*L+1]),f<na&&0<f)){var B=L;na=f}na=ma[2*B];L=ma[2*B+1];m=Infinity;for(f=0;f<ba;f++)if(f!==C&&f!==B){v=na-p;var z=L-O;var E=ma[2*f]-p;var D=ma[2*f+1]-O,V=v*v+z*z,Aa=E*E+D*D,W=.5/(v*D-z*E);z=(D*V-z*Aa)*W;v=(v*Aa-E*V)*W;v=z*z+v*v;if(v<m){var u=f;m=v}}f=ma[2*
u];v=ma[2*u+1];if(Infinity===m){for(C=0;C<ba;C++)this._dists[C]=ma[2*C]-ma[0]||ma[2*C+1]-ma[1];oc(this._ids,this._dists,0,ba-1);C=new Uint32Array(ba);B=0;for(let K=0,va=-Infinity;K<ba;K++)u=this._ids[K],this._dists[u]>va&&(C[B++]=u,va=this._dists[u]);this.hull=C.subarray(0,B);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>Fb(p,O,na,L,f,v)&&(m=B,E=na,V=L,B=u,na=f,L=v,u=m,f=E,v=V);E=na-p;m=L-O;V=f-p;D=v-O;Aa=E*E+m*m;W=V*V+D*D;z=.5/(E*D-m*V);m=p+(D*Aa-m*W)*z;E=O+(E*W-V*Aa)*
z;this._cx=m;this._cy=E;for(V=0;V<ba;V++)this._dists[V]=Zb(ma[2*V],ma[2*V+1],m,E);oc(this._ids,this._dists,0,ba-1);this._hullStart=C;ba=3;Ga[C]=Y[u]=B;Ga[B]=Y[C]=u;Ga[u]=Y[B]=C;Ea[C]=0;Ea[B]=1;Ea[u]=2;db.fill(-1);db[this._hashKey(p,O)]=C;db[this._hashKey(na,L)]=B;db[this._hashKey(f,v)]=u;this.trianglesLen=0;this._addTriangle(C,B,u,-1,-1,-1);for(let K=0,va,Ja;K<this._ids.length;K++){p=this._ids[K];O=ma[2*p];na=ma[2*p+1];if(0<K&&Math.abs(O-va)<=Ca&&Math.abs(na-Ja)<=Ca)continue;va=O;Ja=na;if(p===C||
p===B||p===u)continue;L=0;for(let Wa=0,X=this._hashKey(O,na);Wa<this._hashSize&&(L=db[(X+Wa)%this._hashSize],-1===L||L===Ga[L]);Wa++);f=L=Y[L];let Za;for(;Za=Ga[f],0<=Fb(O,na,ma[2*f],ma[2*f+1],ma[2*Za],ma[2*Za+1]);)if(f=Za,f===L){f=-1;break}if(-1!==f){v=this._addTriangle(f,p,Ga[f],-1,-1,Ea[f]);Ea[p]=this._legalize(v+2);Ea[f]=v;ba++;for(m=Ga[f];Za=Ga[m],0>Fb(O,na,ma[2*m],ma[2*m+1],ma[2*Za],ma[2*Za+1]);)v=this._addTriangle(m,p,Za,Ea[p],-1,Ea[m]),Ea[p]=this._legalize(v+2),Ga[m]=m,ba--,m=Za;if(f===L)for(;Za=
Y[f],0>Fb(O,na,ma[2*Za],ma[2*Za+1],ma[2*f],ma[2*f+1]);)v=this._addTriangle(Za,p,f,-1,Ea[f],Ea[Za]),this._legalize(v+2),Ea[Za]=v,Ga[f]=f,ba--,f=Za;this._hullStart=Y[p]=f;Ga[f]=Y[m]=p;Ga[p]=m;db[this._hashKey(O,na)]=p;db[this._hashKey(ma[2*f],ma[2*f+1])]=f}}this.hull=new Uint32Array(ba);for(let K=0,va=this._hullStart;K<ba;K++)this.hull[K]=va,va=Ga[va];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(ma,Y){var Ga=Math;
ma-=this._cx;Y-=this._cy;ma/=Math.abs(ma)+Math.abs(Y);return Ga.floor.call(Ga,(0<Y?3-ma:1+ma)/4*this._hashSize)%this._hashSize}_legalize(ma){const {_triangles:Y,_halfedges:Ga,coords:Ea}=this;let db=0;for(var ba;;){const m=Ga[ma];var na=ma-ma%3;ba=na+(ma+2)%3;if(-1===m){if(0===db)break;ma=Qa[--db];continue}const C=m-m%3,B=C+(m+2)%3;var p=Y[ba],L=Y[ma],O=Y[na+(ma+1)%3];na=Y[B];var f=Ea[2*na],v=Ea[2*na+1];const z=Ea[2*p]-f,E=Ea[2*p+1]-v,D=Ea[2*L]-f;L=Ea[2*L+1]-v;f=Ea[2*O]-f;v=Ea[2*O+1]-v;O=D*D+L*L;const V=
f*f+v*v;if(0>z*(L*V-O*v)-E*(D*V-O*f)+(z*z+E*E)*(D*v-L*f)){Y[ma]=na;Y[m]=p;p=Ga[B];if(-1===p){na=this._hullStart;do{if(this._hullTri[na]===B){this._hullTri[na]=ma;break}na=this._hullPrev[na]}while(na!==this._hullStart)}this._link(ma,p);this._link(m,Ga[ba]);this._link(ba,B);ba=C+(m+1)%3;db<Qa.length&&(Qa[db++]=ba)}else{if(0===db)break;ma=Qa[--db]}}return ba}_link(ma,Y){this._halfedges[ma]=Y;-1!==Y&&(this._halfedges[Y]=ma)}_addTriangle(ma,Y,Ga,Ea,db,ba){const na=this.trianglesLen;this._triangles[na]=
ma;this._triangles[na+1]=Y;this._triangles[na+2]=Ga;this._link(na,Ea);this._link(na+1,db);this._link(na+2,ba);this.trianglesLen+=3;return na}}class mb{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(ma,Y){this._+=`M${this._x0=this._x1=+ma},${this._y0=this._y1=+Y}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ma,Y){this._+=`L${this._x1=+ma},${this._y1=+Y}`}arc(ma,Y,Ga){ma=+ma;Y=+Y;Ga=+Ga;const Ea=ma+Ga,db=Y;if(0>Ga)throw Error("negative radius");
if(null===this._x1)this._+=`M${Ea},${db}`;else if(1E-6<Math.abs(this._x1-Ea)||1E-6<Math.abs(this._y1-db))this._+="L"+Ea+","+db;Ga&&(this._+=`A${Ga},${Ga},0,1,1,${ma-Ga},${Y}A${Ga},${Ga},0,1,1,${this._x1=Ea},${this._y1=db}`)}rect(ma,Y,Ga,Ea){this._+=`M${this._x0=this._x1=+ma},${this._y0=this._y1=+Y}h${+Ga}v${+Ea}h${-Ga}Z`}value(){return this._||null}}class Na{constructor(){this._=[]}moveTo(ma,Y){this._.push([ma,Y])}closePath(){this._.push(this._[0].slice())}lineTo(ma,Y){this._.push([ma,Y])}value(){return this._.length?
this._:null}}let vb=class{constructor(ma,[Y,Ga,Ea,db]=[0,0,960,500]){if(!((Ea=+Ea)>=(Y=+Y)&&(db=+db)>=(Ga=+Ga)))throw Error("invalid bounds");this.delaunay=ma;this._circumcenters=new Float64Array(2*ma.points.length);this.vectors=new Float64Array(2*ma.points.length);this.xmax=Ea;this.xmin=Y;this.ymax=db;this.ymin=Ga;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:ma,hull:Y,triangles:Ga},vectors:Ea}=this;var db=this.circumcenters=this._circumcenters.subarray(0,
Ga.length/3*2);for(let B=0,z=0,E=Ga.length,D,V;B<E;B+=3,z+=2){var ba=2*Ga[B],na=2*Ga[B+1],p=2*Ga[B+2],L=ma[ba];ba=ma[ba+1];var O=ma[p],f=ma[p+1],v=ma[na]-L,m=ma[na+1]-ba;na=O-L;p=f-ba;var C=2*(v*p-m*na);1E-9>Math.abs(C)?(v=1E9,m=2*Ga[0],v*=Math.sign((ma[m]-L)*p-(ma[m+1]-ba)*na),D=(L+O)/2-v*p,V=(ba+f)/2+v*na):(O=1/C,f=v*v+m*m,C=na*na+p*p,D=L+(p*f-m*C)*O,V=ba+(v*C-na*f)*O);db[z]=D;db[z+1]=V}db=Y[Y.length-1];ba=4*db;p=ma[2*db];v=ma[2*db+1];Ea.fill(0);for(f=0;f<Y.length;++f)db=Y[f],L=ba,na=p,O=v,ba=4*
db,p=ma[2*db],v=ma[2*db+1],Ea[L+2]=Ea[ba]=O-v,Ea[L+3]=Ea[ba+1]=p-na}render(ma){const Y=null==ma?ma=new mb:void 0,{delaunay:{halfedges:Ga,inedges:Ea,hull:db},circumcenters:ba,vectors:na}=this;if(1>=db.length)return null;for(let v=0,m=Ga.length;v<m;++v){var p=Ga[v];if(!(p<v)){var L=2*Math.floor(v/3);p=2*Math.floor(p/3);this._renderSegment(ba[L],ba[L+1],ba[p],ba[p+1],ma)}}L=db[db.length-1];for(p=0;p<db.length;++p){var O=L;L=db[p];var f=2*Math.floor(Ea[L]/3);const v=ba[f];f=ba[f+1];O*=4;(O=this._project(v,
f,na[O+2],na[O+3]))&&this._renderSegment(v,f,O[0],O[1],ma)}return Y&&Y.value()}renderBounds(ma){const Y=null==ma?ma=new mb:void 0;ma.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Y&&Y.value()}renderCell(ma,Y){const Ga=null==Y?Y=new mb:void 0;ma=this._clip(ma);if(null!==ma&&ma.length){Y.moveTo(ma[0],ma[1]);for(var Ea=ma.length;ma[0]===ma[Ea-2]&&ma[1]===ma[Ea-1]&&1<Ea;)Ea-=2;for(let db=2;db<Ea;db+=2)ma[db]===ma[db-2]&&ma[db+1]===ma[db-1]||Y.lineTo(ma[db],ma[db+1]);Y.closePath();
return Ga&&Ga.value()}}*cellPolygons(){var {delaunay:{points:ma}}=this;for(let Y=0,Ga=ma.length/2;Y<Ga;++Y)if(ma=this.cellPolygon(Y))ma.index=Y,yield ma}cellPolygon(ma){const Y=new Na;this.renderCell(ma,Y);return Y.value()}_renderSegment(ma,Y,Ga,Ea,db){const ba=this._regioncode(ma,Y),na=this._regioncode(Ga,Ea);if(0===ba&&0===na)db.moveTo(ma,Y),db.lineTo(Ga,Ea);else if(ma=this._clipSegment(ma,Y,Ga,Ea,ba,na))db.moveTo(ma[0],ma[1]),db.lineTo(ma[2],ma[3])}contains(ma,Y,Ga){return(Y=+Y,Y!==Y)||(Ga=+Ga,
Ga!==Ga)?!1:this.delaunay._step(ma,Y,Ga)===ma}*neighbors(ma){const Y=this._clip(ma);if(Y)for(const Ga of this.delaunay.neighbors(ma))if(ma=this._clip(Ga))a:for(let Ea=0,db=Y.length;Ea<db;Ea+=2)for(let ba=0,na=ma.length;ba<na;ba+=2)if(Y[Ea]==ma[ba]&&Y[Ea+1]==ma[ba+1]&&Y[(Ea+2)%db]==ma[(ba+na-2)%na]&&Y[(Ea+3)%db]==ma[(ba+na-1)%na]){yield Ga;break a}}_cell(ma){const {circumcenters:Y,delaunay:{inedges:Ga,halfedges:Ea,triangles:db}}=this,ba=Ga[ma];if(-1===ba)return null;const na=[];let p=ba;do{const L=
Math.floor(p/3);na.push(Y[2*L],Y[2*L+1]);p=2===p%3?p-2:p+1;if(db[p]!==ma)break;p=Ea[p]}while(p!==ba&&-1!==p);return na}_clip(ma){if(0===ma&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Y=this._cell(ma);if(null===Y)return null;const {vectors:Ga}=this,Ea=4*ma;return Ga[Ea]||Ga[Ea+1]?this._clipInfinite(ma,Y,Ga[Ea],Ga[Ea+1],Ga[Ea+2],Ga[Ea+3]):this._clipFinite(ma,Y)}_clipFinite(ma,Y){const Ga=Y.length;let Ea=null;let db=Y[Ga-
2],ba=Y[Ga-1];let na=this._regioncode(db,ba),p=0;for(let v=0;v<Ga;v+=2){var L=db;var O=ba;db=Y[v];ba=Y[v+1];var f=na;na=this._regioncode(db,ba);if(0===f&&0===na)p=0,Ea?Ea.push(db,ba):Ea=[db,ba];else{let m,C;if(0===f){if(null===(L=this._clipSegment(L,O,db,ba,f,na)))continue;[O,f,m,C]=L}else{if(null===(L=this._clipSegment(db,ba,L,O,na,f)))continue;[m,C,O,f]=L;L=p;p=this._edgecode(O,f);L&&p&&this._edge(ma,L,p,Ea,Ea.length);Ea?Ea.push(O,f):Ea=[O,f]}L=p;p=this._edgecode(m,C);L&&p&&this._edge(ma,L,p,Ea,
Ea.length);Ea?Ea.push(m,C):Ea=[m,C]}}if(Ea)L=p,p=this._edgecode(Ea[0],Ea[1]),L&&p&&this._edge(ma,L,p,Ea,Ea.length);else if(this.contains(ma,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ea}_clipSegment(ma,Y,Ga,Ea,db,ba){for(;;){if(0===db&&0===ba)return[ma,Y,Ga,Ea];if(db&ba)return null;var na=void 0;let p;na=db||ba;na&8?(na=ma+(Ga-ma)*(this.ymax-Y)/(Ea-Y),p=this.ymax):na&4?(na=ma+(Ga-ma)*(this.ymin-Y)/
(Ea-Y),p=this.ymin):na&2?(p=Y+(Ea-Y)*(this.xmax-ma)/(Ga-ma),na=this.xmax):(p=Y+(Ea-Y)*(this.xmin-ma)/(Ga-ma),na=this.xmin);db?(ma=na,Y=p,db=this._regioncode(ma,Y)):(Ga=na,Ea=p,ba=this._regioncode(Ga,Ea))}}_clipInfinite(ma,Y,Ga,Ea,db,ba){Y=Array.from(Y);let na;(na=this._project(Y[0],Y[1],Ga,Ea))&&Y.unshift(na[0],na[1]);(na=this._project(Y[Y.length-2],Y[Y.length-1],db,ba))&&Y.push(na[0],na[1]);if(Y=this._clipFinite(ma,Y))for(let p=0,L=Y.length,O,f=this._edgecode(Y[L-2],Y[L-1]);p<L;p+=2)O=f,f=this._edgecode(Y[p],
Y[p+1]),O&&f&&(p=this._edge(ma,O,f,Y,p),L=Y.length);else this.contains(ma,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Y=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Y}_edge(ma,Y,Ga,Ea,db){for(;Y!==Ga;){let ba,na;switch(Y){case 5:Y=4;continue;case 4:Y=6;ba=this.xmax;na=this.ymin;break;case 6:Y=2;continue;case 2:Y=10;ba=this.xmax;na=this.ymax;break;case 10:Y=8;continue;case 8:Y=9;ba=this.xmin;na=this.ymax;break;case 9:Y=1;continue;case 1:Y=5,ba=this.xmin,
na=this.ymin}Ea[db]===ba&&Ea[db+1]===na||!this.contains(ma,ba,na)||(Ea.splice(db,0,ba,na),db+=2)}if(4<Ea.length)for(ma=0;ma<Ea.length;ma+=2)if(Y=(ma+2)%Ea.length,Ga=(ma+4)%Ea.length,Ea[ma]===Ea[Y]&&Ea[Y]===Ea[Ga]||Ea[ma+1]===Ea[Y+1]&&Ea[Y+1]===Ea[Ga+1])Ea.splice(Y,2),ma-=2;return db}_project(ma,Y,Ga,Ea){let db=Infinity,ba,na,p;if(0>Ea){if(Y<=this.ymin)return null;(ba=(this.ymin-Y)/Ea)<db&&(p=this.ymin,na=ma+(db=ba)*Ga)}else if(0<Ea){if(Y>=this.ymax)return null;(ba=(this.ymax-Y)/Ea)<db&&(p=this.ymax,
na=ma+(db=ba)*Ga)}if(0<Ga){if(ma>=this.xmax)return null;(ba=(this.xmax-ma)/Ga)<db&&(na=this.xmax,p=Y+ba*Ea)}else if(0>Ga){if(ma<=this.xmin)return null;(ba=(this.xmin-ma)/Ga)<db&&(na=this.xmin,p=Y+ba*Ea)}return[na,p]}_edgecode(ma,Y){return(ma===this.xmin?1:ma===this.xmax?2:0)|(Y===this.ymin?4:Y===this.ymax?8:0)}_regioncode(ma,Y){return(ma<this.xmin?1:ma>this.xmax?2:0)|(Y<this.ymin?4:Y>this.ymax?8:0)}};const pb=2*Math.PI,Mb=Math.pow;class Vb{static from(ma,Y=ec,Ga=pc,Ea){if("length"in ma){const db=
ma.length,ba=new Float64Array(2*db);for(let na=0;na<db;++na){const p=ma[na];ba[2*na]=Y.call(Ea,p,na,ma);ba[2*na+1]=Ga.call(Ea,p,na,ma)}ma=ba}else ma=Float64Array.from(Ib(ma,Y,Ga,Ea));return new Vb(ma)}constructor(ma){this._delaunator=new lb(ma);this.inedges=new Int32Array(ma.length/2);this._hullIndex=new Int32Array(ma.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var ma=this._delaunator;const Y=this.points;if(ma.hull&&
2<ma.hull.length&&Ya(ma)){this.collinear=Int32Array.from({length:Y.length/2},(na,p)=>p).sort((na,p)=>Y[2*na]-Y[2*p]||Y[2*na+1]-Y[2*p+1]);ma=this.collinear[0];var Ga=this.collinear[this.collinear.length-1];ma=[Y[2*ma],Y[2*ma+1],Y[2*Ga],Y[2*Ga+1]];ma=1E-8*Math.hypot(ma[3]-ma[1],ma[2]-ma[0]);for(let na=0,p=Y.length/2;na<p;++na)Ga=rb(Y[2*na],Y[2*na+1],ma),Y[2*na]=Ga[0],Y[2*na+1]=Ga[1];this._delaunator=new lb(Y)}else delete this.collinear;ma=this.halfedges=this._delaunator.halfedges;Ga=this.hull=this._delaunator.hull;
const Ea=this.triangles=this._delaunator.triangles,db=this.inedges.fill(-1),ba=this._hullIndex.fill(-1);for(let na=0,p=ma.length;na<p;++na){const L=Ea[2===na%3?na-2:na+1];if(-1===ma[na]||-1===db[L])db[L]=na}for(let na=0,p=Ga.length;na<p;++na)ba[Ga[na]]=na;2>=Ga.length&&0<Ga.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Ga[0],db[Ga[0]]=1,2===Ga.length&&(db[Ga[1]]=0,this.triangles[1]=Ga[1],this.triangles[2]=Ga[1]))}voronoi(ma){return new vb(this,
ma)}*neighbors(ma){const {inedges:Y,hull:Ga,_hullIndex:Ea,halfedges:db,triangles:ba,collinear:na}=this;if(na){var p=na.indexOf(ma);0<p&&(yield na[p-1]);p<na.length-1&&(yield na[p+1])}else{var L=Y[ma];if(-1!==L){var O=L;do{yield(p=ba[O]);O=2===O%3?O-2:O+1;if(ba[O]!==ma)break;O=db[O];if(-1===O){ma=Ga[(Ea[ma]+1)%Ga.length];ma!==p&&(yield ma);break}}while(O!==L)}}}find(ma,Y,Ga=0){if((ma=+ma,ma!==ma)||(Y=+Y,Y!==Y))return-1;const Ea=Ga;let db;for(;0<=(db=this._step(Ga,ma,Y))&&db!==Ga&&db!==Ea;)Ga=db;return db}_step(ma,
Y,Ga){const {inedges:Ea,hull:db,_hullIndex:ba,halfedges:na,triangles:p,points:L}=this;if(-1===Ea[ma]||!L.length)return(ma+1)%(L.length>>1);let O=ma,f=Mb(Y-L[2*ma],2)+Mb(Ga-L[2*ma+1],2);const v=Ea[ma];let m=v;do{let C=p[m];const B=Mb(Y-L[2*C],2)+Mb(Ga-L[2*C+1],2);B<f&&(f=B,O=C);m=2===m%3?m-2:m+1;if(p[m]!==ma)break;m=na[m];if(-1===m){m=db[(ba[ma]+1)%db.length];if(m!==C&&Mb(Y-L[2*m],2)+Mb(Ga-L[2*m+1],2)<f)return m;break}}while(m!==v);return O}render(ma){const Y=null==ma?ma=new mb:void 0,{points:Ga,halfedges:Ea,
triangles:db}=this;for(let na=0,p=Ea.length;na<p;++na){var ba=Ea[na];if(ba<na)continue;const L=2*db[na];ba=2*db[ba];ma.moveTo(Ga[L],Ga[L+1]);ma.lineTo(Ga[ba],Ga[ba+1])}this.renderHull(ma);return Y&&Y.value()}renderPoints(ma,Y){void 0!==Y||ma&&"function"===typeof ma.moveTo||(Y=ma,ma=null);Y=void 0==Y?2:+Y;const Ga=null==ma?ma=new mb:void 0,{points:Ea}=this;for(let db=0,ba=Ea.length;db<ba;db+=2){const na=Ea[db],p=Ea[db+1];ma.moveTo(na+Y,p);ma.arc(na,p,Y,0,pb)}return Ga&&Ga.value()}renderHull(ma){const Y=
null==ma?ma=new mb:void 0,{hull:Ga,points:Ea}=this;var db=2*Ga[0];const ba=Ga.length;ma.moveTo(Ea[db],Ea[db+1]);for(db=1;db<ba;++db){const na=2*Ga[db];ma.lineTo(Ea[na],Ea[na+1])}ma.closePath();return Y&&Y.value()}hullPolygon(){const ma=new Na;this.renderHull(ma);return ma.value()}renderTriangle(ma,Y){const Ga=null==Y?Y=new mb:void 0,{points:Ea,triangles:db}=this,ba=2*db[ma*=3],na=2*db[ma+1];ma=2*db[ma+2];Y.moveTo(Ea[ba],Ea[ba+1]);Y.lineTo(Ea[na],Ea[na+1]);Y.lineTo(Ea[ma],Ea[ma+1]);Y.closePath();return Ga&&
Ga.value()}*trianglePolygons(){const {triangles:ma}=this;for(let Y=0,Ga=ma.length/3;Y<Ga;++Y)yield this.trianglePolygon(Y)}trianglePolygon(ma){const Y=new Na;this.renderTriangle(ma,Y);return Y.value()}}Nb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const ob=[-1E5,-1E5,1E5,1E5];ra.inherits(Nb,g.Transform,{transform(ma,Y){const Ga=ma.as||"path",Ea=Y.source;if(!Ea||!Ea.length)return Y;var db=ma.size;db=db?[0,0,db[0],db[1]]:(db=ma.extent)?[db[0][0],db[0][1],db[1][0],db[1][1]]:ob;db=this.value=Vb.from(Ea,ma.x,ma.y).voronoi(db);for(let p=0,L=Ea.length;p<L;++p){var ba=db.cellPolygon(p),na=Ea[p];if(ba){const O=ba[0][0],f=ba[0][1];let v=ba.length-1;for(;ba[v][0]===O&&ba[v][1]===f;--v);ba="M"+ba.slice(0,v+
1).join("L")+"Z"}else ba=null;na[Ga]=ba}return Y.reflow(ma.modified()).modifies(Ga)}});r.voronoi=Nb})};
shadow$provide[55]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(32),Cb(29),Cb(21),Cb(33),Cb(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb,Zb){function oc(){function Ob(ma){ma.width=ma.height=1;var Y=Math.sqrt(ma.getContext("2d").getImageData(0,
0,1,1).data.length>>2);ma.width=2048/Y;ma.height=2048/Y;ma=ma.getContext("2d");ma.fillStyle=ma.strokeStyle="red";ma.textAlign="center";return{context:ma,ratio:Y}}function Xa(ma,Y,Ga){for(var Ea=Y.x,db=Y.y,ba=Math.sqrt(qb[0]*qb[0]+qb[1]*qb[1]),na=pb(qb),p=.5>Vb()?1:-1,L=-p,O,f;O=na(L+=p);){f=~~O[0];O=~~O[1];if(Math.min(Math.abs(f),Math.abs(O))>=ba)break;Y.x=Ea+f;Y.y=db+O;if(!(0>Y.x+Y.x0||0>Y.y+Y.y0||Y.x+Y.x1>qb[0]||Y.y+Y.y1>qb[1])){if(!(f=!Ga)){a:{f=qb[0];f>>=5;O=Y.sprite;var v=Y.width>>5;var m=Y.x-
(v<<4);for(var C=m&127,B=32-C,z=Y.y1-Y.y0,E=(Y.y+Y.y0)*f+(m>>5),D=0;D<z;D++){for(var V=m=0;V<=v;V++)if((m<<B|(V<v?(m=O[D*v+V])>>>C:0))&ma[E+V]){f=!0;break a}E+=f}f=!1}f=!f}if(f&&(!Ga||Y.x+Y.x1>Ga[0].x&&Y.x+Y.x0<Ga[1].x&&Y.y+Y.y1>Ga[0].y&&Y.y+Y.y0<Ga[1].y)){Ga=Y.sprite;Ea=Y.width>>5;db=qb[0]>>5;L=Y.x-(Ea<<4);ba=L&127;na=32-ba;p=Y.y1-Y.y0;L=(Y.y+Y.y0)*db+(L>>5);for(O=0;O<p;O++){for(v=f=0;v<=Ea;v++)ma[L+v]=ma[L+v]|f<<na|(v<Ea?(f=Ga[O*Ea+v])>>>ba:0);L+=db}Y.sprite=null;return!0}}}return!1}var qb=[256,
256],Oa,Ca,Qa,lb,mb,Na,vb,pb=Ab,Mb=[],Vb=Math.random,ob={layout:function(){for(var ma=Ob(g.canvas()),Y=ec((qb[0]>>5)*qb[1]),Ga=null,Ea=Mb.length,db=-1,ba=[],na=Mb.map(L=>({text:Oa(L),font:Ca(L),style:lb(L),weight:mb(L),rotate:Na(L),size:~~(Qa(L)+1E-14),padding:vb(L),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:L})).sort((L,O)=>O.size-L.size);++db<Ea;){var p=na[db];p.x=qb[0]*(Vb()+.5)>>1;p.y=qb[1]*(Vb()+.5)>>1;kc(ma,p,na,db);p.hasText&&Xa(Y,p,Ga)&&(ba.push(p),Ga?Ac(Ga,p):Ga=[{x:p.x+
p.x0,y:p.y+p.y0},{x:p.x+p.x1,y:p.y+p.y1}],p.x-=qb[0]>>1,p.y-=qb[1]>>1)}return ba},words:function(ma){return arguments.length?(Mb=ma,ob):Mb},size:function(ma){return arguments.length?(qb=[+ma[0],+ma[1]],ob):qb},font:function(ma){return arguments.length?(Ca=pc(ma),ob):Ca},fontStyle:function(ma){return arguments.length?(lb=pc(ma),ob):lb},fontWeight:function(ma){return arguments.length?(mb=pc(ma),ob):mb},rotate:function(ma){return arguments.length?(Na=pc(ma),ob):Na},text:function(ma){return arguments.length?
(Oa=pc(ma),ob):Oa},spiral:function(ma){return arguments.length?(pb=Ib[ma]||ma,ob):pb},fontSize:function(ma){return arguments.length?(Qa=pc(ma),ob):Qa},padding:function(ma){return arguments.length?(vb=pc(ma),ob):vb},random:function(ma){return arguments.length?(Vb=ma,ob):Vb}};return ob}function kc(Ob,Xa,qb,Oa){if(!Xa.sprite){var Ca=Ob.context,Qa=Ob.ratio;Ca.clearRect(0,0,2048/Qa,2048/Qa);var lb=Ob=0,mb=0,Na=qb.length;for(--Oa;++Oa<Na;){Xa=qb[Oa];Ca.save();Ca.font=Xa.style+" "+Xa.weight+" "+~~((Xa.size+
1)/Qa)+"px "+Xa.font;var vb=Ca.measureText(Xa.text+"m").width*Qa;var pb=Xa.size<<1;if(Xa.rotate){var Mb=Math.sin(Xa.rotate*rb),Vb=Math.cos(Xa.rotate*rb),ob=vb*Vb,ma=vb*Mb;Vb*=pb;vb=pb*Mb;vb=Math.max(Math.abs(ob+vb),Math.abs(ob-vb))+31>>5<<5;pb=~~Math.max(Math.abs(ma+Vb),Math.abs(ma-Vb))}else vb=vb+31>>5<<5;pb>mb&&(mb=pb);2048<=Ob+vb&&(Ob=0,lb+=mb,mb=0);if(2048<=lb+pb)break;Ca.translate((Ob+(vb>>1))/Qa,(lb+(pb>>1))/Qa);Xa.rotate&&Ca.rotate(Xa.rotate*rb);Ca.fillText(Xa.text,0,0);Xa.padding&&(Ca.lineWidth=
2*Xa.padding,Ca.strokeText(Xa.text,0,0));Ca.restore();Xa.width=vb;Xa.height=pb;Xa.xoff=Ob;Xa.yoff=lb;Xa.x1=vb>>1;Xa.y1=pb>>1;Xa.x0=-Xa.x1;Xa.y0=-Xa.y1;Xa.hasText=!0;Ob+=vb}Na=Ca.getImageData(0,0,2048/Qa,2048/Qa).data;for(ob=[];0<=--Oa;)if(Xa=qb[Oa],Xa.hasText){vb=Xa.width;Ca=vb>>5;pb=Xa.y1-Xa.y0;for(Qa=0;Qa<pb*Ca;Qa++)ob[Qa]=0;Ob=Xa.xoff;if(null==Ob)break;lb=Xa.yoff;ma=0;Mb=-1;for(mb=0;mb<pb;mb++){for(Qa=0;Qa<vb;Qa++)Vb=Na[2048*(lb+mb)+(Ob+Qa)<<2]?1<<31-Qa%32:0,ob[Ca*mb+(Qa>>5)]|=Vb,ma|=Vb;ma?Mb=
mb:(Xa.y0++,pb--,mb--,lb++)}Xa.y1=Xa.y0+Mb;Xa.sprite=ob.slice(0,(Xa.y1-Xa.y0)*Ca)}}}function Ac(Ob,Xa){var qb=Ob[0];Ob=Ob[1];Xa.x+Xa.x0<qb.x&&(qb.x=Xa.x+Xa.x0);Xa.y+Xa.y0<qb.y&&(qb.y=Xa.y+Xa.y0);Xa.x+Xa.x1>Ob.x&&(Ob.x=Xa.x+Xa.x1);Xa.y+Xa.y1>Ob.y&&(Ob.y=Xa.y+Xa.y1)}function Ab(Ob){var Xa=Ob[0]/Ob[1];return function(qb){return[Xa*(qb*=.1)*Math.cos(qb),qb*Math.sin(qb)]}}function ec(Ob){for(var Xa=[],qb=-1;++qb<Ob;)Xa[qb]=0;return Xa}function pc(Ob){return"function"===typeof Ob?Ob:function(){return Ob}}
function Ya(Ob){ra.Transform.call(this,oc(),Ob)}var rb=Math.PI/180,Ib={archimedean:Ab,rectangular:function(Ob){var Xa=4*Ob[0]/Ob[1],qb=0,Oa=0;return function(Ca){var Qa=0>Ca?-1:1;switch(Math.sqrt(1+4*Qa*Ca)-Qa&3){case 0:qb+=Xa;break;case 1:Oa+=4;break;case 2:qb-=Xa;break;default:Oa-=4}return[qb,Oa]}}};const Nb="x y font fontSize fontStyle fontWeight angle".split(" "),Bb="text font rotate fontSize fontStyle fontWeight".split(" ");Ya.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Nb}]};ib.inherits(Ya,ra.Transform,{transform(Ob,Xa){function qb(vb){vb=Ob[vb];return ib.isFunction(vb)&&Xa.modified(vb.fields)}!Ob.size||Ob.size[0]&&Ob.size[1]||ib.error("Wordcloud size dimensions must be non-zero.");const Oa=Ob.modified();if(Oa||Xa.changed(Xa.ADD_REM)||Bb.some(qb)){var Ca=Xa.materialize(Xa.SOURCE).source,Qa=this.value,lb=Ob.as||Nb,mb=Ob.fontSize||14,Na;ib.isFunction(mb)?Na=Ob.fontSizeRange:mb=ib.constant(mb);if(Na){const vb=
mb,pb=Fb.scale("sqrt")().domain(ib.extent(Ca,vb)).range(Na);mb=Mb=>pb(vb(Mb))}Ca.forEach(vb=>{vb[lb[0]]=NaN;vb[lb[1]]=NaN;vb[lb[3]]=0});Ca=Qa.words(Ca).text(Ob.text).size(Ob.size||[500,500]).padding(Ob.padding||1).spiral(Ob.spiral||"archimedean").rotate(Ob.rotate||0).font(Ob.font||"sans-serif").fontStyle(Ob.fontStyle||"normal").fontWeight(Ob.fontWeight||"normal").fontSize(mb).random(Zb.random).layout();mb=Qa.size();Qa=mb[0]>>1;mb=mb[1]>>1;Na=Ca.length;for(let vb=0,pb,Mb;vb<Na;++vb)pb=Ca[vb],Mb=pb.datum,
Mb[lb[0]]=pb.x+Qa,Mb[lb[1]]=pb.y+mb,Mb[lb[2]]=pb.font,Mb[lb[3]]=pb.size,Mb[lb[4]]=pb.style,Mb[lb[5]]=pb.weight,Mb[lb[6]]=pb.rotate;return Xa.reflow(Oa).modifies(lb)}}});r.wordcloud=Ya})};
shadow$provide[56]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(29),Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,g,ra){function ib(){let Ca=8,Qa=[],lb=new Uint32Array(0),mb=Fb(0,Ca),Na=Fb(0,Ca);return{data:()=>Qa,seen:()=>{var vb=lb;var pb=Qa.length;vb.length>=pb||(pb=new vb.constructor(pb),
pb.set(vb),vb=pb);return lb=vb},add(vb){for(let pb=0,Mb=Qa.length,Vb=vb.length,ob;pb<Vb;++pb)ob=vb[pb],ob._index=Mb++,Qa.push(ob)},remove(vb,pb){const Mb=Qa.length;vb=Array(Mb-vb);const Vb=Qa;let ob,ma,Y;for(ma=0;!pb[ma]&&ma<Mb;++ma)vb[ma]=Qa[ma],Vb[ma]=ma;for(Y=ma;ma<Mb;++ma)ob=Qa[ma],pb[ma]?Vb[ma]=-1:(Vb[ma]=Y,mb[Y]=mb[ma],Na[Y]=Na[ma],vb[Y]=ob,ob._index=Y++),mb[ma]=0;Qa=vb;return Vb},size:()=>Qa.length,curr:()=>mb,prev:()=>Na,reset:vb=>Na[vb]=mb[vb],all:()=>257>Ca?255:65537>Ca?65535:4294967295,
set(vb,pb){mb[vb]|=pb},clear(vb,pb){mb[vb]&=~pb},resize(vb,pb){if(vb>mb.length||pb>Ca)Ca=Math.max(pb,Ca),mb=Fb(vb,Ca,mb),Na=Fb(vb,Ca)}}}function Fb(Ca,Qa,lb){Ca=(257>Qa?Nb:65537>Qa?Bb:Ob)(Ca);lb&&Ca.set(lb);return Ca}function Zb(Ca,Qa,lb){const mb=1<<Qa;return{one:mb,zero:~mb,range:lb.slice(),bisect:Ca.bisect,index:Ca.index,size:Ca.size,onAdd(Na,vb){var pb=this.bisect(this.range,Na.value);Na=Na.index;const Mb=pb[0];pb=pb[1];const Vb=Na.length;let ob;for(ob=0;ob<Mb;++ob)vb[Na[ob]]|=mb;for(ob=pb;ob<
Vb;++ob)vb[Na[ob]]|=mb;return this}}}function oc(Ca,Qa){return null==Ca||null==Qa?NaN:Ca<Qa?-1:Ca>Qa?1:Ca>=Qa?0:NaN}function kc(Ca,Qa){return null==Ca||null==Qa?NaN:Qa<Ca?-1:Qa>Ca?1:Qa>=Ca?0:NaN}function Ac(Ca){function Qa(vb,pb,Mb=0,Vb=vb.length){if(Mb<Vb){if(0!==lb(pb,pb))return Vb;do{const ob=Mb+Vb>>>1;0>mb(vb[ob],pb)?Mb=ob+1:Vb=ob}while(Mb<Vb)}return Mb}let lb,mb,Na;2!==Ca.length?(lb=oc,mb=(vb,pb)=>oc(Ca(vb),pb),Na=(vb,pb)=>Ca(vb)-pb):(lb=Ca===oc||Ca===kc?Ca:Ab,Na=mb=Ca);return{left:Qa,center:function(vb,
pb,Mb=0,Vb=vb.length){Vb=Qa(vb,pb,Mb,Vb-1);return Vb>Mb&&Na(vb[Vb-1],pb)>-Na(vb[Vb],pb)?Vb-1:Vb},right:function(vb,pb,Mb=0,Vb=vb.length){if(Mb<Vb){if(0!==lb(pb,pb))return Vb;do{const ob=Mb+Vb>>>1;0>=mb(vb[ob],pb)?Mb=ob+1:Vb=ob}while(Mb<Vb)}return Mb}}}function Ab(){return 0}function ec(Ca,Qa){return Array.from(Qa,lb=>Ca[lb])}function pc(){let Ca=new Uint32Array(0),Qa=[],lb=0;return{insert:function(mb,Na,vb){if(!Na.length)return[];const pb=lb,Mb=Na.length,Vb=new Uint32Array(Mb);let ob=Array(Mb);var ma;
for(ma=0;ma<Mb;++ma)ob[ma]=mb(Na[ma]),Vb[ma]=ma;ob=Ya(ob,Vb);if(pb){mb=Qa;Na=Ca;Qa=Array(pb+Mb);Ca=new Uint32Array(pb+Mb);ma=ob;var Y=Qa,Ga=Ca;let Ea=0,db=0,ba;for(ba=0;Ea<pb&&db<Mb;++ba)mb[Ea]<ma[db]?(Y[ba]=mb[Ea],Ga[ba]=Na[Ea++]):(Y[ba]=ma[db],Ga[ba]=Vb[db++]+vb);for(;Ea<pb;++Ea,++ba)Y[ba]=mb[Ea],Ga[ba]=Na[Ea];for(;db<Mb;++db,++ba)Y[ba]=ma[db],Ga[ba]=Vb[db]+vb}else{if(0<vb)for(ma=0;ma<Mb;++ma)Vb[ma]+=vb;Qa=ob;Ca=Vb}lb=pb+Mb;return{index:Vb,value:ob}},remove:function(mb,Na){const vb=lb;let pb,Mb,
Vb;for(Mb=0;!Na[Ca[Mb]]&&Mb<vb;++Mb);for(Vb=Mb;Mb<vb;++Mb)Na[pb=Ca[Mb]]||(Ca[Vb]=pb,Qa[Vb]=Qa[Mb],++Vb);lb=vb-mb},bisect:function(mb,Na){let vb;Na?vb=Na.length:(Na=Qa,vb=lb);return[Oa(Na,mb[0],0,vb),qb(Na,mb[1],0,vb)]},reindex:function(mb){for(let Na=0,vb=lb;Na<vb;++Na)Ca[Na]=mb[Ca[Na]]},index:()=>Ca,size:()=>lb}}function Ya(Ca,Qa){Ca.sort.call(Qa,(lb,mb)=>{lb=Ca[lb];mb=Ca[mb];return lb<mb?-1:lb>mb?1:0});return ec(Ca,Qa)}function rb(Ca){g.Transform.call(this,ib(),Ca);this._dims=this._indices=null}
function Ib(Ca){g.Transform.call(this,null,Ca)}const Nb=Ca=>new Uint8Array(Ca),Bb=Ca=>new Uint16Array(Ca),Ob=Ca=>new Uint32Array(Ca),Xa=Ac(oc),qb=Xa.right,Oa=Xa.left;Ac(function(Ca){return null===Ca?NaN:+Ca}).center;rb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ra.inherits(rb,g.Transform,{transform(Ca,Qa){return this._dims?Ca.modified("fields")||Ca.fields.some(lb=>
Qa.modified(lb.fields))?this.reinit(Ca,Qa):this.eval(Ca,Qa):this.init(Ca,Qa)},init(Ca,Qa){const lb=Ca.fields,mb=Ca.query,Na=this._indices={},vb=this._dims=[],pb=mb.length;let Mb=0;for(var Vb;Mb<pb;++Mb)Vb=lb[Mb].fname,Vb=Na[Vb]||(Na[Vb]=pc()),vb.push(Zb(Vb,Mb,mb[Mb]));return this.eval(Ca,Qa)},reinit(Ca,Qa){const lb=Qa.materialize().fork(),mb=Ca.fields,Na=Ca.query,vb=this._indices,pb=this._dims,Mb=this.value,Vb=Mb.curr(),ob=Mb.prev(),ma=Mb.all(),Y=lb.rem=lb.add,Ga=lb.mod,Ea=Na.length,db={};let ba;
var na;let p,L,O,f;ob.set(Vb);Qa.rem.length&&(p=this.remove(Ca,Qa,lb));Qa.add.length&&Mb.add(Qa.add);if(Qa.mod.length){L={};var v=Qa.mod;O=0;for(na=v.length;O<na;++O)L[v[O]._index]=1}for(O=0;O<Ea;++O)if(f=mb[O],!pb[O]||Ca.modified("fields",O)||Qa.modified(f.fields))na=f.fname,(v=db[na])||(vb[na]=ba=pc(),db[na]=v=ba.insert(f,Qa.source,0)),pb[O]=Zb(ba,O,Na[O]).onAdd(v,Vb);O=0;for(na=Mb.data().length;O<na;++O)p[O]||(ob[O]!==Vb[O]?Y.push(O):L[O]&&Vb[O]!==ma&&Ga.push(O));Mb.mask=(1<<Ea)-1;return lb},eval(Ca,
Qa){const lb=Qa.materialize().fork(),mb=this._dims.length;let Na=0;Qa.rem.length&&(this.remove(Ca,Qa,lb),Na|=(1<<mb)-1);Ca.modified("query")&&!Ca.modified("fields")&&(Na|=this.update(Ca,Qa,lb));Qa.add.length&&(this.insert(Ca,Qa,lb),Na|=(1<<mb)-1);Qa.mod.length&&(this.modify(Qa,lb),Na|=(1<<mb)-1);this.value.mask=Na;return lb},insert(Ca,Qa,lb){Qa=Qa.add;var mb=this.value;const Na=this._dims,vb=this._indices;Ca=Ca.fields;const pb={};lb=lb.add;const Mb=mb.size()+Qa.length,Vb=Na.length;let ob=mb.size();
mb.resize(Mb,Vb);mb.add(Qa);const ma=mb.curr(),Y=mb.prev(),Ga=mb.all();for(mb=0;mb<Vb;++mb){var Ea=Ca[mb].fname;Ea=pb[Ea]||(pb[Ea]=vb[Ea].insert(Ca[mb],Qa,ob));Na[mb].onAdd(Ea,ma)}for(;ob<Mb;++ob)Y[ob]=Ga,ma[ob]!==Ga&&lb.push(ob)},modify(Ca,Qa){Qa=Qa.mod;var lb=this.value;const mb=lb.curr();lb=lb.all();Ca=Ca.mod;let Na,vb,pb;Na=0;for(vb=Ca.length;Na<vb;++Na)pb=Ca[Na]._index,mb[pb]!==lb&&Qa.push(pb)},remove(Ca,Qa,lb){Ca=this._indices;var mb=this.value;const Na=mb.curr(),vb=mb.prev();mb=mb.all();const pb=
{};lb=lb.rem;const Mb=Qa.rem;let Vb,ob,ma,Y;Vb=0;for(ob=Mb.length;Vb<ob;++Vb)ma=Mb[Vb]._index,pb[ma]=1,vb[ma]=Y=Na[ma],Na[ma]=mb,Y!==mb&&lb.push(ma);for(ma in Ca)Ca[ma].remove(ob,pb);this.reindex(Qa,ob,pb);return pb},reindex(Ca,Qa,lb){const mb=this._indices,Na=this.value;Ca.runAfter(()=>{const vb=Na.remove(Qa,lb);for(const pb in mb)mb[pb].reindex(vb)})},update(Ca,Qa,lb){const mb=this._dims,Na=Ca.query;Qa=Qa.stamp;const vb=mb.length;let pb=0,Mb,Vb;for(Vb=lb.filters=0;Vb<vb;++Vb)Ca.modified("query",
Vb)&&(Mb=Vb,++pb);if(1===pb)pb=mb[Mb].one,this.incrementOne(mb[Mb],Na[Mb],lb.add,lb.rem);else for(pb=Vb=0;Vb<vb;++Vb)Ca.modified("query",Vb)&&(pb|=mb[Vb].one,this.incrementAll(mb[Vb],Na[Vb],Qa,lb.add),lb.rem=lb.add);return pb},incrementAll(Ca,Qa,lb,mb){var Na=this.value;const vb=Na.seen(),pb=Na.curr();Na=Na.prev();const Mb=Ca.index();var Vb=Ca.bisect(Ca.range),ob=Ca.bisect(Qa);const ma=ob[0];ob=ob[1];const Y=Vb[0];Vb=Vb[1];const Ga=Ca.one;let Ea,db,ba;if(ma<Y)for(Ea=ma,db=Math.min(Y,ob);Ea<db;++Ea)ba=
Mb[Ea],vb[ba]!==lb&&(Na[ba]=pb[ba],vb[ba]=lb,mb.push(ba)),pb[ba]^=Ga;else if(ma>Y)for(Ea=Y,db=Math.min(ma,Vb);Ea<db;++Ea)ba=Mb[Ea],vb[ba]!==lb&&(Na[ba]=pb[ba],vb[ba]=lb,mb.push(ba)),pb[ba]^=Ga;if(ob>Vb)for(Ea=Math.max(ma,Vb),db=ob;Ea<db;++Ea)ba=Mb[Ea],vb[ba]!==lb&&(Na[ba]=pb[ba],vb[ba]=lb,mb.push(ba)),pb[ba]^=Ga;else if(ob<Vb)for(Ea=Math.max(Y,ob),db=Vb;Ea<db;++Ea)ba=Mb[Ea],vb[ba]!==lb&&(Na[ba]=pb[ba],vb[ba]=lb,mb.push(ba)),pb[ba]^=Ga;Ca.range=Qa.slice()},incrementOne(Ca,Qa,lb,mb){const Na=this.value.curr(),
vb=Ca.index();var pb=Ca.bisect(Ca.range),Mb=Ca.bisect(Qa);const Vb=Mb[0];Mb=Mb[1];const ob=pb[0];pb=pb[1];const ma=Ca.one;let Y,Ga,Ea;if(Vb<ob)for(Y=Vb,Ga=Math.min(ob,Mb);Y<Ga;++Y)Ea=vb[Y],Na[Ea]^=ma,lb.push(Ea);else if(Vb>ob)for(Y=ob,Ga=Math.min(Vb,pb);Y<Ga;++Y)Ea=vb[Y],Na[Ea]^=ma,mb.push(Ea);if(Mb>pb)for(Y=Math.max(Vb,pb),Ga=Mb;Y<Ga;++Y)Ea=vb[Y],Na[Ea]^=ma,lb.push(Ea);else if(Mb<pb)for(Y=Math.max(ob,Mb),Ga=pb;Y<Ga;++Y)Ea=vb[Y],Na[Ea]^=ma,mb.push(Ea);Ca.range=Qa.slice()}});Ib.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ra.inherits(Ib,g.Transform,{transform(Ca,Qa){const lb=~(Ca.ignore||0);Ca=Ca.filter;const mb=Ca.mask;if(0===(mb&lb))return Qa.StopPropagation;Qa=Qa.fork(Qa.ALL);const Na=Ca.data(),vb=Ca.curr(),pb=Ca.prev(),Mb=Vb=>vb[Vb]&lb?null:Na[Vb];Qa.filter(Qa.MOD,Mb);mb&mb-1?(Qa.filter(Qa.ADD,
Vb=>{const ob=vb[Vb]&lb;return!ob&&ob^pb[Vb]&lb?Na[Vb]:null}),Qa.filter(Qa.REM,Vb=>{const ob=vb[Vb]&lb;return!ob||ob^ob^pb[Vb]&lb?null:Na[Vb]})):(Qa.filter(Qa.ADD,Mb),Qa.filter(Qa.REM,Vb=>(vb[Vb]&lb)===mb?Na[Vb]:null));return Qa.filter(Qa.SOURCE,Vb=>Mb(Vb._index))}});r.crossfilter=rb;r.resolvefilter=Ib})};
shadow$provide[57]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function ra(z){this.type=z}function ib(z){switch(z.type){case "ArrayExpression":return z.elements;case "BinaryExpression":case "LogicalExpression":return[z.left,z.right];case "CallExpression":return[z.callee].concat(z.arguments);
case "ConditionalExpression":return[z.test,z.consequent,z.alternate];case "MemberExpression":return[z.object,z.property];case "ObjectExpression":return z.properties;case "Property":return[z.key,z.value];case "UnaryExpression":return[z.argument];default:return[]}}function Fb(z,E){if(!z)throw Error("ASSERT: "+E);}function Zb(z){return 48<=z&&57>=z}function oc(z){return 0<="0123456789abcdefABCDEF".indexOf(z)}function kc(z){return 0<="01234567".indexOf(z)}function Ac(z){return 10===z||13===z||8232===
z||8233===z}function Ab(z){return 36===z||95===z||65<=z&&90>=z||97<=z&&122>=z||92===z||128<=z&&f.test(String.fromCharCode(z))}function ec(z){return 36===z||95===z||65<=z&&90>=z||97<=z&&122>=z||48<=z&&57>=z||92===z||128<=z&&v.test(String.fromCharCode(z))}function pc(){for(;p<L;){const z=na.charCodeAt(p);if(32===z||9===z||11===z||12===z||160===z||5760<=z&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(z)||Ac(z))++p;else break}}function Ya(z){var E=
0;var D="u"===z?4:2;for(z=0;z<D;++z)if(p<L&&oc(na[p])){var V=na[p++];E=16*E+"0123456789abcdef".indexOf(V.toLowerCase())}else Na({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(E)}function rb(){var z=na.charCodeAt(p++);var E=String.fromCharCode(z);92===z&&(117!==na.charCodeAt(p)&&Na({},"Unexpected token %0","ILLEGAL"),++p,(z=Ya("u"))&&"\\"!==z&&Ab(z.charCodeAt(0))||Na({},"Unexpected token %0","ILLEGAL"),E=z);for(;p<L;){z=na.charCodeAt(p);if(!ec(z))break;++p;E+=String.fromCharCode(z);
92===z&&(E=E.substr(0,E.length-1),117!==na.charCodeAt(p)&&Na({},"Unexpected token %0","ILLEGAL"),++p,(z=Ya("u"))&&"\\"!==z&&ec(z.charCodeAt(0))||Na({},"Unexpected token %0","ILLEGAL"),E+=z)}return E}function Ib(){var z=p,E=na.charCodeAt(p),D=na[p];switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++p,{type:7,value:String.fromCharCode(E),start:z,end:p};default:var V=na.charCodeAt(p+1);if(61===V)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return p+=
2,{type:7,value:String.fromCharCode(E)+String.fromCharCode(V),start:z,end:p};case 33:case 61:return p+=2,61===na.charCodeAt(p)&&++p,{type:7,value:na.slice(z,p),start:z,end:p}}}E=na.substr(p,4);if("\x3e\x3e\x3e\x3d"===E)return p+=4,{type:7,value:E,start:z,end:p};E=E.substr(0,3);if("\x3e\x3e\x3e"===E||"\x3c\x3c\x3d"===E||"\x3e\x3e\x3d"===E)return p+=3,{type:7,value:E,start:z,end:p};E=E.substr(0,2);if(D===E[1]&&0<="+-\x3c\x3e\x26|".indexOf(D)||"\x3d\x3e"===E)return p+=2,{type:7,value:E,start:z,end:p};
"//"===E&&Na({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(D))return++p,{type:7,value:D,start:z,end:p};Na({},"Unexpected token %0","ILLEGAL")}function Nb(){var z=na[p];Fb(Zb(z.charCodeAt(0))||"."===z,"Numeric literal must start with a decimal digit or a decimal point");var E=p;var D="";if("."!==z){D=na[p++];z=na[p];if("0"===D){if("x"===z||"X"===z){++p;for(D="";p<L&&oc(na[p]);)D+=na[p++];0===D.length&&Na({},"Unexpected token %0","ILLEGAL");Ab(na.charCodeAt(p))&&Na({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+D,16),start:E,end:p}}if(kc(z)){for(D="0"+na[p++];p<L&&kc(na[p]);)D+=na[p++];(Ab(na.charCodeAt(p))||Zb(na.charCodeAt(p)))&&Na({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(D,8),octal:!0,start:E,end:p}}z&&Zb(z.charCodeAt(0))&&Na({},"Unexpected token %0","ILLEGAL")}for(;Zb(na.charCodeAt(p));)D+=na[p++];z=na[p]}if("."===z){for(D+=na[p++];Zb(na.charCodeAt(p));)D+=na[p++];z=na[p]}if("e"===z||"E"===z){D+=na[p++];z=na[p];
if("+"===z||"-"===z)D+=na[p++];if(Zb(na.charCodeAt(p)))for(;Zb(na.charCodeAt(p));)D+=na[p++];else Na({},"Unexpected token %0","ILLEGAL")}Ab(na.charCodeAt(p))&&Na({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(D),start:E,end:p}}function Bb(z,E){let D=z;0<=E.indexOf("u")&&(D=D.replace(/\\u\{([0-9a-fA-F]+)\}/g,(V,Aa)=>{if(1114111>=parseInt(Aa,16))return"x";Na({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(D)}catch(V){Na({},"Invalid regular expression")}try{return new RegExp(z,
E)}catch(V){return null}}function Ob(){pc();if(p>=L)return{type:2,start:p,end:p};var z=na.charCodeAt(p);if(Ab(z)){z=p;if(92===na.charCodeAt(p))var E=rb();else a:{for(E=p++;p<L;){var D=na.charCodeAt(p);if(92===D){p=E;E=rb();break a}if(ec(D))++p;else break}E=na.slice(E,p)}return{type:1===E.length?3:m.hasOwnProperty(E)?4:"null"===E?5:"true"===E||"false"===E?1:3,value:E,start:z,end:p}}if(40===z||41===z||59===z)return Ib();if(39===z||34===z){var V="";D=!1;z=na[p];Fb("'"===z||'"'===z,"String literal must starts with a quote");
E=p;for(++p;p<L;){var Aa=na[p++];if(Aa===z){z="";break}else if("\\"===Aa)if((Aa=na[p++])&&Ac(Aa.charCodeAt(0)))"\r"===Aa&&"\n"===na[p]&&++p;else switch(Aa){case "u":case "x":if("{"===na[p]){++p;var W=na[p];Aa=0;for("}"===W&&Na({},"Unexpected token %0","ILLEGAL");p<L;){W=na[p++];if(!oc(W))break;Aa=16*Aa+"0123456789abcdef".indexOf(W.toLowerCase())}(1114111<Aa||"}"!==W)&&Na({},"Unexpected token %0","ILLEGAL");Aa=65535>=Aa?String.fromCharCode(Aa):String.fromCharCode((Aa-65536>>10)+55296,(Aa-65536&1023)+
56320);V+=Aa}else V+=Ya(Aa);break;case "n":V+="\n";break;case "r":V+="\r";break;case "t":V+="\t";break;case "b":V+="\b";break;case "f":V+="\f";break;case "v":V+="\v";break;default:kc(Aa)?(W="01234567".indexOf(Aa),0!==W&&(D=!0),p<L&&kc(na[p])&&(D=!0,W=8*W+"01234567".indexOf(na[p++]),0<="0123".indexOf(Aa)&&p<L&&kc(na[p])&&(W=8*W+"01234567".indexOf(na[p++]))),V+=String.fromCharCode(W)):V+=Aa}else if(Ac(Aa.charCodeAt(0)))break;else V+=Aa}""!==z&&Na({},"Unexpected token %0","ILLEGAL");return{type:8,value:V,
octal:D,start:E,end:p}}return 46===z?Zb(na.charCodeAt(p+1))?Nb():Ib():Zb(z)?Nb():Ib()}function Xa(){const z=O;p=z.end;O=Ob();p=z.end;return z}function qb(){const z=p;O=Ob();p=z}function Oa(z,E,D){const V=new ra("||"===z||"\x26\x26"===z?"LogicalExpression":"BinaryExpression");V.operator=z;V.left=E;V.right=D;return V}function Ca(z){const E=new ra("Identifier");E.name=z;return E}function Qa(z){const E=new ra("Literal");E.value=z.value;E.raw=na.slice(z.start,z.end);z.regex&&("//"===E.raw&&(E.raw="/(?:)/"),
E.regex=z.regex);return E}function lb(z,E,D){const V=new ra("MemberExpression");V.computed="["===z;V.object=E;V.property=D;V.computed||(D.member=!0);return V}function mb(z,E,D){const V=new ra("Property");V.key=E;V.value=D;V.kind=z;return V}function Na(z,E){var D=Array.prototype.slice.call(arguments,2),V=E.replace(/%(\d)/g,(W,u)=>{Fb(u<D.length,"Message reference must be in range");return D[u]});var Aa=Error(V);Aa.index=p;Aa.description=V;throw Aa;}function vb(z){2===z.type&&Na(z,"Unexpected end of input");
6===z.type&&Na(z,"Unexpected number");8===z.type&&Na(z,"Unexpected string");3===z.type&&Na(z,"Unexpected identifier");4===z.type&&Na(z,"Unexpected reserved word");Na(z,"Unexpected token %0",z.value)}function pb(z){const E=Xa();7===E.type&&E.value===z||vb(E)}function Mb(z){return 7===O.type&&O.value===z}function Vb(){p=O.start;const z=Xa();return 8===z.type||6===z.type?(z.octal&&Na(z,"Octal literals are not allowed in strict mode."),Qa(z)):Ca(z.value)}function ob(){if(Mb("(")){pb("(");var z=db();pb(")");
return z}if(Mb("[")){z=[];p=O.start;for(pb("[");!Mb("]");)Mb(",")?(Xa(),z.push(null)):(z.push(Ea()),Mb("]")||pb(","));Xa();var E=new ra("ArrayExpression");E.elements=z;return E}if(Mb("{")){z=[];E={};var D=String;p=O.start;for(pb("{");!Mb("}");){p=O.start;var V=O;if(3===V.type){var Aa=Vb();pb(":");V=Ea();V=mb("init",Aa,V)}else 2===V.type||7===V.type?(vb(V),V=void 0):(Aa=Vb(),pb(":"),V=Ea(),V=mb("init",Aa,V));Aa="Identifier"===V.key.type?V.key.name:D(V.key.value);Aa="$"+Aa;Object.prototype.hasOwnProperty.call(E,
Aa)?Na({},"Duplicate data property in object literal not allowed in strict mode"):E[Aa]=!0;z.push(V);Mb("}")||pb(",")}pb("}");E=new ra("ObjectExpression");E.properties=z;return E}z=O.type;p=O.start;if(3===z||C[O.value])E=Ca(Xa().value);else if(8===z||6===z)O.octal&&Na(O,"Octal literals are not allowed in strict mode."),E=Qa(Xa());else{if(4===z)throw Error("Disabled.");if(1===z)z=Xa(),z.value="true"===z.value,E=Qa(z);else if(5===z)z=Xa(),z.value=null,E=Qa(z);else if(Mb("/")||Mb("/\x3d")){var W;O=null;
pc();z=p;E=na[p];Fb("/"===E,"Regular expression literal must start with a slash");D=na[p++];for(Aa=V=!1;p<L;)if(E=na[p++],D+=E,"\\"===E)E=na[p++],Ac(E.charCodeAt(0))&&Na({},"Invalid regular expression: missing /"),D+=E;else if(Ac(E.charCodeAt(0)))Na({},"Invalid regular expression: missing /");else if(V)"]"===E&&(V=!1);else if("/"===E){Aa=!0;break}else"["===E&&(V=!0);Aa||Na({},"Invalid regular expression: missing /");E=D.substr(1,D.length-2);for(W=Aa="";p<L;){V=na[p];if(!ec(V.charCodeAt(0)))break;
++p;"\\"===V&&p<L?Na({},"Unexpected token %0","ILLEGAL"):(W+=V,Aa+=V)}0<=W.search(/[^gimuy]/g)&&Na({},"Invalid regular expression",W);V=W;W=Bb(E,V);E=Qa({literal:D+Aa,value:W,regex:{pattern:E,flags:V},start:z,end:p});qb()}else vb(Xa())}return E}function ma(){var z;for(z=ob();;)if(Mb(".")){pb(".");p=O.start;var E=Xa();3===E.type||4===E.type||1===E.type||5===E.type||vb(E);E=Ca(E.value);z=lb(".",z,E)}else if(Mb("(")){E=[];pb("(");if(!Mb(")"))for(;p<L;){E.push(Ea());if(Mb(")"))break;pb(",")}pb(")");const D=
new ra("CallExpression");D.callee=z;D.arguments=E;z=D}else if(Mb("["))pb("["),E=db(),pb("]"),z=lb("[",z,E);else break;if(7===O.type&&(Mb("++")||Mb("--")))throw Error("Disabled.");return z}function Y(){if(7!==O.type&&4!==O.type)var z=ma();else{if(Mb("++")||Mb("--"))throw Error("Disabled.");if(Mb("+")||Mb("-")||Mb("~")||Mb("!")){var E=Xa();z=Y();E=E.value;const D=new ra("UnaryExpression");D.operator=E;D.argument=z;D.prefix=!0;z=D}else{if(4===O.type&&"delete"===O.value||4===O.type&&"void"===O.value||
4===O.type&&"typeof"===O.value)throw Error("Disabled.");z=ma()}}return z}function Ga(z){let E=0;if(7!==z.type&&4!==z.type)return 0;switch(z.value){case "||":E=1;break;case "\x26\x26":E=2;break;case "|":E=3;break;case "^":E=4;break;case "\x26":E=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":E=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":E=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":E=8;break;case "+":case "-":E=
9;break;case "*":case "/":case "%":E=11}return E}function Ea(){var z=O;var E=Y();var D=O;var V=Ga(D);if(0===V)var Aa=E;else{D.prec=V;Xa();z=[z,O];var W=Y();for(Aa=[E,D,W];0<(V=Ga(O));){for(;2<Aa.length&&V<=Aa[Aa.length-2].prec;)W=Aa.pop(),D=Aa.pop().value,E=Aa.pop(),z.pop(),E=Oa(D,E,W),Aa.push(E);D=Xa();D.prec=V;Aa.push(D);z.push(O);E=Y();Aa.push(E)}V=Aa.length-1;E=Aa[V];for(z.pop();1<V;)z.pop(),E=Oa(Aa[V-1].value,Aa[V-2],E),V-=2;Aa=E}Mb("?")&&(Xa(),z=Ea(),pb(":"),V=Ea(),E=new ra("ConditionalExpression"),
E.test=Aa,E.consequent=z,E.alternate=V,Aa=E);return Aa}function db(){const z=Ea();if(Mb(","))throw Error("Disabled.");return z}function ba(z){function E(D,V,Aa){return W=>{let u=z(W[0]);V&&(u=V+"("+u+")",0===V.lastIndexOf("new ",0)&&(u="("+u+")"));return u+"."+D+(0>Aa?"":0===Aa?"()":"("+W.slice(1).map(z).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(D){3>D.length&&g.error("Missing arguments to clamp function.");3<D.length&&g.error("Too many arguments to clamp function.");D=D.map(z);return"Math.max("+D[1]+", Math.min("+D[2]+","+D[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:E("getDate","new Date",0),day:E("getDay","new Date",0),
year:E("getFullYear","new Date",0),month:E("getMonth","new Date",0),hours:E("getHours","new Date",0),minutes:E("getMinutes","new Date",0),seconds:E("getSeconds","new Date",0),milliseconds:E("getMilliseconds","new Date",0),time:E("getTime","new Date",0),timezoneoffset:E("getTimezoneOffset","new Date",0),utcdate:E("getUTCDate","new Date",0),utcday:E("getUTCDay","new Date",0),utcyear:E("getUTCFullYear","new Date",0),utcmonth:E("getUTCMonth","new Date",0),utchours:E("getUTCHours","new Date",0),utcminutes:E("getUTCMinutes",
"new Date",0),utcseconds:E("getUTCSeconds","new Date",0),utcmilliseconds:E("getUTCMilliseconds","new Date",0),length:E("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:E("toUpperCase","String",0),lower:E("toLowerCase","String",0),substring:E("substring","String"),split:E("split","String"),trim:E("trim","String",0),regexp:"RegExp",test:E("test","RegExp"),if:function(D){3>D.length&&g.error("Missing arguments to if function.");3<D.length&&g.error("Too many arguments to if function.");
D=D.map(z);return"("+D[0]+"?"+D[1]+":"+D[2]+")"}}}ra.prototype.visit=function(z){let E,D,V;if(z(this))return 1;E=ib(this);D=0;for(V=E.length;D<V;++D)if(E[D].visit(z))return 1};var na,p,L,O,f=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
v=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const m={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},C={"if":1};var B={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};r.ASTNode=ra;r.ArrayExpression="ArrayExpression";r.BinaryExpression="BinaryExpression";r.CallExpression="CallExpression";r.ConditionalExpression="ConditionalExpression";r.Identifier="Identifier";r.Literal="Literal";r.LogicalExpression="LogicalExpression";r.MemberExpression="MemberExpression";r.ObjectExpression="ObjectExpression";r.Property="Property";
r.RawCode="RawCode";r.UnaryExpression="UnaryExpression";r.codegenExpression=function(z){function E(ab){if(g.isString(ab))return ab;const Gb=Ba[ab.type];null==Gb&&g.error("Unsupported type: "+ab.type);return Gb(ab)}function D(ab){ab={code:E(ab),globals:Object.keys(Za),fields:Object.keys(Wa)};Za={};Wa={};return ab}z=z||{};const V=z.allowed?g.toSet(z.allowed):{},Aa=z.forbidden?g.toSet(z.forbidden):{},W=z.constants||B,u=(z.functions||ba)(E),K=z.globalvar,va=z.fieldvar,Ja=g.isFunction(K)?K:ab=>`${K}["${ab}"]`;
let Za={},Wa={},X=0;const Ba={Literal:ab=>ab.raw,Identifier:ab=>{ab=ab.name;if(0<X)return ab;if(g.hasOwnProperty(Aa,ab))return g.error("Illegal identifier: "+ab);if(g.hasOwnProperty(W,ab))return W[ab];if(g.hasOwnProperty(V,ab))return ab;Za[ab]=1;return Ja(ab)},MemberExpression:ab=>{const Gb=!ab.computed,tc=E(ab.object);Gb&&(X+=1);ab=E(ab.property);if(tc===va){var wc=Wa;var vc=(vc=ab&&ab.length-1)&&('"'===ab[0]&&'"'===ab[vc]||"'"===ab[0]&&"'"===ab[vc])?ab.slice(1,-1):ab;wc[vc]=1}Gb&&--X;return tc+
(Gb?"."+ab:"["+ab+"]")},CallExpression:ab=>{"Identifier"!==ab.callee.type&&g.error("Illegal callee type: "+ab.callee.type);const Gb=ab.callee.name;ab=ab.arguments;const tc=g.hasOwnProperty(u,Gb)&&u[Gb];tc||g.error("Unrecognized function: "+Gb);return g.isFunction(tc)?tc(ab):tc+"("+ab.map(E).join(",")+")"},ArrayExpression:ab=>"["+ab.elements.map(E).join(",")+"]",BinaryExpression:ab=>"("+E(ab.left)+" "+ab.operator+" "+E(ab.right)+")",UnaryExpression:ab=>"("+ab.operator+E(ab.argument)+")",ConditionalExpression:ab=>
"("+E(ab.test)+"?"+E(ab.consequent)+":"+E(ab.alternate)+")",LogicalExpression:ab=>"("+E(ab.left)+ab.operator+E(ab.right)+")",ObjectExpression:ab=>"{"+ab.properties.map(E).join(",")+"}",Property:ab=>{X+=1;const Gb=E(ab.key);--X;return Gb+":"+E(ab.value)}};D.functions=u;D.constants=W;return D};r.constants=B;r.functions=ba;r.parseExpression=function(z){na=z;p=0;L=na.length;O=null;qb();z=db();if(2!==O.type)throw Error("Unexpect token after expression.");return z}})};
shadow$provide[58]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(57)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(Xa,qb){return null==Xa||null==qb?NaN:Xa<qb?-1:Xa>qb?1:Xa>=qb?0:NaN}function Fb(Xa,qb){return null==Xa||null==qb?NaN:qb<Xa?-1:qb>Xa?1:qb>=Xa?0:NaN}function Zb(){return 0}function oc({_intern:Xa,
_key:qb},Oa){qb=qb(Oa);return Xa.has(qb)?Xa.get(qb):Oa}function kc({_intern:Xa,_key:qb},Oa){qb=qb(Oa);if(Xa.has(qb))return Xa.get(qb);Xa.set(qb,Oa);return Oa}function Ac({_intern:Xa,_key:qb},Oa){qb=qb(Oa);Xa.has(qb)&&(Oa=Xa.get(qb),Xa.delete(qb));return Oa}function Ab(Xa){return null!==Xa&&"object"===typeof Xa?Xa.valueOf():Xa}function ec(Xa){return Xa instanceof Ya?Xa:new Ya(Xa)}function pc(Xa,qb){var Oa=qb.fields;qb=qb.values;for(var Ca=Oa.length,Qa=0,lb,mb;Qa<Ca;++Qa)if(mb=Oa[Qa],mb.getter=g.field.getter||
g.field(mb.field),lb=mb.getter(Xa),g.isDate(lb)&&(lb=g.toNumber(lb)),g.isDate(qb[Qa])&&(qb[Qa]=g.toNumber(qb[Qa])),g.isDate(qb[Qa][0])&&(qb[Qa]=qb[Qa].map(g.toNumber)),"E"===mb.type){if(g.isArray(qb[Qa])?0>qb[Qa].indexOf(lb):lb!==qb[Qa])return!1}else if("R"===mb.type){if(!g.inrange(lb,qb[Qa]))return!1}else if("R-RE"===mb.type){if(!g.inrange(lb,qb[Qa],!0,!1))return!1}else if("R-E"===mb.type){if(!g.inrange(lb,qb[Qa],!1,!1))return!1}else if("R-LE"===mb.type&&!g.inrange(lb,qb[Qa],!1,!0))return!1;return!0}
class Ya extends Set{constructor(Xa,qb=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:qb}});if(null!=Xa)for(const Oa of Xa)this.add(Oa)}has(Xa){return super.has(oc(this,Xa))}add(Xa){return super.add(kc(this,Xa))}delete(Xa){return super.delete(Ac(this,Xa))}}const rb=g.field("_vgsid_"),Ib=function(Xa){function qb(lb,mb,Na=0,vb=lb.length){if(Na<vb){if(0!==Oa(mb,mb))return vb;do{const pb=Na+vb>>>1;0>Ca(lb[pb],mb)?Na=pb+1:vb=pb}while(Na<vb)}return Na}let Oa,Ca,Qa;2!==Xa.length?
(Oa=ib,Ca=(lb,mb)=>ib(Xa(lb),mb),Qa=(lb,mb)=>Xa(lb)-mb):(Oa=Xa===ib||Xa===Fb?Xa:Zb,Qa=Ca=Xa);return{left:qb,center:function(lb,mb,Na=0,vb=lb.length){vb=qb(lb,mb,Na,vb-1);return vb>Na&&Qa(lb[vb-1],mb)>-Qa(lb[vb],mb)?vb-1:vb},right:function(lb,mb,Na=0,vb=lb.length){if(Na<vb){if(0!==Oa(mb,mb))return vb;do{const pb=Na+vb>>>1;0>=Ca(lb[pb],mb)?Na=pb+1:vb=pb}while(Na<vb)}return Na}}}(rb),Nb=Ib.left,Bb=Ib.right;var Ob={_vgsid__union:function(...Xa){const qb=new Ya;for(const Oa of Xa)for(const Ca of Oa)qb.add(Ca);
return qb},_vgsid__intersect:function(Xa,...qb){Xa=new Ya(Xa);qb=qb.map(ec);a:for(const Oa of Xa)for(const Ca of qb)if(!Ca.has(Oa)){Xa.delete(Oa);continue a}return Xa},E_union:function(Xa,qb){if(!Xa.length)return qb;for(var Oa=0,Ca=qb.length;Oa<Ca;++Oa)0>Xa.indexOf(qb[Oa])&&Xa.push(qb[Oa]);return Xa},E_intersect:function(Xa,qb){return Xa.length?Xa.filter(Oa=>0<=qb.indexOf(Oa)):qb},R_union:function(Xa,qb){var Oa=g.toNumber(qb[0]),Ca=g.toNumber(qb[1]);Oa>Ca&&(Oa=qb[1],Ca=qb[0]);if(!Xa.length)return[Oa,
Ca];Xa[0]>Oa&&(Xa[0]=Oa);Xa[1]<Ca&&(Xa[1]=Ca);return Xa},R_intersect:function(Xa,qb){var Oa=g.toNumber(qb[0]),Ca=g.toNumber(qb[1]);Oa>Ca&&(Oa=qb[1],Ca=qb[0]);if(!Xa.length)return[Oa,Ca];if(Ca<Xa[0]||Xa[1]<Oa)return[];Xa[0]<Oa&&(Xa[0]=Oa);Xa[1]>Ca&&(Xa[1]=Ca);return Xa}};r.selectionIdTest=function(Xa,qb,Oa){var Ca=this.context.data[Xa];Xa=Ca?Ca.values.value:[];Ca=Ca?Ca["index:unit"]&&Ca["index:unit"].value:void 0;Oa="intersect"===Oa;qb=rb(qb);const Qa=Nb(Xa,qb);if(Qa===Xa.length||rb(Xa[Qa])!==qb)return!1;
if(Ca&&Oa){if(1===Ca.size)return!0;if(Bb(Xa,qb)-Qa<Ca.size)return!1}return!0};r.selectionResolve=function(Xa,qb,Oa,Ca){Xa=(Xa=this.context.data[Xa])?Xa.values.value:[];for(var Qa={},lb={},mb={},Na,vb,pb,Mb,Vb,ob,ma=Xa.length,Y=0,Ga,Ea;Y<ma;++Y)if(Na=Xa[Y],Mb=Na.unit,vb=Na.fields,pb=Na.values,vb&&pb){Ga=0;for(Ea=vb.length;Ga<Ea;++Ga)Vb=vb[Ga],Na=Qa[Vb.field]||(Qa[Vb.field]={}),ob=Na[Mb]||(Na[Mb]=[]),mb[Vb.field]=Vb=Vb.type.charAt(0),Vb=Ob[`${Vb}_union`],Na[Mb]=Vb(ob,g.array(pb[Ga]));Oa&&(ob=lb[Mb]||
(lb[Mb]=[]),ob.push(g.array(pb).reduce((db,ba,na)=>(db[vb[na].field]=ba,db),{})))}else Vb="_vgsid_",pb=rb(Na),Na=Qa[Vb]||(Qa[Vb]={}),ob=Na[Mb]||(Na[Mb]=[]),ob.push(pb),Oa&&(ob=lb[Mb]||(lb[Mb]=[]),ob.push({_vgsid_:pb}));qb=qb||"union";Qa._vgsid_?Qa._vgsid_=Ob[`${"_vgsid_"}_${qb}`](...Object.values(Qa._vgsid_)):Object.keys(Qa).forEach(db=>{Qa[db]=Object.keys(Qa[db]).map(ba=>Qa[db][ba]).reduce((ba,na)=>void 0===ba?na:Ob[`${mb[db]}_${qb}`](ba,na))});Xa=Object.keys(lb);Oa&&Xa.length&&(Qa[Ca?"vlPoint":
"vlMulti"]="union"===qb?{or:Xa.reduce((db,ba)=>(db.push(...lb[ba]),db),[])}:{and:Xa.map(db=>({or:lb[db]}))});return Qa};r.selectionTest=function(Xa,qb,Oa){var Ca=this.context.data[Xa];Xa=Ca?Ca.values.value:[];Ca=Ca?Ca["index:unit"]&&Ca["index:unit"].value:void 0;Oa="intersect"===Oa;for(var Qa=Xa.length,lb=0,mb,Na,vb,pb;lb<Qa;++lb)if(mb=Xa[lb],Ca&&Oa){if(Na=Na||{},vb=Na[pb=mb.unit]||0,-1!==vb){mb=pc(qb,mb);Na[pb]=mb?-1:++vb;if(mb&&1===Ca.size)return!0;if(!mb&&vb===Ca.get(pb).count)return!1}}else if(mb=
pc(qb,mb),Oa^mb)return mb;return Qa&&Oa};r.selectionTuples=function(Xa,qb){return Xa.map(Oa=>g.extend(qb.fields?{values:qb.fields.map(Ca=>(Ca.getter||(Ca.getter=g.field(Ca.field)))(Oa.datum))}:{_vgsid_:rb(Oa.datum)},qb))};r.selectionVisitor=function(Xa,qb,Oa,Ca){qb[0].type!==ra.Literal&&g.error("First argument to selection functions must be a string literal.");Xa=qb[0].value;qb=2<=qb.length&&g.peek(qb).value;const Qa=":"+Xa;"intersect"!==qb||g.hasOwnProperty(Ca,"@unit")||(Ca["@unit"]=Oa.getData(Xa).indataRef(Oa,
"unit"));g.hasOwnProperty(Ca,Qa)||(Ca[Qa]=Oa.getData(Xa).tuplesRef())}})};
shadow$provide[59]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(57),Cb(33),Cb(29),Cb(34),Cb(58),Cb(30),Cb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb,Zb,oc,
kc,Ac){function Ab(qa){return(qa=this.context.data[qa])?qa.values.value:[]}function ec(qa,cb,Pb){return(Pb=(qa=this.context.data[qa]["index:"+cb])?qa.value.get(Pb):void 0)?Pb.count:Pb}function pc(qa,cb){const Pb=this.context.dataflow;Pb.pulse(this.context.data[qa].input,Pb.changeset().remove(g.truthy).insert(cb));return 1}function Ya(qa,cb,Pb){if(qa){const hd=this.context.dataflow;hd.pulse(qa.mark.source,hd.changeset().encode(qa,cb))}return void 0!==Pb?Pb:qa}function rb(qa,cb,Pb){if(!Number.isInteger(qa)||
!Number.isInteger(cb))return"";xc.setYear(2E3);xc.setMonth(qa);xc.setDate(cb);return ea.call(this,xc,Pb)}function Ib(qa){return rb.call(this,qa,1,"%B")}function Nb(qa){return rb.call(this,qa,1,"%b")}function Bb(qa){return rb.call(this,0,2+qa,"%A")}function Ob(qa){return rb.call(this,0,2+qa,"%a")}function Xa(qa,cb,Pb,hd){cb[0].type!==ra.Literal&&g.error("First argument to data functions must be a string literal.");qa=cb[0].value;cb=":"+qa;if(!g.hasOwnProperty(cb,hd))try{hd[cb]=Pb.getData(qa).tuplesRef()}catch(nd){}}
function qb(qa,cb,Pb,hd){cb[0].type!==ra.Literal&&g.error("First argument to indata must be a string literal.");cb[1].type!==ra.Literal&&g.error("Second argument to indata must be a string literal.");qa=cb[0].value;cb=cb[1].value;const nd="@"+cb;g.hasOwnProperty(nd,hd)||(hd[nd]=Pb.getData(qa).indataRef(Pb,cb))}function Oa(qa,cb,Pb,hd){if(cb[0].type===ra.Literal)Ca(Pb,hd,cb[0].value);else for(qa in Pb.scales)Ca(Pb,hd,qa)}function Ca(qa,cb,Pb){const hd="%"+Pb;if(!g.hasOwnProperty(cb,hd))try{cb[hd]=
qa.scaleRef(Pb)}catch(nd){}}function Qa(qa,cb){if(g.isFunction(qa))return qa;if(g.isString(qa))return(qa=cb.scales[qa])&&ib.isRegisteredScale(qa.value)?qa.value:void 0}function lb(qa,cb,Pb){cb.__bandwidth=nd=>nd&&nd.bandwidth?nd.bandwidth():0;Pb._bandwidth=Oa;Pb._range=Oa;Pb._scale=Oa;const hd=nd=>"_["+(nd.type===ra.Literal?g.stringValue("%"+nd.value):g.stringValue("%")+"+"+qa(nd))+"]";return{_bandwidth:nd=>`this.__bandwidth(${hd(nd[0])})`,_range:nd=>`${hd(nd[0])}.range()`,_scale:nd=>`${hd(nd[0])}(${qa(nd[1])})`}}
function mb(qa){return 1<qa?de:-1>qa?-de:Math.asin(qa)}function Na(){}function vb(qa,cb){if(qa&&Xd.hasOwnProperty(qa.type))Xd[qa.type](qa,cb)}function pb(qa,cb,Pb){var hd=-1;Pb=qa.length-Pb;for(cb.lineStart();++hd<Pb;){var nd=qa[hd];cb.point(nd[0],nd[1],nd[2])}cb.lineEnd()}function Mb(qa,cb){var Pb=-1,hd=qa.length;for(cb.polygonStart();++Pb<hd;)pb(qa[Pb],cb,1);cb.polygonEnd()}function Vb(qa,cb){if(qa&&Ad.hasOwnProperty(qa.type))Ad[qa.type](qa,cb);else vb(qa,cb)}function ob(){Dc.point=Y}function ma(){Ga(Ge,
tf)}function Y(qa,cb){Dc.point=Ga;Ge=qa;tf=cb;qa*=pd;cb*=pd;ld=qa;Fc=Qc(cb=cb/2+Sa);id=jd(cb)}function Ga(qa,cb){qa*=pd;cb*=pd;cb=cb/2+Sa;var Pb=qa-ld,hd=0<=Pb?1:-1,nd=hd*Pb;Pb=Qc(cb);cb=jd(cb);var oe=id*cb,Pe=Fc*Pb+oe*Qc(nd);hd=oe*hd*jd(nd);ye.add(Xc(hd,Pe));ld=qa;Fc=Pb;id=cb}function Ea(qa,cb){return[qa[1]*cb[2]-qa[2]*cb[1],qa[2]*cb[0]-qa[0]*cb[2],qa[0]*cb[1]-qa[1]*cb[0]]}function db(qa,cb){Ha.push(Pa=[Gd=qa,Yd=qa]);cb<ae&&(ae=cb);cb>le&&(le=cb)}function ba(qa,cb){var Pb=[qa*pd,cb*pd];var hd=Pb[0];
Pb=Pb[1];var nd=Qc(Pb);hd=[nd*Qc(hd),nd*jd(hd),jd(Pb)];if(ka){Pb=Ea(ka,hd);nd=Pb=Ea([Pb[1],-Pb[0],0],Pb);var oe=Qd(nd[0]*nd[0]+nd[1]*nd[1]+nd[2]*nd[2]);nd[0]/=oe;nd[1]/=oe;nd[2]/=oe;Pb=[Xc(Pb[1],Pb[0]),mb(Pb[2])];var Pe=qa-N;nd=0<Pe?1:-1;oe=Pb[0]*qc*nd;Pe=180<Kc(Pe);Pe^(nd*N<oe&&oe<nd*qa)?(Pb=Pb[1]*qc,Pb>le&&(le=Pb)):(oe=(oe+360)%360-180,Pe^(nd*N<oe&&oe<nd*qa))?(Pb=-Pb[1]*qc,Pb<ae&&(ae=Pb)):(cb<ae&&(ae=cb),cb>le&&(le=cb));Pe?qa<N?v(Gd,qa)>v(Gd,Yd)&&(Yd=qa):v(qa,Yd)>v(Gd,Yd)&&(Gd=qa):Yd>=Gd?(qa<Gd&&
(Gd=qa),qa>Yd&&(Yd=qa)):qa>N?v(Gd,qa)>v(Gd,Yd)&&(Yd=qa):v(qa,Yd)>v(Gd,Yd)&&(Gd=qa)}else Ha.push(Pa=[Gd=qa,Yd=qa]);cb<ae&&(ae=cb);cb>le&&(le=cb);ka=hd;N=qa}function na(){dc.point=ba}function p(){Pa[0]=Gd;Pa[1]=Yd;dc.point=db;ka=null}function L(qa,cb){if(ka){var Pb=qa-N;sa.add(180<Kc(Pb)?Pb+(0<Pb?360:-360):Pb)}else da=qa,G=cb;Dc.point(qa,cb);ba(qa,cb)}function O(){Dc.lineStart()}function f(){L(da,G);Dc.lineEnd();1E-6<Kc(sa)&&(Gd=-(Yd=180));Pa[0]=Gd;Pa[1]=Yd;ka=null}function v(qa,cb){return 0>(cb-=qa)?
cb+360:cb}function m(qa,cb){return qa[0]-cb[0]}function C(qa,cb){return qa[0]<=qa[1]?qa[0]<=cb&&cb<=qa[1]:cb<qa[0]||qa[1]<cb}function B(qa,cb){qa*=pd;cb*=pd;var Pb=Qc(cb);z(Pb*Qc(qa),Pb*jd(qa),jd(cb))}function z(qa,cb,Pb){++lc;sc+=(qa-sc)/lc;Ic+=(cb-Ic)/lc;$c+=(Pb-$c)/lc}function E(){De.point=D}function D(qa,cb){qa*=pd;cb*=pd;var Pb=Qc(cb);Ce=Pb*Qc(qa);Hd=Pb*jd(qa);he=jd(cb);De.point=V;z(Ce,Hd,he)}function V(qa,cb){qa*=pd;cb*=pd;var Pb=Qc(cb),hd=Pb*Qc(qa);qa=Pb*jd(qa);cb=jd(cb);var nd=Xc(Qd((nd=Hd*
cb-he*qa)*nd+(nd=he*hd-Ce*cb)*nd+(nd=Ce*qa-Hd*hd)*nd),Ce*hd+Hd*qa+he*cb);rc+=nd;Uc+=nd*(Ce+(Ce=hd));bd+=nd*(Hd+(Hd=qa));yd+=nd*(he+(he=cb));z(Ce,Hd,he)}function Aa(){De.point=B}function W(){De.point=K}function u(){va(td,ze);De.point=B}function K(qa,cb){td=qa;ze=cb;qa*=pd;cb*=pd;De.point=va;var Pb=Qc(cb);Ce=Pb*Qc(qa);Hd=Pb*jd(qa);he=jd(cb);z(Ce,Hd,he)}function va(qa,cb){qa*=pd;cb*=pd;var Pb=Qc(cb),hd=Pb*Qc(qa);qa=Pb*jd(qa);cb=jd(cb);Pb=Hd*cb-he*qa;var nd=he*hd-Ce*cb,oe=Ce*qa-Hd*hd,Pe=qd(Pb,nd,oe),
of=mb(Pe);Pe=Pe&&-of/Pe;Dd.add(Pe*Pb);Od.add(Pe*nd);He.add(Pe*oe);rc+=of;Uc+=of*(Ce+(Ce=hd));bd+=of*(Hd+(Hd=qa));yd+=of*(he+(he=cb));z(Ce,Hd,he)}function Ja(qa,cb){return function(Pb,hd,nd){return Pb?(Pb=Qa(Pb,(nd||this).context))&&Pb.path[qa](hd):cb(hd)}}function Za(qa){const cb=this.context.group;let Pb=!1;if(cb)for(;qa;){if(qa===cb){Pb=!0;break}qa=qa.mark.group}return Pb}function Wa(qa,cb,Pb){try{qa[cb].apply(qa,["EXPRESSION"].concat([].slice.call(Pb)))}catch(hd){qa.warn(hd)}return Pb[Pb.length-
1]}function X(){return Wa(this.context.dataflow,"warn",arguments)}function Ba(){return Wa(this.context.dataflow,"info",arguments)}function ab(){return Wa(this.context.dataflow,"debug",arguments)}function Gb(qa,cb,Pb){qa.prototype=cb.prototype=Pb;Pb.constructor=qa}function tc(qa,cb){qa=Object.create(qa.prototype);for(var Pb in cb)qa[Pb]=cb[Pb];return qa}function wc(){}function vc(){return this.rgb().formatHex()}function Ec(){return this.rgb().formatRgb()}function zc(qa){var cb,Pb;qa=(qa+"").trim().toLowerCase();
return(cb=uf.exec(qa))?(Pb=cb[1].length,cb=parseInt(cb[1],16),6===Pb?Rc(cb):3===Pb?new kb(cb>>8&15|cb>>4&240,cb>>4&15|cb&240,(cb&15)<<4|cb&15,1):8===Pb?Sd(cb>>24&255,cb>>16&255,cb>>8&255,(cb&255)/255):4===Pb?Sd(cb>>12&15|cb>>8&240,cb>>8&15|cb>>4&240,cb>>4&15|cb&240,((cb&15)<<4|cb&15)/255):null):(cb=Kf.exec(qa))?new kb(cb[1],cb[2],cb[3],1):(cb=ff.exec(qa))?new kb(255*cb[1]/100,255*cb[2]/100,255*cb[3]/100,1):(cb=lg.exec(qa))?Sd(cb[1],cb[2],cb[3],cb[4]):(cb=Wd.exec(qa))?Sd(255*cb[1]/100,255*cb[2]/100,
255*cb[3]/100,cb[4]):(cb=jf.exec(qa))?ad(cb[1],cb[2]/100,cb[3]/100,1):(cb=lf.exec(qa))?ad(cb[1],cb[2]/100,cb[3]/100,cb[4]):Ze.hasOwnProperty(qa)?Rc(Ze[qa]):"transparent"===qa?new kb(NaN,NaN,NaN,0):null}function Rc(qa){return new kb(qa>>16&255,qa>>8&255,qa&255,1)}function Sd(qa,cb,Pb,hd){0>=hd&&(qa=cb=Pb=NaN);return new kb(qa,cb,Pb,hd)}function Ia(qa){qa instanceof wc||(qa=zc(qa));if(!qa)return new kb;qa=qa.rgb();return new kb(qa.r,qa.g,qa.b,qa.opacity)}function Wb(qa,cb,Pb,hd){return 1===arguments.length?
Ia(qa):new kb(qa,cb,Pb,null==hd?1:hd)}function kb(qa,cb,Pb,hd){this.r=+qa;this.g=+cb;this.b=+Pb;this.opacity=+hd}function bc(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}`}function Yb(){const qa=hc(this.opacity);return`${1===qa?"rgb(":"rgba("}${yc(this.r)}, ${yc(this.g)}, ${yc(this.b)}${1===qa?")":`, ${qa})`}`}function hc(qa){return isNaN(qa)?1:Math.max(0,Math.min(1,qa))}function yc(qa){return Math.max(0,Math.min(255,Math.round(qa)||0))}function Gc(qa){qa=yc(qa);return(16>qa?"0":"")+qa.toString(16)}
function ad(qa,cb,Pb,hd){0>=hd?qa=cb=Pb=NaN:0>=Pb||1<=Pb?qa=cb=NaN:0>=cb&&(qa=NaN);return new Fa(qa,cb,Pb,hd)}function Nd(qa){if(qa instanceof Fa)return new Fa(qa.h,qa.s,qa.l,qa.opacity);qa instanceof wc||(qa=zc(qa));if(!qa)return new Fa;if(qa instanceof Fa)return qa;qa=qa.rgb();var cb=qa.r/255,Pb=qa.g/255,hd=qa.b/255,nd=Math.min(cb,Pb,hd),oe=Math.max(cb,Pb,hd),Pe=NaN,of=oe-nd,Ef=(oe+nd)/2;of?(Pe=cb===oe?(Pb-hd)/of+6*(Pb<hd):Pb===oe?(hd-cb)/of+2:(cb-Pb)/of+4,of/=.5>Ef?oe+nd:2-oe-nd,Pe*=60):of=0<Ef&&
1>Ef?0:Pe;return new Fa(Pe,of,Ef,qa.opacity)}function ud(qa,cb,Pb,hd){return 1===arguments.length?Nd(qa):new Fa(qa,cb,Pb,null==hd?1:hd)}function Fa(qa,cb,Pb,hd){this.h=+qa;this.s=+cb;this.l=+Pb;this.opacity=+hd}function hb(qa){qa=(qa||0)%360;return 0>qa?qa+360:qa}function ub(qa){return Math.max(0,Math.min(1,qa||0))}function la(qa,cb,Pb){return 255*(60>qa?cb+(Pb-cb)*qa/60:180>qa?Pb:240>qa?cb+(Pb-cb)*(240-qa)/60:cb)}function H(qa){if(qa instanceof Ka)return new Ka(qa.l,qa.a,qa.b,qa.opacity);if(qa instanceof
Sc)return ed(qa);qa instanceof kb||(qa=Ia(qa));var cb=mc(qa.r),Pb=mc(qa.g),hd=mc(qa.b),nd=bb(.2225045*cb+.7168786*Pb+.0606169*hd);if(cb===Pb&&Pb===hd)var oe=cb=nd;else oe=bb((.4360747*cb+.3850649*Pb+.1430804*hd)/.96422),cb=bb((.0139322*cb+.0971045*Pb+.7141733*hd)/.82521);return new Ka(116*nd-16,500*(oe-nd),200*(nd-cb),qa.opacity)}function ya(qa,cb,Pb,hd){return 1===arguments.length?H(qa):new Ka(qa,cb,Pb,null==hd?1:hd)}function Ka(qa,cb,Pb,hd){this.l=+qa;this.a=+cb;this.b=+Pb;this.opacity=+hd}function bb(qa){return qa>
eg?Math.pow(qa,1/3):qa/wg+Cf}function jb(qa){return qa>Jf?qa*qa*qa:wg*(qa-Cf)}function Eb(qa){return 255*(.0031308>=qa?12.92*qa:1.055*Math.pow(qa,1/2.4)-.055)}function mc(qa){return.04045>=(qa/=255)?qa/12.92:Math.pow((qa+.055)/1.055,2.4)}function cc(qa){if(qa instanceof Sc)return new Sc(qa.h,qa.c,qa.l,qa.opacity);qa instanceof Ka||(qa=H(qa));if(0===qa.a&&0===qa.b)return new Sc(NaN,0<qa.l&&100>qa.l?0:NaN,qa.l,qa.opacity);var cb=Math.atan2(qa.b,qa.a)*Bf;return new Sc(0>cb?cb+360:cb,Math.sqrt(qa.a*qa.a+
qa.b*qa.b),qa.l,qa.opacity)}function gc(qa,cb,Pb,hd){return 1===arguments.length?cc(qa):new Sc(qa,cb,Pb,null==hd?1:hd)}function Sc(qa,cb,Pb,hd){this.h=+qa;this.c=+cb;this.l=+Pb;this.opacity=+hd}function ed(qa){if(isNaN(qa.h))return new Ka(qa.l,0,0,qa.opacity);var cb=qa.h*Hf;return new Ka(qa.l,Math.cos(cb)*qa.c,Math.sin(cb)*qa.c,qa.opacity)}function fd(qa){qa/=255;return.03928>=qa?qa/12.92:Math.pow((qa+.055)/1.055,2.4)}function Rd(qa){var cb=Wb(qa);qa=fd(cb.r);const Pb=fd(cb.g);cb=fd(cb.b);return.2126*
qa+.7152*Pb+.0722*cb}function Td(qa,cb){qa=Rd(qa);cb=Rd(cb);return(Math.max(qa,cb)+.05)/(Math.min(qa,cb)+.05)}function Cd(){const qa=[].slice.call(arguments);qa.unshift({});return g.extend(...qa)}function be(qa,cb){if(qa===cb||qa!==qa&&cb!==cb)qa=!0;else if(g.isArray(qa))if(g.isArray(cb)&&qa.length===cb.length)a:{for(let Pb=0,hd=qa.length;Pb<hd;++Pb)if(!be(qa[Pb],cb[Pb])){qa=!1;break a}qa=!0}else qa=!1;else qa=g.isObject(qa)&&g.isObject(cb)?ce(qa,cb):!1;return qa}function ce(qa,cb){for(const Pb in qa)if(!be(qa[Pb],
cb[Pb]))return!1;return!0}function Vd(qa){return cb=>ce(qa,cb)}function Te(qa,cb,Pb,hd,nd,oe){const Pe=this.context.dataflow,of=this.context.data[qa],Ef=of.input;qa=Pe.stamp();let Qe=of.changes,Zf;if(!1===Pe._trigger||!(Ef.value.length||cb||hd))return 0;if(!Qe||Qe.stamp<qa)of.changes=Qe=Pe.changeset(),Qe.stamp=qa,Pe.runAfter(()=>{of.modified=!0;Pe.pulse(Ef,Qe).run()},!0,1);Pb&&(Pb=!0===Pb?g.truthy:g.isArray(Pb)||Fb.isTuple(Pb)?Pb:Vd(Pb),Qe.remove(Pb));cb&&Qe.insert(cb);hd&&(Pb=Vd(hd),Ef.value.some(Pb)?
Qe.remove(Pb):Qe.insert(hd));if(nd)for(Zf in oe)Qe.modify(nd,Zf,oe[Zf]);return 1}function $d(qa){qa=qa.touches;return Math.hypot(qa[0].clientX-qa[1].clientX,qa[0].clientY-qa[1].clientY)}function M(qa){qa=qa.touches;return Math.atan2(qa[0].clientY-qa[1].clientY,qa[0].clientX-qa[1].clientX)}function Z(qa,cb){cb=xf[cb]||(xf[cb]=g.field(cb));return g.isArray(qa)?qa.map(cb):cb(qa)}function La(qa){return g.isArray(qa)||ArrayBuffer.isView(qa)?qa:null}function gb(qa){return La(qa)||(g.isString(qa)?qa:null)}
function Jb(qa,...cb){return La(qa).join(...cb)}function Tb(qa,...cb){return gb(qa).indexOf(...cb)}function Bc(qa,...cb){return gb(qa).lastIndexOf(...cb)}function ic(qa,...cb){return gb(qa).slice(...cb)}function Jc(qa,cb,Pb){g.isFunction(Pb)&&g.error("Function argument passed to replace.");return String(qa).replace(cb,Pb)}function dd(qa){return La(qa).slice().reverse()}function Oc(qa,cb,Pb){return ib.bandSpace(qa||0,cb||0,Pb||0)}function vd(qa,cb){return(qa=Qa(qa,(cb||this).context))&&qa.bandwidth?
qa.bandwidth():0}function Jd(qa,cb){return(qa=Qa(qa,(cb||this).context))?qa.copy():void 0}function Fd(qa,cb){return(qa=Qa(qa,(cb||this).context))?qa.domain():[]}function Zd(qa,cb,Pb){return(qa=Qa(qa,(Pb||this).context))?g.isArray(cb)?(qa.invertRange||qa.invert)(cb):(qa.invert||qa.invertExtent)(cb):void 0}function Md(qa,cb){return(qa=Qa(qa,(cb||this).context))&&qa.range?qa.range():[]}function se(qa,cb,Pb){return(qa=Qa(qa,(Pb||this).context))?qa(cb):void 0}function Ae(qa,cb,Pb,hd,nd){qa=Qa(qa,(nd||
this).context);const oe=Zb.Gradient(cb,Pb);cb=qa.domain();Pb=cb[0];nd=g.peek(cb);let Pe=g.identity;nd-Pb?Pe=ib.scaleFraction(qa,Pb,nd):qa=(qa.interpolator?ib.scale("sequential")().interpolator(qa.interpolator()):ib.scale("linear")().interpolate(qa.interpolate()).range(qa.range())).domain([Pb=0,nd=1]);qa.ticks&&(cb=qa.ticks(+hd||15),Pb!==cb[0]&&cb.unshift(Pb),nd!==g.peek(cb)&&cb.push(nd));cb.forEach(of=>oe.stop(Pe(of),qa(of)));return oe}function hf(qa,cb,Pb){const hd=Qa(qa,(Pb||this).context);return function(nd){return hd?
hd.path.context(nd)(cb):""}}function cf(qa){let cb=null;return function(Pb){return Pb?Zb.pathRender(Pb,cb=cb||Zb.pathParse(qa)):qa}}function df(qa,cb){qa=Ab.call(cb,qa);return qa.root&&qa.root.lookup||{}}function re(qa,cb,Pb){qa=df(qa,this);cb=qa[cb];Pb=qa[Pb];return cb&&Pb?cb.path(Pb).map(Of):void 0}function nf(qa,cb){return(qa=df(qa,this)[cb])?qa.ancestors().map(Of):void 0}function T(){const qa="undefined"!==typeof window&&window||null;return qa?qa.screen:{}}function ta(){const qa="undefined"!==
typeof window&&window||null;return qa?[qa.innerWidth,qa.innerHeight]:[void 0,void 0]}function eb(){var qa=this.context.dataflow;return(qa=qa.container&&qa.container())?[qa.clientWidth,qa.clientHeight]:[void 0,void 0]}function zb(qa,cb,Pb){if(!qa)return[];const [hd,nd]=qa;qa=(new Zb.Bounds).set(hd[0],hd[1],nd[0],nd[1]);Pb=Pb||this.context.dataflow.scenegraph().root;return Zb.intersect(Pb,qa,Xb(cb))}function Xb(qa){let cb=null;if(qa){const Pb=g.array(qa.marktype),hd=g.array(qa.markname);cb=nd=>(!Pb.length||
Pb.some(oe=>nd.marktype===oe))&&(!hd.length||hd.some(oe=>nd.name===oe))}return cb}function Cc(qa,cb,Pb){if(1===arguments.length)return bg[qa];bg[qa]=cb;Pb&&(Qg[qa]=Pb);ah&&(ah.functions[qa]="this."+qa);return this}const Ub=qa=>function(cb,Pb){return this.context.dataflow.locale()[qa](Pb)(cb)},I=Ub("format"),ea=Ub("timeFormat"),Ta=Ub("utcFormat"),$b=Ub("timeParse"),Pc=Ub("utcParse"),xc=new Date(2E3,0,1);class Tc{constructor(){this._partials=new Float64Array(32);this._n=0}add(qa){const cb=this._partials;
let Pb=0;for(let hd=0;hd<this._n&&32>hd;hd++){const nd=cb[hd],oe=qa+nd;(qa=Math.abs(qa)<Math.abs(nd)?qa-(oe-nd):nd-(oe-qa))&&(cb[Pb++]=qa);qa=oe}cb[Pb]=qa;this._n=Pb+1;return this}valueOf(){const qa=this._partials;let cb=this._n;let Pb,hd=0;if(0<cb){for(hd=qa[--cb];0<cb;){var nd=hd;Pb=qa[--cb];hd=nd+Pb;if(nd=Pb-(hd-nd))break}0<cb&&(0>nd&&0>qa[cb-1]||0<nd&&0<qa[cb-1])&&(Pb=2*nd,nd=hd+Pb,Pb==nd-hd&&(hd=nd))}return hd}}var md=Math.PI,de=md/2,Sa=md/4,fb=2*md,qc=180/md,pd=md/180,Kc=Math.abs,Xc=Math.atan2,
Qc=Math.cos,qd=Math.hypot,jd=Math.sin,Qd=Math.sqrt,Ad={Feature:function(qa,cb){vb(qa.geometry,cb)},FeatureCollection:function(qa,cb){qa=qa.features;for(var Pb=-1,hd=qa.length;++Pb<hd;)vb(qa[Pb].geometry,cb)}},Xd={Sphere:function(qa,cb){cb.sphere()},Point:function(qa,cb){qa=qa.coordinates;cb.point(qa[0],qa[1],qa[2])},MultiPoint:function(qa,cb){for(var Pb=qa.coordinates,hd=-1,nd=Pb.length;++hd<nd;)qa=Pb[hd],cb.point(qa[0],qa[1],qa[2])},LineString:function(qa,cb){pb(qa.coordinates,cb,0)},MultiLineString:function(qa,
cb){qa=qa.coordinates;for(var Pb=-1,hd=qa.length;++Pb<hd;)pb(qa[Pb],cb,0)},Polygon:function(qa,cb){Mb(qa.coordinates,cb)},MultiPolygon:function(qa,cb){qa=qa.coordinates;for(var Pb=-1,hd=qa.length;++Pb<hd;)Mb(qa[Pb],cb)},GeometryCollection:function(qa,cb){qa=qa.geometries;for(var Pb=-1,hd=qa.length;++Pb<hd;)vb(qa[Pb],cb)}},ye=new Tc,Oe=new Tc,Ge,tf,ld,Fc,id,Dc={point:Na,lineStart:Na,lineEnd:Na,polygonStart:function(){ye=new Tc;Dc.lineStart=ob;Dc.lineEnd=ma},polygonEnd:function(){var qa=+ye;Oe.add(0>
qa?fb+qa:qa);this.lineStart=this.lineEnd=this.point=Na},sphere:function(){Oe.add(fb)}},Gd,ae,Yd,le,N,da,G,ka,sa,Ha,Pa,dc={point:db,lineStart:na,lineEnd:p,polygonStart:function(){dc.point=L;dc.lineStart=O;dc.lineEnd=f;sa=new Tc;Dc.polygonStart()},polygonEnd:function(){Dc.polygonEnd();dc.point=db;dc.lineStart=na;dc.lineEnd=p;0>ye?(Gd=-(Yd=180),ae=-(le=90)):1E-6<sa?le=90:-1E-6>sa&&(ae=-90);Pa[0]=Gd;Pa[1]=Yd},sphere:function(){Gd=-(Yd=180);ae=-(le=90)}},lc,rc,sc,Ic,$c,Uc,bd,yd,Dd,Od,He,td,ze,Ce,Hd,he,
De={sphere:Na,point:B,lineStart:E,lineEnd:Aa,polygonStart:function(){De.lineStart=W;De.lineEnd=u},polygonEnd:function(){De.lineStart=E;De.lineEnd=Aa}};const mf=Ja("area",function(qa){Oe=new Tc;Vb(qa,Dc);return 2*Oe}),bf=Ja("bounds",function(qa){var cb,Pb,hd;le=Yd=-(Gd=ae=Infinity);Ha=[];Vb(qa,dc);if(cb=Ha.length){Ha.sort(m);qa=1;var nd=Ha[0];for(Pb=[nd];qa<cb;++qa){var oe=Ha[qa];C(nd,oe[0])||C(nd,oe[1])?(v(nd[0],oe[1])>v(nd[0],nd[1])&&(nd[1]=oe[1]),v(oe[0],nd[1])>v(nd[0],nd[1])&&(nd[0]=oe[0])):Pb.push(nd=
oe)}var Pe=-Infinity;cb=Pb.length-1;qa=0;for(nd=Pb[cb];qa<=cb;nd=oe,++qa)oe=Pb[qa],(hd=v(nd[1],oe[0]))>Pe&&(Pe=hd,Gd=oe[0],Yd=nd[1])}Ha=Pa=null;return Infinity===Gd||Infinity===ae?[[NaN,NaN],[NaN,NaN]]:[[Gd,ae],[Yd,le]]}),ue=Ja("centroid",function(qa){lc=rc=sc=Ic=$c=Uc=bd=yd=0;Dd=new Tc;Od=new Tc;He=new Tc;Vb(qa,De);qa=+Dd;var cb=+Od,Pb=+He,hd=qd(qa,cb,Pb);return 1E-12>hd&&(qa=Uc,cb=bd,Pb=yd,1E-6>rc&&(qa=sc,cb=Ic,Pb=$c),hd=qd(qa,cb,Pb),1E-12>hd)?[NaN,NaN]:[Xc(cb,qa)*qc,mb(Pb/hd)*qc]});var ve=1/.7,
uf=/^#([0-9a-f]{3,8})$/,Kf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ff=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),lg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Wd=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
jf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),lf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Gb(wc,zc,{copy(qa){return Object.assign(new this.constructor,this,qa)},displayable(){return this.rgb().displayable()},hex:vc,formatHex:vc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Nd(this).formatHsl()},formatRgb:Ec,toString:Ec});Gb(kb,Wb,tc(wc,{brighter(qa){qa=null==qa?ve:Math.pow(ve,qa);return new kb(this.r*qa,this.g*qa,this.b*qa,this.opacity)},darker(qa){qa=null==qa?.7:Math.pow(.7,qa);return new kb(this.r*qa,this.g*qa,
this.b*qa,this.opacity)},rgb(){return this},clamp(){return new kb(yc(this.r),yc(this.g),yc(this.b),hc(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:bc,formatHex:bc,formatHex8:function(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}${Gc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Yb,toString:Yb}));Gb(Fa,ud,tc(wc,{brighter(qa){qa=null==qa?ve:Math.pow(ve,qa);return new Fa(this.h,
this.s,this.l*qa,this.opacity)},darker(qa){qa=null==qa?.7:Math.pow(.7,qa);return new Fa(this.h,this.s,this.l*qa,this.opacity)},rgb(){var qa=this.h%360+360*(0>this.h),cb=isNaN(qa)||isNaN(this.s)?0:this.s,Pb=this.l;cb=Pb+(.5>Pb?Pb:1-Pb)*cb;Pb=2*Pb-cb;return new kb(la(240<=qa?qa-240:qa+120,Pb,cb),la(qa,Pb,cb),la(120>qa?qa+240:qa-120,Pb,cb),this.opacity)},clamp(){return new Fa(hb(this.h),ub(this.s),ub(this.l),hc(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const qa=hc(this.opacity);return`${1===qa?"hsl(":"hsla("}${hb(this.h)}, ${100*ub(this.s)}%, ${100*ub(this.l)}%${1===qa?")":`, ${qa})`}`}}));const Hf=Math.PI/180,Bf=180/Math.PI,Cf=4/29,Jf=6/29,wg=3*Jf*Jf,eg=Jf*Jf*Jf;Gb(Ka,ya,tc(wc,{brighter(qa){return new Ka(this.l+18*(null==qa?1:qa),this.a,this.b,this.opacity)},darker(qa){return new Ka(this.l-18*(null==qa?1:qa),this.a,this.b,this.opacity)},rgb(){var qa=(this.l+16)/116,cb=isNaN(this.a)?qa:qa+this.a/
500,Pb=isNaN(this.b)?qa:qa-this.b/200;cb=.96422*jb(cb);qa=1*jb(qa);Pb=.82521*jb(Pb);return new kb(Eb(3.1338561*cb-1.6168667*qa-.4906146*Pb),Eb(-.9787684*cb+1.9161415*qa+.033454*Pb),Eb(.0719453*cb-.2289914*qa+1.4052427*Pb),this.opacity)}}));Gb(Sc,gc,tc(wc,{brighter(qa){return new Sc(this.h,this.c,this.l+18*(null==qa?1:qa),this.opacity)},darker(qa){return new Sc(this.h,this.c,this.l-18*(null==qa?1:qa),this.opacity)},rgb(){return ed(this).rgb()}}));const xf={},Of=qa=>qa.data,bg={random(){return kc.random()},
cumulativeNormal:kc.cumulativeNormal,cumulativeLogNormal:kc.cumulativeLogNormal,cumulativeUniform:kc.cumulativeUniform,densityNormal:kc.densityNormal,densityLogNormal:kc.densityLogNormal,densityUniform:kc.densityUniform,quantileNormal:kc.quantileNormal,quantileLogNormal:kc.quantileLogNormal,quantileUniform:kc.quantileUniform,sampleNormal:kc.sampleNormal,sampleLogNormal:kc.sampleLogNormal,sampleUniform:kc.sampleUniform,isArray:g.isArray,isBoolean:g.isBoolean,isDate:g.isDate,isDefined(qa){return void 0!==
qa},isNumber:g.isNumber,isObject:g.isObject,isRegExp:g.isRegExp,isString:g.isString,isTuple:Fb.isTuple,isValid(qa){return null!=qa&&qa===qa},toBoolean:g.toBoolean,toDate(qa){return g.toDate(qa)},toNumber:g.toNumber,toString:g.toString,indexof:Tb,join:Jb,lastindexof:Bc,replace:Jc,reverse:dd,slice:ic,flush:g.flush,lerp:g.lerp,merge:Cd,pad:g.pad,peek:g.peek,pluck:Z,span:g.span,inrange:g.inrange,truncate:g.truncate,rgb:Wb,lab:ya,hcl:gc,hsl:ud,luminance:Rd,contrast:Td,sequence:function(qa,cb,Pb){qa=+qa;
cb=+cb;Pb=2>(nd=arguments.length)?(cb=qa,qa=0,1):3>nd?1:+Pb;for(var hd=-1,nd=Math.max(0,Math.ceil((cb-qa)/Pb))|0,oe=Array(nd);++hd<nd;)oe[hd]=qa+hd*Pb;return oe},format:I,utcFormat:Ta,utcParse:Pc,utcOffset:Ac.utcOffset,utcSequence:Ac.utcSequence,timeFormat:ea,timeParse:$b,timeOffset:Ac.timeOffset,timeSequence:Ac.timeSequence,timeUnitSpecifier:Ac.timeUnitSpecifier,monthFormat:Ib,monthAbbrevFormat:Nb,dayFormat:Bb,dayAbbrevFormat:Ob,quarter:g.quarter,utcquarter:g.utcquarter,week:Ac.week,utcweek:Ac.utcweek,
dayofyear:Ac.dayofyear,utcdayofyear:Ac.utcdayofyear,warn:X,info:Ba,debug:ab,extent(qa){return g.extent(qa)},inScope:Za,intersect:zb,clampRange:g.clampRange,pinchDistance:$d,pinchAngle:M,screen:T,containerSize:eb,windowSize:ta,bandspace:Oc,setdata:pc,pathShape:cf,panLinear:g.panLinear,panLog:g.panLog,panPow:g.panPow,panSymlog:g.panSymlog,zoomLinear:g.zoomLinear,zoomLog:g.zoomLog,zoomPow:g.zoomPow,zoomSymlog:g.zoomSymlog,encode:Ya,modify:Te,lassoAppend:function(qa,cb,Pb,hd=5){qa=g.array(qa);const nd=
qa[qa.length-1];return void 0===nd||Math.hypot(nd[0]-cb,nd[1]-Pb)>hd?[...qa,[cb,Pb]]:qa},lassoPath:function(qa){return g.array(qa).reduce((cb,[Pb,hd],nd)=>cb+(0==nd?`M ${Pb},${hd} `:nd===qa.length-1?" Z":`L ${Pb},${hd} `),"")},intersectLasso:function(qa,cb,Pb){const {x:hd,y:nd,mark:oe}=Pb;Pb=(new Zb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Pe,of]of cb)Pe<Pb.x1&&(Pb.x1=Pe),Pe>Pb.x2&&(Pb.x2=Pe),of<Pb.y1&&(Pb.y1=of),of>Pb.y2&&
(Pb.y2=of);Pb.translate(hd,nd);return zb([[Pb.x1,Pb.y1],[Pb.x2,Pb.y2]],qa,oe).filter(Pe=>{var of=Pe.y;let Ef=0;for(let Qe=0,Zf=cb.length-1;Qe<cb.length;Zf=Qe++){const [Rf,$f]=cb[Zf],[mg,qg]=cb[Qe];qg>of!=$f>of&&Pe.x<(Rf-mg)*(of-qg)/($f-qg)+mg&&Ef++}return Ef&1})}},Lg="view item group xy x y".split(" "),Qg={},xg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:qa=>`_[${g.stringValue("$"+qa)}]`,functions:function(qa){const cb=ra.functions(qa);Lg.forEach(Pb=>cb[Pb]="event.vega."+
Pb);for(const Pb in bg)cb[Pb]="this."+Pb;g.extend(cb,lb(qa,bg,Qg));return cb},constants:ra.constants,visitors:Qg},ah=ra.codegenExpression(xg);Cc("bandwidth",vd,Oa);Cc("copy",Jd,Oa);Cc("domain",Fd,Oa);Cc("range",Md,Oa);Cc("invert",Zd,Oa);Cc("scale",se,Oa);Cc("gradient",Ae,Oa);Cc("geoArea",mf,Oa);Cc("geoBounds",bf,Oa);Cc("geoCentroid",ue,Oa);Cc("geoShape",hf,Oa);Cc("indata",ec,qb);Cc("data",Ab,Xa);Cc("treePath",re,Xa);Cc("treeAncestors",nf,Xa);Cc("vlSelectionTest",oc.selectionTest,oc.selectionVisitor);
Cc("vlSelectionIdTest",oc.selectionIdTest,oc.selectionVisitor);Cc("vlSelectionResolve",oc.selectionResolve,oc.selectionVisitor);Cc("vlSelectionTuples",oc.selectionTuples);r.DataPrefix=":";r.IndexPrefix="@";r.ScalePrefix="%";r.SignalPrefix="$";r.bandspace=Oc;r.bandwidth=vd;r.codeGenerator=ah;r.codegenParams=xg;r.containerSize=eb;r.contrast=Td;r.copy=Jd;r.data=Ab;r.dataVisitor=Xa;r.dayAbbrevFormat=Ob;r.dayFormat=Bb;r.debug=ab;r.domain=Fd;r.encode=Ya;r.expressionFunction=Cc;r.format=I;r.functionContext=
bg;r.geoArea=mf;r.geoBounds=bf;r.geoCentroid=ue;r.geoShape=hf;r.inScope=Za;r.indata=ec;r.indataVisitor=qb;r.indexof=Tb;r.info=Ba;r.invert=Zd;r.join=Jb;r.lastindexof=Bc;r.luminance=Rd;r.merge=Cd;r.modify=Te;r.monthAbbrevFormat=Nb;r.monthFormat=Ib;r.parseExpression=function(qa,cb){const Pb={};let hd;try{qa=g.isString(qa)?qa:g.stringValue(qa)+"",hd=ra.parseExpression(qa)}catch(nd){g.error("Expression parse error: "+qa)}hd.visit(nd=>{if(nd.type===ra.CallExpression){var oe=nd.callee.name,Pe=xg.visitors[oe];
Pe&&Pe(oe,nd.arguments,cb,Pb)}});qa=ah(hd);qa.globals.forEach(nd=>{const oe="$"+nd;!g.hasOwnProperty(Pb,oe)&&cb.getSignal(nd)&&(Pb[oe]=cb.signalRef(nd))});return{$expr:g.extend({code:qa.code},cb.options.ast?{ast:hd}:null),$fields:qa.fields,$params:Pb}};r.pathShape=cf;r.pinchAngle=M;r.pinchDistance=$d;r.pluck=Z;r.range=Md;r.replace=Jc;r.reverse=dd;r.scale=se;r.scaleGradient=Ae;r.scaleVisitor=Oa;r.screen=T;r.setdata=pc;r.slice=ic;r.timeFormat=ea;r.timeParse=$b;r.treeAncestors=nf;r.treePath=re;r.utcFormat=
Ta;r.utcParse=Pc;r.warn=X;r.windowSize=ta})};
shadow$provide[60]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,ra){function ib(Ya,rb,Ib){Ib.endsWith(";")||(Ib="return("+Ib+");");rb=Function(...rb.concat(Ib));return Ya&&Ya.functions?rb.bind(Ya.functions):rb}function Fb(Ya,rb,Ib){if(!Ya||!g.isObject(Ya))return Ya;
for(let Nb=0,Bb=ec.length,Ob;Nb<Bb;++Nb)if(Ob=ec[Nb],g.hasOwnProperty(Ya,Ob.key))return Ob.parse(Ya,rb,Ib);return Ya}function Zb(Ya,rb,Ib,Nb){this.dataflow=Ya;this.transforms=rb;this.events=Ya.events.bind(Ya);this.expr=Nb||Ab;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Ib&&(this.functions=Object.create(Ib),this.functions.context=this)}function oc(Ya){this.dataflow=Ya.dataflow;this.transforms=Ya.transforms;this.events=Ya.events;this.expr=Ya.expr;this.signals=Object.create(Ya.signals);
this.scales=Object.create(Ya.scales);this.nodes=Object.create(Ya.nodes);this.data=Object.create(Ya.data);this.fn=Object.create(Ya.fn);Ya.functions&&(this.functions=Object.create(Ya.functions),this.functions.context=this)}const kc=g.toSet(["rule"]),Ac=g.toSet(["group","image","rect"]);var Ab={operator:(Ya,rb)=>ib(Ya,["_"],rb.code),parameter:(Ya,rb)=>ib(Ya,["datum","_"],rb.code),event:(Ya,rb)=>ib(Ya,["event"],rb.code),handler:(Ya,rb)=>ib(Ya,["_","event"],`var datum=event.item&&event.item.datum;return ${rb.code};`),
encode:(Ya,rb)=>{const {marktype:Ib,channels:Nb}=rb;rb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Bb in Nb){const Ob="o["+g.stringValue(Bb)+"]";rb+=`$=${Nb[Bb].code};if(${Ob}!==$)${Ob}=$,m=1;`}Bb="";kc[Ib]||(Nb.x2&&(Nb.x?(Ac[Ib]&&(Bb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Bb+="o.width\x3do.x2-o.x;"):Bb+="o.x\x3do.x2-(o.width||0);"),Nb.xc&&(Bb+="o.x\x3do.xc-(o.width||0)/2;"),Nb.y2&&(Nb.y?(Ac[Ib]&&(Bb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Bb+="o.height\x3do.y2-o.y;"):
Bb+="o.y\x3do.y2-(o.height||0);"),Nb.yc&&(Bb+="o.y\x3do.yc-(o.height||0)/2;"));rb+=Bb;return ib(Ya,["item","_"],rb+"return m;")},codegen:{get(Ya){Ya=`[${Ya.map(g.stringValue).join("][")}]`;const rb=Function("_",`return _${Ya};`);rb.path=Ya;return rb},comparator(Ya,rb){let Ib;Ya=Function("a","b","var u, v; return "+Ya.map((Nb,Bb)=>{const Ob=rb[Bb];let Xa;Nb.path?(Xa=`a${Nb.path}`,Nb=`b${Nb.path}`):((Ib=Ib||{})["f"+Bb]=Nb,Xa=`this.f${Bb}(a)`,Nb=`this.f${Bb}(b)`);Bb=-Ob;return`((u = ${Xa}) < (v = ${Nb}) || u == null) && v != null ? ${Bb}
  : (u > v || v == null) && u != null ? ${Ob}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Bb}
  : v !== v && u === u ? ${Ob} : `}).join("")+"0;");return Ib?Ya.bind(Ib):Ya}}},ec=[{key:"$ref",parse:function(Ya,rb){return rb.get(Ya.$ref)||g.error("Operator not defined: "+Ya.$ref)}},{key:"$key",parse:function(Ya,rb){const Ib="k:"+Ya.$key+"_"+!!Ya.$flat;return rb.fn[Ib]||(rb.fn[Ib]=g.key(Ya.$key,Ya.$flat,rb.expr.codegen))}},{key:"$expr",parse:function(Ya,rb,Ib){Ya.$params&&rb.parseParameters(Ya.$params,Ib);Ib="e:"+Ya.$expr.code;return rb.fn[Ib]||(rb.fn[Ib]=g.accessor(rb.parameterExpression(Ya.$expr),
Ya.$fields))}},{key:"$field",parse:function(Ya,rb){if(!Ya.$field)return null;const Ib="f:"+Ya.$field+"_"+Ya.$name;return rb.fn[Ib]||(rb.fn[Ib]=g.field(Ya.$field,Ya.$name,rb.expr.codegen))}},{key:"$encode",parse:function(Ya,rb){Ya=Ya.$encode;const Ib={};for(const Nb in Ya){const Bb=Ya[Nb];Ib[Nb]=g.accessor(rb.encodeExpression(Bb.$expr),Bb.$fields);Ib[Nb].output=Bb.$output}return Ib}},{key:"$compare",parse:function(Ya,rb){const Ib="c:"+Ya.$compare+"_"+Ya.$order,Nb=g.array(Ya.$compare).map(Bb=>Bb&&Bb.$tupleid?
ra.tupleid:Bb);return rb.fn[Ib]||(rb.fn[Ib]=g.compare(Nb,Ya.$order,rb.expr.codegen))}},{key:"$context",parse:function(Ya,rb){return rb}},{key:"$subflow",parse:function(Ya,rb){const Ib=Ya.$subflow;return function(Nb,Bb,Ob){const Xa=rb.fork().parse(Ib);Nb=Xa.get(Ib.operators[0].id);(Bb=Xa.signals.parent)&&Bb.set(Ob);Nb.detachSubflow=()=>rb.detach(Xa);return Nb}}},{key:"$tupleid",parse:function(){return ra.tupleid}}];const pc={skip:!0};Zb.prototype=oc.prototype={fork(){const Ya=new oc(this);(this.subcontext||
(this.subcontext=[])).push(Ya);return Ya},detach(Ya){this.subcontext=this.subcontext.filter(Ib=>Ib!==Ya);const rb=Object.keys(Ya.nodes);for(const Ib of rb)Ya.nodes[Ib]._targets=null;for(const Ib of rb)Ya.nodes[Ib].detach();Ya.nodes=null},get(Ya){return this.nodes[Ya]},set(Ya,rb){return this.nodes[Ya]=rb},add(Ya,rb){const Ib=this,Nb=Ib.dataflow,Bb=Ya.value;Ib.set(Ya.id,rb);"collect"===(Ya.type+"").toLowerCase()&&Bb&&(Bb.$ingest?Nb.ingest(rb,Bb.$ingest,Bb.$format):Bb.$request?Nb.preload(rb,Bb.$request,
Bb.$format):Nb.pulse(rb,Nb.changeset().insert(Bb)));Ya.root&&(Ib.root=rb);if(Ya.parent){let Ob=Ib.get(Ya.parent.$ref);Ob?(Nb.connect(Ob,[rb]),rb.targets().add(Ob)):(Ib.unresolved=Ib.unresolved||[]).push(()=>{Ob=Ib.get(Ya.parent.$ref);Nb.connect(Ob,[rb]);rb.targets().add(Ob)})}Ya.signal&&(Ib.signals[Ya.signal]=rb);Ya.scale&&(Ib.scales[Ya.scale]=rb);if(Ya.data)for(const Ob in Ya.data){const Xa=Ib.data[Ob]||(Ib.data[Ob]={});Ya.data[Ob].forEach(qb=>Xa[qb]=rb)}},resolve(){(this.unresolved||[]).forEach(Ya=>
Ya());delete this.unresolved;return this},operator(Ya,rb){this.add(Ya,this.dataflow.add(Ya.value,rb))},transform(Ya,rb){this.add(Ya,this.dataflow.add(this.transforms[(rb+"").toLowerCase()]))},stream(Ya,rb){this.set(Ya.id,rb)},update(Ya,rb,Ib,Nb,Bb){this.dataflow.on(rb,Ib,Nb,Bb,Ya.options)},operatorExpression(Ya){return this.expr.operator(this,Ya)},parameterExpression(Ya){return this.expr.parameter(this,Ya)},eventExpression(Ya){return this.expr.event(this,Ya)},handlerExpression(Ya){return this.expr.handler(this,
Ya)},encodeExpression(Ya){return this.expr.encode(this,Ya)},parse:function(Ya){const rb=this,Ib=Ya.operators||[];Ya.background&&(rb.background=Ya.background);Ya.eventConfig&&(rb.eventConfig=Ya.eventConfig);Ya.locale&&(rb.locale=Ya.locale);Ib.forEach(Nb=>rb.parseOperator(Nb));Ib.forEach(Nb=>rb.parseOperatorParameters(Nb));(Ya.streams||[]).forEach(Nb=>rb.parseStream(Nb));(Ya.updates||[]).forEach(Nb=>rb.parseUpdate(Nb));return rb.resolve()},parseOperator:function(Ya){"operator"!==(Ya.type+"").toLowerCase()&&
Ya.type?this.transform(Ya,Ya.type):this.operator(Ya,Ya.update?this.operatorExpression(Ya.update):null)},parseOperatorParameters:function(Ya){if(Ya.params){const rb=this.get(Ya.id);rb||g.error("Invalid operator id: "+Ya.id);this.dataflow.connect(rb,rb.parameters(this.parseParameters(Ya.params),Ya.react,Ya.initonly))}},parseParameters:function(Ya,rb){rb=rb||{};const Ib=this;for(const Nb in Ya){const Bb=Ya[Nb];rb[Nb]=g.isArray(Bb)?Bb.map(Ob=>Fb(Ob,Ib,rb)):Fb(Bb,Ib,rb)}return rb},parseStream:function(Ya){var rb=
this,Ib=null!=Ya.filter?rb.eventExpression(Ya.filter):void 0,Nb=null!=Ya.stream?rb.get(Ya.stream):void 0;if(Ya.source)Nb=rb.events(Ya.source,Ya.type,Ib);else if(Ya.merge){var Bb=Ya.merge.map(Ob=>rb.get(Ob));Nb=Bb[0].merge.apply(Bb[0],Bb.slice(1))}Ya.between&&(Bb=Ya.between.map(Ob=>rb.get(Ob)),Nb=Nb.between(Bb[0],Bb[1]));Ya.filter&&(Nb=Nb.filter(Ib));null!=Ya.throttle&&(Nb=Nb.throttle(+Ya.throttle));null!=Ya.debounce&&(Nb=Nb.debounce(+Ya.debounce));null==Nb&&g.error("Invalid stream definition: "+JSON.stringify(Ya));
Ya.consume&&Nb.consume(!0);rb.stream(Ya,Nb)},parseUpdate:function(Ya){var rb=g.isObject(rb=Ya.source)?rb.$ref:rb;rb=this.get(rb);var Ib=Ya.update,Nb=void 0;rb||g.error("Source not defined: "+Ya.source);var Bb=Ya.target&&Ya.target.$expr?this.eventExpression(Ya.target.$expr):this.get(Ya.target);Ib&&Ib.$expr&&(Ib.$params&&(Nb=this.parseParameters(Ib.$params)),Ib=this.handlerExpression(Ib.$expr));this.update(Ya,rb,Bb,Ib,Nb)},getState:function(Ya){var rb=this,Ib={};if(Ya.signals){var Nb=Ib.signals={};
Object.keys(rb.signals).forEach(Ob=>{const Xa=rb.signals[Ob];Ya.signals(Ob,Xa)&&(Nb[Ob]=Xa.value)})}if(Ya.data){var Bb=Ib.data={};Object.keys(rb.data).forEach(Ob=>{const Xa=rb.data[Ob];Ya.data(Ob,Xa)&&(Bb[Ob]=Xa.input.value)})}rb.subcontext&&!1!==Ya.recurse&&(Ib.subcontext=rb.subcontext.map(Ob=>Ob.getState(Ya)));return Ib},setState:function(Ya){var rb=this,Ib=rb.dataflow,Nb=Ya.data,Bb=Ya.signals;Object.keys(Bb||{}).forEach(Ob=>{Ib.update(rb.signals[Ob],Bb[Ob],pc)});Object.keys(Nb||{}).forEach(Ob=>
{Ib.pulse(rb.data[Ob].input,Ib.changeset().remove(g.truthy).insert(Nb[Ob]))});(Ya.subcontext||[]).forEach((Ob,Xa)=>{(Xa=rb.subcontext[Xa])&&Xa.setState(Ob)})}};r.context=function(Ya,rb,Ib,Nb){return new Zb(Ya,rb,Ib,Nb)}})};
shadow$provide[61]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(29),Cb(34),Cb(59),Cb(60),Cb(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb,Zb,oc){function kc(Fa){const hb=Fa.container();hb&&(hb.setAttribute("role",
"graphics-document"),hb.setAttribute("aria-roleDescription","visualization"),Ac(hb,Fa.description()))}function Ac(Fa,hb){Fa&&(null==hb?Fa.removeAttribute("aria-label"):Fa.setAttribute("aria-label",hb))}function Ab(Fa){Fa.add(null,hb=>{Fa._background=hb.bg;Fa._resize=1;return hb.bg},{bg:Fa._signals.background})}function ec(Fa){const hb=Fa._signals.cursor||(Fa._signals.cursor=Fa.add({user:"default",item:null}));Fa.on(Fa.events("view","mousemove"),hb,(ub,la)=>{const H=(ub=hb.value)?g.isString(ub)?ub:
ub.user:"default";la=la.item&&la.item.cursor||null;return ub&&H===ub.user&&la==ub.item?ub:{user:H,item:la}});Fa.add(null,function(ub){ub=ub.cursor;let la=this.value;g.isString(ub)||(la=ub.item,ub=ub.user);pc(Fa,ub&&"default"!==ub?ub:la||ub);return la},{cursor:hb})}function pc(Fa,hb){if(Fa=Fa.globalCursor()?"undefined"!==typeof document&&document.body:Fa.container())return null==hb?Fa.style.removeProperty("cursor"):Fa.style.cursor=hb}function Ya(Fa,hb){Fa=Fa._runtime.data;g.hasOwnProperty(Fa,hb)||
g.error("Unrecognized data set: "+hb);return Fa[hb]}function rb(Fa,hb){ra.isChangeSet(hb)||g.error("Second argument to changes must be a changeset.");Fa=Ya(this,Fa);Fa.modified=!0;return this.pulse(Fa.input,hb)}function Ib(Fa){var hb=Fa.padding();return Math.max(0,Fa._viewWidth+hb.left+hb.right)}function Nb(Fa){var hb=Fa.padding();return Math.max(0,Fa._viewHeight+hb.top+hb.bottom)}function Bb(Fa){var hb=Fa.padding();Fa=Fa._origin;return[hb.left+Fa[0],hb.top+Fa[1]]}function Ob(Fa){var hb=Bb(Fa),ub=
Ib(Fa),la=Nb(Fa);Fa._renderer.background(Fa.background());Fa._renderer.resize(ub,la,hb);Fa._handler.origin(hb);Fa._resizeListeners.forEach(H=>{try{H(ub,la)}catch(ya){Fa.error(ya)}})}function Xa(Fa,hb,ub){function la(Ka){var bb=ya,jb;if(Ka)for(jb=hb;jb;jb=jb.mark.group)if(jb.mark.name===Ka){bb=jb;break}return bb&&bb.mark&&bb.mark.interactive?bb:{}}function H(Ka){if(!Ka)return ub;g.isString(Ka)&&(Ka=la(Ka));const bb=ub.slice();for(;Ka;)bb[0]-=Ka.x||0,bb[1]-=Ka.y||0,Ka=Ka.mark&&Ka.mark.group;return bb}
const ya=hb?"group"===hb.mark.marktype?hb:hb.mark.group:null;return{view:g.constant(Fa),item:g.constant(hb||{}),group:la,xy:H,x:Ka=>H(Ka)[0],y:Ka=>H(Ka)[1]}}function qb(Fa){Fa=g.extend({defaults:{}},Fa);const hb=(ub,la)=>{la.forEach(H=>{g.isArray(ub[H])&&(ub[H]=g.toSet(ub[H]))})};hb(Fa.defaults,["prevent","allow"]);hb(Fa,["view","window","selector"]);return Fa}function Oa(Fa,hb,ub,la){Fa._eventListeners.push({type:ub,sources:g.array(hb),handler:la})}function Ca(Fa,hb,ub){const la=Fa._eventConfig&&
Fa._eventConfig[hb];return!1===la||g.isObject(la)&&!la[ub]?(Fa.warn(`Blocked ${hb} ${ub} event listener.`),!1):!0}function Qa(Fa){return Fa.item}function lb(Fa){return Fa.item.mark.source}function mb(Fa){return function(hb,ub){return ub.vega.view().changeset().encode(ub.item,Fa)}}function Na(Fa,hb,ub){Fa=document.createElement(Fa);for(const la in hb)Fa.setAttribute(la,hb[la]);null!=ub&&(Fa.textContent=ub);return Fa}function vb(Fa,hb,ub){var la=(hb-Fa)/Math.max(0,ub),H=Math.floor(Math.log10(la));la/=
Math.pow(10,H);la=la>=zc?10:la>=Rc?5:la>=Sd?2:1;let ya;0>H?(ya=Math.pow(10,-H)/la,H=Math.round(Fa*ya),la=Math.round(hb*ya),H/ya<Fa&&++H,la/ya>hb&&--la,ya=-ya):(ya=Math.pow(10,H)*la,H=Math.round(Fa/ya),la=Math.round(hb/ya),H*ya<Fa&&++H,la*ya>hb&&--la);return la<H&&.5<=ub&&2>ub?vb(Fa,hb,2*ub):[H,la,ya]}function pb(Fa,hb,ub){return vb(+Fa,+hb,+ub)[2]}function Mb(Fa,hb,ub){hb=+hb;Fa=+Fa;ub=+ub;const la=hb<Fa;Fa=la?pb(hb,Fa,ub):pb(Fa,hb,ub);return(la?-1:1)*(0>Fa?1/-Fa:Fa)}function Vb(Fa,hb,ub){if(hb){var la=
ub.param,H=ub.state;H||(H=ub.state={elements:null,active:!1,set:null,update:ya=>{ya!=Fa.signal(la.signal)&&Fa.runAsync(null,()=>{H.source=!0;Fa.signal(la.signal,ya)})}},la.debounce&&(H.update=g.debounce(la.debounce,H.update)));(null==la.input&&la.element?ob:ma)(H,hb,la,Fa);H.active||(Fa.on(Fa._signals[la.signal],null,()=>{H.source?H.source=!1:H.set(Fa.signal(la.signal))}),H.active=!0);return H}}function ob(Fa,hb,ub,la){const H=ub.event||"input",ya=()=>Fa.update(hb.value);la.signal(ub.signal,hb.value);
hb.addEventListener(H,ya);Oa(la,hb,H,ya);Fa.set=Ka=>{hb.value=Ka;Ka=hb.dispatchEvent;var bb="undefined"!==typeof Event?new Event(H):{type:H};Ka.call(hb,bb)}}function ma(Fa,hb,ub,la){la=la.signal(ub.signal);const H=Na("div",{"class":"vega-bind"}),ya="radio"===ub.input?H:H.appendChild(Na("label"));ya.appendChild(Na("span",{"class":"vega-bind-name"},ub.name||ub.signal));hb.appendChild(H);hb=Y;switch(ub.input){case "checkbox":hb=Ga;break;case "select":hb=Ea;break;case "radio":hb=db;break;case "range":hb=
ba}hb(Fa,ya,ub,la)}function Y(Fa,hb,ub,la){const H=Na("input");for(const ya in ub)"signal"!==ya&&"element"!==ya&&H.setAttribute("input"===ya?"type":ya,ub[ya]);H.setAttribute("name",ub.signal);H.value=la;hb.appendChild(H);H.addEventListener("input",()=>Fa.update(H.value));Fa.elements=[H];Fa.set=ya=>H.value=ya}function Ga(Fa,hb,ub,la){ub={type:"checkbox",name:ub.signal};la&&(ub.checked=!0);const H=Na("input",ub);hb.appendChild(H);H.addEventListener("change",()=>Fa.update(H.checked));Fa.elements=[H];
Fa.set=ya=>H.checked=!!ya||null}function Ea(Fa,hb,ub,la){const H=Na("select",{name:ub.signal}),ya=ub.labels||[];ub.options.forEach((Ka,bb)=>{const jb={value:Ka};na(Ka,la)&&(jb.selected=!0);H.appendChild(Na("option",jb,(ya[bb]||Ka)+""))});hb.appendChild(H);H.addEventListener("change",()=>{Fa.update(ub.options[H.selectedIndex])});Fa.elements=[H];Fa.set=Ka=>{for(let bb=0,jb=ub.options.length;bb<jb;++bb)if(na(ub.options[bb],Ka)){H.selectedIndex=bb;break}}}function db(Fa,hb,ub,la){const H=Na("span",{"class":"vega-bind-radio"}),
ya=ub.labels||[];hb.appendChild(H);Fa.elements=ub.options.map((Ka,bb)=>{var jb={type:"radio",name:ub.signal,value:Ka};na(Ka,la)&&(jb.checked=!0);jb=Na("input",jb);jb.addEventListener("change",()=>Fa.update(Ka));bb=Na("label",{},(ya[bb]||Ka)+"");bb.prepend(jb);H.appendChild(bb);return jb});Fa.set=Ka=>{const bb=Fa.elements,jb=bb.length;for(let Eb=0;Eb<jb;++Eb)na(bb[Eb].value,Ka)&&(bb[Eb].checked=!0)}}function ba(Fa,hb,ub,la){la=void 0!==la?la:(+ub.max+ +ub.min)/2;const H=null!=ub.max?ub.max:Math.max(100,
+la)||100,ya=ub.min||Math.min(0,H,+la)||0,Ka=ub.step||Mb(ya,H,100),bb=Na("input",{type:"range",name:ub.signal,min:ya,max:H,step:Ka});bb.value=la;const jb=Na("span",{},+la);hb.appendChild(bb);hb.appendChild(jb);hb=()=>{jb.textContent=bb.value;Fa.update(+bb.value)};bb.addEventListener("input",hb);bb.addEventListener("change",hb);Fa.elements=[bb];Fa.set=Eb=>{bb.value=Eb;jb.textContent=Eb}}function na(Fa,hb){return Fa===hb||Fa+""===hb+""}function p(Fa,hb,ub,la,H,ya){hb=hb||new la(Fa.loader());return hb.initialize(ub,
Ib(Fa),Nb(Fa),Bb(Fa),H,ya).background(Fa.background())}function L(Fa,hb){return hb?function(){try{hb.apply(this,arguments)}catch(ub){Fa.error(ub)}}:null}function O(Fa,hb,ub,la){const H=(new la(Fa.loader(),L(Fa,Fa.tooltip()))).scene(Fa.scenegraph().root).initialize(ub,Bb(Fa),Fa);hb&&hb.handlers().forEach(ya=>{H.on(ya.type,ya.handler)});return H}function f(Fa,hb,ub){if("string"===typeof hb)if("undefined"!==typeof document){if(hb=document.querySelector(hb),!hb)return Fa.error("Signal bind element not found: "+
hb),null}else return Fa.error("DOM document instance not found."),null;if(hb&&ub)try{hb.textContent=""}catch(la){hb=null,Fa.error(la)}return hb}function v(Fa){g.isObject(Fa)?Fa={top:+Fa.top||0,bottom:+Fa.bottom||0,left:+Fa.left||0,right:+Fa.right||0}:(Fa=+Fa||0,Fa={top:Fa,bottom:Fa,left:Fa,right:Fa});return Fa}function m(Fa,hb,ub,la){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var H=ib.renderModule(hb);(H=H&&H.headless)||g.error("Unrecognized renderer type: "+hb);yield Fa.runAsync();
return p(Fa,null,null,H,ub,la).renderAsync(Fa._scenegraph.root)})}function C(Fa,hb,ub){return Zb.context(Fa,ra.transforms,Fb.functionContext,ub).parse(hb)}function B(Fa,hb){var ub=Fa.autosize();Fa=Fa.padding();return hb-(ub&&"padding"===ub.contains?Fa.left+Fa.right:0)}function z(Fa,hb){var ub=Fa.autosize();Fa=Fa.padding();return hb-(ub&&"padding"===ub.contains?Fa.top+Fa.bottom:0)}function E(Fa){function hb(){Fa._autosize=Fa._resize=1}var ub=Fa._signals,la=ub.width,H=ub.height;ub=ub.padding;Fa._resizeWidth=
Fa.add(null,Ka=>{Fa._width=Ka.size;Fa._viewWidth=B(Fa,Ka.size);hb()},{size:la});Fa._resizeHeight=Fa.add(null,Ka=>{Fa._height=Ka.size;Fa._viewHeight=z(Fa,Ka.size);hb()},{size:H});const ya=Fa.add(null,hb,{pad:ub});Fa._resizeWidth.rank=la.rank+1;Fa._resizeHeight.rank=H.rank+1;ya.rank=ub.rank+1}function D(Fa,hb){return hb.modified&&g.isArray(hb.input.value)&&Fa.indexOf("_:vega:_")}function V(Fa,hb){return!("parent"===Fa||hb instanceof ra.transforms.proxy)}function Aa(){return Gc||(ud(W),Gc=Nd.now()+ad)}
function W(){Gc=0}function u(){this._call=this._time=this._next=null}function K(){Gc=(yc=Nd.now())+ad;Wb=kb=0;try{Aa();++Wb;for(var Fa=Yb,hb;Fa;)0<=(hb=Gc-Fa._time)&&Fa._call.call(void 0,hb),Fa=Fa._next;--Wb}finally{Wb=0;Fa=Yb;for(var ub=Infinity;Fa;)if(Fa._call){ub>Fa._time&&(ub=Fa._time);var la=Fa;Fa=Fa._next}else hb=Fa._next,Fa._next=null,Fa=la?la._next=hb:Yb=hb;hc=la;Ja(ub);Gc=0}}function va(){var Fa=Nd.now(),hb=Fa-yc;1E3<hb&&(ad-=hb,yc=Fa)}function Ja(Fa){Wb||(kb&&(kb=clearTimeout(kb)),24<Fa-
Gc?(Infinity>Fa&&(kb=setTimeout(K,Fa-Nd.now()-ad)),bc&&(bc=clearInterval(bc))):(bc||(yc=Nd.now(),bc=setInterval(va,1E3)),Wb=1,ud(K)))}function Za(Fa,hb,ub){var la=new u,H=hb;if(null==hb)return la.restart(Fa,hb,ub),la;la._restart=la.restart;la.restart=function(ya,Ka,bb){Ka=+Ka;bb=null==bb?Aa():+bb;la._restart(function mc(Eb){Eb+=H;la._restart(mc,H+=Ka,bb);ya(Eb)},Ka,bb)};la.restart(Fa,hb,ub);return la}function Wa(Fa,hb,ub,la){if(Fa=Fa.element())hb=Fa.setAttribute,la=null==la?"":g.isArray(la)?"["+la.map(Ba).join(", ")+
"]":g.isObject(la)&&!g.isDate(la)?X(la):la+"",hb.call(Fa,"title",la)}function X(Fa){return Object.keys(Fa).map(hb=>{const ub=Fa[hb];return hb+": "+(g.isArray(ub)?"["+ub.map(Ba).join(", ")+"]":Ba(ub))}).join("\n")}function Ba(Fa){return g.isArray(Fa)?"[…]":g.isObject(Fa)&&!g.isDate(Fa)?"{…}":Fa}function ab(Fa,hb){hb=hb||{};ra.Dataflow.call(this);hb.loader&&this.loader(hb.loader);hb.logger&&this.logger(hb.logger);null!=hb.logLevel&&this.logLevel(hb.logLevel);if(hb.locale||Fa.locale){var ub=g.extend({},
Fa.locale,hb.locale);this.locale(oc.locale(ub.number,ub.time))}this._elBind=this._el=null;this._renderType=hb.renderer||ib.RenderType.Canvas;this._scenegraph=new ib.Scenegraph;ub=this._scenegraph.root;this._renderer=null;this._tooltip=hb.tooltip||Wa;this._redraw=!0;this._handler=(new ib.CanvasHandler).scene(ub);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=qb(Fa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
const la=C(this,Fa,hb.expr);this._runtime=la;this._signals=la.signals;this._bind=(Fa.bindings||[]).map(H=>({state:null,param:g.extend({},H)}));la.root&&la.root.set(ub);ub.source=la.data.root.input;this.pulse(la.data.root.input,this.changeset().insert(ub.items));this._width=this.width();this._height=this.height();this._viewWidth=B(this,this._width);this._viewHeight=z(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;E(this);Ab(this);ec(this);this.description(Fa.description);hb.hover&&
this.hover();hb.container&&this.initialize(hb.container,hb.bind)}function Gb(Fa,hb){return g.hasOwnProperty(Fa._signals,hb)?Fa._signals[hb]:g.error("Unrecognized signal name: "+g.stringValue(hb))}function tc(Fa,hb){Fa=(Fa._targets||[]).filter(ub=>ub._update&&ub._update.handler===hb);return Fa.length?Fa[0]:null}function wc(Fa,hb,ub,la){let H=tc(ub,la);H||(H=L(Fa,()=>la(hb,ub.value)),H.handler=la,Fa.on(ub,null,H));return Fa}function vc(Fa,hb,ub){(ub=tc(hb,ub))&&hb._targets.remove(ub);return Fa}const Ec=
{trap:!1},zc=Math.sqrt(50),Rc=Math.sqrt(10),Sd=Math.sqrt(2);var Ia={skip:!0},Wb=0,kb=0,bc=0,Yb,hc,yc=0,Gc=0,ad=0,Nd="object"===typeof performance&&performance.now?performance:Date,ud="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Fa){setTimeout(Fa,17)};u.prototype={constructor:u,restart:function(Fa,hb,ub){if("function"!==typeof Fa)throw new TypeError("callback is not a function");ub=(null==ub?Aa():+ub)+(null==hb?0:+hb);this._next||hc===this||
(hc?hc._next=this:Yb=this,hc=this);this._call=Fa;this._time=ub;Ja()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Ja())}};g.inherits(ab,ra.Dataflow,{evaluate(Fa,hb,ub){const la=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ra.Dataflow.prototype.evaluate.call(la,Fa,hb);if(la._redraw||la._resize)try{la._renderer&&(la._resize&&(la._resize=0,Ob(la)),yield la._renderer.renderAsync(la._scenegraph.root)),la._redraw=!1}catch(H){la.error(H)}ub&&ra.asyncCallback(la,
ub);return la})},dirty(Fa){this._redraw=!0;this._renderer&&this._renderer.dirty(Fa)},description(Fa){if(arguments.length){const hb=null!=Fa?Fa+"":null;hb!==this._desc&&Ac(this._el,this._desc=hb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Fa,hb,ub){const la=Gb(this,Fa);return 1===arguments.length?la.value:this.update(la,hb,ub)},width(Fa){return arguments.length?this.signal("width",Fa):this.signal("width")},
height(Fa){return arguments.length?this.signal("height",Fa):this.signal("height")},padding(Fa){return arguments.length?this.signal("padding",v(Fa)):v(this.signal("padding"))},autosize(Fa){return arguments.length?this.signal("autosize",Fa):this.signal("autosize")},background(Fa){return arguments.length?this.signal("background",Fa):this.signal("background")},renderer(Fa){if(!arguments.length)return this._renderType;ib.renderModule(Fa)||g.error("Unrecognized renderer type: "+Fa);Fa!==this._renderType&&
(this._renderType=Fa,this._resetRenderer());return this},tooltip(Fa){if(!arguments.length)return this._tooltip;Fa!==this._tooltip&&(this._tooltip=Fa,this._resetRenderer());return this},loader(Fa){if(!arguments.length)return this._loader;Fa!==this._loader&&(ra.Dataflow.prototype.loader.call(this,Fa),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Gb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Fa,
hb,ub,la,H,ya){this.runAfter(Ka=>{let bb=0;Ka._autosize=0;Ka.width()!==ub&&(bb=1,Ka.signal("width",ub,Ia),Ka._resizeWidth.skip(!0));Ka.height()!==la&&(bb=1,Ka.signal("height",la,Ia),Ka._resizeHeight.skip(!0));Ka._viewWidth!==Fa&&(Ka._resize=1,Ka._viewWidth=Fa);Ka._viewHeight!==hb&&(Ka._resize=1,Ka._viewHeight=hb);if(Ka._origin[0]!==H[0]||Ka._origin[1]!==H[1])Ka._resize=1,Ka._origin=H;bb&&Ka.run("enter");ya&&Ka.runAfter(jb=>jb.resize())},!1,1)},addEventListener(Fa,hb,ub){let la=hb;ub&&!1===ub.trap||
(la=L(this,hb),la.raw=hb);this._handler.on(Fa,la);return this},removeEventListener(Fa,hb){for(var ub=this._handler.handlers(Fa),la=ub.length,H,ya;0<=--la;)if(ya=ub[la].type,H=ub[la].handler,Fa===ya&&(hb===H||hb===H.raw)){this._handler.off(ya,H);break}return this},addResizeListener(Fa){const hb=this._resizeListeners;0>hb.indexOf(Fa)&&hb.push(Fa);return this},removeResizeListener(Fa){var hb=this._resizeListeners;Fa=hb.indexOf(Fa);0<=Fa&&hb.splice(Fa,1);return this},addSignalListener(Fa,hb){return wc(this,
Fa,Gb(this,Fa),hb)},removeSignalListener(Fa,hb){return vc(this,Gb(this,Fa),hb)},addDataListener(Fa,hb){return wc(this,Fa,Ya(this,Fa).values,hb)},removeDataListener(Fa,hb){return vc(this,Ya(this,Fa).values,hb)},globalCursor(Fa){if(arguments.length){if(this._globalCursor!==!!Fa){const hb=pc(this,null);this._globalCursor=!!Fa;hb&&pc(this,hb)}return this}return this._globalCursor},preventDefault(Fa){return arguments.length?(this._preventDefault=Fa,this):this._preventDefault},timer:function(Fa,hb){this._timers.push(Za(function(ub){Fa({timestamp:Date.now(),
elapsed:ub})},hb))},events:function(Fa,hb,ub){var la=this,H=new ra.EventStream(ub);ub=function(jb,Eb){la.runAsync(null,()=>{var mc;if(mc="view"===Fa){var cc=la._eventConfig.defaults;mc=cc.prevent;cc=cc.allow;mc=!1===mc||!0===cc?!1:!0===mc||!1===cc?!0:mc?mc[hb]:cc?!cc[hb]:la.preventDefault()}mc&&jb.preventDefault();mc=H.receive;cc=(cc=la._renderer)&&cc.canvas();if(cc){var gc=Bb(la);var Sc=jb.changedTouches?jb.changedTouches[0]:jb;Sc=ib.point(Sc,cc);Sc[0]-=gc[0];Sc[1]-=gc[1]}jb.dataflow=la;jb.item=
Eb;jb.vega=Xa(la,Eb,Sc);mc.call(H,jb)})};var ya;if("timer"===Fa)Ca(la,"timer",hb)&&la.timer(ub,hb);else if("view"===Fa)Ca(la,"view",hb)&&la.addEventListener(hb,ub,Ec);else if("window"===Fa?Ca(la,"window",hb)&&"undefined"!==typeof window&&(ya=[window]):"undefined"!==typeof document&&Ca(la,"selector",hb)&&(ya=Array.from(document.querySelectorAll(Fa))),ya){for(var Ka=0,bb=ya.length;Ka<bb;++Ka)ya[Ka].addEventListener(hb,ub);Oa(la,ya,hb,ub)}else la.warn("Can not resolve event source: "+Fa);return H},finalize:function(){var Fa=
this._tooltip,hb=this._timers,ub=this._eventListeners,la;for(la=hb.length;0<=--la;)hb[la].stop();for(la=ub.length;0<=--la;){var H=ub[la];for(hb=H.sources.length;0<=--hb;)H.sources[hb].removeEventListener(H.type,H.handler)}Fa&&Fa.call(this,this._handler,null,null,null);return this},hover:function(Fa,hb){Fa=[Fa||"hover"];hb=[hb||"update",Fa[0]];this.on(this.events("view","mouseover",Qa),lb,mb(Fa));this.on(this.events("view","mouseout",Qa),lb,mb(hb));return this},data:function(Fa,hb){return 2>arguments.length?
Ya(this,Fa).values.value:rb.call(this,Fa,ra.changeset().remove(g.truthy).insert(hb))},change:rb,insert:function(Fa,hb){return rb.call(this,Fa,ra.changeset().insert(hb))},remove:function(Fa,hb){return rb.call(this,Fa,ra.changeset().remove(hb))},scale:function(Fa){var hb=this._runtime.scales;g.hasOwnProperty(hb,Fa)||g.error("Unrecognized scale or projection: "+Fa);return hb[Fa].value},initialize:function(Fa,hb){const ub=this;var la=ub._renderType;const H=ub._eventConfig.bind;var ya=ib.renderModule(la);
Fa=ub._el=Fa?f(ub,Fa,!0):null;kc(ub);ya||ub.error("Unrecognized renderer type: "+la);la=ya.handler||ib.CanvasHandler;ya=Fa?ya.renderer:ya.headless;ub._renderer=ya?p(ub,ub._renderer,Fa,ya):null;ub._handler=O(ub,ub._handler,Fa,la);ub._redraw=!0;Fa&&"none"!==H&&(hb=hb?ub._elBind=f(ub,hb,!0):Fa.appendChild(Na("form",{"class":"vega-bindings"})),ub._bind.forEach(Ka=>{Ka.param.element&&"container"!==H&&(Ka.element=f(ub,Ka.param.element,!!Ka.param.input))}),ub._bind.forEach(Ka=>{Vb(ub,Ka.element||hb,Ka)}));
return ub},toImageURL:function(Fa,hb){const ub=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Fa!==ib.RenderType.Canvas&&Fa!==ib.RenderType.SVG&&Fa!==ib.RenderType.PNG&&g.error("Unrecognized image type: "+Fa);var la=yield m(ub,Fa,hb);Fa===ib.RenderType.SVG?(la=la.svg(),la=new Blob([la],{type:"image/svg+xml"}),la=window.URL.createObjectURL(la)):la=la.canvas().toDataURL("image/png");return la})},toCanvas:function(Fa,hb){const ub=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(ub,
ib.RenderType.Canvas,Fa,hb)).canvas()})},toSVG:function(Fa){const hb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(hb,ib.RenderType.SVG,Fa)).svg()})},getState:function(Fa){return this._runtime.getState(Fa||{data:D,signals:V,recurse:!0})},setState:function(Fa){this.runAsync(null,hb=>{hb._trigger=!1;hb._runtime.setState(Fa)},hb=>{hb._trigger=!0});return this}});r.View=ab})};
shadow$provide[62]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function g(Ab,ec,pc,Ya,rb){const Ib=Ab.length;let Nb=0,Bb;for(;ec<Ib;++ec)if(Bb=Ab[ec],Nb||Bb!==pc)rb&&0<=rb.indexOf(Bb)?--Nb:Ya&&0<=Ya.indexOf(Bb)&&++Nb;else break;return ec}function ra(Ab){const ec=[],pc=Ab.length;let Ya=0,rb=0;for(;rb<pc;)rb=
g(Ab,rb,",","[{","]}"),ec.push(Ab.substring(Ya,rb).trim()),Ya=++rb;if(0===ec.length)throw"Empty event selector: "+Ab;return ec}function ib(Ab){if("["===Ab[0]){var ec=Ab;var pc=ec.length;Ab=g(ec,1,"]","[","]");if(Ab===pc)throw"Empty between selector: "+ec;pc=ra(ec.substring(1,Ab));if(2!==pc.length)throw"Between selector must have two elements: "+ec;ec=ec.slice(Ab+1).trim();if("\x3e"!==ec[0])throw"Expected '\x3e' after between selector: "+ec;pc=pc.map(ib);ec=ib(ec.slice(1).trim());ec.between?ec={between:pc,
stream:ec}:ec.between=pc}else{pc={source:kc};const Ya=[];let rb=[0,0],Ib=0,Nb=0,Bb=Ab.length,Ob=0,Xa;if("}"===Ab[Bb-1]){Ob=Ab.lastIndexOf("{");if(0<=Ob){try{rb=Fb(Ab.substring(Ob+1,Bb-1))}catch(qb){throw"Invalid throttle specification: "+Ab;}Ab=Ab.slice(0,Ob).trim();Bb=Ab.length}else throw"Unmatched right brace: "+Ab;Ob=0}if(!Bb)throw Ab;"@"===Ab[0]&&(Ib=++Ob);Xa=g(Ab,Ob,":");Xa<Bb&&(Ya.push(Ab.substring(Nb,Xa).trim()),Nb=Ob=++Xa);Ob=g(Ab,Ob,"[");if(Ob===Bb)Ya.push(Ab.substring(Nb,Bb).trim());else if(Ya.push(Ab.substring(Nb,
Ob).trim()),ec=[],Nb=++Ob,Nb===Bb)throw"Unmatched left bracket: "+Ab;for(;Ob<Bb;){Ob=g(Ab,Ob,"]");if(Ob===Bb)throw"Unmatched left bracket: "+Ab;ec.push(Ab.substring(Nb,Ob).trim());if(Ob<Bb-1&&"["!==Ab[++Ob])throw"Expected left bracket: "+Ab;Nb=++Ob}if(!(Bb=Ya.length)||Zb.test(Ya[Bb-1]))throw"Invalid event selector: "+Ab;1<Bb?(pc.type=Ya[1],Ib?pc.markname=Ya[0].slice(1):Ac[Ya[0]]?pc.marktype=Ya[0]:pc.source=Ya[0]):pc.type=Ya[0];"!"===pc.type.slice(-1)&&(pc.consume=!0,pc.type=pc.type.slice(0,-1));null!=
ec&&(pc.filter=ec);rb[0]&&(pc.throttle=rb[0]);rb[1]&&(pc.debounce=rb[1]);ec=pc}return ec}function Fb(Ab){const ec=Ab.split(",");if(!Ab.length||2<ec.length)throw Ab;return ec.map(pc=>{pc=+pc;if(pc!==pc)throw Ab;return pc})}const Zb=/[[\]{}]/,oc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let kc,Ac;r.parseSelector=function(Ab,ec,pc){kc=ec||"view";Ac=pc||oc;return ra(Ab.trim()).map(ib)}})};
shadow$provide[63]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(21),Cb(59),Cb(62),Cb(33),Cb(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,ra,ib,Fb,Zb){function oc(N){return g.isObject(N)?N:{type:N||"pad"}}function kc(N){g.isObject(N)?
N=N.signal?N:{top:+N.top||0,bottom:+N.bottom||0,left:+N.left||0,right:+N.right||0}:(N=+N||0,N={top:N,bottom:N,left:N,right:N});return N}function Ac(N,da,G,ka){return null!=G?(g.isObject(G)&&!g.isArray(G)||g.isArray(G)&&G.length&&g.isObject(G[0])?N.update[da]=G:N[ka||"enter"][da]={value:G},1):0}function Ab(N,da,G){for(const ka in da)Ac(N,ka,da[ka]);for(const ka in G)Ac(N,ka,G[ka],"update")}function ec(N,da,G){for(const ka in da)G&&g.hasOwnProperty(G,ka)||(N[ka]=g.extend(N[ka]||{},da[ka]));return N}
function pc(N,da){return da&&(da.enter&&da.enter[N]||da.update&&da.update[N])}function Ya(N,da,G,ka,sa){const Ha={},Pa={};let dc,lc;lc="lineBreak";"text"!==da||null==sa[lc]||pc(lc,N)||rb(Ha,lc,sa[lc]);if("legend"==G||String(G).startsWith("axis"))G=null;G="frame"===G?sa.group:"mark"===G?g.extend({},sa.mark,sa[da]):null;for(lc in G)(da=pc(lc,N)||("fill"===lc||"stroke"===lc)&&(pc("fill",N)||pc("stroke",N)))||rb(Ha,lc,G[lc]);g.array(ka).forEach(rc=>{rc=sa.style&&sa.style[rc];for(const sc in rc)pc(sc,
N)||rb(Ha,sc,rc[sc])});N=g.extend({},N);for(lc in Ha)G=Ha[lc],G.signal?(dc=dc||{})[lc]=G:Pa[lc]=G;N.enter=g.extend(Pa,N.enter);dc&&(N.update=g.extend(dc,N.update));return N}function rb(N,da,G){N[da]=G&&G.signal?{signal:G.signal}:{value:G}}function Ib(N){if(null!=N.gradient)return Nb(N);if(N.signal)var da=`(${N.signal})`;else N.color?(da=N.color,da=da.c?Jd("hcl",da.h,da.c,da.l):da.h||da.s?Jd("hsl",da.h,da.s,da.l):da.l||da.a?Jd("lab",da.l,da.a,da.b):da.r||da.g||da.b?Jd("rgb",da.r,da.g,da.b):null):da=
null!=N.field?Ob(N.field):void 0!==N.value?g.stringValue(N.value):void 0;if(null!=N.scale){const G=vd(N.scale);null!=N.range?da=`lerp(_range(${G}), ${+N.range})`:(void 0!==da&&(da=`_scale(${G}, ${da})`),N.band&&(da=(da?da+"+":"")+`_bandwidth(${G})`+(1===+N.band?"":"*"+Bb(N.band)),N.extra&&(da=`(datum.extra ? _scale(${G}, datum.extra.value) : ${da})`)),null==da&&(da="0"))}void 0===da&&(da=null);null!=N.exponent&&(da=`pow(${da},${Bb(N.exponent)})`);null!=N.mult&&(da+=`*${Bb(N.mult)}`);null!=N.offset&&
(da+=`+${Bb(N.offset)}`);N.round&&(da=`round(${da})`);return da}function Nb(N){const da=[N.start,N.stop,N.count].map(G=>null==G?null:g.stringValue(G));for(;da.length&&null==g.peek(da);)da.pop();da.unshift(vd(N.gradient));return`gradient(${da.join(",")})`}function Bb(N){return g.isObject(N)?"("+Ib(N)+")":N}function Ob(N){return Xa(g.isObject(N)?N:{datum:N})}function Xa(N){let da;if(N.signal){da="datum";var G=N.signal}else if(N.group||N.parent){G=Math.max(1,N.level||1);for(da="item";0<G--;)da+=".mark.group";
N.parent?(G=N.parent,da+=".datum"):G=N.group}else N.datum?(da="datum",G=N.datum):g.error("Invalid field reference: "+g.stringValue(N));N.signal||(G=g.isString(G)?g.splitAccessPath(G).map(g.stringValue).join("]["):Xa(G));return da+"["+G+"]"}function qb(N){let da="";N.forEach(G=>{const ka=Ib(G);da+=G.test?`(${G.test})?${ka}:`:ka});":"===g.peek(da)&&(da+="null");return da}function Oa(N,da,G,ka,sa,Ha){const Pa={};Ha=Ha||{};Ha.encoders={$encode:Pa};N=Ya(N,da,G,ka,sa.config);for(const Ic in N){G=N[Ic];
ka=da;var dc=Ha,lc=sa;const $c={},Uc={};for(const bd in G)if(null!=G[bd]){var rc=Ca;var sc=G[bd];sc=g.isArray(sc)?qb(sc):Ib(sc);$c[bd]=rc(sc,lc,dc,Uc)}G={$expr:{marktype:ka,channels:$c},$fields:Object.keys(Uc),$output:Object.keys(G)};Pa[Ic]=G}return Ha}function Ca(N,da,G,ka){N=ra.parseExpression(N,da);N.$fields.forEach(sa=>ka[sa]=1);g.extend(G,N.$params);return N.$expr}function Qa(N,da){g.error(N+' for "outer" push: '+g.stringValue(da))}function lb(N,da){const G=N.name;if("outer"===N.push)da.signals[G]||
Qa("No prior signal definition",G),Fd.forEach(ka=>{void 0!==N[ka]&&Qa("Invalid property ",ka)});else{const ka=da.addSignal(G,N.value);!1===N.react&&(ka.react=!1);N.bind&&da.addBinding(G,N.bind)}}function mb(N,da,G,ka){this.id=-1;this.type=N;this.value=da;this.params=G;ka&&(this.parent=ka)}function Na(N){const da={$ref:N.id};0>N.id&&(N.refs=N.refs||[]).push(da);return da}function vb(N,da){return da?{$field:N,$name:da}:{$field:N}}function pb(N,da){N={$key:N};da&&(N.$flat=!0);return N}function Mb(N,
da){return(N&&N.signal?"$"+N.signal:N||"")+(N&&da?"_":"")+(da&&da.signal?"$"+da.signal:da||"")}function Vb(N){return N&&N.signal}function ob(N){if(Vb(N))return!0;if(g.isObject(N))for(const da in N)if(ob(N[da]))return!0;return!1}function ma(N,da){return null!=N?N:da}function Y(N){return N&&N.signal||N}function Ga(N,da){return(N.merge?Ea:N.stream?db:N.type?ba:g.error("Invalid stream specification: "+g.stringValue(N)))(N,da)}function Ea(N,da){const G=N.merge.map(ka=>Ga(ka,da));N=na({merge:G},N,da);return da.addStream(N).id}
function db(N,da){const G=Ga(N.stream,da);N=na({stream:G},N,da);return da.addStream(N).id}function ba(N,da){if("timer"===N.type){var G=da.event("timer",N.throttle);N={between:N.between,filter:N.filter}}else G=N.source,G=da.event.call(da,"scope"===G?"view":G||"view",N.type);N=na({stream:G},N,da);return 1===Object.keys(N).length?G:da.addStream(N).id}function na(N,da,G){let ka=da.between;ka&&(2!==ka.length&&g.error('Stream "between" parameter must have 2 entries: '+g.stringValue(da)),N.between=[Ga(ka[0],
G),Ga(ka[1],G)]);ka=da.filter?[].concat(da.filter):[];if(da.marktype||da.markname||da.markrole){var sa=ka,Ha=da.marktype,Pa=da.markname,dc=da.markrole;sa.push.call(sa,"event.item"+(Ha&&"*"!==Ha?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ha+"'":"")+(dc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+dc+"'":"")+(Pa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Pa+"'":""))}"scope"===da.source&&ka.push("inScope(event.item)");ka.length&&(N.filter=ra.parseExpression("("+ka.join(")\x26\x26(")+")",G).$expr);
null!=(ka=da.throttle)&&(N.throttle=+ka);null!=(ka=da.debounce)&&(N.debounce=+ka);da.consume&&(N.consume=!0);return N}function p(N,da,G){const ka=N.encode,sa={target:G};G=N.events;let Ha=N.update,Pa=[];G||g.error("Signal update missing events specification.");g.isString(G)&&(G=ib.parseSelector(G,da.isSubscope()?"scope":"view"));G=g.array(G).filter(dc=>dc.signal||dc.scale?(Pa.push(dc),0):1);1<Pa.length&&(Pa=[L(Pa)]);G.length&&Pa.push(1<G.length?{merge:G}:G[0]);null!=ka&&(Ha&&g.error("Signal encode and update are mutually exclusive."),
Ha="encode(item(),"+g.stringValue(ka)+")");sa.update=g.isString(Ha)?ra.parseExpression(Ha,da):null!=Ha.expr?ra.parseExpression(Ha.expr,da):null!=Ha.value?Ha.value:null!=Ha.signal?{$expr:Md,$params:{$value:da.signalRef(Ha.signal)}}:g.error("Invalid signal update specification.");N.force&&(sa.options={force:!0});Pa.forEach(dc=>{var lc=da.addUpdate,rc=g.extend;dc={source:dc.signal?da.signalRef(dc.signal):dc.scale?da.scaleRef(dc.scale):Ga(dc,da)};return lc.call(da,rc.call(g,dc,sa))})}function L(N){return{signal:"["+
N.map(da=>da.scale?'scale("'+da.scale+'")':da.signal)+"]"}}function O(N,da){const G=da.getSignal(N.name);let ka=N.update;N.init&&(ka?g.error("Signals can not include both init and update expressions."):(ka=N.init,G.initonly=!0));ka&&(ka=ra.parseExpression(ka,da),G.update=ka.$expr,G.params=ka.$params);N.on&&N.on.forEach(sa=>p(sa,da,G.id))}function f(N,da){return g.isObject(N)?N.signal?da.signalRef(N.signal):g.error("Unsupported object: "+g.stringValue(N)):N}function v(N,da){return N.signal?da.signalRef(N.signal):
N.map(G=>f(G,da))}function m(N){g.error("Can not find data set: "+g.stringValue(N))}function C(N,da,G){if(N)return N.signal?G.signalRef(N.signal):(g.isArray(N)?B:N.fields?E:z)(N,da,G);null==da.domainMin&&null==da.domainMax||g.error("No scale domain defined for domainMin/domainMax to override.")}function B(N,da,G){return N.map(ka=>f(ka,G))}function z(N,da,G){const ka=G.getData(N.data);ka||m(N.data);return Fb.isDiscrete(da.type)?ka.valuesRef(G,N.field,V(N.sort,!1)):Fb.isQuantile(da.type)?ka.domainRef(G,
N.field):ka.extentRef(G,N.field)}function E(N,da,G){const ka=N.data,sa=N.fields.reduce((Ha,Pa)=>{if(g.isString(Pa))Pa={data:ka,field:Pa};else if(g.isArray(Pa)||Pa.signal){var dc=Pa;Pa="_:vega:_"+Qc++;const lc=df({});g.isArray(dc)?lc.value={$ingest:dc}:dc.signal&&(dc="setdata("+g.stringValue(Pa)+","+dc.signal+")",lc.params.input=G.signalRef(dc));G.addDataPipeline(Pa,[lc,qc({})]);Pa={data:Pa,field:"data"}}Ha.push(Pa);return Ha},[]);return(Fb.isDiscrete(da.type)?D:Fb.isQuantile(da.type)?Aa:W)(N,G,sa)}
function D(N,da,G){const ka=V(N.sort,!0);N=G.map(Ha=>{const Pa=da.getData(Ha.data);Pa||m(Ha.data);return Pa.countsRef(da,Ha.field,ka)});const sa={groupby:Zd,pulse:N};ka&&(N=ka.op||"count",G=ka.field?Mb(N,ka.field):"count",sa.ops=[qd[N]],sa.fields=[da.fieldRef(G)],sa.as=[G]);N=da.add(Ae(sa));N=da.add(df({pulse:Na(N)}));G=da.add(Xc({field:Zd,sort:da.sortRef(ka),pulse:Na(N)}));return Na(G)}function V(N,da){N&&(N.field||N.op?N.field||"count"===N.op?da&&N.field&&N.op&&!qd[N.op]&&g.error("Multiple domain scales can not be sorted using "+
N.op):g.error("No field provided for sort aggregate op: "+N.op):g.isObject(N)?N.field="key":N={field:"key"});return N}function Aa(N,da,G){N=G.map(ka=>{const sa=da.getData(ka.data);sa||m(ka.data);return sa.domainRef(da,ka.field)});return Na(da.add(Ta({values:N})))}function W(N,da,G){N=G.map(ka=>{const sa=da.getData(ka.data);sa||m(ka.data);return sa.extentRef(da,ka.field)});return Na(da.add(ea({extents:N})))}function u(N,da,G){const ka=da.config.range;let sa=N.range;if(sa.signal)return da.signalRef(sa.signal);
if(g.isString(sa)){if(ka&&g.hasOwnProperty(ka,sa))return N=g.extend({},N,{range:ka[sa]}),u(N,da,G);"width"===sa?sa=[0,{signal:"width"}]:"height"===sa?sa=Fb.isDiscrete(N.type)?[0,{signal:"height"}]:[{signal:"height"},0]:g.error("Unrecognized scale range value: "+g.stringValue(sa))}else{if(sa.scheme){G.scheme=g.isArray(sa.scheme)?v(sa.scheme,da):f(sa.scheme,da);sa.extent&&(G.schemeExtent=v(sa.extent,da));sa.count&&(G.schemeCount=f(sa.count,da));return}if(sa.step){G.rangeStep=f(sa.step,da);return}if(Fb.isDiscrete(N.type)&&
!g.isArray(sa))return C(sa,N,da);g.isArray(sa)||g.error("Unsupported range type: "+g.stringValue(sa))}return sa.map(Ha=>(g.isArray(Ha)?v:f)(Ha,da))}function K(N,da,G){return g.isArray(N)?N.map(ka=>K(ka,da,G)):g.isObject(N)?N.signal?G.signalRef(N.signal):"fit"===da?N:g.error("Unsupported parameter object: "+g.stringValue(N)):N}function va(N){N.type="group";N.interactive=N.interactive||!1;return N}function Ja(N,da){const G=(ka,sa)=>ma(N[ka],ma(da[ka],sa));G.isVertical=ka=>"vertical"===ma(N.direction,
da.direction||(ka?da.symbolDirection:da.gradientDirection));G.gradientLength=()=>ma(N.gradientLength,da.gradientLength||da.gradientWidth);G.gradientThickness=()=>ma(N.gradientThickness,da.gradientThickness||da.gradientHeight);G.entryColumns=()=>ma(N.columns,ma(da.columns,+G.isVertical(!0)));return G}function Za(N,da){return(N=da&&(da.update&&da.update[N]||da.enter&&da.enter[N]))&&N.signal?N:N?N.value:null}function Wa(N,da,G){return`item.anchor === '${"start"}' ? ${N} : item.anchor === '${"end"}' ? ${da} : ${G}`}
function X(N,da){return da?N?g.isObject(N)?Object.assign({},N,{offset:X(N.offset,da)}):{value:N,offset:da}:da:N}function Ba(N,da){da?(N.name=da.name,N.style=da.style||N.style,N.interactive=!!da.interactive,N.encode=ec(N.encode,da,Qd)):N.interactive=!1;return N}function ab(N,da,G,ka){N=Ja(N,G);G=N.isVertical();var sa=N.gradientThickness();const Ha=N.gradientLength();let Pa,dc,lc;G?(G=[0,1],dc=[0,0],lc=sa,sa=Ha):(G=[0,0],dc=[1,0],lc=Ha);sa={enter:Pa={opacity:Ad,x:Ad,y:Ad,width:Oc(lc),height:Oc(sa)},
update:g.extend({},Pa,{opacity:Xd,fill:{gradient:da,start:G,stop:dc}}),exit:{opacity:Ad}};Ab(sa,{stroke:N("gradientStrokeColor"),strokeWidth:N("gradientStrokeWidth")},{opacity:N("gradientOpacity")});return Ba({type:"rect",role:"legend-gradient",encode:sa},ka)}function Gb(N,da,G,ka,sa){N=Ja(N,G);const Ha=N.isVertical();G=N.gradientThickness();const Pa=N.gradientLength();var dc;let lc,rc,sc,Ic="";Ha?(dc="y",rc="y2",lc="x",sc="width",Ic="1-"):(dc="x",rc="x2",lc="y",sc="height");da={opacity:Ad,fill:{scale:da,
field:"value"}};da[dc]={signal:Ic+"datum.perc",mult:Pa};da[lc]=Ad;da[rc]={signal:Ic+"datum.perc2",mult:Pa};da[sc]=Oc(G);dc={enter:da,update:g.extend({},da,{opacity:Xd}),exit:{opacity:Ad}};Ab(dc,{stroke:N("gradientStrokeColor"),strokeWidth:N("gradientStrokeWidth")},{opacity:N("gradientOpacity")});return Ba({type:"rect",role:"legend-band",key:"value",from:sa,encode:dc},ka)}function tc(N,da,G,ka){const sa=Ja(N,da);var Ha=sa.isVertical();const Pa=Oc(sa.gradientThickness()),dc=sa.gradientLength();let lc=
sa("labelOverlap"),rc,sc,Ic,$c="";const Uc={enter:rc={opacity:Ad},update:sc={opacity:Xd,text:{field:"label"}},exit:{opacity:Ad}};Ab(Uc,{fill:sa("labelColor"),fillOpacity:sa("labelOpacity"),font:sa("labelFont"),fontSize:sa("labelFontSize"),fontStyle:sa("labelFontStyle"),fontWeight:sa("labelFontWeight"),limit:ma(N.labelLimit,da.gradientLabelLimit)});Ha?(rc.align={value:"left"},rc.baseline=sc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ha="y",Ic="x",$c="1-"):(rc.align=
sc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},rc.baseline={value:"top"},Ha="x",Ic="y");rc[Ha]=sc[Ha]={signal:$c+"datum.perc",mult:dc};rc[Ic]=sc[Ic]=Pa;Pa.offset=ma(N.labelOffset,da.gradientLabelOffset)||0;lc=lc?{separation:sa("labelSeparation"),method:lc,order:"datum.index"}:void 0;return Ba({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ka,encode:Uc,overlap:lc},G)}function wc(N,da,G,ka,sa){var Ha=Ja(N,da);const Pa=G.entries,dc=!(!Pa||!Pa.interactive),
lc=Pa?Pa.name:void 0,rc=Ha("clipHeight"),sc=Ha("symbolOffset"),Ic={data:"value"},$c=`(${sa}) ? datum.${"offset"} : datum.${"size"}`,Uc=rc?Oc(rc):{field:"size"},bd=`max(1, ${sa})`;let yd,Dd;Uc.mult=.5;var Od={enter:yd={opacity:Ad,x:{signal:$c,mult:.5,offset:sc},y:Uc},update:Dd={opacity:Xd,x:yd.x,y:yd.y},exit:{opacity:Ad}};let He=null,td=null;N.fill||(He=da.symbolBaseFillColor,td=da.symbolBaseStrokeColor);Ab(Od,{fill:Ha("symbolFillColor",He),shape:Ha("symbolType"),size:Ha("symbolSize"),stroke:Ha("symbolStrokeColor",
td),strokeDash:Ha("symbolDash"),strokeDashOffset:Ha("symbolDashOffset"),strokeWidth:Ha("symbolStrokeWidth")},{opacity:Ha("symbolOpacity")});jd.forEach(ze=>{N[ze]&&(Dd[ze]=yd[ze]={scale:N[ze],field:"value"})});da=Ba({type:"symbol",role:"legend-symbol",key:"value",from:Ic,clip:rc?!0:void 0,encode:Od},G.symbols);Od=Oc(sc);Od.offset=Ha("labelOffset");Od={enter:yd={opacity:Ad,x:{signal:$c,offset:Od},y:Uc},update:Dd={opacity:Xd,text:{field:"label"},x:yd.x,y:yd.y},exit:{opacity:Ad}};Ab(Od,{align:Ha("labelAlign"),
baseline:Ha("labelBaseline"),fill:Ha("labelColor"),fillOpacity:Ha("labelOpacity"),font:Ha("labelFont"),fontSize:Ha("labelFontSize"),fontStyle:Ha("labelFontStyle"),fontWeight:Ha("labelFontWeight"),limit:Ha("labelLimit")});G=Ba({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Ic,encode:Od},G.labels);Od={enter:{noBound:{value:!rc},width:Ad,height:rc?Oc(rc):Ad,opacity:Ad},exit:{opacity:Ad},update:Dd={opacity:Xd,row:{signal:null},column:{signal:null}}};Ha.isVertical(!0)?(Ha=`ceil(item.mark.items.length / ${bd})`,
Dd.row.signal=`${"datum.index"}%${Ha}`,Dd.column.signal=`floor(${"datum.index"} / ${Ha})`,Ha={field:["row","datum.index"]}):(Dd.row.signal=`floor(${"datum.index"} / ${bd})`,Dd.column.signal=`${"datum.index"} % ${bd}`,Ha={field:"datum.index"});Dd.column.signal=`(${sa})?${Dd.column.signal}:${"datum.index"}`;ka={facet:{data:ka,name:"value",groupby:"index"}};return va({role:"scope",from:ka,encode:ec(Od,Pa,Qd),marks:[da,G],name:lc,interactive:dc,sort:Ha})}function vc(N,da){N=Ja(N,da);return{align:N("gridAlign"),
columns:N.entryColumns(),center:{row:!0,column:!1},padding:{row:N("rowPadding"),column:N("columnPadding")}}}function Ec(N,da,G,ka){da=Ja(N,da);const sa={enter:{opacity:Ad},update:{opacity:Xd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ad}};Ab(sa,{orient:da("titleOrient"),_anchor:da("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Ge},baseline:{signal:tf},text:N.title,fill:da("titleColor"),fillOpacity:da("titleOpacity"),font:da("titleFont"),fontSize:da("titleFontSize"),fontStyle:da("titleFontStyle"),fontWeight:da("titleFontWeight"),limit:da("titleLimit"),lineHeight:da("titleLineHeight")},{align:da("titleAlign"),baseline:da("titleBaseline")});return Ba({type:"text",role:"legend-title",style:"guide-title",from:ka,encode:sa},G)}function zc(N,da){let G;g.isObject(N)&&(N.signal?G=N.signal:N.path?G="pathShape("+Rc(N.path)+
")":N.sphere&&(G="geoShape("+Rc(N.sphere)+', {type: "Sphere"})'));return G?da.signalRef(G):!!N}function Rc(N){return g.isObject(N)&&N.signal?N.signal:g.stringValue(N)}function Sd(N){const da=N.role||"";return da.indexOf("axis")&&da.indexOf("legend")&&da.indexOf("title")?"group"===N.type?"scope":da||"mark":da}function Ia(N){return{marktype:N.type,name:N.name||void 0,role:N.role||Sd(N),zindex:+N.zindex||void 0,aria:N.aria,description:N.description}}function Wb(N,da){return N&&N.signal?da.signalRef(N.signal):
!1===N?!1:!0}function kb(N,da){const G=Zb.definition(N.type);G||g.error("Unrecognized transform type: "+g.stringValue(N.type));var ka=G.type.toLowerCase();var sa=bc(G,N,da);ka=new mb(ka,null,sa,void 0);N.signal&&da.addSignal(N.signal,da.proxy(ka));ka.metadata=G.metadata||{};return ka}function bc(N,da,G){const ka={},sa=N.params.length;for(let Ha=0;Ha<sa;++Ha){const Pa=N.params[Ha];ka[Pa.name]=Yb(Pa,da,G)}return ka}function Yb(N,da,G){const ka=N.type,sa=da[N.name];if("index"===ka)return yc(N,da,G);
if(void 0===sa)N.required&&g.error("Missing required "+g.stringValue(da.type)+" parameter: "+g.stringValue(N.name));else return"param"===ka?Gc(N,da,G):"projection"===ka?G.projectionRef(da[N.name]):N.array&&!Vb(sa)?sa.map(Ha=>hc(N,Ha,G)):hc(N,sa,G)}function hc(N,da,G){const ka=N.type;return Vb(da)?"expr"===ka?g.error("Expression references can not be signals."):"field"===ka?G.fieldRef(da):"compare"===ka?G.compareRef(da):G.signalRef(da.signal):(N=N.expr||"field"===ka)&&da&&da.expr?G.exprRef(da.expr,
da.as):N&&da&&da.field?vb(da.field,da.as):"expr"===ka?ra.parseExpression(da,G):"data"===ka?Na(G.getData(da).values):"field"===ka?vb(da):"compare"===ka?G.compareRef(da):da}function yc(N,da,G){g.isString(da.from)||g.error('Lookup "from" parameter must be a string literal.');return G.getData(da.from).lookupRef(G,da.key)}function Gc(N,da,G){da=da[N.name];return N.array?(g.isArray(da)||g.error("Expected an array of sub-parameters. Instead: "+g.stringValue(da)),da.map(ka=>ad(N,ka,G))):ad(N,da,G)}function ad(N,
da,G){const ka=N.params.length;let sa;for(let Ha=0;Ha<ka;++Ha){sa=N.params[Ha];for(const Pa in sa.key)if(sa.key[Pa]!==da[Pa]){sa=null;break}if(sa)break}sa||g.error("Unsupported parameter: "+g.stringValue(da));N=g.extend(bc(sa,da,G),sa.key);return Na(G.add(Pc(N)))}function Nd(N,da,G){let ka,sa,Ha,Pa;if(!N)Ha=Na(G.add(df(null,[{}])));else if(ka=N.facet)da||g.error("Only group marks can be faceted."),null!=ka.field?Ha=Pa=ud(ka,G):(N.data?Pa=Na(G.getData(N.data).aggregate):(da=kb(g.extend({type:"aggregate",
groupby:g.array(ka.groupby)},ka.aggregate),G),da.params.key=G.keyRef(ka.groupby),da.params.pulse=ud(ka,G),Ha=Pa=Na(G.add(da))),sa=G.keyRef(ka.groupby,!0));Ha||(Ha=ud(N,G));return{key:sa,pulse:Ha,parent:Pa}}function ud(N,da){return N.$ref?N:N.data&&N.data.$ref?N.data:Na(da.getData(N.data).output)}function Fa(N,da,G,ka,sa){this.scope=N;this.input=da;this.output=G;this.values=ka;this.aggregate=sa;this.index={}}function hb(N){return g.isString(N)?N:null}function ub(N,da,G){const ka=Mb(G.op,G.field);let sa;
if(da.ops)for(let Ha=0,Pa=da.as.length;Ha<Pa;++Ha){if(da.as[Ha]===ka)return}else da.ops=["count"],da.fields=[null],da.as=["count"];G.op&&(da.ops.push((sa=G.op.signal)?N.signalRef(sa):G.op),da.fields.push(N.fieldRef(G.field)),da.as.push(ka))}function la(N,da,G,ka,sa,Ha,Pa){G=da[G]||(da[G]={});var dc=g.isObject(Ha)?("descending"===Ha.order?"-":"+")+Mb(Ha.op,Ha.field):"";let lc=hb(sa);if(null!=lc){N=da.scope;lc+=dc?"|"+dc:"";var rc=G[lc]}rc||(rc=Ha?{field:Zd,pulse:da.countsRef(N,sa,Ha)}:{field:N.fieldRef(sa),
pulse:Na(da.output)},dc&&(rc.sort=N.sortRef(Ha)),N=N.add(new mb(ka,void 0,rc,void 0)),Pa&&(da.index[sa]=N),rc=Na(N),null!=lc&&(G[lc]=rc));return rc}function H(N,da,G){var ka=N.from.facet;const sa=ka.name,Ha=ud(ka,da);let Pa;ka.name||g.error("Facet must have a name: "+g.stringValue(ka));ka.data||g.error("Facet must reference a data set: "+g.stringValue(ka));ka.field?Pa=da.add(xc({field:da.fieldRef(ka.field),pulse:Ha})):ka.groupby?Pa=da.add(eb({key:da.keyRef(ka.groupby),group:Na(da.proxy(G.parent)),
pulse:Ha})):g.error("Facet must specify groupby or field: "+g.stringValue(ka));da=da.fork();G=da.add(df());ka=da.add(qc({pulse:Na(G)}));da.addData(sa,new Fa(da,G,G,ka));da.addSignal("parent",null);Pa.params.subflow={$subflow:da.parse(N).toRuntime()}}function ya(N,da,G){G=da.add(xc({pulse:G.pulse}));da=da.fork();da.add(qc());da.addSignal("parent",null);G.params.subflow={$subflow:da.parse(N).toRuntime()}}function Ka(N,da,G){const ka=N.remove,sa=N.insert,Ha=N.toggle,Pa=N.modify,dc=N.values,lc=da.add(new mb("operator",
void 0,void 0,void 0));N="if("+N.trigger+',modify("'+G+'",'+[sa,ka,Ha,Pa,dc].map(rc=>null==rc?"null":rc).join(",")+"),0)";da=ra.parseExpression(N,da);lc.update=da.$expr;lc.params=da.$params}function bb(N,da){var G=Sd(N),ka="group"===N.type,sa=N.from&&N.from.facet;const Ha=N.overlap;let Pa=N.layout||"scope"===G||"frame"===G,dc,lc,rc,sc,Ic,$c;const Uc="mark"===G||Pa||sa,bd=Nd(N.from,ka,da);lc=da.add(nf({key:bd.key||(N.key?vb(N.key):void 0),pulse:bd.pulse,clean:!ka}));const yd=Na(lc);lc=rc=da.add(df({pulse:yd}));
lc=da.add(I({markdef:Ia(N),interactive:Wb(N.interactive,da),clip:zc(N.clip,da),context:{$context:!0},groups:da.lookup(),parent:da.signals.parent?da.signalRef("parent"):null,index:da.markpath(),pulse:Na(lc)}));var Dd=Na(lc);lc=sc=da.add(T(Oa(N.encode,N.type,G,N.style,da,{mod:!1,pulse:Dd})));lc.params.parent=da.encode();N.transform&&N.transform.forEach(He=>{He=kb(He,da);const td=He.metadata;(td.generates||td.changes)&&g.error("Mark transforms should not generate new data.");td.nomod||(sc.params.mod=
!0);He.params.pulse=Na(lc);da.add(lc=He)});N.sort&&(lc=da.add(pd({sort:da.compareRef(N.sort),pulse:Na(lc)})));G=Na(lc);if(sa||Pa)Pa=da.add(Kc({layout:da.objectProperty(N.layout),legends:da.legends,mark:Dd,pulse:G})),$c=Na(Pa);const Od=da.add(cf({mark:Dd,pulse:$c||G}));Dd=Na(Od);ka&&(Uc&&(dc=da.operators,dc.pop(),Pa&&dc.pop()),da.pushState(G,$c||Dd,yd),sa?H(N,da,bd):Uc?ya(N,da,bd):da.parse(N),da.popState(),Uc&&(Pa&&dc.push(Pa),dc.push(Od)));Ha&&(Dd=jb(Ha,Dd,da));ka=da.add(Sa({pulse:Dd}));sa=da.add(qc({pulse:Na(ka)},
void 0,da.parent()));null!=N.name&&(Ic=N.name,da.addData(Ic,new Fa(da,rc,ka,sa)),N.on&&N.on.forEach(He=>{(He.insert||He.remove||He.toggle)&&g.error("Marks only support modify triggers.");Ka(He,da,Ic)}))}function jb(N,da,G){const ka=N.method,sa=N.bound,Ha=N.separation;da={separation:Vb(Ha)?G.signalRef(Ha.signal):Ha,method:Vb(ka)?G.signalRef(ka.signal):ka,pulse:da};N.order&&(da.sort=G.compareRef({field:N.order}));sa&&(N=sa.tolerance,da.boundTolerance=Vb(N)?G.signalRef(N.signal):+N,da.boundScale=G.scaleRef(sa.scale),
da.boundOrient=sa.orient);return Na(G.add($b(da)))}function Eb(N,da){const G=da.config.legend,ka=N.encode||{},sa=Ja(N,G),Ha=ka.legend||{},Pa=Ha.name||void 0,dc=Ha.interactive,lc=Ha.style,rc={};let sc=0,Ic,$c;jd.forEach(Od=>N[Od]?(rc[Od]=N[Od],sc=sc||N[Od]):0);sc||g.error("Missing valid scale for legend.");var Uc=mc(N,da.scaleType(sc));const bd={title:null!=N.title,scales:rc,type:Uc,vgrad:"symbol"!==Uc&&sa.isVertical()},yd=Na(da.add(df(null,[bd]))),Dd=Na(da.add(Cc($c={type:Uc,scale:da.scaleRef(sc),
count:da.objectProperty(sa("tickCount")),limit:da.property(sa("symbolLimit")),values:da.objectProperty(N.values),minstep:da.property(N.tickMinStep),formatType:da.property(N.formatType),formatSpecifier:da.property(N.format)})));"gradient"===Uc?(Uc=[ab(N,sc,G,ka.gradient),tc(N,G,ka.labels,Dd)],$c.count=$c.count||da.signalRef(`max(2,2*floor((${Y(sa.gradientLength())})/100))`)):"discrete"===Uc?Uc=[Gb(N,sc,G,ka.gradient,Dd),tc(N,G,ka.labels,Dd)]:(Ic=vc(N,G),Uc=[wc(N,G,ka,Dd,Y(Ic.columns))],$c.size=Sc(N,
da,Uc[0].marks));Uc=[va({role:"legend-entry",from:yd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Uc,layout:Ic,interactive:dc})];bd.title&&Uc.push(Ec(N,G,ka.title,yd));return bb(va({role:"legend",from:yd,encode:ec(gc(sa,N,G),Ha,Qd),marks:Uc,aria:sa("aria"),description:sa("description"),zindex:sa("zindex"),name:Pa,interactive:dc,style:lc}),da)}function mc(N,da){let G=N.type||"symbol";N.type||1!==cc(N)||!N.fill&&!N.stroke||(G=Fb.isContinuous(da)?"gradient":Fb.isDiscretizing(da)?"discrete":"symbol");
return"gradient"!==G?G:Fb.isDiscretizing(da)?"discrete":"gradient"}function cc(N){return jd.reduce((da,G)=>da+(N[G]?1:0),0)}function gc(N,da,G){const ka={enter:{},update:{}};Ab(ka,{orient:N("orient"),offset:N("offset"),padding:N("padding"),titlePadding:N("titlePadding"),cornerRadius:N("cornerRadius"),fill:N("fillColor"),stroke:N("strokeColor"),strokeWidth:G.strokeWidth,strokeDash:G.strokeDash,x:N("legendX"),y:N("legendY"),format:da.format,formatType:da.formatType});return ka}function Sc(N,da,G){const ka=
Y(ed("size",N,G));N=Y(ed("strokeWidth",N,G));(G=Za("fontSize",G[1].encode))||(G=(G=da.config.style["guide-label"])&&G.fontSize);G=Y(G);return ra.parseExpression(`max(ceil(sqrt(${ka})+${N}),${G})`,da)}function ed(N,da,G){return da[N]?`scale("${da[N]}",datum)`:Za(N,G[0].encode)}function fd(N,da){N=g.isString(N)?{text:N}:N;const G=Ja(N,da.config.title);var ka=N.encode||{},sa=ka.group||{};const Ha=sa.name||void 0,Pa=sa.interactive,dc=sa.style,lc=[],rc=Na(da.add(df(null,[{}])));var sc=lc.push,Ic=N;var $c=
($c=N.encode)&&$c.title||g.extend({name:N.name,interactive:N.interactive,style:N.style},$c);var Uc={value:0};Uc={enter:{opacity:Uc},update:{opacity:{value:1}},exit:{opacity:Uc}};Ab(Uc,{text:Ic.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:G("dx"),dy:G("dy"),fill:G("color"),font:G("font"),fontSize:G("fontSize"),fontStyle:G("fontStyle"),fontWeight:G("fontWeight"),lineHeight:G("lineHeight")},{align:G("align"),
angle:G("angle"),baseline:G("baseline")});Ic=Ba({type:"text",role:"title-text",style:"group-title",from:rc,encode:Uc},$c);sc.call(lc,Ic);N.subtitle&&(sc=lc.push,ka=ka.subtitle,Ic={value:0},Ic={enter:{opacity:Ic},update:{opacity:{value:1}},exit:{opacity:Ic}},Ab(Ic,{text:N.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:G("dx"),dy:G("dy"),fill:G("subtitleColor"),font:G("subtitleFont"),fontSize:G("subtitleFontSize"),
fontStyle:G("subtitleFontStyle"),fontWeight:G("subtitleFontWeight"),lineHeight:G("subtitleLineHeight")},{align:G("align"),angle:G("angle"),baseline:G("baseline")}),N=Ba({type:"text",role:"title-subtitle",style:"group-subtitle",from:rc,encode:Ic},ka),sc.call(lc,N));N={enter:{},update:{}};Ab(N,{orient:G("orient"),anchor:G("anchor"),align:{signal:ye},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:G("limit"),frame:G("frame"),offset:G("offset")||0,padding:G("subtitlePadding")});
sa=ec(N,sa,Qd);return bb(va({role:"title",from:rc,encode:sa,marks:lc,aria:G("aria"),description:G("description"),zindex:G("zindex"),name:Ha,interactive:Pa,style:dc}),da)}function Rd(N,da){const G=[];N.transform&&N.transform.forEach(ka=>{G.push(kb(ka,da))});N.on&&N.on.forEach(ka=>{Ka(ka,da,N.name)});da.addDataPipeline(N.name,Td(N,da,G))}function Td(N,da,G){const ka=[];let sa=null,Ha=!1,Pa=!1,dc,lc,rc,sc;N.values?Vb(N.values)||ob(N.format)?(ka.push(be(da,N)),ka.push(sa=Cd())):ka.push(sa=Cd({$ingest:N.values,
$format:N.format})):N.url?ob(N.url)||ob(N.format)?(ka.push(be(da,N)),ka.push(sa=Cd())):ka.push(sa=Cd({$request:N.url,$format:N.format})):N.source&&(sa=dc=g.array(N.source).map(Ic=>Na(da.getData(Ic).output)),ka.push(null));N=0;for(lc=G.length;N<lc;++N)rc=G[N],sc=rc.metadata,sa||sc.source||ka.push(sa=Cd()),ka.push(rc),sc.generates&&(Pa=!0),sc.modifies&&!Pa&&(Ha=!0),sc.source?sa=rc:sc.changes&&(sa=null);dc&&(lc=dc.length-1,ka[0]=de({derive:Ha,pulse:lc?dc:dc[0]}),(Ha||lc)&&ka.splice(1,0,Cd()));sa||ka.push(Cd());
ka.push(qc({}));return ka}function Cd(N){N=df({},N);N.metadata={source:!0};return N}function be(N,da){return Ub({url:da.url?N.property(da.url):void 0,async:da.async?N.property(da.async):void 0,values:da.values?N.property(da.values):void 0,format:N.objectProperty(da.format)})}function ce(N,da,G,ka){let sa;if(da&&g.hasOwnProperty(da,N))return da[N];if(g.hasOwnProperty(G,N))return G[N];if(N.startsWith("title")){switch(N){case "titleColor":sa="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":sa=
N[5].toLowerCase()+N.slice(6)}return ka["guide-title"][sa]}if(N.startsWith("label")){switch(N){case "labelColor":sa="fill";break;case "labelFont":case "labelFontSize":sa=N[5].toLowerCase()+N.slice(6)}return ka["guide-label"][sa]}return null}function Vd(N){const da={};for(const G of N)if(G)for(const ka in G)da[ka]=1;return Object.keys(da)}function Te(N,da,G,ka,sa){return{signal:'flush(range("'+N+'"), scale("'+N+'", datum.value), '+da+","+G+","+ka+","+sa+")"}}function $d(N,da,G,ka){const sa=(Pa,dc)=>
null!=Pa?(G.update[dc]=le(Oc(Pa),G.update[dc]),!1):pc(dc,ka)?!1:!0,Ha=sa(N("titleX"),"x");N=sa(N("titleY"),"y");G.enter.auto=N===Ha?Oc(N):Fc(da,Oc(N),Oc(Ha))}function M(N,da,G){const ka=g.array(N.signals),sa=g.array(N.scales);G||ka.forEach(Ha=>lb(Ha,da));g.array(N.projections).forEach(Ha=>{const Pa=da.config.projection||{},dc={};for(const lc in Ha)"name"!==lc&&(dc[lc]=K(Ha[lc],lc,da));for(const lc in Pa)null==dc[lc]&&(dc[lc]=K(Pa[lc],lc,da));da.addProjection(Ha.name,dc)});sa.forEach(Ha=>{const Pa=
Ha.type||"linear";Fb.isValidScaleType(Pa)||g.error("Unrecognized scale type: "+g.stringValue(Pa));da.addScale(Ha.name,{type:Pa,domain:void 0})});g.array(N.data).forEach(Ha=>Rd(Ha,da));sa.forEach(Ha=>{const Pa=da.getScale(Ha.name).params;let dc;Pa.domain=C(Ha.domain,Ha,da);null!=Ha.range&&(Pa.range=u(Ha,da,Pa));if(null!=Ha.interpolate){var lc=Ha.interpolate;Pa.interpolate=f(lc.type||lc);null!=lc.gamma&&(Pa.interpolateGamma=f(lc.gamma))}null!=Ha.nice&&(lc=Ha.nice,lc=g.isObject(lc)?{interval:f(lc.interval),
step:f(lc.step)}:f(lc),Pa.nice=lc);null!=Ha.bins&&(lc=Ha.bins,lc=lc.signal||g.isArray(lc)?v(lc,da):da.objectProperty(lc),Pa.bins=lc);for(dc in Ha)g.hasOwnProperty(Pa,dc)||"name"===dc||(Pa[dc]=f(Ha[dc],da))});(G||ka).forEach(Ha=>O(Ha,da));g.array(N.axes).forEach(Ha=>{var Pa=da.config,dc=Pa.style,lc=Pa.axis,rc="band"===da.scaleType(Ha.scale)&&Pa.axisBand,sc=Ha.orient,Ic;if(Vb(sc)){const Ee=Vd([Pa.axisX,Pa.axisY]),Ie=Vd([Pa.axisTop,Pa.axisBottom,Pa.axisLeft,Pa.axisRight]);var $c={};for(Ic of Ee)$c[Ic]=
Fc(sc,ce(Ic,Pa.axisX,lc,dc),ce(Ic,Pa.axisY,lc,dc));var Uc={};for(Ic of Ie){var bd=Uc,yd=Ic,Dd=sc.signal,Od=ce(Ic,Pa.axisTop,lc,dc),He=ce(Ic,Pa.axisBottom,lc,dc),td=ce(Ic,Pa.axisLeft,lc,dc),ze=ce(Ic,Pa.axisRight,lc,dc);var Ce={signal:(null!=td?`${Dd} === '${"left"}' ? (${Yd(td)}) : `:"")+(null!=He?`${Dd} === '${"bottom"}' ? (${Yd(He)}) : `:"")+(null!=ze?`${Dd} === '${"right"}' ? (${Yd(ze)}) : `:"")+(null!=Od?`${Dd} === '${"top"}' ? (${Yd(Od)}) : `:"")+"(null)"};bd[yd]=Ce}}else $c="top"===sc||"bottom"===
sc?Pa.axisX:Pa.axisY,Uc=Pa["axis"+sc[0].toUpperCase()+sc.slice(1)];var Hd=$c||Uc||rc?g.extend({},lc,$c,Uc,rc):lc;const he=Ha.encode||{},De=he.axis||{},mf=De.name||void 0,bf=De.interactive,ue=De.style,ve=Ja(Ha,Hd),uf=ve("tickBand");let Kf=ve("tickOffset"),ff,lg;uf?uf.signal?(ff={signal:`(${uf.signal}) === 'extent' ? 1 : 0.5`},lg={signal:`(${uf.signal}) === 'extent'`},g.isObject(Kf)||(Kf={signal:`(${uf.signal}) === 'extent' ? 0 : ${Kf}`})):"extent"===uf?(ff=1,lg=!0,Kf=0):(ff=.5,lg=!1):(ff=ve("bandPosition"),
lg=ve("tickExtra"));var Wd=lg;var jf=ff;var lf=Kf;const Ze={scale:Ha.scale,ticks:!!ve("ticks"),labels:!!ve("labels"),grid:!!ve("grid"),domain:!!ve("domain"),title:null!=Ha.title},Hf=Na(da.add(df({},[Ze]))),Bf=Na(da.add(hf({scale:da.scaleRef(Ha.scale),extra:da.property(Wd),count:da.objectProperty(Ha.tickCount),values:da.objectProperty(Ha.values),minstep:da.property(Ha.tickMinStep),formatType:da.property(Ha.formatType),formatSpecifier:da.property(Ha.format)}))),Cf=[];let Jf;if(Ze.grid){var wg=Cf.push,
eg=he.grid;const Ee=Ja(Ha,Hd),Ie=Ha.orient,Lf=Ha.gridScale,gf=ld(Ie,1,-1);a:{var xf=Ha.offset,Of=gf;if(1!==Of)if(g.isObject(xf)){let ag=xf=g.extend({},xf);for(;null!=ag.mult;)if(g.isObject(ag.mult))ag=ag.mult=g.extend({},ag.mult);else{ag.mult=Vb(Of)?{signal:`(${ag.mult}) * (${Of.signal})`}:ag.mult*Of;var bg=xf;break a}ag.mult=Of}else xf=Vb(Of)?{signal:`(${Of.signal}) * (${xf||0})`}:Of*(xf||0);bg=xf}const Df=bg;let zf,fg,rg;const gg={enter:zf={opacity:Ad},update:rg={opacity:Xd},exit:fg={opacity:Ad}};
Ab(gg,{stroke:Ee("gridColor"),strokeCap:Ee("gridCap"),strokeDash:Ee("gridDash"),strokeDashOffset:Ee("gridDashOffset"),strokeOpacity:Ee("gridOpacity"),strokeWidth:Ee("gridWidth")});const Ff={scale:Ha.scale,field:"value",band:jf,extra:Wd,offset:lf,round:Ee("tickRound")},Hg=Fc(Ie,{signal:"height"},{signal:"width"}),dh=Lf?{scale:Lf,range:0,mult:gf,offset:Df}:{value:0,offset:Df},vh=Lf?{scale:Lf,range:1,mult:gf,offset:Df}:g.extend(Hg,{mult:gf,offset:Df});zf.x=rg.x=Fc(Ie,Ff,dh);zf.y=rg.y=id(Ie,Ff,dh);zf.x2=
rg.x2=id(Ie,vh);zf.y2=rg.y2=Fc(Ie,vh);fg.x=Fc(Ie,Ff);fg.y=id(Ie,Ff);var Lg=Ba({type:"rule",role:"axis-grid",key:"value",from:Bf,encode:gg},eg);wg.call(Cf,Lg)}if(Ze.ticks){Jf=ve("tickSize");var Qg=Cf.push,xg=he.ticks,ah=Jf;const Ee=Ja(Ha,Hd),Ie=Ha.orient,Lf=ld(Ie,-1,1);let gf,Df,zf;const fg={enter:gf={opacity:Ad},update:zf={opacity:Xd},exit:Df={opacity:Ad}};Ab(fg,{stroke:Ee("tickColor"),strokeCap:Ee("tickCap"),strokeDash:Ee("tickDash"),strokeDashOffset:Ee("tickDashOffset"),strokeOpacity:Ee("tickOpacity"),
strokeWidth:Ee("tickWidth")});const rg=Oc(ah);rg.mult=Lf;const gg={scale:Ha.scale,field:"value",band:jf,extra:Wd,offset:lf,round:Ee("tickRound")};zf.y=gf.y=Fc(Ie,Ad,gg);zf.y2=gf.y2=Fc(Ie,rg);Df.x=Fc(Ie,gg);zf.x=gf.x=id(Ie,Ad,gg);zf.x2=gf.x2=id(Ie,rg);Df.y=id(Ie,gg);var qa=Ba({type:"rule",role:"axis-tick",key:"value",from:Bf,encode:fg},xg);Qg.call(Cf,qa)}if(Ze.labels){Jf=Ze.ticks?Jf:0;var cb=Cf.push,Pb=he.labels,hd=Jf;const Ee=Ja(Ha,Hd),Ie=Ha.orient,Lf=Ha.scale,gf=ld(Ie,-1,1),Df=Y(Ee("labelFlush")),
zf=Y(Ee("labelFlushOffset")),fg=Ee("labelAlign"),rg=Ee("labelBaseline");let gg=0===Df||!!Df,Ff;const Hg=Oc(hd);Hg.mult=gf;Hg.offset=Oc(Ee("labelPadding")||0);Hg.offset.mult=gf;const dh={scale:Lf,field:"value",band:.5,offset:X(lf,Ee("labelOffset"))};var nd=gg?Te(Lf,Df,'"left"','"right"','"center"'):{value:"center"},oe=Ie;var Pe=Vb(oe)?ae(`${oe.signal} === '${"right"}'`,"left","right"):"right"===oe?{value:"left"}:{value:"right"};const vh=Fc(Ie,nd,Pe),ag=Fc(Ie,Dc(Ie,"bottom","top"),gg?Te(Lf,Df,'"top"',
'"bottom"','"middle"'):{value:"middle"}),Vh=Te(Lf,Df,`-(${zf})`,zf,0);gg=gg&&zf;const Bh={opacity:Ad,x:Fc(Ie,dh,Hg),y:id(Ie,dh,Hg)},Ch={enter:Bh,update:Ff={opacity:Xd,text:{field:"label"},x:Bh.x,y:Bh.y,align:vh,baseline:ag},exit:{opacity:Ad,x:Bh.x,y:Bh.y}};Ab(Ch,{dx:!fg&&gg?Fc(Ie,Vh):null,dy:!rg&&gg?id(Ie,Vh):null});Ab(Ch,{angle:Ee("labelAngle"),fill:Ee("labelColor"),fillOpacity:Ee("labelOpacity"),font:Ee("labelFont"),fontSize:Ee("labelFontSize"),fontWeight:Ee("labelFontWeight"),fontStyle:Ee("labelFontStyle"),
limit:Ee("labelLimit"),lineHeight:Ee("labelLineHeight")},{align:fg,baseline:rg});const Vg=Ee("labelBound");let Dh=Ee("labelOverlap");Dh=Dh||Vg?{separation:Ee("labelSeparation"),method:Dh,order:"datum.index",bound:Vg?{scale:Lf,orient:Ie,tolerance:Vg}:null}:void 0;Ff.align!==vh&&(Ff.align=le(Ff.align,vh));Ff.baseline!==ag&&(Ff.baseline=le(Ff.baseline,ag));var of=Ba({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Bf,encode:Ch,overlap:Dh},Pb);cb.call(Cf,of)}if(Ze.domain){var Ef=Cf.push,
Qe=he.domain;const Ee=Ja(Ha,Hd),Ie=Ha.orient;let Lf,gf;const Df={enter:Lf={opacity:Ad},update:gf={opacity:Xd},exit:{opacity:Ad}};Ab(Df,{stroke:Ee("domainColor"),strokeCap:Ee("domainCap"),strokeDash:Ee("domainDash"),strokeDashOffset:Ee("domainDashOffset"),strokeWidth:Ee("domainWidth"),strokeOpacity:Ee("domainOpacity")});const zf={scale:Ha.scale,range:0},fg={scale:Ha.scale,range:1};Lf.x=gf.x=Fc(Ie,zf,Ad);Lf.x2=gf.x2=Fc(Ie,fg);Lf.y=gf.y=id(Ie,zf,Ad);Lf.y2=gf.y2=id(Ie,fg);var Zf=Ba({type:"rule",role:"axis-domain",
from:Hf,encode:Df},Qe);Ef.call(Cf,Zf)}if(Ze.title){var Rf=Cf.push,$f=he.title;const Ee=Ja(Ha,Hd),Ie=Ha.orient,Lf=ld(Ie,-1,1);let gf,Df;const zf={enter:gf={opacity:Ad,anchor:Oc(Ee("titleAnchor",null)),align:{signal:ye}},update:Df=g.extend({},gf,{opacity:Xd,text:Oc(Ha.title)}),exit:{opacity:Ad}},fg={signal:`lerp(range("${Ha.scale}"), ${Wa(0,1,.5)})`};Df.x=Fc(Ie,fg);Df.y=id(Ie,fg);var mg=gf,qg=Lf;var Gg=Vb(qg)?{signal:`(${qg.signal}) * ${90}`}:{value:90*qg};mg.angle=Fc(Ie,Ad,Gg);gf.baseline=Fc(Ie,Dc(Ie,
"bottom","top"),{value:"bottom"});Df.angle=gf.angle;Df.baseline=gf.baseline;Ab(zf,{fill:Ee("titleColor"),fillOpacity:Ee("titleOpacity"),font:Ee("titleFont"),fontSize:Ee("titleFontSize"),fontStyle:Ee("titleFontStyle"),fontWeight:Ee("titleFontWeight"),limit:Ee("titleLimit"),lineHeight:Ee("titleLineHeight")},{align:Ee("titleAlign"),angle:Ee("titleAngle"),baseline:Ee("titleBaseline")});$d(Ee,Ie,zf,$f);zf.update.align=le(zf.update.align,gf.align);zf.update.angle=le(zf.update.angle,gf.angle);zf.update.baseline=
le(zf.update.baseline,gf.baseline);var bh=Ba({type:"text",role:"axis-title",style:"guide-title",from:Hf,encode:zf},$f);Rf.call(Cf,bh)}const hh={enter:{},update:{}};Ab(hh,{orient:ve("orient"),offset:ve("offset")||0,position:ma(Ha.position,0),titlePadding:ve("titlePadding"),minExtent:ve("minExtent"),maxExtent:ve("maxExtent"),range:{signal:`abs(span(range("${Ha.scale}")))`},translate:ve("translate"),format:Ha.format,formatType:Ha.formatType});return bb(va({role:"axis",from:Hf,encode:ec(hh,De,Qd),marks:Cf,
aria:ve("aria"),description:ve("description"),zindex:ve("zindex"),name:mf,interactive:bf,style:ue}),da)});g.array(N.marks).forEach(Ha=>bb(Ha,da));g.array(N.legends).forEach(Ha=>Eb(Ha,da));N.title&&fd(N.title,da);da.parseLambdas();return da}function Z(N,da){var G=da.config;const ka=Na(da.root=da.add(new mb("operator",void 0,void 0,void 0))),sa=gb(N,G);sa.forEach(dc=>lb(dc,da));da.description=N.description||G.description;da.eventConfig=G.events;da.legends=da.objectProperty(G.legend&&G.legend.layout);
da.locale=G.locale;G=da.add(df());const Ha=da.add(T(Oa(ec({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},N.encode),"group","frame",N.style,da,{pulse:Na(G)}))),Pa=da.add(Kc({layout:da.objectProperty(N.layout),legends:da.legends,autosize:da.signalRef("autosize"),mark:ka,pulse:Na(Ha)}));da.operators.pop();da.pushState(Na(Ha),Na(Pa),null);M(N,da,sa);da.operators.push(Pa);N=da.add(cf({mark:ka,pulse:Na(Pa)}));N=da.add(Sa({pulse:Na(N)}));N=da.add(qc({pulse:Na(N)}));
da.addData("root",new Fa(da,G,G,N));return da}function La(N,da){return da&&da.signal?{name:N,update:da.signal}:{name:N,value:da}}function gb(N,da){const G=Pa=>ma(N[Pa],da[Pa]),ka=[La("background",G("background")),La("autosize",oc(G("autosize"))),La("padding",kc(G("padding"))),La("width",G("width")||0),La("height",G("height")||0)],sa=ka.reduce((Pa,dc)=>(Pa[dc.name]=dc,Pa),{}),Ha={};g.array(N.signals).forEach(Pa=>{g.hasOwnProperty(sa,Pa.name)?Pa=g.extend(sa[Pa.name],Pa):ka.push(Pa);Ha[Pa.name]=Pa});
g.array(da.signals).forEach(Pa=>{g.hasOwnProperty(Ha,Pa.name)||g.hasOwnProperty(sa,Pa.name)||ka.push(Pa)});return ka}function Jb(N,da){this.config=N||{};this.options=da||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Tb(N){this.config=N.config;
this.options=N.options;this.legends=N.legends;this.field=Object.create(N.field);this.signals=Object.create(N.signals);this.lambdas=Object.create(N.lambdas);this.scales=Object.create(N.scales);this.events=Object.create(N.events);this.data=Object.create(N.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++N._nextsub[0];this._nextsub=N._nextsub;this._parent=N._parent.slice();this._encode=N._encode.slice();this._lookup=N._lookup.slice();this._markpath=N._markpath}function Bc(N){return(g.isArray(N)?
ic:Jc)(N)}function ic(N){const da=N.length;let G="[";for(let ka=0;ka<da;++ka){const sa=N[ka];G+=(0<ka?",":"")+(g.isObject(sa)?sa.signal||Bc(sa):g.stringValue(sa))}return G+"]"}function Jc(N){let da="{",G=0,ka,sa;for(ka in N)sa=N[ka],da+=(1<++G?",":"")+g.stringValue(ka)+":"+(g.isObject(sa)?sa.signal||Bc(sa):g.stringValue(sa));return da+"}"}function dd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},
area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",
font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Oc=N=>g.isObject(N)&&!g.isArray(N)?g.extend({},N):{value:N},vd=N=>g.isString(N)?g.stringValue(N):N.signal?`(${N.signal})`:Ob(N),Jd=(N,da,G,ka)=>`(${N}(${[da,G,ka].map(Ib).join(",")})+'')`,Fd=["value","update","init","react","bind"],Zd=vb("key"),Md={code:"_.$value",ast:{type:"Identifier",value:"value"}},se=N=>(da,G,ka)=>new mb(N,G,da||void 0,ka),Ae=se("aggregate"),hf=se("axisticks"),cf=se("bound"),df=se("collect"),re=se("compare"),nf=se("datajoin"),T=se("encode"),ta=se("expression"),eb=se("facet"),
zb=se("field"),Xb=se("key"),Cc=se("legendentries"),Ub=se("load"),I=se("mark"),ea=se("multiextent"),Ta=se("multivalues"),$b=se("overlap"),Pc=se("params"),xc=se("prefacet"),Tc=se("projection"),md=se("proxy"),de=se("relay"),Sa=se("render"),fb=se("scale"),qc=se("sieve"),pd=se("sortitems"),Kc=se("viewlayout"),Xc=se("values");let Qc=0;const qd={min:"min",max:"max",count:"sum"},jd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Qd={name:1,style:1,interactive:1},Ad={value:0},Xd={value:1},
ye=Wa(g.stringValue("left"),g.stringValue("right"),g.stringValue("center")),Oe=Wa('"top"','"bottom"','"middle"'),Ge=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Wa('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${ye}`,tf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Oe}) : "top"`;
Fa.fromEntries=function(N,da){const G=da.length,ka=da[G-1],sa=da[G-2];let Ha=da[0],Pa=null,dc=1;Ha&&"load"===Ha.type&&(Ha=da[1]);for(N.add(da[0]);dc<G;++dc)da[dc].params.pulse=Na(da[dc-1]),N.add(da[dc]),"aggregate"===da[dc].type&&(Pa=da[dc]);return new Fa(N,Ha,sa,ka,Pa)};Fa.prototype={countsRef(N,da,G){const ka=this.counts||(this.counts={}),sa=hb(da);if(null!=sa){N=this.scope;var Ha=ka[sa]}Ha?G&&G.field&&ub(N,Ha.agg.params,G):(Ha={groupby:N.fieldRef(da,"key"),pulse:Na(this.output)},G&&G.field&&ub(N,
Ha,G),G=N.add(Ae(Ha)),Ha=N.add(df({pulse:Na(G)})),Ha={agg:G,ref:Na(Ha)},null!=sa&&(ka[sa]=Ha));return Ha.ref},tuplesRef(){return Na(this.values)},extentRef(N,da){return la(N,this,"extent","extent",da,!1)},domainRef(N,da){return la(N,this,"domain","values",da,!1)},valuesRef(N,da,G){return la(N,this,"vals","values",da,G||!0)},lookupRef(N,da){return la(N,this,"lookup","tupleindex",da,!1)},indataRef(N,da){return la(N,this,"indata","tupleindex",da,!0,!0)}};const ld=(N,da,G)=>{Vb(N)?(N=N.signal,da=ae(`${N} === '${"left"}' || ${N} === '${"top"}'`,
da,G)):da="left"===N||"top"===N?da:G;return da},Fc=(N,da,G)=>{Vb(N)?(N=N.signal,da=Gd(`${N} === '${"top"}' || ${N} === '${"bottom"}'`,da,G)):da="bottom"===N||"top"===N?da:G;return da},id=(N,da,G)=>{Vb(N)?(N=N.signal,da=Gd(`${N} !== '${"top"}' && ${N} !== '${"bottom"}'`,da,G)):da="bottom"===N||"top"===N?G:da;return da},Dc=(N,da,G)=>Vb(N)?ae(`${N.signal} === '${"top"}'`,da,G):"top"===N?{value:da}:{value:G},Gd=(N,da,G)=>{da=null!=da?Oc(da):da;G=null!=G?Oc(G):G;if(null!=da&&1!==Object.keys(da).length||
null!=G&&1!==Object.keys(G).length)return[g.extend({test:N},da)].concat(G||[]);da=da?da.signal||g.stringValue(da.value):null;G=G?G.signal||g.stringValue(G.value):null;return{signal:`${N} ? (${da}) : (${G})`}},ae=(N,da,G)=>({signal:`${N} ? (${Yd(da)}) : (${Yd(G)})`}),Yd=N=>Vb(N)?N.signal:null==N?null:g.stringValue(N),le=(N,da)=>{const G=N.signal;return G&&G.endsWith("(null)")?{signal:G.slice(0,-6)+da.signal}:N};Jb.prototype=Tb.prototype={parse(N){return M(N,this)},fork(){return new Tb(this)},isSubscope(){return 0<
this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(N){this.operators.push(N);N.id=this.id();N.refs&&(N.refs.forEach(da=>{da.$ref=N.id}),N.refs=null);return N},proxy(N){N=N instanceof mb?Na(N):N;return this.add(md({value:N}))},addStream(N){this.streams.push(N);N.id=this.id();return N},
addUpdate(N){this.updates.push(N);return N},finish(){function N(ka,sa,Ha){ka&&(ka=ka.data||(ka.data={}),sa=ka[sa]||(ka[sa]=[]),sa.push(Ha))}let da,G;this.root&&(this.root.root=!0);for(da in this.signals)this.signals[da].signal=da;for(da in this.scales)this.scales[da].scale=da;for(da in this.data){G=this.data[da];N(G.input,da,"input");N(G.output,da,"output");N(G.values,da,"values");for(const ka in G.index)N(G.index[ka],da,"index:"+ka)}return this},pushState(N,da,G){this._encode.push(Na(this.add(qc({pulse:N}))));
this._parent.push(da);this._lookup.push(G?Na(this.proxy(G)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return g.peek(this._parent)},encode(){return g.peek(this._encode)},lookup(){return g.peek(this._lookup)},markpath(){const N=this._markpath;return++N[N.length-1]},fieldRef(N,da){if(g.isString(N))return vb(N,da);N.signal||g.error("Unsupported field reference: "+g.stringValue(N));N=N.signal;var G=this.field[N];G||
(G={name:this.signalRef(N)},da&&(G.as=da),this.field[N]=G=Na(this.add(zb(G))));return G},compareRef(N){let da=!1;const G=sa=>Vb(sa)?(da=!0,this.signalRef(sa.signal)):sa&&sa.expr?(da=!0,this.exprRef(sa.expr)):sa,ka=g.array(N.field).map(G);N=g.array(N.order).map(G);return da?Na(this.add(re({fields:ka,orders:N}))):{$compare:ka,$order:N}},keyRef(N,da){let G=!1;const ka=this.signals;N=g.array(N).map(sa=>Vb(sa)?(G=!0,Na(ka[sa.signal])):sa);return G?Na(this.add(Xb({fields:N,flat:da}))):pb(N,da)},sortRef(N){if(!N)return N;
const da=Mb(N.op,N.field);N=N.order||"ascending";return N.signal?Na(this.add(re({fields:da,orders:this.signalRef(N.signal)}))):{$compare:da,$order:N}},event(N,da){const G=N+":"+da;if(!this.events[G]){const ka=this.id();this.streams.push({id:ka,source:N,type:da});this.events[G]=ka}return this.events[G]},hasOwnSignal(N){return g.hasOwnProperty(this.signals,N)},addSignal(N,da){this.hasOwnSignal(N)&&g.error("Duplicate signal name: "+g.stringValue(N));da=da instanceof mb?da:this.add(new mb("operator",
da,void 0,void 0));return this.signals[N]=da},getSignal(N){this.signals[N]||g.error("Unrecognized signal name: "+g.stringValue(N));return this.signals[N]},signalRef(N){if(this.signals[N])return Na(this.signals[N]);g.hasOwnProperty(this.lambdas,N)||(this.lambdas[N]=this.add(new mb("operator",null,void 0,void 0)));return Na(this.lambdas[N])},parseLambdas(){const N=Object.keys(this.lambdas);for(let G=0,ka=N.length;G<ka;++G){var da=N[G];const sa=ra.parseExpression(da,this);da=this.lambdas[da];da.params=
sa.$params;da.update=sa.$expr}},property(N){return N&&N.signal?this.signalRef(N.signal):N},objectProperty(N){return N&&g.isObject(N)?this.signalRef(N.signal||Bc(N)):N},exprRef(N,da){N={expr:ra.parseExpression(N,this)};da&&(N.expr.$name=da);return Na(this.add(ta(N)))},addBinding(N,da){this.bindings||g.error("Nested signals do not support binding: "+g.stringValue(N));this.bindings.push(g.extend({signal:N},da))},addScaleProj(N,da){g.hasOwnProperty(this.scales,N)&&g.error("Duplicate scale or projection name: "+
g.stringValue(N));this.scales[N]=this.add(da)},addScale(N,da){this.addScaleProj(N,fb(da))},addProjection(N,da){this.addScaleProj(N,Tc(da))},getScale(N){this.scales[N]||g.error("Unrecognized scale name: "+g.stringValue(N));return this.scales[N]},scaleRef(N){return Na(this.getScale(N))},scaleType(N){return this.getScale(N).params.type},projectionRef(N){return this.scaleRef(N)},projectionType(N){return this.scaleType(N)},addData(N,da){g.hasOwnProperty(this.data,N)&&g.error("Duplicate data set name: "+
g.stringValue(N));return this.data[N]=da},getData(N){this.data[N]||g.error("Undefined data set name: "+g.stringValue(N));return this.data[N]},addDataPipeline(N,da){g.hasOwnProperty(this.data,N)&&g.error("Duplicate data set name: "+g.stringValue(N));return this.addData(N,Fa.fromEntries(this,da))}};r.AxisDomainRole="axis-domain";r.AxisGridRole="axis-grid";r.AxisLabelRole="axis-label";r.AxisRole="axis";r.AxisTickRole="axis-tick";r.AxisTitleRole="axis-title";r.DataScope=Fa;r.FrameRole="frame";r.LegendEntryRole=
"legend-entry";r.LegendLabelRole="legend-label";r.LegendRole="legend";r.LegendSymbolRole="legend-symbol";r.LegendTitleRole="legend-title";r.MarkRole="mark";r.Scope=Jb;r.ScopeRole="scope";r.config=dd;r.parse=function(N,da,G){g.isObject(N)||g.error("Input Vega specification must be an object.");da=g.mergeConfig(dd(),da,N.config);return Z(N,new Jb(da,G)).toRuntime()};r.signal=lb;r.signalUpdates=O;r.stream=Ga})};
shadow$provide[64]=function(ac,Cb,Wc,nb){function r(Na){var vb=Object.create(null);Na&&Object.keys(Na).forEach(function(pb){if("default"!==pb){var Mb=Object.getOwnPropertyDescriptor(Na,pb);Object.defineProperty(vb,pb,Mb.get?Mb:{enumerable:!0,get:function(){return Na[pb]}})}});vb.default=Na;return Object.freeze(vb)}var g=Cb(21),ra=Cb(29),ib=Cb(31),Fb=Cb(35),Zb=Cb(36),oc=Cb(38),kc=Cb(39),Ac=Cb(40),Ab=Cb(48),ec=Cb(53),pc=Cb(54);Wc=Cb(55);ac=Cb(56);var Ya=Cb(30),rb=Cb(23),Ib=Cb(28),Nb=Cb(34),Bb=Cb(33),
Ob=Cb(37),Xa=Cb(61),qb=Cb(24),Oa=Cb(59),Ca=Cb(63),Qa=Cb(60),lb=Cb(57),mb=Cb(62);Cb=r(ib);Fb=r(Fb);Zb=r(Zb);oc=r(oc);kc=r(kc);Ac=r(Ac);Ab=r(Ab);ec=r(ec);pc=r(pc);Wc=r(Wc);ac=r(ac);g.extend(ra.transforms,Cb,Fb,Zb,oc,kc,Ab,Ac,ec,pc,Wc,ac);Object.defineProperty(nb,"Dataflow",{enumerable:!0,get:function(){return ra.Dataflow}});Object.defineProperty(nb,"EventStream",{enumerable:!0,get:function(){return ra.EventStream}});Object.defineProperty(nb,"MultiPulse",{enumerable:!0,get:function(){return ra.MultiPulse}});
Object.defineProperty(nb,"Operator",{enumerable:!0,get:function(){return ra.Operator}});Object.defineProperty(nb,"Parameters",{enumerable:!0,get:function(){return ra.Parameters}});Object.defineProperty(nb,"Pulse",{enumerable:!0,get:function(){return ra.Pulse}});Object.defineProperty(nb,"Transform",{enumerable:!0,get:function(){return ra.Transform}});Object.defineProperty(nb,"changeset",{enumerable:!0,get:function(){return ra.changeset}});Object.defineProperty(nb,"definition",{enumerable:!0,get:function(){return ra.definition}});
Object.defineProperty(nb,"ingest",{enumerable:!0,get:function(){return ra.ingest}});Object.defineProperty(nb,"isTuple",{enumerable:!0,get:function(){return ra.isTuple}});Object.defineProperty(nb,"transform",{enumerable:!0,get:function(){return ra.transform}});Object.defineProperty(nb,"transforms",{enumerable:!0,get:function(){return ra.transforms}});Object.defineProperty(nb,"tupleid",{enumerable:!0,get:function(){return ra.tupleid}});Object.defineProperty(nb,"interpolate",{enumerable:!0,get:function(){return Bb.interpolate}});
Object.defineProperty(nb,"interpolateColors",{enumerable:!0,get:function(){return Bb.interpolateColors}});Object.defineProperty(nb,"interpolateRange",{enumerable:!0,get:function(){return Bb.interpolateRange}});Object.defineProperty(nb,"quantizeInterpolator",{enumerable:!0,get:function(){return Bb.quantizeInterpolator}});Object.defineProperty(nb,"scale",{enumerable:!0,get:function(){return Bb.scale}});Object.defineProperty(nb,"scheme",{enumerable:!0,get:function(){return Bb.scheme}});Object.defineProperty(nb,
"projection",{enumerable:!0,get:function(){return Ob.projection}});Object.defineProperty(nb,"View",{enumerable:!0,get:function(){return Xa.View}});Object.defineProperty(nb,"defaultLocale",{enumerable:!0,get:function(){return qb.defaultLocale}});Object.defineProperty(nb,"formatLocale",{enumerable:!0,get:function(){return qb.numberFormatDefaultLocale}});Object.defineProperty(nb,"locale",{enumerable:!0,get:function(){return qb.locale}});Object.defineProperty(nb,"resetDefaultLocale",{enumerable:!0,get:function(){return qb.resetDefaultLocale}});
Object.defineProperty(nb,"timeFormatLocale",{enumerable:!0,get:function(){return qb.timeFormatDefaultLocale}});Object.defineProperty(nb,"expressionFunction",{enumerable:!0,get:function(){return Oa.expressionFunction}});Object.defineProperty(nb,"parse",{enumerable:!0,get:function(){return Ca.parse}});Object.defineProperty(nb,"runtimeContext",{enumerable:!0,get:function(){return Qa.context}});Object.defineProperty(nb,"codegenExpression",{enumerable:!0,get:function(){return lb.codegenExpression}});Object.defineProperty(nb,
"parseExpression",{enumerable:!0,get:function(){return lb.parseExpression}});Object.defineProperty(nb,"parseSelector",{enumerable:!0,get:function(){return mb.parseSelector}});nb.version="5.25.0";Object.keys(g).forEach(function(Na){"default"===Na||nb.hasOwnProperty(Na)||Object.defineProperty(nb,Na,{enumerable:!0,get:function(){return g[Na]}})});Object.keys(Ya).forEach(function(Na){"default"===Na||nb.hasOwnProperty(Na)||Object.defineProperty(nb,Na,{enumerable:!0,get:function(){return Ya[Na]}})});Object.keys(rb).forEach(function(Na){"default"===
Na||nb.hasOwnProperty(Na)||Object.defineProperty(nb,Na,{enumerable:!0,get:function(){return rb[Na]}})});Object.keys(Ib).forEach(function(Na){"default"===Na||nb.hasOwnProperty(Na)||Object.defineProperty(nb,Na,{enumerable:!0,get:function(){return Ib[Na]}})});Object.keys(Nb).forEach(function(Na){"default"===Na||nb.hasOwnProperty(Na)||Object.defineProperty(nb,Na,{enumerable:!0,get:function(){return Nb[Na]}})})};
shadow$provide[65]=function(ac,Cb,Wc,nb){(function(r,g){"object"===typeof nb&&"undefined"!==typeof Wc?g(nb,Cb(64)):"function"===typeof define&&define.amd?define(["exports","vega"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vegaLite={},r.vega))})(this,function(r,g){function ra(a,b){if(a.not)ra(a.not,b);else if(a.and)for(const e of a.and)ra(e,b);else if(a.or)for(const e of a.or)ra(e,b);else b(a)}function ib(a,b){return a.not?{not:ib(a.not,b)}:a.and?{and:a.and.map(e=>ib(e,b))}:a.or?
{or:a.or.map(e=>ib(e,b))}:b(a)}function Fb(a){throw Error(a);}function Zb(a,b){const e={};for(const h of b)g.hasOwnProperty(a,h)&&(e[h]=a[h]);return e}function oc(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function kc(a){if(g.isNumber(a))return a;a=g.isString(a)?a:p(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const h=a.charCodeAt(e);b=(b<<5)-b+h;b&=b}return b}function Ac(a){return!1===a||null===a}function Ab(a,b){return a.includes(b)}function ec(a,b){let e=
0;for(const h of a.entries()){const [k,A]=h;if(b(A,k,e++))return!0}return!1}function pc(a,b){let e=0;for(const h of a.entries()){const [k,A]=h;if(!b(A,k,e++))return!1}return!0}function Ya(a){for(var b=arguments.length,e=Array(1<b?b-1:0),h=1;h<b;h++)e[h-1]=arguments[h];for(const k of e){let A;b=a;e=null!=(A=k)?A:{};for(const Q of ee(e))g.writeConfig(b,Q,e[Q],!0)}return a}function rb(a,b){const e=[],h={};for(const k of a)a=b(k),a in h||(h[a]=1,e.push(k));return e}function Ib(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function Nb(a,b){for(const e of a)if(b.has(e))return!0;return!1}function Bb(a){const b=new Set;for(const e of a){const h=g.splitAccessPath(e).map((k,A)=>0===A?k:`[${k}]`);a=h.map((k,A)=>h.slice(0,A+1).join(""));for(const k of a)b.add(k)}return b}function Ob(a,b){return void 0===a||void 0===b?!0:Nb(Bb(a),Bb(b))}function Xa(a){return 0===ee(a).length}function qb(a){return!0===a||!1===a}function Oa(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function Ca(a,b){return a.not?`!(${Ca(a.not,b)})`:a.and?`(${a.and.map(e=>Ca(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>Ca(e,b)).join(") || (")})`:b(a)}function Qa(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&Qa(a[e],b)&&delete a[e];return Xa(a)}function lb(a){return a.charAt(0).toUpperCase()+a.substr(1)}function mb(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=g.splitAccessPath(a),h=[];for(let k=1;k<=e.length;k++){const A=`[${e.slice(0,
k).map(g.stringValue).join("][")}]`;h.push(`${b}${A}`)}return h.join(" \x26\x26 ")}function Na(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${g.stringValue(g.splitAccessPath(a).join("."))}]`}function vb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function pb(a){return`${g.splitAccessPath(a).map(vb).join("\\.")}`}function Mb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Vb(a){return`${g.splitAccessPath(a).join(".")}`}
function ob(a){return a?g.splitAccessPath(a).length:0}function ma(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const h of b)if(void 0!==h)return h}function Y(a){const b=++Hk;return a?String(a)+b:b}function Ga(a){return Ea(a)?a:`__${a}`}function Ea(a){return a.startsWith("__")}function db(a){if(void 0!==a)return(a%360+360)%360}function ba(a){return g.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function na(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let h;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(h=e;0!==h--;)if(!na(a[h],b[h]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(h of a.entries())if(!b.has(h[0]))return!1;for(h of a.entries())if(!na(h[1],b.get(h[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(h of a.entries())if(!b.has(h[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(h=e;0!==h--;)if(a[h]!==b[h])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Gk.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Gk.toString)return a.toString()===b.toString();const k=Object.keys(a);e=k.length;if(e!==Object.keys(b).length)return!1;for(h=e;0!==h--;)if(!Object.prototype.hasOwnProperty.call(b,
k[h]))return!1;for(h=e;0!==h--;)if(e=k[h],!na(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function p(a){const b=[];return function k(h){h&&h.toJSON&&"function"===typeof h.toJSON&&(h=h.toJSON());if(void 0!==h){if("number"==typeof h)return isFinite(h)?""+h:"null";if("object"!==typeof h)return JSON.stringify(h);var A;if(Array.isArray(h)){var Q="[";for(A=0;A<h.length;A++)A&&(Q+=","),Q+=k(h[A])||"null";return Q+"]"}if(null===h)return"null";if(b.includes(h))throw new TypeError("Converting circular structure to JSON");
var ja=b.push(h)-1,ua=Object.keys(h).sort();Q="";for(A=0;A<ua.length;A++){const Ra=ua[A],yb=k(h[Ra]);yb&&(Q&&(Q+=","),Q+=JSON.stringify(Ra)+":"+yb)}b.splice(ja,1);return`{${Q}}`}}(a)}function L(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function O(a){return"color"===a||"fill"===a||"stroke"===a}function f(a){return v(a)!==a}function v(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return a}function m(a){if(a in ek)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function C(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function B(a){switch(a){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function z(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function E(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function D(a){return a in fk}function V(a){return"width"===a?"x":"y"}function Aa(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return El;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Sl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function W(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function u(a){return!!a&&!!a.argmin}function K(a){return!!a&&!!a.argmax}function va(a){return g.isString(a)&&!!gk[a]}function Ja(a){return g.isString(a)&&Xl.has(a)}function Za(a){g.isBoolean(a)&&(a=ff(a,void 0));return"bin"+ee(a).map(b=>Ba(a[b])?Oa(`_${b}_${Wi(a[b])}`):Oa(`_${b}_${a[b]}`)).join("")}function Wa(a){return!0===a||g.isObject(a)&&!a.binned}function X(a){return"binned"===a||g.isObject(a)&&!0===a.binned}function Ba(a){return null==
a?void 0:a.param}function ab(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Gb(a){return!(null==a||!a.expr)}function tc(a){const b=ee(a||{}),e={};for(const h of b)e[h]=Ia(a[h]);return e}function wc(a){var b=Object.assign({},a),e=a.anchor;const h=a.frame,k=a.offset,A=a.orient,Q=a.angle,ja=a.limit;var ua=a.color,
Ra=a.subtitleColor;const yb=a.subtitleFont,Rb=a.subtitleFontSize,Hc=a.subtitleFontStyle,sd=a.subtitleFontWeight,Lc=a.subtitleLineHeight,od=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);ua=Object.assign({},b,ua?{fill:ua}:{});e=Object.assign({},
e?{anchor:e}:{},h?{frame:h}:{},k?{offset:k}:{},A?{orient:A}:{},void 0!==Q?{angle:Q}:{},void 0!==ja?{limit:ja}:{});Ra=Object.assign({},Ra?{subtitleColor:Ra}:{},yb?{subtitleFont:yb}:{},Rb?{subtitleFontSize:Rb}:{},Hc?{subtitleFontStyle:Hc}:{},sd?{subtitleFontWeight:sd}:{},Lc?{subtitleLineHeight:Lc}:{},od?{subtitlePadding:od}:{});a=Zb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ua,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:Ra}}function vc(a){return g.isString(a)||g.isArray(a)&&
g.isString(a[0])}function Ec(a){return!(null==a||!a.signal)}function zc(a){return!!a.step}function Rc(a){return g.isArray(a)?!1:"field"in a&&"data"in a}function Sd(a){const b=g.isArray(a.condition)?a.condition.map(Wb):Wb(a.condition);return Object.assign({},Ia(a),{condition:b})}function Ia(a){if(Gb(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Wb(a){if(Gb(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},
{signal:a},b)}return a}function kb(a){if(Gb(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Ec(a)?a:void 0!==a?{value:a}:void 0}function bc(a){return Ec(a)?a.signal:g.stringValue(a.value)}function Yb(a){return Ec(a)?a.signal:null==a?null:g.stringValue(a)}function hc(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function yc(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:k,ignoreVgConfig:A}=h;
if(k&&void 0!==b[k])return b[k];if(void 0!==b[a])return b[a];if(!A||k&&k!==a)return Gc(a,b,e,h)}function Gc(a,b,e){let {vgChannel:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return ma(h?ad(a,b,e.style):void 0,ad(a,b,e.style),h?e[b.type][h]:void 0,e[b.type][a],h?e.mark[h]:e.mark[a])}function ad(a,b,e){return Nd(a,hc(b),e)}function Nd(a,b,e){b=g.array(b);let h;for(const k of b)(b=e[k])&&void 0!==b[a]&&(h=b[a]);return h}function ud(a,b){return g.array(a).reduce((e,h)=>{e.field.push(td(h,
b));let k;e.order.push(null!=(k=h.sort)?k:"ascending");return e},{field:[],order:[]})}function Fa(a,b){const e=[...a];b.forEach(h=>{for(const k of e)if(na(k,h))return;e.push(h)});return e}function hb(a,b){return na(a,b)||!b?a:a?[...g.array(a),...g.array(b)].join(", "):b}function ub(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if((vc(e)||Ec(e))&&(vc(b)||Ec(b)))return{explicit:a.explicit,value:hb(e,b)};if(vc(e)||Ec(e))return{explicit:a.explicit,value:e};
if(vc(b)||Ec(b))return{explicit:a.explicit,value:b};if(!(vc(e)||Ec(e)||vc(b)||Ec(b)))return{explicit:a.explicit,value:Fa(e,b)};throw Error("It should never reach here");}function la(a,b,e){a:if("object"===typeof b&&null!==b){var h=b[Symbol.toPrimitive];if(void 0!==h){b=h.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[b]=e;return a}function H(a,b,e){b=ya(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function ya(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return b.get(a)}function Ka(a){return`Invalid specification ${p(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function bb(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function jb(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function Eb(a){return a?`Dropping "fit-${a}" because spec has discrete ${B(a)}.`:'Dropping "fit" because spec has discrete size.'}function mc(a){return`Unknown field for ${a}. Cannot calculate view size.`}function cc(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function gc(a){return`Selection not supported for ${a} yet.`}function Sc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function ed(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}function fd(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function Rd(a,b){const {fill:e,stroke:h}=b;return`Dropping color ${a} as the plot also has ${e&&h?"fill and stroke":
e?"fill":"stroke"}.`}function Td(a,b){return`Dropping ${p(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function Cd(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function be(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function ce(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function Vd(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function Te(a,b){return`Invalid ${a}: ${p(b)}.`}function $d(a){return`1D error band does not support ${a}.`}function M(a){return`Channel ${a} is required for "binned" bin.`}function Z(){Qi.warn(...arguments)}function La(){Qi.debug(...arguments)}function gb(a){if(a&&g.isObject(a))for(const b of Xk)if(b in a)return!0;return!1}function Jb(a){ba(a)&&(a=+a);if(g.isNumber(a))return a-1;var b=a.toLowerCase();const e=pi.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Nj.indexOf(b);
if(-1!==b)return b;throw Error(Te("month",a));}function Tb(a){ba(a)&&(a=+a);if(g.isNumber(a))return a%7;var b=a.toLowerCase();const e=yi.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Kk.indexOf(b);if(-1!==b)return b;throw Error(Te("day",a));}function Bc(a,b){const e=[];b&&void 0!==a.day&&1<ee(a).length&&(Z(`Dropping day from datetime ${p(a)} as day cannot be combined with other units.`),a=sf(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var h=b?Jb(a.month):a.month;
e.push(h)}else if(void 0!==a.quarter){if(b)if(h=a.quarter,ba(h)&&(h=+h),g.isNumber(h))4<h&&Z(Te("quarter",h)),--h;else throw Error(Te("quarter",h));else h=a.quarter;e.push(g.isNumber(h)?3*h:`${h}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?Tb(a.day):a.day,e.push(g.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const k of["hours","minutes","seconds","milliseconds"])b=a[k],e.push("undefined"===typeof b?0:b);return e}function ic(a){const b=Bc(a,!0).join(", ");return a.utc?`utc(${b})`:
`datetime(${b})`}function Jc(a){const b=Bc(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function dd(a){return g.isObject(a)?a.binned:a&&a.startsWith("binned")}function Oc(a){return Xk.filter(b=>Jd(a,b))}function vd(a){a=Oc(a);return a[a.length-1]}function Jd(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function Fd(a,b){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const h=mb(b),k=a.startsWith("utc")?"utc":"";const A={};for(const ja of Xk)if(Jd(a,ja)){var Q="quarter"===ja?`(${k}quarter(${h})-1)`:`${k}${ja}(${h})`;A[ja]=Q;Q=ja}e&&(A[Q]+="+1");e=Bc(A,!1).join(", ");return A.utc?`utc(${e})`:`datetime(${e})`}function Zd(a){if(a)return a=Oc(a),`timeUnitSpecifier(${p(a)}, ${p(Qk)})`}function Md(a){if(a){var b;g.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:g.isObject(a)&&(b=Object.assign({},a,a.unit?
{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function se(a){var b=Md(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+ee(e).map(h=>Oa(`${"unit"===h?"":`_${h}_`}${e[h]}`)).join(""):(b?"utc":"")+"timeunit"+ee(e).map(h=>Oa(`_${h}_${e[h]}`)).join("")}function Ae(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k=>k;var e=Md(a);const h=vd(e.unit);if(h&&"day"!==h){const k={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:A,part:Q}=hf(h,e.step);e=Object.assign({},k,{[Q]:+k[Q]+A});return`${b(ic(e))} - ${b(ic(k))}`}}function hf(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(uj[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function cf(a){return!(null==a||!a.field)&&void 0!==a.equal}function df(a){return!(null==a||!a.field)&&void 0!==
a.lt}function re(a){return!(null==a||!a.field)&&void 0!==a.lte}function nf(a){return!(null==a||!a.field)&&void 0!==a.gt}function T(a){return!(null==a||!a.field)&&void 0!==a.gte}function ta(a){if(null==a?0:a.field)if(g.isArray(a.range)&&2===a.range.length||Ec(a.range))return!0;return!1}function eb(a){return!(null==a||!a.field)&&(g.isArray(a.oneOf)||g.isArray(a.in))}function zb(a){return eb(a)||cf(a)||ta(a)||df(a)||nf(a)||re(a)||T(a)}function Xb(a,b){return jf(a,{timeUnit:b,wrapTime:!0})}function Cc(a,
b){return a.map(e=>Xb(e,b))}function Ub(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,h=Md(a.timeUnit);const {unit:k,binned:A}=h||{};h=td(a,{expr:"datum"});e=k?`time(${A?h:Fd(k,e)})`:h;if(cf(a))return`${e}===${Xb(a.equal,k)}`;if(df(a))return`${e}<${Xb(a.lt,k)}`;if(nf(a))return`${e}>${Xb(a.gt,k)}`;if(re(a))return`${e}<=${Xb(a.lte,k)}`;if(T(a))return`${e}>=${Xb(a.gte,k)}`;if(eb(a))return`indexof([${Cc(a.oneOf,k).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return I(e,a.valid);if(ta(a)){var {range:Q}=a;h=Ec(Q)?{signal:`${Q.signal}[0]`}:Q[0];Q=Ec(Q)?{signal:`${Q.signal}[1]`}:Q[1];if(null!==h&&null!==Q&&b)return"inrange("+e+", ["+Xb(h,k)+", "+Xb(Q,k)+"])";b=[];null!==h&&b.push(`${e} >= ${Xb(h,k)}`);null!==Q&&b.push(`${e} <= ${Xb(Q,k)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${p(a)}`);}function I(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:`!isValid(${a}) || !isFinite(+${a})`}
function ea(a){return zb(a)&&a.timeUnit?Object.assign({},a,{timeUnit:Md(a.timeUnit)}):a}function Ta(a){return"quantitative"===a||"temporal"===a}function $b(a){return"ordinal"===a||"nominal"===a}function Pc(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function xc(a){return vj.has(a)}function Tc(a){return Rk.has(a)}
function md(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return gh.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return gh.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return gh.has(a);
case "nice":return gh.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Tc(a)&&!Ab(["log","time","utc","threshold","quantile"],a)}}function de(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!O(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function Sa(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!ki[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return gh.has(b)||
"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return gh.has(b)||zi.has(b)||Ab(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||zi.has(b)}}function fb(a){return["line","area","trail"].includes(a)}function qc(a){return["rect","bar","image","arc"].includes(a)}function pd(a){return a.type}function Kc(a){return a&&void 0!=a.band}function Xc(a){const {channel:b,
channelDef:e,markDef:h,scale:k,config:A}=a;a=Qd(a);if(Pa(e)&&!Ja(e.aggregate)&&k&&gh.has(k.get("type"))){{let {fieldDef:ja,channel:ua,markDef:Ra,ref:yb,config:Rb}={fieldDef:e,channel:b,markDef:h,ref:a,config:A};if(fb(Ra.type))a=yb;else if(null===yc("invalid",Ra,Rb)){var Q=ua;a=Qc(ja,!0);Q="y"===v(Q)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},Q),yb]}else a=yb}return a}return a}function Qc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return I(g.isString(a)?
a:td(a,{expr:"datum"}),!b)}function qd(a,b,e,h){const k={};b&&(k.scale=b);lc(a)?({datum:a}=a,gb(a)?k.signal=ic(a):Ec(a)?k.signal=a.signal:Gb(a)?k.signal=a.expr:k.value=a):k.field=td(a,e);if(h){const {offset:A,band:Q}=h;A&&(k.offset=A);Q&&(k.band=Q)}return k}function jd(a){let {scaleName:b,fieldOrDatumDef:e,fieldOrDatumDef2:h,offset:k,startSuffix:A,endSuffix:Q="end",bandPosition:ja=.5}=a;var ua=!Ec(ja)&&0<ja&&1>ja?"datum":void 0;a=td(e,{expr:ua,suffix:A});const Ra=void 0!==h?td(h,{expr:ua}):td(e,{suffix:Q,
expr:ua});ua={};0===ja||1===ja?(ua.scale=b,ua.field=0===ja?a:Ra):(a=Ec(ja)?`(1-${ja.signal}) * ${a} + ${ja.signal} * ${Ra}`:`${1-ja} * ${a} + ${ja} * ${Ra}`,ua.signal=`scale("${b}", ${a})`);k&&(ua.offset=k);return ua}function Qd(a){let {channel:b,channelDef:e,channel2Def:h,markDef:k,config:A,scaleName:Q,scale:ja,stack:ua,offset:Ra,defaultRef:yb,bandPosition:Rb}=a;if(e){if($c(e)){a=null==ja?void 0:ja.get("type");if(Uc(e)){null!=Rb||(Rb=N({fieldDef:e,fieldDef2:h,markDef:k,config:A}));const {bin:Lc,
timeUnit:od,type:Ld}=e;if(Wa(Lc)||Rb&&od&&"temporal"===Ld)return(null==ua?0:ua.impute)?qd(e,Q,{binSuffix:"mid"},{offset:Ra}):Rb&&!xc(a)?jd({scaleName:Q,fieldOrDatumDef:e,bandPosition:Rb,offset:Ra}):qd(e,Q,Ze(e,b)?{binSuffix:"range"}:{},{offset:Ra});if(X(Lc)){if(Pa(h))return jd({scaleName:Q,fieldOrDatumDef:e,fieldOrDatumDef2:h,bandPosition:Rb,offset:Ra});Z(M("x"===b?"x2":"y2"))}}var Hc;let sd;return qd(e,Q,xc(a)?{binSuffix:"range"}:{},{offset:Ra,band:"band"===a?null!=(sd=null!=(Hc=Rb)?Hc:e.bandPosition)?
sd:.5:void 0})}if(bd(e))return Hc=Ra?{offset:Ra}:{},Object.assign({},Ad(b,e.value),Hc)}g.isFunction(yb)&&(yb=yb());return yb?Object.assign({},yb,Ra?{offset:Ra}:{}):yb}function Ad(a,b){return Ab(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:Ab(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:kb(b)}function Xd(a){return a&&"number"!==a&&"time"!==a}function ye(a){let {fieldOrDatumDef:b,format:e,formatType:h,expr:k,normalizeStack:A,config:Q}=a;if(Xd(h))return Ge({fieldOrDatumDef:b,format:e,formatType:h,
expr:k,config:Q});a=Oe(b,k,A);var ja=dc(b);if(void 0===e&&void 0===h&&Q.customFormatTypes){if("quantitative"===ja){if(A&&Q.normalizedNumberFormatType)return Ge({fieldOrDatumDef:b,format:Q.normalizedNumberFormat,formatType:Q.normalizedNumberFormatType,expr:k,config:Q});if(Q.numberFormatType)return Ge({fieldOrDatumDef:b,format:Q.numberFormat,formatType:Q.numberFormatType,expr:k,config:Q})}if("temporal"===ja&&Q.timeFormatType&&Pa(b)&&void 0===b.timeUnit)return Ge({fieldOrDatumDef:b,format:Q.timeFormat,
formatType:Q.timeFormatType,expr:k,config:Q})}if(Wd(b)){var ua,Ra;{a={field:a,timeUnit:Pa(b)?null==(ua=Md(b.timeUnit))?void 0:ua.unit:void 0,format:e,formatType:Q.timeFormatType,rawTimeFormat:Q.timeFormat,isUTCScale:yd(b)&&(null==(Ra=b.scale)?void 0:Ra.type)===$g.UTC};let {field:yb,timeUnit:Rb,format:Hc,formatType:sd,rawTimeFormat:Lc,isUTCScale:od}=a;!Rb||Hc?!Rb&&sd?ua=`${sd}(${yb}, '${Hc}')`:(Hc=g.isString(Hc)?Hc:Lc,ua=`${od?"utc":"time"}Format(${yb}, '${Hc}')`):(ua=Rb,Ra=yb,a=od,ua?(ja=Zd(ua),ua=
`${a||ua.startsWith("utc")?"utc":"time"}Format(${Ra}, ${ja})`):ua=void 0)}return ua?{signal:ua}:void 0}e=Fc({type:ja,specifiedFormat:e,config:Q,normalizeStack:A});return Pa(b)&&Wa(b.bin)?(ua=td(b,{expr:k,binSuffix:"end"}),{signal:Dc(a,ua,e,h,Q)}):e||"quantitative"===dc(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Oe(a,b,e){if(Pa(a))return e?`${td(a,{expr:b,suffix:"end"})}-${td(a,{expr:b,suffix:"start"})}`:td(a,{expr:b});({datum:a}=a);a=gb(a)?ic(a):
`${p(a)}`;return a}function Ge(a){let {fieldOrDatumDef:b,format:e,formatType:h,expr:k,normalizeStack:A,config:Q,field:ja}=a;null!=ja||(ja=Oe(b,k,A));return"datum.value"!==ja&&Pa(b)&&Wa(b.bin)?(a=td(b,{expr:k,binSuffix:"end"}),{signal:Dc(ja,a,e,h,Q)}):{signal:`${h}(${ja}${e?`, ${p(e)}`:""})`}}function tf(a,b,e,h,k,A){if(!g.isString(h)||!Xd(h))if(void 0!==e||void 0!==h||!k.customFormatTypes||"quantitative"!==dc(a)||!(k.normalizedNumberFormatType&&Dd(a)&&"normalize"===a.stack||k.numberFormatType)){if(Dd(a)&&
"normalize"===a.stack&&k.normalizedNumberFormat)return Fc({type:"quantitative",config:k,normalizeStack:!0});if(Wd(a)){let Q;a=Pa(a)?null==(Q=Md(a.timeUnit))?void 0:Q.unit:void 0;if(void 0===a&&k.customFormatTypes&&k.timeFormatType)return;{let {specifiedFormat:ja,timeUnit:ua,config:Ra,omitTimeFormatConfig:yb}={specifiedFormat:e,timeUnit:a,config:k,omitTimeFormatConfig:A};e=ja?ja:ua?{signal:Zd(ua)}:yb?void 0:Ra.timeFormat}return e}return Fc({type:b,specifiedFormat:e,config:k})}}function ld(a,b,e){if(a&&
(Ec(a)||"number"===a||"time"===a))return a;if(Wd(b)&&"time"!==e&&"utc"!==e){let h;return Pa(b)&&(null==(h=Md(null==b?void 0:b.timeUnit))?0:h.utc)?"utc":"time"}}function Fc(a){let {type:b,specifiedFormat:e,config:h,normalizeStack:k}=a;if(g.isString(e))return e;if("quantitative"===b)return k?h.normalizedNumberFormat:h.numberFormat}function id(a,b,e,h){if(Xd(e))return`${e}(${a}${b?`, ${p(b)}`:""})`;let k;b=null!=(k=g.isString(b)?b:void 0)?k:h.numberFormat;return`format(${a}, "${b||""}")`}function Dc(a,
b,e,h,k){if(void 0===e&&void 0===h&&k.customFormatTypes&&k.numberFormatType)return Dc(a,b,k.numberFormat,k.numberFormatType,k);const A=id(a,e,h,k);b=id(b,e,h,k);return`${I(a,!1)} ? "null" : ${A} + "${" – "}" + ${b}`}function Gd(a){return a&&("count"===a.op||!!a.field)}function ae(a){return a&&g.isArray(a)}function Yd(a){return"row"in a||"column"in a}function le(a){const {field:b,timeUnit:e,bin:h,aggregate:k}=a;return Object.assign({},e?{timeUnit:e}:{},h?{bin:h}:{},k?{aggregate:k}:{},{field:b})}function N(a){let {fieldDef:b,
fieldDef2:e,markDef:h,config:k}=a;if($c(b)&&void 0!==b.bandPosition)return b.bandPosition;if(Pa(b)){const {timeUnit:A,bin:Q}=b;if(A&&!e)return Gc("timeUnitBandPosition",h,k);if(Wa(Q))return.5}}function da(a){let {channel:b,fieldDef:e,fieldDef2:h,markDef:k,config:A,scaleType:Q,useVlSizeChannel:ja}=a;a=B(b);a=yc(ja?"size":a,k,A,{vgChannel:a});if(void 0!==a)return a;if(Pa(e)){const {timeUnit:ua,bin:Ra}=e;if(ua&&!h)return{band:Gc("timeUnitBandSize",k,A)};if(Wa(Ra)&&!xc(Q))return{band:1}}if(qc(k.type)){if(Q){if(xc(Q)){let yb;
return(null==(yb=A[k.type])?void 0:yb.discreteBandSize)||{band:1}}let Ra;return null==(Ra=A[k.type])?void 0:Ra.continuousBandSize}let ua;return null==(ua=A[k.type])?void 0:ua.discreteBandSize}}function G(a,b,e,h){return Wa(a.bin)||a.timeUnit&&Uc(a)&&"temporal"===a.type?void 0!==N({fieldDef:a,fieldDef2:b,markDef:e,config:h}):!1}function ka(a){return a&&"condition"in a}function sa(a){a=null==a?void 0:a.condition;return!!a&&!g.isArray(a)&&Pa(a)}function Ha(a){a=null==a?void 0:a.condition;return!!a&&
!g.isArray(a)&&$c(a)}function Pa(a){return a&&(!!a.field||"count"===a.aggregate)}function dc(a){return null==a?void 0:a.type}function lc(a){return a&&"datum"in a}function rc(a){return Uc(a)&&!ze(a)||Ic(a)}function sc(a){return Uc(a)&&"quantitative"===a.type&&!a.bin||Ic(a)}function Ic(a){return lc(a)&&g.isNumber(a.datum)}function $c(a){return Pa(a)||lc(a)}function Uc(a){return a&&("field"in a||"count"===a.aggregate)&&"type"in a}function bd(a){return a&&"value"in a&&"value"in a}function yd(a){return a&&
("scale"in a||"sort"in a)}function Dd(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function Od(a){return a&&("format"in a||"formatType"in a)}function He(a){return oc(a,["legend","axis","header","scale"])}function td(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const h=b.prefix;let k=b.suffix,A="";if("count"===a.aggregate)e=Ga("count");else{let Q;if(!b.nofn)if("op"in a)Q=a.op;else{const {bin:ja,aggregate:ua,timeUnit:Ra}=a;if(Wa(ja)){Q=Za(ja);let yb,Rb;k=(null!=
(yb=b.binSuffix)?yb:"")+(null!=(Rb=b.suffix)?Rb:"")}else if(ua)K(ua)?(A=`["${e}"]`,e=`argmax_${ua.argmax}`):u(ua)?(A=`["${e}"]`,e=`argmin_${ua.argmin}`):Q=String(ua);else if(Ra&&!dd(Ra)){Q=se(Ra);let yb;k=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(yb=b.suffix)?yb:"")}}Q&&(e=e?`${Q}_${e}`:Q)}k&&(e=`${e}_${k}`);h&&(e=`${h}_${e}`);return b.forAs?Vb(e):b.expr?Na(e,b.expr)+A:pb(e)+A}function ze(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Pa(a)&&
!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function Ce(a,b){const {field:e,bin:h,timeUnit:k,aggregate:A}=a;if("count"===A)return b.countTitle;if(Wa(h))return`${e} (binned)`;if(k&&!dd(k)){let Q;if(a=null==(Q=Md(k))?void 0:Q.unit)return`${e} (${Oc(a).join("-")})`}else if(A)return K(A)?`${e} for max ${A.argmax}`:u(A)?`${e} for min ${A.argmin}`:`${lb(A)} of ${e}`;return e}function Hd(a,b,e){let {allowDisabling:h,includeDefault:k=!0}=e,A;e=null==(A=he(a))?void 0:A.title;
if(!Pa(a))return null!=e?e:a.title;b=k?Li(a,b):void 0;if(h)return ma(e,a.title,b);let Q;return null!=(Q=null!=e?e:a.title)?Q:b}function he(a){if(Dd(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function De(a){if(Od(a)){const {format:k,formatType:A}=a;return{format:k,formatType:A}}let b;a=null!=(b=he(a))?b:{};const {format:e,formatType:h}=a;return{format:e,formatType:h}}function mf(a,b){switch(b){case "latitude":case "longitude":return"quantitative";
case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&g.isArray(a.sort))return"ordinal";const {aggregate:e,bin:h,timeUnit:k}=a;if(k)return"temporal";if(h||e&&!K(e)&&!u(e))return"quantitative";let A;if(yd(a)&&(null==(A=a.scale)?0:A.type))switch(qh[a.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function bf(a){if(Pa(a))return a;if(sa(a))return a.condition}function ue(a){if($c(a))return a;
if(Ha(a))return a.condition}function ve(a,b,e){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return g.isString(a)||g.isNumber(a)||g.isBoolean(a)?(h=g.isString(a)?"string":g.isNumber(a)?"number":"boolean",Z(`Channel ${b} is a ${h}. Converted to {value: ${p(a)}}.`),{value:a}):$c(a)?uf(a,b,e,h):Ha(a)?Object.assign({},a,{condition:uf(a.condition,b,e,h)}):a}function uf(a,b,e,h){if(Od(a)){var k=Object.assign({},a),A=a.formatType;k=(delete k.format,delete k.formatType,k);if(Xd(A)&&!e.customFormatTypes)return Z(fd(b)),
uf(k,b,e,h)}else if((A=Dd(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[A]){var Q=a[A];k=Object.assign({},Q);Q=Q.formatType;k=(delete k.format,delete k.formatType,k);if(Xd(Q)&&!e.customFormatTypes)return Z(fd(b)),uf(Object.assign({},a,{[A]:k}),b,e,h)}if(Pa(a))return Kf(a,b,h);b=a.type;b||({datum:b}=a,b=g.isNumber(b)?"quantitative":g.isString(b)?"nominal":gb(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function Kf(a,b){var {compositeMark:e=!1}=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {aggregate:h,timeUnit:k,bin:A,field:Q}=a,ja=Object.assign({},a);e||!h||va(h)||K(h)||u(h)||(Z(`Invalid aggregation operator "${h}".`),delete ja.aggregate);k&&(ja.timeUnit=Md(k));Q&&(ja.field=`${Q}`);Wa(A)&&(ja.bin=ff(A,b));X(A)&&!D(b)&&Z(`Channel ${b} should not be used with "binned" bin.`);if(Uc(ja)){({type:e}=ja);var ua=Pc(e);e!==ua&&(ja.type=ua);"quantitative"!==e&&Ja(h)&&(Z(`Invalid field type "${e}" for aggregate: "${h}", using "quantitative" instead.`),
ja.type="quantitative")}else f(b)||(e=mf(ja,b),ja.type=e);if(Uc(ja)){const {compatible:yb,warning:Rb}=lg(ja,b)||{};!1===yb&&Z(Rb)}if("sort"in ja&&g.isString(ja.sort)){({sort:e}=ja);if(e in yj)return Object.assign({},ja,{sort:{encoding:e}});ua=e.substr(1);if("-"===e.charAt(0)&&ua in yj)return Object.assign({},ja,{sort:{encoding:ua,order:"descending"}})}if(ja&&"header"in ja&&({header:e}=ja,e)){var Ra=e;ua=Object.assign({},Ra);Ra=Ra.orient;ua=(delete ua.orient,ua);if(Ra)return Object.assign({},ja,{header:Object.assign({},
ua,{labelOrient:e.labelOrient||Ra,titleOrient:e.titleOrient||Ra})})}return ja}function ff(a,b){return g.isBoolean(a)?{maxbins:ab(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:ab(b)})}function lg(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};switch(b){case "row":case "column":case "facet":return ze(a)?Ci:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};
case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ci;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:Ci;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
e||a.sort?Ci:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!ze(a)){let h;e=!(yd(a)&&zi.has(null==(h=a.scale)?void 0:h.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:Ci;case "order":return"nominal"!==a.type||"sort"in a?Ci:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function Wd(a){var {formatType:b}=De(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||Pa(a)&&!!a.timeUnit);e=b}return e}function jf(a,b){let {timeUnit:e,type:h,wrapTime:k,undefinedIfExprNotRequired:A}=b;var Q=(b=e&&(null==(Q=Md(e))?void 0:Q.unit))||"temporal"===h;let ja;Gb(a)?ja=a.expr:Ec(a)?ja=a.signal:gb(a)?(Q=!0,ja=ic(a)):(g.isString(a)||g.isNumber(a))&&Q&&(ja=`datetime(${p(a)})`,zl[b]&&(g.isNumber(a)&&1E4>a||g.isString(a)&&isNaN(Date.parse(a)))&&(ja=ic({[b]:a})));return ja?k&&Q?`time(${ja})`:
ja:A?void 0:p(a)}function lf(a,b){const {type:e}=a;return b.map(h=>{var k=Pa(a)&&!dd(a.timeUnit)?a.timeUnit:void 0;k=jf(h,{timeUnit:k,type:e,undefinedIfExprNotRequired:!0});return void 0!==k?{signal:k}:h})}function Ze(a,b){return Wa(a.bin)?!!ki[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),!1)}function Hf(a){return null==a?void 0:a.condition}function Bf(a){return"mark"in a}function Cf(a,b){return(a=a&&a[b])?g.isArray(a)?ec(a,e=>!!e.field):
Pa(a)||sa(a):!1}function Jf(a,b){return(a=a&&a[b])?g.isArray(a)?ec(a,e=>!!e.field):Pa(a)||lc(a)||Ha(a):!1}function wg(a,b){if(D(b)){const e=a[b];if((Pa(e)||lc(e))&&($b(e.type)||Pa(e)&&e.timeUnit))return b=E(b),Jf(a,b)}return!1}function eg(a){return ec(Dl,b=>Cf(a,b)?(b=a[b],g.isArray(b)?ec(b,e=>!!e.aggregate):(b=bf(b))&&!!b.aggregate):!1)}function xf(a,b){const e=[],h=[],k=[],A=[],Q={};xg(a,(ja,ua)=>{if(Pa(ja)){var Ra=Object.assign({},ja),yb=ja.field;const Hc=ja.aggregate,sd=ja.bin,Lc=ja.timeUnit;
Ra=(delete Ra.field,delete Ra.aggregate,delete Ra.bin,delete Ra.timeUnit,Ra);if(Hc||Lc||sd){var Rb;const od=null==(Rb=he(ja))?void 0:Rb.title;Rb=td(ja,{forAs:!0});Ra=Object.assign({},od?[]:{title:Hd(ja,b,{allowDisabling:!0})},Ra,{field:Rb});if(Hc){let Ld;K(Hc)?(Ld="argmax",Rb=td({op:"argmax",field:Hc.argmax},{forAs:!0}),Ra.field=`${Rb}.${yb}`):u(Hc)?(Ld="argmin",Rb=td({op:"argmin",field:Hc.argmin},{forAs:!0}),Ra.field=`${Rb}.${yb}`):"boxplot"!==Hc&&"errorbar"!==Hc&&"errorband"!==Hc&&(Ld=Hc);Ld&&(ja=
{op:Ld,as:Rb},yb&&(ja.field=yb),A.push(ja))}else e.push(Rb),Uc(ja)&&Wa(sd)?(h.push({bin:sd,field:yb,as:Rb}),e.push(td(ja,{binSuffix:"end"})),Ze(ja,ua)&&e.push(td(ja,{binSuffix:"range"})),D(ua)&&(Q[`${ua}2`]={field:`${Rb}_end`}),Ra.bin="binned",f(ua)||(Ra.type="quantitative")):Lc&&!dd(Lc)&&(k.push({timeUnit:Lc,field:yb,as:Rb}),(yb=Uc(ja)&&"temporal"!==ja.type&&"time")&&("text"===ua||"tooltip"===ua?Ra.formatType=yb:Vi[ua]?Ra.legend=Object.assign({},{formatType:yb},Ra.legend):D(ua)&&(Ra.axis=Object.assign({},
{formatType:yb},Ra.axis))));Q[ua]=Ra}else e.push(yb),Q[ua]=a[ua]}else Q[ua]=a[ua]});return{bins:h,timeUnits:k,aggregate:A,groupby:e,encoding:Q}}function Of(a,b,e){e=Aa(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],Pa(e)&&Pa(a[b])&&X(e.bin)))?!0:!1}function bg(a,b,e,h){const k={};for(var A of ee(a))Fj[A]||Z(`${A}-encoding is dropped as ${A} is not a valid encoding channel.`);for(let ja of Mj)if(a[ja]){A=a[ja];if(ja in fj){a:{switch(ja){case "xOffset":var Q="x";break a;case "yOffset":Q="y";
break a}Q=void 0}const ua=k[Q];if(Pa(ua)&&Ta(ua.type)&&Pa(A)&&!ua.timeUnit){Z(`${Q}Offset dropped because ${Q} is continuous`);continue}}"angle"!==ja||"arc"!==b||a.theta||(Z("Arc marks uses theta channel rather than angle, replacing angle with theta."),ja="theta");if(Of(a,ja,b)){if("size"===ja&&"line"===b){let ua;if(null==(ua=bf(a[ja]))?0:ua.aggregate){Z("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if("color"===ja&&(e?"fill"in a:"stroke"in
a))Z(Rd("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===ja||"order"===ja&&!g.isArray(A)&&!bd(A)||"tooltip"===ja&&g.isArray(A)){if(A){if("order"===ja&&(Q=a[ja])&&Q.sort&&!Q.field){k[ja]=Q;continue}k[ja]=g.array(A).reduce((ua,Ra)=>{Pa(Ra)?ua.push(Kf(Ra,ja)):Z(Td(Ra,ja));return ua},[])}}else{if("tooltip"===ja&&null===A)k[ja]=null;else if(!(Pa(A)||lc(A)||bd(A)||ka(A)||Ec(A))){Z(Td(A,ja));continue}k[ja]=ve(A,ja,h)}}else Z(Cd(ja,b))}return k}function Lg(a,b){const e={};for(const h of ee(a)){const k=
ve(a[h],h,b,{compositeMark:!0});e[h]=k}return e}function Qg(a){const b=[];for(const e of ee(a))if(Cf(a,e)){const h=g.array(a[e]);for(const k of h)Pa(k)?b.push(k):sa(k)&&b.push(k.condition)}return b}function xg(a,b,e){if(a)for(const h of ee(a)){const k=a[h];if(g.isArray(k))for(const A of k)b.call(e,A,h);else b.call(e,k,h)}}function ah(a,b,e,h){return a?ee(a).reduce((k,A)=>{const Q=a[A];return g.isArray(Q)?Q.reduce((ja,ua)=>b.call(h,ja,ua,A),k):b.call(h,k,Q,A)},e):e}function qa(a,b){return ee(b).reduce((e,
h)=>{switch(h){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":h=b[h];if(g.isArray(h)||Pa(h))for(var k of g.array(h))k.aggregate||e.push(td(k,{}));return e;case "size":if("trail"===
a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(k=bf(b[h]))&&!k.aggregate&&e.push(td(k,{})),e}},[])}function cb(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const k=a.map(Q=>{let {fieldPrefix:ja,titlePrefix:ua}=Q;Q=h?` of ${Pb(b)}`:"";return{field:ja+b.field,type:b.type,title:Ec(ua)?{signal:`${ua}"${escape(Q)}"`}:ua+Q}}),A=Qg(e).map(He);
return{tooltip:[...k,...rb(A,kc)]}}function Pb(a){const {title:b,field:e}=a;return ma(b,e)}function hd(a,b,e,h,k){const {scale:A,axis:Q}=e;return ja=>{let {partName:ua,mark:Ra,positionPrefix:yb,endPositionPrefix:Rb,extraEncoding:Hc={}}=ja;ja=Pb(e);return nd(a,ua,k,{mark:Ra,encoding:Object.assign({},{[b]:Object.assign({},{field:`${yb}_${e.field}`,type:e.type},void 0!==ja?{title:ja}:{},void 0!==A?{scale:A}:{},void 0!==Q?{axis:Q}:{})},g.isString(Rb)?{[`${b}2`]:{field:`${Rb}_${e.field}`}}:{},h,Hc)})}}
function nd(a,b,e,h){const {clip:k,color:A,opacity:Q}=a,ja=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},h,{mark:Object.assign({},e[b],k?{clip:k}:{},A?{color:A}:{},Q?{opacity:Q}:{},pd(h.mark)?h.mark:{type:h.mark},{style:`${ja}-${String(b)}`},g.isBoolean(a[b])?{}:a[b])})]:[]}function oe(a,b,e){({encoding:a}=a);b="vertical"===b?"y":"x";const h=a[`${b}2`],k=a[`${b}Error`],A=a[`${b}Error2`];return{continuousAxisChannelDef:Pe(a[b],e),continuousAxisChannelDef2:Pe(h,e),continuousAxisChannelDefError:Pe(k,
e),continuousAxisChannelDefError2:Pe(A,e),continuousAxis:b}}function Pe(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&Z(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function of(a,b){const {mark:e,encoding:h}=a,{x:k,y:A}=h;if(pd(e)&&e.orient)return e.orient;if(rc(k)){if(rc(A)){a=Pa(k)&&k.aggregate;const Q=Pa(A)&&A.aggregate;if(!a&&Q===b)return"vertical";if(Q||a!==
b){if(a===b&&Q===b)throw Error("Both x and y cannot have aggregate");return Wd(A)&&!Wd(k)?"horizontal":"vertical"}}return"horizontal"}if(rc(A))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Ef(a){return g.isNumber(a)?"tukey":a}function Qe(a,b){var {config:e}=b,h=a=Object.assign({},a,{encoding:Lg(a.encoding,e)});b=Object.assign({},h);var k=h.mark;h=h.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);k=pd(k)?k:{type:k};h&&Z(gc("boxplot"));
var A;h=null!=(A=k.extent)?A:e.boxplot.extent;var Q=yc("size",k,e),ja=k.invalid;A=Ef(h);var ua=a;a=of(ua,"boxplot");const {continuousAxisChannelDef:Ra,continuousAxis:yb}=oe(ua,a,"boxplot");var Rb=Ra.field,Hc=Ef(h),sd=[...Zf(Rb),{op:"median",field:Rb,as:`mid_box_${Rb}`},{op:"min",field:Rb,as:("min-max"===Hc?"lower_whisker_":"min_")+Rb},{op:"max",field:Rb,as:("min-max"===Hc?"upper_whisker_":"max_")+Rb}];Rb="min-max"===Hc||"tukey"===Hc?[]:[{calculate:`datum["upper_box_${Rb}"] - datum["lower_box_${Rb}"]`,
as:`iqr_${Rb}`},{calculate:`min(datum["upper_box_${Rb}"] + datum["iqr_${Rb}"] * ${h}, datum["max_${Rb}"])`,as:`upper_whisker_${Rb}`},{calculate:`max(datum["lower_box_${Rb}"] - datum["iqr_${Rb}"] * ${h}, datum["min_${Rb}"])`,as:`lower_whisker_${Rb}`}];ua=Object.assign({},ua.encoding);var Lc;Hc=(delete ua[yb],ua);ua=Object.assign({},Hc);Hc=Hc.tooltip;ua=(delete ua.tooltip,ua);if(Hc){var od;if(g.isArray(Hc)){for(var Ld of Hc)Ld.aggregate?(Lc||(Lc=[]),Lc.push(Ld)):(od||(od=[]),od.push(Ld));Lc&&(ua.tooltip=
Lc)}else Hc.aggregate?ua.tooltip=Hc:od=Hc;g.isArray(od)&&1===od.length&&(od=od[0]);Lc={customTooltipWithoutAggregatedField:od,filteredEncoding:ua}}else Lc={filteredEncoding:ua};const {customTooltipWithoutAggregatedField:Pd,filteredEncoding:We}=Lc,{bins:Se,timeUnits:pf,aggregate:Gf,groupby:Dg,encoding:Pg}=xf(We,e);Lc=[...Se,...pf,{aggregate:[...Gf,...sd],groupby:Dg},...Rb];const {bins:yh,timeUnits:Tf,transform:Sg,continuousAxisChannelDef:Uf,continuousAxis:fi,groupby:gl,aggregate:Fm,encodingWithoutContinuousAxis:Ak,
ticksOrient:xm,boxOrient:Gm,customTooltipWithoutAggregatedField:ym}={bins:Se,timeUnits:pf,transform:Lc,groupby:Dg,aggregate:Gf,continuousAxisChannelDef:Ra,continuousAxis:yb,encodingWithoutContinuousAxis:Pg,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:Pd};od=Object.assign({},Ak);Lc=Ak.color;sd=Ak.size;od=(delete od.color,delete od.size,od);Ld=hd(k,fi,Uf,od,e.boxplot);a=hd(k,fi,Uf,Ak,e.boxplot);sd=hd(k,fi,Uf,Object.assign({},od,sd?{size:sd}:{}),
e.boxplot);Rb=cb([{fieldPrefix:"min-max"===A?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===A?"lower_whisker_":"min_",titlePrefix:"Min"}],Uf,Ak);ua={type:"tick",color:"black",opacity:1,orient:xm,invalid:ja,aria:!1};Hc="min-max"===A?Rb:cb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
Uf,Ak);Ld=[...Ld({partName:"rule",mark:{type:"rule",invalid:ja,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Hc}),...Ld({partName:"rule",mark:{type:"rule",invalid:ja,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Hc}),...Ld({partName:"ticks",mark:ua,positionPrefix:"lower_whisker",extraEncoding:Hc}),...Ld({partName:"ticks",mark:ua,positionPrefix:"upper_whisker",extraEncoding:Hc})];Q=[...("tukey"!==A?Ld:[]),...a({partName:"box",
mark:Object.assign({},{type:"bar"},Q?{size:Q}:{},{orient:Gm,invalid:ja,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Rb}),...sd({partName:"median",mark:Object.assign({},{type:"tick",invalid:ja},g.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},Q?{size:Q}:{},{orient:xm,aria:!1}),positionPrefix:"mid_box",extraEncoding:Rb})];if("min-max"===A){var Gj;return Object.assign({},b,{transform:(null!=(Gj=b.transform)?Gj:
[]).concat(Sg),layer:Q})}Gj=`datum["lower_box_${Uf.field}"]`;A=`datum["upper_box_${Uf.field}"]`;ja=`(${A} - ${Gj})`;Gj=`${Gj} - ${h} * ${ja}`;ja=`${A} + ${h} * ${ja}`;a=`datum["${Uf.field}"]`;h={joinaggregate:Zf(Uf.field),groupby:gl};A={transform:[{filter:`(${Gj} <= ${a}) && (${a} <= ${ja})`},{aggregate:[{op:"min",field:Uf.field,as:`lower_whisker_${Uf.field}`},{op:"max",field:Uf.field,as:`upper_whisker_${Uf.field}`},{op:"min",field:`lower_box_${Uf.field}`,as:`lower_box_${Uf.field}`},{op:"max",field:`upper_box_${Uf.field}`,
as:`upper_box_${Uf.field}`},...Fm],groupby:gl}],layer:Ld};od=Object.assign({},od);od=(delete od.tooltip,od);const {scale:zm,axis:Hm}=Uf;Ld=Pb(Uf);sd=oc(Hm,["title"]);e=nd(k,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${Gj}) || (${a} > ${ja})`}],mark:"point",encoding:Object.assign({},{[fi]:Object.assign({},{field:Uf.field,type:Uf.type},void 0!==Ld?{title:Ld}:{},void 0!==zm?{scale:zm}:{},Xa(sd)?{}:{axis:sd})},od,Lc?{color:Lc}:{},ym?{tooltip:ym}:{})})[0];k=[...yh,...Tf,h];e?e={transform:k,layer:[e,
A]}:(e=A,e.transform.unshift(...k));return Object.assign({},b,{layer:[e,{transform:Sg,layer:Q}]})}function Zf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function Rf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Lg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:h,continuousAxis:k,encodingWithoutContinuousAxis:A,ticksOrient:Q,markDef:ja,outerSpec:ua,tooltipEncoding:Ra}=mg(a,"errorbar",b);delete A.size;a=hd(ja,k,h,A,b.errorbar);b=ja.thickness;
var yb=ja.size;yb=Object.assign({},{type:"tick",orient:Q,aria:!1},void 0!==b?{thickness:b}:{},void 0!==yb?{size:yb}:{});a=[...a({partName:"ticks",mark:yb,positionPrefix:"lower",extraEncoding:Ra}),...a({partName:"ticks",mark:yb,positionPrefix:"upper",extraEncoding:Ra}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ra})];return Object.assign({},ua,{transform:e},1<a.length?
{layer:a}:Object.assign({},a[0]))}function $f(a,b){var {encoding:e}=a;if(!(!$c(e.x)&&!$c(e.y)||$c(e.x2)||$c(e.y2)||$c(e.xError)||$c(e.xError2)||$c(e.yError)||$c(e.yError2)))return{orient:of(a,b),inputType:"raw"};var h=$c(e.x2)||$c(e.y2);var k=$c(e.xError)||$c(e.xError2)||$c(e.yError)||$c(e.yError2);a=e.x;const A=e.y;if(h){if(k)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);h=e.x2;e=e.y2;if($c(h)&&$c(e))throw Error(`${b} cannot have both x2 and y2`);if($c(h)){if(rc(a))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${b}`);}if($c(e)){if(rc(A))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{h=e.xError;k=e.yError;const Q=e.yError2;if($c(e.xError2)&&!$c(h))throw Error(`${b} cannot have xError2 without xError`);if($c(Q)&&!$c(k))throw Error(`${b} cannot have yError2 without yError`);if($c(h)&&$c(k))throw Error(`${b} cannot have both xError and yError with both are quantiative`);
if($c(h)){if(rc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if($c(k)){if(rc(A))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function mg(a,b,e){var h=Object.assign({},a),k=a.mark,A=a.encoding,Q=a.params;h=(delete h.mark,delete h.encoding,delete h.params,delete h.projection,h);k=pd(k)?k:{type:k};
Q&&Z(gc(b));const {orient:ja,inputType:ua}=$f(a,b),{continuousAxisChannelDef:Ra,continuousAxisChannelDef2:yb,continuousAxisChannelDefError:Rb,continuousAxisChannelDefError2:Hc,continuousAxis:sd}=oe(a,ja,b);a=[];Q=[];var Lc=Ra.field,od=!1;if("raw"===ua){var Ld=k.center?k.center:k.extent?"iqr"===k.extent?"median":"mean":e.errorbar.center;var Pd=k.extent?k.extent:"mean"===Ld?"stderr":"iqr";"median"===Ld!==("iqr"===Pd)&&Z(`${Ld} is not usually used with ${Pd} for ${b}.`);"stderr"===Pd||"stdev"===Pd?(a=
[{op:Pd,field:Lc,as:`extent_${Lc}`},{op:Ld,field:Lc,as:`center_${Lc}`}],Q=[{calculate:`datum["center_${Lc}"] + datum["extent_${Lc}"]`,as:`upper_${Lc}`},{calculate:`datum["center_${Lc}"] - datum["extent_${Lc}"]`,as:`lower_${Lc}`}],Lc={fieldPrefix:"center_",titlePrefix:lb(Ld)},od=Pd,od={fieldPrefix:"upper_",titlePrefix:`${lb(Ld)} ${"+"} ${od}`},b=Pd,b=`${lb(Ld)} ${"-"} ${b}`,Ld=[Lc,od,{fieldPrefix:"lower_",titlePrefix:b}],od=!0):("ci"===Pd?(b="mean",Ld="ci0",Pd="ci1"):(b="median",Ld="q1",Pd="q3"),a=
[{op:Ld,field:Lc,as:`lower_${Lc}`},{op:Pd,field:Lc,as:`upper_${Lc}`},{op:b,field:Lc,as:`center_${Lc}`}],Ld=[{fieldPrefix:"upper_",titlePrefix:Hd({field:Lc,aggregate:Pd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Hd({field:Lc,aggregate:Ld,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Hd({field:Lc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(k.center||k.extent){b=k.center;var We=k.extent;Z(`${We?"extent ":""}${We&&
b?"and ":""}${b?"center ":""}${We&&b?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===ua?(Ld=[],Q=[{calculate:`datum["${yb.field}"]`,as:`upper_${Lc}`},{calculate:`datum["${Lc}"]`,as:`lower_${Lc}`}]):"aggregated-error"===ua&&(Ld=[{fieldPrefix:"",titlePrefix:Lc}],Q=[{calculate:`datum["${Lc}"] + datum["${Rb.field}"]`,as:`upper_${Lc}`}],Hc?Q.push({calculate:`datum["${Lc}"] + datum["${Hc.field}"]`,as:`lower_${Lc}`}):Q.push({calculate:`datum["${Lc}"] - datum["${Rb.field}"]`,
as:`lower_${Lc}`}));for(Pd of Q)Ld.push({fieldPrefix:Pd.as.substring(0,6),titlePrefix:Mb(Mb(Pd.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:Se,postAggregateCalculates:pf,tooltipSummary:Gf,tooltipTitleWithFieldName:Dg}={postAggregateCalculates:Q,errorBarSpecificAggregate:a,tooltipSummary:Ld,tooltipTitleWithFieldName:od};A=Object.assign({},A);a="x"===sd?"x2":"y2";Q="x"===sd?"xError":"yError";Lc="x"===sd?"xError2":"yError2";A=(delete A[sd],delete A[a],delete A[Q],delete A[Lc],
A);const {bins:Pg,timeUnits:yh,aggregate:Tf,groupby:Sg,encoding:Uf}=xf(A,e);e=[...Tf,...Se];A="raw"!==ua?[]:Sg;a=cb(Gf,Ra,Uf,Dg);let fi;return{transform:[...(null!=(fi=h.transform)?fi:[]),...Pg,...yh,...(0===e.length?[]:[{aggregate:e,groupby:A}]),...pf],groupby:A,continuousAxisChannelDef:Ra,continuousAxis:sd,encodingWithoutContinuousAxis:Uf,ticksOrient:"vertical"===ja?"horizontal":"vertical",markDef:k,outerSpec:h,tooltipEncoding:a}}function qg(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Lg(a.encoding,
b)});const {transform:e,continuousAxisChannelDef:h,continuousAxis:k,encodingWithoutContinuousAxis:A,markDef:Q,outerSpec:ja,tooltipEncoding:ua}=mg(a,"errorband",b);b=hd(Q,k,h,A,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let Ra={type:a?"area":"rect"},yb={type:a?"line":"rule"};const Rb=Object.assign({},Q.interpolate?{interpolate:Q.interpolate}:{},Q.tension&&Q.interpolate?{tension:Q.tension}:{});a?(Ra=Object.assign({},Ra,Rb,{ariaRoleDescription:"errorband"}),yb=Object.assign({},yb,Rb,
{aria:!1})):Q.interpolate?Z($d("interpolate")):Q.tension&&Z($d("tension"));return Object.assign({},ja,{transform:e,layer:[...b({partName:"band",mark:Ra,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ua}),...b({partName:"borders",mark:yb,positionPrefix:"lower",extraEncoding:ua}),...b({partName:"borders",mark:yb,positionPrefix:"upper",extraEncoding:ua})]})}function Gg(a,b,e){b=new Ug(a,b);zj[a]={normalizer:b,parts:e}}function bh(a){return"legend"===a||!(null==a||!a.legend)}function hh(a){return bh(a)&&
g.isObject(a)}function Ee(a){return!(null==a||!a.select)}function Ie(a){const b=[];for(const k of a||[])if(!Ee(k)){var e=k,h=Object.assign({},e);a=e.expr;e=e.bind;h=(delete h.expr,delete h.bind,h);e&&a?(a=Object.assign({},h,{bind:e,init:a}),b.push(a)):(a=Object.assign({},h,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function Lf(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let h;return null!=(h=b.for)?h:"offset"}return"position"}function gf(a){return g.isObject(a)&&void 0!==a.step}function Df(a){return a.view||
a.width||a.height}function zf(a,b,e){const h={},{spacing:k,columns:A}=e[b];void 0!==k&&(h.spacing=k);void 0!==A&&("facet"in a&&!Yd(a.facet)||"concat"in a)&&(h.columns=A);"vconcat"in a&&(h.columns=1);for(const Q of Uh)if(void 0!==a[Q])if("spacing"===Q){b=a[Q];let ja,ua;h[Q]=g.isNumber(b)?b:{row:null!=(ja=b.row)?ja:k,column:null!=(ua=b.column)?ua:k}}else h[Q]=a[Q];return h}function fg(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}function rg(a,b){a=gg(a,b);return gf(a)?
a.step:20}function gg(a,b){let e;const h=null!=(e=a[b])?e:a["width"===b?"discreteWidth":"discreteHeight"];return ma(h,{step:a.step})}function Ff(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:g.isObject(a)?Object.assign({},xl,a):xl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Hg(a){var b=ee(a||{});const e={};for(const h of b)b=
a[h],e[h]=Hf(b)?Sd(b):Ia(b);return e}function dh(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,h=a.font,k=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var A=g.mergeConfig,Q=sf(Tk);h=h?{text:{font:h},style:{"guide-label":{font:h},"guide-title":{font:h},"group-title":{font:h},"group-subtitle":{font:h}}}:{};e=e?Ff(e):{};k=k?{signals:[{name:"fontSize",value:g.isObject(k)?Object.assign({},Uk,k):Uk}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};k=A.call(g,{},Q,h,e,k,b||{});a&&g.writeConfig(k,"selection",a,!0);a=oc(k,$l);for(var ja of["background","lineBreak","padding"])k[ja]&&(a[ja]=Ia(k[ja]));for(var ua of hj)k[ua]&&(a[ua]=tc(k[ua]));for(var Ra of pg)k[Ra]&&
(a[Ra]=Hg(k[Ra]));for(const yb of ul)k[yb]&&(a[yb]=tc(k[yb]));k.legend&&(a.legend=tc(k.legend));k.scale&&(a.scale=tc(k.scale));if(k.style){ja=k.style;ua=ee(ja);Ra={};for(const yb of ua)Ra[yb]=Hg(ja[yb]);a.style=Ra}k.title&&(a.title=tc(k.title));k.view&&(a.view=tc(k.view));return a}function vh(a){a=sf(a);for(var b of Ph)delete a[b];if(a.axis)for(var e in a.axis)Hf(a.axis[e])&&delete a.axis[e];if(a.legend)for(var h of mm)delete a.legend[h];if(a.mark){for(var k of Oj)delete a.mark[k];a.mark.tooltip&&
g.isObject(a.mark.tooltip)&&delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(Ie(a.params)),delete a.params);for(var A of tk){for(const Rb of Oj)delete a[A][Rb];if(b=am[A])for(const Rb of b)delete a[A][Rb];let yb=k=void 0;b=a;e=A;h=void 0;var Q=b[e];"view"===e&&(h="cell");Q=Object.assign({},Q,b.style[null!=(yb=h)?yb:e]);Xa(Q)||(b.style[null!=(k=h)?k:e]=Q);delete b[e]}for(const yb of ee(zj))delete a[yb];A=a;const {titleMarkConfig:ja,subtitleMarkConfig:ua,subtitle:Ra}=wc(A.title);Xa(ja)||
(A.style["group-title"]=Object.assign({},A.style["group-title"],ja));Xa(ua)||(A.style["group-subtitle"]=Object.assign({},A.style["group-subtitle"],ua));Xa(Ra)?delete A.title:A.title=Ra;for(const yb in a)g.isObject(a[yb])&&Xa(a[yb])&&delete a[yb];return Xa(a)?void 0:a}function ag(a){return Pa(a)&&"quantitative"===dc(a)&&!a.bin}function Vh(a,b,e){let {orient:h,type:k}=e;e="x"===b?"y":"radius";const A="x"===b;var Q=a[b];a=a[e];if(Pa(Q)&&Pa(a))if(ag(Q)&&ag(a)){if(Q.stack)return b;if(a.stack)return e;
Q=Pa(Q)&&!!Q.aggregate;a=Pa(a)&&!!a.aggregate;if(Q!==a)return Q?b:e;if(A&&["bar","area"].includes(k)){if("vertical"===h)return e;if("horizontal"===h)return b}}else{if(ag(Q))return b;if(ag(a))return e}else{if(ag(Q))return b;if(ag(a))return e}}function Bh(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Ch(a,b){var e=pd(a)?a:{type:a};a=e.type;if(!Ih.has(a))return null;e=Vh(b,"x",e)||Vh(b,"theta",e);if(!e)return null;const h=b[e];var k=
Pa(h)?td(h,{}):void 0,A=Bh(e);const Q=[],ja=new Set;if(b[A]){var ua=b[A];(ua=Pa(ua)?td(ua,{}):void 0)&&ua!==k&&(Q.push(A),ja.add(ua))}A="x"===A?"xOffset":"yOffset";ua=b[A];(ua=Pa(ua)?td(ua,{}):void 0)&&ua!==k&&(Q.push(A),ja.add(ua));k=Jk.reduce((Hc,sd)=>{if("tooltip"!==sd&&Cf(b,sd)){var Lc=b[sd];for(const od of g.array(Lc)){Lc=bf(od);if(Lc.aggregate)continue;const Ld=td(Lc,{});Ld&&ja.has(Ld)||Hc.push({channel:sd,fieldDef:Lc})}}return Hc},[]);let Ra;void 0!==h.stack?Ra=g.isBoolean(h.stack)?h.stack?
"zero":null:h.stack:ti.has(a)&&(Ra="zero");if(!(Ra&&Ra in yl)||eg(b)&&0===k.length)return null;let yb,Rb;if((null==h?0:null==(yb=h.scale)?0:yb.type)&&(null==h?void 0:null==(Rb=h.scale)?void 0:Rb.type)!==$g.LINEAR)return(null==h?0:h.stack)&&Z(`Cannot stack non-linear scale (${h.scale.type}).`),null;if($c(b[C(e)]))return void 0!==h.stack&&Z(`Cannot stack "${e}" if there is already "${e}2".`),null;Pa(h)&&h.aggregate&&!Vk.has(h.aggregate)&&Z(`Stacking is applied even though the aggregate function is non-summative ("${h.aggregate}").`);
return{groupbyChannels:Q,groupbyFields:ja,fieldChannel:e,impute:null===h.impute?!1:fb(a),stackBy:k,offset:Ra}}function Vg(a,b,e){a=tc(a);var h=yc("orient",a,e);a.orient=Eh(a.type,b,h);void 0!==h&&h!==a.orient&&Z(`Specified orient "${a.orient}" overridden with "${h}".`);if("bar"===a.type&&a.orient&&(h=yc("cornerRadiusEnd",a,e),void 0!==h)){const A="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:vl[a.orient];for(var k of A)a[k]=h;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===
yc("opacity",a,e)&&(k=Ab([Nh,wj,Bi,gj],a.type)&&!eg(b)?.7:void 0,a.opacity=k);void 0===yc("cursor",a,e)&&(b=b.href||a.href||yc("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function Dh(a,b,e){({graticule:e}=e);if(e)return!1;b=Gc("filled",a,b);a=a.type;return ma(b,a!==Nh&&a!==Mh&&a!==Th)}function Eh(a,b,e){switch(a){case Nh:case Bi:case gj:case Al:case Kg:case Ji:return}const {x:h,y:k,x2:A,y2:Q}=b;switch(a){case hi:if(Pa(h)&&(X(h.bin)||Pa(k)&&k.aggregate&&!h.aggregate))break;if(Pa(k)&&(X(k.bin)||
Pa(h)&&h.aggregate&&!k.aggregate))return"horizontal";if(Q||A){if(e)return e;if(!A){if((Pa(h)&&"quantitative"===h.type&&!Wa(h.bin)||Ic(h))&&Pa(k)&&X(k.bin))return"horizontal";break}if(!Q){if((Pa(k)&&"quantitative"===k.type&&!Wa(k.bin)||Ic(k))&&Pa(h)&&X(h.bin))break;return"horizontal"}}case Th:if(!(!A||Pa(h)&&X(h.bin)||!Q||Pa(k)&&X(k.bin)))return;case Ai:if(Q){if(Pa(k)&&X(k.bin))return"horizontal";break}else if(A)if(Pa(h)&&X(h.bin))break;else return"horizontal";else if(a===Th)if(h&&!k)break;else if(k&&
!h)return"horizontal";case Mh:case wj:b=sc(h);const ja=sc(k);if(e)return e;if(b&&!ja)return"tick"!==a?"horizontal":"vertical";if(!b&&ja)return"tick"!==a?"vertical":"horizontal";if(!b||!ja)if(a=Uc(h)&&"temporal"===h.type,e=Uc(k)&&"temporal"===k.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function bi(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return g.isObject(a.point)?
a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return g.isObject(b.point)?b.point:{}}function Wg(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function jh(a,b){return b?Mg(a,b):a}function si(a,b,e){const h=b[a];if(h&&!g.isString(h)&&"repeat"in h){if(h.repeat in e)return Object.assign({},b,{[a]:e[h.repeat]});Z(`Unknown repeated value "${h.repeat}".`)}else return b}
function Ag(a,b){a=si("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&Gd(a.sort)&&(b=si("field",a.sort,b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function Fh(a,b){if(Pa(a))return Ag(a,b);b=si("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Wh(a,b){if($c(a)){if(b=Fh(a,b))return b;if(ka(a))return{condition:a.condition}}else{if(Ha(a)){if(b=Fh(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function Mg(a,
b){const e={};for(const k in a)if(g.hasOwnProperty(a,k)){var h=a[k];g.isArray(h)?e[k]=h.map(A=>Wh(A,b)).filter(A=>A):(h=Wh(h,b),void 0!==h&&(e[k]=h))}return e}function ch(a){let {parentEncoding:b,encoding:e={},layer:h}=a;a={};if(b){var k=new Set([...ee(b),...ee(e)]);for(const A of k){k=e[A];const Q=b[A];if($c(k))k=Object.assign({},Q,k),a[A]=k;else if(Ha(k))a[A]=Object.assign({},k,{condition:Object.assign({},Q,k.condition)});else if(k||null===k)a[A]=k;else if(h||bd(Q)||Ec(Q)||$c(Q)||g.isArray(Q))a[A]=
Q}}else a=e;return!a||Xa(a)?void 0:a}function nh(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:h,projection:k}={parentProjection:b,projection:e};a=`Layer's shared projection ${p(h)} is overridden by a child projection ${p(k)}.`;Z(a)}return null!=e?e:b}function Gh(a){return a.map(b=>"filter"in b?{filter:ib(b.filter,ea)}:b)}function yg(a,b){var e=Object.assign({},a);const h=a.transform;e=(delete e.transform,e);return h?(a=h.map(k=>{if("filter"in k)return{filter:ph(k,
b)};if("bin"in k&&g.isObject(k.bin))return Object.assign({},k,{bin:wh(k.bin)});if("lookup"in k){var A=k.from,Q=Object.assign({},A);A=A.selection;Q=(delete Q.selection,Q);return A?Object.assign({},k,{from:Object.assign({},{param:A},Q)}):k}return k}),Object.assign({},e,{transform:a})):a}function Oh(a,b){a=sf(a);Pa(a)&&g.isObject(a.bin)&&(a.bin=wh(a.bin));var e,h;yd(a)&&(null==(e=a.scale)?0:null==(h=e.domain)?0:h.selection)&&(h=a.scale.domain,e=Object.assign({},h),h=h.selection,e=(delete e.selection,
e),a.scale.domain=Object.assign({},e,h?{param:h}:{}));ka(a)&&(g.isArray(a.condition)?a.condition=a.condition.map(k=>{var A=Object.assign({},k);const Q=k.param;A=(delete A.selection,delete A.param,delete A.test,A);return Q?k:Object.assign({},A,{test:ph(k,b)})}):(h=Oh(a.condition,b),e=Object.assign({},h),h=h.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=h?a.condition:Object.assign({},e,{test:ph(a.condition,b)})));return a}function wh(a){var b=a.extent;if(null==b?0:b.selection){var e=
Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}function ph(a,b){const e=h=>ib(h,k=>{var A;const Q=null!=(A=b.emptySelections[k])?A:!0;A={param:k,empty:Q};let ja;null!=(ja=b.selectionPredicates)[k]||(ja[k]=[]);b.selectionPredicates[k].push(A);return A});return a.selection?e(a.selection):ib(a.test||a.filter,h=>h.selection?e(h.selection):h)}function Xh(a,b){void 0===b&&(b=dh(a.config));const e=ci(a,b),{width:h,height:k}=
a;{let {width:A,height:Q}={width:h,height:k,autosize:a.autosize};a=Bf(e)||"layer"in e;const ja={};a?"container"==A&&"container"==Q?(ja.type="fit",ja.contains="padding"):"container"==A?(ja.type="fit-x",ja.contains="padding"):"container"==Q&&(ja.type="fit-y",ja.contains="padding"):("container"==A&&(Z(bb("width")),A=void 0),"container"==Q&&(Z(bb("height")),Q=void 0));b=Object.assign({},{type:"pad"},ja,b?kh(b.autosize):{},kh(e.autosize));"fit"!==b.type||a||(Z('Autosize "fit" only works for single views and layered views.'),
b.type="pad");"container"==A&&"fit"!=b.type&&"fit-x"!=b.type&&Z(jb("width"));"container"==Q&&"fit"!=b.type&&"fit-y"!=b.type&&Z(jb("height"));b=na(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function ci(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Jh.map(uh.map(mh.map(a,b),b),b)}function kh(a){return g.isString(a)?{type:a}:null!=a?a:{}}function Hh(a,b){const e={};for(const h of ai)a&&void 0!==a[h]&&(e[h]=Ia(a[h]));b&&(e.params=a.params);
return e}function If(a){return{explicit:!0,value:a}}function sg(a){return{explicit:!1,value:a}}function Rg(a){return(b,e,h,k)=>{const A=a(b.value,e.value);return 0<A?b:0>A?e:yf(b,e,h,k)}}function yf(a,b,e,h){if(a.explicit&&b.explicit){var k=a.value;b=b.value;e=`Conflicting ${h.toString()} property "${e.toString()}" (${p(k)} and ${p(b)}). Using ${p(k)}.`;Z(e)}return a}function lh(a,b,e,h){let k=4<arguments.length&&void 0!==arguments[4]?arguments[4]:yf;return void 0===a||void 0===a.value?b:a.explicit&&
!b.explicit?a:b.explicit&&!a.explicit?b:na(a.value,b.value)?a:k(a,b,e,h)}function Bg(a){return"name"in a&&!("url"in a)&&!("values"in a)&&!Mf(a)}function Mf(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function R(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=pb(a.field);return a}function wa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:g.identity;if(g.isArray(a)){const h=
a.map(k=>wa(k,b,e));return b?`[${h.join(", ")}]`:h}return gb(a)?b?e(ic(a)):e(Jc(a)):b?e(p(a)):a}function Ua(a,b){a.component.selection&&ee(a.component.selection).length&&(a=g.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:g.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return t(b)}function q(a,b){var e=!1,h;for(const k of eh(null!=(h=a.component.selection)?h:{})){const A=k.name;e=g.stringValue(A+"_store");0===b.filter(Q=>
Q.name===A).length&&(h="point"===k.type?", true, true)":")",b.push({name:k.name,update:`${"vlSelectionResolve"}(${e}, ${g.stringValue("global"===k.resolve?"union":k.resolve)}${h}`}));e=!0;for(const Q of vi)Q.defined(k)&&Q.topLevelSignals&&(b=Q.topLevelSignals(a,k,b))}e&&0===b.filter(k=>"unit"===k.name).length&&b.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return t(b)}function P(a,b){b=[...b];const e=rh(a,{escape:!1});let h;for(const k of eh(null!=
(h=a.component.selection)?h:{})){a={name:k.name+"_store"};k.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(k.init){const A=k.project.items.map(R);a.values=k.project.hasSelectionId?k.init.map(Q=>({unit:e,_vgsid_:wa(Q,!1)[0]})):k.init.map(Q=>({unit:e,fields:A,values:wa(Q,!1)}))}b.filter(A=>A.name===k.name+"_store").length||b.push(a)}return b}function ia(a,b){let e;for(const h of eh(null!=(e=a.component.selection)?e:{}))for(const k of vi)k.defined(h)&&k.marks&&(b=
k.marks(a,h,b));return b}function xa(a,b){for(const e of a.children)Fg(e)&&(b=ia(e,b));return b}function t(a){return a.map(b=>{b.on&&!b.on.length&&delete b.on;return b})}function F(a){let {timeUnit:b,field:e,reverse:h}=a;const {unit:k,utc:A}=b;a=vd(k);const {part:Q,step:ja}=hf(a,b.step);return`${A?"utcOffset":"timeOffset"}('${Q}', datum['${e}'], ${h?-ja:ja})`}function ha(a,b,e){let [h,k]=a;if(void 0!==b&&.5!==b){a=`datum['${h}']`;const A=`datum['${k}']`;return[{type:"formula",expr:l([F({timeUnit:e,
field:h,reverse:!0}),a],b+.5),as:`${h}_${"offsetted_rect_start"}`},{type:"formula",expr:l([a,A],b+.5),as:`${h}_${"offsetted_rect_end"}`}]}return[]}function l(a,b){let [e,h]=a;return`${1-b} * ${e} + ${b} * ${h}`}function y(a,b){return`domain(${g.stringValue(a.scaleName(b))})`}function ca(a){let b;return a.parent&&cj(a.parent)&&(null!=(b=!a.parent.parent)?b:ca(a.parent.parent))}function pa(a,b,e,h){var k=!a.hasProjection,A=e.channel;const Q=e.signals.visual,ja=g.stringValue(k?a.scaleName(A):a.projectionName());
var ua=Hc=>`scale(${ja}, ${Hc})`;const Ra=a.getSizeSignalRef("x"===A?"width":"height").signal,yb=`${A}(unit)`,Rb=b.events.reduce((Hc,sd)=>[...Hc,{events:sd.between[0],update:`[${yb}, ${yb}]`},{events:sd,update:`[${Q}[0], clamp(${yb}, 0, ${Ra})]`}],[]);if(k)return e=e.signals.data,k=Zg.defined(b),a=(a=a.getScaleComponent(A))?a.get("type"):void 0,A=h?{init:wa(h,!0,ua)}:{value:[]},Rb.push({events:{signal:b.name+"_scale_trigger"},update:Tc(a)?`[${ua(`${e}[0]`)}, ${ua(`${e}[1]`)}]`:"[0, 0]"}),k?[{name:e,
on:[]}]:[Object.assign({},{name:Q},A,{on:Rb}),Object.assign({},{name:e},h?{init:wa(h)}:{},{on:[{events:{signal:Q},update:`${Q}[0] === ${Q}[1] ? null : invert(${ja}, ${Q})`}]})];ua="x"===A?0:1;b=b.name+"_init";return[Object.assign({},{name:Q},h?{init:`[${b}[0][${ua}], ${b}[1][${ua}]]`}:{value:[]},{on:Rb})]}function Va(a,b,e,h){var k=ka(b)&&b.condition;b=h(b);return k?(k=g.array(k).map(A=>{const Q=h(A);if(A.param){const {param:ja,empty:ua}=A;A=jj(a,{param:ja,empty:ua});return Object.assign({},{test:A},
Q)}A=di(a,A.test);return Object.assign({},{test:A},Q)}),{[e]:[...k,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function $a(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return Va(a,a.encoding[b],b,e=>Hb(e,a.config))}function Hb(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(bd(a))return kb(a.value);if($c(a)){const {format:h,formatType:k}=De(a);return ye({fieldOrDatumDef:a,format:h,formatType:k,expr:e,config:b})}}}function fc(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:h,config:k,stack:A}=a,Q=e.tooltip;if(g.isArray(Q))return{tooltip:Bd({tooltip:Q},A,k,b)};const ja=b.reactiveGeom?"datum.datum":"datum";return Va(a,Q,"tooltip",ua=>{const Ra=Hb(ua,k,ja);if(Ra)return Ra;if(null!==ua){ua=yc("tooltip",h,k);!0===ua&&(ua={content:"encoding"});if(g.isString(ua))return{value:ua};if(g.isObject(ua))return Ec(ua)?ua:"encoding"===ua.content?Bd(e,A,k,b):{signal:ja}}})}function Sb(a,b,e){function h(Ra,
yb){var Rb=v(yb);Ra=Uc(Ra)?Ra:Object.assign({},Ra,{type:a[Rb].type});Rb=Ra.title||Li(Ra,A);Rb=g.array(Rb).join(", ").replaceAll(/"/g,'\\"');if(D(yb)){const Lc="x"===yb?"x2":"y2";var Hc=bf(a[Lc]);if(X(Ra.bin)&&Hc){var sd=td(Ra,{expr:ja});Hc=td(Hc,{expr:ja});const {format:od,formatType:Ld}=De(Ra);sd=Dc(sd,Hc,od,Ld,A);Q[Lc]=!0}}if((D(yb)||"theta"===yb||"radius"===yb)&&b&&b.fieldChannel===yb&&"normalize"===b.offset){const {format:Lc,formatType:od}=De(Ra);sd=ye({fieldOrDatumDef:Ra,format:Lc,formatType:od,
expr:ja,config:A,normalizeStack:!0}).signal}null!=sd||(sd=Hb(Ra,A,ja).signal);ua.push({channel:yb,key:Rb,value:sd})}var {reactiveGeom:k}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const A=Object.assign({},e,e.tooltipFormat),Q={},ja=k?"datum.datum":"datum",ua=[];xg(a,(Ra,yb)=>{Pa(Ra)?h(Ra,yb):sa(Ra)&&h(Ra.condition,yb)});k={};for(const Ra of ua){const {channel:yb,key:Rb,value:Hc}=Ra;Q[yb]||k[Rb]||(k[Rb]=Hc)}return k}function Bd(a,b,e){var {reactiveGeom:h}=3<arguments.length&&void 0!==
arguments[3]?arguments[3]:{};h=Sb(a,b,e,{reactiveGeom:h});h=Wi(h).map(k=>{let [A,Q]=k;return`"${A}": ${Q}`});return 0<h.length?{signal:`{${h.join(", ")}}`}:void 0}function Zc(a){const {encoding:b,markDef:e,config:h,stack:k}=a;var A=b.description;if(A)return Va(a,A,"description",Q=>Hb(Q,a.config));A=yc("description",e,h);if(null!=A)return{description:kb(A)};if(!1===h.aria)return{};A=Sb(b,k,h);if(!Xa(A))return{description:{signal:Wi(A).map((Q,ja)=>{let [ua,Ra]=Q;return`"${0<ja?"; ":""}${ua}: " + (${Ra})`}).join(" + ")}}}
function Id(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:h,encoding:k,config:A}=b,{vgChannel:Q}=e;let {defaultRef:ja,defaultValue:ua}=e;void 0===ja&&(null!=ua||(ua=yc(a,h,A,{vgChannel:Q,ignoreVgConfig:!0})),void 0!==ua&&(ja=kb(ua)));return Va(b,k[a],null!=Q?Q:a,Ra=>Qd({channel:a,channelDef:Ra,markDef:h,config:A,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:ja}))}function te(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{filled:void 0};const {markDef:e,encoding:h,config:k}=a;var {type:A}=e,Q;b=null!=(Q=b.filled)?Q:yc("filled",e,k);Q=Ab(["bar","point","circle","square","geoshape"],A)?"transparent":void 0;var ja,ua;A=null!=(ua=null!=(ja=yc(!0===b?"color":void 0,e,k,{vgChannel:"fill"}))?ja:k.mark[!0===b&&"color"])?ua:Q;var Ra;ja=null!=(Ra=yc(!1===b?"color":void 0,e,k,{vgChannel:"stroke"}))?Ra:k.mark[!1===b&&"color"];Ra=b?"fill":"stroke";ua=Object.assign({},A?{fill:kb(A)}:{},ja?{stroke:kb(ja)}:{});e.color&&(b?e.fill:
e.stroke)&&Z(Rd("property",{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},ua,Id("color",a,{vgChannel:Ra,defaultValue:b?A:ja}),Id("fill",a,{defaultValue:h.fill?A:void 0}),Id("stroke",a,{defaultValue:h.stroke?ja:void 0}))}function Re(a){const {encoding:b,mark:e}=a,h=b.order;return!fb(e)&&bd(h)?Va(a,h,"zindex",k=>kb(k.value)):{}}function pe(a){let {channel:b,markDef:e,encoding:h={},model:k,bandPosition:A}=a;a=`${b}Offset`;const Q=e[a],ja=h[a];return"xOffset"!==a&&"yOffset"!==a||!ja?
(a=e[a])?{offsetType:"visual",offset:a}:{}:{offsetType:"encoding",offset:Qd({channel:a,channelDef:ja,markDef:e,config:null==k?void 0:k.config,scaleName:k.scaleName(a),scale:k.getScaleComponent(a),stack:null,defaultRef:kb(Q),bandPosition:A})}}function xe(a,b,e){let {defaultPos:h,vgChannel:k}=e;const {encoding:A,markDef:Q,config:ja,stack:ua}=b;e=A[a];const Ra=A[C(a)],yb=b.scaleName(a),Rb=b.getScaleComponent(a),{offset:Hc,offsetType:sd}=pe({channel:a,markDef:Q,encoding:A,model:b,bandPosition:.5}),Lc=
wf({model:b,defaultPos:h,channel:a,scaleName:yb,scale:Rb});if(!e&&D(a)&&(A.latitude||A.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:Ra,markDef:Q,config:ja,scaleName:yb,scale:Rb,stack:ua,offset:Hc,defaultRef:Lc,bandPosition:"encoding"===sd?0:void 0};const {channel:od,channelDef:Ld,scaleName:Pd,stack:We,offset:Se,markDef:pf}=b;if($c(Ld)&&We&&od===We.fieldChannel){if(Pa(Ld)&&(b=Ld.bandPosition,void 0!==b||"text"!==pf.type||"radius"!==od&&"theta"!==od||(b=.5),void 0!==
b)){b=jd({scaleName:Pd,fieldOrDatumDef:Ld,startSuffix:"start",bandPosition:b,offset:Se});break a}b=qd(Ld,Pd,{suffix:"end"},{offset:Se})}else b=Xc(b)}return b?{[k||a]:b}:void 0}function wf(a){let {model:b,defaultPos:e,channel:h,scaleName:k,scale:A}=a;const {markDef:Q,config:ja}=b;return()=>{var ua=v(h),Ra=m(h);Ra=yc(h,Q,ja,{vgChannel:Ra});if(void 0!==Ra)return Ad(h,Ra);switch(e){case "zeroOrMin":case "zeroOrMax":if(k&&(Ra=A.get("type"),!Ab([$g.LOG,$g.TIME,$g.UTC],Ra)&&A.domainDefinitelyIncludesZero()))return{scale:k,
value:0};if("zeroOrMin"===e)return"y"===ua?{field:{group:"height"}}:{value:0};switch(ua){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ua=b[B(h)],Object.assign({},ua,{mult:.5})}}}function Ig(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return m(a);var k="x"===a?"align":"baseline";const A=
yc(k,b,e);Ec(A)?(Z(`The ${k} for range marks cannot be an expression`),k=void 0):k=A;return"x"===a?Yk[k||("top"===h?"left":"center")]:Bj[k||h]}function af(a,b,e){let {defaultPos:h,defaultPos2:k,range:A}=e;return A?$e(a,b,{defaultPos:h,defaultPos2:k}):xe(a,b,{defaultPos:h})}function $e(a,b,e){let {defaultPos:h,defaultPos2:k}=e;const {markDef:A,config:Q}=b;var ja=C(a);e=B(a);{const {encoding:Hc,mark:sd,markDef:Lc,stack:od,config:Ld}=b;var ua=v(ja),Ra=B(ja);const Pd=m(ja);var yb=Hc[ua],Rb=b.scaleName(ua);
const We=b.getScaleComponent(ua);({offset:ua}=ja in Hc||ja in Lc?pe({channel:ja,markDef:Lc,encoding:Hc,model:b}):pe({channel:ua,markDef:Lc,encoding:Hc,model:b}));if(yb||"x2"!==ja&&"y2"!==ja||!Hc.latitude&&!Hc.longitude){let {channel:Se,channelDef:pf,channel2Def:Gf,markDef:Dg,config:Pg,scaleName:yh,scale:Tf,stack:Sg,offset:Uf,defaultRef:fi}={channel:ja,channelDef:yb,channel2Def:Hc[ja],markDef:Lc,config:Ld,scaleName:Rb,scale:We,stack:od,offset:ua,defaultRef:void 0};yb=$c(pf)&&Sg&&Se.charAt(0)===Sg.fieldChannel.charAt(0)?
qd(pf,yh,{suffix:"start"},{offset:Uf}):Xc({channel:Se,channelDef:Gf,scaleName:yh,scale:Tf,stack:Sg,markDef:Dg,config:Pg,offset:Uf,defaultRef:fi});ja=void 0!==yb?{[Pd]:yb}:Sf(ja,Lc)||Sf(ja,{[ja]:ad(ja,Lc,Ld.style),[Ra]:ad(Ra,Lc,Ld.style)})||Sf(ja,Ld[sd])||Sf(ja,Ld.mark)||{[Pd]:wf({model:b,defaultPos:k,channel:ja,scaleName:Rb,scale:We})()}}else Ra=B(ja),Rb=b.markDef[Ra],ja=null!=Rb?{[Ra]:{value:Rb}}:{[Pd]:{field:b.getName(ja)}}}e=ja[e]?Ig(a,A,Q):m(a);return Object.assign({},xe(a,b,{defaultPos:h,vgChannel:e}),
ja)}function Sf(a,b){const e=B(a),h=m(a);if(void 0!==b[h])return{[h]:Ad(a,b[h])};if(void 0!==b[a])return{[h]:Ad(a,b[a])};if(b[e])if(b=b[e],Kc(b))Z(`Position range does not support relative band size for ${e}.`);else return{[e]:Ad(a,b)}}function Og(a,b){const {config:e,encoding:h,markDef:k}=a;var A=k.type,Q=C(b),ja=B(b),ua=h[b];Q=h[Q];var Ra=a.getScaleComponent(b);Ra=Ra?Ra.get("type"):void 0;const yb=k.orient;var Rb;let Hc;const sd=null!=(Hc=null!=(Rb=h[ja])?Rb:h.size)?Hc:yc("size",k,e,{vgChannel:ja});
ja=z(b);A="bar"===A&&("x"===b?"vertical"===yb:"horizontal"===yb);if(!Pa(ua)||!(Wa(ua.bin)||X(ua.bin)||ua.timeUnit&&!Q)||sd&&!Kc(sd)||h[ja]||xc(Ra)){if(($c(ua)&&xc(Ra)||A)&&!Q){var Lc;{const {markDef:Gf,encoding:Dg,config:Pg,stack:yh}=a;A=Gf.orient;var od=a.scaleName(b),Ld=a.getScaleComponent(b),Pd=B(b),We=C(b);Q=z(b);Q=a.scaleName(Q);ja=a.getScaleComponent(E(b));Rb="horizontal"===A&&"y"===b||"vertical"===A&&"x"===b;if(Dg.size||Gf.size)Rb?Lc=Id("size",a,{vgChannel:Pd,defaultRef:kb(Gf.size)}):Z(`Cannot apply size to non-oriented mark "${Gf.type}".`);
Ra=!!Lc;var Se;A=da({channel:b,fieldDef:ua,markDef:Gf,config:Pg,scaleType:null==(Se=Ld||ja)?void 0:Se.get("type"),useVlSizeChannel:Rb});Lc=Lc||{[Pd]:ig(Pd,Q||od,ja||Ld,Pg,A,!!ua,Gf.type)};var pf;Se="band"===(null==(pf=Ld||ja)?void 0:pf.get("type"))&&Kc(A)&&!Ra?"top":"middle";pf=Ig(b,Gf,Pg,Se);Se="xc"===pf||"yc"===pf;const {offset:Tf,offsetType:Sg}=pe({channel:b,markDef:Gf,encoding:Dg,model:a,bandPosition:Se?.5:0});a=Xc({channel:b,channelDef:ua,markDef:Gf,config:Pg,scaleName:od,scale:Ld,stack:yh,offset:Tf,
defaultRef:wf({model:a,defaultPos:"mid",channel:b,scaleName:od,scale:Ld}),bandPosition:Se?"encoding"===Sg?0:.5:Ec(A)?{signal:`(1-${A})/2`}:Kc(A)?(1-A.band)/2:0});Pd?Lc=Object.assign({},{[pf]:a},Lc):(b=m(We),Lc=Lc[Pd],Lc=Tf?Object.assign({},Lc,{offset:Tf}):Lc,Lc={[pf]:a,[b]:g.isArray(a)?[a[0],Object.assign({},a[1],{offset:Lc})]:Object.assign({},a,{offset:Lc})})}return Lc}return $e(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Gf,fieldDef2:Dg,channel:Pg,model:yh}={fieldDef:ua,
fieldDef2:Q,channel:b,model:a};const {config:Tf,markDef:Sg,encoding:Uf}=yh;a=yh.getScaleComponent(Pg);Lc=yh.scaleName(Pg);b=a?a.get("type"):void 0;a=a.get("reverse");b=da({channel:Pg,fieldDef:Gf,markDef:Sg,config:Tf,scaleType:b});Se=null!=(Ld=null==(od=null==(We=yh.component.axes[Pg])?void 0:We[0])?void 0:od.get("translate"))?Ld:.5;od=D(Pg)?null!=(Pd=yc("binSpacing",Sg,Tf))?Pd:0:0;Pd=C(Pg);ua=m(Pg);pf=m(Pd);Ld=Gc("minBandSize",Sg,Tf);({offset:A}=pe({channel:Pg,markDef:Sg,encoding:Uf,model:yh,bandPosition:0}));
({offset:Q}=pe({channel:Pd,markDef:Sg,encoding:Uf,model:yh,bandPosition:0}));let {scaleName:fi,fieldDef:gl}={fieldDef:Gf,scaleName:Lc};We=td(gl,{expr:"datum"});ja=td(gl,{expr:"datum",suffix:"end"});ja=`abs(scale("${fi}", ${ja}) - scale("${fi}", ${We}))`;We=Nf(Pg,od,a,Se,A,Ld,ja);a=Nf(Pd,od,a,Se,null!=Q?Q:A,Ld,ja);b=Ec(b)?{signal:`(1-${b.signal})/2`}:Kc(b)?(1-b.band)/2:.5;Se=N({fieldDef:Gf,fieldDef2:Dg,markDef:Sg,config:Tf});if(Wa(Gf.bin)||Gf.timeUnit)Se=Gf.timeUnit&&.5!==Se,Lc={[pf]:kf({fieldDef:Gf,
scaleName:Lc,bandPosition:b,offset:a,useRectOffsetField:Se}),[ua]:kf({fieldDef:Gf,scaleName:Lc,bandPosition:Ec(b)?{signal:`1-${b.signal}`}:1-b,offset:We,useRectOffsetField:Se})};else{if(X(Gf.bin)){a=qd(Gf,Lc,{},{offset:a});if(Pa(Dg)){Lc={[pf]:a,[ua]:qd(Dg,Lc,{},{offset:We})};break a}if(g.isObject(Gf.bin)&&Gf.bin.step){Lc={[pf]:a,[ua]:{signal:`scale("${Lc}", ${td(Gf,{expr:"datum"})} + ${Gf.bin.step})`,offset:We}};break a}}Z(M(Pd));Lc=void 0}}return Lc}function ig(a,b,e,h,k,A,Q){if(Kc(k))if(e){const ja=
e.get("type");if("band"===ja)return a=`bandwidth('${b}')`,1!==k.band&&(a=`${k.band} * ${a}`),h=Gc("minBandSize",{type:Q},h),{signal:h?`max(${Yb(h)}, ${a})`:a};1!==k.band&&Z(`Cannot use the relative band size with ${ja} scale.`)}else return{mult:k.band,field:{group:a}};else{if(Ec(k))return k;if(k)return{value:k}}if(e&&(k=e.get("range"),zc(k)&&g.isNumber(k.step)))return{value:k.step-2};if(!A){const {bandPaddingInner:ja,barBandPaddingInner:ua,rectBandPaddingInner:Ra}=h.scale;Q=ma(ja,"bar"===Q?ua:Ra);
if(Ec(Q))return{signal:`(1 - (${Q.signal})) * ${a}`};if(g.isNumber(Q))return{signal:`${1-Q} * ${a}`}}return{value:rg(h.view,a)-2}}function Nf(a,b,e,h,k,A,Q){if(a in ek)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Ec(e)||Ec(k)||Ec(h)||A){e=Yb(e);k=Yb(k);h=Yb(h);const ja=Yb(A);A=A?`(${Q} < ${ja} ? ${a?"":"-"}0.5 * (${ja} - (${Q})) : ${b})`:b;return{signal:(h?`${h} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(k?`(${k} + ${A})`:A)}}k=k||0;return h+(e?-k-b:+k+b)}function kf(a){let {fieldDef:b,scaleName:e,bandPosition:h,
offset:k,useRectOffsetField:A}=a;return jd(Object.assign({},{scaleName:e,fieldOrDatumDef:b,bandPosition:h,offset:k},A?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function vf(a,b){const {fill:e,stroke:h}="include"===b.color?te(a):{};var k=Object,A=k.assign;b=Pf(a.markDef,b);var Q=Qf(a,"fill",e),ja=Qf(a,"stroke",h),ua=Id("opacity",a),Ra=Id("fillOpacity",a),yb=Id("strokeOpacity",a),Rb=Id("strokeWidth",a),Hc=Id("strokeDash",a),sd=Re(a),Lc=fc(a),od=$a(a,"href");{const {markDef:Se,
config:pf}=a,Gf=yc("aria",Se,pf);if(!1===Gf)a={};else{var Ld=Object,Pd=Ld.assign;{const {mark:Dg,markDef:Pg,config:yh}=a;if(!1===yh.aria)var We={};else We=yc("ariaRoleDescription",Pg,yh),We=null!=We?{ariaRoleDescription:{value:We}}:Dg in cm?{}:{ariaRoleDescription:{value:Dg}}}a=Pd.call(Ld,{},Gf?{aria:Gf}:{},We,Zc(a))}}return A.call(k,{},b,Q,ja,ua,Ra,yb,Rb,Hc,sd,Lc,od,a)}function Qf(a,b,e){const {config:h,mark:k,markDef:A}=a;return"hide"===yc("invalid",A,h)&&e&&!fb(k)&&(a=Yg(a,{invalid:!0,channels:yk}))?
{[b]:[{test:a,value:null},...g.array(e)]}:e?{[b]:e}:{}}function Pf(a,b){return $k.reduce((e,h)=>{Pi.has(h)||void 0===a[h]||"ignore"===b[h]||(e[h]=kb(a[h]));return e},{})}function Yg(a,b){let {invalid:e=!1,channels:h}=b;b=h.reduce((k,A)=>{var Q=a.getScaleComponent(A);Q&&(Q=Q.get("type"),(A=a.vgField(A,{expr:"datum"}))&&Tc(Q)&&(k[A]=!0));return k},{});b=ee(b);if(0<b.length){const k=e?"||":"\x26\x26";return b.map(A=>Qc(A,e)).join(` ${k} `)}}function cg(a){const {config:b,markDef:e}=a;return yc("invalid",
e,b)&&(a=Kh(a,{channels:oi}))?{defined:{signal:a}}:{}}function Kh(a,b){let {invalid:e=!1,channels:h}=b;b=h.reduce((k,A)=>{var Q=a.getScaleComponent(A);if(Q){Q=Q.get("type");let ja;(A=a.vgField(A,{expr:"datum",binSuffix:(null==(ja=a.stack)?0:ja.impute)?"mid":void 0}))&&Tc(Q)&&(k[A]=!0)}return k},{});b=ee(b);if(0<b.length){const k=e?"||":"\x26\x26";return b.map(A=>Qc(A,e)).join(` ${k} `)}}function kg(a,b){if(void 0!==b)return{[a]:kb(b)}}function ih(a,b,e,h,k){var A=b.name,Q=A+"_translate_anchor";A+=
"_translate_delta";var ja=e.channel;const ua=Zg.defined(b);b=k.filter(sd=>sd.name===e.signals[ua?"data":"visual"])[0];h=a.getSizeSignalRef(h).signal;k=(a=a.getScaleComponent(ja))&&a.get("type");var Ra=a&&a.get("reverse");Q=`${Q}.extent_${ja}`;ja=`${ua?"x"===ja?Ra?"":"-":Ra?"-":"":""}${A}.${ja} / ${ua?`${h}`:`span(${Q})`}`;Ra=ua&&a?"log"===k?"panLog":"symlog"===k?"panSymlog":"pow"===k?"panPow":"panLinear":"panLinear";var yb;let Rb;const Hc=ua?"pow"===k?`, ${null!=(yb=a.get("exponent"))?yb:1}`:"symlog"===
k?`, ${null!=(Rb=a.get("constant"))?Rb:1}`:"":"";yb=`${Ra}(${Q}, ${ja}${Hc})`;b.on.push({events:{signal:A},update:ua?yb:`clampRange(${yb}, 0, ${h})`})}function ug(a,b,e,h,k){var A=b.name,Q=e.channel;const ja=Zg.defined(b);b=k.filter(sd=>sd.name===e.signals[ja?"data":"visual"])[0];h=a.getSizeSignalRef(h).signal;const ua=(k=a.getScaleComponent(Q))&&k.get("type"),Ra=ja?y(a,Q):b.name;a=A+"_zoom_delta";A=`${A}${"_zoom_anchor"}.${Q}`;Q=ja&&k?"log"===ua?"zoomLog":"symlog"===ua?"zoomSymlog":"pow"===ua?"zoomPow":
"zoomLinear":"zoomLinear";var yb;let Rb;const Hc=ja?"pow"===ua?`, ${null!=(yb=k.get("exponent"))?yb:1}`:"symlog"===ua?`, ${null!=(Rb=k.get("constant"))?Rb:1}`:"":"";yb=`${Q}(${Ra}, ${A}, ${a}${Hc})`;b.on.push({events:{signal:a},update:ja?yb:`clampRange(${yb}, 0, ${h})`})}function rh(a){var {escape:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?g.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!Sh(e);)e=e.parent;if(e){const {facet:h}=e;for(const k of Yh)h[k]&&(b+=` + '__facet_${k}_' + (facet[${g.stringValue(e.vgField(k))}])`)}return b}
function qi(a){let b;return eh(null!=(b=a.component.selection)?b:{}).reduce((e,h)=>e||h.project.hasSelectionId,!1)}function ii(a,b){!g.isString(b.select)&&b.select.on||delete a.events;!g.isString(b.select)&&b.select.clear||delete a.clear;!g.isString(b.select)&&b.select.toggle||delete a.toggle}function Di(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...Di(a.object)),b.push(...Di(a.property)));return b}function Ki(a){return"MemberExpression"===
a.object.type?Ki(a.object):"datum"===a.object.name}function vg(a){a=g.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&Ki(e)&&b.add(Di(e).slice(1).join("."))});return b}function jj(a,b,e){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",k=g.isString(b)?b:b.param,A=Oa(k),Q=g.stringValue(A+"_store");try{var ja=a.getSelectionComponent(A,k)}catch(ua){return`!!${A}`}ja.project.timeUnit&&(k=null!=e?e:a.component.data.raw,A=ja.project.timeUnit.clone(),k.parent?
A.insertAsParentOf(k):k.parent=A);k=ja.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ja="global"===ja.resolve?")":`, ${g.stringValue(ja.resolve)})`;h=`${k}${Q}, ${h}${ja}`;Q=`length(data(${Q}))`;return!1===b.empty?`${Q} && ${h}`:`!${Q} || ${h}`}function bj(a,b,e){const h=Oa(b),k=e.encoding;let A=e.field,Q;try{Q=a.getSelectionComponent(h,b)}catch(ja){return h}k||A?k&&!A&&(a=Q.project.items.filter(ja=>ja.channel===k),!a.length||1<a.length?(A=Q.project.items[0].field,Z((a.length?"Multiple ":
"No ")+`matching ${g.stringValue(k)} encoding found for selection ${g.stringValue(e.param)}. `+`Using "field": ${g.stringValue(A)}.`)):A=a[0].field):(A=Q.project.items[0].field,1<Q.project.items.length&&Z('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${g.stringValue(A)}.`));return`${Q.name}[${g.stringValue(pb(A))}]`}function di(a,b,e){return Ca(b,h=>g.isString(h)?h:(null==h?0:h.param)?jj(a,h,e):Ub(h))}function kj(a,b){if(a)return g.isArray(a)&&
!vc(a)?a.map(e=>Li(e,b)).join(", "):a}function x(a,b,e,h){null!=a.encode||(a.encode={});let k;null!=(k=a.encode)[b]||(k[b]={});let A;null!=(A=a.encode[b]).update||(A.update={});a.encode[b].update[e]=h}function U(a,b,e){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},k=a.combine(),A=Object.assign({},k),Q=k.disable;const ja=k.orient,ua=k.scale;var Ra=k.labelExpr;const yb=k.title;k=k.zindex;A=(delete A.disable,delete A.orient,delete A.scale,delete A.labelExpr,delete A.title,
delete A.zindex,A);if(!Q){for(const Hc in A){var Rb=pk[Hc];Q=A[Hc];if(Rb&&Rb!==b&&"both"!==Rb)delete A[Hc];else if(Hf(Q)){Rb=Q;Q=Object.assign({},Rb);Rb=Rb.condition;Q=(delete Q.condition,Q);Rb=g.array(Rb);const sd=Ng[Hc];if(sd){const {vgProp:Lc,part:od}=sd;Q=[...Rb.map(Ld=>{var Pd=Object.assign({},Ld);Ld=Ld.test;Pd=(delete Pd.test,Pd);return Object.assign({},{test:di(null,Ld)},Pd)}),Q];x(A,od,Lc,Q);delete A[Hc]}else null===sd&&(Q={signal:Rb.map(Lc=>{var od=Object.assign({},Lc);Lc=Lc.test;od=(delete od.test,
od);return`${di(null,Lc)} ? ${bc(od)} : `}).join("")+bc(Q)},A[Hc]=Q)}else if(Ec(Q)&&(Rb=Ng[Hc])){const {vgProp:sd,part:Lc}=Rb;x(A,Lc,sd,Q);delete A[Hc]}Ab(["labelAlign","labelBaseline"],Hc)&&null===A[Hc]&&delete A[Hc]}if("grid"===b){if(A.grid)return A.encode&&({grid:Ra}=A.encode,A.encode=Object.assign({},Ra?{grid:Ra}:{}),Xa(A.encode)&&delete A.encode),Object.assign({},{scale:ua,orient:ja},A,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ma(k,0)})}else if(h.header||!a.mainExtracted){if(void 0!==
Ra){h=Ra;let Hc,sd;(null==(Hc=A.encode)?0:null==(sd=Hc.labels)?0:sd.update)&&Ec(A.encode.labels.update.text)&&(h=Mb(Ra,"datum.label",A.encode.labels.update.text.signal));x(A,"labels","text",{signal:h})}null===A.labelAlign&&delete A.labelAlign;if(A.encode){for(const Hc of ok)a.hasAxisPart(Hc)||delete A.encode[Hc];Xa(A.encode)&&delete A.encode}Ra=kj(yb,e);return Object.assign({},{scale:ua,orient:ja,grid:!1},Ra?{title:Ra}:{},A,!1===e.aria?{aria:!1}:{},{zindex:ma(k,0)})}}}function fa(a){const {axes:b}=
a.component,e=[];for(const h of oi)if(b[h])for(const k of b[h])if(!k.get("disable")&&!k.get("gridScale")){const A="x"===h?"height":"width",Q=a.getSizeSignalRef(A).signal;A!==Q&&e.push({name:A,update:Q})}return e}function Ma(a,b){const {x:e=[],y:h=[]}=a;return[...e.map(k=>U(k,"grid",b)),...h.map(k=>U(k,"grid",b)),...e.map(k=>U(k,"main",b)),...h.map(k=>U(k,"main",b))].filter(k=>k)}function xb(a,b,e,h){return Object.assign.apply(null,[{},...a.map(k=>{if("axisOrient"===k){k="x"===e?"bottom":"left";const A=
b["x"===e?"axisBottom":"axisLeft"]||{},Q=b["x"===e?"axisTop":"axisRight"]||{},ja=new Set([...ee(A),...ee(Q)]),ua={};for(const Ra of ja.values())ua[Ra]={signal:`${h.signal} === "${k}" ? ${Yb(A[Ra])} : ${Yb(Q[Ra])}`};return ua}return b[k]})])}function Db(a,b,e,h){var k="band"===b?["axisDiscrete","axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:Ii.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const A="x"===a?"axisX":"axisY";b=Ec(e)?"axisOrient":`axis${lb(e)}`;k=[...k,...k.map(Q=>
A+Q.substr(4))];b=["axis",b,A];return{vlOnlyAxisConfig:xb(k,h,a,e),vgAxisConfig:xb(b,h,a,e),axisConfigStyle:Qb([...b,...k],h)}}function Qb(a,b){const e=[{}];for(const h of a){let k;if(a=null==(k=b[h])?void 0:k.style){a=g.array(a);for(const A of a)e.push(b.style[A])}}return Object.assign.apply(null,e)}function jc(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const k=Nd(a,e,b);if(void 0!==k)return{configFrom:"style",configValue:k};for(const A of["vlOnlyAxisConfig","vgAxisConfig",
"axisConfigStyle"]){let Q;if(void 0!==(null==(Q=h[A])?void 0:Q[a]))return{configFrom:A,configValue:h[A][a]}}return{}}function Vc(a,b,e,h,k){const A=null==b?void 0:b.labelAngle;if(void 0!==A)return Ec(A)?A:db(A);({configValue:b}=jc("labelAngle",h,null==b?void 0:b.style,k));if(void 0!==b)return db(b);if("x"===e&&Ab(["nominal","ordinal"],a.type)&&(!Pa(a)||!a.timeUnit))return 270}function Kd(a){return`(((${a.signal} % 360) + 360) % 360)`}function Ud(a,b,e,h){if(void 0!==a)return"x"===e?Ec(a)?(h=Kd(a),
b=Ec(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${h} && ${h} < 135) || (225 < ${h} && ${h} < 315) ? "middle" :`+`(${h} <= 45 || 315 <= ${h}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Ec(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=a||315<=a)===("top"===b)?"bottom":"top":Ec(a)?(a=Kd(a),b=Ec(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${h?'"middle"':
"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?h?"middle":null:Ec(b)?{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function cd(a,b,e){if(void 0!==a){var h=(e="x"===e)?0:90,k=e?"bottom":"left";return Ec(a)?(a=Kd(a),b=Ec(b)?`(${b.signal} === "${k}")`:b===k,{signal:`(${h?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${h} < ${a} && ${a} < ${180+h}) === ${b} ? "left" : "right"`}):
0===(a+h)%180?e?null:"center":Ec(b)?{signal:`${`${b.signal} ${h<a&&a<180+h?"\x3d\x3d\x3d":"!\x3d\x3d"} "${k}"`} ? "left" : "right"`}:(h<a&&a<180+h)===(b===k)?"left":"right"}}function ie(a,b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:void 0;if(e&&a)return hb(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function Be(a,b,e){return td(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function Ve(a,b){return Ab(["top",
"bottom"],b)?"column":Ab(["left","right"],b)?"row":"row"===a?"row":"column"}function w(a,b,e,h){return ma((b||{})[a],("row"===h?e.headerRow:"column"===h?e.headerColumn:e.headerFacet)[a],e.header[a])}function S(a,b,e,h){const k={};for(const A of a)a=w(A,b||{},e,h),void 0!==a&&(k[A]=a);return k}function aa(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=cd(b,"row"===a?"left":"top","row"===a?"y":"x");
return e?{align:e}:{}}function Da(a,b){return(a=Ud(a,"row"===b?"left":"top","row"===b?"y":"x",!0))?{baseline:a}:{}}function sb(a,b,e){const {format:h,formatType:k,labelAngle:A,labelAnchor:Q,labelOrient:ja,labelExpr:ua}=S("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),a.header,e,b),Ra=ye({fieldOrDatumDef:a,format:h,formatType:k,expr:"parent",config:e}).signal,yb=Ve(b,ja);return Object.assign({},{text:{signal:ua?Mb(Mb(ua,"datum.label",Ra),"datum.value",td(a,{expr:"parent"})):
Ra}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},Da(A,yb),aa(yb,A,Q),wb(e,a,b,Zl,tl))}function wb(a,b,e,h,k){const A={};for(const Q of h){if(!k[Q])continue;let ja;h=w(Q,null==(ja=b)?void 0:ja.header,a,e);void 0!==h&&(A[k[Q]]=h)}return A}function Kb(a){return[...Lb(a,"width"),...Lb(a,"height"),...Lb(a,"childWidth"),...Lb(a,"childHeight")]}function Lb(a,b){var e="width"===b?"x":"y",h=a.component.layoutSize.get(b);if(!h||"merged"===h)return[];b=a.getSizeSignalRef(b).signal;if("step"===
h){if(h=a.getScaleComponent(e)){var k=h.get("type");const A=h.get("range");if(xc(k)&&zc(A))return k=a.scaleName(e),Sh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[Mc(k,A)]:[Mc(k,A),{name:b,update:Ed(k,h,`domain('${k}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==h?(e=(h=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=fg(a.config.view,h?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,
events:"window:resize"}]}]):[{name:b,value:h}]}function Mc(a,b){a=`${a}_step`;return Ec(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function Ed(a,b,e){const h=b.get("type"),k=b.get("padding"),A=ma(b.get("paddingOuter"),k);b=b.get("paddingInner");return`bandspace(${e}, ${Yb("band"===h?void 0!==b?b:k:1)}, ${Yb(A)}) * ${a}_step`}function gd(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function nc(a,b){return ee(a).reduce((e,h)=>Object.assign({},e,Va(b,a[h],h,k=>kb(k.value))),
{})}function rd(a,b){if(Sh(b))return"theta"===a?"independent":"shared";if(cj(b))return"shared";if(Pk(b))return D(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function xd(a,b){const e=a.scale[b],h=D(b)?"axis":"legend";return"independent"===e?("shared"===a[h][b]&&Z(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[h][b]||"shared"}function we(a){return Xe(a,
(b,e)=>Math.max(b,e.value))}function ne(a){return Xe(a,(b,e)=>ma(b,e.value))}function Xe(a,b){const e=null==a?void 0:a.condition;if(e&&(g.isArray(e)||bd(e)))return g.array(a.condition).reduce(b,a.value);if(bd(a))return a.value}function Af(a,b,e){a=b.get("selections");if(null!=a&&a.length){var h=g.stringValue(e.field);return a.map(k=>`(!length(data(${g.stringValue(Oa(k)+"_store")})) || (${k}[${h}] && indexof(${k}[${h}], datum.value) >= 0))`).join(" || ")}}function Xf(a,b,e,h){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${h})`}}
function jg(a){if(Fg(a)){var {encoding:b}=a,e={};for(Ld of["color",...wl]){var h=ue(b[Ld]);if(h&&a.getScaleComponent(Ld)&&("shape"!==Ld||!Pa(h)||"geojson"!==h.type)){a:{var k=void 0,A=void 0,Q=void 0,ja=void 0,ua=void 0,Ra,yb=Ra=void 0,Rb=void 0;h=a;var Hc=Ld;let Pd=h.legend(Hc);const {markDef:We,encoding:Se,config:pf}=h;var sd=pf.legend;b:{var Lc=h;var od=Hc;ja=Lc.scaleName(od);if("trail"===Lc.mark){if("color"===od){Lc={stroke:ja};break b}if("size"===od){Lc={strokeWidth:ja};break b}}Lc="color"===
od?Lc.markDef.filled?{fill:ja}:{stroke:ja}:{[od]:ja}}Lc=new jl({},Lc);od=null==(Rb=h.fieldDef(Hc))?void 0:Rb.field;for(const Tf of eh(null!=(yb=h.component.selection)?yb:{})){let Sg;if((yb=null!=(Sg=Tf.project.hasField[od])?Sg:Tf.project.hasChannel[Hc])&&Tj.defined(Tf)){let Uf;Rb=null!=(Uf=Lc.get("selections"))?Uf:[];Rb.push(Tf.name);Lc.set("selections",Rb,!1);yb.hasLegend=!0}}yb=void 0!==Pd?!Pd:sd.disable;Lc.set("disable",yb,void 0!==Pd);if(yb){h=Lc;break a}Pd=Pd||{};Rb=h.getScaleComponent(Hc).get("type");
yb=ue(Se[Hc]);ja=Pa(yb)?null==(Ra=Md(yb.timeUnit))?void 0:Ra.unit:void 0;od=Pd.orient||pf.legend.orient||"right";Ra={legend:Pd,channel:Hc,timeUnit:ja,scaleType:Rb};({legend:ja}=Ra);ja=ja.type;b:{let {channel:Tf,timeUnit:Sg,scaleType:Uf}=Ra;if(O(Tf)){if(Ab(["quarter","month","day"],Sg)){Ra="symbol";break b}if(gh.has(Uf)){Ra="gradient";break b}}Ra="symbol"}Ra=ma(ja,Ra);let {legendConfig:Gf,legendType:Dg,orient:Pg,legend:yh}={legend:Pd,legendType:Ra,orient:od,legendConfig:sd};if(null!=(ja=null!=(ua=
yh.direction)?ua:Gf[Dg?"gradientDirection":"symbolDirection"]))ua=ja;else b:{switch(Pg){case "top":case "bottom":ua="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ua="gradient"===Dg?"horizontal":void 0;break b}ua=void 0}sd={legend:Pd,channel:Hc,model:h,markDef:We,encoding:Se,fieldOrDatumDef:yb,legendConfig:sd,config:pf,scaleType:Rb,orient:od,legendType:Ra,direction:ua};for(const Tf of ml)if(!("gradient"===Ra&&Tf.startsWith("symbol")||"symbol"===Ra&&Tf.startsWith("gradient"))&&
(ua=Tf in Gl?Gl[Tf](sd):Pd[Tf],void 0!==ua)){b:{Rb=ja=void 0;od=h.fieldDef(Hc);switch(Tf){case "disable":od=void 0!==Pd;break b;case "values":od=!(null==(Rb=Pd)||!Rb.values);break b;case "title":if("title"===Tf&&ua===(null==(ja=od)?void 0:ja.title)){od=!0;break b}}od=ua===(Pd||{})[Tf]}((Rb=od)||void 0===pf.legend[Tf])&&Lc.set(Tf,ua,Rb)}sd=null!=(A=null==(Q=Pd)?void 0:Q.encoding)?A:{};A=Lc.get("selections");Q={};Hc={fieldOrDatumDef:yb,model:h,channel:Hc,legendCmpt:Lc,legendType:Ra};for(const Tf of"labels legend title symbols gradient entries".split(" ")){let Sg;
ua=nc(null!=(Sg=sd[Tf])?Sg:{},h);ua=Tf in kl?kl[Tf](ua,Hc):ua;if(void 0!==ua&&!Xa(ua)){let Uf,fi;Q[Tf]=Object.assign({},(null==(Uf=A)?0:Uf.length)&&Pa(yb)?{name:`${Oa(yb.field)}_legend_${Tf}`}:{},(null==(fi=A)?0:fi.length)?{interactive:!!A}:{},{update:ua})}}Xa(Q)||Lc.set("encode",Q,!(null==(k=Pd)||!k.encoding));h=Lc}e[Ld]=h}}var Ld=e}else{const {legends:Pd,resolve:We}=a.component;for(b of a.children){jg(b);for(e of ee(b.component.legends))We.legend[e]=xd(a.component.resolve,e),"shared"===We.legend[e]&&
(Pd[e]=zh(Pd[e],b.component.legends[e]),Pd[e]||(We.legend[e]="independent",delete Pd[e]))}for(h of ee(Pd))for(k of a.children)k.component.legends[h]&&"shared"===We.legend[h]&&delete k.component.legends[h];Ld=Pd}return a.component.legends=Ld}function zh(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const h=b.getWithExplicit("orient");if(!e.explicit||!h.explicit||e.value===h.value){var k=!1;for(const A of ml)e=lh(a.getWithExplicit(A),b.getWithExplicit(A),A,"legend",(Q,ja)=>{switch(A){case "symbolType":return Q=
"circle"===ja.value?ja:Q,Q;case "title":return ub(Q,ja);case "type":return k=!0,sg("symbol")}return yf(Q,ja,A,"legend")}),a.setWithExplicit(A,e);if(k){let A,Q;(null==(A=a.implicit)?0:null==(Q=A.encode)?0:Q.gradient)&&Qa(a.implicit,["encode","gradient"]);let ja,ua;(null==(ja=a.explicit)?0:null==(ua=ja.encode)?0:ua.gradient)&&Qa(a.explicit,["encode","gradient"])}return a}}function dg(a){const b=a.component.legends,e={};for(const k of ee(b)){var h=a.getScaleComponent(k);h=p(h.get("domains"));if(e[h])for(const A of e[h])zh(A,
b[k])||e[h].push(b[k]);else e[h]=[b[k].clone()]}return eh(e).flat().map(k=>{{var A=a.config,Q=k.combine();k=Object.assign({},Q);const Hc=Q.disable;Q=Q.labelExpr;k=(delete k.disable,delete k.labelExpr,delete k.selections,k);if(Hc)var ja=void 0;else{!1===A.aria&&void 0==k.aria&&(k.aria=!1);var ua;if(null==(ua=k.encode)?0:ua.symbols){A=k.encode.symbols.update;!A.fill||"transparent"===A.fill.value||A.stroke||k.stroke||(A.stroke={value:"transparent"});for(var Ra of wl)k[Ra]&&delete A[Ra]}k.title||delete k.title;
if(void 0!==Q){Ra=Q;var yb,Rb;(null==(yb=k.encode)?0:null==(Rb=yb.labels)?0:Rb.update)&&Ec(k.encode.labels.update.text)&&(Ra=Mb(Q,"datum.label",k.encode.labels.update.text.signal));yb=k;Rb={signal:Ra};null!=yb.encode||(yb.encode={});null!=(ja=yb.encode).labels||(ja.labels={});let sd;null!=(sd=yb.encode.labels).update||(sd.update={});yb.encode.labels.update.text=Rb}ja=k}}return ja}).filter(k=>void 0!==k)}function rf(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),Eg(a))}function Eg(a){var b=
a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:h}=e;if(b.data){const k={signal:`[${b.size.map(A=>A.signal).join(", ")}]`};b=b.data.reduce((A,Q)=>{Q=Ec(Q)?Q.signal:`data('${a.lookupDataSource(Q)}')`;A.includes(Q)||A.push(Q);return A},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:h,size:k,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:h},{translate:{signal:"[width / 2, height / 2]"}},
e)]}function ng(a){var b=a.component;if(Fg(a))if(a.hasProjection){var e=tc(a.specifiedProjection);var h=!(e&&(null!=e.scale||null!=e.translate));const A=h?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:void 0;if(h){h=[];const {encoding:ja}=a;for(k of[["longitude","latitude"],["longitude2","latitude2"]])(ue(ja[k[0]])||ue(ja[k[1]]))&&h.push({signal:a.getName(`geojson_${h.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&h.push({signal:a.getName(`geojson_${h.length}`)});
0===h.length&&h.push(a.requestDataName(tg.Main));var k=h}else k=void 0;let Q;a=new Hl(a.projectionName(!0),Object.assign({},null!=(Q=tc(a.config.projection))?Q:{},null!=e?e:{}),A,k);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=me(a);b.projection=e}function Je(a,b){const e=pc(Pl,h=>!g.hasOwnProperty(a.explicit,h)&&!g.hasOwnProperty(b.explicit,h)||g.hasOwnProperty(a.explicit,h)&&g.hasOwnProperty(b.explicit,h)&&na(a.get(h),b.get(h))?!0:!1);if(na(a.size,b.size)){if(e)return a;
if(na(a.explicit,{}))return b;if(na(b.explicit,{}))return a}return null}function me(a){if(0!==a.children.length){var b;for(var e of a.children)ng(e);e=pc(a.children,h=>{if(h=h.component.projection){if(b)return(h=Je(b,h))&&(b=h),!!h;b=h}return!0});if(b&&e){e=a.projectionName(!0);const h=new Hl(e,b.specifiedProjection,b.size,sf(b.data));for(const k of a.children)if(a=k.component.projection)a.isFit&&h.data.push(...k.component.projection.data),k.renameProjection(a.get("name"),e),a.merged=!0;return h}}}
function Ke(a,b,e){let h;e=null!=(h=ff(e,void 0))?h:{};b=`${Za(e)}_${b}`;return a.getName(`${b}_bins`)}function qe(a,b,e){let h;h="as"in a?g.isString(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[td(a,{forAs:!0}),td(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},ff(b,void 0));var k=a.field;k=`${Za(b)}_${k}`;var A={signal:e.getName(`${k}_bins`),extentSignal:e.getName(`${k}_extent`)};const {signal:Q,extentSignal:ja}=A;if(Ba(b.extent)){var ua=b.extent;ua=bj(e,ua.param,ua);delete b.extent}a=Object.assign({},
{bin:b,field:a.field,as:[h]},Q?{signal:Q}:{},ja?{extentSignal:ja}:{},ua?{span:ua}:{});return{key:k,binComponent:a}}function hg(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}function Jg(a,b){a=mb(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=hg(b.slice(5,b.length)),`timeParse(${a},'${b}')`;
if(b.startsWith("utc:"))return b=hg(b.slice(4,b.length)),`utcParse(${a},'${b}')`;Z(`Unrecognized parse "${b}".`);return null}function Cg(a){const b={};ra(a.filter,e=>{if(zb(e)){let h=null;if(cf(e))h=Ia(e.equal);else if(re(e))h=Ia(e.lte);else if(df(e))h=Ia(e.lt);else if(nf(e))h=Ia(e.gt);else if(T(e))h=Ia(e.gte);else if(ta(e))h=e.range[0];else if(eb(e)){let k;h=(null!=(k=e.oneOf)?k:e["in"])[0]}h&&(gb(h)?b[e.field]="date":g.isNumber(h)?b[e.field]="number":g.isString(h)&&(b[e.field]="string"));e.timeUnit&&
(b[e.field]="date")}});return b}function fh(a){function b(h){if(Wd(h))e[h.field]="date";else{var k;if(k="quantitative"===h.type)k=h.aggregate,k=g.isString(k)&&Ab(["min","max"],k);k?e[h.field]="number":1<ob(h.field)?h.field in e||(e[h.field]="flatten"):yd(h)&&Gd(h.sort)&&1<ob(h.sort.field)&&(h.sort.field in e||(e[h.sort.field]="flatten"))}}const e={};(Fg(a)||Sh(a))&&a.forEachFieldDef((h,k)=>{Uc(h)?b(h):(k=v(k),k=a.fieldDef(k),b(Object.assign({},h,{type:k.type})))});if(Fg(a)){const {mark:h,markDef:k,
encoding:A}=a;if(fb(h)&&!a.encoding.order){const Q=A["horizontal"===k.orient?"y":"x"];!Pa(Q)||"quantitative"!==Q.type||Q.field in e||(e[Q.field]="number")}}return e}function Lh(a){return a instanceof oa||a instanceof n||a instanceof J}function li(a){return a.stack.stackBy.reduce((b,e)=>{(e=td(e.fieldDef))&&b.push(e);return b},[])}function nj(a){return g.isArray(a)&&a.every(b=>g.isString(b))&&1<a.length}function oj(a){function b(e){if(!(e instanceof Ri)){const h=e.clone();if(h instanceof xh){const k=
"scale_"+h.getSource();h.setSource(k);a.model.component.data.outputNodes[k]=h}else(h instanceof Ei||h instanceof Ne||h instanceof ef||h instanceof ke)&&h.addDimensions(a.fields);for(const k of e.children.flatMap(b))k.parent=h;return[h]}return e.children.flatMap(b)}return b}function Hj(a){if(a instanceof Ri)if(1!==a.numChildren()||a.children[0]instanceof xh){var b=a.model.component.data.main;hk(b);const e=oj(a);a=a.children.map(e).flat();for(const h of a)h.parent=b}else b=a.children[0],(b instanceof
Ei||b instanceof Ne||b instanceof ef||b instanceof ke)&&b.addDimensions(a.fields),b.swapWithParent(),Hj(a);else a.children.map(Hj)}function hk(a){if(a instanceof xh&&a.type===tg.Main&&1===a.numChildren()){const b=a.children[0];b instanceof Ri||(b.swapWithParent(),hk(a))}}function lj(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!lj(b.children))return!1}return!0}function Qh(a,b){let e=!1;for(const h of b)e=a.optimize(h)||e;return e}function Ij(a,b,e){let h=a.sources,k=
!1;k=Qh(new fe,h)||k;k=Qh(new ge(b),h)||k;h=h.filter(A=>0<A.numChildren());k=Qh(new Ye,h)||k;h=h.filter(A=>0<A.numChildren());e||(k=Qh(new Fe,h)||k,k=Qh(new Yc(b),h)||k,k=Qh(new je,h)||k,k=Qh(new Ue,h)||k,k=Qh(new kd,h)||k,k=Qh(new Tg,h)||k,k=Qh(new zd,h)||k,k=Qh(new wd,h)||k);a.sources=h;return k}function Jj(a){const b=a.component.scales;for(const Ra of ee(b)){var e=a,h=Ra,k=e.getScaleComponent(h).get("type"),{encoding:A}=e;var Q=e.scaleDomain(h);var ja=e.typedFieldDef(h),ua=e.config.scale;if("unaggregated"===
Q){const {valid:yb,reason:Rb}=Xg(ja,k);yb||(Z(Rb),Q=void 0)}else void 0===Q&&ua.useUnaggregatedDomain&&({valid:ja}=Xg(ja,k),ja&&(Q="unaggregated"));Q!==e.scaleDomain(h)&&(e.specifiedScales[h]=Object.assign({},e.specifiedScales[h],{domain:Q}));e="x"===h&&ue(A.x2)?ue(A.x)?lh(Oi(k,Q,e,"x"),Oi(k,Q,e,"x2"),"domain","scale",Ck):Oi(k,Q,e,"x2"):"y"===h&&ue(A.y2)?ue(A.y)?lh(Oi(k,Q,e,"y"),Oi(k,Q,e,"y2"),"domain","scale",Ck):Oi(k,Q,e,"y2"):Oi(k,Q,e,h);b[Ra].setWithExplicit("domains",e);Q=h=void 0;k=a.component.scales[Ra];
ja=a.specifiedScales[Ra].domain;A=null==(Q=a.fieldDef(Ra))?void 0:Q.bin;Q=(null==ja?void 0:ja.param)&&ja;A=g.isObject(A)&&Ba(A.extent)&&A.extent;(Q||A)&&k.set("selectionExtent",null!=(h=Q)?h:A,!0);if(a.component.data.isFaceted){for(h=a;!Sh(h)&&h.parent;)h=h.parent;if("shared"===h.component.resolve.scale[Ra])for(const yb of e.value)Rc(yb)&&(yb.data="scale_"+yb.data.replace("scale_",""))}}}function Xj(a){for(var b of a.children){var e=b;Fg(e)?Jj(e):Xj(e)}e=a.component.scales;for(const k of ee(e)){let A;
b=null;for(const Q of a.children){var h=Q.component.scales[k];h&&(A=void 0===A?h.getWithExplicit("domains"):lh(A,h.getWithExplicit("domains"),"domains","scale",Ck),h=h.get("selectionExtent"),b&&h&&b.param!==h.param&&Z("The same selection must be used to override scale domains in a layered view."),b=h)}e[k].setWithExplicit("domains",A);b&&e[k].set("selectionExtent",b,!0)}}function Nl(a,b,e){return a.map(h=>({signal:`{data: ${jf(h,{timeUnit:e,type:b})}}`}))}function lk(a,b,e){let h;e=null==(h=Md(e))?
void 0:h.unit;return"temporal"===b||e?Nl(a,b,e):[a]}function Oi(a,b,e,h){const {encoding:k,markDef:A,mark:Q,config:ja,stack:ua}=e;var Ra=ue(k[h]),{type:yb}=Ra;const Rb=Ra.timeUnit;if(null==b?0:b.unionWith)return h=Oi(a,void 0,e,h),Ra=lk(b.unionWith,yb,Rb),If([...Ra,...h.value]);if(Ec(b))return If([b]);if(b&&"unaggregated"!==b&&(null==b||!b.param))return If(lk(b,yb,Rb));if(ua&&h===ua.fieldChannel){if("normalize"===ua.offset)return sg([[0,1]]);Ra=e.requestDataName(tg.Main);return sg([{data:Ra,field:e.vgField(h,
{suffix:"start"})},{data:Ra,field:e.vgField(h,{suffix:"end"})}])}const Hc=ki[h]&&Pa(Ra)?em(e,h,a):void 0;if(lc(Ra))return h=lk([Ra.datum],yb,Rb),sg(h);if("unaggregated"===b)return h=e.requestDataName(tg.Main),{field:Ra}=Ra,sg([{data:h,field:td({field:Ra,aggregate:"min"})},{data:h,field:td({field:Ra,aggregate:"max"})}]);if(Wa(Ra.bin)){if(xc(a))return"bin-ordinal"===a?sg([]):sg([{data:qb(Hc)?e.requestDataName(tg.Main):e.requestDataName(tg.Raw),field:e.vgField(h,Ze(Ra,h)?{binSuffix:"range"}:{}),sort:!0!==
Hc&&g.isObject(Hc)?Hc:{field:e.vgField(h,{}),op:"min"}}]);({bin:b}=Ra);if(Wa(b)){const sd=Ke(e,Ra.field,b);return sg([new Le(()=>{const Lc=e.getSignalName(sd);return`[${Lc}.start, ${Lc}.stop]`})])}return sg([{data:e.requestDataName(tg.Main),field:e.vgField(h,{})}])}return Ra.timeUnit&&Ab(["time","utc"],a)&&(yb=k[C(h)],G(Ra,yb,A,ja))?(b=e.requestDataName(tg.Main),Ra=N({fieldDef:Ra,fieldDef2:yb,markDef:A,config:ja}),Ra=qc(Q)&&.5!==Ra,sg([{data:b,field:e.vgField(h,Ra?{suffix:"offsetted_rect_start"}:
{})},{data:b,field:e.vgField(h,{suffix:Ra?"offsetted_rect_end":"end"})}])):Hc?sg([{data:qb(Hc)?e.requestDataName(tg.Main):e.requestDataName(tg.Raw),field:e.vgField(h),sort:Hc}]):sg([{data:e.requestDataName(tg.Main),field:e.vgField(h)}])}function Zk(a,b){const {op:e,field:h,order:k}=a;return Object.assign({},{op:null!=e?e:b?"sum":"min"},h?{field:pb(h)}:{},k?{order:k}:{})}function em(a,b,e){if(xc(e)){var h=a.fieldDef(b);e=h.sort;if(ae(e))return{op:"min",field:Be(h,b),order:"ascending"};({stack:h}=a);
var k=h?new Set([...h.groupbyFields,...h.stackBy.map(A=>A.fieldDef.field)]):void 0;if(Gd(e))return a=h&&!k.has(e.field),Zk(e,a);if(null!=e&&e.encoding){const {encoding:A,order:Q}=e;a=a.fieldDef(A);const {aggregate:ja,field:ua}=a;b=h&&!k.has(ua);if(u(ja)||K(ja))return Zk({field:td(a),order:Q},b);if(va(ja)||!ja)return Zk({op:ja,field:ua,order:Q},b)}else{if("descending"===e)return{op:"min",field:a.vgField(b),order:"descending"};if(Ab(["ascending",void 0],e))return!0}}}function Xg(a,b){const {aggregate:e,
type:h}=a;return e?g.isString(e)&&!Wk.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===h&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${p(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${p(a)}).`}}function Ck(a,b,e,h){if(a.explicit&&b.explicit){var k=b.value;e=`Conflicting ${h.toString()} property "${e.toString()}" (${p(a.value)} and ${p(k)}). Using the union of the two domains.`;
Z(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function Dk(a){var b=rb(a.map(k=>Rc(k)?(k=Object.assign({},k),delete k.sort,k):k),kc),e=rb(a.map(k=>{if(Rc(k))return k=k.sort,void 0===k||qb(k)||("op"in k&&"count"===k.op&&delete k.field,"ascending"===k.order&&delete k.order),k}).filter(k=>void 0!==k),kc);if(0!==b.length){if(1===b.length){b=a[0];if(Rc(b)&&0<e.length){var h=e[0];1<e.length?(Z("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),h=
e.filter(k=>g.isObject(k)&&"op"in k&&"min"!==k.op),h=e.every(k=>g.isObject(k)&&"op"in k)&&1===h.length?h[0]:!0):g.isObject(h)&&"field"in h&&b.field===h.field&&(h=h.order?{order:h.order}:!0);return Object.assign({},b,{sort:h})}return b}e=rb(e.map(k=>{if(qb(k)||!("op"in k)||g.isString(k.op)&&k.op in Wl)return k;Z(`Dropping sort property ${p(k)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),kc);1===e.length?h=e[0]:1<e.length&&(Z("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
h=!0);e=rb(a.map(k=>Rc(k)?k.data:null),k=>k);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(k=>k.field)},h?{sort:h}:{}):Object.assign({},{fields:b},h?{sort:h}:{})}}function ck(a){if(Rc(a)&&g.isString(a.field))return a.field;var b=g.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const h of a.fields)if(Rc(h)&&g.isString(h.field))if(!e)e=h.field;else if(e!==h.field)return Z("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
e;Z("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=g.isArray(a)?!1:"fields"in a&&"data"in a;if(b)return Z("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
a=a.fields[0],g.isString(a)?a:void 0}function dj(a,b){b=a.component.scales[b].get("domains").map(e=>{Rc(e)&&(e.data=a.lookupDataSource(e.data));return e});return Dk(b)}function nl(a){return cj(a)||Pk(a)?a.children.reduce((b,e)=>b.concat(nl(e)),Ek(a)):Ek(a)}function Ek(a){return ee(a.component.scales).reduce((b,e)=>{var h=a.component.scales[e];if(h.merged)return b;var k=h.combine(),A=Object.assign({},k);const Q=k.name,ja=k.type;var ua=k.selectionExtent;const Ra=k.reverse;A=(delete A.name,delete A.type,
delete A.selectionExtent,delete A.domains,delete A.range,delete A.reverse,A);k=k.range;D(e)?zc(k)&&(k={step:{signal:`${Q}_step`}}):g.isObject(k)&&Rc(k)&&(k=Object.assign({},k,{data:a.lookupDataSource(k.data)}));e=dj(a,e);ua?(ua=bj(a,ua.param,ua),h={signal:Tc(h.get("type"))&&g.isArray(e)&&e[0]>e[1]?`isValid(${ua}) && reverse(${ua})`:ua}):h=null;b.push(Object.assign({},{name:Q,type:ja},e?{domain:e}:{},h?{domainRaw:h}:{},{range:k},void 0!==Ra?{reverse:Ra}:{},A));return b},[])}function Kj(a,b){var e=
a.fieldDef(b);if(null==e?0:e.bin){const {bin:h,field:k}=e;e=B(b);const A=a.getName(e);if(g.isObject(h)&&h.binned&&void 0!==h.step)return new Le(()=>{var Q=a.scaleName(b);Q=`(domain("${Q}")[1] - domain("${Q}")[0]) / ${h.step}`;return`${a.getSignalName(A)} / (${Q})`});if(Wa(h)){const Q=Ke(a,k,h);return new Le(()=>{var ja=a.getSignalName(Q);ja=`(${ja}.stop - ${ja}.start) / ${ja}.step`;return`${a.getSignalName(A)} / (${ja})`})}}}function wi(a,b){const e=b.specifiedScales[a];var {size:h}=b,k=b.getScaleComponent(a).get("type");
for(var A of sh)if(void 0!==e[A]){const ua=md(k,A),Ra=de(a,A);if(ua)if(Ra)Z(Ra);else switch(A){case "range":k=e.range;if(g.isArray(k)){if(D(a))return If(k.map(yb=>{if("width"===yb||"height"===yb){yb=b.getName(yb);const Rb=b.getSignalName.bind(b);return Le.fromName(Rb,yb)}return yb}))}else if(g.isObject(k))return If({data:b.requestDataName(tg.Main),field:k.field,sort:{op:"min",field:b.vgField(a)}});return If(k);case "scheme":return If(mi(e[A]))}else Z(ce(k,A,a))}A="x"===a||"xOffset"===a?"width":"height";
h=h[A];if(gf(h))if(D(a))if(xc(k)){if(h=Lj(h,b,a))return If({step:h})}else Z(Vd(A));else if(a in fj&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(h=Uj(h,k)))return If(h);const {rangeMin:Q,rangeMax:ja}=e;a=Ol(a,b);return(void 0!==Q||void 0!==ja)&&md(k,"rangeMin")&&g.isArray(a)&&2===a.length?If([null!=Q?Q:a[0],null!=ja?ja:a[1]]):sg(a)}function mi(a){return!g.isString(a)&&a.name?Object.assign({},{scheme:a.name},oc(a,["name"])):{scheme:a}}function il(a,b,e){let {center:h}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};var k=B(a);k=b.getName(k);const A=b.getSignalName.bind(b);return"y"===a&&Tc(e)?h?[Le.fromName(Q=>`${A(Q)}/2`,k),Le.fromName(Q=>`-${A(Q)}/2`,k)]:[Le.fromName(A,k),0]:h?[Le.fromName(Q=>`-${A(Q)}/2`,k),Le.fromName(Q=>`${A(Q)}/2`,k)]:[0,Le.fromName(A,k)]}function Ol(a,b){const {size:e,config:h,mark:k,encoding:A}=b;var {type:Q}=ue(A[a]);const ja=b.getScaleComponent(a).get("type"),{domain:ua,domainMid:Ra}=b.specifiedScales[a];switch(a){case "x":case "y":return Ab(["point",
"band"],ja)&&(Q=Yj(a,e,h.view),gf(Q))?{step:Lj(Q,b,a)}:il(a,b,ja);case "xOffset":case "yOffset":return og(a,b,ja);case "size":Q=b.component.scales[a].get("zero");Q=Fi(k,Q,h);const yb=Ti(k,e,b,h);return zi.has(ja)?Si(Q,yb,Zj(ja,h,ua,a)):[Q,yb];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Le(()=>{const Rb=b.getSignalName("width"),Hc=b.getSignalName("height");return`min(${Rb},${Hc})/2`})];case "strokeWidth":return[h.scale.minStrokeWidth,h.scale.maxStrokeWidth];
case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===ja?"nominal"===Q?"category":"ordinal":void 0!==Ra?"diverging":"rect"===k||"geoshape"===k?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[h.scale.minOpacity,h.scale.maxOpacity]}}function Lj(a,b,e){var {encoding:h}=b,k=b.getScaleComponent(e);e=E(e);const A=h[e];if("offset"===Lf({step:a,offsetIsDiscrete:$c(A)&&$b(A.type)})&&Jf(h,
e)){h=b.getScaleComponent(e);b=`domain('${b.scaleName(e)}').length`;if("band"===h.get("type")){var Q;let Ra;e=null!=(Ra=null!=(Q=h.get("paddingInner"))?Q:h.get("padding"))?Ra:0;var ja;let yb;Q=null!=(yb=null!=(ja=h.get("paddingOuter"))?ja:h.get("padding"))?yb:0;b=`bandspace(${b}, ${e}, ${Q})`}var ua;ja=null!=(ua=k.get("paddingInner"))?ua:k.get("padding");a=a.step;k=b;ua=ja;ua=Ec(ua)?ua.signal:g.stringValue(ua);return{signal:`${a} * ${k} / (1-${ua})`}}return a.step}function Uj(a,b){if("offset"===Lf({step:a,
offsetIsDiscrete:xc(b)}))return{step:a.step}}function og(a,b,e){var h="xOffset"===a?"x":"y",k=b.getScaleComponent(h);if(!k)return il(h,b,e,{center:!0});k=k.get("type");const A=b.scaleName(h),{markDef:Q,config:ja}=b;if("band"===k)return b=Yj(h,b.size,b.config.view),gf(b)&&(b=Uj(b,e))?b:[0,{signal:`bandwidth('${A}')`}];e=b.encoding[h];return Pa(e)&&e.timeUnit?(a=Ae(e.timeUnit,ua=>`scale('${A}', ${ua})`),b=b.config.scale.bandWithNestedOffsetPaddingInner,h=N({fieldDef:e,markDef:Q,config:ja})-.5,k=0!==
h?` + ${h}`:"",b?(e=Ec(b)?`${b.signal}/2`+k:`${b/2+h}`,b=Ec(b)?`(1 - ${b.signal}/2)`+k:`${1-b/2+h}`,[{signal:`${e} * (${a})`},{signal:`${b} * (${a})`}]):[0,{signal:a}]):Fb(`Cannot use ${a} scale if ${h} scale is not discrete.`)}function Yj(a,b,e){a="x"===a?"width":"height";return(b=b[a])?b:gg(e,a)}function Zj(a,b,e,h){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&g.isArray(e))return e.length+1;Z(`Domain for ${h} is required for threshold scale.`);
return 3}}function Si(a,b,e){const h=()=>{const k=Yb(b),A=Yb(a),Q=`(${k} - ${A}) / (${e} - 1)`;return`sequence(${A}, ${k} + ${Q}, ${Q})`};return Ec(b)?new Le(h):{signal:h()}}function Fi(a,b,e){if(b)return Ec(b)?{signal:`${b.signal} ? 0 : ${Fi(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(Cd("size",
a));}function Ti(a,b,e,h){e={x:Kj(e,"x"),y:Kj(e,"y")};switch(a){case "bar":case "tick":if(void 0!==h.scale.maxBandSize)return h.scale.maxBandSize;const k=pj(b,e,h.view);return g.isNumber(k)?k-1:new Le(()=>`${k.signal} - 1`);case "line":case "trail":case "rule":return h.scale.maxStrokeWidth;case "text":return h.scale.maxFontSize;case "point":case "square":case "circle":if(h.scale.maxSize)return h.scale.maxSize;const A=pj(b,e,h.view);return g.isNumber(A)?Math.pow(.95*A,2):new Le(()=>`pow(${.95} * ${A.signal}, 2)`)}throw Error(Cd("size",
a));}function pj(a,b,e){const h=gf(a.width)?a.width.step:rg(e,"width"),k=gf(a.height)?a.height.step:rg(e,"height");return b.x||b.y?new Le(()=>`min(${[b.x?b.x.signal:h,b.y?b.y.signal:k].join(", ")})`):Math.min(h,k)}function qj(a,b){if(Fg(a)){const Q=a.component.scales,{config:ja,encoding:ua,markDef:Ra,specifiedScales:yb}=a;for(const Rb of ee(Q)){var e=yb[Rb];const Hc=Q[Rb];var h=a.getScaleComponent(Rb),k=ue(ua[Rb]),A=e[b];const sd=h.get("type"),Lc=h.get("padding");h=h.get("paddingInner");const od=
md(sd,b),Ld=de(Rb,b);void 0!==A&&(od?Ld&&Z(Ld):Z(ce(sd,b,Rb)));if(od&&void 0===Ld)if(void 0!==A)switch(A=k.timeUnit,k=k.type,b){case "domainMax":case "domainMin":gb(e[b])||"temporal"===k||A?Hc.set(b,{signal:jf(e[b],{type:k,timeUnit:A})},!0):Hc.set(b,e[b],!0);break;default:Hc.copyKeyFromObject(b,e)}else e=b in Yf?Yf[b]({model:a,channel:Rb,fieldOrDatumDef:k,scaleType:sd,scalePadding:Lc,scalePaddingInner:h,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:Ra,config:ja,hasNestedOffsetScale:wg(ua,
Rb),hasSecondaryRangeChannel:!!ua[C(Rb)]}):ja.scale[b],void 0!==e&&Hc.set(b,e,!1)}}else ll(a,b)}function Gi(a){if(Fg(a)){const b=a.component.scales;for(const e of yk){const h=b[e];if(!h)continue;const k=wi(e,a);h.setWithExplicit("range",k)}}else ll(a,"range")}function ll(a,b){const e=a.component.scales;for(var h of a.children)"range"===b?Gi(h):qj(h,b);for(const k of ee(e)){let A;for(const Q of a.children)if(h=Q.component.scales[k])h=h.getWithExplicit(b),A=lh(A,h,b,"scale",Rg((ja,ua)=>{switch(b){case "range":if(ja.step&&
ua.step)return ja.step-ua.step}return 0}));e[k].setWithExplicit(b,A)}}function rj(a,b){const e=b.bin;if(Wa(e)){const h=Ke(a,b.field,e);return new Le(()=>a.getSignalName(h))}if(X(e)&&g.isObject(e)&&void 0!==e.step)return{step:e.step}}function ak(a,b,e,h,k){let A=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(D(b)){const {bandPaddingInner:Q,barBandPaddingInner:ja,rectBandPaddingInner:ua,bandWithNestedOffsetPaddingInner:Ra}=k;return A?Ra:ma(Q,"bar"===e?ja:ua)}if(b in fj&&
h===$g.BAND)return k.offsetBandPaddingInner}}function bk(a,b,e,h,k){let A=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(D(b)){const {bandPaddingOuter:Q,bandWithNestedOffsetPaddingOuter:ja}=k;if(A)return ja;if(e===$g.BAND)return ma(Q,Ec(h)?{signal:`${h.signal}/2`}:h/2)}else if(b in fj){if(e===$g.POINT)return.5;if(e===$g.BAND)return k.offsetBandPaddingOuter}}function Ui(a,b,e,h){const k=Fk(b,e,h,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:A}=a;if(!ki[b])return null;
if(void 0!==A){if(!Sa(b,A))return Z(`Channel "${b}" does not work with "${A}" scale. We are using "${k}" scale instead.`),k;var Q;if(Q=Pa(e))Q=e.type,Q=!(Ab(["ordinal","nominal"],Q)?void 0===A||xc(A):"temporal"===Q?Ab([$g.TIME,$g.UTC,void 0],A):"quantitative"===Q?Ii.has(A)||zi.has(A)||void 0===A:1);return Q?(Z(`FieldDef does not work with "${A}" scale. We are using "${k}" scale instead.`),k):A}return k}function Fk(a,b,e,h){switch(b.type){case "nominal":case "ordinal":if(O(a)||"discrete"===W(a))return"shape"===
a&&"ordinal"===b.type&&Z(be(a,"ordinal")),"ordinal";if(D(a)||a in fj){if(Ab(["rect","bar","image","rule"],e.type)||h)return"band"}else if("arc"===e.type&&a in ik)return"band";a=e[B(a)];if(Kc(a))return"band";let k;return Dd(b)&&(null==(k=b.axis)?0:k.tickBand)?"band":"point";case "temporal":if(!O(a)){if("discrete"===W(a))return Z(be(a,"temporal")),"ordinal";if(Pa(b)&&b.timeUnit&&Md(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(O(a)){if(Pa(b)&&Wa(b.bin))return"bin-ordinal"}else if("discrete"===
W(a))return Z(be(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);}function dk(a){let {ignoreRange:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};mj(a);Fg(a)?Jj(a):Xj(a);for(const e of mk)qj(a,e);b||Gi(a)}function mj(a){if(Fg(a)){var b=a.component;const {encoding:ua,mark:Ra,markDef:yb}=a;var e={};for(var h of yk){var k=ue(ua[h]);if(!k||Ra!==Xi||"shape"!==h||"geojson"!==k.type){var A=k&&k.scale;if(k&&null!==A&&!1!==A){null!=
A||(A={});var Q=wg(ua,h);k=Ui(A,h,k,yb,Q);e[h]=new qf(a.scaleName(`${h}`,!0),{value:k,explicit:A.type===k})}}}b.scales=e}else{h=a.component;A=a.component.scales={};k={};const ua=a.component.resolve;for(Q of a.children){mj(Q);for(var ja of ee(Q.component.scales)){let Ra,yb;null!=(Ra=ua.scale)[yb=ja]||(Ra[yb]=rd(ja,a));if("shared"===ua.scale[ja]){const Rb=k[ja],Hc=Q.component.scales[ja].getWithExplicit("type");if(Rb){const sd=qh[Rb.value],Lc=qh[Hc.value];sd===Lc||"ordinal-position"===sd&&"time"===Lc||
"ordinal-position"===Lc&&"time"===sd?k[ja]=lh(Rb,Hc,"type","scale",Zi):(ua.scale[ja]="independent",delete k[ja])}else k[ja]=Hc}}}for(b of ee(k)){Q=a.scaleName(b,!0);A[b]=new qf(Q,k[b]);for(e of a.children)if(ja=e.component.scales[b])e.renameScale(ja.get("name"),Q),ja.merged=!0}h.scales=A}}function Fg(a){return"unit"===(null==a?void 0:a.type)}function Sh(a){return"facet"===(null==a?void 0:a.type)}function Pk(a){return"concat"===(null==a?void 0:a.type)}function cj(a){return"layer"===(null==a?void 0:
a.type)}function vk(a){function b(h,k){h instanceof oa&&!(h.isGenerator||"url"in h.data)&&(a.push(k),k={name:null,source:k.name,transform:[]});if(h instanceof c)if(h.parent instanceof oa&&!k.source){var A;k.format=Object.assign({},null!=(A=k.format)?A:{},{parse:h.assembleFormatParse()});k.transform.push(...h.assembleTransforms(!0))}else k.transform.push(...h.assembleTransforms());if(h instanceof Ri)k.name||(k.name=`data_${e++}`),!k.source||0<k.transform.length?(a.push(k),h.data=k.name):h.data=k.source,
a.push(...h.assemble());else switch((h instanceof n||h instanceof J||h instanceof Il||h instanceof aj||h instanceof ij||h instanceof Jl||h instanceof Ei||h instanceof Kl||h instanceof ef||h instanceof ke||h instanceof nm||h instanceof om||h instanceof pm||h instanceof qm||h instanceof rm||h instanceof sm||h instanceof d||h instanceof tm||h instanceof um||h instanceof vm)&&k.transform.push(h.assemble()),(h instanceof ei||h instanceof ui||h instanceof Bk||h instanceof Ne||h instanceof hl)&&k.transform.push(...h.assemble()),
h instanceof xh&&(k.source&&0===k.transform.length?h.setSource(k.source):h.parent instanceof xh?h.setSource(k.name):(k.name||(k.name=`data_${e++}`),h.setSource(k.name),1===h.numChildren()&&(a.push(k),k={name:null,source:k.name,transform:[]}))),h.numChildren()){case 0:h instanceof xh&&(!k.source||0<k.transform.length)&&a.push(k);break;case 1:b(h.children[0],k);break;default:k.name||(k.name=`data_${e++}`);A=k.name;!k.source||0<k.transform.length?a.push(k):A=k.source;for(const Q of h.children)b(Q,{name:null,
source:A,transform:[]})}}let e=0;return b}function Vj(a){const b=[],e=vk(b);for(const h of a.children)e(h,{source:a.name,name:null,transform:[]});return b}function wk(a,b){const e=[];var h=vk(e);let k=0;for(const A of a.sources){A.hasName()||(A.dataName=`source_${k++}`);const Q=A.assemble();h(A,Q)}for(const A of e)0===A.transform.length&&delete A.transform;h=0;for(const A of e.entries()){const [Q,ja]=A;let ua;0!==(null!=(ua=ja.transform)?ua:[]).length||ja.source||e.splice(h++,0,e.splice(Q,1)[0])}for(const A of e){let Q;
for(const ja of null!=(Q=A.transform)?Q:[])"lookup"===ja.type&&(ja.from=a.outputNodes[ja.from].getSource())}for(const A of e)A.name in b&&(A.values=b[A.name]);return e}function Mk(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Cl(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:h,resolve:k}=a.component;k.axis[b]=xd(k,b);if("shared"===k.axis[b]){const A="x"===b?"column":"row",Q=
h[A];for(const ja of e.component.axes[b]){b=ja.get("orient");b="top"===b||"left"===b||Ec(b)?"header":"footer";let ua,Ra;null!=(ua=Q)[Ra=b]||(ua[Ra]=[Mk(a,A,!1)]);(e=U(ja,"main",a.config,{header:!0}))&&Q[b][0].axes.push(e);ja.mainExtracted=!0}}}}function Nk(a){for(const b of a.children)b.parseLayoutSize()}function xk(a,b){const e=gd(b),h=V(e),k=a.component.resolve,A=a.component.layoutSize;let Q;for(const ja of a.children){const ua=ja.component.layoutSize.getWithExplicit(e);let Ra;const yb=null!=(Ra=
k.scale[h])?Ra:rd(h,a);if("independent"===yb&&"step"===ua.value){Q=void 0;break}if(Q){if("independent"===yb&&Q.value!==ua.value){Q=void 0;break}Q=lh(Q,ua,e,"")}else Q=ua}if(Q){for(const ja of a.children)a.renameSignal(ja.getName(e),a.getName(b)),ja.component.layoutSize.set(e,"merged",!1);A.setWithExplicit(b,Q)}else A.setWithExplicit(b,{explicit:!1,value:void 0})}function Lk(a,b){const e=a.config;var h=a.getScaleComponent("width"===b?"x":"y");if(h)return a=h.get("type"),h=h.get("range"),xc(a)?(b=gg(e.view,
b),zc(h)||gf(b)?"step":b):fg(e.view,b);if(a.hasProjection||"arc"===a.mark)return fg(e.view,b);b=gg(e.view,b);return gf(b)?b.step:b}function bl(a,b,e){return td(b,Object.assign({},{suffix:`by_${td(a)}`},null!=e?e:{}))}function pl(a,b){for(const h of b){b=h.data;if(a.name&&h.hasName()&&a.name!==h.dataName)continue;let k;const A=null==(k=a.format)?void 0:k.mesh;let Q;var e=null==(Q=b.format)?void 0:Q.feature;if(A&&e)continue;let ja;const ua=null==(ja=a.format)?void 0:ja.feature;if((ua||e)&&ua!==e)continue;
let Ra;e=null==(Ra=b.format)?void 0:Ra.mesh;if(!A&&!e||A===e)if("values"in a&&"values"in b){if(na(a.values,b.values))return h}else if("url"in a&&"url"in b){if(a.url===b.url)return h}else if(Bg(a)&&a.name===h.dataName)return h}return null}function fm(a,b){if(a.data||!a.parent){if(null===a.data)return a=new oa({values:[]}),b.push(a),a;const e=pl(a.data,b);if(e)return Mf(a.data)||(e.data.format=Ya({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new oa(a.data);
b.push(a);return a}return a.parent.component.data.facetRoot?a.parent.component.data.facetRoot:a.parent.component.data.main}function jk(a){var b=fm(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:h}=a.component.data;var k=a.data;const A=k&&(Mf(k)||"url"in k||"values"in k)||!a.parent?new oh:a.parent.component.data.ancestorParse.clone();if(Mf(k))"sequence"in k?b=new J(b,k.sequence):"graticule"in k&&(b=new n(b,k.graticule)),A.parseNothing=!0;else{let Se;null===(null==k?void 0:null==
(Se=k.format)?void 0:Se.parse)&&(A.parseNothing=!0)}var Q;b=null!=(Q=c.makeExplicit(b,a,A))?Q:b;b=new d(b);k=a.parent&&cj(a.parent);if((Fg(a)||Sh(a))&&k){var ja;b=null!=(ja=ei.makeFromEncoding(b,a))?ja:b}if(0<a.transforms.length){ja=0;for(var ua of a.transforms){var Ra=Q=void 0;if("calculate"in ua)Ra=b=new ij(b,ua),Q="derived";else if("filter"in ua){Ra=Cg(ua);var yb=void 0;Ra=b=null!=(yb=c.makeWithAncestors(b,{},Ra,A))?yb:b;b=new aj(b,a,ua.filter)}else if("bin"in ua)Ra=b=ei.makeFromTransform(b,ua,
a),Q="number";else if("timeUnit"in ua)Q="date",void 0===A.getWithExplicit(ua.field).value&&(b=new c(b,{[ua.field]:Q}),A.set(ua.field,Q,!1)),Ra=b=ui.makeFromTransform(b,ua);else if("aggregate"in ua)Ra=b=Ei.makeFromTransform(b,ua),Q="number",qi(a)&&(b=new d(b));else if("lookup"in ua)Ra=b=Kl.make(b,a,ua,ja++),Q="derived";else if("window"in ua)Ra=b=new ef(b,ua),Q="number";else if("joinaggregate"in ua)Ra=b=new ke(b,ua),Q="number";else if("stack"in ua)Ra=b=Ne.makeFromTransform(b,ua),Q="derived";else if("fold"in
ua)Ra=b=new nm(b,ua),Q="derived";else if("extent"in ua&&!("density"in ua))Ra=b=new vm(b,ua),Q="derived";else if("flatten"in ua)Ra=b=new om(b,ua),Q="derived";else if("pivot"in ua)Ra=b=new um(b,ua),Q="derived";else if("sample"in ua)b=new tm(b,ua);else if("impute"in ua)Ra=b=Bk.makeFromTransform(b,ua),Q="derived";else if("density"in ua)Ra=b=new pm(b,ua),Q="derived";else if("quantile"in ua)Ra=b=new rm(b,ua),Q="derived";else if("regression"in ua)Ra=b=new sm(b,ua),Q="derived";else if("loess"in ua)Ra=b=new qm(b,
ua),Q="derived";else{Z(`Ignoring an invalid transform: ${p(ua)}.`);continue}if(Ra&&void 0!==Q){let Se;for(const pf of null!=(Se=Ra.producedFields())?Se:[])A.set(pf,Q,!1)}}}ua={};if(Fg(a)&&a.component.selection)for(var Rb of ee(a.component.selection)){yb=a.component.selection[Rb];for(const Se of yb.project.items)!Se.channel&&1<ob(Se.field)&&(ua[Se.field]="flatten")}Rb=fh(a);var Hc;b=null!=(Hc=c.makeWithAncestors(b,{},Object.assign({},ua,Rb),A))?Hc:b;Fg(a)&&(b=hl.parseAll(b,a),b=Jl.parseAll(b,a));if(Fg(a)||
Sh(a)){if(!k){let Se;b=null!=(Se=ei.makeFromEncoding(b,a))?Se:b}var sd;b=null!=(sd=ui.makeFromEncoding(b,a))?sd:b;b=ij.parseAllForSortIndex(b,a)}sd=a.getDataName(tg.Raw);Hc=new xh(b,sd,tg.Raw,h);b=e[sd]=Hc;if(Fg(a)){if(sd=Ei.makeFromEncoding(b,a))b=sd,qi(a)&&(b=new d(b));var Lc;b=null!=(Lc=Bk.makeFromEncoding(b,a))?Lc:b;var od;b=null!=(od=Ne.makeFromEncoding(b,a))?od:b}if(Fg(a)){let Se;b=null!=(Se=Il.make(b,a))?Se:b}od=a.getDataName(tg.Main);Lc=new xh(b,od,tg.Main,h);b=e[od]=Lc;if(Fg(a)){var Ld;for(var Pd of Wi(null!=
(Ld=a.component.selection)?Ld:{})){const [Se,pf]=Pd;Ld=a.getName(`lookup_${Se}`);a.component.data.outputNodes[Ld]=pf.materialized=new xh(new aj(Lc,a,{param:Se}),Ld,tg.Lookup,a.component.data.outputNodeRefCounts)}}Ld=null;if(Sh(a)){Pd=a.getName("facet");let Se;{Ld=b;const {row:pf,column:Gf}=a.facet;if(pf&&Gf){od=null;for(We of[pf,Gf])if(Gd(We.sort)){const {field:Dg,op:Pg="min"}=We.sort;Ld=od=new ke(Ld,{joinaggregate:[{op:Pg,field:Dg,as:bl(We,We.sort,{forAs:!0})}],groupby:[td(We)]})}var We=od}else We=
null}b=null!=(Se=We)?Se:b;Ld=new Ri(b,a,Pd,Lc.getSource());e[Pd]=Ld}return Object.assign({},a.component.data,{outputNodes:e,outputNodeRefCounts:h,raw:Hc,main:Lc,facetRoot:Ld,ancestorParse:A})}function gm(a,b,e){const {encoding:h,config:k}=a;let A;const Q=null!=(A=ue(h[b]))?A:ue(h[C(b)]);a=a.axis(b)||{};const {format:ja,formatType:ua}=a;if(Xd(ua))return Object.assign({},{text:Ge({fieldOrDatumDef:Q,field:"datum.value",format:ja,formatType:ua,config:k})},e);if(void 0===ja&&void 0===ua&&k.customFormatTypes){if("quantitative"===
dc(Q)){if(Dd(Q)&&"normalize"===Q.stack&&k.normalizedNumberFormatType)return Object.assign({},{text:Ge({fieldOrDatumDef:Q,field:"datum.value",format:k.normalizedNumberFormat,formatType:k.normalizedNumberFormatType,config:k})},e);if(k.numberFormatType)return Object.assign({},{text:Ge({fieldOrDatumDef:Q,field:"datum.value",format:k.numberFormat,formatType:k.numberFormatType,config:k})},e)}if("temporal"===dc(Q)&&k.timeFormatType&&Pa(Q)&&!Q.timeUnit)return Object.assign({},{text:Ge({fieldOrDatumDef:Q,
field:"datum.value",format:k.timeFormat,formatType:k.timeFormatType,config:k})},e)}return e}function rl(a){return oi.reduce((b,e)=>{a.component.scales[e]&&(b[e]=[jm(e,a)]);return b},{})}function hm(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let h=0;h<e;h++){const k=a[h],A=b[h];if(!!k!==!!A)return;if(k&&A){const Q=k.getWithExplicit("orient"),ja=A.getWithExplicit("orient");if(Q.explicit&&ja.explicit&&Q.value!==ja.value)return;a[h]=im(k,A)}}}else return b.map(e=>e.clone());return a}
function im(a,b){for(const e of Am){const h=lh(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(k,A)=>{switch(e){case "title":return ub(k,A);case "gridScale":return{explicit:k.explicit,value:ma(k.value,A.value)}}return yf(k,A,e,"axis")});a.setWithExplicit(e,h)}return a}function Ql(a,b,e,h,k){if("disable"===b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Ec(e.labelAngle)?e.labelAngle:db(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||
!!e.labelAngle;case "title":if(a===ie(h,k))return!0}return a===e[b]}function jm(a,b){let e=b.axis(a);const h=new Bm;var k=ue(b.encoding[a]);const {mark:A,config:Q}=b;var ja,ua,Ra,yb=(null==(ja=e)?void 0:ja.orient)||(null==(ua=Q["x"===a?"axisX":"axisY"])?void 0:ua.orient)||(null==(Ra=Q.axis)?void 0:Ra.orient)||("x"===a?"bottom":"left");ua=b.getScaleComponent(a).get("type");ja=Db(a,ua,yb,b.config);var Rb;Ra=void 0!==e?!e:jc("disable",Q.style,null==(Rb=e)?void 0:Rb.style,ja).configValue;h.set("disable",
Ra,void 0!==e);if(Ra)return h;e=e||{};Rb=Vc(k,e,a,Q.style,ja);Ra=ld(e.formatType,k,ua);const Hc=tf(k,k.type,e.format,e.formatType,Q,!0);k={fieldOrDatumDef:k,axis:e,channel:a,model:b,scaleType:ua,orient:yb,labelAngle:Rb,format:Hc,formatType:Ra,mark:A,config:Q};for(const od of Am)if(yb=od in Ej?Ej[od](k):$i[od]?e[od]:void 0,ua=void 0!==yb,Rb=Ql(yb,od,e,b,a),ua&&Rb)h.set(od,yb,Rb);else{const {configValue:Ld,configFrom:Pd}=$i[od]&&"values"!==od?jc(od,Q.style,e.style,ja):{};Ra=void 0!==Ld;ua&&!Ra?h.set(od,
yb,Rb):("vgAxisConfig"!==Pd||Im.has(od)&&Ra||Hf(Ld)||Ec(Ld))&&h.set(od,Ld,!1)}var sd;const Lc=null!=(sd=e.encoding)?sd:{};sd=ok.reduce((od,Ld)=>{if(!h.hasAxisPart(Ld))return od;var Pd;const We=nc(null!=(Pd=Lc[Ld])?Pd:{},b);Pd="labels"===Ld?gm(b,a,We):We;void 0===Pd||Xa(Pd)||(od[Ld]={update:Pd});return od},{});Xa(sd)||h.set("encode",sd,!!e.encoding||void 0!==e.labelAngle);return h}function Tl(a){let {encoding:b,size:e}=a;for(const h of oi)a=B(h),gf(e[a])&&rc(b[h])&&(delete e[a],Z(Vd(a)));return e}
function cl(a,b){var e=Object,h=e.assign,k=vf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),A=xe("x",a,{defaultPos:"mid"}),Q=xe("y",a,{defaultPos:"mid"}),ja=Id("size",a),ua=Id("angle",a);a=b?{shape:{value:b}}:Id("shape",a);return h.call(e,{},k,A,Q,ja,ua,a)}function ql(a){if(Ab([Mh,Ai,xj],a.mark)){var b=qa(a.mark,a.encoding);if(0<b.length)return km(a,b)}else if(a.mark===hi&&(b=zk.some(e=>yc(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return Ul(a);
return Ok(a)}function km(a,b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(tg.Main),data:a.requestDataName(tg.Main),groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Ok(a,{fromPrefix:"faceted_path_"})}]}function Ul(a){const [b]=Ok(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),h=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{})};var k=(Ra,yb)=>{yb=[h({prefix:"min",suffix:"start",expr:yb}),h({prefix:"max",suffix:"start",expr:yb}),h({prefix:"min",suffix:"end",expr:yb}),h({prefix:"max",suffix:"end",expr:yb})];return`${Ra}(${yb.map(Rb=>`scale('${e}',${Rb})`).join(",")})`};let A;"x"===a.stack.fieldChannel?(k=Object.assign({},Zb(b.encode.update,["y","yc","y2","height",...zk]),{x:{signal:k("min","datum")},x2:{signal:k("max","datum")},clip:{value:!0}}),A={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=
Object.assign({},oc(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(k=Object.assign({},Zb(b.encode.update,["x","xc","x2","width"]),{y:{signal:k("min","datum")},y2:{signal:k("max","datum")},clip:{value:!0}}),A={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},oc(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var Q of zk){var ja=Gc(Q,a.markDef,a.config);b.encode.update[Q]?(k[Q]=b.encode.update[Q],delete b.encode.update[Q]):
ja&&(k[Q]=kb(ja));ja&&(b.encode.update[Q]={value:0})}Q=[];var ua;if(0<(null==(ua=a.stack.groupbyChannels)?void 0:ua.length))for(const Ra of a.stack.groupbyChannels){ua=a.fieldDef(Ra);(ja=td(ua))&&Q.push(ja);let yb,Rb;((null==(yb=ua)?0:yb.bin)||(null==(Rb=ua)?0:Rb.timeUnit))&&Q.push(td(ua,{binSuffix:"end"}))}k="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Ra,yb)=>{if(b.encode.update[yb])return Object.assign({},Ra,{[yb]:b.encode.update[yb]});
const Rb=Gc(yb,a.markDef,a.config);return void 0!==Rb?Object.assign({},Ra,{[yb]:kb(Rb)}):Ra},k);k.stroke&&(k.strokeForeground={value:!0},k.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(tg.Main),name:"stack_group_"+a.requestDataName(tg.Main),groupby:Q,aggregate:{fields:[h({suffix:"start"}),h({suffix:"start"}),h({suffix:"end"}),h({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:k},marks:[{type:"group",encode:{update:A},marks:[b]}]}]}function lm(a){const {encoding:b,
stack:e,mark:h,markDef:k,config:A}=a;var Q=b.order;if(!(!g.isArray(Q)&&bd(Q)&&Ac(Q.value)||!Q&&Ac(yc("order",k,A)))){if((g.isArray(Q)||Pa(Q))&&!e)return ud(Q,{expr:"datum"});if(fb(h)){const ja="horizontal"===k.orient?"y":"x",ua=b[ja];if(Pa(ua)){Q=ua.sort;if(g.isArray(Q))return{field:td(ua,{prefix:ja,suffix:"sort_index",expr:"datum"})};if(Gd(Q))return{field:td({aggregate:eg(a.encoding)?Q.op:void 0,field:Q.field},{expr:"datum"})};if(null!=Q&&Q.encoding)return a=a.fieldDef(Q.encoding),{field:td(a,{expr:"datum"}),
order:Q.order};if(null!==Q){let Ra;return{field:td(ua,{binSuffix:(null==(Ra=a.stack)?0:Ra.impute)?"mid":void 0,expr:"datum"})}}}}}}function Ok(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:h,encoding:k,config:A}=a;var Q=h.clip;var ja=a.getScaleComponent("x");var ua=a.getScaleComponent("y");ja=(null==ja?0:ja.get("selectionExtent"))||(null==ua?0:ua.get("selectionExtent"))?!0:void 0;ua=a.component.projection;Q=ma(Q,ja,ua&&!ua.isFit?!0:void 0);ja=
hc(h);ua=k.key;const Ra=lm(a);var yb;if(a.component.selection){for(var Rb=yb=ee(a.component.selection).length,Hc=a.parent;Hc&&0===Rb;)Rb=ee(Hc.component.selection).length,Hc=Hc.parent;yb=Rb?{interactive:0<yb||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else yb=null;Rb=yc("aria",h,A);Hc=Ll[e].postEncodingTransform?Ll[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Ll[e].vgMark},Q?{clip:!0}:{},ja?{style:ja}:{},ua?{key:ua.field}:{},Ra?{sort:Ra}:{},yb?yb:{},
!1===Rb?{aria:Rb}:{},{from:{data:b.fromPrefix+a.requestDataName(tg.Main)},encode:{update:Ll[e].encodeEntry(a)}},Hc?{transform:Hc}:{})]}function dl(a,b,e,h,k){if("facet"in a)return new Ml(a,b,e,k);if("layer"in a)return new Cm(a,b,e,h,k);if(Bf(a))return new Dm(a,b,e,h,k);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Jm(a,b,e,k);throw Error(Ka(a));}function Vl(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let h=3<arguments.length?arguments[3]:void 0;const k=a.config?
vh(a.config):void 0;e=[].concat(a.assembleSelectionData([]),wk(a.component.data,e));const A=a.assembleProjections(),Q=a.assembleTitle(),ja=a.assembleGroupStyle(),ua=a.assembleGroupEncodeEntry(!0);let Ra=a.assembleLayoutSignals();Ra=Ra.filter(Hc=>"width"!==Hc.name&&"height"!==Hc.name||void 0===Hc.value?!0:(b[Hc.name]=+Hc.value,!1));var yb=Object.assign({},b);const Rb=b.params;yb=(delete yb.params,yb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:
{},yb,Q?{title:Q}:{},ja?{style:ja}:{},ua?{encode:{update:ua}}:{},{data:e},0<A.length?{projections:A}:{},a.assembleGroup([...Ra,...a.assembleSelectionTopLevelSignals([]),...Ie(Rb)]),k?{config:k}:{},h?{usermeta:h}:{})}const sf=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>p(a)).join(",")})`};const ee=Object.keys,eh=Object.values,Wi=Object.entries;let Hk=42;const Gk=Object.getPrototypeOf(structuredClone({})),ek={theta:1,theta2:1,radius:1,radius2:1},Hi={longitude:1,longitude2:1,
latitude:1,latitude2:1},Rl=ee(Hi),ej=Object.assign({},{x:1,y:1,x2:1,y2:1},ek,Hi,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),sj={row:1,column:1,facet:1},Yh=ee(sj),Fj=Object.assign({},ej,sj),Dl=ee(Fj);var Wj=Object.assign({},Fj),ni=(delete Wj.order,delete Wj.detail,delete Wj.tooltip,Wj),kk=Object.assign({},ni);const tj=(delete kk.row,delete kk.column,
delete kk.facet,kk),Ik="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Mj=ee(ej);var Ah=Object.assign({},ej);const Vi=(delete Ah.x,delete Ah.y,delete Ah.x2,delete Ah.y2,delete Ah.xOffset,delete Ah.yOffset,delete Ah.latitude,delete Ah.longitude,delete Ah.latitude2,delete Ah.longitude2,delete Ah.theta,delete Ah.theta2,delete Ah.radius,delete Ah.radius2,Ah),Jk=ee(Vi),fk={x:1,y:1},oi=ee(fk),ik={theta:1,radius:1},ol=ee(ik),fj={xOffset:1,yOffset:1};var xi=Object.assign({},Vi);const el=(delete xi.text,
delete xi.tooltip,delete xi.href,delete xi.url,delete xi.description,delete xi.detail,delete xi.key,delete xi.order,xi),fl=ee(el),ki=Object.assign({},fk,ik,fj,el),yk=ee(ki),El={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Aj=Object.assign({},El);const Sl=(delete Aj.geoshape,Aj),gk={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,
max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Wl={count:1,min:1,max:1},Xl=new Set(["count","valid","missing","distinct"]),Vk=new Set(["count","sum","distinct","valid","missing"]),Wk=new Set("mean average median q1 q3 min max".split(" ")),$k=ee({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,
strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),cm={arc:1,
area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},zk=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Bl=g.logger(g.Warn);let Qi=Bl;const pi="january february march april may june july august september october november december".split(" "),Nj=pi.map(a=>a.substr(0,3)),yi="sunday monday tuesday wednesday thursday friday saturday".split(" "),Kk=yi.map(a=>a.substr(0,3)),zl={year:1,quarter:1,month:1,week:1,
day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Xk=ee(zl),Qk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},uj={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},$g={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},qh={linear:"numeric",log:"numeric",
pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Rh={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ii=new Set(["linear","log","pow","sqrt","symlog"]),gh=new Set([...Ii,
"time","utc"]),zi=new Set(["quantile","quantize","threshold"]),Rk=new Set([...gh,...zi,"sequential","identity"]),vj=new Set(["ordinal","bin-ordinal","point","band"]);var gi=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const nk=(delete gi.type,delete gi.domain,delete gi.range,delete gi.rangeMax,
delete gi.rangeMin,delete gi.scheme,gi),mk=ee(nk),zg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Zh=zg.arc,Ai=zg.area,hi=zg.bar,Ji=zg.image,Mh=zg.line,Nh=zg.point,Kg=zg.rect,Th=zg.rule,Al=zg.text,wj=zg.tick,xj=zg.trail,Bi=zg.circle,gj=zg.square,Xi=zg.geoshape,Yi=new Set(ee(zg)),sl="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
Oj=ee({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),hj=ee({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),vl={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},yj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},ri=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;
case "functional":{const {aggregate:e,bin:h,timeUnit:k,field:A}=a;K(e)?a=`${A} for argmax(${e.argmax})`:u(e)?a=`${A} for argmin(${e.argmin})`:(a=k&&!dd(k)?Md(k):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||Wa(h)&&"bin")?`${a.toUpperCase()}(${A})`:A)}return a;default:return Ce(a,b)}};let Li=ri;const Ci={compatible:!0},Ng={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",
vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},
tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},ok=["domain","grid","labels","ticks","title"],pk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",
domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",
minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",
titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rk={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,
labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},$i=Object.assign({},rk,{style:1,labelExpr:1,encoding:1}),pg=ee({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class Ug{constructor(a,
b){this.name=a;this.run=b}hasMatchingType(a){return Bf(a)?(a=a.mark,(pd(a)?a.type:a)===this.name):!1}}const th=new Ug("boxplot",Qe),qk=new Ug("errorbar",Rf),Pj=new Ug("errorband",qg),zj={};Gg("boxplot",Qe,["box","median","outliers","rule","ticks"]);Gg("errorbar",Rf,["ticks","rule"]);Gg("errorband",qg,["band","borders"]);const mm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Qj={titleAlign:"align",titleAnchor:"anchor",
titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},tl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",
labelOrient:"orient",labelPadding:"offset"},Yl=ee(Qj),Zl=ee(tl),ul=ee({header:1,headerRow:1,headerColumn:1,headerFacet:1}),wl="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Uh=ee({align:1,bounds:1,center:1,columns:1,spacing:1}),Tk={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,
minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,
bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",
resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Ni="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Uk={text:11,guideLabel:10,
guideTitle:11,groupTitle:13,groupSubtitle:12},xl={blue:Ni[0],orange:Ni[1],red:Ni[2],teal:Ni[3],green:Ni[4],yellow:Ni[5],purple:Ni[6],pink:Ni[7],brown:Ni[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},$l=[...hj,...pg,...ul,"background","padding","legend","lineBreak","scale","style","title","view"],tk=new Set(["view",...Yi]),Ph="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
am=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class Me{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(Bf(a))return this.mapUnit(a,b);throw Error(Ka(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(h=>this.map(h,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const yl={zero:1,center:1,normalize:1},Ih=new Set([Zh,hi,Ai,Th,Nh,Bi,gj,Mh,Al,wj]),ti=new Set([hi,Ai,Zh]);class bm{constructor(){la(this,"name","path-overlay")}hasMatchingType(a,b){if(Bf(a)){const {mark:e,encoding:h}=a;a=pd(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!bi(a,b[a.type],h);case "area":return!!bi(a,
b[a.type],h)||!!Wg(a,b[a.type])}}return!1}run(a,b,e){var {config:h}=b,k=Object.assign({},a),A=a.params,Q=a.projection,ja=a.mark,ua=a.name;a=a.encoding;k=(delete k.params,delete k.projection,delete k.mark,delete k.name,delete k.encoding,k);a=Lg(a,h);ja=pd(ja)?ja:{type:ja};const Ra=bi(ja,h[ja.type],a),yb="area"===ja.type&&Wg(ja,h[ja.type]);var Rb=Object,Hc=Rb.assign;var sd=Object.assign({},"area"===ja.type&&void 0===ja.opacity&&void 0===ja.fillOpacity?{opacity:.7}:{},ja);sd=Object.assign({},sd);sd=
(delete sd.point,delete sd.line,sd);sd=1<ee(sd).length?sd:sd.type;A=[Hc.call(Rb,{},{name:ua},A?{params:A}:{},{mark:sd,encoding:oc(a,["shape"])})];ua=Ch(Vg(ja,a,h),a);Rb=a;if(ua){const {fieldChannel:Lc,offset:od}=ua;Rb=Object.assign({},a,{[Lc]:Object.assign({},a[Lc],od?{stack:od}:{})})}Rb=oc(Rb,["y2","x2"]);yb&&A.push(Object.assign({},Q?{projection:Q}:{},{mark:Object.assign({},{type:"line"},Zb(ja,["clip","interpolate","tension","tooltip"]),yb),encoding:Rb}));Ra&&A.push(Object.assign({},Q?{projection:Q}:
{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Zb(ja,["clip","tooltip"]),Ra),encoding:Rb}));Q=Object.assign({},k,{layer:A});k=Object;A=k.assign;for(const Lc of["line","area","rule","trail"])h[Lc]&&(h=Object.assign({},h,{[Lc]:oc(h[Lc],["point","line"])}));return e(Q,A.call(k,{},b,{config:h}))}}class uk{constructor(){la(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Bf(a)){const {encoding:b,mark:e}=a;if("line"===e||pd(e)&&"line"===e.type)for(const h of Ik)if(a=v(h),a=b[a],b[h]&&
(Pa(a)&&!X(a.bin)||lc(a)))return!0}return!1}run(a,b,e){const {encoding:h,mark:k}=a;var A=!!h.x2;Z(`Line mark is for continuous lines and thus cannot be used with ${A&&h.y2?"x2 and y2":A?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:g.isObject(k)?Object.assign({},k,{type:"rule"}):"rule"}),b)}}class al extends Me{constructor(){super(...arguments);la(this,"nonFacetUnitNormalizers",[th,qk,Pj,new bm,new uk])}map(a,b){if(Bf(a)){const e=Cf(a.encoding,
"row"),h=Cf(a.encoding,"column"),k=Cf(a.encoding,"facet");if(e||h||k)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:h}=b;var k=jh(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(A=>A).join("_")}:{},k?{encoding:k}:{});if(e||h)return this.mapUnitWithParentEncodingOrProjection(a,b);k=this.mapLayerOrUnit.bind(this);for(const A of this.nonFacetUnitNormalizers)if(A.hasMatchingType(a,b.config))return A.run(a,
b,k);return a}mapRepeat(a,b){return!g.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const h=a.repeat,k=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:A,column:Q,layer:ja}=h,{repeater:ua={},repeaterPrefix:Ra=""}=b;return A||Q?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},A?{row:A}:{},Q?{column:Q}:{}),spec:{repeat:{layer:ja},spec:k}}),b):Object.assign({},e,{layer:ja.map(yb=>{var Rb=Object.assign({},
ua,{layer:yb});yb=`${(k.name?`${k.name}_`:"")+Ra}child__layer_${Oa(yb)}`;Rb=this.mapLayerOrUnit(k,Object.assign({},b,{repeater:Rb,repeaterPrefix:yb}));Rb.name=yb;return Rb})})}mapNonLayerRepeat(a,b){var e=a,h=Object.assign({},e);const k=e.repeat,A=e.spec;e=e.data;h=(delete h.repeat,delete h.spec,delete h.data,h);!g.isArray(k)&&a.columns&&(a=oc(a,["columns"]),Z(Sc("repeat")));const Q=[],{repeater:ja={},repeaterPrefix:ua=""}=b,Ra=!g.isArray(k)&&k.row||[ja?ja.row:null],yb=!g.isArray(k)&&k.column||[ja?
ja.column:null];var Rb=g.isArray(k)&&k||[ja?ja.repeat:null];for(const Lc of Rb)for(const od of Ra)for(const Ld of yb){var Hc={repeat:Lc,row:od,column:Ld,layer:ja.layer};Rb=(A.name?`${A.name}_`:"")+ua+"child__"+(g.isArray(k)?`${Oa(Lc)}`:(k.row?`row_${Oa(od)}`:"")+(k.column?`column_${Oa(Ld)}`:""));Hc=this.map(A,Object.assign({},b,{repeater:Hc,repeaterPrefix:Rb}));Hc.name=Rb;Q.push(oc(Hc,["data"]))}a=g.isArray(k)?a.columns:k.column?k.column.length:1;let sd;return Object.assign({},{data:null!=(sd=A.data)?
sd:e,align:"all"},h,{columns:a,concat:Q})}mapFacet(a,b){const {facet:e}=a;Yd(e)&&a.columns&&(a=oc(a,["columns"]),Z(Sc("facet")));return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:h}=a,{parentEncoding:k,parentProjection:A,config:Q}=b,ja=nh({parentProjection:A,projection:h});b=ch({parentEncoding:k,encoding:jh(e,b.repeater)});return this.mapUnit(Object.assign({},a,ja?{projection:ja}:{},b?{encoding:b}:{}),{config:Q})}mapFacetedUnit(a,b){var e=a.encoding,
h=Object.assign({},e),k=e.row;const A=e.column;e=e.facet;const Q=(delete h.row,delete h.column,delete h.facet,h);var ja=Object.assign({},a);h=a.mark;const ua=a.width,Ra=a.projection,yb=a.height,Rb=a.view;a=a.params;ja=(delete ja.mark,delete ja.width,delete ja.projection,delete ja.height,delete ja.view,delete ja.params,delete ja.encoding,ja);const {facetMapping:Hc,layout:sd}=this.getFacetMappingAndLayout({row:k,column:A,facet:e},b);k=jh(Q,b.repeater);return this.mapFacet(Object.assign({},ja,sd,{facet:Hc,
spec:Object.assign({},ua?{width:ua}:{},yb?{height:yb}:{},Rb?{view:Rb}:{},Ra?{projection:Ra}:{},{mark:h,encoding:k},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,b){const {row:e,column:h,facet:k}=a;if(e||h){k&&(b=[...(e?["row"]:[]),...(h?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,Z(b));b={};const yb={};for(var A of["row","column"]){const Rb=a[A];if(Rb){var Q=Object.assign({},Rb);Q=(delete Q.align,delete Q.center,delete Q.spacing,delete Q.columns,
Q);b[A]=Q;for(var ja of["align","center","spacing"])if(void 0!==Rb[ja]){var ua=void 0,Ra=void 0;null!=(ua=yb)[Ra=ja]||(ua[Ra]={});yb[ja][A]=Rb[ja]}}}return{facetMapping:b,layout:yb}}Ra=Object.assign({},k);a=k.align;A=k.center;ja=k.spacing;ua=k.columns;Ra=(delete Ra.align,delete Ra.center,delete Ra.spacing,delete Ra.columns,Ra);Ra=(b=b.repeater)?Yd(Ra)?Mg(Ra,b):Ag(Ra,b):Ra;return{facetMapping:Ra,layout:Object.assign({},a?{align:a}:{},A?{center:A}:{},ja?{spacing:ja}:{},ua?{columns:ua}:{})}}mapLayer(a,
b){var e=Object.assign({},b),h=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var k=Object.assign({},a);const A=a.encoding,Q=a.projection;k=(delete k.encoding,delete k.projection,k);h=Object.assign({},e,{parentEncoding:ch({parentEncoding:h,encoding:A,layer:!0}),parentProjection:nh({parentProjection:b,projection:Q})});return super.mapLayer(Object.assign({},k,a.name?{name:[h.repeaterPrefix,a.name].filter(ja=>ja).join("_")}:{}),h)}}class ji extends Me{map(a,
b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=yg(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=yg(a,b);if(a.encoding){const e={};for(const h of Wi(a.encoding)){const [k,A]=h;e[k]=Oh(A,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const h=a.selection;e=(delete e.selection,e);return h?Object.assign({},e,{params:Wi(h).map(k=>{let [A,Q]=k;var ja=Object.assign({},Q);k=Q.init;
const ua=Q.bind,Ra=Q.empty;ja=(delete ja.init,delete ja.bind,delete ja.empty,ja);"single"===ja.type?(ja.type="point",ja.toggle=!1):"multi"===ja.type&&(ja.type="point");b.emptySelections[A]="none"!==Ra;let yb;for(const Rb of eh(null!=(yb=b.selectionPredicates[A])?yb:{}))Rb.empty="none"!==Ra;return{name:A,value:k,select:ja,bind:ua}})}):a}}class Vf extends Me{map(a,b){var e;const h=null!=(e=b.selections)?e:[];if(a.params&&!Bf(a)){e=[];for(const k of a.params)Ee(k)?h.push(k):e.push(k);a.params=e}b.selections=
h;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let h;const k=(null!=(h=b.path)?h:[]).concat(a.name);b=[];for(const A of e)if(A.views&&A.views.length)for(const Q of A.views)(g.isString(Q)&&(Q===a.name||k.includes(Q))||g.isArray(Q)&&Q.map(ja=>k.indexOf(ja)).every((ja,ua,Ra)=>-1!==ja&&(0===ua||ja>Ra[ua-1])))&&b.push(A);else b.push(A);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=Vf.prototype[a];
Vf.prototype[a]=function(e,h){var k=b,A=k.call;let Q;var ja=e.name?Object.assign({},h,{path:(null!=(Q=h.path)?Q:[]).concat(e.name)}):h;return A.call(k,this,e,ja)}}const uh=new al,mh=new ji,Jh=new Vf,ai=["background","padding"];class $h{constructor(){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new $h(sf(this.explicit),sf(this.implicit))}combine(){return Object.assign({},this.explicit,
this.implicit)}get(a){return ma(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,b){let {value:e,explicit:h}=b;void 0!==e&&this.set(a,e,h)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:h}=b;void 0!==e[a]?this.set(a,e[a],
!0):void 0!==h[a]&&this.set(a,h[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of ee(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class oh extends $h{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();
a.parseNothing=this.parseNothing;return a}}let tg=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class Wf{constructor(a,b){this.debugName=b;la(this,"_children",[]);la(this,"_parent",null);la(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
b){this._children.includes(a)?Z("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=
a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class xh extends Wf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,h){super(a,b);this.type=e;this.refCounts=h;la(this,"_source",void 0);la(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in
this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${Y()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class ui extends Wf{clone(){return new ui(null,sf(this.timeUnits))}constructor(a,b){super(a);this.timeUnits=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((h,k,A)=>{const {field:Q,
timeUnit:ja}=k;if(ja){let ua;if(dd(ja)){if(Fg(b)){const {mark:Ra,markDef:yb,config:Rb}=b,Hc=N({fieldDef:k,markDef:yb,config:Rb});if(qc(Ra)||Hc)ua={timeUnit:Md(ja),field:Q}}}else ua={as:td(k,{forAs:!0}),field:Q,timeUnit:ja};if(Fg(b)){const {mark:Ra,markDef:yb,config:Rb}=b;k=N({fieldDef:k,markDef:yb,config:Rb});qc(Ra)&&D(A)&&.5!==k&&(ua.rectBandPosition=k)}ua&&(h[kc(ua)]=ua)}return h},{});return Xa(e)?null:new ui(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;
b=(delete b.timeUnit,b);e=Md(e);b=Object.assign({},b,{timeUnit:e});return new ui(a,{[kc(b)]:b})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const b in a.timeUnits)this.timeUnits[b]||(this.timeUnits[b]=a.timeUnits[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b={};for(const e of Wi(this.timeUnits)){const [h,k]=e;a.has(void 0!==k.as?k.as:`${k.field}_end`)||(b[h]=k)}this.timeUnits=b}producedFields(){return new Set(eh(this.timeUnits).map(a=>
void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(eh(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${kc(this.timeUnits)}`}assemble(){const a=[];for(const k of eh(this.timeUnits)){const {rectBandPosition:A}=k,Q=Md(k.timeUnit);if(void 0!==k.as){const {field:ja,as:ua}=k;var b=Q,e=Object.assign({},b),h=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);const Ra=[ua,`${ua}_end`];a.push(Object.assign({},{field:pb(ja),type:"timeunit"},h?{units:Oc(h)}:{},b?{timezone:"utc"}:{},
e,{as:Ra}));a.push(...ha(Ra,A,Q))}else k&&({field:h}=k,h=h.replaceAll("\\.","."),b=F({timeUnit:Q,field:h}),e=`${h}_end`,a.push({type:"formula",expr:b,as:e}),a.push(...ha([h,e],A,Q)))}return a}}class Sj{constructor(){la(this,"hasChannel",void 0);la(this,"hasField",void 0);la(this,"hasSelectionId",void 0);la(this,"timeUnit",void 0);la(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Zg=
{defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const k of b.project.items){var h=k.channel;if(!ki[h])continue;const A=(h=a.getScaleComponent(h))?h.get("type"):void 0;h&&Tc(A)?(h.set("selectionExtent",{param:b.name,field:k.field},!0),e.push(k)):Z("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,b,e)=>{const h=b.scales.filter(A=>0===e.filter(Q=>Q.name===A.signals.data).length);
if(!a.parent||ca(a)||0===h.length)return e;a=e.filter(A=>A.name===b.name)[0];let k=a.update;if(0<=k.indexOf("vlSelectionResolve"))a.update=`{${h.map(A=>`${g.stringValue(pb(A.field))}: ${A.signals.data}`).join(", ")}}`;else{for(const A of h){const Q=`${g.stringValue(pb(A.field))}: ${A.signals.data}`;k.includes(Q)||(k=`${k.substring(0,k.length-1)}, ${Q}}`)}a.update=k}return e.concat(h.map(A=>({name:A.signals.data})))},signals:(a,b,e)=>{if(a.parent&&!ca(a))for(const h of b.scales)a=e.filter(k=>k.name===
h.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},Yk={left:"x",center:"xc",right:"x2"},Bj={top:"y",middle:"yc",bottom:"y2"},Pi=new Set(["aria","width","height"]),Rj={defined:a=>"point"===a.type&&a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:h,y:k}=b.project.hasChannel;b=a.mark;if(fb(b))return Z(`The "nearest" transform is not supported for ${b} marks.`),e;b={name:a.getName("voronoi"),type:"path",interactive:!0,
from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},fc(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:h||!k?"datum.datum.x || 0":"0"},y:{expr:k||!h?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let A=0,Q=!1;e.forEach((ja,ua)=>{let Ra;ja=null!=(Ra=ja.name)?Ra:"";ja===a.component.mark[0].name?A=ua:0<=ja.indexOf("voronoi")&&(Q=!0)});
Q||e.splice(A+1,0,b);return e}},sk={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!bh(a.bind),parse:(a,b,e)=>ii(b,e),topLevelSignals:(a,b,e)=>{const h=b.name;a=b.project;const k=b.bind,A=b.init&&b.init[0],Q=Rj.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((ja,ua)=>{const Ra=Oa(`${h}_${ja.field}`);if(!e.filter(yb=>yb.name===Ra).length){let yb,Rb;e.unshift(Object.assign({},{name:Ra},A?{init:wa(A[ua])}:{value:null},{on:b.events?[{events:b.events,
update:`datum && item().mark.marktype !== 'group' ? ${Q}[${g.stringValue(ja.field)}] : null`}]:[],bind:null!=(Rb=null!=(yb=k[ja.field])?yb:k[ja.channel])?Rb:k}))}});return e},signals:(a,b,e)=>{const h=b.name;var k=b.project;a=e.filter(Q=>Q.name===h+"_tuple")[0];b=h+"_tuple_fields";k=k.items.map(Q=>Oa(`${h}_${Q.field}`));const A=k.map(Q=>`${Q} !== null`).join(" \x26\x26 ");k.length&&(a.update=`${A} ? {fields: ${b}, values: [${k.join(", ")}]} : null`);delete a.value;delete a.on;return e}},Mi={defined:a=>
"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",h=b.name+"_toggle";return`${h} ? null : ${e}, `+("global"===b.resolve?`${h} ? null : true, `:`${h} ? null : {unit: ${rh(a)}}, `)+`${h} ? ${e} : null`}},Tj={defined:a=>{const b="global"===a.resolve&&a.bind&&bh(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&Z("Legend bindings are only supported for selections over an individual field or encoding channel.");
return b&&a},parse:(a,b,e)=>{a=sf(e);a.select=g.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});ii(b,a);if(g.isObject(e.select)&&(e.select.on||e.select.clear))for(const h of b.events){let k;h.filter=g.array(null!=(k=h.filter)?k:[]);h.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||h.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=hh(b.bind)?b.bind.legend:"click";e=g.isString(e)?
g.parseSelector(e,"view"):g.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const h=hh(b.bind)&&b.bind.legend,k=Q=>ja=>{ja=sf(ja);ja.markname=Q;return ja};for(const Q of b.project.items){if(!Q.hasLegend)continue;var A=`${Oa(Q.field)}_legend`;const ja=`${a}_${A}`;0===e.filter(ua=>ua.name===ja).length&&(A=h.merge.map(k(`${A}_symbols`)).concat(h.merge.map(k(`${A}_labels`))).concat(h.merge.map(k(`${A}_entries`))),e.unshift(Object.assign({},{name:ja},b.init?{}:{value:null},{on:[{events:A,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:h.merge,update:`!event.item || !datum ? null : ${ja}`,force:!0}]})))}return e},signals:(a,b,e)=>{const h=b.name;var k=b.project;a=e.find(Q=>Q.name===h+"_tuple");var A=h+"_tuple_fields";k=k.items.filter(Q=>Q.hasLegend).map(Q=>Oa(`${h}_${Oa(Q.field)}_legend`));A=`${k.map(Q=>`${Q} !== null`).join(" \x26\x26 ")} ? {fields: ${A}, values: [${k.join(", ")}]} : null`;b.events&&0<k.length?a.on.push({events:k.map(Q=>
({signal:Q})),update:A}):0<k.length&&(a.update=A,delete a.value,delete a.on);a=e.find(Q=>Q.name===h+"_toggle");A=hh(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},a.on[0],{events:A})):a.on[0].events=A);return e}},vi=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const h=b.name,k=h+"_tuple_fields";var A=b.project,Q,ja=eh(null!=(Q=a.component.selection)?Q:{}).reduce((ua,Ra)=>"interval"===Ra.type?ua.concat(Ra.name+"_brush"):ua,[]).map(ua=>`indexof(item().mark.name, '${ua}') < 0`).join(" \x26\x26 ");
Q=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${ja?` && ${ja}`:""}`;ja=`unit: ${rh(a)}, `;b.project.hasSelectionId?ja+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue("_vgsid_")}]`:(A=A.items.map(ua=>{let Ra;return(null==(Ra=a.fieldDef(ua.channel))?0:Ra.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue(a.vgField(ua.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue(a.vgField(ua.channel,
{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue(ua.field)}]`}).join(", "),ja+=`fields: ${k}, values: [${A}]`);b=b.events;return e.concat([{name:h+"_tuple",on:b?[{events:b,update:`${Q} ? {${ja}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},g.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?ee(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},
a));if(b.translate&&!Zg.defined(b)){e=`!event.item || event.item.mark.name !== ${g.stringValue(b.name+"_brush")}`;for(const h of b.events){if(!h.between){Z(`${h} is not an ordered event stream for interval selections.`);continue}let k,A;b=g.array(null!=(A=(k=h.between[0]).filter)?A:k.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var h=b.name;const k=h+"_tuple";var A=eh(b.project.hasChannel).filter(yb=>"x"===yb.channel||"y"===yb.channel);const Q=b.init?b.init[0]:null;e.push(...A.reduce((yb,
Rb)=>yb.concat(pa(a,b,Rb,Q&&Q[Rb.index])),[]));if(a.hasProjection){var ja=g.stringValue(a.projectionName());const yb=a.projectionName()+"_center",{x:Rb,y:Hc}=b.project.hasChannel;var ua=Rb&&Rb.signals.visual;const sd=Hc&&Hc.signals.visual;var Ra=Rb?Q&&Q[Rb.index]:`${yb}[0]`;const Lc=Hc?Q&&Q[Hc.index]:`${yb}[1]`;ua="["+`[${ua?ua+"[0]":"0"}, ${sd?sd+"[0]":"0"}],`+`[${ua?ua+"[1]":a.getSizeSignalRef("width").signal}, `+`${sd?sd+"[1]":a.getSizeSignalRef("height").signal}]`+"]";Q&&(e.unshift({name:h+"_init",
init:`[scale(${ja}, [${Rb?Ra[0]:Ra}, ${Hc?Lc[0]:Lc}]), `+`scale(${ja}, [${Rb?Ra[1]:Ra}, ${Hc?Lc[1]:Lc}])]`}),Rb&&Hc||e.find(od=>od.name===yb)||e.unshift({name:yb,update:`invert(${ja}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));h=`intersect(${ua}, {markname: ${g.stringValue(a.getName("marks"))}}, unit.mark)`;ja=`{unit: ${rh(a)}}`;h=`vlSelectionTuples(${h}, ${ja})`;A=A.map(od=>od.signals.visual);return e.concat({name:k,on:[{events:[...(A.length?[{signal:A.join(" || ")}]:
[]),...(Q?[{signal:"geo_interval_init_tick"}]:[])],update:h}]})}Zg.defined(b)||(ja=h+"_scale_trigger",Ra=A.map(yb=>{var Rb=yb.channel;const {data:Hc,visual:sd}=yb.signals;yb=g.stringValue(a.scaleName(Rb));Rb=a.getScaleComponent(Rb).get("type");Rb=Tc(Rb)?"+":"";return`(!isArray(${Hc}) || `+`(${Rb}invert(${yb}, ${sd})[0] === ${Rb}${Hc}[0] && `+`${Rb}invert(${yb}, ${sd})[1] === ${Rb}${Hc}[1]))`}),Ra.length&&e.push({name:ja,value:{},on:[{events:A.map(yb=>({scale:a.scaleName(yb.channel)})),update:Ra.join(" \x26\x26 ")+
` ? ${ja} : {}`}]}));A=A.map(yb=>yb.signals.data);h=`unit: ${rh(a)}, fields: ${h+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:k},Q?{init:`{${h}: ${wa(Q)}}`}:{},A.length?{on:[{events:[{signal:A.join(" || ")}],update:`${A.join(" \x26\x26 ")} ? {${h}: [${A}]} : null`}]}:{}))},topLevelSignals:(a,b,e)=>{Fg(a)&&a.hasProjection&&b.init&&(e.filter(h=>"geo_interval_init_tick"===h.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,b,e)=>{const h=b.name,{x:k,y:A}=b.project.hasChannel,Q=null==k?void 0:k.signals.visual,ja=null==A?void 0:A.signals.visual;var ua=`data(${g.stringValue(b.name+"_store")})`;if(Zg.defined(b)||!k&&!A)return e;const Ra={x:void 0!==k?{signal:`${Q}[0]`}:{value:0},y:void 0!==A?{signal:`${ja}[0]`}:{value:0},x2:void 0!==k?{signal:`${Q}[1]`}:{field:{group:"width"}},y2:void 0!==A?{signal:`${ja}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var yb of ee(Ra))Ra[yb]=[Object.assign({},
{test:`${ua}.length && ${ua}[0].unit === ${rh(a)}`},Ra[yb]),{value:0}];yb=b.mark;ua=Object.assign({},yb);a=yb.fill;b=yb.fillOpacity;yb=yb.cursor;const Rb=(delete ua.fill,delete ua.fillOpacity,delete ua.cursor,ua);ua=ee(Rb).reduce((Hc,sd)=>{Hc[sd]=[{test:[void 0!==k&&`${Q}[0] !== ${Q}[1]`,void 0!==A&&`${ja}[0] !== ${ja}[1]`].filter(Lc=>Lc).join(" \x26\x26 "),value:Rb[sd]},{value:null}];return Hc},{});return[{name:`${h+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},
update:Ra}},...e,{name:h+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},yb?{cursor:{value:yb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Ra,ua)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const h=b.name;var k;const A=null!=(k=b.project)?k:b.project=new Sj,Q={};k={};const ja=new Set,ua=(Pd,We)=>{Pd="visual"===We?Pd.channel:Pd.field;let Se=Oa(`${h}_${Pd}`);for(let pf=1;ja.has(Se);pf++)Se=Oa(`${h}_${Pd}_${pf}`);ja.add(Se);return{[We]:Se}},Ra=b.type,yb=a.config.selection[Ra],Rb=void 0!==
e.value?g.array(e.value):null;let {fields:Hc,encodings:sd}=g.isObject(e.select)?e.select:{};if(!Hc&&!sd&&Rb)for(var Lc of Rb)if(g.isObject(Lc))for(const Pd of ee(Lc))if(tj[Pd])(sd||(sd=[])).push(Pd);else if("interval"===Ra)Z('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),sd=yb.encodings;else{let We;(null!=(We=Hc)?We:Hc=[]).push(Pd)}Hc||sd||(sd=yb.encodings,"fields"in yb&&(Hc=yb.fields));var od;for(const Pd of null!=(od=sd)?od:[])(od=a.fieldDef(Pd))?(e=
od.field,od.aggregate?Z(`Cannot project a selection on encoding channel "${Pd}" as it uses an aggregate function ("${od.aggregate}").`):e?(od.timeUnit&&!dd(od.timeUnit)&&(e=a.vgField(Pd),Lc={timeUnit:od.timeUnit,as:e,field:od.field},k[kc(Lc)]=Lc),Q[e]||(od="interval"===Ra&&ki[Pd]&&Tc(a.getScaleComponent(Pd).get("type"))?"R":od.bin?"R-RE":"E",od={field:e,channel:Pd,type:od,index:A.items.length},od.signals=Object.assign({},ua(od,"data"),ua(od,"visual")),A.items.push(Q[e]=od),A.hasField[e]=Q[e],A.hasSelectionId=
A.hasSelectionId||"_vgsid_"===e,Pd in Hi?(od.geoChannel=Pd,od.channel=L(Pd),A.hasChannel[od.channel]=Q[e]):A.hasChannel[Pd]=Q[e])):Z(cc(Pd))):Z(cc(Pd));let Ld;for(const Pd of null!=(Ld=Hc)?Ld:[])A.hasField[Pd]||(a={type:"E",field:Pd,index:A.items.length},a.signals=Object.assign({},ua(a,"data")),A.items.push(a),A.hasField[Pd]=a,A.hasSelectionId=A.hasSelectionId||"_vgsid_"===Pd);Rb&&(b.init=Rb.map(Pd=>A.items.map(We=>g.isObject(Pd)?void 0!==Pd[We.geoChannel||We.channel]?Pd[We.geoChannel||We.channel]:
Pd[We.field]:Pd)));Xa(k)||(A.timeUnit=new ui(null,k))},signals:(a,b,e)=>{const h=b.name+"_tuple_fields";return 0<e.filter(k=>k.name===h).length||b.project.hasSelectionId?e:e.concat({name:h,value:b.project.items.map(R)})}},Mi,sk,Zg,Tj,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=g.isString(b.clear)?g.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(sk.defined(b))for(const h of b.project.items)a=e.findIndex(k=>k.name===Oa(`${b.name}_${h.field}`)),-1!==
a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function h(k,A){-1!==k&&e[k].on&&e[k].on.push({events:b.clear,update:A})}if("interval"===b.type)for(const k of b.project.items)a=e.findIndex(A=>A.name===k.signals.visual),h(a,"[0, 0]"),-1===a&&(a=e.findIndex(A=>A.name===k.signals.data),h(a,"null"));else a=e.findIndex(k=>k.name===b.name+"_tuple"),h(a,"null"),Mi.defined(b)&&(a=e.findIndex(k=>k.name===b.name+"_toggle"),h(a,"false"));return e}},{defined:a=>"interval"===a.type&&
a.translate,signals:(a,b,e)=>{const h=b.name,k=Zg.defined(b),A=h+"_translate_anchor",{x:Q,y:ja}=b.project.hasChannel;let ua=g.parseSelector(b.translate,"scope");k||(ua=ua.map(Ra=>(Ra.between[0].markname=h+"_brush",Ra)));e.push({name:A,value:{},on:[{events:ua.map(Ra=>Ra.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==Q?`, extent_x: ${k?y(a,"x"):`slice(${Q.signals.visual})`}`:"")+(void 0!==ja?`, extent_y: ${k?y(a,"y"):`slice(${ja.signals.visual})`}`:"")+"}"}]},{name:h+"_translate_delta",value:{},
on:[{events:ua,update:`{x: ${A}.x - x(unit), y: ${A}.y - y(unit)}`}]});void 0!==Q&&ih(a,b,Q,"width",e);void 0!==ja&&ih(a,b,ja,"height",e);return e}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const h=b.name,k=Zg.defined(b),A=h+"_zoom_delta",{x:Q,y:ja}=b.project.hasChannel,ua=g.stringValue(a.scaleName("x")),Ra=g.stringValue(a.scaleName("y"));let yb=g.parseSelector(b.zoom,"scope");k||(yb=yb.map(Rb=>(Rb.markname=h+"_brush",Rb)));e.push({name:h+"_zoom_anchor",on:[{events:yb,update:k?"{"+
[ua?`x: invert(${ua}, x(unit))`:"",Ra?`y: invert(${Ra}, y(unit))`:""].filter(Rb=>Rb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:A,on:[{events:yb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==Q&&ug(a,b,Q,"width",e);void 0!==ja&&ug(a,b,ja,"height",e);return e}},Rj];class aj extends Wf{clone(){return new aj(null,this.model,sf(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;la(this,"expr",void 0);la(this,"_dependentFields",void 0);this.expr=
di(this.model,this.filter,this);this._dependentFields=vg(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const Ej={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:h}=a,k;return null!=(k=e.grid)?k:!xc(h)&&Pa(b)&&!Wa(null==b?void 0:b.bin)&&
!X(null==b?void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:h,channel:k}=a;return b.labelAlign||cd(e,h,k)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:h,channel:k}=a;return b.labelBaseline||Ud(e,h,k)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:h}=a;null==(a=b.labelFlush)&&(a="x"===h&&Ab(["quantitative","temporal"],
e.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:h}=a;if(null==(a=b.labelOverlap)){a=e.type;var k=Pa(e)&&!!e.timeUnit,A=Pa(e)?e.sort:void 0;a=k&&!g.isObject(A)||"nominal"!==a&&"ordinal"!==a?"log"===h||"symlog"===h?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:h,fieldOrDatumDef:k,scaleType:A}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let Q;if(null!=(Q=h.tickCount))var ja=
Q;else a:{let {fieldOrDatumDef:ua,scaleType:Ra,size:yb,values:Rb}={fieldOrDatumDef:k,scaleType:A,size:a,values:h.values};if(Rb||xc(Ra)||"log"===Ra)ja=void 0;else{if(Pa(ua)){if(Wa(ua.bin)){ja={signal:`ceil(${yb.signal}/10)`};break a}if(ua.timeUnit&&Ab(["month","hours","day","quarter"],null==(ja=Md(ua.timeUnit))?void 0:ja.unit)){ja=void 0;break a}}ja={signal:`ceil(${yb.signal}/40)`}}}return ja},tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(Pa(e)&&({timeUnit:a}=e,
a&&(a=Ae(a))))return{signal:a}},title:a=>{let {axis:b,model:e,channel:h}=a;if(void 0!==b.title)return b.title;a=ie(e,h);if(void 0!==a)return a;a=e.typedFieldDef(h);const k=e.fieldDef("x"===h?"x2":"y2");return Fa(a?[le(a)]:[],Pa(k)?[le(k)]:[])},values:a=>{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=g.isArray(a)?lf(e,a):Ec(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:h}=a;null==(a=b.zindex)&&(a="rect"===h&&ze(e)?1:0);return a}};class ij extends Wf{clone(){return new ij(null,
sf(this.transform))}constructor(a,b){super(a);this.transform=b;la(this,"_dependentFields",void 0);this._dependentFields=vg(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,h)=>{if(yd(e)&&ae(e.sort)){const {field:A,timeUnit:Q}=e;var k=e.sort;k=k.map((ja,ua)=>`${Ub({field:A,timeUnit:Q,equal:ja})} ? ${ua} : `).join("")+k.length;a=new ij(a,{calculate:k,as:Be(e,h,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${kc(this.transform)}`}}const Cj=["row","column"],Dj=["header","footer"],dm={column:{start:0,end:1},row:{start:1,end:0}},Fl=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),ml=ee(Fl);class jl extends $h{}const kl={symbols:function(a,b){let {fieldOrDatumDef:e,model:h,channel:k,legendCmpt:A,legendType:Q}=b;if("symbol"===Q){var {markDef:ja,encoding:ua,config:Ra,mark:yb}=h;b=ja.filled&&"trail"!==yb;var Rb=Object,Hc=Rb.assign,sd={};for(var Lc of sl){const pf=
Gc(Lc,h.markDef,h.config);void 0!==pf&&(sd[Lc]=kb(pf))}Lc=Hc.call(Rb,{},sd,te(h,{filled:b}));var od;Rb=null!=(od=A.get("symbolOpacity"))?od:Ra.legend.symbolOpacity;var Ld;od=null!=(Ld=A.get("symbolFillColor"))?Ld:Ra.legend.symbolFillColor;var Pd;Ld=null!=(Pd=A.get("symbolStrokeColor"))?Pd:Ra.legend.symbolStrokeColor;var We;Pd=void 0===Rb?null!=(We=we(ua.opacity))?We:ja.opacity:void 0;if(Lc.fill)if("fill"===k||b&&"color"===k)delete Lc.fill;else if(Lc.fill.field)if(od)delete Lc.fill;else{let pf;Lc.fill=
kb(null!=(pf=Ra.legend.symbolBaseFillColor)?pf:"black");Lc.fillOpacity=kb(null!=Pd?Pd:1)}else if(g.isArray(Lc.fill)){var Se;let pf,Gf;if(We=null!=(Gf=null!=(pf=ne(null!=(Se=ua.fill)?Se:ua.color))?pf:ja.fill)?Gf:b&&ja.color)Lc.fill=kb(We)}Lc.stroke&&("stroke"===k||!b&&"color"===k?delete Lc.stroke:Lc.stroke.field||Ld?delete Lc.stroke:g.isArray(Lc.stroke)&&(Se=ma(ne(ua.stroke||ua.color),ja.stroke,b?ja.color:void 0))&&(Lc.stroke={value:Se}));"opacity"!==k&&((Se=Pa(e)&&Af(h,A,e))?Lc.opacity=[Object.assign({},
{test:Se},kb(null!=Pd?Pd:1)),kb(Ra.legend.unselectedOpacity)]:Pd&&(Lc.opacity=kb(Pd)));Lc=Object.assign({},Lc,a);return Xa(Lc)?void 0:Lc}},gradient:function(a,b){let {model:e,legendType:h,legendCmpt:k}=b;if("gradient"===h){var {config:A,markDef:Q,encoding:ja}=e;b={};var ua,Ra=void 0===(null!=(ua=k.get("gradientOpacity"))?ua:A.legend.gradientOpacity)?we(ja.opacity)||Q.opacity:void 0;Ra&&(b.opacity=kb(Ra));b=Object.assign({},b,a);return Xa(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:h,
channel:k,legendCmpt:A}=b;var Q=h.legend(k)||{};b=h.config;var ja=Pa(e)?Af(h,A,e):void 0;ja=ja?[{test:ja,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:ua,formatType:Ra}=Q;Q=void 0;Xd(Ra)?Q=Ge({fieldOrDatumDef:e,field:"datum.value",format:ua,formatType:Ra,config:b}):void 0===ua&&void 0===Ra&&b.customFormatTypes&&("quantitative"===e.type&&b.numberFormatType?Q=Ge({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&
b.timeFormatType&&Pa(e)&&void 0===e.timeUnit&&(Q=Ge({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},ja?{opacity:ja}:{},Q?{text:Q}:{},a);return Xa(a)?void 0:a},entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},Gl={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:h}=a;const {format:k,formatType:A}=
e;return tf(b,b.type,k,A,h,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:h}=a;({formatType:a}=b);return ld(a,e,h)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let h,k;if(null!=(k=null!=(h=b.gradientLength)?h:e.gradientLength))a=k;else{{let {legendConfig:A,model:Q,direction:ja,orient:ua,scaleType:Ra}=a;const {gradientHorizontalMaxLength:yb,gradientHorizontalMinLength:Rb,gradientVerticalMaxLength:Hc,gradientVerticalMinLength:sd}=A;a=gh.has(Ra)?"horizontal"===ja?"top"===ua||
"bottom"===ua?Xf(Q,"width",Rb,yb):Rb:Xf(Q,"height",sd,Hc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:h}=a;var k;k=null!=(a=null!=(k=b.labelOverlap)?k:e.labelOverlap)?a:Ab(["quantile","threshold","log","symlog"],h)?"greedy":void 0;return k},symbolType:a=>{let {legend:b,markDef:e,channel:h,encoding:k}=a;if(null!=(a=b.symbolType))var A=a;else a:{a=e.type;var Q=e.shape;if("shape"!==h){const ja=null!=(A=ne(k.shape))?A:Q;if(ja){A=ja;break a}}switch(a){case "bar":case "rect":case "image":case "square":A=
"square";break a;case "line":case "trail":case "rule":A="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":A="circle";break a}A=void 0}return A},title:a=>{let {fieldOrDatumDef:b,config:e}=a;return Hd(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:h}=a;if(O(h)&&gh.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=g.isArray(a)?lf(b,a):Ec(a)?
a:void 0;return a}},Pl="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Hl extends $h{constructor(a,b,e,h){super(Object.assign({},b),{name:a});this.specifiedProjection=b;this.size=e;this.data=h;la(this,"merged",!1)}get isFit(){return!!this.data}}class ei extends Wf{clone(){return new ei(null,sf(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((h,
k,A)=>{if(Uc(k)&&Wa(k.bin)){const {key:Rb,binComponent:Hc}=qe(k,k.bin,b);var Q=Object,ja=Q.assign,ua=h[Rb];var Ra=b.config;if(Ze(k,A)){var yb;let sd;const Lc=Fg(b)?null!=(sd=null!=(yb=b.axis(A))?yb:b.legend(A))?sd:{}:{};A=td(k,{expr:"datum"});yb=td(k,{expr:"datum",binSuffix:"end"});k={formulaAs:td(k,{binSuffix:"range",forAs:!0}),formula:Dc(A,yb,Lc.format,Lc.formatType,Ra)}}else k={};h[Rb]=ja.call(Q,{},Hc,ua,k)}return h},{});return Xa(e)?null:new ei(a,e)}static makeFromTransform(a,b,e){const {key:h,
binComponent:k}=qe(b,b.bin,e);return new ei(a,{[h]:k})}merge(a,b){for(const e of ee(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=rb([...this.bins[e].as,...a.bins[e].as],kc)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),e.parent=this;a.remove()}producedFields(){return new Set(eh(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(eh(this.bins).map(a=>a.field))}hash(){return`Bin ${kc(this.bins)}`}assemble(){return eh(this.bins).flatMap(a=>
{const b=[],[e,...h]=a.as;var k=a.bin,A=Object.assign({},k);k=k.extent;A=(delete A.extent,A);A=Object.assign({},{type:"bin",field:pb(a.field),as:e,signal:a.signal},Ba(k)?{extent:null}:{extent:k},a.span?{span:{signal:`span(${a.span})`}}:{},A);!k&&a.extentSignal&&(b.push({type:"extent",field:pb(a.field),signal:a.extentSignal}),A.extent={signal:a.extentSignal});b.push(A);for(const Q of h)for(k=0;2>k;k++)b.push({type:"formula",expr:td({field:e[k]},{expr:"datum"}),as:Q[k]});a.formula&&b.push({type:"formula",
expr:a.formula,as:a.formulaAs});return b})}}class Ei extends Wf{clone(){return new Ei(null,new Set(this.dimensions),sf(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(A=>{A.aggregate&&(e=!0)});const h={},k=new Set;if(!e)return null;b.forEachFieldDef((A,Q)=>{const {aggregate:ja,field:ua}=A;if(ja)if("count"===ja)null!=h["*"]||(h["*"]={}),h["*"].count=new Set([td(A,{forAs:!0})]);
else{if(u(ja)||K(ja)){A=u(ja)?"argmin":"argmax";var Ra=ja[A];null!=h[Ra]||(h[Ra]={});h[Ra][A]=new Set([td({op:A,field:Ra},{forAs:!0})])}else null!=h[ua]||(h[ua]={}),h[ua][ja]=new Set([td(A,{forAs:!0})]);ki[Q]&&"unaggregated"===b.scaleDomain(Q)&&(null!=h[ua]||(h[ua]={}),h[ua].min=new Set([td({field:ua,aggregate:"min"},{forAs:!0})]),h[ua].max=new Set([td({field:ua,aggregate:"max"},{forAs:!0})]))}else{var yb=Fg(b)?b.encoding[C(Q)]:void 0;if(Uc(A)&&Fg(b)&&G(A,yb,b.markDef,b.config)){k.add(td(A,{}));k.add(td(A,
{suffix:"end"}));const {mark:Rb,markDef:Hc,config:sd}=b;yb=N({fieldDef:A,markDef:Hc,config:sd});qc(Rb)&&.5!==yb&&D(Q)&&(k.add(td(A,{suffix:"offsetted_rect_start"})),k.add(td(A,{suffix:"offsetted_rect_end"})));A.bin&&Ze(A,Q)&&k.add(td(A,{binSuffix:"range"}))}else Q in Hi?(Q=L(Q),k.add(b.getName(Q))):k.add(td(A));if(Q=yd(A))Q=null==(Ra=A.scale)?void 0:Ra.range,Q=g.isObject(Q)&&"field"in Q;Q&&k.add(A.scale.range.field)}});return 0===k.size+ee(h).length?null:new Ei(a,k,h)}static makeFromTransform(a,b){const e=
new Set,h={};for(const A of b.aggregate){const {op:Q,field:ja,as:ua}=A;if(Q)if("count"===Q){let Ra;null!=(Ra=h)["*"]||(Ra["*"]={});h["*"].count=new Set([ua?ua:td(A,{forAs:!0})])}else{let Ra,yb;null!=(Ra=h)[yb=ja]||(Ra[yb]={});h[ja][Q]=new Set([ua?ua:td(A,{forAs:!0})])}}let k;for(const A of null!=(k=b.groupby)?k:[])e.add(A);return 0===e.size+ee(h).length?null:new Ei(a,e,h)}merge(a){if(Ib(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of ee(a)){const h=a[e];for(const k of ee(h))if(e in
b){let A;b[e][k]=new Set([...(null!=(A=b[e][k])?A:[]),...h[k]])}else b[e]={[k]:h[k]}}return!0}La("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ee(this.measures)])}producedFields(){const a=new Set;for(const b of ee(this.measures))for(const e of ee(this.measures[b])){const h=this.measures[b][e];0===h.size?a.add(`${e}_${b}`):h.forEach(a.add,a)}return a}hash(){return`Aggregate ${kc({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],b=[],e=[];for(const h of ee(this.measures))for(const k of ee(this.measures[h]))for(const A of this.measures[h][k])e.push(A),a.push(k),b.push("*"===h?null:pb(h));return{type:"aggregate",groupby:[...this.dimensions].map(pb),ops:a,fields:b,as:e}}}class Ri extends Wf{constructor(a,b,e,h){super(a);this.model=b;this.name=e;this.data=h;la(this,"column",void 0);la(this,"row",void 0);la(this,"facet",void 0);la(this,"childModel",void 0);for(const k of Yh)if(a=
b.facet[k]){const {bin:A,sort:Q}=a;this[k]=Object.assign({},{name:b.getName(`${k}_domain`),fields:[td(a),...(Wa(A)?[td(a,{binSuffix:"end"})]:[])]},Gd(Q)?{sortField:Q}:g.isArray(Q)?{sortIndexField:Be(a,k)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of Yh)this[b]&&(a+=` ${b.charAt(0)}:${kc(this[b])}`);return a}get fields(){const a=[];for(const b of Yh){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of Yh)this[b]&&
(this[b].sortField&&a.add(this[b].sortField.field),this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const h of oi){var b=this.childModel.component.scales[h];if(b&&!b.merged){var e=b.get("type");b=b.get("range");xc(e)&&zc(b)&&(e=dj(this.childModel,h),(e=ck(e))?a[h]=e:Z(mc(h)))}}return a}assembleRowColumnHeaderData(a,b,e){const h={row:"y",column:"x",facet:void 0}[a],k=[],A=
[],Q=[];h&&e&&e[h]&&(b?(k.push(`distinct_${e[h]}`),A.push("max")):(k.push(e[h]),A.push("distinct")),Q.push(`distinct_${e[h]}`));const {sortField:ja,sortIndexField:ua}=this[a];if(ja){const {op:Ra="min",field:yb}=ja;k.push(yb);A.push(Ra);Q.push(td(ja,{forAs:!0}))}else ua&&(k.push(ua),A.push("max"),Q.push(ua));return{name:this[a].name,source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},k.length?{fields:k,ops:A,as:Q}:{})]}}assembleFacetHeaderData(a){const {columns:b}=
this.model.layout,{layoutHeaders:e}=this.model.component,h=[],k={};for(const ua of Cj){for(const Ra of Dj){let yb;var A=null!=(yb=e[ua]&&e[ua][Ra])?yb:[];for(const Rb of A){let Hc;if(0<(null==(Hc=Rb.axes)?void 0:Hc.length)){k[ua]=!0;break}}}k[ua]&&(A=`length(data("${this.facet.name}"))`,h.push({name:`${this.facet.name}_${ua}`,transform:[{type:"sequence",start:0,stop:"row"===ua?b?{signal:`ceil(${A} / ${b})`}:1:b?{signal:`min(${A}, ${b})`}:{signal:A}}]}))}const {row:Q,column:ja}=k;(Q||ja)&&h.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return h}assemble(){const a=[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:h,row:k,facet:A}=this;if(h&&k&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var Q;let ja;const ua=[].concat(null!=(Q=e.x)?Q:[],null!=(ja=e.y)?ja:[]);Q=ua.map(()=>"distinct");a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:ua,ops:Q}]})}for(const ja of["column","row"])this[ja]&&a.push(this.assembleRowColumnHeaderData(ja,b,e));A&&(b=this.assembleFacetHeaderData(e))&&
a.push(...b);return a}}class c extends Wf{clone(){return new c(null,sf(this._parse))}constructor(a,b){super(a);la(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${kc(this._parse)}`}static makeExplicit(a,b,e){let h={};b=b.data;let k;!Mf(b)&&(null==b?0:null==(k=b.format)?0:k.parse)&&(h=b.format.parse);return this.makeWithAncestors(a,h,{},e)}static makeWithAncestors(a,b,e,h){for(var k of ee(e)){const Q=h.getWithExplicit(k);void 0!==Q.value&&(Q.explicit||Q.value===e[k]||"derived"===Q.value||
"flatten"===e[k]?delete e[k]:Z(ed(k,e[k],Q.value)))}for(var A of ee(b))k=h.get(A),void 0!==k&&(k===b[A]?delete b[A]:Z(ed(A,b[A],k)));b=new $h(b,e);h.copyAll(b);e={};for(const Q of ee(b.combine()))A=b.get(Q),null!==A&&(e[Q]=A);return 0===ee(e).length||h.parseNothing?null:new c(a,e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of ee(this._parse)){const e=this._parse[b];1===ob(b)&&(a[b]=e)}return a}producedFields(){return new Set(ee(this._parse))}dependentFields(){return new Set(ee(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ee(this._parse).filter(b=>a?1<ob(b):!0).map(b=>{const e=Jg(b,this._parse[b]);return e?{type:"formula",expr:e,as:Vb(b)}:null}).filter(b=>null!==b)}}class d extends Wf{clone(){return new d(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class n extends Wf{clone(){return new n(null,this.params)}constructor(a,
b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${kc(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class J extends Wf{clone(){return new J(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${kc(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class oa extends Wf{constructor(a){super(null);la(this,"_data",void 0);la(this,"_name",void 0);la(this,"_generator",void 0);null!=a||(a={name:"source"});let b;Mf(a)||(b=a.format?Object.assign({},oc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];Ab(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Bg(a)||
Mf(a))this._data={};this._generator=Mf(a);a.name&&(this._name=a.name);b&&!Xa(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var za=new WeakMap;class tb{constructor(){if(za.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");za.set(this,{writable:!0,value:void 0});H(this,za,!1)}setModified(){H(this,za,!0)}get modifiedFlag(){var a=ya(this,za,"get");return a.get?a.get.call(this):a.value}}class uc extends tb{getNodeDepths(a,b,e){e.set(a,b);for(const h of a.children)this.getNodeDepths(h,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class Nc extends tb{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class zd extends Nc{mergeNodes(a,b){const e=b.shift();for(const h of b)a.removeChild(h),h.parent=e,h.remove()}run(a){const b=a.children.map(h=>h.hash()),e={};for(let h=0;h<b.length;h++)void 0===e[b[h]]?e[b[h]]=[a.children[h]]:e[b[h]].push(a.children[h]);for(const h of ee(e))1<e[h].length&&
(this.setModified(),this.mergeNodes(a,e[h]))}}class ge extends Nc{constructor(a){super();la(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&qi(a)}run(a){!(a instanceof d)||this.requiresSelectionId&&(Lh(a.parent)||a.parent instanceof Ei||a.parent instanceof c)||(this.setModified(),a.remove())}}class je extends tb{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof ui&&(e=a.producedFields(),Nb(e,b)&&(this.setModified(),a.removeFormulas(b),0===
a.producedFields.length&&a.remove()));for(const h of a.children)this.run(h,new Set([...b,...e]))}}class fe extends Nc{constructor(){super()}run(a){a instanceof xh&&!a.isRequired()&&(this.setModified(),a.remove())}}class Fe extends uc{run(a){if(!(Lh(a)||1<a.numChildren()))for(const b of a.children)b instanceof c&&(a instanceof c?(this.setModified(),a.merge(b)):Ob(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class Ue extends uc{run(a){const b=[...a.children];var e=
a.children.filter(k=>k instanceof c);if(1<a.numChildren()&&1<=e.length){const k={};var h=new Set;for(const A of e){e=A.parse;for(const Q of ee(e))Q in k?k[Q]!==e[Q]&&h.add(Q):k[Q]=e[Q]}for(const A of h)delete k[A];if(!Xa(k)){this.setModified();h=new c(a,k);for(const A of b){if(A instanceof c)for(const Q of ee(k))delete A.parse[Q];a.removeChild(A);A.parent=h;A instanceof c&&0===ee(A.parse).length&&A.remove()}}}}}class Ye extends uc{run(a){a instanceof xh||0<a.numChildren()||a instanceof Ri||a instanceof
oa||(this.setModified(),a.remove())}}class Tg extends uc{run(a){a=a.children.filter(e=>e instanceof ui);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class kd extends uc{run(a){var b=a.children.filter(k=>k instanceof Ei);const e={};for(var h of b)b=kc(h.groupBy),b in e||(e[b]=[]),e[b].push(h);for(const k of ee(e))if(h=e[k],1<h.length){b=h.pop();for(const A of h)b.merge(A)&&(a.removeChild(A),A.parent=b,A.remove(),this.setModified())}}}class Yc extends uc{constructor(a){super();this.model=
a}run(a){var b=!(Lh(a)||a instanceof aj||a instanceof c||a instanceof d);const e=[],h=[];for(const k of a.children)k instanceof ei&&(b&&!Ob(a.producedFields(),k.dependentFields())?e.push(k):h.push(k));if(0<e.length){b=e.pop();for(const k of e)b.merge(k,this.model.renameSignal.bind(this.model));this.setModified();a instanceof ei?a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<h.length){a=h.pop();for(const k of h)a.merge(k,this.model.renameSignal.bind(this.model));this.setModified()}}}
class wd extends uc{run(a){var b=[...a.children];if(ec(b,k=>k instanceof xh)&&!(1>=a.numChildren())){var e=[];for(const k of b)if(k instanceof xh){for(b=k;1===b.numChildren();){const [A]=b.children;if(A instanceof xh)b=A;else break}e.push(...b.children);if(h)a.removeChild(k),k.parent=h.parent,h.parent.removeChild(h),h.parent=b,this.setModified();else var h=b}else e.push(k);if(e.length){this.setModified();for(const k of e)k.parent.removeChild(k),k.parent=h}}}}class ke extends Wf{clone(){return new ke(null,
sf(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=rb(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:td(a)}hash(){return`JoinAggregateTransform ${kc(this.transform)}`}assemble(){const a=
[],b=[],e=[];for(var h of this.transform.joinaggregate)b.push(h.op),e.push(this.getDefaultName(h)),a.push(void 0===h.field?null:h.field);h=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==h?{groupby:h}:{})}}class Ne extends Wf{clone(){return new Ne(null,sf(this._stack))}constructor(a,b){super(a);la(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:h,as:k,offset:A="zero"}=b;var Q=[];const ja=[];if(void 0!==b.sort)for(const ua of b.sort)Q.push(ua.field),
ja.push(ma(ua.order,"ascending"));Q={field:Q,order:ja};b=nj(k)?k:g.isString(k)?[k,`${k}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new Ne(a,{dimensionFieldDefs:[],stackField:e,groupby:h,offset:A,sort:Q,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;const {encoding:h}=b;if(!e)return null;const {groupbyChannels:k,fieldChannel:A,offset:Q,impute:ja}=e;e=k.map(yb=>bf(h[yb])).filter(yb=>!!yb);const ua=li(b);var Ra=b.encoding.order;if(g.isArray(Ra)||Pa(Ra))Ra=ud(Ra);else{const yb=Ra&&
Ra.sort&&!Ra.field?Ra.sort:"y"===A?"descending":"ascending";Ra=ua.reduce((Rb,Hc)=>{Rb.field.push(Hc);Rb.order.push(yb);return Rb},{field:[],order:[]})}return new Ne(a,{dimensionFieldDefs:e,stackField:b.vgField(A),facetby:[],stackby:ua,sort:Ra,offset:Q,impute:ja,as:[b.vgField(A,{suffix:"start",forAs:!0}),b.vgField(A,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${kc(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;return 0<a.length?a.map(h=>h.bin?b?[td(h,{binSuffix:"mid"})]:[td(h,{}),td(h,{binSuffix:"end"})]:[td(h)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:h,stackby:k,sort:A,offset:Q,impute:ja,as:ua}=this._stack;
if(ja)for(const Ra of e){const {bandPosition:yb=.5,bin:Rb}=Ra;if(Rb){const Hc=td(Ra,{expr:"datum"}),sd=td(Ra,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${yb}*${Hc}+${1-yb}*${sd}`,as:td(Ra,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:h,groupby:[...k,...b],key:td(Ra,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:h,sort:A,as:ua,offset:Q});return a}}class ef extends Wf{clone(){return new ef(null,sf(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=rb(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?e:[]).forEach(h=>a.add(h.field));this.transform.window.map(h=>h.field).filter(h=>void 0!==h).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:td(a)}hash(){return`WindowTransform ${kc(this.transform)}`}assemble(){const a=
[],b=[],e=[],h=[];for(var k of this.transform.window)b.push(k.op),e.push(this.getDefaultName(k)),h.push(void 0===k.param?null:k.param),a.push(void 0===k.field?null:k.field);k=this.transform.frame;const A=this.transform.groupby;if(k&&null===k[0]&&null===k[1]&&b.every(Ra=>va(Ra)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==A?{groupby:A}:{});const Q=[],ja=[];if(void 0!==this.transform.sort)for(var ua of this.transform.sort){Q.push(ua.field);let Ra;ja.push(null!=(Ra=ua.order)?
Ra:"ascending")}ua=this.transform.ignorePeers;return Object.assign({},{type:"window",params:h,as:e,ops:b,fields:a,sort:{field:Q,order:ja}},void 0!==ua?{ignorePeers:ua}:{},void 0!==A?{groupby:A}:{},void 0!==k?{frame:k}:{})}}class Le{constructor(a){la(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new Le(()=>a(b))}}class qf extends $h{constructor(a,b){super({},{name:a});la(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:ec(this.get("domains"),a=>g.isArray(a)&&2===a.length&&g.isNumber(a[0])&&0>=a[0]&&g.isNumber(a[1])&&0<=a[1])}}const sh=["range","scheme"],Yf={bins:a=>{let {model:b,fieldOrDatumDef:e}=a;return Pa(e)?rj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=Ab(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:h,domainMin:k,domainMax:A,fieldOrDatumDef:Q}=a;{let ja;a=(null==(ja=bf(Q))?0:ja.bin)||g.isArray(h)||
null!=A||null!=k||Ab([$g.TIME,$g.UTC],b)?void 0:D(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:h,markDef:k,config:A}=a;a:{a=A.scale;var Q=A.bar;if(D(b)){if(gh.has(e)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:ja,orient:ua}=k;if("bar"===ja&&(!Pa(h)||!h.bin&&!h.timeUnit)&&("vertical"===ua&&"x"===b||"horizontal"===ua&&"y"===b)){a=Q.continuousBandSize;break a}}if(e===$g.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>
{let {scalePadding:b,channel:e,markDef:h,scaleType:k,config:A,hasNestedOffsetScale:Q}=a;return ak(b,e,h.type,k,A.scale,Q)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:h,scalePaddingInner:k,config:A,hasNestedOffsetScale:Q}=a;return bk(b,e,h,k,A.scale,Q)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:h,config:k}=a;a=Pa(b)?b.sort:void 0;var A=k.scale;a="x"===h&&void 0!==A.xReverse?Tc(e)&&"descending"===a?Ec(A.xReverse)?{signal:`!${A.xReverse.signal}`}:!A.xReverse:A.xReverse:Tc(e)&&
"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:h,markDef:k,scaleType:A,config:Q,hasSecondaryRangeChannel:ja}=a;a:if(a=Q.scale,h&&"unaggregated"!==h&&Tc(A)){if(g.isArray(h)){a=h[0];const ua=h[h.length-1];if(g.isNumber(a)&&0>=a&&g.isNumber(ua)&&0<=ua){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||zi.has(A))if(Pa(e)&&e.bin||!Ab([...oi,...ol],b))a=!1;else{const {orient:ua,type:Ra}=k;a=Ab(["bar","area","line","trail"],Ra)&&("horizontal"===ua&&"y"===
b||"vertical"===ua&&"x"===b)?!1:Ab(["bar","area"],Ra)&&!ja?!0:null==a?void 0:a.zero}else a=!0;return a}},Zi=Rg((a,b)=>Rh[a]-Rh[b]);class Sk{constructor(){la(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,b,e,h,k,A,Q){this.type=b;this.parent=e;this.config=k;la(this,"name",void 0);la(this,"size",void 0);la(this,"title",void 0);la(this,"description",
void 0);la(this,"data",void 0);la(this,"transforms",void 0);la(this,"layout",void 0);la(this,"scaleNameMap",void 0);la(this,"projectionNameMap",void 0);la(this,"signalNameMap",void 0);la(this,"component",void 0);la(this,"view",void 0);la(this,"children",void 0);la(this,"correctDataNames",Ra=>{let yb;if(null==(yb=Ra.from)?0:yb.data)Ra.from.data=this.lookupDataSource(Ra.from.data);let Rb,Hc;if(null==(Rb=Ra.from)?0:null==(Hc=Rb.facet)?0:Hc.data)Ra.from.facet.data=this.lookupDataSource(Ra.from.facet.data);
return Ra});this.parent=e;this.config=k;this.view=tc(Q);let ja;this.name=null!=(ja=a.name)?ja:h;this.title=vc(a.title)?{text:a.title}:a.title?tc(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new Sk;this.projectionNameMap=e?e.projectionNameMap:new Sk;this.signalNameMap=e?e.signalNameMap:new Sk;this.data=a.data;this.description=a.description;let ua;this.transforms=Gh(null!=(ua=a.transform)?ua:[]);this.layout="layer"===b||"unit"===b?{}:zf(a,b,k);this.component={data:{sources:e?e.component.data.sources:
[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new $h,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},A?sf(A):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();
this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){dk(this)}parseProjection(){ng(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){jg(this)}assembleEncodeFromView(a){a=Object.assign({},
a);a=(delete a.style,a);const b={};for(const e of ee(a)){const h=a[e];void 0!==h&&(b[e]=kb(h))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=kb(this.description)),"unit"===this.type||"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return Xa(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=
Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:h}=this,k=e.layoutHeaders,A={};for(ja of Yh){var Q=k[ja];let ua;if(null==(ua=Q)?0:ua.facetFieldDef){const {titleAnchor:Ra,titleOrient:yb}=S(["titleAnchor","titleOrient"],Q.facetFieldDef.header,h,ja);Q=Ve(ja,yb);const Rb=dm[Q][Ra];void 0!==Rb&&(A[Q]=Rb)}}var ja=Xa(A)?void 0:A;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,ja?{titleBand:ja}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=
this.component,b=[];for(var e of Yh)if(a[e].title){var h=b,k=h.push;var A=e;var Q=this.component.layoutHeaders[A].title,ja=this.config?this.config:void 0,ua=this.component.layoutHeaders[A].facetFieldDef?this.component.layoutHeaders[A].facetFieldDef:void 0;const {titleAnchor:od,titleAngle:Ld,titleOrient:Pd}=S(["titleAnchor","titleAngle","titleOrient"],ua.header,ja,A);var Ra=Ve(A,Pd),yb=db(Ld);A={name:`${A}-title`,type:"group",role:`${Ra}-title`,title:Object.assign({},{text:Q},"row"===A?{orient:"left"}:
{},{style:"guide-title"},Da(yb,Ra),aa(Ra,yb,od),wb(ja,ua,A,Yl,Qj))};k.call(h,A)}for(const od of Cj){a=b;b=a.concat;h=od;k=this.component.layoutHeaders[h];e=[];for(const Ld of Dj)if(k[Ld])for(const Pd of k[Ld]){a:{ua=void 0;A=h;var Rb=Ld,Hc=k;if(Q=Pd){ja=null;({facetFieldDef:Lc}=Hc);Ra=this.config?this.config:void 0;Lc&&Q.labels&&({labelOrient:yb}=S(["labelOrient"],Lc.header,Ra,A),"row"===A&&!Ab(["top","bottom"],yb)||"column"===A&&!Ab(["left","right"],yb))&&(ja=sb(Lc,A,Ra));const We=Sh(this)&&!Yd(this.facet),
Se=Q.axes,pf=0<(null==Se?void 0:Se.length);if(ja||pf){const Gf="row"===A?"height":"width";Ra=Object;yb=Ra.assign;Rb={name:this.getName(`${A}_${Rb}`),type:"group",role:`${A}-${Rb}`};if(Hc.facetFieldDef){Hc={data:this.getName(`${A}_domain`)};{var sd=Lc;const {sort:Dg}=sd;var Lc=Gd(Dg)?{field:td(Dg,{expr:"datum"}),order:null!=(ua=Dg.order)?ua:"ascending"}:g.isArray(Dg)?{field:Be(sd,A,{expr:"datum"}),order:"ascending"}:{field:td(sd,{expr:"datum"}),order:null!=Dg?Dg:"ascending"}}ua={from:Hc,sort:Lc}}else ua=
{};A=yb.call(Ra,{},Rb,ua,pf&&We?{from:{data:this.getName(`facet_domain_${A}`)}}:{},ja?{title:ja}:{},Q.sizeSignal?{encode:{update:{[Gf]:Q.sizeSignal}}}:{},pf?{axes:Se}:{});break a}}A=null}null!=A&&e.push(A)}b=b.call(a,e)}return b}assembleAxes(){return Ma(this.component.axes,this.config)}assembleLegends(){return dg(this)}assembleProjections(){var a=cj(this)||Pk(this)?rf(this):Eg(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,
a);b=Object.assign({},wc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return Ab(["unit","layer"],this.type)?Ab(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),Xa(b)?void 0:b}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());
a=!this.parent||Sh(this.parent)?nl(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return Oa((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(tg[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(Sh(this.parent)){var b=gd(a),e=V(b);if((b=this.component.scales[e])&&!b.merged){var h=
b.get("type");const k=b.get("range");if(xc(h)&&zc(k)){a=b.get("name");h=dj(this,e);if(h=ck(h))return e=td({aggregate:"distinct",field:h},{expr:"datum"}),{signal:Ed(a,b,e)};Z(mc(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,
b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(Fj[a]&&ki[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Em extends wm{vgField(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return td(e,b)}reduceFieldDef(a,b){return ah(this.getMapping(),(e,h,k)=>(h=bf(h))?a(e,h,k):e,b)}forEachFieldDef(a,b){xg(this.getMapping(),(e,h)=>{(e=bf(e))&&a(e,h)},b)}}class pm extends Wf{clone(){return new pm(null,sf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=sf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,k;this.transform.as=[null!=(h=a[0])?h:"value",null!=(k=
a[1])?k:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${kc(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);b=Object.assign({},{type:"kde",field:a},b);this.transform.groupby&&(b.resolve="shared");return b}}class vm extends Wf{clone(){return new vm(null,sf(this.transform))}constructor(a,b){super(a);
this.transform=b;this.transform=sf(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${kc(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",field:a,signal:b}}}class Il extends Wf{clone(){return new Il(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:h,markDef:k}=b;if("filter"!==yc("invalid",k,e))return null;const A=b.reduceFieldDef((Q,
ja,ua)=>{if(ua=!!ki[ua]&&b.getScaleComponent(ua))ua=ua.get("type"),Tc(ua)&&"count"!==ja.aggregate&&!fb(h)&&(Q[ja.field]=ja);return Q},{});return ee(A).length?new Il(a,A):null}dependentFields(){return new Set(ee(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${kc(this.filter)}`}assemble(){const a=ee(this.filter).reduce((b,e)=>{e=this.filter[e];const h=td(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${h}) || (isValid(${h}) && isFinite(+${h})))`):"quantitative"===
e.type&&(b.push(`isValid(${h})`),b.push(`isFinite(+${h})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class om extends Wf{clone(){return new om(this.parent,sf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=sf(b);const {flatten:e,as:h=[]}=this.transform;this.transform.as=e.map((k,A)=>{let Q;return null!=(Q=h[A])?Q:k})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${kc(this.transform)}`}assemble(){const {flatten:a,
as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class nm extends Wf{clone(){return new nm(null,sf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=sf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,k;this.transform.as=[null!=(h=a[0])?h:"key",null!=(k=a[1])?k:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${kc(this.transform)}`}assemble(){const {fold:a,
as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class hl extends Wf{clone(){return new hl(null,sf(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var h of[["longitude","latitude"],["longitude2","latitude2"]]){const k=h.map(A=>{A=ue(b.encoding[A]);return Pa(A)?A.field:lc(A)?{expr:`${A.datum}`}:bd(A)?{expr:`${A.value}`}:void 0});if(k[0]||k[1])a=new hl(a,k,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&
(h=b.typedFieldDef("shape"),"geojson"===h.type&&(a=new hl(a,null,h.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,h){super(a);this.fields=b;this.geojson=e;this.signal=h}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(g.isString);return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${kc(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Jl extends Wf{clone(){return new Jl(null,this.projection,sf(this.fields),sf(this.as))}constructor(a,b,e,h){super(a);this.projection=b;this.fields=e;this.as=h}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const h=e.map(A=>{A=ue(b.encoding[A]);return Pa(A)?A.field:lc(A)?{expr:`${A.datum}`}:
bd(A)?{expr:`${A.value}`}:void 0}),k="longitude2"===e[0]?"2":"";if(h[0]||h[1])a=new Jl(a,b.projectionName(),h,[b.getName(`x${k}`),b.getName(`y${k}`)])}return a}dependentFields(){return new Set(this.fields.filter(g.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${kc(this.fields)} ${kc(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Bk extends Wf{clone(){return new Bk(null,sf(this.transform))}constructor(a,
b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:h}=a;return{signal:`sequence(${[b,e,...(h?[h]:[])].join()})`}}static makeFromTransform(a,b){return new Bk(a,b)}static makeFromEncoding(a,b){const e=b.encoding;var h=e.x;const k=e.y;if(Pa(h)&&Pa(k)){const A=h.impute?h:k.impute?k:void 0;if(void 0===
A)return;h=h.impute?k:k.impute?h:void 0;const {method:Q,value:ja,frame:ua,keyvals:Ra}=A.impute;b=qa(b.mark,e);return new Bk(a,Object.assign({},{impute:A.field,key:h.field},Q?{method:Q}:{},void 0!==ja?{value:ja}:{},ua?{frame:ua}:{},void 0!==Ra?{keyvals:Ra}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${kc(this.transform)}`}assemble(){const {impute:a,key:b,keyvals:e,method:h,groupby:k,value:A,frame:Q=[null,null]}=this.transform;var ja=Object,ua=ja.assign;var Ra=e?{keyvals:void 0!==
(null==e?void 0:e.stop)?this.processSequence(e):e}:{};ja=ua.call(ja,{},{type:"impute",field:a,key:b},Ra,{method:"value"},k?{groupby:k}:{},{value:h&&"value"!==h?null:A});return h&&"value"!==h?(ua=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[h],fields:[a],frame:Q,ignorePeers:!1},k?{groupby:k}:{}),[ja,ua,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[ja]}}class qm extends Wf{clone(){return new qm(null,sf(this.transform))}constructor(a,b){super(a);
this.transform=b;this.transform=sf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,k;this.transform.as=[null!=(h=a[0])?h:b.on,null!=(k=a[1])?k:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${kc(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,
b);return Object.assign({},{type:"loess",x:a,y:e},b)}}class Kl extends Wf{clone(){return new Kl(null,sf(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,h){const k=b.component.data.sources,{from:A}=e;var Q=null;if("data"in A)Q=pl(A.data,k),Q||(Q=new oa(A.data),k.push(Q)),h=b.getName(`lookup_${h}`),Q=new xh(Q,h,tg.Lookup,b.component.data.outputNodeRefCounts),b.component.data.outputNodes[h]=Q;else if("param"in A){h=A.param;e=Object.assign({},
{as:h},e);let ja;try{ja=b.getSelectionComponent(Oa(h),h)}catch(ua){throw Error(`Lookups can only be performed on selection parameters. "${h}" is a variable parameter.`);}Q=ja.materialized;if(!Q)throw Error(`Cannot define and lookup the "${h}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Kl(a,e,Q.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?g.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${kc({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:g.array(this.transform.as)}:{});else a=this.transform.as,g.isString(a)||(Z('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class rm extends Wf{clone(){return new rm(null,sf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=sf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,k;this.transform.as=[null!=(h=a[0])?h:"prob",null!=(k=a[1])?k:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${kc(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class sm extends Wf{clone(){return new sm(null,sf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=sf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,k;this.transform.as=[null!=(h=a[0])?h:b.on,null!=(k=a[1])?k:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${kc(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class um extends Wf{clone(){return new um(null,sf(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=rb((null!=(b=this.transform.groupby)?b:[]).concat(a),
e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${kc(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:h,op:k}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==h?{limit:h}:{},void 0!==k?{op:k}:{},void 0!==e?{groupby:e}:{})}}class tm extends Wf{clone(){return new tm(null,sf(this.transform))}constructor(a,b){super(a);this.transform=
b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${kc(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Ml extends Em{constructor(a,b,e,h){super(a,"facet",b,e,h,a.resolve);la(this,"facet",void 0);la(this,"child",void 0);la(this,"children",void 0);this.child=dl(a.spec,this,this.getName("child"),void 0,h);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Yd(a))return{facet:this.initFacetFieldDef(a,
"facet")};var b=ee(a);const e={};for(const h of b){if(!["row","column"].includes(h)){Z(Cd(h,"facet"));break}b=a[h];if(void 0===b.field){Z(Td(b,h));break}e[h]=this.initFacetFieldDef(b,h)}return e}initFacetFieldDef(a,b){a=Kf(a,b);a.header?a.header=tc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=jk(this);this.child.parseData()}parseLayoutSize(){Nk(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const h of Yh){var a=void 0,b=h;const {facet:k,config:A,child:Q,component:ja}=this;if(this.channelHasField(b)){const ua=k[b];var e=w("title",null,A,b);e=Hd(ua,A,{allowDisabling:!0,includeDefault:void 0===e||!!e});Q.component.layoutHeaders[b].title&&(e=g.isArray(e)?e.join(", "):e,e+=` / ${Q.component.layoutHeaders[b].title}`,Q.component.layoutHeaders[b].title=
null);const Ra=w("labelOrient",ua.header,A,b),yb=null!==ua.header?ma(null==(a=ua.header)?void 0:a.labels,A.header.labels,!0):!1;a=Ab(["bottom","right"],Ra)?"footer":"header";ja.layoutHeaders[b]={title:null!==ua.header?e:null,facetFieldDef:ua,[a]:"facet"===b?[]:[Mk(this,b,yb)]}}}Cl(this,"x");Cl(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const h of Yh)for(const k of Dj){const A=this.component.layoutHeaders[h];var b=A[k],{facetFieldDef:e}=A;if(e&&(e=w("titleOrient",e.header,this.config,h),["right","bottom"].includes(e))){e=Ve(h,e);let ja;null!=(ja=a).titleAnchor||(ja.titleAnchor={});a.titleAnchor[e]="end"}let Q;if(null==(Q=b)?0:Q[0]){b="row"===h?"height":"width";e="header"===k?"headerBand":"footerBand";if("facet"!==h&&!this.child.component.layoutSize.get(b)){let ja,ua;null!=(ja=a)[ua=e]||(ja[ua]={});a[e][h]=.5}if(A.title){let ja;
null!=(ja=a).offset||(ja.offset={});a.offset["row"===h?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let h="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(h="none"):h="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:h})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Ml))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Ml?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:td(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],b=[],e=[];if(this.child instanceof Ml){if(this.child.channelHasField("column")){var h=td(this.child.facet.column);
a.push(h);b.push("distinct");e.push(`distinct_${h}`)}}else for(h of oi){var k=this.child.component.scales[h];if(k&&!k.merged){var A=k.get("type");k=k.get("range");xc(A)&&zc(k)&&(A=dj(this.child,h),(A=ck(A))?(a.push(A),b.push("distinct"),e.push(`distinct_${A}`)):Z(mc(h)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:h}=this.facet,{fields:k,ops:A,as:Q}=this.getCardinalityAggregateForChild(),ja=[];for(var ua of Yh){var Ra=this.facet[ua];
if(Ra){ja.push(td(Ra));const {bin:yb,sort:Rb}=Ra;Wa(yb)&&ja.push(td(Ra,{binSuffix:"end"}));if(Gd(Rb)){const {field:Hc,op:sd="min"}=Rb;Ra=bl(Ra,Rb);e&&h?(k.push(Ra),A.push("max")):(k.push(Hc),A.push(sd));Q.push(Ra)}else g.isArray(Rb)&&(Ra=Be(Ra,ua),k.push(Ra),A.push("max"),Q.push(Ra))}}ua=!!e&&!!h;return Object.assign({},{name:a,data:b,groupby:ja},ua||0<k.length?{aggregate:Object.assign({},ua?{cross:ua}:{},k.length?{fields:k,ops:A,as:Q}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?
Gd(b.sort)?[bl(b,b.sort,{expr:"datum"})]:g.isArray(b.sort)?[Be(b,a,{expr:"datum"})]:[td(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(Gd(a)?a.order:!g.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return sb(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const h of Cj)if(a[h]){let k;const A=w("labelOrient",null==(k=a[h])?void 0:k.header,b,h);if(e[h].includes(A))return sb(a[h],
h,b)}}assembleMarks(){const {child:a}=this,b=Vj(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),h=this.assembleLabelTitle()||a.assembleTitle(),k=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},h?{title:h}:{},k?{style:k}:{},{from:{facet:this.assembleFacet()},sort:{field:Yh.map(A=>this.facetSortFields(A)).flat(),order:Yh.map(A=>this.facetSortOrder(A)).flat()}},0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup(Ua(this,[])))]}getMapping(){return this.facet}}
class Jm extends wm{constructor(a,b,e,h){super(a,"concat",b,e,h,a.resolve);la(this,"children",void 0);let k,A,Q,ja;"shared"!==(null==(k=a.resolve)?void 0:null==(A=k.axis)?void 0:A.x)&&"shared"!==(null==(Q=a.resolve)?void 0:null==(ja=Q.axis)?void 0:ja.y)||Z("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((ua,Ra)=>dl(ua,this,this.getName(`concat_${Ra}`),void 0,h))}parseData(){this.component.data=jk(this);
for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of ee(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Nk(this);const a=void 0===this.layout.columns?
"height":"childHeight";xk(this,1===this.layout.columns?"width":"childWidth");xk(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=Kb(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),
a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),e=a.assembleGroupStyle(),h=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},h?{encode:{update:h}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Km=Object.assign({},{disable:1,gridScale:1,scale:1},rk,{labelExpr:1,encode:1}),
Am=ee(Km);class Bm extends $h{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new Bm(sf(this.explicit),sf(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Ec(this.explicit.orient)}}
const Lm={bottom:"top",top:"bottom",left:"right",right:"left"},Im=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Ll={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),xe("x",a,{defaultPos:"mid"}),xe("y",a,{defaultPos:"mid"}),Og(a,"radius"),Og(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),af("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),af("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),cg(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Og(a,"x"),Og(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>cl(a,"circle")},geoshape:{vgMark:"shape",
encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&Pa(b)&&"geojson"===b.type?{field:td(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Og(a,"x"),Og(a,"y"),
$a(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),xe("x",a,{defaultPos:"mid"}),xe("y",a,{defaultPos:"mid"}),Id("size",a,{vgChannel:"strokeWidth"}),cg(a))},point:{vgMark:"symbol",encodeEntry:a=>cl(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Og(a,"x"),Og(a,"y"))},rule:{vgMark:"rule",
encodeEntry:a=>{var {markDef:b}=a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),af("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),af("y",a,{defaultPos:"vertical"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),Id("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>cl(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,h=e.assign,k=vf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),A=xe("x",a,{defaultPos:"mid"}),Q=xe("y",a,{defaultPos:"mid"}),ja=$a(a),ua=Id("size",a,{vgChannel:"fontSize"}),Ra=Id("angle",a);var yb=void 0===yc("align",a.markDef,b)?"center":void 0;yb=kg("align",yb);b=void 0===yc("baseline",a.markDef,b)?"middle":void 0;return h.call(e,{},k,A,Q,ja,ua,Ra,yb,
kg("baseline",b),xe("radius",a,{defaultPos:null}),xe("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var h=e.orient;const k="horizontal"===h?"width":"height";h="horizontal"===h?"height":"width";var A=Object,Q=A.assign,ja=vf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ua=xe("x",a,{defaultPos:"mid",vgChannel:"xc"}),Ra=xe("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:sd,markDef:Lc}=a;var {orient:yb}=
Lc;var Rb="horizontal"===yb?"width":"height";yb=a.getScaleComponent("horizontal"===yb?"x":"y");var Hc;const od=null!=(Hc=yc("size",Lc,sd,{vgChannel:Rb}))?Hc:sd.tick.bandSize;Rb=void 0!==od?od:(Hc=yb?yb.get("range"):void 0)&&zc(Hc)&&g.isNumber(Hc.step)?3*Hc.step/4:3*rg(sd.view,Rb)/4}return Q.call(A,{},ja,ua,Ra,Id("size",a,{defaultValue:Rb,vgChannel:k}),{[h]:kb(yc("thickness",e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},vf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",
orient:"ignore",theta:"ignore"}),xe("x",a,{defaultPos:"mid"}),xe("y",a,{defaultPos:"mid"}),Id("size",a),cg(a))}};class Dm extends Em{constructor(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},k=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,k,void 0,Df(a)?a.view:void 0);la(this,"markDef",void 0);la(this,"encoding",void 0);la(this,"specifiedScales",{});la(this,"stack",void 0);la(this,"specifiedAxes",{});la(this,"specifiedLegends",{});la(this,"specifiedProjection",
{});la(this,"selection",[]);la(this,"children",[]);const A=pd(a.mark)?Object.assign({},a.mark):{type:a.mark},Q=A.type;void 0===A.filled&&(A.filled=Dh(A,k,{graticule:a.data&&"graticule"in a.data}));const ja=this.encoding=bg(a.encoding||{},Q,A.filled,k);this.markDef=Vg(A,ja,k);this.size=Tl({encoding:ja,size:Df(a)?Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):h});this.stack=Ch(this.markDef,ja);this.specifiedScales=this.initScales(Q,ja);this.specifiedAxes=this.initAxes(ja);
this.specifiedLegends=this.initLegends(ja);this.specifiedProjection=a.projection;let ua;this.selection=(null!=(ua=a.params)?ua:[]).filter(Ra=>Ee(Ra))}get hasProjection(){const {encoding:a}=this,b=this.mark===Xi,e=a&&Rl.some(h=>$c(a[h]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,b){return yk.reduce((e,h)=>{const k=ue(b[h]);if(k){let A;e[h]=this.initScale(null!=(A=k.scale)?
A:{})}return e},{})}initScale(a){const {domain:b,range:e}=a;a=tc(a);g.isArray(b)&&(a.domain=b.map(Ia));g.isArray(e)&&(a.range=e.map(Ia));return a}initAxes(a){return oi.reduce((b,e)=>{var h=a[e];if($c(h)||"x"===e&&$c(a.x2)||"y"===e&&$c(a.y2))h=$c(h)?h.axis:void 0,b[e]=h?this.initAxis(Object.assign({},h)):h;return b},{})}initAxis(a){var b=ee(a);const e={};for(const h of b)b=a[h],e[h]=Hf(b)?Sd(b):Ia(b);return e}initLegends(a){return fl.reduce((b,e)=>{var h=ue(a[e]),k;if(k=h)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":k=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":k=!1;break a}k=void 0}k&&(h=h.legend,b[e]=h?tc(h):h);return b},{})}parseData(){this.component.data=jk(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const h of oi){const k=B(h);if(a[k]){var e=a[k];b.layoutSize.set(k,gf(e)?"step":e,!0)}else e=Lk(this,k),b.layoutSize.set(k,e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const A=this.config.selection;if(b&&b.length)for(const Q of b){b=Oa(Q.name);
var h=Q.select,k=g.isString(h)?h:h.type;h=g.isObject(h)?sf(h):{type:k};const ja=A[k];for(const ua in ja)if("fields"!==ua&&"encodings"!==ua&&("mark"===ua&&(h[ua]=Object.assign({},ja[ua],h[ua])),void 0===h[ua]||!0===h[ua])){let Ra;h[ua]=sf(null!=(Ra=ja[ua])?Ra:h[ua])}b=e[b]=Object.assign({},h,{name:b,type:k,init:Q.value,bind:Q.bind,events:g.isString(h.on)?g.parseSelector(h.on,"scope"):g.array(sf(h.on))});k=sf(Q);for(const ua of vi)ua.defined(b)&&ua.parse&&ua.parse(this,b,k)}}a.selection=e}parseMarkGroup(){this.component.mark=
ql(this)}parseAxesAndHeaders(){this.component.axes=rl(this)}assembleSelectionTopLevelSignals(a){return q(this,a)}assembleSignals(){var a=[...fa(this)];var b=[];var e;for(const h of eh(null!=(e=this.component.selection)?e:{})){e=h.name;let k=`${e}${"_tuple"}, ${"global"===h.resolve?"true":`{unit: ${rh(this)}}`}`;for(const A of vi)A.defined(h)&&(A.signals&&(b=A.signals(this,h,b)),A.modifyExpr&&(k=A.modifyExpr(this,h,k)));b.push({name:e+"_modify",on:[{events:{signal:h.name+"_tuple"},update:`modify(${g.stringValue(h.name+
"_store")}, ${k})`}]})}b=t(b);return[...a,...b]}assembleSelectionData(a){return P(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Kb(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&cj(this.parent)||(b=ia(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Cf(this.encoding,
a)}fieldDef(a){return bf(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Uc(a)?a:null}}class Cm extends wm{constructor(a,b,e,h,k){super(a,"layer",b,e,k,a.resolve,a.view);la(this,"children",void 0);const A=Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((Q,ja)=>{if("layer"in Q)return new Cm(Q,this,this.getName(`layer_${ja}`),A,k);if(Bf(Q))return new Dm(Q,this,this.getName(`layer_${ja}`),A,k);throw Error(Ka(Q));})}parseData(){this.component.data=
jk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Nk(this);xk(this,"width");xk(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of ee(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var h of this.children){h.parseAxesAndHeaders();
for(const k of ee(h.component.axes))b.axis[k]=xd(this.component.resolve,k),"shared"===b.axis[k]&&(a[k]=hm(a[k],h.component.axes[k]),a[k]||(b.axis[k]="independent",delete a[k]))}for(const k of oi){for(const A of this.children)if(A.component.axes[k]){if("independent"===b.axis[k]){let Q;a[k]=(null!=(Q=a[k])?Q:[]).concat(A.component.axes[k]);for(const ja of A.component.axes[k]){const {value:ua,explicit:Ra}=ja.getWithExplicit("orient");Ec(ua)||(0<e[ua]&&!Ra&&(h=Lm[ua],e[ua]>e[h]&&ja.set("orient",h,!1)),
e[ua]++)}}delete A.component.axes[k]}if("independent"===b.axis[k]&&a[k]&&1<a[k].length)for(const A of(a[k]||[]).entries()){const [Q,ja]=A;0<Q&&ja.get("grid")&&!ja.explicit.grid&&(ja.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),fa(this))}assembleLayoutSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleLayoutSignals()),
Kb(this))}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of g.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return xa(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,
b)=>a.concat(b.assembleLegends()),dg(this))}}r.accessPathDepth=ob;r.accessPathWithDatum=mb;r.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(Qi=b.logger);b.fieldTitle&&(Li=b.fieldTitle);try{const yb=dh(g.mergeConfig(b.config,a.config)),Rb=Xh(a,yb),Hc=dl(Rb,null,"",void 0,yb);Hc.parse();var e=Hc.component.data,h=Hc;lj(e.sources);let sd=0,Lc=0;for(var k=0;5>k&&Ij(e,h,!0);k++)sd++;e.sources.map(Hj);for(k=0;5>k&&Ij(e,h,!1);k++)Lc++;lj(e.sources);5===Math.max(sd,
Lc)&&Z("Maximum optimization runs(5) reached.");var A=Rb.autosize;e=yb;h=Hc;const od=h.component.layoutSize.get("width"),Ld=h.component.layoutSize.get("height");void 0===A?(A={type:"pad"},h.hasAxisOrientSignalRef()&&(A.resize=!0)):g.isString(A)&&(A={type:A});var Q;if(Q=od&&Ld){var ja=A.type;Q="fit"===ja||"fit-x"===ja||"fit-y"===ja}if(Q)if("step"===od&&"step"===Ld)Z(Eb()),A.type="pad";else if("step"===od||"step"===Ld){ja="step"===od?"width":"height";Z(Eb(V(ja)));Q=A;var ua=(ja="width"===ja?"height":
"width",`fit-${V(ja)}`);Q.type=ua}var Ra=Object.assign({},1===ee(A).length&&A.type?"pad"===A.type?{}:{autosize:A.type}:{autosize:A},Hh(e,!1),Hh(a,!0));return{spec:Vl(Hc,Ra,a.datasets,a.usermeta),normalized:Rb}}finally{b.logger&&(Qi=Bl),b.fieldTitle&&(Li=ri)}};r.contains=Ab;r.deepEqual=na;r.deleteNestedProperty=Qa;r.duplicate=sf;r.entries=Wi;r.every=pc;r.fieldIntersection=Ob;r.flatAccessWithDatum=Na;r.getFirstDefined=ma;r.hasIntersection=Nb;r.hash=kc;r.internalField=Ga;r.isBoolean=qb;r.isEmpty=Xa;
r.isEqual=function(a,b){const e=ee(a),h=ee(b);if(e.length!==h.length)return!1;for(const k of e)if(a[k]!==b[k])return!1;return!0};r.isInternalField=Ea;r.isNullOrFalse=Ac;r.isNumeric=ba;r.keys=ee;r.logicalExpr=Ca;r.mergeDeep=Ya;r.never=Fb;r.normalize=Xh;r.normalizeAngle=db;r.omit=oc;r.pick=Zb;r.prefixGenerator=Bb;r.removePathFromField=Vb;r.replaceAll=Mb;r.replacePathInField=pb;r.resetIdCounter=function(){Hk=42};r.setEqual=Ib;r.some=ec;r.stringify=p;r.titleCase=lb;r.unique=rb;r.uniqueId=Y;r.vals=eh;
r.varName=Oa;r.version="5.16.1"})};
shadow$provide[66]=function(ac,Cb,Wc,nb){function r(){throw Error("setTimeout has not been defined");}function g(){throw Error("clearTimeout has not been defined");}function ra(Ib){if(Ac===setTimeout)return setTimeout(Ib,0);if((Ac===r||!Ac)&&setTimeout)return Ac=setTimeout,setTimeout(Ib,0);try{return Ac(Ib,0)}catch(Nb){try{return Ac.call(null,Ib,0)}catch(Bb){return Ac.call(this,Ib,0)}}}function ib(Ib){if(Ab===clearTimeout)return clearTimeout(Ib);if((Ab===g||!Ab)&&clearTimeout)return Ab=clearTimeout,
clearTimeout(Ib);try{return Ab(Ib)}catch(Nb){try{return Ab.call(null,Ib)}catch(Bb){return Ab.call(this,Ib)}}}function Fb(){pc&&Ya&&(pc=!1,Ya.length?ec=Ya.concat(ec):rb=-1,ec.length&&Zb())}function Zb(){if(!pc){var Ib=ra(Fb);pc=!0;for(var Nb=ec.length;Nb;){Ya=ec;for(ec=[];++rb<Nb;)Ya&&Ya[rb].run();rb=-1;Nb=ec.length}Ya=null;pc=!1;ib(Ib)}}function oc(Ib,Nb){this.fun=Ib;this.array=Nb}function kc(){}ac=Wc.exports={};try{var Ac="function"===typeof setTimeout?setTimeout:r}catch(Ib){Ac=r}try{var Ab="function"===
typeof clearTimeout?clearTimeout:g}catch(Ib){Ab=g}var ec=[],pc=!1,Ya,rb=-1;ac.nextTick=function(Ib){var Nb=Array(arguments.length-1);if(1<arguments.length)for(var Bb=1;Bb<arguments.length;Bb++)Nb[Bb-1]=arguments[Bb];ec.push(new oc(Ib,Nb));1!==ec.length||pc||ra(Zb)};oc.prototype.run=function(){this.fun.apply(null,this.array)};ac.title="browser";ac.browser=!0;ac.env={};ac.argv=[];ac.version="";ac.versions={};ac.on=kc;ac.addListener=kc;ac.once=kc;ac.off=kc;ac.removeListener=kc;ac.removeAllListeners=
kc;ac.emit=kc;ac.prependListener=kc;ac.prependOnceListener=kc;ac.listeners=function(Ib){return[]};ac.binding=function(Ib){throw Error("process.binding is not supported");};ac.cwd=function(){return"/"};ac.chdir=function(Ib){throw Error("process.chdir is not supported");};ac.umask=function(){return 0}};
shadow$provide[67]=function(ac,Cb,Wc,nb){var r=Cb(66);(function(g,ra){"object"===typeof nb&&"undefined"!==typeof Wc?Wc.exports=ra(Cb(64),Cb(65)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ra):(g="undefined"!==typeof globalThis?globalThis:g||self,g.vegaEmbed=ra(g.vega,g.vegaLite))})(this,function(g,ra){function ib(T){if(T&&T.__esModule)return T;var ta=Object.create(null);T&&Object.keys(T).forEach(function(eb){if("default"!==eb){var zb=Object.getOwnPropertyDescriptor(T,eb);Object.defineProperty(ta,
eb,zb.get?zb:{enumerable:!0,get:function(){return T[eb]}})}});ta["default"]=T;return Object.freeze(ta)}function Fb(T){if(Array.isArray(T)){T=Array(T.length);for(var ta=0;ta<T.length;ta++)T[ta]=""+ta;return T}if(Object.keys)return Object.keys(T);ta=[];for(var eb in T)m.call(T,eb)&&ta.push(eb);return ta}function Zb(T){switch(typeof T){case "object":return JSON.parse(JSON.stringify(T));case "undefined":return null;default:return T}}function oc(T){for(var ta=0,eb=T.length,zb;ta<eb;)if(zb=T.charCodeAt(ta),
48<=zb&&57>=zb)ta++;else return!1;return!0}function kc(T){return-1===T.indexOf("/")&&-1===T.indexOf("~")?T:T.replace(/~/g,"~0").replace(/\//g,"~1")}function Ac(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}function Ab(T){if(void 0===T)return!0;if(T)if(Array.isArray(T))for(var ta=0,eb=T.length;ta<eb;ta++){if(Ab(T[ta]))return!0}else if("object"===typeof T){ta=Fb(T);eb=ta.length;for(var zb=0;zb<eb;zb++)if(Ab(T[ta[zb]]))return!0}return!1}function ec(T,ta){T=[T];for(var eb in ta){var zb="object"===
typeof ta[eb]?JSON.stringify(ta[eb],null,2):ta[eb];"undefined"!==typeof zb&&T.push(eb+": "+zb)}return T.join("\n")}function pc(T,ta){if(""==ta)return T;ta={op:"_get",path:ta};Ya(T,ta);return ta.value}function Ya(T,ta,eb,zb,Xb,Cc){void 0===eb&&(eb=!1);void 0===zb&&(zb=!0);void 0===Xb&&(Xb=!0);void 0===Cc&&(Cc=0);eb&&("function"==typeof eb?eb(ta,0,T,ta.path):Ib(ta,0));if(""===ta.path){Xb={newDocument:T};if("add"===ta.op)return Xb.newDocument=ta.value,Xb;if("replace"===ta.op)return Xb.newDocument=ta.value,
Xb.removed=T,Xb;if("move"===ta.op||"copy"===ta.op)return Xb.newDocument=pc(T,ta.from),"move"===ta.op&&(Xb.removed=T),Xb;if("test"===ta.op){Xb.test=Bb(T,ta.value);if(!1===Xb.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ta,T);Xb.newDocument=T;return Xb}if("remove"===ta.op)return Xb.removed=T,Xb.newDocument=null,Xb;if("_get"===ta.op)return ta.value=T,Xb;if(eb)throw new B("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Cc,ta,T);return Xb}zb||
(T=Zb(T));zb=(ta.path||"").split("/");var Ub=T,I=1,ea=zb.length,Ta=void 0,$b,Pc;for(Pc="function"==typeof eb?eb:Ib;;){($b=zb[I])&&-1!=$b.indexOf("~")&&($b=Ac($b));if(Xb&&("__proto__"==$b||"prototype"==$b&&0<I&&"constructor"==zb[I-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");eb&&void 0===
Ta&&(void 0===Ub[$b]?Ta=zb.slice(0,I).join("/"):I==ea-1&&(Ta=ta.path),void 0!==Ta&&Pc(ta,0,T,Ta));I++;if(Array.isArray(Ub)){if("-"===$b)$b=Ub.length;else{if(eb&&!oc($b))throw new B("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Cc,ta,T);oc($b)&&($b=~~$b)}if(I>=ea){if(eb&&"add"===ta.op&&$b>Ub.length)throw new B("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",Cc,ta,T);Xb=E[ta.op].call(ta,Ub,$b,T);if(!1===Xb.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ta,T);return Xb}}else if(I>=ea){Xb=z[ta.op].call(ta,Ub,$b,T);if(!1===Xb.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ta,T);return Xb}Ub=Ub[$b];if(eb&&I<ea&&(!Ub||"object"!==typeof Ub))throw new B("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Cc,ta,T);}}function rb(T,ta,eb,zb,Xb){void 0===zb&&(zb=!0);
void 0===Xb&&(Xb=!0);if(eb&&!Array.isArray(ta))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");zb||(T=Zb(T));zb=Array(ta.length);for(var Cc=0,Ub=ta.length;Cc<Ub;Cc++)zb[Cc]=Ya(T,ta[Cc],eb,!0,Xb,Cc),T=zb[Cc].newDocument;zb.newDocument=T;return zb}function Ib(T,ta,eb,zb){if("object"!==typeof T||null===T||Array.isArray(T))throw new B("Operation is not an object","OPERATION_NOT_AN_OBJECT",ta,T,eb);if(z[T.op]){if("string"!==typeof T.path)throw new B("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ta,T,eb);if(0!==T.path.indexOf("/")&&0<T.path.length)throw new B('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ta,T,eb);if("move"!==T.op&&"copy"!==T.op||"string"===typeof T.from)if("add"!==T.op&&"replace"!==T.op&&"test"!==T.op||void 0!==T.value){if(("add"===T.op||"replace"===T.op||"test"===T.op)&&Ab(T.value))throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ta,T,eb);if(eb)if("add"==T.op){var Xb=T.path.split("/").length;zb=zb.split("/").length;if(Xb!==zb+1&&Xb!==zb)throw new B("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ta,T,eb);}else if("replace"===T.op||"remove"===T.op||"_get"===T.op){if(T.path!==zb)throw new B("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ta,T,eb);}else if(("move"===T.op||"copy"===T.op)&&(Xb=Nb([{op:"_get",path:T.from,value:void 0}],eb))&&"OPERATION_PATH_UNRESOLVABLE"===
Xb.name)throw new B("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ta,T,eb);}else throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ta,T,eb);else throw new B("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ta,T,eb);}else throw new B("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ta,T,eb);}function Nb(T,ta,eb){try{if(!Array.isArray(T))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ta)rb(Zb(ta),Zb(T),eb||!0);else{eb=eb||Ib;for(var zb=0;zb<T.length;zb++)eb(T[zb],zb,ta,void 0)}}catch(Xb){if(Xb instanceof B)return Xb;throw Xb;}}function Bb(T,ta){if(T===ta)return!0;if(T&&ta&&"object"==typeof T&&"object"==typeof ta){var eb=Array.isArray(T),zb=Array.isArray(ta);if(eb&&zb){var Xb=T.length;if(Xb!=ta.length)return!1;for(eb=Xb;0!==eb--;)if(!Bb(T[eb],
ta[eb]))return!1;return!0}if(eb!=zb)return!1;zb=Object.keys(T);Xb=zb.length;if(Xb!==Object.keys(ta).length)return!1;for(eb=Xb;0!==eb--;)if(!ta.hasOwnProperty(zb[eb]))return!1;for(eb=Xb;0!==eb--;)if(Xb=zb[eb],!Bb(T[Xb],ta[Xb]))return!1;return!0}return T!==T&&ta!==ta}function Ob(T,ta){void 0===ta&&(ta=!1);var eb=V.get(T.object);Xa(eb.value,T.object,T.patches,"",ta);T.patches.length&&rb(eb.value,T.patches);ta=T.patches;0<ta.length&&(T.patches=[],T.callback&&T.callback(ta));return ta}function Xa(T,ta,
eb,zb,Xb){if(ta!==T){"function"===typeof ta.toJSON&&(ta=ta.toJSON());for(var Cc=Fb(ta),Ub=Fb(T),I=!1,ea=Ub.length-1;0<=ea;ea--){var Ta=Ub[ea],$b=T[Ta];if(!m.call(ta,Ta)||void 0===ta[Ta]&&void 0!==$b&&!1===Array.isArray(ta))Array.isArray(T)===Array.isArray(ta)?(Xb&&eb.push({op:"test",path:zb+"/"+kc(Ta),value:Zb($b)}),eb.push({op:"remove",path:zb+"/"+kc(Ta)}),I=!0):(Xb&&eb.push({op:"test",path:zb,value:T}),eb.push({op:"replace",path:zb,value:ta}));else{var Pc=ta[Ta];"object"==typeof $b&&null!=$b&&"object"==
typeof Pc&&null!=Pc&&Array.isArray($b)===Array.isArray(Pc)?Xa($b,Pc,eb,zb+"/"+kc(Ta),Xb):$b!==Pc&&(Xb&&eb.push({op:"test",path:zb+"/"+kc(Ta),value:Zb($b)}),eb.push({op:"replace",path:zb+"/"+kc(Ta),value:Zb(Pc)}))}}if(I||Cc.length!=Ub.length)for(ea=0;ea<Cc.length;ea++)Ta=Cc[ea],m.call(T,Ta)||void 0===ta[Ta]||eb.push({op:"add",path:zb+"/"+kc(Ta),value:Zb(ta[Ta])})}}function qb(T){var ta=this;ta instanceof qb||(ta=new qb);ta.tail=null;ta.head=null;ta.length=0;if(T&&"function"===typeof T.forEach)T.forEach(function(Xb){ta.push(Xb)});
else if(0<arguments.length)for(var eb=0,zb=arguments.length;eb<zb;eb++)ta.push(arguments[eb]);return ta}function Oa(T,ta,eb,zb){if(!(this instanceof Oa))return new Oa(T,ta,eb,zb);this.list=zb;this.value=T;ta?(ta.next=this,this.prev=ta):this.prev=null;eb?(eb.prev=this,this.next=eb):this.next=null}function Ca(){if(fd)return ed;fd=1;const T=Symbol("SemVer ANY");class ta{static get ANY(){return T}constructor(Ta,$b){$b=eb($b);if(Ta instanceof ta){if(Ta.loose===!!$b.loose)return Ta;Ta=Ta.value}Ub("comparator",
Ta,$b);this.options=$b;this.loose=!!$b.loose;this.parse(Ta);this.value=this.semver===T?"":this.operator+this.semver.version;Ub("comp",this)}parse(Ta){const $b=Ta.match(this.options.loose?zb[Xb.COMPARATORLOOSE]:zb[Xb.COMPARATOR]);if(!$b)throw new TypeError("Invalid comparator: ".concat(Ta));this.operator=void 0!==$b[1]?$b[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=$b[2]?new I($b[2],this.options.loose):T}toString(){return this.value}test(Ta){Ub("Comparator.test",Ta,this.options.loose);
if(this.semver===T||Ta===T)return!0;if("string"===typeof Ta)try{Ta=new I(Ta,this.options)}catch($b){return!1}return Cc(Ta,this.operator,this.semver,this.options)}intersects(Ta,$b){if(!(Ta instanceof ta))throw new TypeError("a Comparator is required");$b&&"object"===typeof $b||($b={loose:!!$b,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new ea(Ta.value,$b)).test(this.value);if(""===Ta.operator)return""===Ta.value?!0:(new ea(this.value,$b)).test(Ta.semver);const Pc=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===Ta.operator||"\x3e"===Ta.operator),xc=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===Ta.operator||"\x3c"===Ta.operator),Tc=this.semver.version===Ta.semver.version,md=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===Ta.operator||"\x3c\x3d"===Ta.operator),de=Cc(this.semver,"\x3c",Ta.semver,$b)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===Ta.operator||"\x3c"===Ta.operator);Ta=Cc(this.semver,
"\x3e",Ta.semver,$b)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===Ta.operator||"\x3e"===Ta.operator);return Pc||xc||Tc&&md||de||Ta}}ed=ta;const eb=yc,{re:zb,t:Xb}=Gc.exports,Cc=Sc,Ub=Nd,I=mc,ea=Qa();return ed}function Qa(){if(Td)return Rd;Td=1;class T{constructor(Kc,Xc){Xc=eb(Xc);if(Kc instanceof T)return Kc.loose===!!Xc.loose&&Kc.includePrerelease===!!Xc.includePrerelease?Kc:new T(Kc.raw,Xc);if(Kc instanceof zb)return this.raw=Kc.value,this.set=[[Kc]],this.format(),this;this.options=
Xc;this.loose=!!Xc.loose;this.includePrerelease=!!Xc.includePrerelease;this.raw=Kc;this.set=Kc.split("||").map(Qc=>this.parseRange(Qc.trim())).filter(Qc=>Qc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Kc));if(1<this.set.length)if(Kc=this.set[0],this.set=this.set.filter(Qc=>"\x3c0.0.0-0"!==Qc[0].value),0===this.set.length)this.set=[Kc];else if(1<this.set.length)for(const Qc of this.set)if(1===Qc.length&&""===Qc[0].value){this.set=[Qc];break}this.format()}format(){return this.range=
this.set.map(Kc=>Kc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Kc){Kc=Kc.trim();var Xc=Object.keys(this.options).join(",");Xc="parseRange:".concat(Xc,":").concat(Kc);var Qc=ta.get(Xc);if(Qc)return Qc;Qc=this.options.loose;Kc=Kc.replace(Qc?Ub[I.HYPHENRANGELOOSE]:Ub[I.HYPHENRANGE],pd(this.options.includePrerelease));Xb("hyphen replace",Kc);Kc=Kc.replace(Ub[I.COMPARATORTRIM],ea);Xb("comparator trim",Kc);Kc=Kc.replace(Ub[I.TILDETRIM],Ta);Kc=Kc.replace(Ub[I.CARETTRIM],
$b);Kc=Kc.split(/\s+/).join(" ");Kc=Kc.split(" ").map(jd=>{var Qd=jd;jd=this.options;Xb("comp",Qd,jd);Qd=de(Qd,jd);Xb("caret",Qd);Qd=Tc(Qd,jd);Xb("tildes",Qd);Qd=fb(Qd,jd);Xb("xrange",Qd);Xb("replaceStars",Qd,jd);Qd=Qd.trim().replace(Ub[I.STAR],"");Xb("stars",Qd);return Qd}).join(" ").split(/\s+/).map(jd=>{var Qd=this.options;Xb("replaceGTE0",jd,Qd);return jd.trim().replace(Ub[Qd.includePrerelease?I.GTE0PRE:I.GTE0],"")});Qc&&(Kc=Kc.filter(jd=>{Xb("loose invalid filter",jd,this.options);return!!jd.match(Ub[I.COMPARATORLOOSE])}));
Xb("range list",Kc);Qc=new Map;Kc=Kc.map(jd=>new zb(jd,this.options));for(var qd of Kc){if("\x3c0.0.0-0"===qd.value)return[qd];Qc.set(qd.value,qd)}1<Qc.size&&Qc.has("")&&Qc.delete("");qd=[...Qc.values()];ta.set(Xc,qd);return qd}intersects(Kc,Xc){if(!(Kc instanceof T))throw new TypeError("a Range is required");return this.set.some(Qc=>Pc(Qc,Xc)&&Kc.set.some(qd=>Pc(qd,Xc)&&Qc.every(jd=>qd.every(Qd=>jd.intersects(Qd,Xc)))))}test(Kc){if(!Kc)return!1;if("string"===typeof Kc)try{Kc=new Cc(Kc,this.options)}catch(Qd){return!1}for(let Qd=
0;Qd<this.set.length;Qd++){a:{var Xc=this.set[Qd];var Qc=Kc,qd=this.options;for(var jd=0;jd<Xc.length;jd++)if(!Xc[jd].test(Qc)){Xc=!1;break a}if(Qc.prerelease.length&&!qd.includePrerelease){for(qd=0;qd<Xc.length;qd++)if(Xb(Xc[qd].semver),Xc[qd].semver!==zb.ANY&&0<Xc[qd].semver.prerelease.length&&(jd=Xc[qd].semver,jd.major===Qc.major&&jd.minor===Qc.minor&&jd.patch===Qc.patch)){Xc=!0;break a}Xc=!1}else Xc=!0}if(Xc)return!0}return!1}}Rd=T;const ta=new Yb({max:1E3}),eb=yc,zb=Ca(),Xb=Nd,Cc=mc,{re:Ub,t:I,
comparatorTrimReplace:ea,tildeTrimReplace:Ta,caretTrimReplace:$b}=Gc.exports,Pc=(Kc,Xc)=>{let Qc=!0;Kc=Kc.slice();let qd=Kc.pop();for(;Qc&&Kc.length;)Qc=Kc.every(jd=>qd.intersects(jd,Xc)),qd=Kc.pop();return Qc},xc=Kc=>!Kc||"x"===Kc.toLowerCase()||"*"===Kc,Tc=(Kc,Xc)=>Kc.trim().split(/\s+/).map(Qc=>md(Qc,Xc)).join(" "),md=(Kc,Xc)=>Kc.replace(Xc.loose?Ub[I.TILDELOOSE]:Ub[I.TILDE],(Qc,qd,jd,Qd,Ad)=>{Xb("tilde",Kc,Qc,qd,jd,Qd,Ad);xc(qd)?Qc="":xc(jd)?Qc="\x3e\x3d".concat(qd,".0.0 \x3c").concat(+qd+1,".0.0-0"):
xc(Qd)?Qc="\x3e\x3d".concat(qd,".").concat(jd,".0 \x3c").concat(qd,".").concat(+jd+1,".0-0"):Ad?(Xb("replaceTilde pr",Ad),Qc="\x3e\x3d".concat(qd,".").concat(jd,".").concat(Qd,"-").concat(Ad," \x3c").concat(qd,".").concat(+jd+1,".0-0")):Qc="\x3e\x3d".concat(qd,".").concat(jd,".").concat(Qd," \x3c").concat(qd,".").concat(+jd+1,".0-0");Xb("tilde return",Qc);return Qc}),de=(Kc,Xc)=>Kc.trim().split(/\s+/).map(Qc=>Sa(Qc,Xc)).join(" "),Sa=(Kc,Xc)=>{Xb("caret",Kc,Xc);const Qc=Xc.includePrerelease?"-0":"";
return Kc.replace(Xc.loose?Ub[I.CARETLOOSE]:Ub[I.CARET],(qd,jd,Qd,Ad,Xd)=>{Xb("caret",Kc,qd,jd,Qd,Ad,Xd);xc(jd)?qd="":xc(Qd)?qd="\x3e\x3d".concat(jd,".0.0").concat(Qc," \x3c").concat(+jd+1,".0.0-0"):xc(Ad)?qd="0"===jd?"\x3e\x3d".concat(jd,".").concat(Qd,".0").concat(Qc," \x3c").concat(jd,".").concat(+Qd+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Qd,".0").concat(Qc," \x3c").concat(+jd+1,".0.0-0"):Xd?(Xb("replaceCaret pr",Xd),qd="0"===jd?"0"===Qd?"\x3e\x3d".concat(jd,".").concat(Qd,".").concat(Ad,"-").concat(Xd,
" \x3c").concat(jd,".").concat(Qd,".").concat(+Ad+1,"-0"):"\x3e\x3d".concat(jd,".").concat(Qd,".").concat(Ad,"-").concat(Xd," \x3c").concat(jd,".").concat(+Qd+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Qd,".").concat(Ad,"-").concat(Xd," \x3c").concat(+jd+1,".0.0-0")):(Xb("no pr"),qd="0"===jd?"0"===Qd?"\x3e\x3d".concat(jd,".").concat(Qd,".").concat(Ad).concat(Qc," \x3c").concat(jd,".").concat(Qd,".").concat(+Ad+1,"-0"):"\x3e\x3d".concat(jd,".").concat(Qd,".").concat(Ad).concat(Qc," \x3c").concat(jd,
".").concat(+Qd+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Qd,".").concat(Ad," \x3c").concat(+jd+1,".0.0-0"));Xb("caret return",qd);return qd})},fb=(Kc,Xc)=>{Xb("replaceXRanges",Kc,Xc);return Kc.split(/\s+/).map(Qc=>qc(Qc,Xc)).join(" ")},qc=(Kc,Xc)=>{Kc=Kc.trim();return Kc.replace(Xc.loose?Ub[I.XRANGELOOSE]:Ub[I.XRANGE],(Qc,qd,jd,Qd,Ad,Xd)=>{Xb("xRange",Kc,Qc,qd,jd,Qd,Ad,Xd);const ye=xc(jd),Oe=ye||xc(Qd);Ad=Oe||xc(Ad);"\x3d"===qd&&Ad&&(qd="");Xd=Xc.includePrerelease?"-0":"";ye?Qc="\x3e"===qd||"\x3c"===
qd?"\x3c0.0.0-0":"*":qd&&Ad?(Oe&&(Qd=0),Ad=0,"\x3e"===qd?(qd="\x3e\x3d",Oe?(jd=+jd+1,Qd=0):Qd=+Qd+1,Ad=0):"\x3c\x3d"===qd&&(qd="\x3c",Oe?jd=+jd+1:Qd=+Qd+1),"\x3c"===qd&&(Xd="-0"),Qc="".concat(qd+jd,".").concat(Qd,".").concat(Ad).concat(Xd)):Oe?Qc="\x3e\x3d".concat(jd,".0.0").concat(Xd," \x3c").concat(+jd+1,".0.0-0"):Ad&&(Qc="\x3e\x3d".concat(jd,".").concat(Qd,".0").concat(Xd," \x3c").concat(jd,".").concat(+Qd+1,".0-0"));Xb("xRange return",Qc);return Qc})},pd=Kc=>(Xc,Qc,qd,jd,Qd,Ad,Xd,ye,Oe,Ge,tf,
ld,Fc)=>{Qc=xc(qd)?"":xc(jd)?"\x3e\x3d".concat(qd,".0.0").concat(Kc?"-0":""):xc(Qd)?"\x3e\x3d".concat(qd,".").concat(jd,".0").concat(Kc?"-0":""):Ad?"\x3e\x3d".concat(Qc):"\x3e\x3d".concat(Qc).concat(Kc?"-0":"");ye=xc(Oe)?"":xc(Ge)?"\x3c".concat(+Oe+1,".0.0-0"):xc(tf)?"\x3c".concat(Oe,".").concat(+Ge+1,".0-0"):ld?"\x3c\x3d".concat(Oe,".").concat(Ge,".").concat(tf,"-").concat(ld):Kc?"\x3c".concat(Oe,".").concat(Ge,".").concat(+tf+1,"-0"):"\x3c\x3d".concat(ye);return"".concat(Qc," ").concat(ye).trim()};
return Rd}function lb(T,ta,eb,zb,Xb,Cc){const Ub=I=>gb[I.type](Ub,I);Ub.memberDepth=0;Ub.fn=Object.create(ta);Ub.params=eb;Ub.datum=zb;Ub.event=Xb;Ub.item=Cc;La.forEach(I=>Ub.fn[I]=function(){return Xb.vega[I](...arguments)});return Ub(T)}function mb(T){const [ta,eb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(T).slice(1,3);return{library:ta,version:eb}}function Na(T,ta,eb){T.fields=ta||[];T.fname=eb;return T}function vb(T){return 1===T.length?Jc(T[0]):dd(T)}function pb(T){function ta(){eb.push(Ub+
T.substring(I,ea));Ub="";I=ea+1}const eb=[],zb=T.length;let Xb=null,Cc=0,Ub="",I,ea,Ta;T+="";for(I=ea=0;ea<zb;++ea)if(Ta=T[ea],"\\"===Ta)Ub+=T.substring(I,ea),Ub+=T.substring(++ea,++ea),I=ea;else if(Ta===Xb)ta(),Xb=null,Cc=-1;else if(!Xb)if(I===Cc&&'"'===Ta)I=ea+1,Xb=Ta;else if(I===Cc&&"'"===Ta)I=ea+1,Xb=Ta;else if("."===Ta&&!Cc)ea>I?ta():I=ea+1;else if("["===Ta)ea>I&&ta(),Cc=I=ea+1;else if("]"===Ta){if(!Cc)throw Error("Access path missing open bracket: "+T);0<Cc&&ta();Cc=0;I=ea+1}if(Cc)throw Error("Access path missing closing bracket: "+
T);if(Xb)throw Error("Access path missing closing quote: "+T);ea>I&&(ea++,ta());return eb}function Mb(T,ta){var eb={},zb;for(zb in T)Object.prototype.hasOwnProperty.call(T,zb)&&0>ta.indexOf(zb)&&(eb[zb]=T[zb]);if(null!=T&&"function"===typeof Object.getOwnPropertySymbols){var Xb=0;for(zb=Object.getOwnPropertySymbols(T);Xb<zb.length;Xb++)0>ta.indexOf(zb[Xb])&&Object.prototype.propertyIsEnumerable.call(T,zb[Xb])&&(eb[zb[Xb]]=T[zb[Xb]])}return eb}function Vb(T){const ta=[];return function(eb,zb){if("object"!==
typeof zb||null===zb)return zb;eb=ta.indexOf(this)+1;ta.length=eb;if(ta.length>T)return"[Object]";if(0<=ta.indexOf(zb))return"[Circular]";ta.push(zb);return zb}}function ob(T,ta,eb){function zb(ea){ea.source===Cc&&(I=0,T.removeEventListener("message",zb,!1))}function Xb(){0>=I||(Cc.postMessage(eb,Ub),setTimeout(Xb,250),--I)}const Cc=T.open(ta),{origin:Ub}=new URL(ta);let I=40;T.addEventListener("message",zb,!1);setTimeout(Xb,250)}function ma(T){for(var ta=arguments.length,eb=Array(1<ta?ta-1:0),zb=
1;zb<ta;zb++)eb[zb-1]=arguments[zb];for(const Xb of eb){ta=T;eb=Xb;for(const Cc of Object.keys(eb))g.writeConfig(ta,Cc,eb[Cc],!0)}return T}function Y(T,ta,eb,zb){ta="\x3chtml\x3e\x3chead\x3e".concat(ta,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');eb="\x3c/code\x3e\x3c/pre\x3e".concat(eb,"\x3c/body\x3e\x3c/html\x3e");const Xb=window.open("");Xb.document.write(ta+T+eb);Xb.document.title="".concat(cf[zb]," JSON Source")}function Ga(T,ta){if(T.$schema){T=mb(T.$schema);if(ta&&ta!==
T.library){var eb;console.warn("The given visualization spec is written in ".concat(cf[T.library],", but mode argument sets ").concat(null!==(eb=cf[ta])&&void 0!==eb?eb:ta,"."))}ta=T.library;be(df[ta],"^".concat(T.version.slice(1)))||console.warn("The input spec uses ".concat(cf[ta]," ").concat(T.version,", but the current version of ").concat(cf[ta]," is v").concat(df[ta],"."));return ta}return"mark"in T||"encoding"in T||"layer"in T||"hconcat"in T||"vconcat"in T||"facet"in T||"repeat"in T?"vega-lite":
"marks"in T||"signals"in T||"scales"in T||"axes"in T?"vega":null!==ta&&void 0!==ta?ta:"vega"}function Ea(T){return T&&"load"in T?T:Zd.loader(T)}function db(T,ta){const eb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb,Xb,Cc=2<eb.length&&void 0!==eb[2]?eb[2]:{};let Ub,I;g.isString(ta)?(I=Ea(Cc.loader),Ub=JSON.parse(yield I.load(ta))):Ub=ta;var ea,Ta,$b=null!==(ea=null===(Ta=Ub.usermeta)||void 0===Ta?void 0:Ta.embedOptions)&&void 0!==ea?ea:{};g.isString($b.defaultStyle)&&
($b.defaultStyle=!1);ea=$b.loader;if(!I||ea){var Pc;I=Ea(null!==(Pc=Cc.loader)&&void 0!==Pc?Pc:ea)}$b=yield ba($b,I);Cc=yield ba(Cc,I);Cc=Object.assign({},ma(Cc,$b),{config:g.mergeConfig(null!==(zb=Cc.config)&&void 0!==zb?zb:{},null!==(Xb=$b.config)&&void 0!==Xb?Xb:{})});return yield p(T,Ub,Cc,I)})}function ba(T,ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb;const zb=g.isString(T.config)?JSON.parse(yield ta.load(T.config)):null!==(eb=T.config)&&void 0!==eb?eb:{};eb=g.isString(T.patch)?
JSON.parse(yield ta.load(T.patch)):T.patch;return Object.assign({},T,eb?{patch:eb}:{},zb?{config:zb}:{})})}function na(T){var ta;T=T.getRootNode?T.getRootNode():document;return T instanceof ShadowRoot?{root:T,rootContainer:T}:{root:document,rootContainer:null!==(ta=document.head)&&void 0!==ta?ta:document.body}}function p(T,ta){const eb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb,Xb,Cc,Ub,I,ea,Ta;let $b=2<eb.length&&void 0!==eb[2]?eb[2]:{};var Pc=3<eb.length?eb[3]:
void 0;const xc=$b.theme?g.mergeConfig(ic[$b.theme],null!==(zb=$b.config)&&void 0!==zb?zb:{}):$b.config;zb=g.isBoolean($b.actions)?$b.actions:ma({},Ae,null!==(Xb=$b.actions)&&void 0!==Xb?Xb:{});Xb=Object.assign({},hf,$b.i18n);const Tc=null!==(Cc=$b.renderer)&&void 0!==Cc?Cc:"canvas";Cc=null!==(Ub=$b.logLevel)&&void 0!==Ub?Ub:Zd.Warn;Ub=null!==(I=$b.downloadFileName)&&void 0!==I?I:"visualization";I="string"===typeof T?document.querySelector(T):T;if(!I)throw Error("".concat(T," does not exist"));if(!1!==
$b.defaultStyle){const {root:Qc,rootContainer:qd}=na(I);if(!Qc.getElementById("vega-embed-style")){var md=document.createElement("style");md.id="vega-embed-style";md.innerHTML=void 0===$b.defaultStyle||!0===$b.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
$b.defaultStyle;qd.appendChild(md)}}const de=Ga(ta,$b.mode);let Sa=re[de](ta,xc);"vega-lite"===de&&Sa.$schema&&(md=mb(Sa.$schema),be(df.vega,"^".concat(md.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(md.version,", but current version is v").concat(df.vega,".")));I.classList.add("vega-embed");zb&&I.classList.add("has-actions");I.innerHTML="";let fb=I;zb&&(md=document.createElement("div"),md.classList.add("chart-wrapper"),I.appendChild(md),fb=md);(md=$b.patch)&&(Sa=md instanceof
Function?md(Sa):rb(Sa,md,!0,!1).newDocument);$b.formatLocale&&Zd.formatLocale($b.formatLocale);$b.timeFormatLocale&&Zd.timeFormatLocale($b.timeFormatLocale);if($b.expressionFunctions)for(var qc in $b.expressionFunctions)md=$b.expressionFunctions[qc],"fn"in md?Zd.expressionFunction(qc,md.fn,md.visitor):md instanceof Function&&Zd.expressionFunction(qc,md);({ast:qc}=$b);md=Zd.parse(Sa,"vega-lite"===de?{}:xc,{ast:qc});const pd=new ($b.viewClass||Zd.View)(md,Object.assign({},{loader:Pc,logLevel:Cc,renderer:Tc},
qc?{expr:null!==(ea=null!==(Ta=Zd.expressionInterpreter)&&void 0!==Ta?Ta:$b.expr)&&void 0!==ea?ea:Jb}:{}));pd.addSignalListener("autosize",(Qc,qd)=>{({type:Qc}=qd);"fit-x"==Qc?(fb.classList.add("fit-x"),fb.classList.remove("fit-y")):"fit-y"==Qc?(fb.classList.remove("fit-x"),fb.classList.add("fit-y")):"fit"==Qc?fb.classList.add("fit-x","fit-y"):fb.classList.remove("fit-x","fit-y")});!1!==$b.tooltip&&(ea="function"===typeof $b.tooltip?$b.tooltip:(new Jd(!0===$b.tooltip?{}:$b.tooltip)).call,pd.tooltip(ea));
({hover:ea}=$b);void 0===ea&&(ea="vega"===de);if(ea){const {hoverSet:Qc,updateSet:qd}="boolean"===typeof ea?{}:ea;pd.hover(Qc,qd)}$b&&(null!=$b.width&&pd.width($b.width),null!=$b.height&&pd.height($b.height),null!=$b.padding&&pd.padding($b.padding));yield pd.initialize(fb,$b.bind).runAsync();let Kc;if(!1!==zb){Ta=I;if(!1!==$b.defaultStyle){const Qc=document.createElement("details");Qc.title=Xb.CLICK_TO_VIEW_ACTIONS;I.append(Qc);Ta=Qc;ea=document.createElement("summary");ea.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Qc.append(ea);Kc=qd=>{Qc.contains(qd.target)||Qc.removeAttribute("open")};document.addEventListener("click",Kc)}ea=document.createElement("div");Ta.append(ea);ea.classList.add("vega-actions");if(!0===zb||!1!==zb.export)for(const Qc of["svg","png"])if(!0===zb||!0===zb.export||zb.export[Qc])Ta=Xb["".concat(Qc.toUpperCase(),"_ACTION")],Pc=document.createElement("a"),Pc.text=Ta,Pc.href="#",Pc.target="_blank",Pc.download="".concat(Ub,".").concat(Qc),Pc.addEventListener("mousedown",function(qd){const jd=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qd.preventDefault();const Qd=yield pd.toImageURL(Qc,$b.scaleFactor);jd.href=Qd})}),ea.append(Pc);if(!0===zb||!1!==zb.source)Ub=document.createElement("a"),Ub.text=Xb.SOURCE_ACTION,Ub.href="#",Ub.addEventListener("click",function(Qc){var qd,jd;Y(va(ta),null!==(qd=$b.sourceHeader)&&void 0!==qd?qd:"",null!==(jd=$b.sourceFooter)&&void 0!==jd?jd:"",de);Qc.preventDefault()}),ea.append(Ub);"vega-lite"!==de||!0!==zb&&!1===zb.compiled||(Ub=
document.createElement("a"),Ub.text=Xb.COMPILED_ACTION,Ub.href="#",Ub.addEventListener("click",function(Qc){var qd,jd;Y(va(Sa),null!==(qd=$b.sourceHeader)&&void 0!==qd?qd:"",null!==(jd=$b.sourceFooter)&&void 0!==jd?jd:"","vega");Qc.preventDefault()}),ea.append(Ub));if(!0===zb||!1!==zb.editor){var Xc;const Qc=null!==(Xc=$b.editorUrl)&&void 0!==Xc?Xc:"https://vega.github.io/editor/";Xc=document.createElement("a");Xc.text=Xb.EDITOR_ACTION;Xc.href="#";Xc.addEventListener("click",function(qd){ob(window,
Qc,{config:xc,mode:de,renderer:Tc,spec:va(ta)});qd.preventDefault()});ea.append(Xc)}}return{view:pd,spec:ta,vgSpec:Sa,finalize:function(){Kc&&document.removeEventListener("click",Kc);pd.finalize()},embedOptions:$b}})}function L(T){const ta=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb;let zb=1<ta.length&&void 0!==ta[1]?ta[1]:{};const Xb=document.createElement("div");Xb.classList.add("vega-embed-wrapper");const Cc=document.createElement("div");Xb.appendChild(Cc);
const Ub=!0===zb.actions||!1===zb.actions?zb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(eb=zb.actions)&&void 0!==eb?eb:{});eb=yield db(Cc,T,Object.assign({},{actions:Ub},null!==zb&&void 0!==zb?zb:{}));Xb.value=eb.view;return Xb})}var O=ib(g),f=ib(ra),v=function(){var T=function(ta,eb){T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(zb,Xb){zb.__proto__=Xb}||function(zb,Xb){for(var Cc in Xb)Xb.hasOwnProperty(Cc)&&(zb[Cc]=Xb[Cc])};return T(ta,eb)};
return function(ta,eb){function zb(){this.constructor=ta}T(ta,eb);ta.prototype=null===eb?Object.create(eb):(zb.prototype=eb.prototype,new zb)}}(),m=Object.prototype.hasOwnProperty,C=function(T){function ta(eb,zb,Xb,Cc,Ub){var I=this.constructor,ea=T.call(this,ec(eb,{name:zb,index:Xb,operation:Cc,tree:Ub}))||this;ea.name=zb;ea.index=Xb;ea.operation=Cc;ea.tree=Ub;Object.setPrototypeOf(ea,I.prototype);ea.message=ec(eb,{name:zb,index:Xb,operation:Cc,tree:Ub});return ea}v(ta,T);return ta}(Error),B=C,z=
{add:function(T,ta,eb){T[ta]=this.value;return{newDocument:eb}},remove:function(T,ta,eb){var zb=T[ta];delete T[ta];return{newDocument:eb,removed:zb}},replace:function(T,ta,eb){var zb=T[ta];T[ta]=this.value;return{newDocument:eb,removed:zb}},move:function(T,ta,eb){(T=pc(eb,this.path))&&(T=Zb(T));ta=Ya(eb,{op:"remove",path:this.from}).removed;Ya(eb,{op:"add",path:this.path,value:ta});return{newDocument:eb,removed:T}},copy:function(T,ta,eb){T=pc(eb,this.from);Ya(eb,{op:"add",path:this.path,value:Zb(T)});
return{newDocument:eb}},test:function(T,ta,eb){return{newDocument:eb,test:Bb(T[ta],this.value)}},_get:function(T,ta,eb){this.value=T[ta];return{newDocument:eb}}},E={add:function(T,ta,eb){oc(ta)?T.splice(ta,0,this.value):T[ta]=this.value;return{newDocument:eb,index:ta}},remove:function(T,ta,eb){T=T.splice(ta,1);return{newDocument:eb,removed:T[0]}},replace:function(T,ta,eb){var zb=T[ta];T[ta]=this.value;return{newDocument:eb,removed:zb}},move:z.move,copy:z.copy,test:z.test,_get:z._get},D=Object.freeze({__proto__:null,
JsonPatchError:B,deepClone:Zb,getValueByPointer:pc,applyOperation:Ya,applyPatch:rb,applyReducer:function(T,ta,eb){var zb=Ya(T,ta);if(!1===zb.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",eb,ta,T);return zb.newDocument},validator:Ib,validate:Nb,_areEquals:Bb}),V=new WeakMap,Aa=function(){return function(T){this.observers=new Map;this.obj=T}}(),W=function(){return function(T,ta){this.callback=T;this.observer=ta}}(),u=Object.freeze({__proto__:null,unobserve:function(T,ta){ta.unobserve()},
observe:function(T,ta){var eb=V.get(T);if(eb){var zb=eb.observers.get(ta);var Xb=zb&&zb.observer}else eb=new Aa(T),V.set(T,eb);if(Xb)return Xb;Xb={};eb.value=Zb(T);if(ta){Xb.callback=ta;Xb.next=null;var Cc=function(){Ob(Xb)},Ub=function(){clearTimeout(Xb.next);Xb.next=setTimeout(Cc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Ub),window.addEventListener("keyup",Ub),window.addEventListener("mousedown",Ub),window.addEventListener("keydown",Ub),window.addEventListener("change",Ub))}Xb.patches=
[];Xb.object=T;Xb.unobserve=function(){Ob(Xb);clearTimeout(Xb.next);eb.observers.delete(Xb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Ub),window.removeEventListener("keyup",Ub),window.removeEventListener("mousedown",Ub),window.removeEventListener("keydown",Ub),window.removeEventListener("change",Ub))};eb.observers.set(ta,new W(ta,Xb));return Xb},generate:Ob,compare:function(T,ta,eb){void 0===eb&&(eb=!1);var zb=[];Xa(T,ta,zb,"",eb);return zb}});Object.assign({},D,
u,{JsonPatchError:C,deepClone:Zb,escapePathComponent:kc,unescapePathComponent:Ac});var K=/("(?:[^\\"]|\\.)*")|[:,]/g,va=function(T,ta){ta=ta||{};var eb=JSON.stringify([1],void 0,void 0===ta.indent?2:ta.indent).slice(2,-3);var zb=""===eb?Infinity:void 0===ta.maxLength?80:ta.maxLength;var Xb=ta.replacer;return function Ta(Ub,I,ea){Ub&&"function"===typeof Ub.toJSON&&(Ub=Ub.toJSON());var $b=JSON.stringify(Ub,Xb);if(void 0===$b)return $b;ea=zb-I.length-ea;if($b.length<=ea){var Pc=$b.replace(K,function(pd,
Kc){return Kc||pd+" "});if(Pc.length<=ea)return Pc}null!=Xb&&(Ub=JSON.parse($b),Xb=void 0);if("object"===typeof Ub&&null!==Ub){var xc=I+eb;var Tc=[];var md=0;if(Array.isArray(Ub)){var de="[";Pc="]";for(ea=Ub.length;md<ea;md++)Tc.push(Ta(Ub[md],xc,md===ea-1?0:1)||"null")}else{de="{";Pc="}";var Sa=Object.keys(Ub);for(ea=Sa.length;md<ea;md++){var fb=Sa[md];var qc=JSON.stringify(fb)+": ";fb=Ta(Ub[fb],xc,qc.length+(md===ea-1?0:1));void 0!==fb&&Tc.push(qc+fb)}}if(0<Tc.length)return[de,eb+Tc.join(",\n"+
xc),Pc].join("\n"+I)}return $b}(T,"",0)};qb.Node=Oa;qb.create=qb;qb.prototype.removeNode=function(T){if(T.list!==this)throw Error("removing node which does not belong to this list");var ta=T.next,eb=T.prev;ta&&(ta.prev=eb);eb&&(eb.next=ta);T===this.head&&(this.head=ta);T===this.tail&&(this.tail=eb);T.list.length--;T.next=null;T.prev=null;T.list=null;return ta};qb.prototype.unshiftNode=function(T){if(T!==this.head){T.list&&T.list.removeNode(T);var ta=this.head;T.list=this;if(T.next=ta)ta.prev=T;this.head=
T;this.tail||(this.tail=T);this.length++}};qb.prototype.pushNode=function(T){if(T!==this.tail){T.list&&T.list.removeNode(T);var ta=this.tail;T.list=this;if(T.prev=ta)ta.next=T;this.tail=T;this.head||(this.head=T);this.length++}};qb.prototype.push=function(){for(var T=0,ta=arguments.length;T<ta;T++)this.tail=new Oa(arguments[T],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};qb.prototype.unshift=function(){for(var T=0,ta=arguments.length;T<ta;T++)this.head=new Oa(arguments[T],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};qb.prototype.pop=function(){if(this.tail){var T=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return T}};qb.prototype.shift=function(){if(this.head){var T=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return T}};qb.prototype.forEach=function(T,ta){ta=ta||this;for(var eb=this.head,zb=0;null!==eb;zb++)T.call(ta,eb.value,zb,
this),eb=eb.next};qb.prototype.forEachReverse=function(T,ta){ta=ta||this;for(var eb=this.tail,zb=this.length-1;null!==eb;zb--)T.call(ta,eb.value,zb,this),eb=eb.prev};qb.prototype.get=function(T){for(var ta=0,eb=this.head;null!==eb&&ta<T;ta++)eb=eb.next;if(ta===T&&null!==eb)return eb.value};qb.prototype.getReverse=function(T){for(var ta=0,eb=this.tail;null!==eb&&ta<T;ta++)eb=eb.prev;if(ta===T&&null!==eb)return eb.value};qb.prototype.map=function(T,ta){ta=ta||this;for(var eb=new qb,zb=this.head;null!==
zb;)eb.push(T.call(ta,zb.value,this)),zb=zb.next;return eb};qb.prototype.mapReverse=function(T,ta){ta=ta||this;for(var eb=new qb,zb=this.tail;null!==zb;)eb.push(T.call(ta,zb.value,this)),zb=zb.prev;return eb};qb.prototype.reduce=function(T,ta){var eb=this.head;if(1<arguments.length)var zb=ta;else if(this.head)eb=this.head.next,zb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Xb=0;null!==eb;Xb++)zb=T(zb,eb.value,Xb),eb=eb.next;return zb};qb.prototype.reduceReverse=
function(T,ta){var eb=this.tail;if(1<arguments.length)var zb=ta;else if(this.tail)eb=this.tail.prev,zb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Xb=this.length-1;null!==eb;Xb--)zb=T(zb,eb.value,Xb),eb=eb.prev;return zb};qb.prototype.toArray=function(){for(var T=Array(this.length),ta=0,eb=this.head;null!==eb;ta++)T[ta]=eb.value,eb=eb.next;return T};qb.prototype.toArrayReverse=function(){for(var T=Array(this.length),ta=0,eb=this.tail;null!==eb;ta++)T[ta]=
eb.value,eb=eb.prev;return T};qb.prototype.slice=function(T,ta){ta=ta||this.length;0>ta&&(ta+=this.length);T=T||0;0>T&&(T+=this.length);var eb=new qb;if(ta<T||0>ta)return eb;0>T&&(T=0);ta>this.length&&(ta=this.length);for(var zb=0,Xb=this.head;null!==Xb&&zb<T;zb++)Xb=Xb.next;for(;null!==Xb&&zb<ta;zb++,Xb=Xb.next)eb.push(Xb.value);return eb};qb.prototype.sliceReverse=function(T,ta){ta=ta||this.length;0>ta&&(ta+=this.length);T=T||0;0>T&&(T+=this.length);var eb=new qb;if(ta<T||0>ta)return eb;0>T&&(T=
0);ta>this.length&&(ta=this.length);for(var zb=this.length,Xb=this.tail;null!==Xb&&zb>ta;zb--)Xb=Xb.prev;for(;null!==Xb&&zb>T;zb--,Xb=Xb.prev)eb.push(Xb.value);return eb};qb.prototype.splice=function(T,ta){T>this.length&&(T=this.length-1);0>T&&(T=this.length+T);for(var eb=0,zb=this.head;null!==zb&&eb<T;eb++)zb=zb.next;var Xb=[];for(eb=0;zb&&eb<ta;eb++)Xb.push(zb.value),zb=this.removeNode(zb);null===zb&&(zb=this.tail);zb!==this.head&&zb!==this.tail&&(zb=zb.prev);for(eb=0;eb<(2>=arguments.length?0:
arguments.length-2);eb++){var Cc=2>eb+2||arguments.length<=eb+2?void 0:arguments[eb+2];zb=zb===this.head?new Oa(Cc,null,zb,this):new Oa(Cc,zb,zb.next,this);null===zb.next&&(this.tail=zb);null===zb.prev&&(this.head=zb);this.length++}return Xb};qb.prototype.reverse=function(){for(var T=this.head,ta=this.tail,eb=T;null!==eb;eb=eb.prev){var zb=eb.prev;eb.prev=eb.next;eb.next=zb}this.head=ta;this.tail=T;return this};try{qb.prototype[Symbol.iterator]=function*(){for(let T=this.head;T;T=T.next)yield T.value}}catch(T){}const Ja=
Symbol("max"),Za=Symbol("length"),Wa=Symbol("lengthCalculator"),X=Symbol("allowStale"),Ba=Symbol("maxAge"),ab=Symbol("dispose"),Gb=Symbol("noDisposeOnSet"),tc=Symbol("lruList"),wc=Symbol("cache"),vc=Symbol("updateAgeOnGet"),Ec=()=>1;class zc{constructor(T){"number"===typeof T&&(T={max:T});T||(T={});if(T.max&&("number"!==typeof T.max||0>T.max))throw new TypeError("max must be a non-negative number");this[Ja]=T.max||Infinity;const ta=T.length||Ec;this[Wa]="function"!==typeof ta?Ec:ta;this[X]=T.stale||
!1;if(T.maxAge&&"number"!==typeof T.maxAge)throw new TypeError("maxAge must be a number");this[Ba]=T.maxAge||0;this[ab]=T.dispose;this[Gb]=T.noDisposeOnSet||!1;this[vc]=T.updateAgeOnGet||!1;this.reset()}set max(T){if("number"!==typeof T||0>T)throw new TypeError("max must be a non-negative number");this[Ja]=T||Infinity;Ia(this)}get max(){return this[Ja]}set allowStale(T){this[X]=!!T}get allowStale(){return this[X]}set maxAge(T){if("number"!==typeof T)throw new TypeError("maxAge must be a non-negative number");
this[Ba]=T;Ia(this)}get maxAge(){return this[Ba]}set lengthCalculator(T){"function"!==typeof T&&(T=Ec);T!==this[Wa]&&(this[Wa]=T,this[Za]=0,this[tc].forEach(ta=>{ta.length=this[Wa](ta.value,ta.key);this[Za]+=ta.length}));Ia(this)}get lengthCalculator(){return this[Wa]}get length(){return this[Za]}get itemCount(){return this[tc].length}rforEach(T,ta){ta=ta||this;for(let eb=this[tc].tail;null!==eb;){const zb=eb.prev;bc(this,T,eb,ta);eb=zb}}forEach(T,ta){ta=ta||this;for(let eb=this[tc].head;null!==eb;){const zb=
eb.next;bc(this,T,eb,ta);eb=zb}}keys(){return this[tc].toArray().map(T=>T.key)}values(){return this[tc].toArray().map(T=>T.value)}reset(){this[ab]&&this[tc]&&this[tc].length&&this[tc].forEach(T=>this[ab](T.key,T.value));this[wc]=new Map;this[tc]=new qb;this[Za]=0}dump(){return this[tc].map(T=>Sd(this,T)?!1:{k:T.key,v:T.value,e:T.now+(T.maxAge||0)}).toArray().filter(T=>T)}dumpLru(){return this[tc]}set(T,ta,eb){if((eb=eb||this[Ba])&&"number"!==typeof eb)throw new TypeError("maxAge must be a number");
const zb=eb?Date.now():0,Xb=this[Wa](ta,T);if(this[wc].has(T)){if(Xb>this[Ja])return Wb(this,this[wc].get(T)),!1;const Cc=this[wc].get(T).value;if(this[ab]&&!this[Gb])this[ab](T,Cc.value);Cc.now=zb;Cc.maxAge=eb;Cc.value=ta;this[Za]+=Xb-Cc.length;Cc.length=Xb;this.get(T);Ia(this);return!0}eb=new kb(T,ta,Xb,zb,eb);if(eb.length>this[Ja]){if(this[ab])this[ab](T,ta);return!1}this[Za]+=eb.length;this[tc].unshift(eb);this[wc].set(T,this[tc].head);Ia(this);return!0}has(T){if(!this[wc].has(T))return!1;T=this[wc].get(T).value;
return!Sd(this,T)}get(T){return Rc(this,T,!0)}peek(T){return Rc(this,T,!1)}pop(){const T=this[tc].tail;if(!T)return null;Wb(this,T);return T.value}del(T){Wb(this,this[wc].get(T))}load(T){this.reset();const ta=Date.now();for(let zb=T.length-1;0<=zb;zb--){const Xb=T[zb];var eb=Xb.e||0;0===eb?this.set(Xb.k,Xb.v):(eb-=ta,0<eb&&this.set(Xb.k,Xb.v,eb))}}prune(){this[wc].forEach((T,ta)=>Rc(this,ta,!1))}}const Rc=(T,ta,eb)=>{if(ta=T[wc].get(ta)){const zb=ta.value;if(Sd(T,zb)){if(Wb(T,ta),!T[X])return}else eb&&
(T[vc]&&(ta.value.now=Date.now()),T[tc].unshiftNode(ta));return zb.value}},Sd=(T,ta)=>{if(!ta||!ta.maxAge&&!T[Ba])return!1;const eb=Date.now()-ta.now;return ta.maxAge?eb>ta.maxAge:T[Ba]&&eb>T[Ba]},Ia=T=>{if(T[Za]>T[Ja])for(let ta=T[tc].tail;T[Za]>T[Ja]&&null!==ta;){const eb=ta.prev;Wb(T,ta);ta=eb}},Wb=(T,ta)=>{if(ta){const eb=ta.value;if(T[ab])T[ab](eb.key,eb.value);T[Za]-=eb.length;T[wc].delete(eb.key);T[tc].removeNode(ta)}};class kb{constructor(T,ta,eb,zb,Xb){this.key=T;this.value=ta;this.length=
eb;this.now=zb;this.maxAge=Xb||0}}const bc=(T,ta,eb,zb)=>{let Xb=eb.value;Sd(T,Xb)&&(Wb(T,eb),T[X]||(Xb=void 0));Xb&&ta.call(zb,Xb.value,Xb.key,T)};var Yb=zc;const hc=["includePrerelease","loose","rtl"];var yc=T=>T?"object"!==typeof T?{loose:!0}:hc.filter(ta=>T[ta]).reduce((ta,eb)=>{ta[eb]=!0;return ta},{}):{},Gc={exports:{}},ad={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Nd="object"===typeof r&&r.env&&r.env.NODE_DEBUG&&
/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){for(var T=arguments.length,ta=Array(T),eb=0;eb<T;eb++)ta[eb]=arguments[eb];return console.error("SEMVER",...ta)}:()=>{};(function(T,ta){const {MAX_SAFE_COMPONENT_LENGTH:eb}=ad,zb=Nd;ta=T.exports={};const Xb=ta.re=[],Cc=ta.src=[],Ub=ta.t={};let I=0;T=(ea,Ta,$b)=>{const Pc=I++;zb(ea,Pc,Ta);Ub[ea]=Pc;Cc[Pc]=Ta;Xb[Pc]=new RegExp(Ta,$b?"g":void 0)};T("NUMERICIDENTIFIER","0|[1-9]\\d*");T("NUMERICIDENTIFIERLOOSE","[0-9]+");T("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
T("MAINVERSION","(".concat(Cc[Ub.NUMERICIDENTIFIER],")\\.")+"(".concat(Cc[Ub.NUMERICIDENTIFIER],")\\.")+"(".concat(Cc[Ub.NUMERICIDENTIFIER],")"));T("MAINVERSIONLOOSE","(".concat(Cc[Ub.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cc[Ub.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cc[Ub.NUMERICIDENTIFIERLOOSE],")"));T("PRERELEASEIDENTIFIER","(?:".concat(Cc[Ub.NUMERICIDENTIFIER],"|").concat(Cc[Ub.NONNUMERICIDENTIFIER],")"));T("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Cc[Ub.NUMERICIDENTIFIERLOOSE],"|").concat(Cc[Ub.NONNUMERICIDENTIFIER],
")"));T("PRERELEASE","(?:-(".concat(Cc[Ub.PRERELEASEIDENTIFIER],"(?:\\.").concat(Cc[Ub.PRERELEASEIDENTIFIER],")*))"));T("PRERELEASELOOSE","(?:-?(".concat(Cc[Ub.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Cc[Ub.PRERELEASEIDENTIFIERLOOSE],")*))"));T("BUILDIDENTIFIER","[0-9A-Za-z-]+");T("BUILD","(?:\\+(".concat(Cc[Ub.BUILDIDENTIFIER],"(?:\\.").concat(Cc[Ub.BUILDIDENTIFIER],")*))"));T("FULLPLAIN","v?".concat(Cc[Ub.MAINVERSION]).concat(Cc[Ub.PRERELEASE],"?").concat(Cc[Ub.BUILD],"?"));T("FULL","^".concat(Cc[Ub.FULLPLAIN],
"$"));T("LOOSEPLAIN","[v\x3d\\s]*".concat(Cc[Ub.MAINVERSIONLOOSE]).concat(Cc[Ub.PRERELEASELOOSE],"?").concat(Cc[Ub.BUILD],"?"));T("LOOSE","^".concat(Cc[Ub.LOOSEPLAIN],"$"));T("GTLT","((?:\x3c|\x3e)?\x3d?)");T("XRANGEIDENTIFIERLOOSE","".concat(Cc[Ub.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));T("XRANGEIDENTIFIER","".concat(Cc[Ub.NUMERICIDENTIFIER],"|x|X|\\*"));T("XRANGEPLAIN","[v\x3d\\s]*(".concat(Cc[Ub.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cc[Ub.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cc[Ub.XRANGEIDENTIFIER],
")")+"(?:".concat(Cc[Ub.PRERELEASE],")?").concat(Cc[Ub.BUILD],"?")+")?)?");T("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Cc[Ub.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cc[Ub.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cc[Ub.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Cc[Ub.PRERELEASELOOSE],")?").concat(Cc[Ub.BUILD],"?")+")?)?");T("XRANGE","^".concat(Cc[Ub.GTLT],"\\s*").concat(Cc[Ub.XRANGEPLAIN],"$"));T("XRANGELOOSE","^".concat(Cc[Ub.GTLT],"\\s*").concat(Cc[Ub.XRANGEPLAINLOOSE],"$"));T("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(eb,
"})")+"(?:\\.(\\d{1,".concat(eb,"}))?")+"(?:\\.(\\d{1,".concat(eb,"}))?")+"(?:$|[^\\d])");T("COERCERTL",Cc[Ub.COERCE],!0);T("LONETILDE","(?:~\x3e?)");T("TILDETRIM","(\\s*)".concat(Cc[Ub.LONETILDE],"\\s+"),!0);ta.tildeTrimReplace="$1~";T("TILDE","^".concat(Cc[Ub.LONETILDE]).concat(Cc[Ub.XRANGEPLAIN],"$"));T("TILDELOOSE","^".concat(Cc[Ub.LONETILDE]).concat(Cc[Ub.XRANGEPLAINLOOSE],"$"));T("LONECARET","(?:\\^)");T("CARETTRIM","(\\s*)".concat(Cc[Ub.LONECARET],"\\s+"),!0);ta.caretTrimReplace="$1^";T("CARET",
"^".concat(Cc[Ub.LONECARET]).concat(Cc[Ub.XRANGEPLAIN],"$"));T("CARETLOOSE","^".concat(Cc[Ub.LONECARET]).concat(Cc[Ub.XRANGEPLAINLOOSE],"$"));T("COMPARATORLOOSE","^".concat(Cc[Ub.GTLT],"\\s*(").concat(Cc[Ub.LOOSEPLAIN],")$|^$"));T("COMPARATOR","^".concat(Cc[Ub.GTLT],"\\s*(").concat(Cc[Ub.FULLPLAIN],")$|^$"));T("COMPARATORTRIM","(\\s*)".concat(Cc[Ub.GTLT],"\\s*(").concat(Cc[Ub.LOOSEPLAIN],"|").concat(Cc[Ub.XRANGEPLAIN],")"),!0);ta.comparatorTrimReplace="$1$2$3";T("HYPHENRANGE","^\\s*(".concat(Cc[Ub.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(Cc[Ub.XRANGEPLAIN],")")+"\\s*$");T("HYPHENRANGELOOSE","^\\s*(".concat(Cc[Ub.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Cc[Ub.XRANGEPLAINLOOSE],")")+"\\s*$");T("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");T("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");T("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(Gc,Gc.exports);const ud=/^[0-9]+$/,Fa=(T,ta)=>{const eb=ud.test(T),zb=ud.test(ta);eb&&zb&&(T=+T,ta=+ta);return T===ta?0:eb&&!zb?-1:zb&&!eb?1:T<ta?-1:1};var hb={compareIdentifiers:Fa,
rcompareIdentifiers:(T,ta)=>Fa(ta,T)};const ub=Nd,{MAX_LENGTH:la,MAX_SAFE_INTEGER:H}=ad,{re:ya,t:Ka}=Gc.exports,bb=yc,{compareIdentifiers:jb}=hb;class Eb{constructor(T,ta){ta=bb(ta);if(T instanceof Eb){if(T.loose===!!ta.loose&&T.includePrerelease===!!ta.includePrerelease)return T;T=T.version}else if("string"!==typeof T)throw new TypeError("Invalid Version: ".concat(T));if(T.length>la)throw new TypeError("version is longer than ".concat(la," characters"));ub("SemVer",T,ta);this.options=ta;this.loose=
!!ta.loose;this.includePrerelease=!!ta.includePrerelease;ta=T.trim().match(ta.loose?ya[Ka.LOOSE]:ya[Ka.FULL]);if(!ta)throw new TypeError("Invalid Version: ".concat(T));this.raw=T;this.major=+ta[1];this.minor=+ta[2];this.patch=+ta[3];if(this.major>H||0>this.major)throw new TypeError("Invalid major version");if(this.minor>H||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>H||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ta[4]?ta[4].split(".").map(eb=>
{if(/^[0-9]+$/.test(eb)){const zb=+eb;if(0<=zb&&zb<H)return zb}return eb}):[];this.build=ta[5]?ta[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(T){ub("SemVer.compare",this.version,this.options,T);if(!(T instanceof Eb)){if("string"===typeof T&&T===this.version)return 0;T=new Eb(T,this.options)}return T.version===
this.version?0:this.compareMain(T)||this.comparePre(T)}compareMain(T){T instanceof Eb||(T=new Eb(T,this.options));return jb(this.major,T.major)||jb(this.minor,T.minor)||jb(this.patch,T.patch)}comparePre(T){T instanceof Eb||(T=new Eb(T,this.options));if(this.prerelease.length&&!T.prerelease.length)return-1;if(!this.prerelease.length&&T.prerelease.length)return 1;if(!this.prerelease.length&&!T.prerelease.length)return 0;let ta=0;do{const eb=this.prerelease[ta],zb=T.prerelease[ta];ub("prerelease compare",
ta,eb,zb);if(void 0===eb&&void 0===zb)return 0;if(void 0===zb)return 1;if(void 0===eb)return-1;if(eb!==zb)return jb(eb,zb)}while(++ta)}compareBuild(T){T instanceof Eb||(T=new Eb(T,this.options));let ta=0;do{const eb=this.build[ta],zb=T.build[ta];ub("prerelease compare",ta,eb,zb);if(void 0===eb&&void 0===zb)return 0;if(void 0===zb)return 1;if(void 0===eb)return-1;if(eb!==zb)return jb(eb,zb)}while(++ta)}inc(T,ta){switch(T){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ta);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ta);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ta);this.inc("pre",ta);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ta);this.inc("pre",ta);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(T=this.prerelease.length;0<=--T;)"number"===typeof this.prerelease[T]&&(this.prerelease[T]++,T=-2);-1===T&&this.prerelease.push(0)}ta&&(0===jb(this.prerelease[0],ta)?isNaN(this.prerelease[1])&&(this.prerelease=[ta,0]):this.prerelease=[ta,0]);break;default:throw Error("invalid increment argument: ".concat(T));}this.format();
this.raw=this.version;return this}}var mc=Eb;const cc=mc;var gc=(T,ta,eb)=>(new cc(T,eb)).compare(new cc(ta,eb)),Sc=(T,ta,eb,zb)=>{switch(ta){case "\x3d\x3d\x3d":return"object"===typeof T&&(T=T.version),"object"===typeof eb&&(eb=eb.version),T===eb;case "!\x3d\x3d":return"object"===typeof T&&(T=T.version),"object"===typeof eb&&(eb=eb.version),T!==eb;case "":case "\x3d":case "\x3d\x3d":return 0===gc(T,eb,zb);case "!\x3d":return 0!==gc(T,eb,zb);case "\x3e":return 0<gc(T,eb,zb);case "\x3e\x3d":return 0<=
gc(T,eb,zb);case "\x3c":return 0>gc(T,eb,zb);case "\x3c\x3d":return 0>=gc(T,eb,zb);default:throw new TypeError("Invalid operator: ".concat(ta));}},ed,fd,Rd,Td;const Cd=Qa();var be=(T,ta,eb)=>{try{ta=new Cd(ta,eb)}catch(zb){return!1}return ta.test(T)},ce={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Vd={"*":(T,ta)=>T*ta,"+":(T,ta)=>T+ta,"-":(T,ta)=>T-ta,"/":(T,ta)=>
T/ta,"%":(T,ta)=>T%ta,"\x3e":(T,ta)=>T>ta,"\x3c":(T,ta)=>T<ta,"\x3c\x3d":(T,ta)=>T<=ta,"\x3e\x3d":(T,ta)=>T>=ta,"\x3d\x3d":(T,ta)=>T==ta,"!\x3d":(T,ta)=>T!=ta,"\x3d\x3d\x3d":(T,ta)=>T===ta,"!\x3d\x3d":(T,ta)=>T!==ta,"\x26":(T,ta)=>T&ta,"|":(T,ta)=>T|ta,"^":(T,ta)=>T^ta,"\x3c\x3c":(T,ta)=>T<<ta,"\x3e\x3e":(T,ta)=>T>>ta,"\x3e\x3e\x3e":(T,ta)=>T>>>ta},Te={"+":T=>+T,"-":T=>-T,"~":T=>~T,"!":T=>!T};const $d=Array.prototype.slice,M=(T,ta,eb)=>{eb=eb?eb(ta[0]):ta[0];return eb[T].apply(eb,$d.call(ta,1))};
var Z={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(T,ta,eb)=>Math.max(ta,Math.min(eb,T)),now:Date.now,utc:Date.UTC,datetime:(T,ta,eb,zb,Xb,Cc,Ub)=>new Date(T,ta||0,null!=eb?eb:1,zb||0,Xb||0,Cc||0,Ub||0),date:T=>(new Date(T)).getDate(),
day:T=>(new Date(T)).getDay(),year:T=>(new Date(T)).getFullYear(),month:T=>(new Date(T)).getMonth(),hours:T=>(new Date(T)).getHours(),minutes:T=>(new Date(T)).getMinutes(),seconds:T=>(new Date(T)).getSeconds(),milliseconds:T=>(new Date(T)).getMilliseconds(),time:T=>(new Date(T)).getTime(),timezoneoffset:T=>(new Date(T)).getTimezoneOffset(),utcdate:T=>(new Date(T)).getUTCDate(),utcday:T=>(new Date(T)).getUTCDay(),utcyear:T=>(new Date(T)).getUTCFullYear(),utcmonth:T=>(new Date(T)).getUTCMonth(),utchours:T=>
(new Date(T)).getUTCHours(),utcminutes:T=>(new Date(T)).getUTCMinutes(),utcseconds:T=>(new Date(T)).getUTCSeconds(),utcmilliseconds:T=>(new Date(T)).getUTCMilliseconds(),length:T=>T.length,join:function(){return M("join",arguments)},indexof:function(){return M("indexOf",arguments)},lastindexof:function(){return M("lastIndexOf",arguments)},slice:function(){return M("slice",arguments)},reverse:T=>T.slice().reverse(),parseFloat,parseInt,upper:T=>String(T).toUpperCase(),lower:T=>String(T).toLowerCase(),
substring:function(){return M("substring",arguments,String)},split:function(){return M("split",arguments,String)},replace:function(){return M("replace",arguments,String)},trim:T=>String(T).trim(),regexp:RegExp,test:(T,ta)=>RegExp(T).test(ta)};const La="view item group xy x y".split(" "),gb={Literal:(T,ta)=>ta.value,Identifier:(T,ta)=>{ta=ta.name;return 0<T.memberDepth?ta:"datum"===ta?T.datum:"event"===ta?T.event:"item"===ta?T.item:ce[ta]||T.params["$"+ta]},MemberExpression:(T,ta)=>{const eb=!ta.computed,
zb=T(ta.object);eb&&(T.memberDepth+=1);ta=T(ta.property);eb&&--T.memberDepth;return zb[ta]},CallExpression:(T,ta)=>{const eb=ta.arguments;ta=ta.callee.name;ta.startsWith("_")&&(ta=ta.slice(1));return"if"===ta?T(eb[0])?T(eb[1]):T(eb[2]):(T.fn[ta]||Z[ta]).apply(T.fn,eb.map(T))},ArrayExpression:(T,ta)=>ta.elements.map(T),BinaryExpression:(T,ta)=>Vd[ta.operator](T(ta.left),T(ta.right)),UnaryExpression:(T,ta)=>Te[ta.operator](T(ta.argument)),ConditionalExpression:(T,ta)=>T(ta.test)?T(ta.consequent):T(ta.alternate),
LogicalExpression:(T,ta)=>"\x26\x26"===ta.operator?T(ta.left)&&T(ta.right):T(ta.left)||T(ta.right),ObjectExpression:(T,ta)=>ta.properties.reduce((eb,zb)=>{T.memberDepth+=1;const Xb=T(zb.key);--T.memberDepth;eb[Xb]=T(zb.value);return eb},{})};var Jb={operator(T,ta){const eb=ta.ast,zb=T.functions;return Xb=>lb(eb,zb,Xb)},parameter(T,ta){const eb=ta.ast,zb=T.functions;return(Xb,Cc)=>lb(eb,zb,Cc,Xb)},event(T,ta){const eb=ta.ast,zb=T.functions;return Xb=>lb(eb,zb,void 0,void 0,Xb)},handler(T,ta){const eb=
ta.ast,zb=T.functions;return(Xb,Cc)=>lb(eb,zb,Xb,Cc.item&&Cc.item.datum,Cc)},encode(T,ta){const {marktype:eb,channels:zb}=ta,Xb=T.functions,Cc="group"===eb||"image"===eb||"rect"===eb;return(Ub,I)=>{const ea=Ub.datum;let Ta=0,$b;for(const Pc in zb)$b=lb(zb[Pc].ast,Xb,I,ea,void 0,Ub),Ub[Pc]!==$b&&(Ub[Pc]=$b,Ta=1);"rule"!==eb&&(zb.x2&&(zb.x?(Cc&&Ub.x>Ub.x2&&(I=Ub.x,Ub.x=Ub.x2,Ub.x2=I),Ub.width=Ub.x2-Ub.x):Ub.x=Ub.x2-(Ub.width||0)),zb.xc&&(Ub.x=Ub.xc-(Ub.width||0)/2),zb.y2&&(zb.y?(Cc&&Ub.y>Ub.y2&&(I=
Ub.y,Ub.y=Ub.y2,Ub.y2=I),Ub.height=Ub.y2-Ub.y):Ub.y=Ub.y2-(Ub.height||0)),zb.yc&&(Ub.y=Ub.yc-(Ub.height||0)/2));return Ta}}};const Tb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Bc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var ic=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Tb["category-6"],diverging:Tb["fireandice-6"],heatmap:Tb["fire-7"],ordinal:Tb["fire-7"],ramp:Tb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Bc["six-groups-cat-1"],diverging:Bc["diverging-colors"],heatmap:Bc["diverging-colors"],ordinal:Bc["six-groups-seq"],ramp:Bc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Jc=T=>function(ta){return ta[T]},dd=T=>{const ta=T.length;return function(eb){for(let zb=0;zb<ta;++zb)eb=eb[T[zb]];return eb}};(function(T,ta,eb){const zb=pb(T);T=1===zb.length?zb[0]:T;return Na((eb&&eb.get||vb)(zb),[T],ta||T)})("id");Na(T=>T,[],"identity");Na(()=>0,[],
"zero");Na(()=>1,[],"one");Na(()=>!0,[],"true");Na(()=>!1,[],"false");var Oc=Array.isArray;const vd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(T){return String(T).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(T,ta,eb){if(Oc(T))return"[".concat(T.map(Xb=>ta("string"===typeof Xb?Xb:JSON.stringify(Xb,Vb(eb)))).join(", "),"]");if(T===Object(T)){let Xb="";const {title:Cc,image:Ub}=
T;T=Mb(T,["title","image"]);Cc&&(Xb+="\x3ch2\x3e".concat(ta(Cc),"\x3c/h2\x3e"));Ub&&(Xb+='\x3cimg src\x3d"'.concat(ta(Ub),'"\x3e'));var zb=Object.keys(T);if(0<zb.length){Xb+="\x3ctable\x3e";for(const I of zb)zb=T[I],void 0!==zb&&(zb===Object(zb)&&(zb=JSON.stringify(zb,Vb(eb))),Xb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ta(I),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ta(zb),"\x3c/td\x3e\x3c/tr\x3e"));Xb+="\x3c/table\x3e"}return Xb||"{}"}return ta(T)}};class Jd{constructor(T){this.options=
Object.assign(Object.assign({},vd),T);var ta=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){T=document.createElement("style");T.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ta))throw Error("Invalid HTML ID");ta="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ta);T.innerHTML=ta;ta=document.head;0<ta.childNodes.length?ta.insertBefore(T,ta.childNodes[0]):ta.appendChild(T)}}tooltipHandler(T,ta,eb,zb){var Xb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Xb=document.fullscreenElement)&&void 0!==Xb?Xb:document.body).appendChild(this.el));if(null==zb||""===zb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(zb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));T=this.el.getBoundingClientRect();Xb=this.options.offsetX;eb=this.options.offsetY;zb=ta.clientX+Xb;zb+T.width>window.innerWidth&&(zb=+ta.clientX-Xb-T.width);Xb=ta.clientY+eb;Xb+T.height>window.innerHeight&&(Xb=+ta.clientY-eb-T.height);var {x:Cc,y:Ub}={x:zb,y:Xb};this.el.setAttribute("style","top: ".concat(Ub,"px; left: ").concat(Cc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(T,ta){return this.substr(!ta||0>ta?0:+ta,T.length)===T});var Fd;const Zd=O;let Md=f;const se="undefined"!==typeof window?window:void 0;void 0===Md&&null!==se&&void 0!==se&&null!==(Fd=se.vl)&&void 0!==Fd&&Fd.compile&&(Md=se.vl);const Ae={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},hf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},cf={vega:"Vega","vega-lite":"Vega-Lite"},df={vega:Zd.version,"vega-lite":Md?Md.version:"not available"},re={vega:T=>T,"vega-lite":(T,ta)=>Md.compile(T,{config:ta}).spec},nf=function(){var T;if(T=1<arguments.length){if(T=g.isString(0>=arguments.length?void 0:arguments[0]))T=0>=arguments.length?void 0:arguments[0],T=!(T.startsWith("http://")||T.startsWith("https://")||T.startsWith("//"));T=T||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return T?db(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):L(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};nf.vegaLite=Md;nf.vl=Md;nf.container=L;nf.embed=db;nf.vega=Zd;nf.default=db;nf.version="6.21.0";return nf})};
shadow$provide[68]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(r){const g={};return!!r&&"[object Function]"===g.toString.call(r)}};
shadow$provide[69]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(ra,ib,Fb){Fb&&((0,g.default)(Fb)?Fb(ra.data(ib)):ra.change(ib,r.vega.changeset().remove(()=>!0).insert(Fb)))};var r=Cb(67),g=function(ra){return ra&&ra.__esModule?ra:{default:ra}}(Cb(68))};
shadow$provide[70]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(g,ra){Object.keys(ra).forEach(ib=>{(0,r.default)(g,ib,ra[ib])})};var r=function(g){return g&&g.__esModule?g:{default:g}}(Cb(69))};
shadow$provide[71]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(r){const g=new Set;r.forEach(ra=>{Object.keys(ra).forEach(ib=>{g.add(ib)})});return g}};
shadow$provide[72]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.NOOP=void 0;nb.NOOP=()=>{}};
shadow$provide[73]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(r,g){const ra=Object.keys(g);ra.forEach(ib=>{try{r.addSignalListener(ib,g[ib])}catch(Fb){console.warn("Cannot add invalid signal listener.",Fb)}});return 0<ra.length}};
shadow$provide[74]=function(ac,Cb,Wc,nb){Wc.exports=function ib(g,ra){if(g===ra)return!0;if(g&&ra&&"object"==typeof g&&"object"==typeof ra){if(g.constructor!==ra.constructor)return!1;var Fb;if(Array.isArray(g)){var Zb=g.length;if(Zb!=ra.length)return!1;for(Fb=Zb;0!==Fb--;)if(!ib(g[Fb],ra[Fb]))return!1;return!0}if(g.constructor===RegExp)return g.source===ra.source&&g.flags===ra.flags;if(g.valueOf!==Object.prototype.valueOf)return g.valueOf()===ra.valueOf();if(g.toString!==Object.prototype.toString)return g.toString()===
ra.toString();var oc=Object.keys(g);Zb=oc.length;if(Zb!==Object.keys(ra).length)return!1;for(Fb=Zb;0!==Fb--;)if(!Object.prototype.hasOwnProperty.call(ra,oc[Fb]))return!1;for(Fb=Zb;0!==Fb--;)if(Zb=oc[Fb],!ib(g[Zb],ra[Zb]))return!1;return!0}return g!==g&&ra!==ra}};
shadow$provide[75]=function(ac,Cb,Wc,nb){function r(ib){return ib&&ib.__esModule?ib:{default:ib}}nb.__esModule=!0;nb.default=function(ib,Fb){if(ib===Fb)return!1;const Zb={width:!1,height:!1,isExpensive:!1},oc=(0,ra.default)([ib,Fb]);!oc.has("width")||"width"in ib&&"width"in Fb&&ib.width===Fb.width||("width"in ib&&"number"===typeof ib.width?Zb.width=ib.width:Zb.isExpensive=!0);!oc.has("height")||"height"in ib&&"height"in Fb&&ib.height===Fb.height||("height"in ib&&"number"===typeof ib.height?Zb.height=
ib.height:Zb.isExpensive=!0);oc.delete("width");oc.delete("height");[...oc].some(kc=>!(kc in ib)||!(kc in Fb)||!(0,g.default)(ib[kc],Fb[kc]))&&(Zb.isExpensive=!0);return!1!==Zb.width||!1!==Zb.height||Zb.isExpensive?Zb:!1};var g=r(Cb(74)),ra=r(Cb(71))};
shadow$provide[76]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(r,g){const ra=Object.keys(g);ra.forEach(ib=>{try{r.removeSignalListener(ib,g[ib])}catch(Fb){console.warn("Cannot remove invalid signal listener.",Fb)}});return 0<ra.length}};
shadow$provide[77]=function(ac,Cb,Wc,nb){nb.__esModule=!0;nb.default=function(r){const {spec:g,width:ra,height:ib}=r;return"undefined"!==typeof ra&&"undefined"!==typeof ib?Object.assign({},g,{width:ra,height:ib}):"undefined"!==typeof ra?Object.assign({},g,{width:ra}):"undefined"!==typeof ib?Object.assign({},g,{height:ib}):g}};
shadow$provide[78]=function(ac,Cb,Wc,nb){function r(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}function g(Ya,rb,Ib){rb in Ya?Object.defineProperty(Ya,rb,{value:Ib,enumerable:!0,configurable:!0,writable:!0}):Ya[rb]=Ib;return Ya}nb.__esModule=!0;nb.default=void 0;ac=r(Cb(19));var ra=r(Cb(2)),ib=r(Cb(67)),Fb=r(Cb(20)),Zb=r(Cb(71)),oc=Cb(72),kc=r(Cb(73)),Ac=r(Cb(75)),Ab=r(Cb(76)),ec=r(Cb(77));class pc extends ra.default.PureComponent{constructor(){super(...arguments);g(this,"containerRef",ra.default.createRef());
g(this,"resultPromise",void 0);g(this,"handleError",Ya=>{const {onError:rb=oc.NOOP}=this.props;rb(Ya,this.containerRef.current);console.warn(Ya)});g(this,"modifyView",Ya=>{this.resultPromise&&this.resultPromise.then(rb=>{rb&&Ya(rb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ya){const rb=(0,Zb.default)([this.props,Ya]);rb.delete("className");rb.delete("signalListeners");rb.delete("spec");rb.delete("style");rb.delete("width");rb.delete("height");
if(Array.from(rb).some(Ib=>this.props[Ib]!==Ya[Ib]))this.clearView(),this.createView();else{const Ib=(0,Ac.default)((0,ec.default)(this.props),(0,ec.default)(Ya)),{signalListeners:Nb}=this.props,{signalListeners:Bb}=Ya;if(Ib)if(Ib.isExpensive)this.clearView(),this.createView();else{const Ob=!(0,Fb.default)(Nb,Bb);this.modifyView(Xa=>{!1!==Ib.width&&Xa.width(Ib.width);!1!==Ib.height&&Xa.height(Ib.height);Ob&&(Bb&&(0,Ab.default)(Xa,Bb),Nb&&(0,kc.default)(Xa,Nb));Xa.run()})}else(0,Fb.default)(Nb,Bb)||
this.modifyView(Ob=>{Bb&&(0,Ab.default)(Ob,Bb);Nb&&(0,kc.default)(Ob,Nb);Ob.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ya=this.props,rb=Object.assign({},Ya);const Ib=Ya.onNewView,Nb=void 0===Ya.signalListeners?{}:Ya.signalListeners;Ya=(delete rb.spec,delete rb.onNewView,delete rb.signalListeners,delete rb.width,delete rb.height,rb);this.containerRef.current&&(rb=(0,ec.default)(this.props),this.resultPromise=(0,ib.default)(this.containerRef.current,rb,Ya).then(Bb=>{if(Bb){const {view:Ob}=
Bb;(0,kc.default)(Ob,Nb)&&Ob.run()}return Bb}).catch(this.handleError),Ib&&this.modifyView(Ib))}clearView(){this.resultPromise&&this.resultPromise.then(Ya=>{Ya&&Ya.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ya,style:rb}=this.props;return ra.default.createElement("div",{ref:this.containerRef,className:Ya,style:rb})}}nb.default=pc;g(pc,"propTypes",{className:ac.default.string,onError:ac.default.func})};
shadow$provide[79]=function(ac,Cb,Wc,nb){function r(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}function g(){g=Object.assign||function(Ab){for(var ec=1;ec<arguments.length;ec++){var pc=arguments[ec],Ya;for(Ya in pc)Object.prototype.hasOwnProperty.call(pc,Ya)&&(Ab[Ya]=pc[Ya])}return Ab};return g.apply(this,arguments)}function ra(Ab,ec,pc){ec in Ab?Object.defineProperty(Ab,ec,{value:pc,enumerable:!0,configurable:!0,writable:!0}):Ab[ec]=pc;return Ab}nb.__esModule=!0;nb.default=void 0;r(Cb(19));var ib=
r(Cb(2)),Fb=r(Cb(20)),Zb=r(Cb(70)),oc=r(Cb(78)),kc=Cb(72);class Ac extends ib.default.PureComponent{constructor(){super(...arguments);ra(this,"vegaEmbed",ib.default.createRef());ra(this,"handleNewView",Ab=>{this.update();const {onNewView:ec=kc.NOOP}=this.props;ec(Ab)})}componentDidMount(){this.update()}componentDidUpdate(Ab){(0,Fb.default)(this.props.data,Ab.data)||this.update()}update(){const {data:Ab}=this.props;this.vegaEmbed.current&&Ab&&0<Object.keys(Ab).length&&this.vegaEmbed.current.modifyView(ec=>
{(0,Zb.default)(ec,Ab);ec.resize().run()})}render(){var Ab=Object.assign({},this.props);Ab=(delete Ab.data,Ab);return ib.default.createElement(oc.default,g({ref:this.vegaEmbed},Ab,{onNewView:this.handleNewView}))}}nb.default=Ac;ra(Ac,"defaultProps",{data:{}})};
shadow$provide[80]=function(ac,Cb,Wc,nb){function r(Fb){return Fb&&Fb.__esModule?Fb:{default:Fb}}function g(){g=Object.assign||function(Fb){for(var Zb=1;Zb<arguments.length;Zb++){var oc=arguments[Zb],kc;for(kc in oc)Object.prototype.hasOwnProperty.call(oc,kc)&&(Fb[kc]=oc[kc])}return Fb};return g.apply(this,arguments)}nb.__esModule=!0;nb.default=function(Fb){return ra.default.createElement(ib.default,g({},Fb,{mode:"vega-lite"}))};var ra=r(Cb(2)),ib=r(Cb(79))};
shadow$provide[81]=function(ac,Cb,Wc,nb){function r(Zb){return Zb&&Zb.__esModule?Zb:{default:Zb}}function g(){g=Object.assign||function(Zb){for(var oc=1;oc<arguments.length;oc++){var kc=arguments[oc],Ac;for(Ac in kc)Object.prototype.hasOwnProperty.call(kc,Ac)&&(Zb[Ac]=kc[Ac])}return Zb};return g.apply(this,arguments)}function ra(Zb,oc,kc){oc in Zb?Object.defineProperty(Zb,oc,{value:kc,enumerable:!0,configurable:!0,writable:!0}):Zb[oc]=kc;return Zb}nb.__esModule=!0;nb.default=function(Zb){let {mode:oc,
spec:kc}=Zb;class Ac extends ib.default.PureComponent{render(){return ib.default.createElement(Fb.default,g({mode:oc,spec:kc},this.props))}}ra(Ac,"getSpec",function(){return kc});return Ac};var ib=r(Cb(2)),Fb=r(Cb(79))};
shadow$provide[82]=function(ac,Cb,Wc,nb){nb.__esModule=!0};
shadow$provide[83]=function(ac,Cb,Wc,nb){nb.__esModule=!0;var r=Cb(82);Object.keys(r).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in nb&&nb[g]===r[g]||(nb[g]=r[g]))})};
shadow$provide[84]=function(ac,Cb,Wc,nb){function r(ib){return ib&&ib.__esModule?ib:{default:ib}}nb.__esModule=!0;var g={Vega:!0,VegaLite:!0,createClassFromSpec:!0};nb.createClassFromSpec=nb.VegaLite=nb.Vega=void 0;ac=r(Cb(79));nb.Vega=ac.default;ac=r(Cb(80));nb.VegaLite=ac.default;ac=r(Cb(81));nb.createClassFromSpec=ac.default;var ra=Cb(83);Object.keys(ra).forEach(function(ib){"default"!==ib&&"__esModule"!==ib&&(Object.prototype.hasOwnProperty.call(g,ib)||ib in nb&&nb[ib]===ra[ib]||(nb[ib]=ra[ib]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async23450",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23450")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26405",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26405")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(84,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);