var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Db,nb,Dc,Va){function t(ea){if(null===ea||"object"!==typeof ea)return null;ea=ia&&ea[ia]||ea["@@iterator"];return"function"===typeof ea?ea:null}function h(ea,ja,Ma){this.props=ea;this.context=ja;this.refs=Wa;this.updater=Ma||Ba}function ka(){}function Ya(ea,ja,Ma){this.props=ea;this.context=ja;this.refs=Wa;this.updater=Ma||Ba}function ub(ea,ja,Ma){var oa,qa={},l=null,D=null;if(null!=ja)for(oa in void 0!==ja.ref&&(D=ja.ref),void 0!==ja.key&&(l=""+ja.key),ja)$a.call(ja,oa)&&
!Nb.hasOwnProperty(oa)&&(qa[oa]=ja[oa]);var K=arguments.length-2;if(1===K)qa.children=Ma;else if(1<K){for(var v=Array(K),Q=0;Q<K;Q++)v[Q]=arguments[Q+2];qa.children=v}if(ea&&ea.defaultProps)for(oa in K=ea.defaultProps,K)void 0===qa[oa]&&(qa[oa]=K[oa]);return{$$typeof:Za,type:ea,key:l,ref:D,props:qa,_owner:qb.current}}function Yb(ea,ja){return{$$typeof:Za,type:ea.type,key:ja,ref:ea.ref,props:ea.props,_owner:ea._owner}}function dc(ea){return"object"===typeof ea&&null!==ea&&ea.$$typeof===Za}function Wb(ea){var ja=
{"\x3d":"\x3d0",":":"\x3d2"};return"$"+ea.replace(/[=:]/g,function(Ma){return ja[Ma]})}function oc(ea,ja){return"object"===typeof ea&&null!==ea&&null!=ea.key?Wb(""+ea.key):ja.toString(36)}function Ab(ea,ja,Ma,oa,qa){var l=typeof ea;if("undefined"===l||"boolean"===l)ea=null;var D=!1;if(null===ea)D=!0;else switch(l){case "string":case "number":D=!0;break;case "object":switch(ea.$$typeof){case Za:case tb:D=!0}}if(D)return D=ea,qa=qa(D),ea=""===oa?"."+oc(D,0):oa,hb(qa)?(Ma="",null!=ea&&(Ma=ea.replace(db,
"$\x26/")+"/"),Ab(qa,ja,Ma,"",function(Q){return Q})):null!=qa&&(dc(qa)&&(qa=Yb(qa,Ma+(!qa.key||D&&D.key===qa.key?"":(""+qa.key).replace(db,"$\x26/")+"/")+ea)),ja.push(qa)),1;D=0;oa=""===oa?".":oa+":";if(hb(ea))for(var K=0;K<ea.length;K++){l=ea[K];var v=oa+oc(l,K);D+=Ab(l,ja,Ma,v,qa)}else if(v=t(ea),"function"===typeof v)for(ea=v.call(ea),K=0;!(l=ea.next()).done;)l=l.value,v=oa+oc(l,K++),D+=Ab(l,ja,Ma,v,qa);else if("object"===l)throw ja=String(ea),Error("Objects are not valid as a React child (found: "+
("[object Object]"===ja?"object with keys {"+Object.keys(ea).join(", ")+"}":ja)+"). If you meant to render a collection of children, use an array instead.");return D}function Tb(ea,ja,Ma){if(null==ea)return ea;var oa=[],qa=0;Ab(ea,oa,"","",function(l){return ja.call(Ma,l,qa++)});return oa}function jc(ea){if(-1===ea._status){var ja=ea._result;ja=ja();ja.then(function(Ma){if(0===ea._status||-1===ea._status)ea._status=1,ea._result=Ma},function(Ma){if(0===ea._status||-1===ea._status)ea._status=2,ea._result=
Ma});-1===ea._status&&(ea._status=0,ea._result=ja)}if(1===ea._status)return ea._result.default;throw ea._result;}function Ea(){throw Error("act(...) is not supported in production builds of React.");}var Za=Symbol.for("react.element"),tb=Symbol.for("react.portal");Db=Symbol.for("react.fragment");nb=Symbol.for("react.strict_mode");Dc=Symbol.for("react.profiler");var rb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),gb=Symbol.for("react.suspense"),fc=
Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),ia=Symbol.iterator,Ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sa=Object.assign,Wa={};h.prototype.isReactComponent={};h.prototype.setState=function(ea,ja){if("object"!==typeof ea&&"function"!==typeof ea&&null!=ea)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,
ea,ja,"setState")};h.prototype.forceUpdate=function(ea){this.updater.enqueueForceUpdate(this,ea,"forceUpdate")};ka.prototype=h.prototype;var Ha=Ya.prototype=new ka;Ha.constructor=Ya;Sa(Ha,h.prototype);Ha.isPureReactComponent=!0;var hb=Array.isArray,$a=Object.prototype.hasOwnProperty,qb={current:null},Nb={key:!0,ref:!0,__self:!0,__source:!0},db=/\/+/g,T={current:null},ba={transition:null};Ha={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:ba,ReactCurrentOwner:qb};Va.Children={map:Tb,forEach:function(ea,
ja,Ma){Tb(ea,function(){ja.apply(this,arguments)},Ma)},count:function(ea){var ja=0;Tb(ea,function(){ja++});return ja},toArray:function(ea){return Tb(ea,function(ja){return ja})||[]},only:function(ea){if(!dc(ea))throw Error("React.Children.only expected to receive a single React element child.");return ea}};Va.Component=h;Va.Fragment=Db;Va.Profiler=Dc;Va.PureComponent=Ya;Va.StrictMode=nb;Va.Suspense=gb;Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ha;Va.act=Ea;Va.cloneElement=function(ea,ja,
Ma){if(null===ea||void 0===ea)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ea+".");var oa=Sa({},ea.props),qa=ea.key,l=ea.ref,D=ea._owner;if(null!=ja){void 0!==ja.ref&&(l=ja.ref,D=qb.current);void 0!==ja.key&&(qa=""+ja.key);if(ea.type&&ea.type.defaultProps)var K=ea.type.defaultProps;for(v in ja)$a.call(ja,v)&&!Nb.hasOwnProperty(v)&&(oa[v]=void 0===ja[v]&&void 0!==K?K[v]:ja[v])}var v=arguments.length-2;if(1===v)oa.children=Ma;else if(1<v){K=Array(v);for(var Q=
0;Q<v;Q++)K[Q]=arguments[Q+2];oa.children=K}return{$$typeof:Za,type:ea.type,key:qa,ref:l,props:oa,_owner:D}};Va.createContext=function(ea){ea={$$typeof:pb,_currentValue:ea,_currentValue2:ea,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ea.Provider={$$typeof:rb,_context:ea};return ea.Consumer=ea};Va.createElement=ub;Va.createFactory=function(ea){var ja=ub.bind(null,ea);ja.type=ea;return ja};Va.createRef=function(){return{current:null}};Va.forwardRef=function(ea){return{$$typeof:vb,
render:ea}};Va.isValidElement=dc;Va.lazy=function(ea){return{$$typeof:sa,_payload:{_status:-1,_result:ea},_init:jc}};Va.memo=function(ea,ja){return{$$typeof:fc,type:ea,compare:void 0===ja?null:ja}};Va.startTransition=function(ea){var ja=ba.transition;ba.transition={};try{ea()}finally{ba.transition=ja}};Va.unstable_act=Ea;Va.useCallback=function(ea,ja){return T.current.useCallback(ea,ja)};Va.useContext=function(ea){return T.current.useContext(ea)};Va.useDebugValue=function(){};Va.useDeferredValue=
function(ea){return T.current.useDeferredValue(ea)};Va.useEffect=function(ea,ja){return T.current.useEffect(ea,ja)};Va.useId=function(){return T.current.useId()};Va.useImperativeHandle=function(ea,ja,Ma){return T.current.useImperativeHandle(ea,ja,Ma)};Va.useInsertionEffect=function(ea,ja){return T.current.useInsertionEffect(ea,ja)};Va.useLayoutEffect=function(ea,ja){return T.current.useLayoutEffect(ea,ja)};Va.useMemo=function(ea,ja){return T.current.useMemo(ea,ja)};Va.useReducer=function(ea,ja,Ma){return T.current.useReducer(ea,
ja,Ma)};Va.useRef=function(ea){return T.current.useRef(ea)};Va.useState=function(ea){return T.current.useState(ea)};Va.useSyncExternalStore=function(ea,ja,Ma){return T.current.useSyncExternalStore(ea,ja,Ma)};Va.useTransition=function(){return T.current.useTransition()};Va.version="18.3.1"};
shadow$provide[2]=function(Db,nb,Dc,Va){Dc.exports=nb(0)};
shadow$provide[3]=function(Db,nb,Dc,Va){function t(ba,ea){var ja=ba.length;ba.push(ea);a:for(;0<ja;){var Ma=ja-1>>>1,oa=ba[Ma];if(0<Ya(oa,ea))ba[Ma]=ea,ba[ja]=oa,ja=Ma;else break a}}function h(ba){return 0===ba.length?null:ba[0]}function ka(ba){if(0===ba.length)return null;var ea=ba[0],ja=ba.pop();if(ja!==ea){ba[0]=ja;var Ma=0,oa=ba.length,qa=oa>>>1;a:for(;Ma<qa;){var l=2*(Ma+1)-1,D=ba[l],K=l+1,v=ba[K];if(0>Ya(D,ja))K<oa&&0>Ya(v,D)?(ba[Ma]=v,ba[K]=ja,Ma=K):(ba[Ma]=D,ba[l]=ja,Ma=l);else if(K<oa&&0>
Ya(v,ja))ba[Ma]=v,ba[K]=ja,Ma=K;else break a}}return ea}function Ya(ba,ea){var ja=ba.sortIndex-ea.sortIndex;return 0!==ja?ja:ba.id-ea.id}function ub(ba){for(var ea=h(rb);null!==ea;){if(null===ea.callback)ka(rb);else if(ea.startTime<=ba)ka(rb),ea.sortIndex=ea.expirationTime,t(tb,ea);else break;ea=h(rb)}}function Yb(ba){ia=!1;ub(ba);if(!sa)if(null!==h(tb))sa=!0,Ab(dc);else{var ea=h(rb);null!==ea&&Tb(Yb,ea.startTime-ba)}}function dc(ba,ea){sa=!1;ia&&(ia=!1,Sa($a),$a=-1);fc=!0;var ja=gb;try{ub(ea);for(vb=
h(tb);null!==vb&&(!(vb.expirationTime>ea)||ba&&!Wb());){var Ma=vb.callback;if("function"===typeof Ma){vb.callback=null;gb=vb.priorityLevel;var oa=Ma(vb.expirationTime<=ea);ea=Va.unstable_now();"function"===typeof oa?vb.callback=oa:vb===h(tb)&&ka(tb);ub(ea)}else ka(tb);vb=h(tb)}if(null!==vb)var qa=!0;else{var l=h(rb);null!==l&&Tb(Yb,l.startTime-ea);qa=!1}return qa}finally{vb=null,gb=ja,fc=!1}}function Wb(){return Va.unstable_now()-Nb<qb?!1:!0}function oc(){if(null!==hb){var ba=Va.unstable_now();Nb=
ba;var ea=!0;try{ea=hb(!0,ba)}finally{ea?db():(Ha=!1,hb=null)}}else Ha=!1}function Ab(ba){hb=ba;Ha||(Ha=!0,db())}function Tb(ba,ea){$a=Ba(function(){ba(Va.unstable_now())},ea)}if("object"===typeof performance&&"function"===typeof performance.now){var jc=performance;Va.unstable_now=function(){return jc.now()}}else{var Ea=Date,Za=Ea.now();Va.unstable_now=function(){return Ea.now()-Za}}var tb=[],rb=[],pb=1,vb=null,gb=3,fc=!1,sa=!1,ia=!1,Ba="function"===typeof setTimeout?setTimeout:null,Sa="function"===
typeof clearTimeout?clearTimeout:null,Wa="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ha=!1,hb=null,$a=-1,qb=5,Nb=-1;if("function"===typeof Wa)var db=function(){Wa(oc)};else if("undefined"!==typeof MessageChannel){Db=new MessageChannel;var T=Db.port2;Db.port1.onmessage=oc;db=function(){T.postMessage(null)}}else db=function(){Ba(oc,
0)};Va.unstable_IdlePriority=5;Va.unstable_ImmediatePriority=1;Va.unstable_LowPriority=4;Va.unstable_NormalPriority=3;Va.unstable_Profiling=null;Va.unstable_UserBlockingPriority=2;Va.unstable_cancelCallback=function(ba){ba.callback=null};Va.unstable_continueExecution=function(){sa||fc||(sa=!0,Ab(dc))};Va.unstable_forceFrameRate=function(ba){0>ba||125<ba?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qb=0<ba?Math.floor(1E3/
ba):5};Va.unstable_getCurrentPriorityLevel=function(){return gb};Va.unstable_getFirstCallbackNode=function(){return h(tb)};Va.unstable_next=function(ba){switch(gb){case 1:case 2:case 3:var ea=3;break;default:ea=gb}var ja=gb;gb=ea;try{return ba()}finally{gb=ja}};Va.unstable_pauseExecution=function(){};Va.unstable_requestPaint=function(){};Va.unstable_runWithPriority=function(ba,ea){switch(ba){case 1:case 2:case 3:case 4:case 5:break;default:ba=3}var ja=gb;gb=ba;try{return ea()}finally{gb=ja}};Va.unstable_scheduleCallback=
function(ba,ea,ja){var Ma=Va.unstable_now();"object"===typeof ja&&null!==ja?(ja=ja.delay,ja="number"===typeof ja&&0<ja?Ma+ja:Ma):ja=Ma;switch(ba){case 1:var oa=-1;break;case 2:oa=250;break;case 5:oa=1073741823;break;case 4:oa=1E4;break;default:oa=5E3}oa=ja+oa;ba={id:pb++,callback:ea,priorityLevel:ba,startTime:ja,expirationTime:oa,sortIndex:-1};ja>Ma?(ba.sortIndex=ja,t(rb,ba),null===h(tb)&&ba===h(rb)&&(ia?(Sa($a),$a=-1):ia=!0,Tb(Yb,ja-Ma))):(ba.sortIndex=oa,t(tb,ba),sa||fc||(sa=!0,Ab(dc)));return ba};
Va.unstable_shouldYield=Wb;Va.unstable_wrapCallback=function(ba){var ea=gb;return function(){var ja=gb;gb=ea;try{return ba.apply(this,arguments)}finally{gb=ja}}}};
shadow$provide[5]=function(Db,nb,Dc,Va){Dc.exports=nb(3)};
shadow$provide[6]=function(Db,nb,Dc,Va){function t(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,k=1;k<arguments.length;k++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[k]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(c,d){ka(c,d);ka(c+"Capture",d)}function ka(c,d){Wh[c]=d;for(c=0;c<d.length;c++)hi.add(d[c])}function Ya(c){if(m.call(ma,c))return!0;
if(m.call(L,c))return!1;if(H.test(c))return ma[c]=!0;L[c]=!0;return!1}function ub(c,d,k,u){if(null!==k&&0===k.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(u)return!1;if(null!==k)return!k.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function Yb(c,d,k,u){if(null===d||"undefined"===typeof d||ub(c,d,k,u))return!0;if(u)return!1;if(null!==k)switch(k.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function dc(c,d,k,u,S,fa,Ta){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=u;this.attributeNamespace=S;this.mustUseProperty=k;this.propertyName=c;this.type=d;this.sanitizeURL=fa;this.removeEmptyString=Ta}function Wb(c){return c[1].toUpperCase()}function oc(c,d,k,u){var S=Ra.hasOwnProperty(d)?Ra[d]:null;if(null!==S?0!==S.type:u||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Yb(d,k,S,u)&&(k=null),u||null===S?Ya(d)&&(null===k?c.removeAttribute(d):
c.setAttribute(d,""+k)):S.mustUseProperty?c[S.propertyName]=null===k?3===S.type?!1:"":k:(d=S.attributeName,u=S.attributeNamespace,null===k?c.removeAttribute(d):(S=S.type,k=3===S||4===S&&!0===k?"":""+k,u?c.setAttributeNS(u,d,k):c.setAttribute(d,k)))}function Ab(c){if(null===c||"object"!==typeof c)return null;c=Ug&&c[Ug]||c["@@iterator"];return"function"===typeof c?c:null}function Tb(c){if(void 0===ze)try{throw Error();}catch(k){var d=k.stack.trim().match(/\n( *(at )?)/);ze=d&&d[1]||""}return"\n"+ze+
c}function jc(c,d){if(!c||Of)return"";Of=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(Uc){var u=Uc}Reflect.construct(c,[],d)}else{try{d.call()}catch(Uc){u=Uc}c.call(d.prototype)}else{try{throw Error();}catch(Uc){u=Uc}c()}}catch(Uc){if(Uc&&u&&"string"===typeof Uc.stack){for(var S=Uc.stack.split("\n"),
fa=u.stack.split("\n"),Ta=S.length-1,Vb=fa.length-1;1<=Ta&&0<=Vb&&S[Ta]!==fa[Vb];)Vb--;for(;1<=Ta&&0<=Vb;Ta--,Vb--)if(S[Ta]!==fa[Vb]){if(1!==Ta||1!==Vb){do if(Ta--,Vb--,0>Vb||S[Ta]!==fa[Vb]){var mc="\n"+S[Ta].replace(" at new "," at ");c.displayName&&mc.includes("\x3canonymous\x3e")&&(mc=mc.replace("\x3canonymous\x3e",c.displayName));return mc}while(1<=Ta&&0<=Vb)}break}}}finally{Of=!1,Error.prepareStackTrace=k}return(c=c?c.displayName||c.name:"")?Tb(c):""}function Ea(c){switch(c.tag){case 5:return Tb(c.type);
case 16:return Tb("Lazy");case 13:return Tb("Suspense");case 19:return Tb("SuspenseList");case 0:case 2:case 15:return c=jc(c.type,!1),c;case 11:return c=jc(c.type.render,!1),c;case 1:return c=jc(c.type,!0),c;default:return""}}function Za(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case ad:return"Fragment";case uc:return"Portal";case Bc:return"Profiler";case od:return"StrictMode";case Td:return"Suspense";case Xe:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case ae:return(c.displayName||"Context")+".Consumer";case Dd:return(c._context.displayName||"Context")+".Provider";case Ae:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case Pf:return d=c.displayName||null,null!==d?d:Za(c.type)||"Memo";case Bf:d=c._payload;c=c._init;try{return Za(c(d))}catch(k){}}return null}function tb(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Za(d);case 8:return d===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function rb(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function pb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function vb(c){var d=pb(c)?"checked":"value",k=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),u=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var S=k.get,fa=k.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(Ta){u=""+Ta;fa.call(this,Ta)}});Object.defineProperty(c,d,{enumerable:k.enumerable});return{getValue:function(){return u},setValue:function(Ta){u=""+Ta},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function gb(c){c._valueTracker||(c._valueTracker=vb(c))}function fc(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var k=d.getValue(),u="";c&&(u=pb(c)?c.checked?"true":"false":c.value);c=u;return c!==k?(d.setValue(c),!0):!1}function sa(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function ia(c,d){var k=d.checked;return He({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=k?k:c._wrapperState.initialChecked})}function Ba(c,d){var k=null==d.defaultValue?
"":d.defaultValue,u=null!=d.checked?d.checked:d.defaultChecked;k=rb(null!=d.value?d.value:k);c._wrapperState={initialChecked:u,initialValue:k,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Sa(c,d){d=d.checked;null!=d&&oc(c,"checked",d,!1)}function Wa(c,d){Sa(c,d);var k=rb(d.value),u=d.type;if(null!=k)if("number"===u){if(0===k&&""===c.value||c.value!=k)c.value=""+k}else c.value!==""+k&&(c.value=""+k);else if("submit"===u||"reset"===u){c.removeAttribute("value");
return}d.hasOwnProperty("value")?hb(c,d.type,k):d.hasOwnProperty("defaultValue")&&hb(c,d.type,rb(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Ha(c,d,k){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var u=d.type;if(!("submit"!==u&&"reset"!==u||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;k||d===c.value||(c.value=d);c.defaultValue=d}k=c.name;""!==k&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==k&&(c.name=k)}function hb(c,d,k){if("number"!==d||sa(c.ownerDocument)!==c)null==k?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+k&&(c.defaultValue=""+k)}function $a(c,d,k,u){c=c.options;if(d){d={};for(var S=0;S<k.length;S++)d["$"+k[S]]=!0;for(k=0;k<c.length;k++)S=d.hasOwnProperty("$"+c[k].value),c[k].selected!==S&&(c[k].selected=S),S&&u&&(c[k].defaultSelected=!0)}else{k=""+rb(k);d=null;for(S=0;S<c.length;S++){if(c[S].value===k){c[S].selected=!0;u&&(c[S].defaultSelected=!0);
return}null!==d||c[S].disabled||(d=c[S])}null!==d&&(d.selected=!0)}}function qb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(t(91));return He({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Nb(c,d){var k=d.value;if(null==k){k=d.children;d=d.defaultValue;if(null!=k){if(null!=d)throw Error(t(92));if(Dh(k)){if(1<k.length)throw Error(t(93));k=k[0]}d=k}null==d&&(d="");k=d}c._wrapperState={initialValue:rb(k)}}function db(c,d){var k=rb(d.value),u=rb(d.defaultValue);
null!=k&&(k=""+k,k!==c.value&&(c.value=k),null==d.defaultValue&&c.defaultValue!==k&&(c.defaultValue=k));null!=u&&(c.defaultValue=""+u)}function T(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function ba(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?ba(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function ja(c,d){if(d){var k=c.firstChild;if(k&&k===c.lastChild&&3===k.nodeType){k.nodeValue=d;return}}c.textContent=d}function Ma(c,d,k){return null==d||"boolean"===typeof d||""===d?"":k||"number"!==typeof d||0===d||ce.hasOwnProperty(c)&&ce[c]?(""+d).trim():d+"px"}function oa(c,d){c=c.style;for(var k in d)if(d.hasOwnProperty(k)){var u=0===k.indexOf("--"),S=Ma(k,d[k],u);"float"===k&&(k="cssFloat");u?c.setProperty(k,S):c[k]=S}}function qa(c,d){if(d){if(xf[c]&&
(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(t(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(t(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(t(62));}}function l(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function D(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function K(c){if(c=Oc(c)){if("function"!==typeof Cf)throw Error(t(280));var d=c.stateNode;d&&(d=Md(d),Cf(c.stateNode,c.type,d))}}function v(c){Qf?Lg?Lg.push(c):Lg=[c]:Qf=c}function Q(){if(Qf){var c=Qf,d=Lg;Lg=Qf=null;K(c);if(d)for(c=0;c<d.length;c++)K(d[c])}}function A(c,d){return c(d)}function W(){}function G(c,d,k){if(sh)return c(d,k);sh=
!0;try{return A(c,d,k)}finally{if(sh=!1,null!==Qf||null!==Lg)W(),Q()}}function w(c,d){var k=c.stateNode;if(null===k)return null;var u=Md(k);if(null===u)return null;k=u[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(u=!u.disabled)||(c=c.type,u=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!u;break a;default:c=!1}if(c)return null;if(k&&"function"!==typeof k)throw Error(t(231,d,typeof k));return k}function z(c,d,k,u,S,fa,Ta,Vb,mc){var Uc=Array.prototype.slice.call(arguments,3);try{d.apply(k,Uc)}catch(yd){this.onError(yd)}}function F(c,d,k,u,S,fa,Ta,Vb,mc){bh=!1;Aj=null;z.apply(Kl,arguments)}function V(c,d,k,u,S,fa,Ta,Vb,mc){F.apply(this,arguments);if(bh){if(bh){var Uc=Aj;bh=!1;Aj=null}else throw Error(t(198));Bj||(Bj=!0,Uj=Uc)}}function ta(c){var d=c,k=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(k=d.return),c=d.return;while(c)}return 3===d.tag?k:null}function N(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function la(c){if(ta(c)!==c)throw Error(t(188));}function wa(c){var d=c.alternate;if(!d){d=ta(c);if(null===d)throw Error(t(188));return d!==c?null:c}for(var k=c,u=d;;){var S=k.return;if(null===S)break;var fa=S.alternate;if(null===fa){u=S.return;if(null!==
u){k=u;continue}break}if(S.child===fa.child){for(fa=S.child;fa;){if(fa===k)return la(S),c;if(fa===u)return la(S),d;fa=fa.sibling}throw Error(t(188));}if(k.return!==u.return)k=S,u=fa;else{for(var Ta=!1,Vb=S.child;Vb;){if(Vb===k){Ta=!0;k=S;u=fa;break}if(Vb===u){Ta=!0;u=S;k=fa;break}Vb=Vb.sibling}if(!Ta){for(Vb=fa.child;Vb;){if(Vb===k){Ta=!0;k=fa;u=S;break}if(Vb===u){Ta=!0;u=fa;k=S;break}Vb=Vb.sibling}if(!Ta)throw Error(t(189));}}if(k.alternate!==u)throw Error(t(190));}if(3!==k.tag)throw Error(t(188));
return k.stateNode.current===k?c:d}function Na(c){c=wa(c);return null!==c?Pa(c):null}function Pa(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Pa(c);if(null!==d)return d;c=c.sibling}return null}function Xa(c){if(Xh&&"function"===typeof Xh.onCommitFiberRoot)try{Xh.onCommitFiberRoot(Cj,c,void 0,128===(c.current.flags&128))}catch(d){}}function sb(c){c>>>=0;return 0===c?32:31-(jl(c)/Ll|0)|0}function ib(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Sb(c,d){var k=c.pendingLanes;if(0===
k)return 0;var u=0,S=c.suspendedLanes,fa=c.pingedLanes,Ta=k&268435455;if(0!==Ta){var Vb=Ta&~S;0!==Vb?u=ib(Vb):(fa&=Ta,0!==fa&&(u=ib(fa)))}else Ta=k&~S,0!==Ta?u=ib(Ta):0!==fa&&(u=ib(fa));if(0===u)return 0;if(0!==d&&d!==u&&0===(d&S)&&(S=u&-u,fa=d&-d,S>=fa||16===S&&0!==(fa&4194240)))return d;0!==(u&4)&&(u|=k&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=u;0<d;)k=31-Oh(d),S=1<<k,u|=c[k],d&=~S;return u}function X(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(c,d){for(var k=c.suspendedLanes,u=c.pingedLanes,S=c.expirationTimes,fa=c.pendingLanes;0<fa;){var Ta=31-Oh(fa),Vb=1<<Ta,mc=S[Ta];if(-1===mc){if(0===(Vb&k)||0!==(Vb&u))S[Ta]=X(Vb,d)}else mc<=d&&(c.expiredLanes|=Vb);fa&=~Vb}}function Kb(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function pc(){var c=
Dj;Dj<<=1;0===(Dj&4194240)&&(Dj=64);return c}function $b(c){for(var d=[],k=0;31>k;k++)d.push(c);return d}function Mb(c,d,k){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-Oh(d);c[d]=k}function Ob(c,d){var k=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var u=c.eventTimes;for(c=c.expirationTimes;0<k;){var S=31-Oh(k),fa=1<<S;d[S]=0;u[S]=-1;c[S]=-1;k&=~fa}}
function yc(c,d){var k=c.entangledLanes|=d;for(c=c.entanglements;k;){var u=31-Oh(k),S=1<<u;S&d|c[u]&d&&(c[u]|=d);k&=~S}}function hd(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function ra(c,d){switch(c){case "focusin":case "focusout":Bi=null;break;case "dragenter":case "dragleave":ii=null;break;case "mouseover":case "mouseout":Ci=null;break;case "pointerover":case "pointerout":ej.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":fj.delete(d.pointerId)}}function Bb(c,
d,k,u,S,fa){if(null===c||c.nativeEvent!==fa)return c={blockedOn:d,domEventName:k,eventSystemFlags:u,nativeEvent:fa,targetContainers:[S]},null!==d&&(d=Oc(d),null!==d&&Dk(d)),c;c.eventSystemFlags|=u;d=c.targetContainers;null!==S&&-1===d.indexOf(S)&&d.push(S);return c}function Ua(c,d,k,u,S){switch(d){case "focusin":return Bi=Bb(Bi,c,d,k,u,S),!0;case "dragenter":return ii=Bb(ii,c,d,k,u,S),!0;case "mouseover":return Ci=Bb(Ci,c,d,k,u,S),!0;case "pointerover":var fa=S.pointerId;ej.set(fa,Bb(ej.get(fa)||
null,c,d,k,u,S));return!0;case "gotpointercapture":return fa=S.pointerId,fj.set(fa,Bb(fj.get(fa)||null,c,d,k,u,S)),!0}return!1}function xb(c){var d=cd(c.target);if(null!==d){var k=ta(d);if(null!==k)if(d=k.tag,13===d){if(d=N(k),null!==d){c.blockedOn=d;kl(c.priority,function(){Ml(k)});return}}else if(3===d&&k.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===k.tag?k.stateNode.containerInfo:null;return}}c.blockedOn=null}function Fb(c){if(null!==c.blockedOn)return!1;for(var d=c.targetContainers;0<
d.length;){var k=Ia(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===k){k=c.nativeEvent;var u=new k.constructor(k.type,k);Yf=u;k.target.dispatchEvent(u);Yf=null}else return d=Oc(k),null!==d&&Dk(d),c.blockedOn=k,!1;d.shift()}return!0}function Lb(c,d,k){Fb(c)&&k.delete(d)}function Zb(){Vj=!1;null!==Bi&&Fb(Bi)&&(Bi=null);null!==ii&&Fb(ii)&&(ii=null);null!==Ci&&Fb(Ci)&&(Ci=null);ej.forEach(Lb);fj.forEach(Lb)}function ic(c,d){c.blockedOn===d&&(c.blockedOn=null,Vj||(Vj=!0,zg.unstable_scheduleCallback(zg.unstable_NormalPriority,
Zb)))}function Ac(c){function d(S){return ic(S,c)}if(0<Wj.length){ic(Wj[0],c);for(var k=1;k<Wj.length;k++){var u=Wj[k];u.blockedOn===c&&(u.blockedOn=null)}}null!==Bi&&ic(Bi,c);null!==ii&&ic(ii,c);null!==Ci&&ic(Ci,c);ej.forEach(d);fj.forEach(d);for(k=0;k<ji.length;k++)u=ji[k],u.blockedOn===c&&(u.blockedOn=null);for(;0<ji.length&&(k=ji[0],null===k.blockedOn);)xb(k),null===k.blockedOn&&ji.shift()}function nd(c,d,k,u){var S=yf,fa=gj.transition;gj.transition=null;try{yf=1,na(c,d,k,u)}finally{yf=S,gj.transition=
fa}}function Vc(c,d,k,u){var S=yf,fa=gj.transition;gj.transition=null;try{yf=4,na(c,d,k,u)}finally{yf=S,gj.transition=fa}}function na(c,d,k,u){if(Xj){var S=Ia(c,d,k,u);if(null===S)Ie(c,d,u,Yj,k),ra(c,u);else if(Ua(S,c,d,k,u))u.stopPropagation();else if(ra(c,u),d&4&&-1<ll.indexOf(c)){for(;null!==S;){var fa=Oc(S);null!==fa&&Nl(fa);fa=Ia(c,d,k,u);null===fa&&Ie(c,d,u,Yj,k);if(fa===S)break;S=fa}null!==S&&u.stopPropagation()}else Ie(c,d,u,null,k)}}function Ia(c,d,k,u){Yj=null;c=D(u);c=cd(c);if(null!==c)if(d=
ta(c),null===d)c=null;else if(k=d.tag,13===k){c=N(d);if(null!==c)return c;c=null}else if(3===k){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);Yj=c;return null}function fb(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Ek()){case Fk:return 1;case Zj:return 4;case Ri:case ml:return 16;case Gk:return 536870912;default:return 16}default:return 16}}function R(){if(ak)return ak;
var c,d=Hk,k=d.length,u,S="value"in Di?Di.value:Di.textContent,fa=S.length;for(c=0;c<k&&d[c]===S[c];c++);var Ta=k-c;for(u=1;u<=Ta&&d[k-u]===S[fa-u];u++);return ak=S.slice(c,1<u?1-u:void 0)}function r(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function da(){return!0}function za(){return!1}function Da(c){function d(k,u,S,fa,Ta){this._reactName=k;this._targetInst=S;this.type=u;this.nativeEvent=fa;this.target=Ta;this.currentTarget=
null;for(var Vb in c)c.hasOwnProperty(Vb)&&(k=c[Vb],this[Vb]=k?k(fa):fa[Vb]);this.isDefaultPrevented=(null!=fa.defaultPrevented?fa.defaultPrevented:!1===fa.returnValue)?da:za;this.isPropagationStopped=za;return this}He(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():"unknown"!==typeof k.returnValue&&(k.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():
"unknown"!==typeof k.cancelBubble&&(k.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da});return d}function Oa(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ol[c])?!!d[c]:!1}function kb(){return Oa}function Ub(c,d){switch(c){case "keyup":return-1!==Ee.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Eb(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function Ib(c,d){switch(c){case "compositionend":return Eb(d);case "keypress":if(32!==d.which)return null;bk=!0;return Ik;case "textInput":return c=d.data,c===Ik&&bk?null:c;default:return null}}function Cc(c,d){if(ki)return"compositionend"===c||!ud&&Ub(c,d)?(c=R(),ak=Hk=Di=null,ki=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Jk&&"ko"!==d.locale?null:d.data;default:return null}}function Hc(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!Pl[c.type]:"textarea"===d?!0:!1}function Nc(c,d,k,u){v(u);d=tf(d,"onChange");0<d.length&&(k=new Rf("onChange","change",null,k,u),c.push({event:k,listeners:d}))}function xd(c){Fd(c,0)}function sd(c){var d=Nd(c);if(fc(d))return c}function ed(c,d){if("change"===c)return d}function Id(){Si&&(Si.detachEvent("onpropertychange",Gd),hj=Si=null)}
function Gd(c){if("value"===c.propertyName&&sd(hj)){var d=[];Nc(d,hj,c,D(c));G(xd,d)}}function vd(c,d,k){"focusin"===c?(Id(),Si=d,hj=k,Si.attachEvent("onpropertychange",Gd)):"focusout"===c&&Id()}function xe(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return sd(hj)}function Ed(c,d){if("click"===c)return sd(d)}function x(c,d){if("input"===c||"change"===c)return sd(d)}function I(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function xa(c,d){if(Ph(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var k=Object.keys(c),u=Object.keys(d);if(k.length!==u.length)return!1;for(u=0;u<k.length;u++){var S=k[u];if(!m.call(d,S)||!Ph(c[S],d[S]))return!1}return!0}function Ja(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function jb(c,d){var k=Ja(c);c=0;for(var u;k;){if(3===k.nodeType){u=c+k.textContent.length;if(c<=d&&u>=d)return{node:k,offset:d-c};c=u}a:{for(;k;){if(k.nextSibling){k=k.nextSibling;break a}k=k.parentNode}k=void 0}k=Ja(k)}}function wb(c,
d){return c&&d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?wb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ec(){for(var c=window,d=sa();d instanceof c.HTMLIFrameElement;){try{var k="string"===typeof d.contentWindow.location.href}catch(u){k=!1}if(k)c=d.contentWindow;else break;d=sa(c.document)}return d}function Qb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||
"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function qc(c){var d=ec(),k=c.focusedElem,u=c.selectionRange;if(d!==k&&k&&k.ownerDocument&&wb(k.ownerDocument.documentElement,k)){if(null!==u&&Qb(k))if(d=u.start,c=u.end,void 0===c&&(c=d),"selectionStart"in k)k.selectionStart=d,k.selectionEnd=Math.min(c,k.value.length);else if(c=(d=k.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var S=k.textContent.length,fa=Math.min(u.start,
S);u=void 0===u.end?fa:Math.min(u.end,S);!c.extend&&fa>u&&(S=u,u=fa,fa=S);S=jb(k,fa);var Ta=jb(k,u);S&&Ta&&(1!==c.rangeCount||c.anchorNode!==S.node||c.anchorOffset!==S.offset||c.focusNode!==Ta.node||c.focusOffset!==Ta.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),c.removeAllRanges(),fa>u?(c.addRange(d),c.extend(Ta.node,Ta.offset)):(d.setEnd(Ta.node,Ta.offset),c.addRange(d)))}d=[];for(c=k;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===typeof k.focus&&
k.focus();for(k=0;k<d.length;k++)c=d[k],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function Fc(c,d,k){var u=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;Mg||null==ij||ij!==sa(u)||(u=ij,"selectionStart"in u&&Qb(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ej&&xa(Ej,u)||(Ej=u,u=tf(Kk,"onSelect"),
0<u.length&&(d=new Rf("onSelect","select",null,d,k),c.push({event:d,listeners:u}),d.target=ij)))}function zc(c,d){var k={};k[c.toLowerCase()]=d.toLowerCase();k["Webkit"+c]="webkit"+d;k["Moz"+c]="moz"+d;return k}function bd(c){if(Lk[c])return Lk[c];if(!Ei[c])return c;var d=Ei[c],k;for(k in d)if(d.hasOwnProperty(k)&&k in ck)return Lk[c]=d[k];return c}function md(c,d){Yh.set(c,d);h(d,[c])}function qd(c,d,k){var u=c.type||"unknown-event";c.currentTarget=k;V(u,d,void 0,c);c.currentTarget=null}function Fd(c,
d){d=0!==(d&4);for(var k=0;k<c.length;k++){var u=c[k],S=u.event;u=u.listeners;a:{var fa=void 0;if(d)for(var Ta=u.length-1;0<=Ta;Ta--){var Vb=u[Ta],mc=Vb.instance,Uc=Vb.currentTarget;Vb=Vb.listener;if(mc!==fa&&S.isPropagationStopped())break a;qd(S,Vb,Uc);fa=mc}else for(Ta=0;Ta<u.length;Ta++){Vb=u[Ta];mc=Vb.instance;Uc=Vb.currentTarget;Vb=Vb.listener;if(mc!==fa&&S.isPropagationStopped())break a;qd(S,Vb,Uc);fa=mc}}}if(Bj)throw c=Uj,Bj=!1,Uj=null,c;}function kd(c,d){var k=d[Mk];void 0===k&&(k=d[Mk]=new Set);
var u=c+"__bubble";k.has(u)||(Le(d,c,2,!1),k.add(u))}function Od(c,d,k){var u=0;d&&(u|=4);Le(k,c,u,d)}function he(c){if(!c[dk]){c[dk]=!0;hi.forEach(function(k){"selectionchange"!==k&&(Ql.has(k)||Od(k,!1,c),Od(k,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[dk]||(d[dk]=!0,Od("selectionchange",!1,d))}}function Le(c,d,k,u){switch(fb(d)){case 1:var S=nd;break;case 4:S=Vc;break;default:S=na}k=S.bind(null,d,k,c);S=void 0;!ek||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(S=!0);u?void 0!==
S?c.addEventListener(d,k,{capture:!0,passive:S}):c.addEventListener(d,k,!0):void 0!==S?c.addEventListener(d,k,{passive:S}):c.addEventListener(d,k,!1)}function Ie(c,d,k,u,S){var fa=u;if(0===(d&1)&&0===(d&2)&&null!==u)a:for(;;){if(null===u)return;var Ta=u.tag;if(3===Ta||4===Ta){var Vb=u.stateNode.containerInfo;if(Vb===S||8===Vb.nodeType&&Vb.parentNode===S)break;if(4===Ta)for(Ta=u.return;null!==Ta;){var mc=Ta.tag;if(3===mc||4===mc)if(mc=Ta.stateNode.containerInfo,mc===S||8===mc.nodeType&&mc.parentNode===
S)return;Ta=Ta.return}for(;null!==Vb;){Ta=cd(Vb);if(null===Ta)return;mc=Ta.tag;if(5===mc||6===mc){u=fa=Ta;continue a}Vb=Vb.parentNode}}u=u.return}G(function(){var Uc=fa,yd=D(k),Cd=[];a:{var wd=Yh.get(c);if(void 0!==wd){var Wd=Rf,ge=c;switch(c){case "keypress":if(0===r(k))break a;case "keydown":case "keyup":Wd=Rl;break;case "focusin":ge="focus";Wd=Nk;break;case "focusout":ge="blur";Wd=Nk;break;case "beforeblur":case "afterblur":Wd=Nk;break;case "click":if(2===k.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Wd=
Ok;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Wd=Pk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Wd=Sl;break;case Qh:case fk:case nl:Wd=ol;break;case Ti:Wd=Qk;break;case "scroll":Wd=Rk;break;case "wheel":Wd=Tl;break;case "copy":case "cut":case "paste":Wd=gk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Wd=
pl}var le=0!==(d&4),eg=!le&&"scroll"===c,Gc=le?null!==wd?wd+"Capture":null:wd;le=[];for(var vc=Uc,Qc;null!==vc;){Qc=vc;var Jd=Qc.stateNode;5===Qc.tag&&null!==Jd&&(Qc=Jd,null!==Gc&&(Jd=w(vc,Gc),null!=Jd&&le.push(Fe(vc,Jd,Qc))));if(eg)break;vc=vc.return}0<le.length&&(wd=new Wd(wd,ge,null,k,yd),Cd.push({event:wd,listeners:le}))}}if(0===(d&7)){wd="mouseover"===c||"pointerover"===c;Wd="mouseout"===c||"pointerout"===c;if(!wd||k===Yf||!(ge=k.relatedTarget||k.fromElement)||!cd(ge)&&!ge[Zh])if(Wd||wd){wd=
yd.window===yd?yd:(wd=yd.ownerDocument)?wd.defaultView||wd.parentWindow:window;if(Wd){if(ge=k.relatedTarget||k.toElement,Wd=Uc,ge=ge?cd(ge):null,null!==ge&&(eg=ta(ge),ge!==eg||5!==ge.tag&&6!==ge.tag))ge=null}else Wd=null,ge=Uc;if(Wd!==ge){le=Ok;Jd="onMouseLeave";Gc="onMouseEnter";vc="mouse";if("pointerout"===c||"pointerover"===c)le=pl,Jd="onPointerLeave",Gc="onPointerEnter",vc="pointer";eg=null==Wd?wd:Nd(Wd);Qc=null==ge?wd:Nd(ge);wd=new le(Jd,vc+"leave",Wd,k,yd);wd.target=eg;wd.relatedTarget=Qc;Jd=
null;cd(yd)===Uc&&(le=new le(Gc,vc+"enter",ge,k,yd),le.target=Qc,le.relatedTarget=eg,Jd=le);eg=Jd;if(Wd&&ge)b:{le=Wd;Gc=ge;vc=0;for(Qc=le;Qc;Qc=df(Qc))vc++;Qc=0;for(Jd=Gc;Jd;Jd=df(Jd))Qc++;for(;0<vc-Qc;)le=df(le),vc--;for(;0<Qc-vc;)Gc=df(Gc),Qc--;for(;vc--;){if(le===Gc||null!==Gc&&le===Gc.alternate)break b;le=df(le);Gc=df(Gc)}le=null}else le=null;null!==Wd&&E(Cd,wd,Wd,le,!1);null!==ge&&null!==eg&&E(Cd,eg,ge,le,!0)}}wd=Uc?Nd(Uc):window;Wd=wd.nodeName&&wd.nodeName.toLowerCase();if("select"===Wd||"input"===
Wd&&"file"===wd.type)var fe=ed;else if(Hc(wd))if(th)fe=x;else{fe=xe;var ne=vd}else(Wd=wd.nodeName)&&"input"===Wd.toLowerCase()&&("checkbox"===wd.type||"radio"===wd.type)&&(fe=Ed);fe&&(fe=fe(c,Uc))?Nc(Cd,fe,k,yd):(ne&&ne(c,wd,Uc),"focusout"===c&&(ne=wd._wrapperState)&&ne.controlled&&"number"===wd.type&&hb(wd,"number",wd.value));ne=Uc?Nd(Uc):window;switch(c){case "focusin":if(Hc(ne)||"true"===ne.contentEditable)ij=ne,Kk=Uc,Ej=null;break;case "focusout":Ej=Kk=ij=null;break;case "mousedown":Mg=!0;break;
case "contextmenu":case "mouseup":case "dragend":Mg=!1;Fc(Cd,k,yd);break;case "selectionchange":if(hk)break;case "keydown":case "keyup":Fc(Cd,k,yd)}var re;if(ud)a:{switch(c){case "compositionstart":var ie="onCompositionStart";break a;case "compositionend":ie="onCompositionEnd";break a;case "compositionupdate":ie="onCompositionUpdate";break a}ie=void 0}else ki?Ub(c,k)&&(ie="onCompositionEnd"):"keydown"===c&&229===k.keyCode&&(ie="onCompositionStart");ie&&(Jk&&"ko"!==k.locale&&(ki||"onCompositionStart"!==
ie?"onCompositionEnd"===ie&&ki&&(re=R()):(Di=yd,Hk="value"in Di?Di.value:Di.textContent,ki=!0)),ne=tf(Uc,ie),0<ne.length&&(ie=new ql(ie,c,null,k,yd),Cd.push({event:ie,listeners:ne}),re?ie.data=re:(re=Eb(k),null!==re&&(ie.data=re))));if(re=Fi?Ib(c,k):Cc(c,k))Uc=tf(Uc,"onBeforeInput"),0<Uc.length&&(yd=new ql("onBeforeInput","beforeinput",null,k,yd),Cd.push({event:yd,listeners:Uc}),yd.data=re)}Fd(Cd,d)})}function Fe(c,d,k){return{instance:c,listener:d,currentTarget:k}}function tf(c,d){for(var k=d+"Capture",
u=[];null!==c;){var S=c,fa=S.stateNode;5===S.tag&&null!==fa&&(S=fa,fa=w(c,k),null!=fa&&u.unshift(Fe(c,fa,S)),fa=w(c,d),null!=fa&&u.push(Fe(c,fa,S)));c=c.return}return u}function df(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function E(c,d,k,u,S){for(var fa=d._reactName,Ta=[];null!==k&&k!==u;){var Vb=k,mc=Vb.alternate,Uc=Vb.stateNode;if(null!==mc&&mc===u)break;5===Vb.tag&&null!==Uc&&(Vb=Uc,S?(mc=w(k,fa),null!=mc&&Ta.unshift(Fe(k,mc,Vb))):S||(mc=w(k,fa),null!=mc&&Ta.push(Fe(k,
mc,Vb))));k=k.return}0!==Ta.length&&c.push({event:d,listeners:Ta})}function ca(c){return("string"===typeof c?c:""+c).replace(Ul,"\n").replace(Vl,"")}function Ga(c,d,k){d=ca(d);if(ca(c)!==d&&k)throw Error(t(425));}function eb(){}function Gb(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function rc(c){setTimeout(function(){throw c;
})}function Rb(c,d){var k=d,u=0;do{var S=k.nextSibling;c.removeChild(k);if(S&&8===S.nodeType)if(k=S.data,"/$"===k){if(0===u){c.removeChild(S);Ac(d);return}u--}else"$"!==k&&"$?"!==k&&"$!"!==k||u++;k=S}while(k);Ac(d)}function Sc(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function fd(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var k=c.data;if("$"===k||"$!"===k||"$?"===
k){if(0===d)return c;d--}else"/$"===k&&d++}c=c.previousSibling}return null}function cd(c){var d=c[Rh];if(d)return d;for(var k=c.parentNode;k;){if(d=k[Zh]||k[Rh]){k=d.alternate;if(null!==d.child||null!==k&&null!==k.child)for(c=fd(c);null!==c;){if(k=c[Rh])return k;c=fd(c)}return d}c=k;k=c.parentNode}return null}function Oc(c){c=c[Rh]||c[Zh];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Nd(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(t(33));}function Md(c){return c[Fj]||
null}function Ld(c){return{current:c}}function Bd(c){0>jj||(c.current=Sk[jj],Sk[jj]=null,jj--)}function Xd(c,d){jj++;Sk[jj]=c.current;c.current=d}function Ca(c,d){var k=c.type.contextTypes;if(!k)return kg;var u=c.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===d)return u.__reactInternalMemoizedMaskedChildContext;var S={},fa;for(fa in k)S[fa]=d[fa];u&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=S);return S}function Qa(c){c=
c.childContextTypes;return null!==c&&void 0!==c}function ac(){Bd(ch);Bd(Fg)}function id(c,d,k){if(Fg.current!==kg)throw Error(t(168));Xd(Fg,d);Xd(ch,k)}function sc(c,d,k){var u=c.stateNode;d=d.childContextTypes;if("function"!==typeof u.getChildContext)return k;u=u.getChildContext();for(var S in u)if(!(S in d))throw Error(t(108,tb(c)||"Unknown",S));return He({},k,u)}function Mc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||kg;li=Fg.current;Xd(Fg,c);Xd(ch,ch.current);return!0}function Ec(c,
d,k){var u=c.stateNode;if(!u)throw Error(t(169));k?(c=sc(c,d,li),u.__reactInternalMemoizedMergedChildContext=c,Bd(ch),Bd(Fg),Xd(Fg,c)):Bd(ch);Xd(ch,k)}function Tc(c){null===pg?pg=[c]:pg.push(c)}function Xc(c){$h=!0;Tc(c)}function ld(){if(!Tk&&null!==pg){Tk=!0;var c=0,d=yf;try{var k=pg;for(yf=1;c<k.length;c++){var u=k[c];do u=u(!0);while(null!==u)}pg=null;$h=!1}catch(S){throw null!==pg&&(pg=pg.slice(c+1)),ik(Fk,ld),S;}finally{yf=d,Tk=!1}}return null}function pd(c,d){kj[Eh++]=jk;kj[Eh++]=kk;kk=c;jk=
d}function oe(c,d,k){Jf[uh++]=Fh;Jf[uh++]=mi;Jf[uh++]=ai;ai=c;var u=Fh;c=mi;var S=32-Oh(u)-1;u&=~(1<<S);k+=1;var fa=32-Oh(d)+S;if(30<fa){var Ta=S-S%5;fa=(u&(1<<Ta)-1).toString(32);u>>=Ta;S-=Ta;Fh=1<<32-Oh(d)+S|k<<S|u;mi=fa+c}else Fh=1<<fa|k<<S|u,mi=c}function cf(c){null!==c.return&&(pd(c,1),oe(c,1,0))}function Me(c){for(;c===kk;)kk=kj[--Eh],kj[Eh]=null,jk=kj[--Eh],kj[Eh]=null;for(;c===ai;)ai=Jf[--uh],Jf[uh]=null,mi=Jf[--uh],Jf[uh]=null,Fh=Jf[--uh],Jf[uh]=null}function Je(c,d){var k=Ue(5,null,null,
0);k.elementType="DELETED";k.stateNode=d;k.return=c;d=c.deletions;null===d?(c.deletions=[k],c.flags|=16):d.push(k)}function ef(c,d){switch(c.tag){case 5:var k=c.type;d=1!==d.nodeType||k.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Vg=c,Wg=Sc(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Vg=c,Wg=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(k=null!==ai?{id:Fh,overflow:mi}:null,c.memoizedState=
{dehydrated:d,treeContext:k,retryLane:1073741824},k=Ue(18,null,null,0),k.stateNode=d,k.return=c,c.child=k,Vg=c,Wg=null,!0):!1;default:return!1}}function of(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Ke(c){if(Zf){var d=Wg;if(d){var k=d;if(!ef(c,d)){if(of(c))throw Error(t(418));d=Sc(k.nextSibling);var u=Vg;d&&ef(c,d)?Je(u,k):(c.flags=c.flags&-4097|2,Zf=!1,Vg=c)}}else{if(of(c))throw Error(t(418));c.flags=c.flags&-4097|2;Zf=!1;Vg=c}}}function $e(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&
13!==c.tag;)c=c.return;Vg=c}function Ye(c){if(c!==Vg)return!1;if(!Zf)return $e(c),Zf=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!Gb(c.type,c.memoizedProps));if(d&&(d=Wg)){if(of(c))throw pe(),Error(t(418));for(;d;)Je(c,d),d=Sc(d.nextSibling)}$e(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:null;if(!c)throw Error(t(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var k=c.data;if("/$"===k){if(0===d){Wg=Sc(c.nextSibling);break a}d--}else"$"!==k&&
"$!"!==k&&"$?"!==k||d++}c=c.nextSibling}Wg=null}}else Wg=Vg?Sc(c.stateNode.nextSibling):null;return!0}function pe(){for(var c=Wg;c;)c=Sc(c.nextSibling)}function de(){Wg=Vg=null;Zf=!1}function me(c){null===mh?mh=[c]:mh.push(c)}function te(c,d,k){c=k.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(k._owner){if(k=k._owner){if(1!==k.tag)throw Error(t(309));var u=k.stateNode}if(!u)throw Error(t(147,c));var S=u,fa=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===
fa)return d.ref;d=function(Ta){var Vb=S.refs;null===Ta?delete Vb[fa]:Vb[fa]=Ta};d._stringRef=fa;return d}if("string"!==typeof c)throw Error(t(284));if(!k._owner)throw Error(t(290,c));}return c}function y(c,d){c=Object.prototype.toString.call(d);throw Error(t(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function M(c){var d=c._init;return d(c._payload)}function p(c){function d(Gc,vc){if(c){var Qc=Gc.deletions;null===Qc?(Gc.deletions=[vc],Gc.flags|=16):Qc.push(vc)}}
function k(Gc,vc){if(!c)return null;for(;null!==vc;)d(Gc,vc),vc=vc.sibling;return null}function u(Gc,vc){for(Gc=new Map;null!==vc;)null!==vc.key?Gc.set(vc.key,vc):Gc.set(vc.index,vc),vc=vc.sibling;return Gc}function S(Gc,vc){Gc=$f(Gc,vc);Gc.index=0;Gc.sibling=null;return Gc}function fa(Gc,vc,Qc){Gc.index=Qc;if(!c)return Gc.flags|=1048576,vc;Qc=Gc.alternate;if(null!==Qc)return Qc=Qc.index,Qc<vc?(Gc.flags|=2,vc):Qc;Gc.flags|=2;return vc}function Ta(Gc){c&&null===Gc.alternate&&(Gc.flags|=2);return Gc}
function Vb(Gc,vc,Qc,Jd){if(null===vc||6!==vc.tag)return vc=lj(Qc,Gc.mode,Jd),vc.return=Gc,vc;vc=S(vc,Qc);vc.return=Gc;return vc}function mc(Gc,vc,Qc,Jd){var fe=Qc.type;if(fe===ad)return yd(Gc,vc,Qc.props.children,Jd,Qc.key);if(null!==vc&&(vc.elementType===fe||"object"===typeof fe&&null!==fe&&fe.$$typeof===Bf&&M(fe)===vc.type))return Jd=S(vc,Qc.props),Jd.ref=te(Gc,vc,Qc),Jd.return=Gc,Jd;Jd=qg(Qc.type,Qc.key,Qc.props,null,Gc.mode,Jd);Jd.ref=te(Gc,vc,Qc);Jd.return=Gc;return Jd}function Uc(Gc,vc,Qc,
Jd){if(null===vc||4!==vc.tag||vc.stateNode.containerInfo!==Qc.containerInfo||vc.stateNode.implementation!==Qc.implementation)return vc=mj(Qc,Gc.mode,Jd),vc.return=Gc,vc;vc=S(vc,Qc.children||[]);vc.return=Gc;return vc}function yd(Gc,vc,Qc,Jd,fe){if(null===vc||7!==vc.tag)return vc=fg(Qc,Gc.mode,Jd,fe),vc.return=Gc,vc;vc=S(vc,Qc);vc.return=Gc;return vc}function Cd(Gc,vc,Qc){if("string"===typeof vc&&""!==vc||"number"===typeof vc)return vc=lj(""+vc,Gc.mode,Qc),vc.return=Gc,vc;if("object"===typeof vc&&
null!==vc){switch(vc.$$typeof){case Jb:return Qc=qg(vc.type,vc.key,vc.props,null,Gc.mode,Qc),Qc.ref=te(Gc,null,vc),Qc.return=Gc,Qc;case uc:return vc=mj(vc,Gc.mode,Qc),vc.return=Gc,vc;case Bf:var Jd=vc._init;return Cd(Gc,Jd(vc._payload),Qc)}if(Dh(vc)||Ab(vc))return vc=fg(vc,Gc.mode,Qc,null),vc.return=Gc,vc;y(Gc,vc)}return null}function wd(Gc,vc,Qc,Jd){var fe=null!==vc?vc.key:null;if("string"===typeof Qc&&""!==Qc||"number"===typeof Qc)return null!==fe?null:Vb(Gc,vc,""+Qc,Jd);if("object"===typeof Qc&&
null!==Qc){switch(Qc.$$typeof){case Jb:return Qc.key===fe?mc(Gc,vc,Qc,Jd):null;case uc:return Qc.key===fe?Uc(Gc,vc,Qc,Jd):null;case Bf:return fe=Qc._init,wd(Gc,vc,fe(Qc._payload),Jd)}if(Dh(Qc)||Ab(Qc))return null!==fe?null:yd(Gc,vc,Qc,Jd,null);y(Gc,Qc)}return null}function Wd(Gc,vc,Qc,Jd,fe){if("string"===typeof Jd&&""!==Jd||"number"===typeof Jd)return Gc=Gc.get(Qc)||null,Vb(vc,Gc,""+Jd,fe);if("object"===typeof Jd&&null!==Jd){switch(Jd.$$typeof){case Jb:return Gc=Gc.get(null===Jd.key?Qc:Jd.key)||
null,mc(vc,Gc,Jd,fe);case uc:return Gc=Gc.get(null===Jd.key?Qc:Jd.key)||null,Uc(vc,Gc,Jd,fe);case Bf:var ne=Jd._init;return Wd(Gc,vc,Qc,ne(Jd._payload),fe)}if(Dh(Jd)||Ab(Jd))return Gc=Gc.get(Qc)||null,yd(vc,Gc,Jd,fe,null);y(vc,Jd)}return null}function ge(Gc,vc,Qc,Jd){for(var fe=null,ne=null,re=vc,ie=vc=0,Ag=null;null!==re&&ie<Qc.length;ie++){re.index>ie?(Ag=re,re=null):Ag=re.sibling;var kf=wd(Gc,re,Qc[ie],Jd);if(null===kf){null===re&&(re=Ag);break}c&&re&&null===kf.alternate&&d(Gc,re);vc=fa(kf,vc,
ie);null===ne?fe=kf:ne.sibling=kf;ne=kf;re=Ag}if(ie===Qc.length)return k(Gc,re),Zf&&pd(Gc,ie),fe;if(null===re){for(;ie<Qc.length;ie++)re=Cd(Gc,Qc[ie],Jd),null!==re&&(vc=fa(re,vc,ie),null===ne?fe=re:ne.sibling=re,ne=re);Zf&&pd(Gc,ie);return fe}for(re=u(Gc,re);ie<Qc.length;ie++)Ag=Wd(re,Gc,ie,Qc[ie],Jd),null!==Ag&&(c&&null!==Ag.alternate&&re.delete(null===Ag.key?ie:Ag.key),vc=fa(Ag,vc,ie),null===ne?fe=Ag:ne.sibling=Ag,ne=Ag);c&&re.forEach(function(ni){return d(Gc,ni)});Zf&&pd(Gc,ie);return fe}function le(Gc,
vc,Qc,Jd){var fe=Ab(Qc);if("function"!==typeof fe)throw Error(t(150));Qc=fe.call(Qc);if(null==Qc)throw Error(t(151));for(var ne=fe=null,re=vc,ie=vc=0,Ag=null,kf=Qc.next();null!==re&&!kf.done;ie++,kf=Qc.next()){re.index>ie?(Ag=re,re=null):Ag=re.sibling;var ni=wd(Gc,re,kf.value,Jd);if(null===ni){null===re&&(re=Ag);break}c&&re&&null===ni.alternate&&d(Gc,re);vc=fa(ni,vc,ie);null===ne?fe=ni:ne.sibling=ni;ne=ni;re=Ag}if(kf.done)return k(Gc,re),Zf&&pd(Gc,ie),fe;if(null===re){for(;!kf.done;ie++,kf=Qc.next())kf=
Cd(Gc,kf.value,Jd),null!==kf&&(vc=fa(kf,vc,ie),null===ne?fe=kf:ne.sibling=kf,ne=kf);Zf&&pd(Gc,ie);return fe}for(re=u(Gc,re);!kf.done;ie++,kf=Qc.next())kf=Wd(re,Gc,ie,kf.value,Jd),null!==kf&&(c&&null!==kf.alternate&&re.delete(null===kf.key?ie:kf.key),vc=fa(kf,vc,ie),null===ne?fe=kf:ne.sibling=kf,ne=kf);c&&re.forEach(function(Wl){return d(Gc,Wl)});Zf&&pd(Gc,ie);return fe}function eg(Gc,vc,Qc,Jd){"object"===typeof Qc&&null!==Qc&&Qc.type===ad&&null===Qc.key&&(Qc=Qc.props.children);if("object"===typeof Qc&&
null!==Qc){switch(Qc.$$typeof){case Jb:a:{for(var fe=Qc.key,ne=vc;null!==ne;){if(ne.key===fe){fe=Qc.type;if(fe===ad){if(7===ne.tag){k(Gc,ne.sibling);vc=S(ne,Qc.props.children);vc.return=Gc;Gc=vc;break a}}else if(ne.elementType===fe||"object"===typeof fe&&null!==fe&&fe.$$typeof===Bf&&M(fe)===ne.type){k(Gc,ne.sibling);vc=S(ne,Qc.props);vc.ref=te(Gc,ne,Qc);vc.return=Gc;Gc=vc;break a}k(Gc,ne);break}else d(Gc,ne);ne=ne.sibling}Qc.type===ad?(vc=fg(Qc.props.children,Gc.mode,Jd,Qc.key),vc.return=Gc,Gc=vc):
(Jd=qg(Qc.type,Qc.key,Qc.props,null,Gc.mode,Jd),Jd.ref=te(Gc,vc,Qc),Jd.return=Gc,Gc=Jd)}return Ta(Gc);case uc:a:{for(ne=Qc.key;null!==vc;){if(vc.key===ne)if(4===vc.tag&&vc.stateNode.containerInfo===Qc.containerInfo&&vc.stateNode.implementation===Qc.implementation){k(Gc,vc.sibling);vc=S(vc,Qc.children||[]);vc.return=Gc;Gc=vc;break a}else{k(Gc,vc);break}else d(Gc,vc);vc=vc.sibling}vc=mj(Qc,Gc.mode,Jd);vc.return=Gc;Gc=vc}return Ta(Gc);case Bf:return ne=Qc._init,eg(Gc,vc,ne(Qc._payload),Jd)}if(Dh(Qc))return ge(Gc,
vc,Qc,Jd);if(Ab(Qc))return le(Gc,vc,Qc,Jd);y(Gc,Qc)}return"string"===typeof Qc&&""!==Qc||"number"===typeof Qc?(Qc=""+Qc,null!==vc&&6===vc.tag?(k(Gc,vc.sibling),vc=S(vc,Qc),vc.return=Gc,Gc=vc):(k(Gc,vc),vc=lj(Qc,Gc.mode,Jd),vc.return=Gc,Gc=vc),Ta(Gc)):k(Gc,vc)}return eg}function P(c){var d=nj.current;Bd(nj);c._currentValue=d}function Y(c,d,k){for(;null!==c;){var u=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==u&&(u.childLanes|=d)):null!==u&&(u.childLanes&d)!==d&&(u.childLanes|=d);if(c===
k)break;c=c.return}}function pa(c,d){Gi=c;Gj=oi=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(dh=!0),c.firstContext=null)}function va(c){var d=c._currentValue;if(Gj!==c)if(c={context:c,memoizedValue:d,next:null},null===oi){if(null===Gi)throw Error(t(308));oi=c;Gi.dependencies={lanes:0,firstContext:c}}else oi=oi.next=c;return d}function Cb(c){null===Ui?Ui=[c]:Ui.push(c)}function Hb(c,d,k,u){var S=d.interleaved;null===S?(k.next=k,Cb(d)):(k.next=S.next,S.next=k);d.interleaved=
k;return Xb(c,u)}function Xb(c,d){c.lanes|=d;var k=c.alternate;null!==k&&(k.lanes|=d);k=c;for(c=c.return;null!==c;)c.childLanes|=d,k=c.alternate,null!==k&&(k.childLanes|=d),k=c,c=c.return;return 3===k.tag?k.stateNode:null}function cc(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nc(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,
lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function tc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function wc(c,d,k){var u=c.updateQueue;if(null===u)return null;u=u.shared;if(0!==(hf&2)){var S=u.pending;null===S?d.next=d:(d.next=S.next,S.next=d);u.pending=d;return Xb(c,k)}S=u.interleaved;null===S?(d.next=d,Cb(u)):(d.next=S.next,S.next=d);u.interleaved=d;return Xb(c,k)}function Ic(c,d,k){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(k&4194240))){var u=
d.lanes;u&=c.pendingLanes;k|=u;d.lanes=k;yc(c,k)}}function Zc(c,d){var k=c.updateQueue,u=c.alternate;if(null!==u&&(u=u.updateQueue,k===u)){var S=null,fa=null;k=k.firstBaseUpdate;if(null!==k){do{var Ta={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};null===fa?S=fa=Ta:fa=fa.next=Ta;k=k.next}while(null!==k);null===fa?S=fa=d:fa=fa.next=d}else S=fa=d;k={baseState:u.baseState,firstBaseUpdate:S,lastBaseUpdate:fa,shared:u.shared,effects:u.effects};c.updateQueue=
k}else c=k.lastBaseUpdate,null===c?k.firstBaseUpdate=d:c.next=d,k.lastBaseUpdate=d}function Yc(c,d,k,u){var S=c.updateQueue;pi=!1;var fa=S.firstBaseUpdate,Ta=S.lastBaseUpdate,Vb=S.shared.pending;if(null!==Vb){S.shared.pending=null;var mc=Vb,Uc=mc.next;mc.next=null;null===Ta?fa=Uc:Ta.next=Uc;var yd=c.alternate;null!==yd&&(yd=yd.updateQueue,Vb=yd.lastBaseUpdate,Vb!==mc&&(null===Vb?yd.firstBaseUpdate=Uc:Vb.next=Uc,yd.lastBaseUpdate=mc))}if(null!==fa){var Cd=S.baseState;Ta=0;yd=Uc=mc=null;Vb=fa;do{var wd=
Vb.lane,Wd=Vb.eventTime;if((u&wd)===wd){null!==yd&&(yd=yd.next={eventTime:Wd,lane:0,tag:Vb.tag,payload:Vb.payload,callback:Vb.callback,next:null});a:{var ge=c,le=Vb;wd=d;Wd=k;switch(le.tag){case 1:ge=le.payload;if("function"===typeof ge){Cd=ge.call(Wd,Cd,wd);break a}Cd=ge;break a;case 3:ge.flags=ge.flags&-65537|128;case 0:ge=le.payload;wd="function"===typeof ge?ge.call(Wd,Cd,wd):ge;if(null===wd||void 0===wd)break a;Cd=He({},Cd,wd);break a;case 2:pi=!0}}null!==Vb.callback&&0!==Vb.lane&&(c.flags|=64,
wd=S.effects,null===wd?S.effects=[Vb]:wd.push(Vb))}else Wd={eventTime:Wd,lane:wd,tag:Vb.tag,payload:Vb.payload,callback:Vb.callback,next:null},null===yd?(Uc=yd=Wd,mc=Cd):yd=yd.next=Wd,Ta|=wd;Vb=Vb.next;if(null===Vb)if(Vb=S.shared.pending,null===Vb)break;else wd=Vb,Vb=wd.next,wd.next=null,S.lastBaseUpdate=wd,S.shared.pending=null}while(1);null===yd&&(mc=Cd);S.baseState=mc;S.firstBaseUpdate=Uc;S.lastBaseUpdate=yd;d=S.shared.interleaved;if(null!==d){S=d;do Ta|=S.lane,S=S.next;while(S!==d)}else null===
fa&&(S.shared.lanes=0);uf|=Ta;c.lanes=Ta;c.memoizedState=Cd}}function jd(c,d,k){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var u=c[d],S=u.callback;if(null!==S){u.callback=null;u=k;if("function"!==typeof S)throw Error(t(191,S));S.call(u)}}}function Sd(c){if(c===oj)throw Error(t(174));return c}function Rc(c,d){Xd(pj,d);Xd(qj,c);Xd(bi,oj);c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ea(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||
null,c=c.tagName,d=ea(d,c)}Bd(bi);Xd(bi,d)}function Ud(){Bd(bi);Bd(qj);Bd(pj)}function ue(c){Sd(pj.current);var d=Sd(bi.current),k=ea(d,c.type);d!==k&&(Xd(qj,c),Xd(bi,k))}function $c(c){qj.current===c&&(Bd(bi),Bd(qj))}function Ad(c){for(var d=c;null!==d;){if(13===d.tag){var k=d.memoizedState;if(null!==k&&(k=k.dehydrated,null===k||"$?"===k.data||"$!"===k.data))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=
d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Yd(){for(var c=0;c<Hi.length;c++)Hi[c]._workInProgressVersionPrimary=null;Hi.length=0}function $d(){throw Error(t(321));}function ye(c,d){if(null===d)return!1;for(var k=0;k<d.length&&k<c.length;k++)if(!Ph(c[k],d[k]))return!1;return!0}function Rd(c,d,k,u,S,fa){Vi=fa;zf=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;Hj.current=
null===c||null===c.memoizedState?Xl:rl;c=k(u,S);if(Ij){fa=0;do{Ij=!1;Jj=0;if(25<=fa)throw Error(t(301));fa+=1;Bg=rg=null;d.updateQueue=null;Hj.current=sl;c=k(u,S)}while(Ij)}Hj.current=Kj;d=null!==rg&&null!==rg.next;Vi=0;Bg=rg=zf=null;Wi=!1;if(d)throw Error(t(300));return c}function Vd(){var c=0!==Jj;Jj=0;return c}function ve(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Bg?zf.memoizedState=Bg=c:Bg=Bg.next=c;return Bg}function Ne(){if(null===rg){var c=zf.alternate;
c=null!==c?c.memoizedState:null}else c=rg.next;var d=null===Bg?zf.memoizedState:Bg.next;if(null!==d)Bg=d,rg=c;else{if(null===c)throw Error(t(310));rg=c;c={memoizedState:rg.memoizedState,baseState:rg.baseState,baseQueue:rg.baseQueue,queue:rg.queue,next:null};null===Bg?zf.memoizedState=Bg=c:Bg=Bg.next=c}return Bg}function Se(c,d){return"function"===typeof d?d(c):d}function Sf(c){var d=Ne(),k=d.queue;if(null===k)throw Error(t(311));k.lastRenderedReducer=c;var u=rg,S=u.baseQueue,fa=k.pending;if(null!==
fa){if(null!==S){var Ta=S.next;S.next=fa.next;fa.next=Ta}u.baseQueue=S=fa;k.pending=null}if(null!==S){fa=S.next;u=u.baseState;var Vb=Ta=null,mc=null,Uc=fa;do{var yd=Uc.lane;if((Vi&yd)===yd)null!==mc&&(mc=mc.next={lane:0,action:Uc.action,hasEagerState:Uc.hasEagerState,eagerState:Uc.eagerState,next:null}),u=Uc.hasEagerState?Uc.eagerState:c(u,Uc.action);else{var Cd={lane:yd,action:Uc.action,hasEagerState:Uc.hasEagerState,eagerState:Uc.eagerState,next:null};null===mc?(Vb=mc=Cd,Ta=u):mc=mc.next=Cd;zf.lanes|=
yd;uf|=yd}Uc=Uc.next}while(null!==Uc&&Uc!==fa);null===mc?Ta=u:mc.next=Vb;Ph(u,d.memoizedState)||(dh=!0);d.memoizedState=u;d.baseState=Ta;d.baseQueue=mc;k.lastRenderedState=u}c=k.interleaved;if(null!==c){S=c;do fa=S.lane,zf.lanes|=fa,uf|=fa,S=S.next;while(S!==c)}else null===S&&(k.lanes=0);return[d.memoizedState,k.dispatch]}function td(c){var d=Ne(),k=d.queue;if(null===k)throw Error(t(311));k.lastRenderedReducer=c;var u=k.dispatch,S=k.pending,fa=d.memoizedState;if(null!==S){k.pending=null;var Ta=S=
S.next;do fa=c(fa,Ta.action),Ta=Ta.next;while(Ta!==S);Ph(fa,d.memoizedState)||(dh=!0);d.memoizedState=fa;null===d.baseQueue&&(d.baseState=fa);k.lastRenderedState=fa}return[fa,u]}function Oe(){}function Df(c,d){var k=zf,u=Ne(),S=d(),fa=!Ph(u.memoizedState,S);fa&&(u.memoizedState=S,dh=!0);u=u.queue;vh(Kf.bind(null,k,u,c),[c]);if(u.getSnapshot!==d||fa||null!==Bg&&Bg.memoizedState.tag&1){k.flags|=2048;vf(9,lg.bind(null,k,u,S,d),void 0,null);if(null===sg)throw Error(t(349));0!==(Vi&30)||pf(k,d,S)}return S}
function pf(c,d,k){c.flags|=16384;c={getSnapshot:d,value:k};d=zf.updateQueue;null===d?(d={lastEffect:null,stores:null},zf.updateQueue=d,d.stores=[c]):(k=d.stores,null===k?d.stores=[c]:k.push(c))}function lg(c,d,k,u){d.value=k;d.getSnapshot=u;Ze(d)&&Tf(c)}function Kf(c,d,k){return k(function(){Ze(d)&&Tf(c)})}function Ze(c){var d=c.getSnapshot;c=c.value;try{var k=d();return!Ph(c,k)}catch(u){return!0}}function Tf(c){var d=Xb(c,1);null!==d&&yb(d,c,1,-1)}function qf(c){var d=ve();"function"===typeof c&&
(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Se,lastRenderedState:c};d.queue=c;c=c.dispatch=Be.bind(null,zf,c);return[d.memoizedState,c]}function vf(c,d,k,u){c={tag:c,create:d,destroy:k,deps:u,next:null};d=zf.updateQueue;null===d?(d={lastEffect:null,stores:null},zf.updateQueue=d,d.lastEffect=c.next=c):(k=d.lastEffect,null===k?d.lastEffect=c.next=c:(u=k.next,k.next=c,c.next=u,d.lastEffect=c));return c}function Ff(){return Ne().memoizedState}
function jf(c,d,k,u){var S=ve();zf.flags|=c;S.memoizedState=vf(1|d,k,void 0,void 0===u?null:u)}function gg(c,d,k,u){var S=Ne();u=void 0===u?null:u;var fa=void 0;if(null!==rg){var Ta=rg.memoizedState;fa=Ta.destroy;if(null!==u&&ye(u,Ta.deps)){S.memoizedState=vf(d,k,fa,u);return}}zf.flags|=c;S.memoizedState=vf(1|d,k,fa,u)}function Af(c,d){return jf(8390656,8,c,d)}function vh(c,d){return gg(2048,8,c,d)}function Gg(c,d){return gg(4,2,c,d)}function Cg(c,d){return gg(4,4,c,d)}function Dg(c,d){if("function"===
typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function U(c,d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return gg(4,4,Dg.bind(null,d,c),k)}function Ka(){}function lb(c,d){var k=Ne();d=void 0===d?null:d;var u=k.memoizedState;if(null!==u&&null!==d&&ye(d,u[1]))return u[0];k.memoizedState=[c,d];return c}function Jc(c,d){var k=Ne();d=void 0===d?null:d;var u=k.memoizedState;if(null!==u&&null!==d&&ye(d,u[1]))return u[0];c=c();
k.memoizedState=[c,d];return c}function Kc(c,d,k){if(0===(Vi&21))return c.baseState&&(c.baseState=!1,dh=!0),c.memoizedState=k;Ph(k,d)||(k=pc(),zf.lanes|=k,uf|=k,c.baseState=!0);return d}function Pd(c,d){var k=yf;yf=0!==k&&4>k?k:4;c(!0);var u=lk.transition;lk.transition={};try{c(!1),d()}finally{yf=k,lk.transition=u}}function se(){return Ne().memoizedState}function Ve(c,d,k){var u=zb(c);k={lane:u,action:k,hasEagerState:!1,eagerState:null,next:null};if(Uf(c))lf(d,k);else if(k=Hb(c,d,k,u),null!==k){var S=
La();yb(k,c,u,S);eh(k,d,u)}}function Be(c,d,k){var u=zb(c),S={lane:u,action:k,hasEagerState:!1,eagerState:null,next:null};if(Uf(c))lf(d,S);else{var fa=c.alternate;if(0===c.lanes&&(null===fa||0===fa.lanes)&&(fa=d.lastRenderedReducer,null!==fa))try{var Ta=d.lastRenderedState,Vb=fa(Ta,k);S.hasEagerState=!0;S.eagerState=Vb;if(Ph(Vb,Ta)){var mc=d.interleaved;null===mc?(S.next=S,Cb(d)):(S.next=mc.next,mc.next=S);d.interleaved=S;return}}catch(Uc){}finally{}k=Hb(c,d,S,u);null!==k&&(S=La(),yb(k,c,u,S),eh(k,
d,u))}}function Uf(c){var d=c.alternate;return c===zf||null!==d&&d===zf}function lf(c,d){Ij=Wi=!0;var k=c.pending;null===k?d.next=d:(d.next=k.next,k.next=d);c.pending=d}function eh(c,d,k){if(0!==(k&4194240)){var u=d.lanes;u&=c.pendingLanes;k|=u;d.lanes=k;yc(c,k)}}function Vf(c,d){if(c&&c.defaultProps){d=He({},d);c=c.defaultProps;for(var k in c)void 0===d[k]&&(d[k]=c[k])}return d}function hg(c,d,k,u){d=c.memoizedState;k=k(u,d);k=null===k||void 0===k?d:He({},d,k);c.memoizedState=k;0===c.lanes&&(c.updateQueue.baseState=
k)}function bg(c,d,k,u,S,fa,Ta){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(u,fa,Ta):d.prototype&&d.prototype.isPureReactComponent?!xa(k,u)||!xa(S,fa):!0}function tg(c,d,k){var u=!1,S=kg,fa=d.contextType;"object"===typeof fa&&null!==fa?fa=va(fa):(S=Qa(d)?li:Fg.current,u=d.contextTypes,fa=(u=null!==u&&void 0!==u)?Ca(c,S):kg);d=new d(k,fa);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=mk;c.stateNode=d;d._reactInternals=c;u&&(c=c.stateNode,
c.__reactInternalMemoizedUnmaskedChildContext=S,c.__reactInternalMemoizedMaskedChildContext=fa);return d}function ug(c,d,k,u){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(k,u);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(k,u);d.state!==c&&mk.enqueueReplaceState(d,d.state,null)}function Qd(c,d,k,u){var S=c.stateNode;S.props=k;S.state=c.memoizedState;S.refs={};cc(c);var fa=d.contextType;"object"===typeof fa&&null!==
fa?S.context=va(fa):(fa=Qa(d)?li:Fg.current,S.context=Ca(c,fa));S.state=c.memoizedState;fa=d.getDerivedStateFromProps;"function"===typeof fa&&(hg(c,d,fa,k),S.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof S.getSnapshotBeforeUpdate||"function"!==typeof S.UNSAFE_componentWillMount&&"function"!==typeof S.componentWillMount||(d=S.state,"function"===typeof S.componentWillMount&&S.componentWillMount(),"function"===typeof S.UNSAFE_componentWillMount&&S.UNSAFE_componentWillMount(),
d!==S.state&&mk.enqueueReplaceState(S,S.state,null),Yc(c,k,S,u),S.state=c.memoizedState);"function"===typeof S.componentDidMount&&(c.flags|=4194308)}function qe(c,d){try{var k="",u=d;do k+=Ea(u),u=u.return;while(u)}catch(S){k="\nError generating stack: "+S.message+"\n"+S.stack}return{value:c,source:d,stack:k,digest:null}}function rf(c,d,k){return{value:c,source:null,stack:null!=k?k:null,digest:null!=d?d:null}}function De(c,d){try{console.error(d.value)}catch(k){setTimeout(function(){throw k;})}}function ff(c,
d,k){k=tc(-1,k);k.tag=3;k.payload={element:null};var u=d.value;k.callback=function(){nk||(nk=!0,ok=u);De(c,d)};return k}function We(c,d,k){k=tc(-1,k);k.tag=3;var u=c.type.getDerivedStateFromError;if("function"===typeof u){var S=d.value;k.payload=function(){return u(S)};k.callback=function(){De(c,d)}}var fa=c.stateNode;null!==fa&&"function"===typeof fa.componentDidCatch&&(k.callback=function(){De(c,d);"function"!==typeof u&&(null===qi?qi=new Set([this]):qi.add(this));var Ta=d.stack;this.componentDidCatch(d.value,
{componentStack:null!==Ta?Ta:""})});return k}function Wf(c,d,k){var u=c.pingCache;if(null===u){u=c.pingCache=new Yl;var S=new Set;u.set(d,S)}else S=u.get(d),void 0===S&&(S=new Set,u.set(d,S));S.has(k)||(S.add(k),c=Hg.bind(null,c,d,k),d.then(c,c))}function wf(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function Gf(c,d,k,u,S){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,k.flags|=131072,k.flags&=
-52805,1===k.tag&&(null===k.alternate?k.tag=17:(d=tc(-1,1),d.tag=2,wc(k,d,1))),k.lanes|=1),c;c.flags|=65536;c.lanes=S;return c}function gf(c,d,k,u){d.child=null===c?tl(d,null,k,u):Ii(d,c.child,k,u)}function Ng(c,d,k,u,S){k=k.render;var fa=d.ref;pa(d,S);u=Rd(c,d,k,u,fa,S);k=Vd();if(null!==c&&!dh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,fh(c,d,S);Zf&&k&&cf(d);d.flags|=1;gf(c,d,u,S);return d.child}function Og(c,d,k,u,S){if(null===c){var fa=k.type;if("function"===typeof fa&&!Xg(fa)&&
void 0===fa.defaultProps&&null===k.compare&&void 0===k.defaultProps)return d.tag=15,d.type=fa,nh(c,d,fa,u,S);c=qg(k.type,null,u,d,d.mode,S);c.ref=d.ref;c.return=d;return d.child=c}fa=c.child;if(0===(c.lanes&S)){var Ta=fa.memoizedProps;k=k.compare;k=null!==k?k:xa;if(k(Ta,u)&&c.ref===d.ref)return fh(c,d,S)}d.flags|=1;c=$f(fa,u);c.ref=d.ref;c.return=d;return d.child=c}function nh(c,d,k,u,S){if(null!==c){var fa=c.memoizedProps;if(xa(fa,u)&&c.ref===d.ref)if(dh=!1,d.pendingProps=u=fa,0!==(c.lanes&S))0!==
(c.flags&131072)&&(dh=!0);else return d.lanes=c.lanes,fh(c,d,S)}return wh(c,d,k,u,S)}function Xf(c,d,k){var u=d.pendingProps,S=u.children,fa=null!==c?c.memoizedState:null;if("hidden"===u.mode)if(0===(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xd(rj,xh),xh|=k;else{if(0===(k&1073741824))return c=null!==fa?fa.baseLanes|k:k,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Xd(rj,xh),xh|=c,null;d.memoizedState=
{baseLanes:0,cachePool:null,transitions:null};u=null!==fa?fa.baseLanes:k;Xd(rj,xh);xh|=u}else null!==fa?(u=fa.baseLanes|k,d.memoizedState=null):u=k,Xd(rj,xh),xh|=u;gf(c,d,S,k);return d.child}function ci(c,d){var k=d.ref;if(null===c&&null!==k||null!==c&&c.ref!==k)d.flags|=512,d.flags|=2097152}function wh(c,d,k,u,S){var fa=Qa(k)?li:Fg.current;fa=Ca(d,fa);pa(d,S);k=Rd(c,d,k,u,fa,S);u=Vd();if(null!==c&&!dh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,fh(c,d,S);Zf&&u&&cf(d);d.flags|=1;
gf(c,d,k,S);return d.child}function Pg(c,d,k,u,S){if(Qa(k)){var fa=!0;Mc(d)}else fa=!1;pa(d,S);if(null===d.stateNode)oh(c,d),tg(d,k,u),Qd(d,k,u,S),u=!0;else if(null===c){var Ta=d.stateNode,Vb=d.memoizedProps;Ta.props=Vb;var mc=Ta.context,Uc=k.contextType;"object"===typeof Uc&&null!==Uc?Uc=va(Uc):(Uc=Qa(k)?li:Fg.current,Uc=Ca(d,Uc));var yd=k.getDerivedStateFromProps,Cd="function"===typeof yd||"function"===typeof Ta.getSnapshotBeforeUpdate;Cd||"function"!==typeof Ta.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Ta.componentWillReceiveProps||(Vb!==u||mc!==Uc)&&ug(d,Ta,u,Uc);pi=!1;var wd=d.memoizedState;Ta.state=wd;Yc(d,u,Ta,S);mc=d.memoizedState;Vb!==u||wd!==mc||ch.current||pi?("function"===typeof yd&&(hg(d,k,yd,u),mc=d.memoizedState),(Vb=pi||bg(d,k,Vb,u,wd,mc,Uc))?(Cd||"function"!==typeof Ta.UNSAFE_componentWillMount&&"function"!==typeof Ta.componentWillMount||("function"===typeof Ta.componentWillMount&&Ta.componentWillMount(),"function"===typeof Ta.UNSAFE_componentWillMount&&Ta.UNSAFE_componentWillMount()),
"function"===typeof Ta.componentDidMount&&(d.flags|=4194308)):("function"===typeof Ta.componentDidMount&&(d.flags|=4194308),d.memoizedProps=u,d.memoizedState=mc),Ta.props=u,Ta.state=mc,Ta.context=Uc,u=Vb):("function"===typeof Ta.componentDidMount&&(d.flags|=4194308),u=!1)}else{Ta=d.stateNode;nc(c,d);Vb=d.memoizedProps;Uc=d.type===d.elementType?Vb:Vf(d.type,Vb);Ta.props=Uc;Cd=d.pendingProps;wd=Ta.context;mc=k.contextType;"object"===typeof mc&&null!==mc?mc=va(mc):(mc=Qa(k)?li:Fg.current,mc=Ca(d,mc));
var Wd=k.getDerivedStateFromProps;(yd="function"===typeof Wd||"function"===typeof Ta.getSnapshotBeforeUpdate)||"function"!==typeof Ta.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ta.componentWillReceiveProps||(Vb!==Cd||wd!==mc)&&ug(d,Ta,u,mc);pi=!1;wd=d.memoizedState;Ta.state=wd;Yc(d,u,Ta,S);var ge=d.memoizedState;Vb!==Cd||wd!==ge||ch.current||pi?("function"===typeof Wd&&(hg(d,k,Wd,u),ge=d.memoizedState),(Uc=pi||bg(d,k,Uc,u,wd,ge,mc)||!1)?(yd||"function"!==typeof Ta.UNSAFE_componentWillUpdate&&
"function"!==typeof Ta.componentWillUpdate||("function"===typeof Ta.componentWillUpdate&&Ta.componentWillUpdate(u,ge,mc),"function"===typeof Ta.UNSAFE_componentWillUpdate&&Ta.UNSAFE_componentWillUpdate(u,ge,mc)),"function"===typeof Ta.componentDidUpdate&&(d.flags|=4),"function"===typeof Ta.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof Ta.componentDidUpdate||Vb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=4),"function"!==typeof Ta.getSnapshotBeforeUpdate||Vb===c.memoizedProps&&
wd===c.memoizedState||(d.flags|=1024),d.memoizedProps=u,d.memoizedState=ge),Ta.props=u,Ta.state=ge,Ta.context=mc,u=Uc):("function"!==typeof Ta.componentDidUpdate||Vb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=4),"function"!==typeof Ta.getSnapshotBeforeUpdate||Vb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=1024),u=!1)}return Qg(c,d,k,u,fa,S)}function Qg(c,d,k,u,S,fa){ci(c,d);var Ta=0!==(d.flags&128);if(!u&&!Ta)return S&&Ec(d,k,!1),fh(c,d,fa);u=d.stateNode;ul.current=d;var Vb=Ta&&"function"!==
typeof k.getDerivedStateFromError?null:u.render();d.flags|=1;null!==c&&Ta?(d.child=Ii(d,c.child,null,fa),d.child=Ii(d,null,Vb,fa)):gf(c,d,Vb,fa);d.memoizedState=u.state;S&&Ec(d,k,!0);return d.child}function Sh(c){var d=c.stateNode;d.pendingContext?id(c,d.pendingContext,d.pendingContext!==d.context):d.context&&id(c,d.context,!1);Rc(c,d.containerInfo)}function Xi(c){return{baseLanes:c,cachePool:null,transitions:null}}function Ji(c,d,k){var u=d.pendingProps,S=Hf.current,fa=!1,Ta=0!==(d.flags&128),Vb;
(Vb=Ta)||(Vb=null!==c&&null===c.memoizedState?!1:0!==(S&2));if(Vb)fa=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)S|=1;Xd(Hf,S&1);if(null===c){Ke(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;Ta=u.children;c=u.fallback;return fa?(u=d.mode,fa=d.child,Ta={mode:"hidden",children:Ta},0===(u&1)&&null!==fa?(fa.childLanes=0,fa.pendingProps=Ta):fa=Eg(Ta,u,0,null),c=fg(c,u,k,null),fa.return=d,c.return=
d,fa.sibling=c,d.child=fa,d.child.memoizedState=Xi(k),d.memoizedState=Uk,c):Ki(d,Ta)}S=c.memoizedState;if(null!==S&&(Vb=S.dehydrated,null!==Vb))return Yi(c,d,Ta,u,Vb,S,k);if(fa){fa=u.fallback;Ta=d.mode;S=c.child;Vb=S.sibling;var mc={mode:"hidden",children:u.children};0===(Ta&1)&&d.child!==S?(u=d.child,u.childLanes=0,u.pendingProps=mc,d.deletions=null):(u=$f(S,mc),u.subtreeFlags=S.subtreeFlags&14680064);null!==Vb?fa=$f(Vb,fa):(fa=fg(fa,Ta,k,null),fa.flags|=2);fa.return=d;u.return=d;u.sibling=fa;d.child=
u;u=fa;fa=d.child;Ta=c.child.memoizedState;Ta=null===Ta?Xi(k):{baseLanes:Ta.baseLanes|k,cachePool:null,transitions:Ta.transitions};fa.memoizedState=Ta;fa.childLanes=c.childLanes&~k;d.memoizedState=Uk;return u}fa=c.child;c=fa.sibling;u=$f(fa,{mode:"visible",children:u.children});0===(d.mode&1)&&(u.lanes=k);u.return=d;u.sibling=null;null!==c&&(k=d.deletions,null===k?(d.deletions=[c],d.flags|=16):k.push(c));d.child=u;d.memoizedState=null;return u}function Ki(c,d){d=Eg({mode:"visible",children:d},c.mode,
0,null);d.return=c;return c.child=d}function di(c,d,k,u){null!==u&&me(u);Ii(d,c.child,null,k);c=Ki(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function Yi(c,d,k,u,S,fa,Ta){if(k){if(d.flags&256)return d.flags&=-257,u=rf(Error(t(422))),di(c,d,Ta,u);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;fa=u.fallback;S=d.mode;u=Eg({mode:"visible",children:u.children},S,0,null);fa=fg(fa,S,Ta,null);fa.flags|=2;u.return=d;fa.return=d;u.sibling=fa;d.child=u;0!==(d.mode&
1)&&Ii(d,c.child,null,Ta);d.child.memoizedState=Xi(Ta);d.memoizedState=Uk;return fa}if(0===(d.mode&1))return di(c,d,Ta,null);if("$!"===S.data){if(u=S.nextSibling&&S.nextSibling.dataset)var Vb=u.dgst;u=Vb;fa=Error(t(419));u=rf(fa,u,void 0);return di(c,d,Ta,u)}Vb=0!==(Ta&c.childLanes);if(dh||Vb){u=sg;if(null!==u){switch(Ta&-Ta){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=
32;break;case 536870912:S=268435456;break;default:S=0}S=0!==(S&(u.suspendedLanes|Ta))?0:S;0!==S&&S!==fa.retryLane&&(fa.retryLane=S,Xb(c,S),yb(u,c,S,-1))}je();u=rf(Error(t(421)));return di(c,d,Ta,u)}if("$?"===S.data)return d.flags|=128,d.child=c.child,d=vg.bind(null,c),S._reactRetry=d,null;c=fa.treeContext;Wg=Sc(S.nextSibling);Vg=d;Zf=!0;mh=null;null!==c&&(Jf[uh++]=Fh,Jf[uh++]=mi,Jf[uh++]=ai,Fh=c.id,mi=c.overflow,ai=d);d=Ki(d,u.children);d.flags|=4096;return d}function Li(c,d,k){c.lanes|=d;var u=c.alternate;
null!==u&&(u.lanes|=d);Y(c.return,d,k)}function Yg(c,d,k,u,S){var fa=c.memoizedState;null===fa?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:u,tail:k,tailMode:S}:(fa.isBackwards=d,fa.rendering=null,fa.renderingStartTime=0,fa.last=u,fa.tail=k,fa.tailMode=S)}function Mi(c,d,k){var u=d.pendingProps,S=u.revealOrder,fa=u.tail;gf(c,d,u.children,k);u=Hf.current;if(0!==(u&2))u=u&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==
c.memoizedState&&Li(c,k,d);else if(19===c.tag)Li(c,k,d);else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}u&=1}Xd(Hf,u);if(0===(d.mode&1))d.memoizedState=null;else switch(S){case "forwards":k=d.child;for(S=null;null!==k;)c=k.alternate,null!==c&&null===Ad(c)&&(S=k),k=k.sibling;k=S;null===k?(S=d.child,d.child=null):(S=k.sibling,k.sibling=null);Yg(d,!1,S,k,fa);
break;case "backwards":k=null;S=d.child;for(d.child=null;null!==S;){c=S.alternate;if(null!==c&&null===Ad(c)){d.child=S;break}c=S.sibling;S.sibling=k;k=S;S=c}Yg(d,!0,k,null,fa);break;case "together":Yg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function oh(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function fh(c,d,k){null!==c&&(d.dependencies=c.dependencies);uf|=d.lanes;if(0===(k&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(t(153));
if(null!==d.child){c=d.child;k=$f(c,c.pendingProps);d.child=k;for(k.return=d;null!==c.sibling;)c=c.sibling,k=k.sibling=$f(c,c.pendingProps),k.return=d;k.sibling=null}return d.child}function Th(c,d,k){switch(d.tag){case 3:Sh(d);de();break;case 5:ue(d);break;case 1:Qa(d.type)&&Mc(d);break;case 4:Rc(d,d.stateNode.containerInfo);break;case 10:var u=d.type._context,S=d.memoizedProps.value;Xd(nj,u._currentValue);u._currentValue=S;break;case 13:u=d.memoizedState;if(null!==u){if(null!==u.dehydrated)return Xd(Hf,
Hf.current&1),d.flags|=128,null;if(0!==(k&d.child.childLanes))return Ji(c,d,k);Xd(Hf,Hf.current&1);c=fh(c,d,k);return null!==c?c.sibling:null}Xd(Hf,Hf.current&1);break;case 19:u=0!==(k&d.childLanes);if(0!==(c.flags&128)){if(u)return Mi(c,d,k);d.flags|=128}S=d.memoizedState;null!==S&&(S.rendering=null,S.tail=null,S.lastEffect=null);Xd(Hf,Hf.current);if(u)break;else return null;case 22:case 23:return d.lanes=0,Xf(c,d,k)}return fh(c,d,k)}function wg(c,d){if(!Zf)switch(c.tailMode){case "hidden":d=c.tail;
for(var k=null;null!==d;)null!==d.alternate&&(k=d),d=d.sibling;null===k?c.tail=null:k.sibling=null;break;case "collapsed":k=c.tail;for(var u=null;null!==k;)null!==k.alternate&&(u=k),k=k.sibling;null===u?d||null===c.tail?c.tail=null:c.tail.sibling=null:u.sibling=null}}function ig(c){var d=null!==c.alternate&&c.alternate.child===c.child,k=0,u=0;if(d)for(var S=c.child;null!==S;)k|=S.lanes|S.childLanes,u|=S.subtreeFlags&14680064,u|=S.flags&14680064,S.return=c,S=S.sibling;else for(S=c.child;null!==S;)k|=
S.lanes|S.childLanes,u|=S.subtreeFlags,u|=S.flags,S.return=c,S=S.sibling;c.subtreeFlags|=u;c.childLanes=k;return d}function Zi(c,d,k){var u=d.pendingProps;Me(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ig(d),null;case 1:return Qa(d.type)&&ac(),ig(d),null;case 3:u=d.stateNode;Ud();Bd(ch);Bd(Fg);Yd();u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null);if(null===c||null===c.child)Ye(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&
0===(d.flags&256)||(d.flags|=1024,null!==mh&&(ha(mh),mh=null));ei(c,d);ig(d);return null;case 5:$c(d);var S=Sd(pj.current);k=d.type;if(null!==c&&null!=d.stateNode)vl(c,d,k,u,S),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!u){if(null===d.stateNode)throw Error(t(166));ig(d);return null}c=Sd(bi.current);if(Ye(d)){u=d.stateNode;k=d.type;var fa=d.memoizedProps;u[Rh]=d;u[Fj]=fa;c=0!==(d.mode&1);switch(k){case "dialog":kd("cancel",u);kd("close",u);break;case "iframe":case "object":case "embed":kd("load",
u);break;case "video":case "audio":for(S=0;S<sj.length;S++)kd(sj[S],u);break;case "source":kd("error",u);break;case "img":case "image":case "link":kd("error",u);kd("load",u);break;case "details":kd("toggle",u);break;case "input":Ba(u,fa);kd("invalid",u);break;case "select":u._wrapperState={wasMultiple:!!fa.multiple};kd("invalid",u);break;case "textarea":Nb(u,fa),kd("invalid",u)}qa(k,fa);S=null;for(var Ta in fa)if(fa.hasOwnProperty(Ta)){var Vb=fa[Ta];"children"===Ta?"string"===typeof Vb?u.textContent!==
Vb&&(!0!==fa.suppressHydrationWarning&&Ga(u.textContent,Vb,c),S=["children",Vb]):"number"===typeof Vb&&u.textContent!==""+Vb&&(!0!==fa.suppressHydrationWarning&&Ga(u.textContent,Vb,c),S=["children",""+Vb]):Wh.hasOwnProperty(Ta)&&null!=Vb&&"onScroll"===Ta&&kd("scroll",u)}switch(k){case "input":gb(u);Ha(u,fa,!0);break;case "textarea":gb(u);T(u);break;case "select":case "option":break;default:"function"===typeof fa.onClick&&(u.onclick=eb)}u=S;d.updateQueue=u;null!==u&&(d.flags|=4)}else{Ta=9===S.nodeType?
S:S.ownerDocument;"http://www.w3.org/1999/xhtml"===c&&(c=ba(k));"http://www.w3.org/1999/xhtml"===c?"script"===k?(c=Ta.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof u.is?c=Ta.createElement(k,{is:u.is}):(c=Ta.createElement(k),"select"===k&&(Ta=c,u.multiple?Ta.multiple=!0:u.size&&(Ta.size=u.size))):c=Ta.createElementNS(c,k);c[Rh]=d;c[Fj]=u;Zl(c,d,!1,!1);d.stateNode=c;a:{Ta=l(k,u);switch(k){case "dialog":kd("cancel",c);kd("close",c);
S=u;break;case "iframe":case "object":case "embed":kd("load",c);S=u;break;case "video":case "audio":for(S=0;S<sj.length;S++)kd(sj[S],c);S=u;break;case "source":kd("error",c);S=u;break;case "img":case "image":case "link":kd("error",c);kd("load",c);S=u;break;case "details":kd("toggle",c);S=u;break;case "input":Ba(c,u);S=ia(c,u);kd("invalid",c);break;case "option":S=u;break;case "select":c._wrapperState={wasMultiple:!!u.multiple};S=He({},u,{value:void 0});kd("invalid",c);break;case "textarea":Nb(c,u);
S=qb(c,u);kd("invalid",c);break;default:S=u}qa(k,S);Vb=S;for(fa in Vb)if(Vb.hasOwnProperty(fa)){var mc=Vb[fa];"style"===fa?oa(c,mc):"dangerouslySetInnerHTML"===fa?(mc=mc?mc.__html:void 0,null!=mc&&Hd(c,mc)):"children"===fa?"string"===typeof mc?("textarea"!==k||""!==mc)&&ja(c,mc):"number"===typeof mc&&ja(c,""+mc):"suppressContentEditableWarning"!==fa&&"suppressHydrationWarning"!==fa&&"autoFocus"!==fa&&(Wh.hasOwnProperty(fa)?null!=mc&&"onScroll"===fa&&kd("scroll",c):null!=mc&&oc(c,fa,mc,Ta))}switch(k){case "input":gb(c);
Ha(c,u,!1);break;case "textarea":gb(c);T(c);break;case "option":null!=u.value&&c.setAttribute("value",""+rb(u.value));break;case "select":c.multiple=!!u.multiple;fa=u.value;null!=fa?$a(c,!!u.multiple,fa,!1):null!=u.defaultValue&&$a(c,!!u.multiple,u.defaultValue,!0);break;default:"function"===typeof S.onClick&&(c.onclick=eb)}switch(k){case "button":case "input":case "select":case "textarea":u=!!u.autoFocus;break a;case "img":u=!0;break a;default:u=!1}}u&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=
2097152)}ig(d);return null;case 6:if(c&&null!=d.stateNode)wl(c,d,c.memoizedProps,u);else{if("string"!==typeof u&&null===d.stateNode)throw Error(t(166));k=Sd(pj.current);Sd(bi.current);if(Ye(d)){u=d.stateNode;k=d.memoizedProps;u[Rh]=d;if(fa=u.nodeValue!==k)if(c=Vg,null!==c)switch(c.tag){case 3:Ga(u.nodeValue,k,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&Ga(u.nodeValue,k,0!==(c.mode&1))}fa&&(d.flags|=4)}else u=(9===k.nodeType?k:k.ownerDocument).createTextNode(u),u[Rh]=
d,d.stateNode=u}ig(d);return null;case 13:Bd(Hf);u=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Zf&&null!==Wg&&0!==(d.mode&1)&&0===(d.flags&128))pe(),de(),d.flags|=98560,fa=!1;else if(fa=Ye(d),null!==u&&null!==u.dehydrated){if(null===c){if(!fa)throw Error(t(318));fa=d.memoizedState;fa=null!==fa?fa.dehydrated:null;if(!fa)throw Error(t(317));fa[Rh]=d}else de(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;ig(d);fa=!1}else null!==mh&&(ha(mh),mh=null),
fa=!0;if(!fa)return d.flags&65536?d:null}if(0!==(d.flags&128))return d.lanes=k,d;u=null!==u;u!==(null!==c&&null!==c.memoizedState)&&u&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Hf.current&1)?0===Lf&&(Lf=3):je()));null!==d.updateQueue&&(d.flags|=4);ig(d);return null;case 4:return Ud(),ei(c,d),null===c&&he(d.stateNode.containerInfo),ig(d),null;case 10:return P(d.type._context),ig(d),null;case 17:return Qa(d.type)&&ac(),ig(d),null;case 19:Bd(Hf);fa=d.memoizedState;if(null===fa)return ig(d),
null;u=0!==(d.flags&128);Ta=fa.rendering;if(null===Ta)if(u)wg(fa,!1);else{if(0!==Lf||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){Ta=Ad(c);if(null!==Ta){d.flags|=128;wg(fa,!1);u=Ta.updateQueue;null!==u&&(d.updateQueue=u,d.flags|=4);d.subtreeFlags=0;u=k;for(k=d.child;null!==k;)fa=k,c=u,fa.flags&=14680066,Ta=fa.alternate,null===Ta?(fa.childLanes=0,fa.lanes=c,fa.child=null,fa.subtreeFlags=0,fa.memoizedProps=null,fa.memoizedState=null,fa.updateQueue=null,fa.dependencies=null,fa.stateNode=null):
(fa.childLanes=Ta.childLanes,fa.lanes=Ta.lanes,fa.child=Ta.child,fa.subtreeFlags=0,fa.deletions=null,fa.memoizedProps=Ta.memoizedProps,fa.memoizedState=Ta.memoizedState,fa.updateQueue=Ta.updateQueue,fa.type=Ta.type,c=Ta.dependencies,fa.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),k=k.sibling;Xd(Hf,Hf.current&1|2);return d.child}c=c.sibling}null!==fa.tail&&jg()>tj&&(d.flags|=128,u=!0,wg(fa,!1),d.lanes=4194304)}else{if(!u)if(c=Ad(Ta),null!==c){if(d.flags|=128,u=!0,k=c.updateQueue,
null!==k&&(d.updateQueue=k,d.flags|=4),wg(fa,!0),null===fa.tail&&"hidden"===fa.tailMode&&!Ta.alternate&&!Zf)return ig(d),null}else 2*jg()-fa.renderingStartTime>tj&&1073741824!==k&&(d.flags|=128,u=!0,wg(fa,!1),d.lanes=4194304);fa.isBackwards?(Ta.sibling=d.child,d.child=Ta):(k=fa.last,null!==k?k.sibling=Ta:d.child=Ta,fa.last=Ta)}if(null!==fa.tail)return d=fa.tail,fa.rendering=d,fa.tail=d.sibling,fa.renderingStartTime=jg(),d.sibling=null,k=Hf.current,Xd(Hf,u?k&1|2:k&1),d;ig(d);return null;case 22:case 23:return gc(),
u=null!==d.memoizedState,null!==c&&null!==c.memoizedState!==u&&(d.flags|=8192),u&&0!==(d.mode&1)?0!==(xh&1073741824)&&(ig(d),d.subtreeFlags&6&&(d.flags|=8192)):ig(d),null;case 24:return null;case 25:return null}throw Error(t(156,d.tag));}function fi(c,d){Me(d);switch(d.tag){case 1:return Qa(d.type)&&ac(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ud(),Bd(ch),Bd(Fg),Yd(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return $c(d),null;case 13:Bd(Hf);c=
d.memoizedState;if(null!==c&&null!==c.dehydrated){if(null===d.alternate)throw Error(t(340));de()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return Bd(Hf),null;case 4:return Ud(),null;case 10:return P(d.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}function Zg(c,d){var k=c.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(u){sf(c,d,u)}else k.current=null}function ri(c,d,k){try{k()}catch(u){sf(c,d,u)}}function Lj(c,d){Vk=Xj;
c=ec();if(Qb(c)){if("selectionStart"in c)var k={start:c.selectionStart,end:c.selectionEnd};else a:{k=(k=c.ownerDocument)&&k.defaultView||window;var u=k.getSelection&&k.getSelection();if(u&&0!==u.rangeCount){k=u.anchorNode;var S=u.anchorOffset,fa=u.focusNode;u=u.focusOffset;try{k.nodeType,fa.nodeType}catch(Jd){k=null;break a}var Ta=0,Vb=-1,mc=-1,Uc=0,yd=0,Cd=c,wd=null;b:for(;;){for(var Wd;;){Cd!==k||0!==S&&3!==Cd.nodeType||(Vb=Ta+S);Cd!==fa||0!==u&&3!==Cd.nodeType||(mc=Ta+u);3===Cd.nodeType&&(Ta+=
Cd.nodeValue.length);if(null===(Wd=Cd.firstChild))break;wd=Cd;Cd=Wd}for(;;){if(Cd===c)break b;wd===k&&++Uc===S&&(Vb=Ta);wd===fa&&++yd===u&&(mc=Ta);if(null!==(Wd=Cd.nextSibling))break;Cd=wd;wd=Cd.parentNode}Cd=Wd}k=-1===Vb||-1===mc?null:{start:Vb,end:mc}}else k=null}k=k||{start:0,end:0}}else k=null;Wk={focusedElem:c,selectionRange:k};Xj=!1;for(ee=d;null!==ee;)if(d=ee,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,ee=c;else for(;null!==ee;){d=ee;try{var ge=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;
case 1:if(null!==ge){var le=ge.memoizedProps,eg=ge.memoizedState,Gc=d.stateNode,vc=Gc.getSnapshotBeforeUpdate(d.elementType===d.type?le:Vf(d.type,le),eg);Gc.__reactInternalSnapshotBeforeUpdate=vc}break;case 3:var Qc=d.stateNode.containerInfo;1===Qc.nodeType?Qc.textContent="":9===Qc.nodeType&&Qc.documentElement&&Qc.removeChild(Qc.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163));}}catch(Jd){sf(d,d.return,Jd)}c=d.sibling;if(null!==c){c.return=d.return;ee=c;break}ee=
d.return}ge=pk;pk=!1;return ge}function yh(c,d,k){var u=d.updateQueue;u=null!==u?u.lastEffect:null;if(null!==u){var S=u=u.next;do{if((S.tag&c)===c){var fa=S.destroy;S.destroy=void 0;void 0!==fa&&ri(d,k,fa)}S=S.next}while(S!==u)}}function Gh(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var k=d=d.next;do{if((k.tag&c)===c){var u=k.create;k.destroy=u()}k=k.next}while(k!==d)}}function Ig(c){var d=c.ref;if(null!==d){var k=c.stateNode;switch(c.tag){case 5:c=k;break;default:c=k}"function"===
typeof d?d(c):d.current=c}}function mg(c){var d=c.alternate;null!==d&&(c.alternate=null,mg(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[Rh],delete d[Fj],delete d[Mk],delete d[xl],delete d[Xk]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function zh(c){return 5===c.tag||3===c.tag||4===c.tag}function Hh(c){a:for(;;){for(;null===c.sibling;){if(null===
c.return||zh(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function gh(c,d,k){var u=c.tag;if(5===u||6===u)c=c.stateNode,d?8===k.nodeType?k.parentNode.insertBefore(c,d):k.insertBefore(c,d):(8===k.nodeType?(d=k.parentNode,d.insertBefore(c,k)):(d=k,d.appendChild(c)),k=k._reactRootContainer,null!==k&&void 0!==
k||null!==d.onclick||(d.onclick=eb));else if(4!==u&&(c=c.child,null!==c))for(gh(c,d,k),c=c.sibling;null!==c;)gh(c,d,k),c=c.sibling}function Mf(c,d,k){var u=c.tag;if(5===u||6===u)c=c.stateNode,d?k.insertBefore(c,d):k.appendChild(c);else if(4!==u&&(c=c.child,null!==c))for(Mf(c,d,k),c=c.sibling;null!==c;)Mf(c,d,k),c=c.sibling}function ng(c,d,k){for(k=k.child;null!==k;)hh(c,d,k),k=k.sibling}function hh(c,d,k){if(Xh&&"function"===typeof Xh.onCommitFiberUnmount)try{Xh.onCommitFiberUnmount(Cj,k)}catch(Vb){}switch(k.tag){case 5:$g||
Zg(k,d);case 6:var u=Rg,S=Uh;Rg=null;ng(c,d,k);Rg=u;Uh=S;null!==Rg&&(Uh?(c=Rg,k=k.stateNode,8===c.nodeType?c.parentNode.removeChild(k):c.removeChild(k)):Rg.removeChild(k.stateNode));break;case 18:null!==Rg&&(Uh?(c=Rg,k=k.stateNode,8===c.nodeType?Rb(c.parentNode,k):1===c.nodeType&&Rb(c,k),Ac(c)):Rb(Rg,k.stateNode));break;case 4:u=Rg;S=Uh;Rg=k.stateNode.containerInfo;Uh=!0;ng(c,d,k);Rg=u;Uh=S;break;case 0:case 11:case 14:case 15:if(!$g&&(u=k.updateQueue,null!==u&&(u=u.lastEffect,null!==u))){S=u=u.next;
do{var fa=S,Ta=fa.destroy;fa=fa.tag;void 0!==Ta&&(0!==(fa&2)?ri(k,d,Ta):0!==(fa&4)&&ri(k,d,Ta));S=S.next}while(S!==u)}ng(c,d,k);break;case 1:if(!$g&&(Zg(k,d),u=k.stateNode,"function"===typeof u.componentWillUnmount))try{u.props=k.memoizedProps,u.state=k.memoizedState,u.componentWillUnmount()}catch(Vb){sf(k,d,Vb)}ng(c,d,k);break;case 21:ng(c,d,k);break;case 22:k.mode&1?($g=(u=$g)||null!==k.memoizedState,ng(c,d,k),$g=u):ng(c,d,k);break;default:ng(c,d,k)}}function If(c){var d=c.updateQueue;if(null!==
d){c.updateQueue=null;var k=c.stateNode;null===k&&(k=c.stateNode=new $l);d.forEach(function(u){var S=ph.bind(null,c,u);k.has(u)||(k.add(u),u.then(S,S))})}}function ih(c,d){var k=d.deletions;if(null!==k)for(var u=0;u<k.length;u++){var S=k[u];try{var fa=c,Ta=d,Vb=Ta;a:for(;null!==Vb;){switch(Vb.tag){case 5:Rg=Vb.stateNode;Uh=!1;break a;case 3:Rg=Vb.stateNode.containerInfo;Uh=!0;break a;case 4:Rg=Vb.stateNode.containerInfo;Uh=!0;break a}Vb=Vb.return}if(null===Rg)throw Error(t(160));hh(fa,Ta,S);Rg=null;
Uh=!1;var mc=S.alternate;null!==mc&&(mc.return=null);S.return=null}catch(Uc){sf(S,d,Uc)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)ah(d,c),d=d.sibling}function ah(c,d){var k=c.alternate,u=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:ih(d,c);jh(c);if(u&4){try{yh(3,c,c.return),Gh(3,c)}catch(le){sf(c,c.return,le)}try{yh(5,c,c.return)}catch(le){sf(c,c.return,le)}}break;case 1:ih(d,c);jh(c);u&512&&null!==k&&Zg(k,k.return);break;case 5:ih(d,c);jh(c);u&512&&null!==k&&Zg(k,k.return);if(c.flags&
32){var S=c.stateNode;try{ja(S,"")}catch(le){sf(c,c.return,le)}}if(u&4&&(S=c.stateNode,null!=S)){var fa=c.memoizedProps,Ta=null!==k?k.memoizedProps:fa,Vb=c.type,mc=c.updateQueue;c.updateQueue=null;if(null!==mc)try{"input"===Vb&&"radio"===fa.type&&null!=fa.name&&Sa(S,fa);l(Vb,Ta);var Uc=l(Vb,fa);for(Ta=0;Ta<mc.length;Ta+=2){var yd=mc[Ta],Cd=mc[Ta+1];"style"===yd?oa(S,Cd):"dangerouslySetInnerHTML"===yd?Hd(S,Cd):"children"===yd?ja(S,Cd):oc(S,yd,Cd,Uc)}switch(Vb){case "input":Wa(S,fa);break;case "textarea":db(S,
fa);break;case "select":var wd=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!fa.multiple;var Wd=fa.value;null!=Wd?$a(S,!!fa.multiple,Wd,!1):wd!==!!fa.multiple&&(null!=fa.defaultValue?$a(S,!!fa.multiple,fa.defaultValue,!0):$a(S,!!fa.multiple,fa.multiple?[]:"",!1))}S[Fj]=fa}catch(le){sf(c,c.return,le)}}break;case 6:ih(d,c);jh(c);if(u&4){if(null===c.stateNode)throw Error(t(162));S=c.stateNode;fa=c.memoizedProps;try{S.nodeValue=fa}catch(le){sf(c,c.return,le)}}break;case 3:ih(d,c);jh(c);if(u&
4&&null!==k&&k.memoizedState.isDehydrated)try{Ac(d.containerInfo)}catch(le){sf(c,c.return,le)}break;case 4:ih(d,c);jh(c);break;case 13:ih(d,c);jh(c);S=c.child;S.flags&8192&&(fa=null!==S.memoizedState,S.stateNode.isHidden=fa,!fa||null!==S.alternate&&null!==S.alternate.memoizedState||(Vh=jg()));u&4&&If(c);break;case 22:yd=null!==k&&null!==k.memoizedState;c.mode&1?($g=(Uc=$g)||yd,ih(d,c),$g=Uc):ih(d,c);jh(c);if(u&8192){Uc=null!==c.memoizedState;if((c.stateNode.isHidden=Uc)&&!yd&&0!==(c.mode&1))for(ee=
c,yd=c.child;null!==yd;){for(Cd=ee=yd;null!==ee;){wd=ee;Wd=wd.child;switch(wd.tag){case 0:case 11:case 14:case 15:yh(4,wd,wd.return);break;case 1:Zg(wd,wd.return);var ge=wd.stateNode;if("function"===typeof ge.componentWillUnmount){u=wd;k=wd.return;try{d=u,ge.props=d.memoizedProps,ge.state=d.memoizedState,ge.componentWillUnmount()}catch(le){sf(u,k,le)}}break;case 5:Zg(wd,wd.return);break;case 22:if(null!==wd.memoizedState){Z(Cd);continue}}null!==Wd?(Wd.return=wd,ee=Wd):Z(Cd)}yd=yd.sibling}yd=null;
Cd=c;a:for(;;){if(5===Cd.tag){if(null===yd){yd=Cd;try{S=Cd.stateNode,Uc?(fa=S.style,"function"===typeof fa.setProperty?fa.setProperty("display","none","important"):fa.display="none"):(Vb=Cd.stateNode,mc=Cd.memoizedProps.style,Ta=void 0!==mc&&null!==mc&&mc.hasOwnProperty("display")?mc.display:null,Vb.style.display=Ma("display",Ta))}catch(le){sf(c,c.return,le)}}}else if(6===Cd.tag){if(null===yd)try{Cd.stateNode.nodeValue=Uc?"":Cd.memoizedProps}catch(le){sf(c,c.return,le)}}else if((22!==Cd.tag&&23!==
Cd.tag||null===Cd.memoizedState||Cd===c)&&null!==Cd.child){Cd.child.return=Cd;Cd=Cd.child;continue}if(Cd===c)break a;for(;null===Cd.sibling;){if(null===Cd.return||Cd.return===c)break a;yd===Cd&&(yd=null);Cd=Cd.return}yd===Cd&&(yd=null);Cd.sibling.return=Cd.return;Cd=Cd.sibling}}break;case 19:ih(d,c);jh(c);u&4&&If(c);break;case 21:break;default:ih(d,c),jh(c)}}function jh(c){var d=c.flags;if(d&2){try{a:{for(var k=c.return;null!==k;){if(zh(k))break a;k=k.return}throw Error(t(160));}switch(k.tag){case 5:var u=
k.stateNode;k.flags&32&&(ja(u,""),k.flags&=-33);var S=Hh(c);Mf(c,S,u);break;case 3:case 4:var fa=k.stateNode.containerInfo,Ta=Hh(c);gh(c,Ta,fa);break;default:throw Error(t(161));}}catch(Vb){sf(c,c.return,Vb)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Ih(c,d,k){ee=c;si(c,d,k)}function si(c,d,k){for(var u=0!==(c.mode&1);null!==ee;){var S=ee,fa=S.child;if(22===S.tag&&u){var Ta=null!==S.memoizedState||qk;if(!Ta){var Vb=S.alternate,mc=null!==Vb&&null!==Vb.memoizedState||$g;Vb=qk;var Uc=$g;qk=Ta;if(($g=
mc)&&!Uc)for(ee=S;null!==ee;)Ta=ee,mc=Ta.child,22===Ta.tag&&null!==Ta.memoizedState?Aa(S):null!==mc?(mc.return=Ta,ee=mc):Aa(S);for(;null!==fa;)ee=fa,si(fa,d,k),fa=fa.sibling;ee=S;qk=Vb;$g=Uc}B(c,d,k)}else 0!==(S.subtreeFlags&8772)&&null!==fa?(fa.return=S,ee=fa):B(c,d,k)}}function B(c){for(;null!==ee;){var d=ee;if(0!==(d.flags&8772)){var k=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:$g||Gh(5,d);break;case 1:var u=d.stateNode;if(d.flags&4&&!$g)if(null===k)u.componentDidMount();
else{var S=d.elementType===d.type?k.memoizedProps:Vf(d.type,k.memoizedProps);u.componentDidUpdate(S,k.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var fa=d.updateQueue;null!==fa&&jd(d,fa,u);break;case 3:var Ta=d.updateQueue;if(null!==Ta){k=null;if(null!==d.child)switch(d.child.tag){case 5:k=d.child.stateNode;break;case 1:k=d.child.stateNode}jd(d,Ta,k)}break;case 5:var Vb=d.stateNode;if(null===k&&d.flags&4){k=Vb;var mc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":mc.autoFocus&&
k.focus();break;case "img":mc.src&&(k.src=mc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var Uc=d.alternate;if(null!==Uc){var yd=Uc.memoizedState;if(null!==yd){var Cd=yd.dehydrated;null!==Cd&&Ac(Cd)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163));}$g||d.flags&512&&Ig(d)}catch(wd){sf(d,d.return,wd)}}if(d===c){ee=null;break}k=d.sibling;if(null!==k){k.return=d.return;ee=k;break}ee=d.return}}function Z(c){for(;null!==
ee;){var d=ee;if(d===c){ee=null;break}var k=d.sibling;if(null!==k){k.return=d.return;ee=k;break}ee=d.return}}function Aa(c){for(;null!==ee;){var d=ee;try{switch(d.tag){case 0:case 11:case 15:var k=d.return;try{Gh(4,d)}catch(mc){sf(d,k,mc)}break;case 1:var u=d.stateNode;if("function"===typeof u.componentDidMount){var S=d.return;try{u.componentDidMount()}catch(mc){sf(d,S,mc)}}var fa=d.return;try{Ig(d)}catch(mc){sf(d,fa,mc)}break;case 5:var Ta=d.return;try{Ig(d)}catch(mc){sf(d,Ta,mc)}}}catch(mc){sf(d,
d.return,mc)}if(d===c){ee=null;break}var Vb=d.sibling;if(null!==Vb){Vb.return=d.return;ee=Vb;break}ee=d.return}}function La(){return 0!==(hf&6)?jg():-1!==Ni?Ni:Ni=jg()}function zb(c){if(0===(c.mode&1))return 1;if(0!==(hf&2)&&0!==Sg)return Sg&-Sg;if(null!==yl.transition)return 0===uj&&(uj=pc()),uj;c=yf;if(0!==c)return c;c=window.event;return c=void 0===c?16:fb(c.type)}function yb(c,d,k,u){if(50<ti)throw ti=0,rk=null,Error(t(185));Mb(c,k,u);if(0===(hf&2)||c!==sg)c===sg&&(0===(hf&2)&&(mf|=k),4===Lf&&
bb(c,Sg)),bc(c,u),1===k&&0===hf&&0===(d.mode&1)&&(tj=jg()+500,$h&&ld())}function bc(c,d){var k=c.callbackNode;Fa(c,d);var u=Sb(c,c===sg?Sg:0);if(0===u)null!==k&&ui(k),c.callbackNode=null,c.callbackPriority=0;else if(d=u&-u,c.callbackPriority!==d){null!=k&&ui(k);if(1===d)0===c.tag?Xc(Pb.bind(null,c)):Tc(Pb.bind(null,c)),zl(function(){0===(hf&6)&&ld()}),k=null;else{switch(hd(u)){case 1:k=Fk;break;case 4:k=Zj;break;case 16:k=Ri;break;case 536870912:k=Gk;break;default:k=Ri}k=qh(k,q.bind(null,c))}c.callbackPriority=
d;c.callbackNode=k}}function q(c,d){Ni=-1;uj=0;if(0!==(hf&6))throw Error(t(327));var k=c.callbackNode;if(we()&&c.callbackNode!==k)return null;var u=Sb(c,c===sg?Sg:0);if(0===u)return null;if(0!==(u&30)||0!==(u&c.expiredLanes)||d)d=Ge(c,u);else{d=u;var S=hf;hf|=2;var fa=zd();if(sg!==c||Sg!==d)vi=null,tj=jg()+500,rd(c,d);do try{for(;null!==xg&&!Yk();)Pe(xg);break}catch(Vb){Wc(c,Vb)}while(1);Gj=oi=Gi=null;sk.current=fa;hf=S;null!==xg?d=0:(sg=null,Sg=0,d=Lf)}if(0!==d){2===d&&(S=Kb(c),0!==S&&(u=S,d=J(c,
S)));if(1===d)throw k=Mj,rd(c,0),bb(c,u),bc(c,jg()),k;if(6===d)bb(c,u);else{S=c.current.alternate;if(0===(u&30)&&!ya(S)&&(d=Ge(c,u),2===d&&(fa=Kb(c),0!==fa&&(u=fa,d=J(c,fa))),1===d))throw k=Mj,rd(c,0),bb(c,u),bc(c,jg()),k;c.finishedWork=S;c.finishedLanes=u;switch(d){case 0:case 1:throw Error(t(345));case 2:Te(c,rh,vi);break;case 3:bb(c,u);if((u&130023424)===u&&(d=Vh+500-jg(),10<d)){if(0!==Sb(c,0))break;S=c.suspendedLanes;if((S&u)!==u){La();c.pingedLanes|=c.suspendedLanes&S;break}c.timeoutHandle=Zk(Te.bind(null,
c,rh,vi),d);break}Te(c,rh,vi);break;case 4:bb(c,u);if((u&4194240)===u)break;d=c.eventTimes;for(S=-1;0<u;){var Ta=31-Oh(u);fa=1<<Ta;Ta=d[Ta];Ta>S&&(S=Ta);u&=~fa}u=S;u=jg()-u;u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3E3>u?3E3:4320>u?4320:1960*am(u/1960))-u;if(10<u){c.timeoutHandle=Zk(Te.bind(null,c,rh,vi),u);break}Te(c,rh,vi);break;case 5:Te(c,rh,vi);break;default:throw Error(t(329));}}}bc(c,jg());return c.callbackNode===k?q.bind(null,c):null}function J(c,d){var k=Ah;c.current.memoizedState.isDehydrated&&
(rd(c,d).flags|=256);c=Ge(c,d);2!==c&&(d=rh,rh=k,null!==d&&ha(d));return c}function ha(c){null===rh?rh=c:rh.push.apply(rh,c)}function ya(c){for(var d=c;;){if(d.flags&16384){var k=d.updateQueue;if(null!==k&&(k=k.stores,null!==k))for(var u=0;u<k.length;u++){var S=k[u],fa=S.getSnapshot;S=S.value;try{if(!Ph(fa(),S))return!1}catch(Ta){return!1}}}k=d.child;if(d.subtreeFlags&16384&&null!==k)k.return=d,d=k;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function bb(c,d){d&=~Tg;d&=~mf;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var k=31-Oh(d),u=1<<k;c[k]=-1;d&=~u}}function Pb(c){if(0!==(hf&6))throw Error(t(327));we();var d=Sb(c,0);if(0===(d&1))return bc(c,jg()),null;var k=Ge(c,d);if(0!==c.tag&&2===k){var u=Kb(c);0!==u&&(d=u,k=J(c,u))}if(1===k)throw k=Mj,rd(c,0),bb(c,d),bc(c,jg()),k;if(6===k)throw Error(t(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;Te(c,rh,vi);bc(c,jg());return null}
function kc(c,d){var k=hf;hf|=1;try{return c(d)}finally{hf=k,0===hf&&(tj=jg()+500,$h&&ld())}}function xc(c){null!==wi&&0===wi.tag&&0===(hf&6)&&we();var d=hf;hf|=1;var k=Jh.transition,u=yf;try{if(Jh.transition=null,yf=1,c)return c()}finally{yf=u,Jh.transition=k,hf=d,0===(hf&6)&&ld()}}function gc(){xh=rj.current;Bd(rj)}function rd(c,d){c.finishedWork=null;c.finishedLanes=0;var k=c.timeoutHandle;-1!==k&&(c.timeoutHandle=-1,bm(k));if(null!==xg)for(k=xg.return;null!==k;){var u=k;Me(u);switch(u.tag){case 1:u=
u.type.childContextTypes;null!==u&&void 0!==u&&ac();break;case 3:Ud();Bd(ch);Bd(Fg);Yd();break;case 5:$c(u);break;case 4:Ud();break;case 13:Bd(Hf);break;case 19:Bd(Hf);break;case 10:P(u.type._context);break;case 22:case 23:gc()}k=k.return}sg=c;xg=c=$f(c.current,null);Sg=xh=d;Lf=0;Mj=null;Tg=mf=uf=0;rh=Ah=null;if(null!==Ui){for(d=0;d<Ui.length;d++)if(k=Ui[d],u=k.interleaved,null!==u){k.interleaved=null;var S=u.next,fa=k.pending;if(null!==fa){var Ta=fa.next;fa.next=S;u.next=Ta}k.pending=u}Ui=null}return c}
function Wc(c,d){do{var k=xg;try{Gj=oi=Gi=null;Hj.current=Kj;if(Wi){for(var u=zf.memoizedState;null!==u;){var S=u.queue;null!==S&&(S.pending=null);u=u.next}Wi=!1}Vi=0;Bg=rg=zf=null;Ij=!1;Jj=0;$k.current=null;if(null===k||null===k.return){Lf=1;Mj=d;xg=null;break}a:{var fa=c,Ta=k.return,Vb=k,mc=d;d=Sg;Vb.flags|=32768;if(null!==mc&&"object"===typeof mc&&"function"===typeof mc.then){var Uc=mc,yd=Vb,Cd=yd.tag;if(0===(yd.mode&1)&&(0===Cd||11===Cd||15===Cd)){var wd=yd.alternate;wd?(yd.updateQueue=wd.updateQueue,
yd.memoizedState=wd.memoizedState,yd.lanes=wd.lanes):(yd.updateQueue=null,yd.memoizedState=null)}var Wd=wf(Ta);if(null!==Wd){Wd.flags&=-257;Gf(Wd,Ta,Vb,fa,d);Wd.mode&1&&Wf(fa,Uc,d);d=Wd;mc=Uc;var ge=d.updateQueue;if(null===ge){var le=new Set;le.add(mc);d.updateQueue=le}else ge.add(mc);break a}else{if(0===(d&1)){Wf(fa,Uc,d);je();break a}mc=Error(t(426))}}else if(Zf&&Vb.mode&1){var eg=wf(Ta);if(null!==eg){0===(eg.flags&65536)&&(eg.flags|=256);Gf(eg,Ta,Vb,fa,d);me(qe(mc,Vb));break a}}fa=mc=qe(mc,Vb);
4!==Lf&&(Lf=2);null===Ah?Ah=[fa]:Ah.push(fa);fa=Ta;do{switch(fa.tag){case 3:fa.flags|=65536;d&=-d;fa.lanes|=d;var Gc=ff(fa,mc,d);Zc(fa,Gc);break a;case 1:Vb=mc;var vc=fa.type,Qc=fa.stateNode;if(0===(fa.flags&128)&&("function"===typeof vc.getDerivedStateFromError||null!==Qc&&"function"===typeof Qc.componentDidCatch&&(null===qi||!qi.has(Qc)))){fa.flags|=65536;d&=-d;fa.lanes|=d;var Jd=We(fa,Vb,d);Zc(fa,Jd);break a}}fa=fa.return}while(null!==fa)}Ef(k)}catch(fe){d=fe;xg===k&&null!==k&&(xg=k.return);continue}break}while(1)}
function zd(){var c=sk.current;sk.current=Kj;return null===c?Kj:c}function je(){if(0===Lf||3===Lf||2===Lf)Lf=4;null===sg||0===(uf&268435455)&&0===(mf&268435455)||bb(sg,Sg)}function Ge(c,d){var k=hf;hf|=2;var u=zd();if(sg!==c||Sg!==d)vi=null,rd(c,d);do try{for(;null!==xg;)Pe(xg);break}catch(S){Wc(c,S)}while(1);Gj=oi=Gi=null;hf=k;sk.current=u;if(null!==xg)throw Error(t(261));sg=null;Sg=0;return Lf}function Pe(c){var d=al(c.alternate,c,xh);c.memoizedProps=c.pendingProps;null===d?Ef(c):xg=d;$k.current=
null}function Ef(c){var d=c;do{var k=d.alternate;c=d.return;if(0===(d.flags&32768)){if(k=Zi(k,d,xh),null!==k){xg=k;return}}else{k=fi(k,d);if(null!==k){k.flags&=32767;xg=k;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Lf=6;xg=null;return}}d=d.sibling;if(null!==d){xg=d;return}xg=d=c}while(null!==d);0===Lf&&(Lf=5)}function Te(c,d,k){var u=yf,S=Jh.transition;try{Jh.transition=null,yf=1,Jg(c,d,k,u)}finally{Jh.transition=S,yf=u}return null}function Jg(c,d,k,u){do we();while(null!==
wi);if(0!==(hf&6))throw Error(t(327));k=c.finishedWork;var S=c.finishedLanes;if(null===k)return null;c.finishedWork=null;c.finishedLanes=0;if(k===c.current)throw Error(t(177));c.callbackNode=null;c.callbackPriority=0;var fa=k.lanes|k.childLanes;Ob(c,fa);c===sg&&(xg=sg=null,Sg=0);0===(k.subtreeFlags&2064)&&0===(k.flags&2064)||Nj||(Nj=!0,qh(Ri,function(){we();return null}));fa=0!==(k.flags&15990);if(0!==(k.subtreeFlags&15990)||fa){fa=Jh.transition;Jh.transition=null;var Ta=yf;yf=1;var Vb=hf;hf|=4;$k.current=
null;Lj(c,k);ah(k,c);qc(Wk);Xj=!!Vk;Wk=Vk=null;c.current=k;Ih(k,c,S);cm();hf=Vb;yf=Ta;Jh.transition=fa}else c.current=k;Nj&&(Nj=!1,wi=c,$i=S);fa=c.pendingLanes;0===fa&&(qi=null);Xa(k.stateNode,u);bc(c,jg());if(null!==d)for(u=c.onRecoverableError,k=0;k<d.length;k++)S=d[k],u(S.value,{componentStack:S.stack,digest:S.digest});if(nk)throw nk=!1,c=ok,ok=null,c;0!==($i&1)&&0!==c.tag&&we();fa=c.pendingLanes;0!==(fa&1)?c===rk?ti++:(ti=0,rk=c):ti=0;ld();return null}function we(){if(null!==wi){var c=hd($i),
d=Jh.transition,k=yf;try{Jh.transition=null;yf=16>c?16:c;if(null===wi)var u=!1;else{c=wi;wi=null;$i=0;if(0!==(hf&6))throw Error(t(331));var S=hf;hf|=4;for(ee=c.current;null!==ee;){var fa=ee,Ta=fa.child;if(0!==(ee.flags&16)){var Vb=fa.deletions;if(null!==Vb){for(var mc=0;mc<Vb.length;mc++){var Uc=Vb[mc];for(ee=Uc;null!==ee;){var yd=ee;switch(yd.tag){case 0:case 11:case 15:yh(8,yd,fa)}var Cd=yd.child;if(null!==Cd)Cd.return=yd,ee=Cd;else for(;null!==ee;){yd=ee;var wd=yd.sibling,Wd=yd.return;mg(yd);if(yd===
Uc){ee=null;break}if(null!==wd){wd.return=Wd;ee=wd;break}ee=Wd}}}var ge=fa.alternate;if(null!==ge){var le=ge.child;if(null!==le){ge.child=null;do{var eg=le.sibling;le.sibling=null;le=eg}while(null!==le)}}ee=fa}}if(0!==(fa.subtreeFlags&2064)&&null!==Ta)Ta.return=fa,ee=Ta;else a:for(;null!==ee;){fa=ee;if(0!==(fa.flags&2048))switch(fa.tag){case 0:case 11:case 15:yh(9,fa,fa.return)}var Gc=fa.sibling;if(null!==Gc){Gc.return=fa.return;ee=Gc;break a}ee=fa.return}}var vc=c.current;for(ee=vc;null!==ee;){Ta=
ee;var Qc=Ta.child;if(0!==(Ta.subtreeFlags&2064)&&null!==Qc)Qc.return=Ta,ee=Qc;else a:for(Ta=vc;null!==ee;){Vb=ee;if(0!==(Vb.flags&2048))try{switch(Vb.tag){case 0:case 11:case 15:Gh(9,Vb)}}catch(fe){sf(Vb,Vb.return,fe)}if(Vb===Ta){ee=null;break a}var Jd=Vb.sibling;if(null!==Jd){Jd.return=Vb.return;ee=Jd;break a}ee=Vb.return}}hf=S;ld();if(Xh&&"function"===typeof Xh.onPostCommitFiberRoot)try{Xh.onPostCommitFiberRoot(Cj,c)}catch(fe){}u=!0}return u}finally{yf=k,Jh.transition=d}}return!1}function Re(c,
d,k){d=qe(k,d);d=ff(c,d,1);c=wc(c,d,1);d=La();null!==c&&(Mb(c,1,d),bc(c,d))}function sf(c,d,k){if(3===c.tag)Re(c,c,k);else for(;null!==d;){if(3===d.tag){Re(d,c,k);break}else if(1===d.tag){var u=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof u.componentDidCatch&&(null===qi||!qi.has(u))){c=qe(k,c);c=We(d,c,1);d=wc(d,c,1);c=La();null!==d&&(Mb(d,1,c),bc(d,c));break}}d=d.return}}function Hg(c,d,k){var u=c.pingCache;null!==u&&u.delete(d);d=La();c.pingedLanes|=c.suspendedLanes&
k;sg===c&&(Sg&k)===k&&(4===Lf||3===Lf&&(Sg&130023424)===Sg&&500>jg()-Vh?rd(c,0):Tg|=k);bc(c,d)}function Kh(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Oj,Oj<<=1,0===(Oj&130023424)&&(Oj=4194304)));var k=La();c=Xb(c,d);null!==c&&(Mb(c,d,k),bc(c,k))}function vg(c){var d=c.memoizedState,k=0;null!==d&&(k=d.retryLane);Kh(c,k)}function ph(c,d){var k=0;switch(c.tag){case 13:var u=c.stateNode,S=c.memoizedState;null!==S&&(k=S.retryLane);break;case 19:u=c.stateNode;break;default:throw Error(t(314));}null!==u&&u.delete(d);
Kh(c,k)}function qh(c,d){return ik(c,d)}function nf(c,d,k,u){this.tag=c;this.key=k;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=u;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Ue(c,d,k,u){return new nf(c,d,k,u)}function Xg(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function Lh(c){if("function"===typeof c)return Xg(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Ae)return 11;if(c===Pf)return 14}return 2}function $f(c,d){var k=c.alternate;null===k?(k=Ue(c.tag,d,c.key,c.mode),k.elementType=c.elementType,k.type=c.type,k.stateNode=c.stateNode,k.alternate=c,c.alternate=k):(k.pendingProps=d,k.type=c.type,k.flags=0,k.subtreeFlags=0,k.deletions=null);k.flags=c.flags&14680064;k.childLanes=c.childLanes;k.lanes=c.lanes;k.child=c.child;k.memoizedProps=c.memoizedProps;
k.memoizedState=c.memoizedState;k.updateQueue=c.updateQueue;d=c.dependencies;k.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};k.sibling=c.sibling;k.index=c.index;k.ref=c.ref;return k}function qg(c,d,k,u,S,fa){var Ta=2;u=c;if("function"===typeof c)Xg(c)&&(Ta=1);else if("string"===typeof c)Ta=5;else a:switch(c){case ad:return fg(k.children,S,fa,d);case od:Ta=8;S|=8;break;case Bc:return c=Ue(12,k,d,S|2),c.elementType=Bc,c.lanes=fa,c;case Td:return c=Ue(13,k,d,S),c.elementType=
Td,c.lanes=fa,c;case Xe:return c=Ue(19,k,d,S),c.elementType=Xe,c.lanes=fa,c;case yg:return Eg(k,S,fa,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case Dd:Ta=10;break a;case ae:Ta=9;break a;case Ae:Ta=11;break a;case Pf:Ta=14;break a;case Bf:Ta=16;u=null;break a}throw Error(t(130,null==c?c:typeof c,""));}d=Ue(Ta,k,d,S);d.elementType=c;d.type=u;d.lanes=fa;return d}function fg(c,d,k,u){c=Ue(7,c,u,d);c.lanes=k;return c}function Eg(c,d,k,u){c=Ue(22,c,u,d);c.elementType=yg;c.lanes=k;c.stateNode=
{isHidden:!1};return c}function lj(c,d,k){c=Ue(6,c,null,d);c.lanes=k;return c}function mj(c,d,k){d=Ue(4,null!==c.children?c.children:[],c.key,d);d.lanes=k;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function tk(c,d,k,u,S){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=
$b(0);this.expirationTimes=$b(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=$b(0);this.identifierPrefix=u;this.onRecoverableError=S;this.mutableSourceEagerHydrationData=null}function aj(c,d,k,u,S,fa,Ta,Vb,mc){c=new tk(c,d,k,Vb,mc);1===d?(d=1,!0===fa&&(d|=8)):d=0;fa=Ue(3,null,null,d);c.current=fa;fa.stateNode=c;fa.memoizedState={element:u,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null};
cc(fa);return c}function cg(c,d,k){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:uc,key:null==u?null:""+u,children:c,containerInfo:d,implementation:k}}function uk(c){if(!c)return kg;c=c._reactInternals;a:{if(ta(c)!==c||1!==c.tag)throw Error(t(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(Qa(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(t(171));}if(1===c.tag){var k=
c.type;if(Qa(k))return sc(c,k,d)}return d}function vj(c,d,k,u,S,fa,Ta,Vb,mc){c=aj(k,u,!0,c,S,fa,Ta,Vb,mc);c.context=uk(null);k=c.current;u=La();S=zb(k);fa=tc(u,S);fa.callback=void 0!==d&&null!==d?d:null;wc(k,fa,S);c.current.lanes=S;Mb(c,S,u);bc(c,u);return c}function kh(c,d,k,u){var S=d.current,fa=La(),Ta=zb(S);k=uk(k);null===d.context?d.context=k:d.pendingContext=k;d=tc(fa,Ta);d.payload={element:c};u=void 0===u?null:u;null!==u&&(d.callback=u);c=wc(S,d,Ta);null!==c&&(yb(c,S,Ta,fa),Ic(c,S,Ta));return Ta}
function Oi(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Pj(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var k=c.retryLane;c.retryLane=0!==k&&k<d?k:d}}function wj(c,d){Pj(c,d);(c=c.alternate)&&Pj(c,d)}function bl(){return null}function Pi(c){this._internalRoot=c}function xi(c){this._internalRoot=c}function Qj(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}function yi(c){return!(!c||
1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Rj(){}function vk(c,d,k,u,S){if(S){if("function"===typeof u){var fa=u;u=function(){var Uc=Oi(Ta);fa.call(Uc)}}var Ta=vj(d,u,c,0,null,!1,!1,"",Rj);c._reactRootContainer=Ta;c[Zh]=Ta.current;he(8===c.nodeType?c.parentNode:c);xc();return Ta}for(;S=c.lastChild;)c.removeChild(S);if("function"===typeof u){var Vb=u;u=function(){var Uc=Oi(mc);Vb.call(Uc)}}var mc=aj(c,0,!1,null,null,!1,
!1,"",Rj);c._reactRootContainer=mc;c[Zh]=mc.current;he(8===c.nodeType?c.parentNode:c);xc(function(){kh(d,mc,k,u)});return mc}function bj(c,d,k,u,S){var fa=k._reactRootContainer;if(fa){var Ta=fa;if("function"===typeof S){var Vb=S;S=function(){var mc=Oi(Ta);Vb.call(mc)}}kh(d,Ta,c,S)}else Ta=vk(k,d,c,S,u);return Oi(Ta)}var gi=nb(2),zg=nb(5),hi=new Set,Wh={},Mh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),m=Object.prototype.hasOwnProperty,
H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L={},ma={},Ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Ra[c]=
new dc(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];Ra[d]=new dc(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Ra[c]=new dc(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Ra[c]=new dc(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Ra[c]=
new dc(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Ra[c]=new dc(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Ra[c]=new dc(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Ra[c]=new dc(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Ra[c]=new dc(c,5,!1,c.toLowerCase(),null,!1,!1)});var cb=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(cb,Wb);Ra[d]=new dc(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(cb,Wb);Ra[d]=new dc(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(cb,Wb);Ra[d]=new dc(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Ra[c]=new dc(c,1,!1,c.toLowerCase(),null,!1,!1)});Ra.xlinkHref=
new dc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Ra[c]=new dc(c,1,!1,c.toLowerCase(),null,!0,!0)});var mb=gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jb=Symbol.for("react.element"),uc=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),ae=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),
Td=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Pf=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var yg=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Ug=Symbol.iterator,He=Object.assign,ze,Of=!1,Dh=Array.isArray,Zd,Hd=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,k,u,S){MSApp.execUnsafeLocalFunction(function(){return c(d,
k,u,S)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{Zd=Zd||document.createElement("div");Zd.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=Zd.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kd=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(c){Kd.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);ce[d]=ce[c]})});var xf=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Yf=null,Cf=null,Qf=null,Lg=null,sh=!1,ek=!1;if(Mh)try{var cj={};Object.defineProperty(cj,"passive",{get:function(){ek=!0}});window.addEventListener("test",cj,cj);window.removeEventListener("test",cj,cj)}catch(c){ek=!1}var bh=!1,Aj=null,Bj=!1,Uj=null,Kl={onError:function(c){bh=!0;Aj=c}},ik=zg.unstable_scheduleCallback,
ui=zg.unstable_cancelCallback,Yk=zg.unstable_shouldYield,cm=zg.unstable_requestPaint,jg=zg.unstable_now,Ek=zg.unstable_getCurrentPriorityLevel,Fk=zg.unstable_ImmediatePriority,Zj=zg.unstable_UserBlockingPriority,Ri=zg.unstable_NormalPriority,ml=zg.unstable_LowPriority,Gk=zg.unstable_IdlePriority,Cj=null,Xh=null,Oh=Math.clz32?Math.clz32:sb,jl=Math.log,Ll=Math.LN2,Dj=64,Oj=4194304,yf=0,Vj=!1,Wj=[],Bi=null,ii=null,Ci=null,ej=new Map,fj=new Map,ji=[],ll="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
gj=mb.ReactCurrentBatchConfig,Xj=!0,Yj=null,Di=null,Hk=null,ak=null,dj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=Da(dj),lh=He({},dj,{view:0,detail:0}),Rk=Da(lh),Qi,wk,Sj,xk=He({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Sj&&(Sj&&"mousemove"===c.type?(Qi=c.screenX-Sj.screenX,wk=c.screenY-Sj.screenY):wk=Qi=0,Sj=c);return Qi},movementY:function(c){return"movementY"in c?c.movementY:wk}}),Ok=Da(xk),Al=He({},xk,{dataTransfer:0}),Pk=Da(Al),yk=He({},lh,{relatedTarget:0}),Nk=Da(yk),cl=He({},dj,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=Da(cl),dm=He({},dj,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),gk=Da(dm),em=He({},dj,{data:0}),ql=Da(em),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},hm=He({},lh,{key:function(c){if(c.key){var d=fm[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=r(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?gm[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kb,charCode:function(c){return"keypress"===c.type?r(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?r(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Rl=Da(hm),dl=He({},xk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Da(dl),im=He({},lh,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kb}),Sl=Da(im),jm=He({},dj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qk=Da(jm),el=He({},xk,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Tl=Da(el),Ee=[9,13,27,32],ud=Mh&&"CompositionEvent"in window,og=null;Mh&&"documentMode"in document&&(og=document.documentMode);
var Fi=Mh&&"TextEvent"in window&&!og,Jk=Mh&&(!ud||og&&8<og&&11>=og),Ik=String.fromCharCode(32),bk=!1,ki=!1,Pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Si=null,hj=null,th=!1;if(Mh){if(Mh){var xj="oninput"in document;if(!xj){var Bl=document.createElement("div");Bl.setAttribute("oninput","return;");xj="function"===typeof Bl.oninput}var Tj=xj}else Tj=!1;th=Tj&&(!document.documentMode||9<document.documentMode)}var Ph=
"function"===typeof Object.is?Object.is:I,hk=Mh&&"documentMode"in document&&11>=document.documentMode,ij=null,Kk=null,Ej=null,Mg=!1,Ei={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},Lk={},ck={};Mh&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),
"TransitionEvent"in window||delete Ei.transitionend.transition);for(var Qh=bd("animationend"),fk=bd("animationiteration"),nl=bd("animationstart"),Ti=bd("transitionend"),Yh=new Map,fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
gl=0;gl<fl.length;gl++){var Nh=fl[gl],zk=Nh.toLowerCase(),Cl=Nh[0].toUpperCase()+Nh.slice(1);md(zk,"on"+Cl)}md(Qh,"onAnimationEnd");md(fk,"onAnimationIteration");md(nl,"onAnimationStart");md("dblclick","onDoubleClick");md("focusin","onFocus");md("focusout","onBlur");md(Ti,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h("onBeforeInput",["compositionend","keypress","textInput","paste"]);h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ql=new Set("cancel close invalid load scroll toggle".split(" ").concat(sj)),dk="_reactListening"+Math.random().toString(36).slice(2),Ul=/\r\n?/g,Vl=/\u0000|\uFFFD/g,Vk=null,Wk=null,Zk="function"===typeof setTimeout?setTimeout:void 0,bm="function"===typeof clearTimeout?clearTimeout:void 0,Ak="function"===typeof Promise?Promise:void 0,zl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ak?function(c){return Ak.resolve(null).then(c).catch(rc)}:Zk,zi=Math.random().toString(36).slice(2),
Rh="__reactFiber$"+zi,Fj="__reactProps$"+zi,Zh="__reactContainer$"+zi,Mk="__reactEvents$"+zi,xl="__reactListeners$"+zi,Xk="__reactHandles$"+zi,Sk=[],jj=-1,kg={},Fg=Ld(kg),ch=Ld(!1),li=kg,pg=null,$h=!1,Tk=!1,kj=[],Eh=0,kk=null,jk=0,Jf=[],uh=0,ai=null,Fh=1,mi="",Vg=null,Wg=null,Zf=!1,mh=null,yl=mb.ReactCurrentBatchConfig,Ii=p(!0),tl=p(!1),nj=Ld(null),Gi=null,oi=null,Gj=null,Ui=null,pi=!1,oj={},bi=Ld(oj),qj=Ld(oj),pj=Ld(oj),Hf=Ld(0),Hi=[],Hj=mb.ReactCurrentDispatcher,lk=mb.ReactCurrentBatchConfig,Vi=
0,zf=null,rg=null,Bg=null,Wi=!1,Ij=!1,Jj=0,km=0,Kj={readContext:va,useCallback:$d,useContext:$d,useEffect:$d,useImperativeHandle:$d,useInsertionEffect:$d,useLayoutEffect:$d,useMemo:$d,useReducer:$d,useRef:$d,useState:$d,useDebugValue:$d,useDeferredValue:$d,useTransition:$d,useMutableSource:$d,useSyncExternalStore:$d,useId:$d,unstable_isNewReconciler:!1},Xl={readContext:va,useCallback:function(c,d){ve().memoizedState=[c,void 0===d?null:d];return c},useContext:va,useEffect:Af,useImperativeHandle:function(c,
d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return jf(4194308,4,Dg.bind(null,d,c),k)},useLayoutEffect:function(c,d){return jf(4194308,4,c,d)},useInsertionEffect:function(c,d){return jf(4,2,c,d)},useMemo:function(c,d){var k=ve();d=void 0===d?null:d;c=c();k.memoizedState=[c,d];return c},useReducer:function(c,d,k){var u=ve();d=void 0!==k?k(d):d;u.memoizedState=u.baseState=d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};u.queue=c;c=c.dispatch=Ve.bind(null,
zf,c);return[u.memoizedState,c]},useRef:function(c){var d=ve();c={current:c};return d.memoizedState=c},useState:qf,useDebugValue:Ka,useDeferredValue:function(c){return ve().memoizedState=c},useTransition:function(){var c=qf(!1),d=c[0];c=Pd.bind(null,c[1]);ve().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,k){var u=zf,S=ve();if(Zf){if(void 0===k)throw Error(t(407));k=k()}else{k=d();if(null===sg)throw Error(t(349));0!==(Vi&30)||pf(u,d,k)}S.memoizedState=
k;var fa={value:k,getSnapshot:d};S.queue=fa;Af(Kf.bind(null,u,fa,c),[c]);u.flags|=2048;vf(9,lg.bind(null,u,fa,k,d),void 0,null);return k},useId:function(){var c=ve(),d=sg.identifierPrefix;if(Zf){var k=mi,u=Fh;k=(u&~(1<<32-Oh(u)-1)).toString(32)+k;d=":"+d+"R"+k;k=Jj++;0<k&&(d+="H"+k.toString(32));d+=":"}else k=km++,d=":"+d+"r"+k.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},rl={readContext:va,useCallback:lb,useContext:va,useEffect:vh,useImperativeHandle:U,useInsertionEffect:Gg,
useLayoutEffect:Cg,useMemo:Jc,useReducer:Sf,useRef:Ff,useState:function(){return Sf(Se)},useDebugValue:Ka,useDeferredValue:function(c){var d=Ne();return Kc(d,rg.memoizedState,c)},useTransition:function(){var c=Sf(Se)[0],d=Ne().memoizedState;return[c,d]},useMutableSource:Oe,useSyncExternalStore:Df,useId:se,unstable_isNewReconciler:!1},sl={readContext:va,useCallback:lb,useContext:va,useEffect:vh,useImperativeHandle:U,useInsertionEffect:Gg,useLayoutEffect:Cg,useMemo:Jc,useReducer:td,useRef:Ff,useState:function(){return td(Se)},
useDebugValue:Ka,useDeferredValue:function(c){var d=Ne();return null===rg?d.memoizedState=c:Kc(d,rg.memoizedState,c)},useTransition:function(){var c=td(Se)[0],d=Ne().memoizedState;return[c,d]},useMutableSource:Oe,useSyncExternalStore:Df,useId:se,unstable_isNewReconciler:!1},mk={isMounted:function(c){return(c=c._reactInternals)?ta(c)===c:!1},enqueueSetState:function(c,d,k){c=c._reactInternals;var u=La(),S=zb(c),fa=tc(u,S);fa.payload=d;void 0!==k&&null!==k&&(fa.callback=k);d=wc(c,fa,S);null!==d&&(yb(d,
c,S,u),Ic(d,c,S))},enqueueReplaceState:function(c,d,k){c=c._reactInternals;var u=La(),S=zb(c),fa=tc(u,S);fa.tag=1;fa.payload=d;void 0!==k&&null!==k&&(fa.callback=k);d=wc(c,fa,S);null!==d&&(yb(d,c,S,u),Ic(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var k=La(),u=zb(c),S=tc(k,u);S.tag=2;void 0!==d&&null!==d&&(S.callback=d);d=wc(c,S,u);null!==d&&(yb(d,c,u,k),Ic(d,c,u))}},Yl="function"===typeof WeakMap?WeakMap:Map,ul=mb.ReactCurrentOwner,dh=!1,Uk={dehydrated:null,treeContext:null,retryLane:0};
var Zl=function(c,d){for(var k=d.child;null!==k;){if(5===k.tag||6===k.tag)c.appendChild(k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===d)break;for(;null===k.sibling;){if(null===k.return||k.return===d)return;k=k.return}k.sibling.return=k.return;k=k.sibling}};var ei=function(){};var vl=function(c,d,k,u){var S=c.memoizedProps;if(S!==u){c=d.stateNode;Sd(bi.current);var fa=null;switch(k){case "input":S=ia(c,S);u=ia(c,u);fa=[];break;case "select":S=He({},S,{value:void 0});
u=He({},u,{value:void 0});fa=[];break;case "textarea":S=qb(c,S);u=qb(c,u);fa=[];break;default:"function"!==typeof S.onClick&&"function"===typeof u.onClick&&(c.onclick=eb)}qa(k,u);var Ta;k=null;for(Uc in S)if(!u.hasOwnProperty(Uc)&&S.hasOwnProperty(Uc)&&null!=S[Uc])if("style"===Uc){var Vb=S[Uc];for(Ta in Vb)Vb.hasOwnProperty(Ta)&&(k||(k={}),k[Ta]="")}else"dangerouslySetInnerHTML"!==Uc&&"children"!==Uc&&"suppressContentEditableWarning"!==Uc&&"suppressHydrationWarning"!==Uc&&"autoFocus"!==Uc&&(Wh.hasOwnProperty(Uc)?
fa||(fa=[]):(fa=fa||[]).push(Uc,null));for(Uc in u){var mc=u[Uc];Vb=null!=S?S[Uc]:void 0;if(u.hasOwnProperty(Uc)&&mc!==Vb&&(null!=mc||null!=Vb))if("style"===Uc)if(Vb){for(Ta in Vb)!Vb.hasOwnProperty(Ta)||mc&&mc.hasOwnProperty(Ta)||(k||(k={}),k[Ta]="");for(Ta in mc)mc.hasOwnProperty(Ta)&&Vb[Ta]!==mc[Ta]&&(k||(k={}),k[Ta]=mc[Ta])}else k||(fa||(fa=[]),fa.push(Uc,k)),k=mc;else"dangerouslySetInnerHTML"===Uc?(mc=mc?mc.__html:void 0,Vb=Vb?Vb.__html:void 0,null!=mc&&Vb!==mc&&(fa=fa||[]).push(Uc,mc)):"children"===
Uc?"string"!==typeof mc&&"number"!==typeof mc||(fa=fa||[]).push(Uc,""+mc):"suppressContentEditableWarning"!==Uc&&"suppressHydrationWarning"!==Uc&&(Wh.hasOwnProperty(Uc)?(null!=mc&&"onScroll"===Uc&&kd("scroll",c),fa||Vb===mc||(fa=[])):(fa=fa||[]).push(Uc,mc))}k&&(fa=fa||[]).push("style",k);var Uc;if(d.updateQueue=fa)d.flags|=4}};var wl=function(c,d,k,u){k!==u&&(d.flags|=4)};var qk=!1,$g=!1,$l="function"===typeof WeakSet?WeakSet:Set,ee=null,pk=!1,Rg=null,Uh=!1,am=Math.ceil,sk=mb.ReactCurrentDispatcher,
$k=mb.ReactCurrentOwner,Jh=mb.ReactCurrentBatchConfig,hf=0,sg=null,xg=null,Sg=0,xh=0,rj=Ld(0),Lf=0,Mj=null,uf=0,mf=0,Tg=0,Ah=null,rh=null,Vh=0,tj=Infinity,vi=null,nk=!1,ok=null,qi=null,Nj=!1,wi=null,$i=0,ti=0,rk=null,Ni=-1,uj=0;var al=function(c,d,k){if(null!==c)if(c.memoizedProps!==d.pendingProps||ch.current)dh=!0;else{if(0===(c.lanes&k)&&0===(d.flags&128))return dh=!1,Th(c,d,k);dh=0!==(c.flags&131072)?!0:!1}else dh=!1,Zf&&0!==(d.flags&1048576)&&oe(d,jk,d.index);d.lanes=0;switch(d.tag){case 2:var u=
d.type;oh(c,d);c=d.pendingProps;var S=Ca(d,Fg.current);pa(d,k);S=Rd(null,d,u,c,S,k);var fa=Vd();d.flags|=1;"object"===typeof S&&null!==S&&"function"===typeof S.render&&void 0===S.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Qa(u)?(fa=!0,Mc(d)):fa=!1,d.memoizedState=null!==S.state&&void 0!==S.state?S.state:null,cc(d),S.updater=mk,d.stateNode=S,S._reactInternals=d,Qd(d,u,c,k),d=Qg(null,d,u,!0,fa,k)):(d.tag=0,Zf&&fa&&cf(d),gf(null,d,S,k),d=d.child);return d;case 16:u=d.elementType;a:{oh(c,
d);c=d.pendingProps;S=u._init;u=S(u._payload);d.type=u;S=d.tag=Lh(u);c=Vf(u,c);switch(S){case 0:d=wh(null,d,u,c,k);break a;case 1:d=Pg(null,d,u,c,k);break a;case 11:d=Ng(null,d,u,c,k);break a;case 14:d=Og(null,d,u,Vf(u.type,c),k);break a}throw Error(t(306,u,""));}return d;case 0:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Vf(u,S),wh(c,d,u,S,k);case 1:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Vf(u,S),Pg(c,d,u,S,k);case 3:a:{Sh(d);if(null===c)throw Error(t(387));u=d.pendingProps;
fa=d.memoizedState;S=fa.element;nc(c,d);Yc(d,u,null,k);var Ta=d.memoizedState;u=Ta.element;if(fa.isDehydrated)if(fa={element:u,isDehydrated:!1,cache:Ta.cache,pendingSuspenseBoundaries:Ta.pendingSuspenseBoundaries,transitions:Ta.transitions},d.updateQueue.baseState=fa,d.memoizedState=fa,d.flags&256){S=qe(Error(t(423)),d);de();me(S);d.flags|=256;gf(c,d,u,k);d=d.child;break a}else if(u!==S){S=qe(Error(t(424)),d);de();me(S);d.flags|=256;gf(c,d,u,k);d=d.child;break a}else for(Wg=Sc(d.stateNode.containerInfo.firstChild),
Vg=d,Zf=!0,mh=null,k=tl(d,null,u,k),d.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{de();if(u===S){d=fh(c,d,k);break a}gf(c,d,u,k)}d=d.child}return d;case 5:return ue(d),null===c&&Ke(d),u=d.type,S=d.pendingProps,fa=null!==c?c.memoizedProps:null,Ta=S.children,Gb(u,S)?Ta=null:null!==fa&&Gb(u,fa)&&(d.flags|=32),ci(c,d),gf(c,d,Ta,k),d.child;case 6:return null===c&&Ke(d),null;case 13:return Ji(c,d,k);case 4:return Rc(d,d.stateNode.containerInfo),u=d.pendingProps,null===c?d.child=Ii(d,null,u,k):gf(c,
d,u,k),d.child;case 11:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Vf(u,S),Ng(c,d,u,S,k);case 7:return gf(c,d,d.pendingProps,k),d.child;case 8:return gf(c,d,d.pendingProps.children,k),d.child;case 12:return gf(c,d,d.pendingProps.children,k),d.child;case 10:a:{u=d.type._context;S=d.pendingProps;fa=d.memoizedProps;Ta=S.value;Xd(nj,u._currentValue);u._currentValue=Ta;if(null!==fa)if(Ph(fa.value,Ta)){if(fa.children===S.children&&!ch.current){d=fh(c,d,k);break a}}else for(fa=d.child,null!==
fa&&(fa.return=d);null!==fa;){var Vb=fa.dependencies;if(null!==Vb){Ta=fa.child;for(var mc=Vb.firstContext;null!==mc;){if(mc.context===u){if(1===fa.tag){mc=tc(-1,k&-k);mc.tag=2;var Uc=fa.updateQueue;if(null!==Uc){Uc=Uc.shared;var yd=Uc.pending;null===yd?mc.next=mc:(mc.next=yd.next,yd.next=mc);Uc.pending=mc}}fa.lanes|=k;mc=fa.alternate;null!==mc&&(mc.lanes|=k);Y(fa.return,k,d);Vb.lanes|=k;break}mc=mc.next}}else if(10===fa.tag)Ta=fa.type===d.type?null:fa.child;else if(18===fa.tag){Ta=fa.return;if(null===
Ta)throw Error(t(341));Ta.lanes|=k;Vb=Ta.alternate;null!==Vb&&(Vb.lanes|=k);Y(Ta,k,d);Ta=fa.sibling}else Ta=fa.child;if(null!==Ta)Ta.return=fa;else for(Ta=fa;null!==Ta;){if(Ta===d){Ta=null;break}fa=Ta.sibling;if(null!==fa){fa.return=Ta.return;Ta=fa;break}Ta=Ta.return}fa=Ta}gf(c,d,S.children,k);d=d.child}return d;case 9:return S=d.type,u=d.pendingProps.children,pa(d,k),S=va(S),u=u(S),d.flags|=1,gf(c,d,u,k),d.child;case 14:return u=d.type,S=Vf(u,d.pendingProps),S=Vf(u.type,S),Og(c,d,u,S,k);case 15:return nh(c,
d,d.type,d.pendingProps,k);case 17:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Vf(u,S),oh(c,d),d.tag=1,Qa(u)?(c=!0,Mc(d)):c=!1,pa(d,k),tg(d,u,S),Qd(d,u,S,k),Qg(null,d,u,!0,c,k);case 19:return Mi(c,d,k);case 22:return Xf(c,d,k)}throw Error(t(156,d.tag));};var Dl="function"===typeof reportError?reportError:function(c){console.error(c)};xi.prototype.render=Pi.prototype.render=function(c){var d=this._internalRoot;if(null===d)throw Error(t(409));kh(c,d,null,null)};xi.prototype.unmount=Pi.prototype.unmount=
function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;xc(function(){kh(null,c,null,null)});d[Zh]=null}};xi.prototype.unstable_scheduleHydration=function(c){if(c){var d=El();c={blockedOn:null,target:c,priority:d};for(var k=0;k<ji.length&&0!==d&&d<ji[k].priority;k++);ji.splice(k,0,c);0===k&&xb(c)}};var Nl=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var k=ib(d.pendingLanes);0!==k&&(yc(d,k|1),bc(d,jg()),0===(hf&6)&&
(tj=jg()+500,ld()))}break;case 13:xc(function(){var u=Xb(c,1);if(null!==u){var S=La();yb(u,c,1,S)}}),wj(c,1)}};var Dk=function(c){if(13===c.tag){var d=Xb(c,134217728);if(null!==d){var k=La();yb(d,c,134217728,k)}wj(c,134217728)}};var Ml=function(c){if(13===c.tag){var d=zb(c),k=Xb(c,d);if(null!==k){var u=La();yb(k,c,d,u)}wj(c,d)}};var El=function(){return yf};var kl=function(c,d){var k=yf;try{return yf=c,d()}finally{yf=k}};Cf=function(c,d,k){switch(d){case "input":Wa(c,k);d=k.name;if("radio"===k.type&&
null!=d){for(k=c;k.parentNode;)k=k.parentNode;k=k.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<k.length;d++){var u=k[d];if(u!==c&&u.form===c.form){var S=Md(u);if(!S)throw Error(t(90));fc(u);Wa(u,S)}}}break;case "textarea":db(c,k);break;case "select":d=k.value,null!=d&&$a(c,!!k.multiple,d,!1)}};A=kc;W=xc;var lm={usingClientEntryPoint:!1,Events:[Oc,Nd,Md,v,Q,kc]},yj={findFiberByHostInstance:cd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ai=
{bundleType:yj.bundleType,version:yj.version,rendererPackageName:yj.rendererPackageName,rendererConfig:yj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mb.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=Na(c);return null===c?null:c.stateNode},findFiberByHostInstance:yj.findFiberByHostInstance||
bl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Cj=Bh.inject(Ai),Xh=Bh}catch(c){}}Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;Va.createPortal=function(c,d){var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qj(d))throw Error(t(200));
return cg(c,d,null,k)};Va.createRoot=function(c,d){if(!Qj(c))throw Error(t(299));var k=!1,u="",S=Dl;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(k=!0),void 0!==d.identifierPrefix&&(u=d.identifierPrefix),void 0!==d.onRecoverableError&&(S=d.onRecoverableError));d=aj(c,1,!1,null,null,k,!1,u,S);c[Zh]=d.current;he(8===c.nodeType?c.parentNode:c);return new Pi(d)};Va.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(t(188));
c=Object.keys(c).join(",");throw Error(t(268,c));}c=Na(d);return c=null===c?null:c.stateNode};Va.flushSync=function(c){return xc(c)};Va.hydrate=function(c,d,k){if(!yi(d))throw Error(t(200));return bj(null,c,d,!0,k)};Va.hydrateRoot=function(c,d,k){if(!Qj(c))throw Error(t(405));var u=null!=k&&k.hydratedSources||null,S=!1,fa="",Ta=Dl;null!==k&&void 0!==k&&(!0===k.unstable_strictMode&&(S=!0),void 0!==k.identifierPrefix&&(fa=k.identifierPrefix),void 0!==k.onRecoverableError&&(Ta=k.onRecoverableError));
d=vj(d,null,c,1,null!=k?k:null,S,!1,fa,Ta);c[Zh]=d.current;he(c);if(u)for(c=0;c<u.length;c++)k=u[c],S=k._getVersion,S=S(k._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[k,S]:d.mutableSourceEagerHydrationData.push(k,S);return new xi(d)};Va.render=function(c,d,k){if(!yi(d))throw Error(t(200));return bj(null,c,d,!1,k)};Va.unmountComponentAtNode=function(c){if(!yi(c))throw Error(t(40));return c._reactRootContainer?(xc(function(){bj(null,null,c,!1,function(){c._reactRootContainer=
null;c[Zh]=null})}),!0):!1};Va.unstable_batchedUpdates=kc;Va.unstable_renderSubtreeIntoContainer=function(c,d,k,u){if(!yi(k))throw Error(t(200));if(null==c||void 0===c._reactInternals)throw Error(t(38));return bj(c,d,k,!1,u)};Va.version="18.3.1-next-f1338f8080-20240426"};
shadow$provide[8]=function(Db,nb,Dc,Va){function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(h){console.error(h)}}t();Dc.exports=nb(6)};
shadow$provide[9]=function(Db,nb,Dc,Va){Db=nb(8);Va.createRoot=Db.createRoot;Va.hydrateRoot=Db.hydrateRoot};
shadow$provide[14]=function(Db,nb,Dc,Va){Dc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(Db,nb,Dc,Va){function t(){}function h(){}var ka=nb(14);h.resetWarningCache=t;Dc.exports=function(){function Ya(dc,Wb,oc,Ab,Tb,jc){if(jc!==ka)throw dc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),dc.name="Invariant Violation",dc;}function ub(){return Ya}Ya.isRequired=Ya;var Yb={array:Ya,bigint:Ya,bool:Ya,func:Ya,number:Ya,object:Ya,
string:Ya,symbol:Ya,any:Ya,arrayOf:ub,element:Ya,elementType:Ya,instanceOf:ub,node:Ya,objectOf:ub,oneOf:ub,oneOfType:ub,shape:ub,exact:ub,checkPropTypes:h,resetWarningCache:t};return Yb.PropTypes=Yb}};
shadow$provide[19]=function(Db,nb,Dc,Va){Dc.exports=nb(18)()};
shadow$provide[20]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(h,ka){void 0===h&&(h=t);void 0===ka&&(ka=t);const Ya=Object.keys(h),ub=Object.keys(ka);return h===ka||Ya.length===ub.length&&Ya.every(Yb=>h[Yb]===ka[Yb])};const t={}};
shadow$provide[21]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function h(G,w,z){G.fields=w||[];G.fname=z;return G}function ka(G){return null==G?null:G.fields}function Ya(G){return 1===G.length?Wa(G[0]):Ha(G)}function ub(G){throw Error(G);}function Yb(G){function w(){z.push(N+G.substring(la,wa));N="";la=wa+
1}const z=[],F=G.length;let V=null,ta=0,N="",la,wa,Na;G+="";for(la=wa=0;wa<F;++wa)(Na=G[wa],"\\"===Na)?(N+=G.substring(la,wa++),la=wa):Na===V?(w(),V=null,ta=-1):V||(la===ta&&'"'===Na?(la=wa+1,V=Na):la===ta&&"'"===Na?(la=wa+1,V=Na):"."!==Na||ta?"["===Na?(wa>la&&w(),ta=la=wa+1):"]"===Na&&(ta||ub("Access path missing open bracket: "+G),0<ta&&w(),ta=0,la=wa+1):wa>la?w():la=wa+1);ta&&ub("Access path missing closing bracket: "+G);V&&ub("Access path missing closing quote: "+G);wa>la&&(wa++,w());return z}
function dc(G,w,z){const F=Yb(G);G=1===F.length?F[0]:G;return h((z&&z.get||Ya)(F),[G],w||G)}function Wb(G,w,z){w=[w].concat([].slice.call(z));console[G].apply(console,w)}function oc(G){return G===Object(G)}function Ab(G,w,z,F){if("__proto__"!==w){var V;if(oc(z)&&!ba(z))for(V in G=oc(G[w])?G[w]:G[w]={},z)F&&(!0===F||F[V])?Ab(G,V,z[V]):"__proto__"!==V&&(G[V]=z[V]);else G[w]=z}}function Tb(G,w){function z(ta){F[ta.name]||(F[ta.name]=1,V.push(ta))}if(null==G)return w;const F={},V=[];w.forEach(z);G.forEach(z);
return V}function jc(G){return G[G.length-1]}function Ea(G){return null==G||""===G?null:+G}function Za(G,w,z,F){const V=z(G[0]);G=z(jc(G));w*=G-V;return[F(V-w),F(G-w)]}function tb(G,w,z,F,V){const ta=F(G[0]);G=F(jc(G));w=null!=w?F(w):(ta+G)/2;return[V(w+(ta-w)*z),V(w+(G-w)*z)]}function rb(G){return null!=G?ba(G)?G:[G]:[]}function pb(G){return"function"===typeof G}function vb(G){for(let w,z,F=1,V=arguments.length;F<V;++F)for(z in w=arguments[F],w)G[z]=w[z];return G}function gb(G,w){return Q.call(G,
w)}function fc(G){return"[object Date]"===Object.prototype.toString.call(G)}function sa(G){return"number"===typeof G}function ia(G){return"string"===typeof G}function Ba(G,w){let z="";for(;0<=--w;)z+=G;return z}function Sa(G){return ba(G)?"["+G.map(Sa)+"]":oc(G)||ia(G)?JSON.stringify(G).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):G}const Wa=G=>function(w){return w[G]},Ha=G=>{const w=G.length;return function(z){for(let F=0;F<w;++F)z=z[G[F]];return z}},hb=dc("id"),$a=h(G=>G,[],"identity"),
qb=h(()=>0,[],"zero"),Nb=h(()=>1,[],"one"),db=h(()=>!0,[],"true"),T=h(()=>!1,[],"false");var ba=Array.isArray;const ea=G=>w=>G*Math.exp(w),ja=G=>w=>Math.log(G*w),Ma=G=>w=>Math.sign(w)*Math.log1p(Math.abs(w/G)),oa=G=>w=>Math.sign(w)*Math.expm1(Math.abs(w))*G,qa=G=>w=>0>w?-Math.pow(-w,G):Math.pow(w,G),l=(G,w)=>(G<w||null==G)&&null!=w?-1:(G>w||null==w)&&null!=G?1:(w=w instanceof Date?+w:w,G=G instanceof Date?+G:G)!==G&&w===w?-1:w!==w&&G===G?1:0,D=(G,w)=>1===G.length?K(G[0],w[0]):v(G,w,G.length),K=(G,
w)=>function(z,F){return l(G(z),G(F))*w},v=(G,w,z)=>{w.push(0);return function(F,V){var ta=0;let N=-1;for(;0===ta&&++N<z;)ta=G[N],ta=l(ta(F),ta(V));return ta*w[N]}},Q=Object.prototype.hasOwnProperty,A={},W=G=>sa(G)?G:fc(G)?G:Date.parse(G);t.Debug=4;t.Error=1;t.Info=3;t.None=0;t.Warn=2;t.accessor=h;t.accessorFields=ka;t.accessorName=function(G){return null==G?null:G.fname};t.array=rb;t.ascending=l;t.clampRange=function(G,w,z){let F=G[0];G=G[1];let V;G<F&&(V=G,G=F,F=V);V=G-F;return V>=z-w?[w,z]:[F=
Math.min(Math.max(F,w),z-V),F+V]};t.compare=function(G,w,z){z=z||{};w=rb(w)||[];const F=[],V=[],ta={},N=z.comparator||D;rb(G).forEach((la,wa)=>{null!=la&&(F.push("descending"===w[wa]?-1:1),V.push(la=pb(la)?la:dc(la,null,z)),(ka(la)||[]).forEach(Na=>ta[Na]=1))});return 0===V.length?null:h(N(V,F),Object.keys(ta))};t.constant=function(G){return pb(G)?G:()=>G};t.debounce=function(G,w){let z;return F=>{z&&clearTimeout(z);z=setTimeout(()=>(w(F),z=null),G)}};t.error=ub;t.extend=vb;t.extent=function(G,w){let z=
0,F,V,ta,N;if(G&&(F=G.length))if(null==w){for(V=G[z];z<F&&(null==V||V!==V);V=G[++z]);for(ta=N=V;z<F;++z)V=G[z],null!=V&&(V<ta&&(ta=V),V>N&&(N=V))}else{for(V=w(G[z]);z<F&&(null==V||V!==V);V=w(G[++z]));for(ta=N=V;z<F;++z)V=w(G[z]),null!=V&&(V<ta&&(ta=V),V>N&&(N=V))}return[ta,N]};t.extentIndex=function(G,w){const z=G.length;let F=-1,V,ta,N,la,wa;if(null==w){for(;++F<z;)if(ta=G[F],null!=ta&&ta>=ta){V=N=ta;break}if(F===z)return[-1,-1];for(la=wa=F;++F<z;)ta=G[F],null!=ta&&(V>ta&&(V=ta,la=F),N<ta&&(N=ta,
wa=F))}else{for(;++F<z;)if(ta=w(G[F],F,G),null!=ta&&ta>=ta){V=N=ta;break}if(F===z)return[-1,-1];for(la=wa=F;++F<z;)ta=w(G[F],F,G),null!=ta&&(V>ta&&(V=ta,la=F),N<ta&&(N=ta,wa=F))}return[la,wa]};t.falsy=T;t.fastmap=function(G){function w(ta){return gb(z,ta)&&z[ta]!==A}let z={},F;const V={size:0,empty:0,object:z,has:w,get(ta){return w(ta)?z[ta]:void 0},set(ta,N){w(ta)||(++V.size,z[ta]===A&&--V.empty);z[ta]=N;return this},delete(ta){w(ta)&&(--V.size,++V.empty,z[ta]=A);return this},clear(){V.size=V.empty=
0;V.object=z={}},test(ta){return arguments.length?(F=ta,V):F},clean(){const ta={};let N=0;for(const la in z){const wa=z[la];wa===A||F&&F(wa)||(ta[la]=wa,++N)}V.size=N;V.empty=0;V.object=z=ta}};G&&Object.keys(G).forEach(ta=>{V.set(ta,G[ta])});return V};t.field=dc;t.flush=function(G,w,z,F,V,ta){if(!z&&0!==z)return ta;z=+z;let N=G[0],la=jc(G);la<N&&(G=N,N=la,la=G);G=Math.abs(w-N);w=Math.abs(la-w);return G<w&&G<=z?F:w<=z?V:ta};t.hasOwnProperty=gb;t.id=hb;t.identity=$a;t.inherits=function(G,w,z){w=G.prototype=
Object.create(w.prototype);Object.defineProperty(w,"constructor",{value:G,writable:!0,enumerable:!0,configurable:!0});return vb(w,z)};t.inrange=function(G,w,z,F){let V=w[0];w=w[w.length-1];let ta;V>w&&(ta=V,V=w,w=ta);return(void 0===z||z?V<=G:V<G)&&(void 0===F||F?G<=w:G<w)};t.isArray=ba;t.isBoolean=function(G){return"boolean"===typeof G};t.isDate=fc;t.isFunction=pb;t.isIterable=function(G){return G&&pb(G[Symbol.iterator])};t.isNumber=sa;t.isObject=oc;t.isRegExp=function(G){return"[object RegExp]"===
Object.prototype.toString.call(G)};t.isString=ia;t.key=function(G,w,z){G&&(G=w?rb(G).map(ta=>ta.replace(/\\(.)/g,"$1")):rb(G));const F=G&&G.length,V=z&&z.get||Ya;z=ta=>V(w?[ta]:Yb(ta));if(F)if(1===F){const ta=z(G[0]);z=function(N){return""+ta(N)}}else{const ta=G.map(z);z=function(N){let la=""+ta[0](N),wa=0;for(;++wa<F;)la+="|"+ta[wa](N);return la}}else z=function(){return""};return h(z,G,"key")};t.lerp=function(G,w){const z=G[0];G=jc(G);return(w=+w)?1===w?G:z+w*(G-z):z};t.logger=function(G,w,z=Wb){let F=
G||0;return{level(V){return arguments.length?(F=+V,this):F},error(){1<=F&&z(w||"error","ERROR",arguments);return this},warn(){2<=F&&z(w||"warn","WARN",arguments);return this},info(){3<=F&&z(w||"log","INFO",arguments);return this},debug(){4<=F&&z(w||"log","DEBUG",arguments);return this}}};t.lruCache=function(G){G=+G||1E4;let w,z,F;const V=()=>{w={};z={};F=0},ta=(N,la)=>{++F>G&&(z=w,w={},F=1);return w[N]=la};V();return{clear:V,has:N=>gb(w,N)||gb(z,N),get:N=>gb(w,N)?w[N]:gb(z,N)?ta(N,z[N]):void 0,set:(N,
la)=>gb(w,N)?w[N]=la:ta(N,la)}};t.merge=function(G,w,z,F){const V=w.length,ta=z.length;if(!ta)return w;if(!V)return z;F=F||new w.constructor(V+ta);let N=0,la=0,wa=0;for(;N<V&&la<ta;++wa)F[wa]=0<G(w[N],z[la])?z[la++]:w[N++];for(;N<V;++N,++wa)F[wa]=w[N];for(;la<ta;++la,++wa)F[wa]=z[la];return F};t.mergeConfig=function(...G){return G.reduce((w,z)=>{for(const F in z)"signals"===F?w.signals=Tb(w.signals,z.signals):Ab(w,F,z[F],"legend"===F?{layout:1}:"style"===F?!0:null);return w},{})};t.one=Nb;t.pad=function(G,
w,z,F){z=z||" ";G+="";w-=G.length;return 0>=w?G:"left"===F?Ba(z,w)+G:"center"===F?Ba(z,~~(w/2))+G+Ba(z,Math.ceil(w/2)):G+Ba(z,w)};t.panLinear=function(G,w){return Za(G,w,Ea,$a)};t.panLog=function(G,w){var z=Math.sign(G[0]);return Za(G,w,ja(z),ea(z))};t.panPow=function(G,w,z){return Za(G,w,qa(z),qa(1/z))};t.panSymlog=function(G,w,z){return Za(G,w,Ma(z),oa(z))};t.peek=jc;t.quarter=function(G){return 1+~~((new Date(G)).getMonth()/3)};t.repeat=Ba;t.span=function(G){return G&&jc(G)-G[0]||0};t.splitAccessPath=
Yb;t.stringValue=Sa;t.toBoolean=function(G){return null==G||""===G?null:G&&"false"!==G&&"0"!==G?!!G:!1};t.toDate=function(G,w){w=w||W;return null==G||""===G?null:w(G)};t.toNumber=Ea;t.toSet=function(G){const w={},z=G.length;for(let F=0;F<z;++F)w[G[F]]=!0;return w};t.toString=function(G){return null==G||""===G?null:G+""};t.truncate=function(G,w,z,F){F=null!=F?F:"…";G+="";const V=G.length,ta=Math.max(0,w-F.length);return V<=w?G:"left"===z?F+G.slice(V-ta):"center"===z?G.slice(0,Math.ceil(ta/2))+F+G.slice(V-
~~(ta/2)):G.slice(0,ta)+F};t.truthy=db;t.utcquarter=function(G){return 1+~~((new Date(G)).getUTCMonth()/3)};t.visitArray=function(G,w,z){if(G)if(w){const F=G.length;for(let V=0;V<F;++V){const ta=w(G[V]);ta&&z(ta,V,G)}}else G.forEach(z)};t.writeConfig=Ab;t.zero=qb;t.zoomLinear=function(G,w,z){return tb(G,w,z,Ea,$a)};t.zoomLog=function(G,w,z){const F=Math.sign(G[0]);return tb(G,w,z,ja(F),ea(F))};t.zoomPow=function(G,w,z,F){return tb(G,w,z,qa(F),qa(1/F))};t.zoomSymlog=function(G,w,z,F){return tb(G,w,
z,Ma(F),oa(F))}})};
shadow$provide[22]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(t=t||self,h(t.topojson=t.topojson||{}))})(this,function(t){function h(Ea){return Ea}function ka(Ea){if(null==Ea)return h;var Za,tb,rb=Ea.scale[0],pb=Ea.scale[1],vb=Ea.translate[0],gb=Ea.translate[1];return function(fc,sa){sa||(Za=tb=0);sa=2;var ia=fc.length,Ba=Array(ia);Ba[0]=(Za+=fc[0])*rb+vb;for(Ba[1]=(tb+=fc[1])*pb+gb;sa<ia;)Ba[sa]=
fc[sa],++sa;return Ba}}function Ya(Ea){function Za(ia){ia=rb(ia);ia[0]<vb&&(vb=ia[0]);ia[0]>fc&&(fc=ia[0]);ia[1]<gb&&(gb=ia[1]);ia[1]>sa&&(sa=ia[1])}function tb(ia){switch(ia.type){case "GeometryCollection":ia.geometries.forEach(tb);break;case "Point":Za(ia.coordinates);break;case "MultiPoint":ia.coordinates.forEach(Za)}}var rb=ka(Ea.transform),pb,vb=Infinity,gb=vb,fc=-vb,sa=-vb;Ea.arcs.forEach(function(ia){for(var Ba=-1,Sa=ia.length,Wa;++Ba<Sa;)Wa=rb(ia[Ba],Ba),Wa[0]<vb&&(vb=Wa[0]),Wa[0]>fc&&(fc=
Wa[0]),Wa[1]<gb&&(gb=Wa[1]),Wa[1]>sa&&(sa=Wa[1])});for(pb in Ea.objects)tb(Ea.objects[pb]);return[vb,gb,fc,sa]}function ub(Ea,Za){var tb=Za.id,rb=Za.bbox,pb=null==Za.properties?{}:Za.properties;Ea=Yb(Ea,Za);return null==tb&&null==rb?{type:"Feature",properties:pb,geometry:Ea}:null==rb?{type:"Feature",id:tb,properties:pb,geometry:Ea}:{type:"Feature",id:tb,bbox:rb,properties:pb,geometry:Ea}}function Yb(Ea,Za){function tb(ia){return fc(ia)}function rb(ia){for(var Ba=[],Sa=0,Wa=ia.length;Sa<Wa;++Sa){var Ha=
ia[Sa],hb=Ba;hb.length&&hb.pop();for(var $a=sa[0>Ha?~Ha:Ha],qb=0,Nb=$a.length;qb<Nb;++qb)hb.push(fc($a[qb],qb));if(0>Ha)for(Ha=hb,hb=Ha.length,$a=hb-Nb;$a<--hb;)Nb=Ha[$a],Ha[$a++]=Ha[hb],Ha[hb]=Nb}2>Ba.length&&Ba.push(Ba[0]);return Ba}function pb(ia){for(ia=rb(ia);4>ia.length;)ia.push(ia[0]);return ia}function vb(ia){return ia.map(pb)}function gb(ia){var Ba=ia.type;switch(Ba){case "GeometryCollection":return{type:Ba,geometries:ia.geometries.map(gb)};case "Point":ia=fc(ia.coordinates);break;case "MultiPoint":ia=
ia.coordinates.map(tb);break;case "LineString":ia=rb(ia.arcs);break;case "MultiLineString":ia=ia.arcs.map(rb);break;case "Polygon":ia=vb(ia.arcs);break;case "MultiPolygon":ia=ia.arcs.map(vb);break;default:return null}return{type:Ba,coordinates:ia}}var fc=ka(Ea.transform),sa=Ea.arcs;return gb(Za)}function dc(Ea,Za){function tb(ia){var Ba=Ea.arcs[0>ia?~ia:ia],Sa=Ba[0];if(Ea.transform){var Wa=[0,0];Ba.forEach(function(Ha){Wa[0]+=Ha[0];Wa[1]+=Ha[1]})}else Wa=Ba[Ba.length-1];return 0>ia?[Wa,Sa]:[Sa,Wa]}
function rb(ia,Ba){for(var Sa in ia){var Wa=ia[Sa];delete Ba[Wa.start];delete Wa.start;delete Wa.end;Wa.forEach(function(Ha){pb[0>Ha?~Ha:Ha]=1});fc.push(Wa)}}var pb={},vb={},gb={},fc=[],sa=-1;Za.forEach(function(ia,Ba){var Sa=Ea.arcs[0>ia?~ia:ia];3>Sa.length&&!Sa[1][0]&&!Sa[1][1]&&(Sa=Za[++sa],Za[sa]=ia,Za[Ba]=Sa)});Za.forEach(function(ia){var Ba=tb(ia),Sa=Ba[0],Wa=Ba[1];(Ba=gb[Sa])?(delete gb[Ba.end],Ba.push(ia),Ba.end=Wa,(ia=vb[Wa])?(delete vb[ia.start],Sa=ia===Ba?Ba:Ba.concat(ia),vb[Sa.start=Ba.start]=
gb[Sa.end=ia.end]=Sa):vb[Ba.start]=gb[Ba.end]=Ba):(Ba=vb[Wa])?(delete vb[Ba.start],Ba.unshift(ia),Ba.start=Sa,(ia=gb[Sa])?(delete gb[ia.end],Sa=ia===Ba?Ba:ia.concat(Ba),vb[Sa.start=ia.start]=gb[Sa.end=Ba.end]=Sa):vb[Ba.start]=gb[Ba.end]=Ba):(Ba=[ia],vb[Ba.start=Sa]=gb[Ba.end=Wa]=Ba)});rb(gb,vb);rb(vb,gb);Za.forEach(function(ia){pb[0>ia?~ia:ia]||fc.push([ia])});return fc}function Wb(Ea,Za,tb){var rb;if(1<arguments.length)var pb=oc(Ea,Za,tb);else{var vb=0;for(pb=Array(rb=Ea.arcs.length);vb<rb;++vb)pb[vb]=
vb}return{type:"MultiLineString",arcs:dc(Ea,pb)}}function oc(Ea,Za,tb){function rb(Ba){var Sa=0>Ba?~Ba:Ba;(sa[Sa]||(sa[Sa]=[])).push({i:Ba,g:ia})}function pb(Ba){Ba.forEach(rb)}function vb(Ba){Ba.forEach(pb)}function gb(Ba){switch(ia=Ba,Ba.type){case "GeometryCollection":Ba.geometries.forEach(gb);break;case "LineString":pb(Ba.arcs);break;case "MultiLineString":case "Polygon":vb(Ba.arcs);break;case "MultiPolygon":Ba.arcs.forEach(vb)}}var fc=[],sa=[],ia;gb(Za);sa.forEach(null==tb?function(Ba){fc.push(Ba[0].i)}:
function(Ba){tb(Ba[0].g,Ba[Ba.length-1].g)&&fc.push(Ba[0].i)});return fc}function Ab(Ea,Za){function tb(sa){switch(sa.type){case "GeometryCollection":sa.geometries.forEach(tb);break;case "Polygon":rb(sa.arcs);break;case "MultiPolygon":sa.arcs.forEach(rb)}}function rb(sa){sa.forEach(function(ia){ia.forEach(function(Ba){(vb[Ba=0>Ba?~Ba:Ba]||(vb[Ba]=[])).push(sa)})});gb.push(sa)}function pb(sa){sa=Yb(Ea,{type:"Polygon",arcs:[sa]}).coordinates[0];for(var ia=-1,Ba=sa.length,Sa,Wa=sa[Ba-1],Ha=0;++ia<Ba;)Sa=
Wa,Wa=sa[ia],Ha+=Sa[0]*Wa[1]-Sa[1]*Wa[0];return Math.abs(Ha)}var vb={},gb=[],fc=[];Za.forEach(tb);gb.forEach(function(sa){if(!sa._){var ia=[],Ba=[sa];sa._=1;for(fc.push(ia);sa=Ba.pop();)ia.push(sa),sa.forEach(function(Sa){Sa.forEach(function(Wa){vb[0>Wa?~Wa:Wa].forEach(function(Ha){Ha._||(Ha._=1,Ba.push(Ha))})})})}});gb.forEach(function(sa){delete sa._});return{type:"MultiPolygon",arcs:fc.map(function(sa){var ia=[];sa.forEach(function(Ha){Ha.forEach(function(hb){hb.forEach(function($a){2>vb[0>$a?
~$a:$a].length&&ia.push($a)})})});ia=dc(Ea,ia);if(1<(sa=ia.length))for(var Ba=1,Sa=pb(ia[0]),Wa;Ba<sa;++Ba)(Wa=pb(ia[Ba]))>Sa&&(Sa=ia[0],ia[0]=ia[Ba],ia[Ba]=Sa,Sa=Wa);return ia}).filter(function(sa){return 0<sa.length})}}function Tb(Ea,Za){for(var tb=0,rb=Ea.length;tb<rb;){var pb=tb+rb>>>1;Ea[pb]<Za?tb=pb+1:rb=pb}return tb}function jc(Ea){if(null==Ea)return h;var Za,tb,rb=Ea.scale[0],pb=Ea.scale[1],vb=Ea.translate[0],gb=Ea.translate[1];return function(fc,sa){sa||(Za=tb=0);sa=2;var ia=fc.length,Ba=
Array(ia),Sa=Math.round((fc[0]-vb)/rb),Wa=Math.round((fc[1]-gb)/pb);Ba[0]=Sa-Za;Za=Sa;Ba[1]=Wa-tb;for(tb=Wa;sa<ia;)Ba[sa]=fc[sa],++sa;return Ba}}t.bbox=Ya;t.feature=function(Ea,Za){"string"===typeof Za&&(Za=Ea.objects[Za]);return"GeometryCollection"===Za.type?{type:"FeatureCollection",features:Za.geometries.map(function(tb){return ub(Ea,tb)})}:ub(Ea,Za)};t.merge=function(Ea){return Yb(Ea,Ab.apply(this,arguments))};t.mergeArcs=Ab;t.mesh=function(Ea){return Yb(Ea,Wb.apply(this,arguments))};t.meshArcs=
Wb;t.neighbors=function(Ea){function Za(hb,$a){hb.forEach(function(qb){0>qb&&(qb=~qb);var Nb=pb[qb];Nb?Nb.push($a):pb[qb]=[$a]})}function tb(hb,$a){hb.forEach(function(qb){Za(qb,$a)})}function rb(hb,$a){if("GeometryCollection"===hb.type)hb.geometries.forEach(function(qb){rb(qb,$a)});else if(hb.type in gb)gb[hb.type](hb.arcs,$a)}var pb={},vb=Ea.map(function(){return[]}),gb={LineString:Za,MultiLineString:tb,Polygon:tb,MultiPolygon:function(hb,$a){hb.forEach(function(qb){tb(qb,$a)})}};Ea.forEach(rb);
for(var fc in pb){Ea=pb[fc];for(var sa=Ea.length,ia=0;ia<sa;++ia)for(var Ba=ia+1;Ba<sa;++Ba){var Sa=Ea[ia],Wa=Ea[Ba],Ha;(Ha=vb[Sa])[fc=Tb(Ha,Wa)]!==Wa&&Ha.splice(fc,0,Wa);(Ha=vb[Wa])[fc=Tb(Ha,Sa)]!==Sa&&Ha.splice(fc,0,Sa)}}return vb};t.quantize=function(Ea,Za){function tb(Sa){return ia(Sa)}function rb(Sa){switch(Sa.type){case "GeometryCollection":var Wa={type:"GeometryCollection",geometries:Sa.geometries.map(rb)};break;case "Point":Wa={type:"Point",coordinates:ia(Sa.coordinates)};break;case "MultiPoint":Wa=
{type:"MultiPoint",coordinates:Sa.coordinates.map(tb)};break;default:return Sa}null!=Sa.id&&(Wa.id=Sa.id);null!=Sa.bbox&&(Wa.bbox=Sa.bbox);null!=Sa.properties&&(Wa.properties=Sa.properties);return Wa}if(Ea.transform)throw Error("already quantized");if(Za&&Za.scale)var pb=Ea.bbox;else{if(!(2<=(sa=Math.floor(Za))))throw Error("n must be ≥2");pb=Ea.bbox||Ya(Ea);Za=pb[0];var vb=pb[1],gb=pb[2],fc=pb[3],sa;Za={scale:[gb-Za?(gb-Za)/(sa-1):1,fc-vb?(fc-vb)/(sa-1):1],translate:[Za,vb]}}var ia=jc(Za),Ba;vb=
Ea.objects;gb={};for(Ba in vb)gb[Ba]=rb(vb[Ba]);return{type:"Topology",bbox:pb,transform:Za,objects:gb,arcs:Ea.arcs.map(function(Sa){var Wa=0,Ha=1,hb=Sa.length,$a,qb=Array(hb);for(qb[0]=ia(Sa[0],0);++Wa<hb;)if(($a=ia(Sa[Wa],Wa))[0]||$a[1])qb[Ha++]=$a;1===Ha&&(qb[Ha++]=[0,0]);qb.length=Ha;return qb})}};t.transform=ka;t.untransform=jc;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[23]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega))})(this,function(t,h){function ka(X){const Fa=h.array(X).slice(),Kb={};Fa.length||h.error("Missing time unit.");Fa.forEach(pc=>{h.hasOwnProperty(Ha,pc)?Kb[pc]=1:h.error(`Invalid time unit: ${pc}.`)});1<(Kb.week||Kb.day?1:0)+(Kb.quarter||Kb.month||
Kb.date?1:0)+(Kb.dayofyear?1:0)&&h.error(`Incompatible time units: ${X}`);Fa.sort((pc,$b)=>Ha[pc]-Ha[$b]);return Fa}function Ya(X,Fa,Kb,pc){function $b(Mb){return X(Mb=0===arguments.length?new Date:new Date(+Mb)),Mb}$b.floor=Mb=>(X(Mb=new Date(+Mb)),Mb);$b.ceil=Mb=>(X(Mb=new Date(Mb-1)),Fa(Mb,1),X(Mb),Mb);$b.round=Mb=>{const Ob=$b(Mb),yc=$b.ceil(Mb);return Mb-Ob<yc-Mb?Ob:yc};$b.offset=(Mb,Ob)=>(Fa(Mb=new Date(+Mb),null==Ob?1:Math.floor(Ob)),Mb);$b.range=(Mb,Ob,yc)=>{const hd=[];Mb=$b.ceil(Mb);yc=
null==yc?1:Math.floor(yc);if(!(Mb<Ob&&0<yc))return hd;let ra;do hd.push(ra=new Date(+Mb)),Fa(Mb,yc),X(Mb);while(ra<Mb&&Mb<Ob);return hd};$b.filter=Mb=>Ya(Ob=>{if(Ob>=Ob)for(;X(Ob),!Mb(Ob);)Ob.setTime(Ob-1)},(Ob,yc)=>{if(Ob>=Ob)if(0>yc)for(;0>=++yc;)for(;Fa(Ob,-1),!Mb(Ob););else for(;0<=--yc;)for(;Fa(Ob,1),!Mb(Ob););});Kb&&($b.count=(Mb,Ob)=>{$a.setTime(+Mb);qb.setTime(+Ob);X($a);X(qb);return Math.floor(Kb($a,qb))},$b.every=Mb=>{Mb=Math.floor(Mb);return isFinite(Mb)&&0<Mb?1<Mb?$b.filter(pc?Ob=>0===
pc(Ob)%Mb:Ob=>0===$b.count(0,Ob)%Mb):$b:null});return $b}function ub(X){return Ya(Fa=>{Fa.setDate(Fa.getDate()-(Fa.getDay()+7-X)%7);Fa.setHours(0,0,0,0)},(Fa,Kb)=>{Fa.setDate(Fa.getDate()+7*Kb)},(Fa,Kb)=>(Kb-Fa-6E4*(Kb.getTimezoneOffset()-Fa.getTimezoneOffset()))/db)}function Yb(X){return Ya(Fa=>{Fa.setUTCDate(Fa.getUTCDate()-(Fa.getUTCDay()+7-X)%7);Fa.setUTCHours(0,0,0,0)},(Fa,Kb)=>{Fa.setUTCDate(Fa.getUTCDate()+7*Kb)},(Fa,Kb)=>(Kb-Fa)/db)}function dc(X,Fa){return null==X||null==Fa?NaN:X<Fa?-1:X>
Fa?1:X>=Fa?0:NaN}function Wb(X,Fa){return null==X||null==Fa?NaN:Fa<X?-1:Fa>X?1:Fa>=X?0:NaN}function oc(X){function Fa(Mb,Ob,yc=0,hd=Mb.length){if(yc<hd){if(0!==Kb(Ob,Ob))return hd;do{const ra=yc+hd>>>1;0>pc(Mb[ra],Ob)?yc=ra+1:hd=ra}while(yc<hd)}return yc}let Kb,pc,$b;2!==X.length?(Kb=dc,pc=(Mb,Ob)=>dc(X(Mb),Ob),$b=(Mb,Ob)=>X(Mb)-Ob):(Kb=X===dc||X===Wb?X:Ab,$b=pc=X);return{left:Fa,center:function(Mb,Ob,yc=0,hd=Mb.length){hd=Fa(Mb,Ob,yc,hd-1);return hd>yc&&$b(Mb[hd-1],Ob)>-$b(Mb[hd],Ob)?hd-1:hd},right:function(Mb,
Ob,yc=0,hd=Mb.length){if(yc<hd){if(0!==Kb(Ob,Ob))return hd;do{const ra=yc+hd>>>1;0>=pc(Mb[ra],Ob)?yc=ra+1:hd=ra}while(yc<hd)}return yc}}}function Ab(){return 0}function Tb(X,Fa,Kb){var pc=(Fa-X)/Math.max(0,Kb),$b=Math.floor(Math.log10(pc));pc/=Math.pow(10,$b);pc=pc>=w?10:pc>=z?5:pc>=F?2:1;let Mb;0>$b?(Mb=Math.pow(10,-$b)/pc,$b=Math.round(X*Mb),pc=Math.round(Fa*Mb),$b/Mb<X&&++$b,pc/Mb>Fa&&--pc,Mb=-Mb):(Mb=Math.pow(10,$b)*pc,$b=Math.round(X/Mb),pc=Math.round(Fa/Mb),$b*Mb<X&&++$b,pc*Mb>Fa&&--pc);return pc<
$b&&.5<=Kb&&2>Kb?Tb(X,Fa,2*Kb):[$b,pc,Mb]}function jc(X,Fa,Kb){return Tb(+X,+Fa,+Kb)[2]}function Ea(X,Fa,Kb){Fa=+Fa;X=+X;Kb=+Kb;const pc=Fa<X;X=pc?jc(Fa,X,Kb):jc(X,Fa,Kb);return(pc?-1:1)*(0>X?1/-X:X)}function Za(X){V.setFullYear(X);V.setMonth(0);V.setDate(1);V.setHours(0,0,0,0);return V}function tb(X){return oa.count(Za(X.getFullYear())-1,X)}function rb(X){return D.count(Za(X.getFullYear())-1,X)}function pb(X,Fa,Kb,pc,$b,Mb,Ob){return 0<=X&&100>X?(Fa=new Date(-1,Fa,Kb,pc,$b,Mb,Ob),Fa.setFullYear(X),
Fa):new Date(X,Fa,Kb,pc,$b,Mb,Ob)}function vb(X){const Fa=Date.UTC(X.getUTCFullYear(),0,1);return qa.count(Fa-1,X)}function gb(X){const Fa=Date.UTC(X.getUTCFullYear(),0,1);return G.count(Fa-1,X)}function fc(X){V.setTime(Date.UTC(X,0,1));return V.getUTCDay()}function sa(X,Fa,Kb,pc,$b,Mb,Ob){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Fa,Kb,pc,$b,Mb,Ob)),X.setUTCFullYear(Kb.y),X):new Date(Date.UTC(X,Fa,Kb,pc,$b,Mb,Ob))}function ia(X,Fa,Kb,pc,$b){const Mb=Fa||1,Ob=h.peek(X);Fa=(Zb,ic,Ac)=>{Ac=Ac||Zb;
return Ba(Kb[Ac],pc[Ac],Zb===Ob&&Mb,ic)};const yc=new Date;X=h.toSet(X);const hd=X.year?Fa("year"):h.constant(2012),ra=X.month?Fa("month"):X.quarter?Fa("quarter"):h.zero,Bb=X.week&&X.day?Fa("day",1,"weekday"):X.week?Fa("week",1):X.day?Fa("day",1):X.date?Fa("date",1):X.dayofyear?Fa("dayofyear",1):h.one,Ua=X.hours?Fa("hours"):h.zero,xb=X.minutes?Fa("minutes"):h.zero,Fb=X.seconds?Fa("seconds"):h.zero,Lb=X.milliseconds?Fa("milliseconds"):h.zero;return function(Zb){yc.setTime(+Zb);Zb=hd(yc);return $b(Zb,
ra(yc),Bb(yc,Zb),Ua(yc),xb(yc),Fb(yc),Lb(yc))}}function Ba(X,Fa,Kb,pc){const $b=1>=Kb?X:pc?(Mb,Ob)=>pc+Kb*Math.floor((X(Mb,Ob)-pc)/Kb):(Mb,Ob)=>Kb*Math.floor(X(Mb,Ob)/Kb);return Fa?(Mb,Ob)=>Fa($b(Mb,Ob),Ob):$b}function Sa(X,Fa,Kb){return Fa+7*X-(Kb+6)%7}const Wa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ha=Wa.reduce((X,Fa,Kb)=>(X[Fa]=1+Kb,X),{}),hb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},$a=new Date,qb=new Date,Nb=Ya(()=>{},(X,Fa)=>{X.setTime(+X+Fa)},(X,Fa)=>Fa-X);Nb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?Ya(Fa=>{Fa.setTime(Math.floor(Fa/X)*X)},(Fa,Kb)=>{Fa.setTime(+Fa+Kb*X)},(Fa,Kb)=>(Kb-Fa)/X):Nb:null};Nb.range;const db=6048E5;var T=Ya(X=>{X.setTime(X-X.getMilliseconds())},(X,Fa)=>{X.setTime(+X+1E3*Fa)},(X,Fa)=>(Fa-X)/1E3,X=>X.getUTCSeconds());
T.range;var ba=Ya(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Fa)=>{X.setTime(+X+6E4*Fa)},(X,Fa)=>(Fa-X)/6E4,X=>X.getMinutes());ba.range;var ea=Ya(X=>{X.setUTCSeconds(0,0)},(X,Fa)=>{X.setTime(+X+6E4*Fa)},(X,Fa)=>(Fa-X)/6E4,X=>X.getUTCMinutes());ea.range;var ja=Ya(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Fa)=>{X.setTime(+X+36E5*Fa)},(X,Fa)=>(Fa-X)/36E5,X=>X.getHours());ja.range;var Ma=Ya(X=>{X.setUTCMinutes(0,0,0)},(X,Fa)=>{X.setTime(+X+36E5*Fa)},
(X,Fa)=>(Fa-X)/36E5,X=>X.getUTCHours());Ma.range;const oa=Ya(X=>X.setHours(0,0,0,0),(X,Fa)=>X.setDate(X.getDate()+Fa),(X,Fa)=>(Fa-X-6E4*(Fa.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);oa.range;const qa=Ya(X=>{X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCDate(X.getUTCDate()+Fa)},(X,Fa)=>(Fa-X)/864E5,X=>X.getUTCDate()-1);qa.range;var l=Ya(X=>{X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCDate(X.getUTCDate()+Fa)},(X,Fa)=>(Fa-X)/864E5,X=>Math.floor(X/864E5));l.range;const D=ub(0);l=ub(1);
var K=ub(2),v=ub(3),Q=ub(4),A=ub(5),W=ub(6);D.range;l.range;K.range;v.range;Q.range;A.range;W.range;const G=Yb(0);l=Yb(1);K=Yb(2);v=Yb(3);Q=Yb(4);A=Yb(5);W=Yb(6);G.range;l.range;K.range;v.range;Q.range;A.range;W.range;l=Ya(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Fa)=>{X.setMonth(X.getMonth()+Fa)},(X,Fa)=>Fa.getMonth()-X.getMonth()+12*(Fa.getFullYear()-X.getFullYear()),X=>X.getMonth());l.range;K=Ya(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCMonth(X.getUTCMonth()+Fa)},(X,Fa)=>Fa.getUTCMonth()-
X.getUTCMonth()+12*(Fa.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());K.range;v=Ya(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Fa)=>{X.setFullYear(X.getFullYear()+Fa)},(X,Fa)=>Fa.getFullYear()-X.getFullYear(),X=>X.getFullYear());v.every=X=>isFinite(X=Math.floor(X))&&0<X?Ya(Fa=>{Fa.setFullYear(Math.floor(Fa.getFullYear()/X)*X);Fa.setMonth(0,1);Fa.setHours(0,0,0,0)},(Fa,Kb)=>{Fa.setFullYear(Fa.getFullYear()+Kb*X)}):null;v.range;Q=Ya(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCFullYear(X.getUTCFullYear()+
Fa)},(X,Fa)=>Fa.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());Q.every=X=>isFinite(X=Math.floor(X))&&0<X?Ya(Fa=>{Fa.setUTCFullYear(Math.floor(Fa.getUTCFullYear()/X)*X);Fa.setUTCMonth(0,1);Fa.setUTCHours(0,0,0,0)},(Fa,Kb)=>{Fa.setUTCFullYear(Fa.getUTCFullYear()+Kb*X)}):null;Q.range;const w=Math.sqrt(50),z=Math.sqrt(10),F=Math.sqrt(2),V=new Date,ta={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),
seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>tb(X),week:X=>rb(X),weekday:(X,Fa)=>Sa(rb(X),X.getDay(),Za(Fa).getDay()),day:(X,Fa)=>Sa(1,X.getDay(),Za(Fa).getDay())},N={quarter:X=>3*X,week:(X,Fa)=>Sa(X,0,Za(Fa).getDay())},la={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>
vb(X),week:X=>gb(X),day:(X,Fa)=>Sa(1,X.getUTCDay(),fc(Fa)),weekday:(X,Fa)=>Sa(gb(X),X.getUTCDay(),fc(Fa))},wa={quarter:X=>3*X,week:(X,Fa)=>Sa(X,0,fc(Fa))},Na={year:v,quarter:l.every(3),month:l,week:D,date:oa,day:oa,dayofyear:oa,hours:ja,minutes:ba,seconds:T,milliseconds:Nb},Pa={year:Q,quarter:K.every(3),month:K,week:G,date:qa,day:qa,dayofyear:qa,hours:Ma,minutes:ea,seconds:T,milliseconds:Nb};T=6048E5;ba=2592E6;const Xa=31536E6,sb="year month date hours minutes seconds milliseconds".split(" ");ea=
sb.slice(0,-1);ja=ea.slice(0,-1);Ma=ja.slice(0,-1);l=Ma.slice(0,-1);K=["year","month"];const ib=["year"],Sb=[[ea,1,1E3],[ea,5,5E3],[ea,15,15E3],[ea,30,3E4],[ja,1,6E4],[ja,5,3E5],[ja,15,9E5],[ja,30,18E5],[Ma,1,36E5],[Ma,3,108E5],[Ma,6,216E5],[Ma,12,432E5],[l,1,864E5],[["year","week"],1,T],[K,1,ba],[K,3,3*ba],[ib,1,Xa]];t.DATE="date";t.DAY="day";t.DAYOFYEAR="dayofyear";t.HOURS="hours";t.MILLISECONDS="milliseconds";t.MINUTES="minutes";t.MONTH="month";t.QUARTER="quarter";t.SECONDS="seconds";t.TIME_UNITS=
Wa;t.WEEK="week";t.YEAR="year";t.dayofyear=function(X){return tb(new Date(X))};t.timeBin=function(X){var Fa=X.extent;X=X.maxbins||40;var Kb=Math.abs(h.span(Fa))/X;let pc=oc($b=>$b[2]).right(Sb,Kb);pc===Sb.length?(Kb=ib,Fa=Ea(Fa[0]/Xa,Fa[1]/Xa,X)):pc?(pc=Sb[Kb/Sb[pc-1][2]<Sb[pc][2]/Kb?pc-1:pc],Kb=pc[0],Fa=pc[1]):(Kb=sb,Fa=Math.max(Ea(Fa[0],Fa[1],X),1));return{units:Kb,step:Fa}};t.timeFloor=function(X,Fa){return ia(X,Fa||1,ta,N,pb)};t.timeInterval=function(X){return Na[X]};t.timeOffset=function(X,Fa,
Kb){return(X=Na[X])?X.offset(Fa,Kb):void 0};t.timeSequence=function(X,Fa,Kb,pc){return(X=Na[X])?X.range(Fa,Kb,pc):void 0};t.timeUnitSpecifier=function(X,Fa){Fa=h.extend({},hb,Fa);X=ka(X);const Kb=X.length;let pc="",$b,Mb,Ob;for($b=0;$b<Kb;)for(Mb=X.length;Mb>$b;--Mb)if(Ob=X.slice($b,Mb).join("-"),null!=Fa[Ob]){pc+=Fa[Ob];$b=Mb;break}return pc.trim()};t.timeUnits=ka;t.utcFloor=function(X,Fa){return ia(X,Fa||1,la,wa,sa)};t.utcInterval=function(X){return Pa[X]};t.utcOffset=function(X,Fa,Kb){return(X=
Pa[X])?X.offset(Fa,Kb):void 0};t.utcSequence=function(X,Fa,Kb,pc){return(X=Pa[X])?X.range(Fa,Kb,pc):void 0};t.utcdayofyear=function(X){return vb(new Date(X))};t.utcweek=function(X){return gb(new Date(X))};t.week=function(X){return rb(new Date(X))}})};
shadow$provide[24]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(23),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ka){function Ya(Ca){const Qa={};return ac=>Qa[ac]||(Qa[ac]=Ca(ac))}function ub(Ca,Qa,ac){var id=(Qa-Ca)/Math.max(0,ac),sc=Math.floor(Math.log10(id));id/=Math.pow(10,sc);id=id>=Gd?10:id>=vd?5:id>=
xe?2:1;let Mc;0>sc?(Mc=Math.pow(10,-sc)/id,sc=Math.round(Ca*Mc),id=Math.round(Qa*Mc),sc/Mc<Ca&&++sc,id/Mc>Qa&&--id,Mc=-Mc):(Mc=Math.pow(10,sc)*id,sc=Math.round(Ca/Mc),id=Math.round(Qa/Mc),sc*Mc<Ca&&++sc,id*Mc>Qa&&--id);return id<sc&&.5<=ac&&2>ac?ub(Ca,Qa,2*ac):[sc,id,Mc]}function Yb(Ca,Qa,ac){return ub(+Ca,+Qa,+ac)[2]}function dc(Ca,Qa){if(0>(Qa=(Ca=Qa?Ca.toExponential(Qa-1):Ca.toExponential()).indexOf("e")))return null;var ac=Ca.slice(0,Qa);return[1<ac.length?ac[0]+ac.slice(2):ac,+Ca.slice(Qa+1)]}
function Wb(Ca){return Ca=dc(Math.abs(Ca)),Ca?Ca[1]:NaN}function oc(Ca,Qa){return function(ac,id){for(var sc=ac.length,Mc=[],Ec=0,Tc=Ca[0],Xc=0;0<sc&&0<Tc;){Xc+Tc+1>id&&(Tc=Math.max(1,id-Xc));Mc.push(ac.substring(sc-=Tc,sc+Tc));if((Xc+=Tc+1)>id)break;Tc=Ca[Ec=(Ec+1)%Ca.length]}return Mc.reverse().join(Qa)}}function Ab(Ca){return function(Qa){return Qa.replace(/[0-9]/g,function(ac){return Ca[+ac]})}}function Tb(Ca){if(!(Qa=Ed.exec(Ca)))throw Error("invalid format: "+Ca);var Qa;return new jc({fill:Qa[1],
align:Qa[2],sign:Qa[3],symbol:Qa[4],zero:Qa[5],width:Qa[6],comma:Qa[7],precision:Qa[8]&&Qa[8].slice(1),trim:Qa[9],type:Qa[10]})}function jc(Ca){this.fill=void 0===Ca.fill?" ":Ca.fill+"";this.align=void 0===Ca.align?"\x3e":Ca.align+"";this.sign=void 0===Ca.sign?"-":Ca.sign+"";this.symbol=void 0===Ca.symbol?"":Ca.symbol+"";this.zero=!!Ca.zero;this.width=void 0===Ca.width?void 0:+Ca.width;this.comma=!!Ca.comma;this.precision=void 0===Ca.precision?void 0:+Ca.precision;this.trim=!!Ca.trim;this.type=void 0===
Ca.type?"":Ca.type+""}function Ea(Ca,Qa){Qa=dc(Ca,Qa);if(!Qa)return Ca+"";Ca=Qa[0];Qa=Qa[1];return 0>Qa?"0."+Array(-Qa).join("0")+Ca:Ca.length>Qa+1?Ca.slice(0,Qa+1)+"."+Ca.slice(Qa+1):Ca+Array(Qa-Ca.length+2).join("0")}function Za(Ca){return Ca}function tb(Ca){function Qa(pd){function oe(p){var P=me,Y=te,pa,va;if("c"===de)Y=y(p)+Y,p="";else{p=+p;var Cb=0>p||0>1/p;p=isNaN(p)?ld:y(Math.abs(p),Ye);if(pe){var Hb=p.length,Xb=1,cc=-1;a:for(;Xb<Hb;++Xb)switch(p[Xb]){case ".":cc=pa=Xb;break;case "0":0===
cc&&(cc=Xb);pa=Xb;break;default:if(!+p[Xb])break a;0<cc&&(cc=0)}p=0<cc?p.slice(0,cc)+p.slice(pa+1):p}Cb&&0===+p&&"+"!==Je&&(Cb=!1);P=(Cb?"("===Je?Je:Xc:"-"===Je||"("===Je?"":Je)+P;Y=("s"===de?Ja[8+x/3]:"")+Y+(Cb&&"("===Je?")":"");if(M)for(Cb=-1,pa=p.length;++Cb<pa;)if(va=p.charCodeAt(Cb),48>va||57<va){Y=(46===va?Mc+p.slice(Cb+1):p.slice(Cb))+Y;p=p.slice(0,Cb);break}}$e&&!of&&(p=ac(p,Infinity));va=P.length+p.length+Y.length;Cb=va<Ke?Array(Ke-va+1).join(cf):"";$e&&of&&(p=ac(Cb+p,Cb.length?Ke-Y.length:
Infinity),Cb="");switch(Me){case "\x3c":p=P+p+Y+Cb;break;case "\x3d":p=P+Cb+p+Y;break;case "^":p=Cb.slice(0,va=Cb.length>>1)+P+p+Y+Cb.slice(va);break;default:p=Cb+P+p+Y}return Ec(p)}pd=Tb(pd);var cf=pd.fill,Me=pd.align,Je=pd.sign,ef=pd.symbol,of=pd.zero,Ke=pd.width,$e=pd.comma,Ye=pd.precision,pe=pd.trim,de=pd.type;"n"===de?($e=!0,de="g"):I[de]||(void 0===Ye&&(Ye=12),pe=!0,de="g");if(of||"0"===cf&&"\x3d"===Me)of=!0,cf="0",Me="\x3d";var me="$"===ef?id:"#"===ef&&/[boxX]/.test(de)?"0"+de.toLowerCase():
"",te="$"===ef?sc:/[%p]/.test(de)?Tc:"",y=I[de],M=/[defgprs%]/.test(de);Ye=void 0===Ye?6:/[gprs]/.test(de)?Math.max(1,Math.min(21,Ye)):Math.max(0,Math.min(20,Ye));oe.toString=function(){return pd+""};return oe}var ac=void 0===Ca.grouping||void 0===Ca.thousands?Za:oc(xa.call(Ca.grouping,Number),Ca.thousands+""),id=void 0===Ca.currency?"":Ca.currency[0]+"",sc=void 0===Ca.currency?"":Ca.currency[1]+"",Mc=void 0===Ca.decimal?".":Ca.decimal+"",Ec=void 0===Ca.numerals?Za:Ab(xa.call(Ca.numerals,String)),
Tc=void 0===Ca.percent?"%":Ca.percent+"",Xc=void 0===Ca.minus?"−":Ca.minus+"",ld=void 0===Ca.nan?"NaN":Ca.nan+"";return{format:Qa,formatPrefix:function(pd,oe){var cf=Qa((pd=Tb(pd),pd.type="f",pd));pd=3*Math.max(-8,Math.min(8,Math.floor(Wb(oe)/3)));var Me=Math.pow(10,-pd),Je=Ja[8+pd/3];return function(ef){return cf(Me*ef)+Je}}}}function rb(Ca,Qa){return ac=>{ac=Ca(ac);const id=ac.indexOf(Qa);if(0>id)return ac;a:{var sc=ac.lastIndexOf("e");if(!(0<sc)){for(sc=ac.length;--sc>id;){var Mc=ac.charCodeAt(sc);
if(48<=Mc&&57>=Mc){sc+=1;break a}}sc=void 0}}for(Mc=sc<ac.length?ac.slice(sc):"";--sc>id;)if("0"!==ac[sc]){++sc;break}return ac.slice(0,sc)+Mc}}function pb(Ca){const Qa=Ya(Ca.format),ac=Ca.formatPrefix;return{format:Qa,formatPrefix:ac,formatFloat(id){id=Tb(id||",");if(null==id.precision){id.precision=12;switch(id.type){case "%":id.precision-=2;break;case "e":--id.precision}return rb(Qa(id),Qa(".1f")(1)[1])}return Qa(id)},formatSpan(id,sc,Mc,Ec){Ec=Tb(null==Ec?",f":Ec);var Tc=+sc;var Xc=+id;var ld=
+Mc;Xc=(Mc=Tc<Xc)?Yb(Tc,Xc,ld):Yb(Xc,Tc,ld);Xc=(Mc?-1:1)*(0>Xc?1/-Xc:Xc);id=Math.max(Math.abs(id),Math.abs(sc));if(null==Ec.precision)switch(Ec.type){case "s":return sc=isNaN,Xc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wb(id)/3)))-Wb(Math.abs(Xc))),sc(sc=Xc)||(Ec.precision=sc),ac(Ec,id);case "":case "e":case "g":case "p":case "r":sc=isNaN;Xc=Math.abs(Xc);id=Math.abs(id)-Xc;id=Math.max(0,Wb(id)-Wb(Xc))+1;sc(sc=id)||(Ec.precision=sc-("e"===Ec.type));break;case "f":case "%":isNaN(sc=Math.max(0,
-Wb(Math.abs(Xc))))||(Ec.precision=sc-2*("%"===Ec.type))}return Qa(Ec)}}}function vb(){return Qb=pb({format:wb,formatPrefix:ec})}function gb(Ca){return pb(tb(Ca))}function fc(Ca){return arguments.length?Qb=gb(Ca):Qb}function sa(Ca,Qa,ac,id){function sc(Mc){return Ca(Mc=0===arguments.length?new Date:new Date(+Mc)),Mc}sc.floor=Mc=>(Ca(Mc=new Date(+Mc)),Mc);sc.ceil=Mc=>(Ca(Mc=new Date(Mc-1)),Qa(Mc,1),Ca(Mc),Mc);sc.round=Mc=>{const Ec=sc(Mc),Tc=sc.ceil(Mc);return Mc-Ec<Tc-Mc?Ec:Tc};sc.offset=(Mc,Ec)=>
(Qa(Mc=new Date(+Mc),null==Ec?1:Math.floor(Ec)),Mc);sc.range=(Mc,Ec,Tc)=>{const Xc=[];Mc=sc.ceil(Mc);Tc=null==Tc?1:Math.floor(Tc);if(!(Mc<Ec&&0<Tc))return Xc;let ld;do Xc.push(ld=new Date(+Mc)),Qa(Mc,Tc),Ca(Mc);while(ld<Mc&&Mc<Ec);return Xc};sc.filter=Mc=>sa(Ec=>{if(Ec>=Ec)for(;Ca(Ec),!Mc(Ec);)Ec.setTime(Ec-1)},(Ec,Tc)=>{if(Ec>=Ec)if(0>Tc)for(;0>=++Tc;)for(;Qa(Ec,-1),!Mc(Ec););else for(;0<=--Tc;)for(;Qa(Ec,1),!Mc(Ec););});ac&&(sc.count=(Mc,Ec)=>{qc.setTime(+Mc);Fc.setTime(+Ec);Ca(qc);Ca(Fc);return Math.floor(ac(qc,
Fc))},sc.every=Mc=>{Mc=Math.floor(Mc);return isFinite(Mc)&&0<Mc?1<Mc?sc.filter(id?Ec=>0===id(Ec)%Mc:Ec=>0===sc.count(0,Ec)%Mc):sc:null});return sc}function ia(Ca){return sa(Qa=>{Qa.setDate(Qa.getDate()-(Qa.getDay()+7-Ca)%7);Qa.setHours(0,0,0,0)},(Qa,ac)=>{Qa.setDate(Qa.getDate()+7*ac)},(Qa,ac)=>(ac-Qa-6E4*(ac.getTimezoneOffset()-Qa.getTimezoneOffset()))/6048E5)}function Ba(Ca){return sa(Qa=>{Qa.setUTCDate(Qa.getUTCDate()-(Qa.getUTCDay()+7-Ca)%7);Qa.setUTCHours(0,0,0,0)},(Qa,ac)=>{Qa.setUTCDate(Qa.getUTCDate()+
7*ac)},(Qa,ac)=>(ac-Qa)/6048E5)}function Sa(Ca){if(0<=Ca.y&&100>Ca.y){var Qa=new Date(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L);Qa.setFullYear(Ca.y);return Qa}return new Date(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L)}function Wa(Ca){if(0<=Ca.y&&100>Ca.y){var Qa=new Date(Date.UTC(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L));Qa.setUTCFullYear(Ca.y);return Qa}return new Date(Date.UTC(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L))}function Ha(Ca,Qa,ac){return{y:Ca,m:Qa,d:ac,H:0,M:0,S:0,L:0}}function hb(Ca){function Qa(M,p){return function(P){var Y=
[],pa=-1,va=0,Cb=M.length,Hb,Xb;for(P instanceof Date||(P=new Date(+P));++pa<Cb;)if(37===M.charCodeAt(pa)){Y.push(M.slice(va,pa));null!=(va=Rb[Hb=M.charAt(++pa)])?Hb=M.charAt(++pa):va="e"===Hb?" ":"0";if(Xb=p[Hb])Hb=Xb(P,va);Y.push(Hb);va=pa+1}Y.push(M.slice(va,pa));return Y.join("")}}function ac(M,p){return function(P){var Y=Ha(1900,void 0,1);if(id(Y,M,P+="",0)!=P.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(1E3*Y.s+("L"in Y?Y.L:0));!p||"Z"in Y||(Y.Z=0);"p"in Y&&
(Y.H=Y.H%12+12*Y.p);void 0===Y.m&&(Y.m="q"in Y?Y.q:0);if("V"in Y){if(1>Y.V||53<Y.V)return null;"w"in Y||(Y.w=1);if("Z"in Y){P=Wa(Ha(Y.y,0,1));var pa=P.getUTCDay();P=4<pa||0===pa?tf.ceil(P):tf(P);P=bd.offset(P,7*(Y.V-1));Y.y=P.getUTCFullYear();Y.m=P.getUTCMonth();Y.d=P.getUTCDate()+(Y.w+6)%7}else P=Sa(Ha(Y.y,0,1)),pa=P.getDay(),P=4<pa||0===pa?Fd.ceil(P):Fd(P),P=zc.offset(P,7*(Y.V-1)),Y.y=P.getFullYear(),Y.m=P.getMonth(),Y.d=P.getDate()+(Y.w+6)%7}else if("W"in Y||"U"in Y)"w"in Y||(Y.w="u"in Y?Y.u%7:
"W"in Y?1:0),pa="Z"in Y?Wa(Ha(Y.y,0,1)).getUTCDay():Sa(Ha(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+7*Y.W-(pa+5)%7:Y.w+7*Y.U-(pa+6)%7;return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Wa(Y)):Sa(Y)}}function id(M,p,P,Y){for(var pa=0,va=p.length,Cb=P.length,Hb;pa<va;){if(Y>=Cb)return-1;Hb=p.charCodeAt(pa++);if(37===Hb){if(Hb=p.charAt(pa++),Hb=y[Hb in Rb?p.charAt(pa++):Hb],!Hb||0>(Y=Hb(M,P,Y)))return-1}else if(Hb!=P.charCodeAt(Y++))return-1}return Y}var sc=Ca.dateTime,Mc=Ca.date,Ec=Ca.time,Tc=Ca.periods,
Xc=Ca.days,ld=Ca.shortDays,pd=Ca.months,oe=Ca.shortMonths,cf=Nb(Tc),Me=db(Tc),Je=Nb(Xc),ef=db(Xc),of=Nb(ld),Ke=db(ld),$e=Nb(pd),Ye=db(pd),pe=Nb(oe),de=db(oe),me={a:function(M){return ld[M.getDay()]},A:function(M){return Xc[M.getDay()]},b:function(M){return oe[M.getMonth()]},B:function(M){return pd[M.getMonth()]},c:null,d:N,e:N,f:Xa,g:yc,G:ra,H:la,I:wa,j:Na,L:Pa,m:sb,M:ib,p:function(M){return Tc[+(12<=M.getHours())]},q:function(M){return 1+~~(M.getMonth()/3)},Q:Ib,s:Cc,S:Sb,u:X,U:Fa,V:pc,w:$b,W:Mb,
x:null,X:null,y:Ob,Y:hd,Z:Bb,"%":Eb},te={a:function(M){return ld[M.getUTCDay()]},A:function(M){return Xc[M.getUTCDay()]},b:function(M){return oe[M.getUTCMonth()]},B:function(M){return pd[M.getUTCMonth()]},c:null,d:Ua,e:Ua,f:ic,g:Da,G:kb,H:xb,I:Fb,j:Lb,L:Zb,m:Ac,M:nd,p:function(M){return Tc[+(12<=M.getUTCHours())]},q:function(M){return 1+~~(M.getUTCMonth()/3)},Q:Ib,s:Cc,S:Vc,u:na,U:Ia,V:R,w:r,W:da,x:null,X:null,y:za,Y:Oa,Z:Ub,"%":Eb},y={a:function(M,p,P){return(p=of.exec(p.slice(P)))?(M.w=Ke.get(p[0].toLowerCase()),
P+p[0].length):-1},A:function(M,p,P){return(p=Je.exec(p.slice(P)))?(M.w=ef.get(p[0].toLowerCase()),P+p[0].length):-1},b:function(M,p,P){return(p=pe.exec(p.slice(P)))?(M.m=de.get(p[0].toLowerCase()),P+p[0].length):-1},B:function(M,p,P){return(p=$e.exec(p.slice(P)))?(M.m=Ye.get(p[0].toLowerCase()),P+p[0].length):-1},c:function(M,p,P){return id(M,sc,p,P)},d:v,e:v,f:z,g:qa,G:oa,H:A,I:A,j:Q,L:w,m:K,M:W,p:function(M,p,P){return(p=cf.exec(p.slice(P)))?(M.p=Me.get(p[0].toLowerCase()),P+p[0].length):-1},q:D,
Q:V,s:ta,S:G,u:ba,U:ea,V:ja,w:T,W:Ma,x:function(M,p,P){return id(M,Mc,p,P)},X:function(M,p,P){return id(M,Ec,p,P)},y:qa,Y:oa,Z:l,"%":F};me.x=Qa(Mc,me);me.X=Qa(Ec,me);me.c=Qa(sc,me);te.x=Qa(Mc,te);te.X=Qa(Ec,te);te.c=Qa(sc,te);return{format:function(M){var p=Qa(M+="",me);p.toString=function(){return M};return p},parse:function(M){var p=ac(M+="",!1);p.toString=function(){return M};return p},utcFormat:function(M){var p=Qa(M+="",te);p.toString=function(){return M};return p},utcParse:function(M){var p=
ac(M+="",!0);p.toString=function(){return M};return p}}}function $a(Ca,Qa,ac){var id=0>Ca?"-":"";Ca=(id?-Ca:Ca)+"";var sc=Ca.length;return id+(sc<ac?Array(ac-sc+1).join(Qa)+Ca:Ca)}function qb(Ca){return Ca.replace(cd,"\\$\x26")}function Nb(Ca){return new RegExp("^(?:"+Ca.map(qb).join("|")+")","i")}function db(Ca){return new Map(Ca.map((Qa,ac)=>[Qa.toLowerCase(),ac]))}function T(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+1)))?(Ca.w=+Qa[0],ac+Qa[0].length):-1}function ba(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,
ac+1)))?(Ca.u=+Qa[0],ac+Qa[0].length):-1}function ea(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.U=+Qa[0],ac+Qa[0].length):-1}function ja(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.V=+Qa[0],ac+Qa[0].length):-1}function Ma(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.W=+Qa[0],ac+Qa[0].length):-1}function oa(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+4)))?(Ca.y=+Qa[0],ac+Qa[0].length):-1}function qa(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.y=+Qa[0]+(68<+Qa[0]?1900:
2E3),ac+Qa[0].length):-1}function l(Ca,Qa,ac){return(Qa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Qa.slice(ac,ac+6)))?(Ca.Z=Qa[1]?0:-(Qa[2]+(Qa[3]||"00")),ac+Qa[0].length):-1}function D(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+1)))?(Ca.q=3*Qa[0]-3,ac+Qa[0].length):-1}function K(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.m=Qa[0]-1,ac+Qa[0].length):-1}function v(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.d=+Qa[0],ac+Qa[0].length):-1}function Q(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+
3)))?(Ca.m=0,Ca.d=+Qa[0],ac+Qa[0].length):-1}function A(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.H=+Qa[0],ac+Qa[0].length):-1}function W(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.M=+Qa[0],ac+Qa[0].length):-1}function G(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+2)))?(Ca.S=+Qa[0],ac+Qa[0].length):-1}function w(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+3)))?(Ca.L=+Qa[0],ac+Qa[0].length):-1}function z(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac,ac+6)))?(Ca.L=Math.floor(Qa[0]/1E3),ac+
Qa[0].length):-1}function F(Ca,Qa,ac){return(Ca=fd.exec(Qa.slice(ac,ac+1)))?ac+Ca[0].length:-1}function V(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac)))?(Ca.Q=+Qa[0],ac+Qa[0].length):-1}function ta(Ca,Qa,ac){return(Qa=Sc.exec(Qa.slice(ac)))?(Ca.s=+Qa[0],ac+Qa[0].length):-1}function N(Ca,Qa){return $a(Ca.getDate(),Qa,2)}function la(Ca,Qa){return $a(Ca.getHours(),Qa,2)}function wa(Ca,Qa){return $a(Ca.getHours()%12||12,Qa,2)}function Na(Ca,Qa){return $a(1+zc.count(Gb(Ca),Ca),Qa,3)}function Pa(Ca,Qa){return $a(Ca.getMilliseconds(),
Qa,3)}function Xa(Ca,Qa){return Pa(Ca,Qa)+"000"}function sb(Ca,Qa){return $a(Ca.getMonth()+1,Qa,2)}function ib(Ca,Qa){return $a(Ca.getMinutes(),Qa,2)}function Sb(Ca,Qa){return $a(Ca.getSeconds(),Qa,2)}function X(Ca){Ca=Ca.getDay();return 0===Ca?7:Ca}function Fa(Ca,Qa){return $a(qd.count(Gb(Ca)-1,Ca),Qa,2)}function Kb(Ca){var Qa=Ca.getDay();return 4<=Qa||0===Qa?he(Ca):he.ceil(Ca)}function pc(Ca,Qa){Ca=Kb(Ca);return $a(he.count(Gb(Ca),Ca)+(4===Gb(Ca).getDay()),Qa,2)}function $b(Ca){return Ca.getDay()}
function Mb(Ca,Qa){return $a(Fd.count(Gb(Ca)-1,Ca),Qa,2)}function Ob(Ca,Qa){return $a(Ca.getFullYear()%100,Qa,2)}function yc(Ca,Qa){Ca=Kb(Ca);return $a(Ca.getFullYear()%100,Qa,2)}function hd(Ca,Qa){return $a(Ca.getFullYear()%1E4,Qa,4)}function ra(Ca,Qa){var ac=Ca.getDay();Ca=4<=ac||0===ac?he(Ca):he.ceil(Ca);return $a(Ca.getFullYear()%1E4,Qa,4)}function Bb(Ca){Ca=Ca.getTimezoneOffset();return(0<Ca?"-":(Ca*=-1,"+"))+$a(Ca/60|0,"0",2)+$a(Ca%60,"0",2)}function Ua(Ca,Qa){return $a(Ca.getUTCDate(),Qa,2)}
function xb(Ca,Qa){return $a(Ca.getUTCHours(),Qa,2)}function Fb(Ca,Qa){return $a(Ca.getUTCHours()%12||12,Qa,2)}function Lb(Ca,Qa){return $a(1+bd.count(rc(Ca),Ca),Qa,3)}function Zb(Ca,Qa){return $a(Ca.getUTCMilliseconds(),Qa,3)}function ic(Ca,Qa){return Zb(Ca,Qa)+"000"}function Ac(Ca,Qa){return $a(Ca.getUTCMonth()+1,Qa,2)}function nd(Ca,Qa){return $a(Ca.getUTCMinutes(),Qa,2)}function Vc(Ca,Qa){return $a(Ca.getUTCSeconds(),Qa,2)}function na(Ca){Ca=Ca.getUTCDay();return 0===Ca?7:Ca}function Ia(Ca,Qa){return $a(Fe.count(rc(Ca)-
1,Ca),Qa,2)}function fb(Ca){var Qa=Ca.getUTCDay();return 4<=Qa||0===Qa?ca(Ca):ca.ceil(Ca)}function R(Ca,Qa){Ca=fb(Ca);return $a(ca.count(rc(Ca),Ca)+(4===rc(Ca).getUTCDay()),Qa,2)}function r(Ca){return Ca.getUTCDay()}function da(Ca,Qa){return $a(tf.count(rc(Ca)-1,Ca),Qa,2)}function za(Ca,Qa){return $a(Ca.getUTCFullYear()%100,Qa,2)}function Da(Ca,Qa){Ca=fb(Ca);return $a(Ca.getUTCFullYear()%100,Qa,2)}function Oa(Ca,Qa){return $a(Ca.getUTCFullYear()%1E4,Qa,4)}function kb(Ca,Qa){var ac=Ca.getUTCDay();
Ca=4<=ac||0===ac?ca(Ca):ca.ceil(Ca);return $a(Ca.getUTCFullYear()%1E4,Qa,4)}function Ub(){return"+0000"}function Eb(){return"%"}function Ib(Ca){return+Ca}function Cc(Ca){return Math.floor(+Ca/1E3)}function Hc(Ca,Qa,ac){ac=ac||{};ka.isObject(ac)||ka.error(`Invalid time multi-format specifier: ${ac}`);const id=Qa(h.SECONDS),sc=Qa(h.MINUTES),Mc=Qa(h.HOURS),Ec=Qa(h.DATE),Tc=Qa(h.WEEK),Xc=Qa(h.MONTH),ld=Qa(h.QUARTER),pd=Qa(h.YEAR),oe=Ca(ac[h.MILLISECONDS]||".%L"),cf=Ca(ac[h.SECONDS]||":%S"),Me=Ca(ac[h.MINUTES]||
"%I:%M"),Je=Ca(ac[h.HOURS]||"%I %p"),ef=Ca(ac[h.DATE]||ac[h.DAY]||"%a %d"),of=Ca(ac[h.WEEK]||"%b %d"),Ke=Ca(ac[h.MONTH]||"%B"),$e=Ca(ac[h.QUARTER]||"%B"),Ye=Ca(ac[h.YEAR]||"%Y");return pe=>(id(pe)<pe?oe:sc(pe)<pe?cf:Mc(pe)<pe?Me:Ec(pe)<pe?Je:Xc(pe)<pe?Tc(pe)<pe?ef:of:pd(pe)<pe?ld(pe)<pe?Ke:$e:Ye)(pe)}function Nc(Ca){const Qa=Ya(Ca.format),ac=Ya(Ca.utcFormat);return{timeFormat:id=>ka.isString(id)?Qa(id):Hc(Qa,h.timeInterval,id),utcFormat:id=>ka.isString(id)?ac(id):Hc(ac,h.utcInterval,id),timeParse:Ya(Ca.parse),
utcParse:Ya(Ca.utcParse)}}function xd(){return Xd=Nc({format:Nd,parse:Md,utcFormat:Ld,utcParse:Bd})}function sd(Ca){return Nc(hb(Ca))}function ed(Ca){return arguments.length?Xd=sd(Ca):Xd}function Id(Ca,Qa){var ac=arguments.length;ac&&2!==ac&&ka.error("defaultLocale expects either zero or two arguments.");if(ac){ac=fc(Ca);var id=ed(Qa);ac=ka.extend({},ac,id)}else ac=fc(),id=ed(),ac=ka.extend({},ac,id);return ac}const Gd=Math.sqrt(50),vd=Math.sqrt(10),xe=Math.sqrt(2);var Ed=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
Tb.prototype=jc.prototype;jc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var x,I={"%":(Ca,Qa)=>(100*Ca).toFixed(Qa),b:Ca=>Math.round(Ca).toString(2),c:Ca=>Ca+"",d:function(Ca){return 1E21<=Math.abs(Ca=Math.round(Ca))?Ca.toLocaleString("en").replace(/,/g,""):Ca.toString(10)},e:(Ca,Qa)=>
Ca.toExponential(Qa),f:(Ca,Qa)=>Ca.toFixed(Qa),g:(Ca,Qa)=>Ca.toPrecision(Qa),o:Ca=>Math.round(Ca).toString(8),p:(Ca,Qa)=>Ea(100*Ca,Qa),r:Ea,s:function(Ca,Qa){var ac=dc(Ca,Qa);if(!ac)return Ca+"";var id=ac[0];ac=ac[1];ac=ac-(x=3*Math.max(-8,Math.min(8,Math.floor(ac/3))))+1;var sc=id.length;return ac===sc?id:ac>sc?id+Array(ac-sc+1).join("0"):0<ac?id.slice(0,ac)+"."+id.slice(ac):"0."+Array(1-ac).join("0")+dc(Ca,Math.max(0,Qa+ac-1))[0]},X:Ca=>Math.round(Ca).toString(16).toUpperCase(),x:Ca=>Math.round(Ca).toString(16)},
xa=Array.prototype.map,Ja="y z a f p n µ m  k M G T P E Z Y".split(" "),jb,wb,ec;(function(Ca){jb=tb(Ca);wb=jb.format;ec=jb.formatPrefix;return jb})({thousands:",",grouping:[3],currency:["$",""]});let Qb;vb();const qc=new Date,Fc=new Date,zc=sa(Ca=>Ca.setHours(0,0,0,0),(Ca,Qa)=>Ca.setDate(Ca.getDate()+Qa),(Ca,Qa)=>(Qa-Ca-6E4*(Qa.getTimezoneOffset()-Ca.getTimezoneOffset()))/864E5,Ca=>Ca.getDate()-1);zc.range;const bd=sa(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCDate(Ca.getUTCDate()+Qa)},(Ca,
Qa)=>(Qa-Ca)/864E5,Ca=>Ca.getUTCDate()-1);bd.range;const md=sa(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCDate(Ca.getUTCDate()+Qa)},(Ca,Qa)=>(Qa-Ca)/864E5,Ca=>Math.floor(Ca/864E5));md.range;const qd=ia(0),Fd=ia(1),kd=ia(2),Od=ia(3),he=ia(4),Le=ia(5),Ie=ia(6);qd.range;Fd.range;kd.range;Od.range;he.range;Le.range;Ie.range;const Fe=Ba(0),tf=Ba(1),df=Ba(2),E=Ba(3),ca=Ba(4),Ga=Ba(5),eb=Ba(6);Fe.range;tf.range;df.range;E.range;ca.range;Ga.range;eb.range;const Gb=sa(Ca=>{Ca.setMonth(0,1);Ca.setHours(0,
0,0,0)},(Ca,Qa)=>{Ca.setFullYear(Ca.getFullYear()+Qa)},(Ca,Qa)=>Qa.getFullYear()-Ca.getFullYear(),Ca=>Ca.getFullYear());Gb.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?sa(Qa=>{Qa.setFullYear(Math.floor(Qa.getFullYear()/Ca)*Ca);Qa.setMonth(0,1);Qa.setHours(0,0,0,0)},(Qa,ac)=>{Qa.setFullYear(Qa.getFullYear()+ac*Ca)}):null;Gb.range;const rc=sa(Ca=>{Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Qa)},(Ca,Qa)=>Qa.getUTCFullYear()-Ca.getUTCFullYear(),Ca=>Ca.getUTCFullYear());
rc.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?sa(Qa=>{Qa.setUTCFullYear(Math.floor(Qa.getUTCFullYear()/Ca)*Ca);Qa.setUTCMonth(0,1);Qa.setUTCHours(0,0,0,0)},(Qa,ac)=>{Qa.setUTCFullYear(Qa.getUTCFullYear()+ac*Ca)}):null;rc.range;var Rb={"-":"",_:" ",0:"0"},Sc=/^\s*\d+/,fd=/^%/,cd=/[\\^$*+?|[\]().{}]/g,Oc,Nd,Md,Ld,Bd;(function(Ca){Oc=hb(Ca);Nd=Oc.format;Md=Oc.parse;Ld=Oc.utcFormat;Bd=Oc.utcParse;return Oc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Xd;xd();t.defaultLocale=Id;t.locale=function(Ca,Qa){Ca=Ca?gb(Ca):fc();Qa=Qa?sd(Qa):ed();return ka.extend({},Ca,Qa)};t.numberFormatDefaultLocale=fc;t.numberFormatLocale=gb;t.resetDefaultLocale=function(){vb();xd();return Id()};t.resetNumberFormatDefaultLocale=vb;t.resetTimeFormatDefaultLocale=
xd;t.timeFormatDefaultLocale=ed;t.timeFormatLocale=sd})};
shadow$provide[25]=function(Db,nb,Dc,Va){function t(ub){var Yb=ub.length;if(0<Yb%4)throw Error("Invalid string. Length must be a multiple of 4");ub=ub.indexOf("\x3d");-1===ub&&(ub=Yb);return[ub,ub===Yb?0:4-ub%4]}Va.byteLength=function(ub){ub=t(ub);var Yb=ub[1];return 3*(ub[0]+Yb)/4-Yb};Va.toByteArray=function(ub){var Yb=t(ub);var dc=Yb[0];Yb=Yb[1];var Wb=new Ya(3*(dc+Yb)/4-Yb),oc=0,Ab=0<Yb?dc-4:dc,Tb;for(Tb=0;Tb<Ab;Tb+=4)dc=ka[ub.charCodeAt(Tb)]<<18|ka[ub.charCodeAt(Tb+1)]<<12|ka[ub.charCodeAt(Tb+
2)]<<6|ka[ub.charCodeAt(Tb+3)],Wb[oc++]=dc>>16&255,Wb[oc++]=dc>>8&255,Wb[oc++]=dc&255;2===Yb&&(dc=ka[ub.charCodeAt(Tb)]<<2|ka[ub.charCodeAt(Tb+1)]>>4,Wb[oc++]=dc&255);1===Yb&&(dc=ka[ub.charCodeAt(Tb)]<<10|ka[ub.charCodeAt(Tb+1)]<<4|ka[ub.charCodeAt(Tb+2)]>>2,Wb[oc++]=dc>>8&255,Wb[oc++]=dc&255);return Wb};Va.fromByteArray=function(ub){for(var Yb=ub.length,dc=Yb%3,Wb=[],oc=0,Ab=Yb-dc;oc<Ab;oc+=16383){for(var Tb=Wb,jc=Tb.push,Ea,Za=ub,tb=oc+16383>Ab?Ab:oc+16383,rb=[],pb=oc;pb<tb;pb+=3)Ea=(Za[pb]<<16&
16711680)+(Za[pb+1]<<8&65280)+(Za[pb+2]&255),rb.push(h[Ea>>18&63]+h[Ea>>12&63]+h[Ea>>6&63]+h[Ea&63]);Ea=rb.join("");jc.call(Tb,Ea)}1===dc?(ub=ub[Yb-1],Wb.push(h[ub>>2]+h[ub<<4&63]+"\x3d\x3d")):2===dc&&(ub=(ub[Yb-2]<<8)+ub[Yb-1],Wb.push(h[ub>>10]+h[ub>>4&63]+h[ub<<2&63]+"\x3d"));return Wb.join("")};var h=[],ka=[],Ya="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Db=0;64>Db;++Db)h[Db]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Db],ka["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Db)]=
Db;ka[45]=62;ka[95]=63};
shadow$provide[26]=function(Db,nb,Dc,Va){Va.read=function(t,h,ka,Ya,ub){var Yb=8*ub-Ya-1;var dc=(1<<Yb)-1,Wb=dc>>1,oc=-7;ub=ka?ub-1:0;var Ab=ka?-1:1,Tb=t[h+ub];ub+=Ab;ka=Tb&(1<<-oc)-1;Tb>>=-oc;for(oc+=Yb;0<oc;ka=256*ka+t[h+ub],ub+=Ab,oc-=8);Yb=ka&(1<<-oc)-1;ka>>=-oc;for(oc+=Ya;0<oc;Yb=256*Yb+t[h+ub],ub+=Ab,oc-=8);if(0===ka)ka=1-Wb;else{if(ka===dc)return Yb?NaN:Infinity*(Tb?-1:1);Yb+=Math.pow(2,Ya);ka-=Wb}return(Tb?-1:1)*Yb*Math.pow(2,ka-Ya)};Va.write=function(t,h,ka,Ya,ub,Yb){var dc,Wb=8*Yb-ub-1,
oc=(1<<Wb)-1,Ab=oc>>1,Tb=23===ub?Math.pow(2,-24)-Math.pow(2,-77):0;Yb=Ya?0:Yb-1;var jc=Ya?1:-1,Ea=0>h||0===h&&0>1/h?1:0;h=Math.abs(h);isNaN(h)||Infinity===h?(h=isNaN(h)?1:0,Ya=oc):(Ya=Math.floor(Math.log(h)/Math.LN2),1>h*(dc=Math.pow(2,-Ya))&&(Ya--,dc*=2),h=1<=Ya+Ab?h+Tb/dc:h+Tb*Math.pow(2,1-Ab),2<=h*dc&&(Ya++,dc/=2),Ya+Ab>=oc?(h=0,Ya=oc):1<=Ya+Ab?(h=(h*dc-1)*Math.pow(2,ub),Ya+=Ab):(h=h*Math.pow(2,Ab-1)*Math.pow(2,ub),Ya=0));for(;8<=ub;t[ka+Yb]=h&255,Yb+=jc,h/=256,ub-=8);Ya=Ya<<ub|h;for(Wb+=ub;0<
Wb;t[ka+Yb]=Ya&255,Yb+=jc,Ya/=256,Wb-=8);t[ka+Yb-jc]|=128*Ea}};
shadow$provide[27]=function(Db,nb,Dc,Va){function t(l){if(2147483647<l)throw new RangeError('The value "'+l+'" is invalid for option "size"');l=new Uint8Array(l);Object.setPrototypeOf(l,h.prototype);return l}function h(l,D,K){if("number"===typeof l){if("string"===typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return ub(l)}return ka(l,D,K)}function ka(l,D,K){if("string"===typeof l){var v=D;if("string"!==typeof v||""===v)v="utf8";if(!h.isEncoding(v))throw new TypeError("Unknown encoding: "+
v);D=Ab(l,v)|0;K=t(D);l=K.write(l,v);l!==D&&(K=K.slice(0,l));return K}if(ArrayBuffer.isView(l))return db(l,Uint8Array)?(l=new Uint8Array(l),l=dc(l.buffer,l.byteOffset,l.byteLength)):l=Yb(l),l;if(null==l)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(db(l,ArrayBuffer)||l&&db(l.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(db(l,SharedArrayBuffer)||l&&db(l.buffer,SharedArrayBuffer)))return dc(l,
D,K);if("number"===typeof l)throw new TypeError('The "value" argument must not be of type number. Received type number');v=l.valueOf&&l.valueOf();if(null!=v&&v!==l)return h.from(v,D,K);if(v=Wb(l))return v;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof l[Symbol.toPrimitive])return h.from(l[Symbol.toPrimitive]("string"),D,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);}
function Ya(l){if("number"!==typeof l)throw new TypeError('"size" argument must be of type number');if(0>l)throw new RangeError('The value "'+l+'" is invalid for option "size"');}function ub(l){Ya(l);return t(0>l?0:oc(l)|0)}function Yb(l){const D=0>l.length?0:oc(l.length)|0,K=t(D);for(let v=0;v<D;v+=1)K[v]=l[v]&255;return K}function dc(l,D,K){if(0>D||l.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<D+(K||0))throw new RangeError('"length" is outside of buffer bounds');
l=void 0===D&&void 0===K?new Uint8Array(l):void 0===K?new Uint8Array(l,D):new Uint8Array(l,D,K);Object.setPrototypeOf(l,h.prototype);return l}function Wb(l){if(h.isBuffer(l)){var D=oc(l.length)|0;const K=t(D);if(0===K.length)return K;l.copy(K,0,0,D);return K}if(void 0!==l.length)return(D="number"!==typeof l.length)||(D=l.length,D=D!==D),D?t(0):Yb(l);if("Buffer"===l.type&&Array.isArray(l.data))return Yb(l.data)}function oc(l){if(2147483647<=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return l|0}function Ab(l,D){if(h.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||db(l,ArrayBuffer))return l.byteLength;if("string"!==typeof l)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const K=l.length,v=2<arguments.length&&!0===arguments[2];if(!v&&0===K)return 0;let Q=!1;for(;;)switch(D){case "ascii":case "latin1":case "binary":return K;case "utf8":case "utf-8":return $a(l).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*K;case "hex":return K>>>1;case "base64":return qb(l).length;default:if(Q)return v?-1:$a(l).length;D=(""+D).toLowerCase();Q=!0}}function Tb(l,D,K){let v=!1;if(void 0===D||0>D)D=0;if(D>this.length)return"";if(void 0===K||K>this.length)K=this.length;if(0>=K)return"";K>>>=0;D>>>=0;if(K<=D)return"";for(l||(l="utf8");;)switch(l){case "hex":l=D;D=this.length;if(!l||0>l)l=0;if(!K||0>K||K>D)K=D;for(D="";l<K;++l)D+=qa[this[l]];return D;case "utf8":case "utf-8":return tb(this,
D,K);case "ascii":l=D;D="";for(K=Math.min(this.length,K);l<K;++l)D+=String.fromCharCode(this[l]&127);return D;case "latin1":case "binary":l=D;D="";for(K=Math.min(this.length,K);l<K;++l)D+=String.fromCharCode(this[l]);return D;case "base64":return l=D,K=0===l&&K===this.length?ea.fromByteArray(this):ea.fromByteArray(this.slice(l,K)),K;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":K=this.slice(D,K);l="";for(D=0;D<K.length-1;D+=2)l+=String.fromCharCode(K[D]+256*K[D+1]);return l;default:if(v)throw new TypeError("Unknown encoding: "+
l);l=(l+"").toLowerCase();v=!0}}function jc(l,D,K){const v=l[D];l[D]=l[K];l[K]=v}function Ea(l,D,K,v,Q){if(0===l.length)return-1;"string"===typeof K?(v=K,K=0):2147483647<K?K=2147483647:-2147483648>K&&(K=-2147483648);K=+K;K!==K&&(K=Q?0:l.length-1);0>K&&(K=l.length+K);if(K>=l.length){if(Q)return-1;K=l.length-1}else if(0>K)if(Q)K=0;else return-1;"string"===typeof D&&(D=h.from(D,v));if(h.isBuffer(D))return 0===D.length?-1:Za(l,D,K,v,Q);if("number"===typeof D)return D&=255,"function"===typeof Uint8Array.prototype.indexOf?
Q?Uint8Array.prototype.indexOf.call(l,D,K):Uint8Array.prototype.lastIndexOf.call(l,D,K):Za(l,[D],K,v,Q);throw new TypeError("val must be string, number or Buffer");}function Za(l,D,K,v,Q){function A(z,F){return 1===W?z[F]:z.readUInt16BE(F*W)}let W=1;var G=l.length;let w=D.length;if(void 0!==v&&(v=String(v).toLowerCase(),"ucs2"===v||"ucs-2"===v||"utf16le"===v||"utf-16le"===v)){if(2>l.length||2>D.length)return-1;W=2;G/=2;w/=2;K/=2}if(Q)for(v=-1;K<G;K++)if(A(l,K)===A(D,-1===v?0:K-v)){if(-1===v&&(v=K),
K-v+1===w)return v*W}else-1!==v&&(K-=K-v),v=-1;else for(K+w>G&&(K=G-w);0<=K;K--){G=!0;for(v=0;v<w;v++)if(A(l,K+v)!==A(D,v)){G=!1;break}if(G)return K}return-1}function tb(l,D,K){K=Math.min(l.length,K);for(var v=[];D<K;){var Q=l[D];let A=null,W=239<Q?4:223<Q?3:191<Q?2:1;if(D+W<=K){let G,w,z;switch(W){case 1:128>Q&&(A=Q);break;case 2:G=l[D+1];128===(G&192)&&(Q=(Q&31)<<6|G&63,127<Q&&(A=Q));break;case 3:G=l[D+1];w=l[D+2];128===(G&192)&&128===(w&192)&&(Q=(Q&15)<<12|(G&63)<<6|w&63,2047<Q&&(55296>Q||57343<
Q)&&(A=Q));break;case 4:G=l[D+1],w=l[D+2],z=l[D+3],128===(G&192)&&128===(w&192)&&128===(z&192)&&(Q=(Q&15)<<18|(G&63)<<12|(w&63)<<6|z&63,65535<Q&&1114112>Q&&(A=Q))}}null===A?(A=65533,W=1):65535<A&&(A-=65536,v.push(A>>>10&1023|55296),A=56320|A&1023);v.push(A);D+=W}D=v.length;if(4096>=D)v=String.fromCharCode.apply(String,v);else{l="";for(K=0;K<D;)l+=String.fromCharCode.apply(String,v.slice(K,K+=4096));v=l}return v}function rb(l,D,K){if(0!==l%1||0>l)throw new RangeError("offset is not uint");if(l+D>K)throw new RangeError("Trying to access beyond buffer length");
}function pb(l,D,K,v,Q,A){if(!h.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>Q||D<A)throw new RangeError('"value" argument is out of bounds');if(K+v>l.length)throw new RangeError("Index out of range");}function vb(l,D,K,v,Q){Wa(D,v,Q,l,K,7);v=Number(D&BigInt(4294967295));l[K++]=v;v>>=8;l[K++]=v;v>>=8;l[K++]=v;l[K++]=v>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));l[K++]=D;D>>=8;l[K++]=D;D>>=8;l[K++]=D;l[K++]=D>>8;return K}function gb(l,D,K,v,Q){Wa(D,v,Q,l,K,
7);v=Number(D&BigInt(4294967295));l[K+7]=v;v>>=8;l[K+6]=v;v>>=8;l[K+5]=v;l[K+4]=v>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));l[K+3]=D;D>>=8;l[K+2]=D;D>>=8;l[K+1]=D;l[K]=D>>8;return K+8}function fc(l,D,K,v,Q,A){if(K+v>l.length)throw new RangeError("Index out of range");if(0>K)throw new RangeError("Index out of range");}function sa(l,D,K,v,Q){D=+D;K>>>=0;Q||fc(l,D,K,4,3.4028234663852886E38,-3.4028234663852886E38);ja.write(l,D,K,v,23,4);return K+4}function ia(l,D,K,v,Q){D=+D;K>>>=0;Q||fc(l,D,K,8,
1.7976931348623157E308,-1.7976931348623157E308);ja.write(l,D,K,v,52,8);return K+8}function Ba(l,D,K){Ma[l]=class extends K{constructor(){super();Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${l}]`;this.stack;delete this.name}get code(){return l}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}function Sa(l){let D=
"",K=l.length;const v="-"===l[0]?1:0;for(;K>=v+4;K-=3)D=`_${l.slice(K-3,K)}${D}`;return`${l.slice(0,K)}${D}`}function Wa(l,D,K,v,Q,A){if(l>K||l<D)throw v="bigint"===typeof D?"n":"",new Ma.ERR_OUT_OF_RANGE("value",3<A?0===D||D===BigInt(0)?`>= 0${v} and < 2${v} ** ${8*(A+1)}${v}`:`>= -(2${v} ** ${8*(A+1)-1}${v}) and < 2 ** `+`${8*(A+1)-1}${v}`:`>= ${D}${v} and <= ${K}${v}`,l);Ha(Q,"offset");void 0!==v[Q]&&void 0!==v[Q+A]||hb(Q,v.length-(A+1))}function Ha(l,D){if("number"!==typeof l)throw new Ma.ERR_INVALID_ARG_TYPE(D,
"number",l);}function hb(l,D,K){if(Math.floor(l)!==l)throw Ha(l,K),new Ma.ERR_OUT_OF_RANGE(K||"offset","an integer",l);if(0>D)throw new Ma.ERR_BUFFER_OUT_OF_BOUNDS;throw new Ma.ERR_OUT_OF_RANGE(K||"offset",`>= ${K?1:0} and <= ${D}`,l);}function $a(l,D){D=D||Infinity;let K;const v=l.length;let Q=null;const A=[];for(let W=0;W<v;++W){K=l.charCodeAt(W);if(55295<K&&57344>K){if(!Q){if(56319<K){-1<(D-=3)&&A.push(239,191,189);continue}else if(W+1===v){-1<(D-=3)&&A.push(239,191,189);continue}Q=K;continue}if(56320>
K){-1<(D-=3)&&A.push(239,191,189);Q=K;continue}K=(Q-55296<<10|K-56320)+65536}else Q&&-1<(D-=3)&&A.push(239,191,189);Q=null;if(128>K){if(0>--D)break;A.push(K)}else if(2048>K){if(0>(D-=2))break;A.push(K>>6|192,K&63|128)}else if(65536>K){if(0>(D-=3))break;A.push(K>>12|224,K>>6&63|128,K&63|128)}else if(1114112>K){if(0>(D-=4))break;A.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw Error("Invalid code point");}return A}function qb(l){var D=ea,K=D.toByteArray;l=l.split("\x3d")[0];l=l.trim().replace(oa,
"");if(2>l.length)l="";else for(;0!==l.length%4;)l+="\x3d";return K.call(D,l)}function Nb(l,D,K,v){let Q;for(Q=0;Q<v&&!(Q+K>=D.length||Q>=l.length);++Q)D[Q+K]=l[Q];return Q}function db(l,D){return l instanceof D||null!=l&&null!=l.constructor&&null!=l.constructor.name&&l.constructor.name===D.name}function T(l){return"undefined"===typeof BigInt?ba:l}function ba(){throw Error("BigInt not supported");}const ea=nb(25),ja=nb(26);Db="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Va.Buffer=h;Va.SlowBuffer=function(l){+l!=l&&(l=0);return h.alloc(+l)};Va.INSPECT_MAX_BYTES=50;Va.kMaxLength=2147483647;h.TYPED_ARRAY_SUPPORT=function(){try{const l=new Uint8Array(1),D={foo:function(){return 42}};Object.setPrototypeOf(D,Uint8Array.prototype);Object.setPrototypeOf(l,D);return 42===l.foo()}catch(l){return!1}}();h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});h.poolSize=8192;h.from=function(l,D,K){return ka(l,D,K)};Object.setPrototypeOf(h.prototype,Uint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);h.alloc=function(l,D,K){Ya(l);l=0>=l?t(l):void 0!==D?"string"===typeof K?t(l).fill(D,K):t(l).fill(D):t(l);return l};h.allocUnsafe=
function(l){return ub(l)};h.allocUnsafeSlow=function(l){return ub(l)};h.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==h.prototype};h.compare=function(l,D){db(l,Uint8Array)&&(l=h.from(l,l.offset,l.byteLength));db(D,Uint8Array)&&(D=h.from(D,D.offset,D.byteLength));if(!h.isBuffer(l)||!h.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===D)return 0;let K=l.length,v=D.length;for(let Q=0,A=Math.min(K,v);Q<A;++Q)if(l[Q]!==D[Q]){K=
l[Q];v=D[Q];break}return K<v?-1:v<K?1:0};h.isEncoding=function(l){switch(String(l).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};h.concat=function(l,D){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return h.alloc(0);let K;if(void 0===D)for(K=D=0;K<l.length;++K)D+=l[K].length;D=h.allocUnsafe(D);let v=
0;for(K=0;K<l.length;++K){let Q=l[K];if(db(Q,Uint8Array))v+Q.length>D.length?(h.isBuffer(Q)||(Q=h.from(Q)),Q.copy(D,v)):Uint8Array.prototype.set.call(D,Q,v);else if(h.isBuffer(Q))Q.copy(D,v);else throw new TypeError('"list" argument must be an Array of Buffers');v+=Q.length}return D};h.byteLength=Ab;h.prototype._isBuffer=!0;h.prototype.swap16=function(){const l=this.length;if(0!==l%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<l;D+=2)jc(this,D,D+1);return this};
h.prototype.swap32=function(){const l=this.length;if(0!==l%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<l;D+=4)jc(this,D,D+3),jc(this,D+1,D+2);return this};h.prototype.swap64=function(){const l=this.length;if(0!==l%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<l;D+=8)jc(this,D,D+7),jc(this,D+1,D+6),jc(this,D+2,D+5),jc(this,D+3,D+4);return this};h.prototype.toString=function(){const l=this.length;return 0===l?"":0===arguments.length?
tb(this,0,l):Tb.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(l){if(!h.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:0===h.compare(this,l)};h.prototype.inspect=function(){let l;const D=Va.INSPECT_MAX_BYTES;l=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim();this.length>D&&(l+=" ... ");return"\x3cBuffer "+l+"\x3e"};Db&&(h.prototype[Db]=h.prototype.inspect);h.prototype.compare=function(l,D,K,v,Q){db(l,Uint8Array)&&
(l=h.from(l,l.offset,l.byteLength));if(!h.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);void 0===D&&(D=0);void 0===K&&(K=l?l.length:0);void 0===v&&(v=0);void 0===Q&&(Q=this.length);if(0>D||K>l.length||0>v||Q>this.length)throw new RangeError("out of range index");if(v>=Q&&D>=K)return 0;if(v>=Q)return-1;if(D>=K)return 1;D>>>=0;K>>>=0;v>>>=0;Q>>>=0;if(this===l)return 0;let A=Q-v,W=K-D;const G=Math.min(A,W);v=this.slice(v,Q);
l=l.slice(D,K);for(D=0;D<G;++D)if(v[D]!==l[D]){A=v[D];W=l[D];break}return A<W?-1:W<A?1:0};h.prototype.includes=function(l,D,K){return-1!==this.indexOf(l,D,K)};h.prototype.indexOf=function(l,D,K){return Ea(this,l,D,K,!0)};h.prototype.lastIndexOf=function(l,D,K){return Ea(this,l,D,K,!1)};h.prototype.write=function(l,D,K,v){if(void 0===D)v="utf8",K=this.length,D=0;else if(void 0===K&&"string"===typeof D)v=D,K=this.length,D=0;else if(isFinite(D))D>>>=0,isFinite(K)?(K>>>=0,void 0===v&&(v="utf8")):(v=K,
K=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-D;if(void 0===K||K>Q)K=Q;if(0<l.length&&(0>K||0>D)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(Q=!1;;)switch(v){case "hex":a:{D=Number(D)||0;v=this.length-D;K?(K=Number(K),K>v&&(K=v)):K=v;v=l.length;K>v/2&&(K=v/2);for(v=0;v<K;++v){Q=parseInt(l.substr(2*v,2),16);if(Q!==Q){l=v;break a}this[D+v]=Q}l=v}return l;case "utf8":case "utf-8":return Nb($a(l,
this.length-D),this,D,K);case "ascii":case "latin1":case "binary":v=[];for(Q=0;Q<l.length;++Q)v.push(l.charCodeAt(Q)&255);return Nb(v,this,D,K);case "base64":return Nb(qb(l),this,D,K);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var A=void 0;v=this.length-D;const W=[];for(let G=0;G<l.length&&!(0>(v-=2));++G)A=l.charCodeAt(G),Q=A>>8,A%=256,W.push(A),W.push(Q);return Nb(W,this,D,K);default:if(Q)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase();Q=!0}};h.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};h.prototype.slice=function(l,D){const K=this.length;l=~~l;D=void 0===D?K:~~D;0>l?(l+=K,0>l&&(l=0)):l>K&&(l=K);0>D?(D+=K,0>D&&(D=0)):D>K&&(D=K);D<l&&(D=l);l=this.subarray(l,D);Object.setPrototypeOf(l,h.prototype);return l};h.prototype.readUintLE=h.prototype.readUIntLE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=this[l];let v=1,Q=0;for(;++Q<D&&(v*=256);)K+=this[l+Q]*v;return K};h.prototype.readUintBE=h.prototype.readUIntBE=function(l,D,
K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=this[l+--D];let v=1;for(;0<D&&(v*=256);)K+=this[l+--D]*v;return K};h.prototype.readUint8=h.prototype.readUInt8=function(l,D){l>>>=0;D||rb(l,1,this.length);return this[l]};h.prototype.readUint16LE=h.prototype.readUInt16LE=function(l,D){l>>>=0;D||rb(l,2,this.length);return this[l]|this[l+1]<<8};h.prototype.readUint16BE=h.prototype.readUInt16BE=function(l,D){l>>>=0;D||rb(l,2,this.length);return this[l]<<8|this[l+1]};h.prototype.readUint32LE=h.prototype.readUInt32LE=
function(l,D){l>>>=0;D||rb(l,4,this.length);return(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]};h.prototype.readUint32BE=h.prototype.readUInt32BE=function(l,D){l>>>=0;D||rb(l,4,this.length);return 16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])};h.prototype.readBigUInt64LE=T(function(l){l>>>=0;Ha(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=D+this[++l]*Math.pow(2,8)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,24);l=this[++l]+this[++l]*
Math.pow(2,8)+this[++l]*Math.pow(2,16)+K*Math.pow(2,24);return BigInt(D)+(BigInt(l)<<BigInt(32))});h.prototype.readBigUInt64BE=T(function(l){l>>>=0;Ha(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=D*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+this[++l];l=this[++l]*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+K;return(BigInt(D)<<BigInt(32))+BigInt(l)});h.prototype.readIntLE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);
K=this[l];let v=1,Q=0;for(;++Q<D&&(v*=256);)K+=this[l+Q]*v;K>=128*v&&(K-=Math.pow(2,8*D));return K};h.prototype.readIntBE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=D;let v=1,Q=this[l+--K];for(;0<K&&(v*=256);)Q+=this[l+--K]*v;Q>=128*v&&(Q-=Math.pow(2,8*D));return Q};h.prototype.readInt8=function(l,D){l>>>=0;D||rb(l,1,this.length);return this[l]&128?-1*(255-this[l]+1):this[l]};h.prototype.readInt16LE=function(l,D){l>>>=0;D||rb(l,2,this.length);l=this[l]|this[l+1]<<8;return l&32768?l|4294901760:
l};h.prototype.readInt16BE=function(l,D){l>>>=0;D||rb(l,2,this.length);l=this[l+1]|this[l]<<8;return l&32768?l|4294901760:l};h.prototype.readInt32LE=function(l,D){l>>>=0;D||rb(l,4,this.length);return this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24};h.prototype.readInt32BE=function(l,D){l>>>=0;D||rb(l,4,this.length);return this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]};h.prototype.readBigInt64LE=T(function(l){l>>>=0;Ha(l,"offset");const D=this[l],K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-
8);return(BigInt(this[l+4]+this[l+5]*Math.pow(2,8)+this[l+6]*Math.pow(2,16)+(K<<24))<<BigInt(32))+BigInt(D+this[++l]*Math.pow(2,8)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,24))});h.prototype.readBigInt64BE=T(function(l){l>>>=0;Ha(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=(D<<24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+this[++l];return(BigInt(D)<<BigInt(32))+BigInt(this[++l]*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+
K)});h.prototype.readFloatLE=function(l,D){l>>>=0;D||rb(l,4,this.length);return ja.read(this,l,!0,23,4)};h.prototype.readFloatBE=function(l,D){l>>>=0;D||rb(l,4,this.length);return ja.read(this,l,!1,23,4)};h.prototype.readDoubleLE=function(l,D){l>>>=0;D||rb(l,8,this.length);return ja.read(this,l,!0,52,8)};h.prototype.readDoubleBE=function(l,D){l>>>=0;D||rb(l,8,this.length);return ja.read(this,l,!1,52,8)};h.prototype.writeUintLE=h.prototype.writeUIntLE=function(l,D,K,v){l=+l;D>>>=0;K>>>=0;v||pb(this,
l,D,K,Math.pow(2,8*K)-1,0);v=1;let Q=0;for(this[D]=l&255;++Q<K&&(v*=256);)this[D+Q]=l/v&255;return D+K};h.prototype.writeUintBE=h.prototype.writeUIntBE=function(l,D,K,v){l=+l;D>>>=0;K>>>=0;v||pb(this,l,D,K,Math.pow(2,8*K)-1,0);v=K-1;let Q=1;for(this[D+v]=l&255;0<=--v&&(Q*=256);)this[D+v]=l/Q&255;return D+K};h.prototype.writeUint8=h.prototype.writeUInt8=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,1,255,0);this[D]=l&255;return D+1};h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(l,D,K){l=
+l;D>>>=0;K||pb(this,l,D,2,65535,0);this[D]=l&255;this[D+1]=l>>>8;return D+2};h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,65535,0);this[D]=l>>>8;this[D+1]=l&255;return D+2};h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,4294967295,0);this[D+3]=l>>>24;this[D+2]=l>>>16;this[D+1]=l>>>8;this[D]=l&255;return D+4};h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,
l,D,4,4294967295,0);this[D]=l>>>24;this[D+1]=l>>>16;this[D+2]=l>>>8;this[D+3]=l&255;return D+4};h.prototype.writeBigUInt64LE=T(function(l,D=0){return vb(this,l,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeBigUInt64BE=T(function(l,D=0){return gb(this,l,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeIntLE=function(l,D,K,v){l=+l;D>>>=0;v||(v=Math.pow(2,8*K-1),pb(this,l,D,K,v-1,-v));v=0;let Q=1,A=0;for(this[D]=l&255;++v<K&&(Q*=256);)0>l&&0===A&&0!==this[D+v-1]&&(A=1),this[D+
v]=(l/Q>>0)-A&255;return D+K};h.prototype.writeIntBE=function(l,D,K,v){l=+l;D>>>=0;v||(v=Math.pow(2,8*K-1),pb(this,l,D,K,v-1,-v));v=K-1;let Q=1,A=0;for(this[D+v]=l&255;0<=--v&&(Q*=256);)0>l&&0===A&&0!==this[D+v+1]&&(A=1),this[D+v]=(l/Q>>0)-A&255;return D+K};h.prototype.writeInt8=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,1,127,-128);0>l&&(l=255+l+1);this[D]=l&255;return D+1};h.prototype.writeInt16LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,32767,-32768);this[D]=l&255;this[D+1]=l>>>8;return D+
2};h.prototype.writeInt16BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,32767,-32768);this[D]=l>>>8;this[D+1]=l&255;return D+2};h.prototype.writeInt32LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,2147483647,-2147483648);this[D]=l&255;this[D+1]=l>>>8;this[D+2]=l>>>16;this[D+3]=l>>>24;return D+4};h.prototype.writeInt32BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,2147483647,-2147483648);0>l&&(l=4294967295+l+1);this[D]=l>>>24;this[D+1]=l>>>16;this[D+2]=l>>>8;this[D+3]=l&255;return D+4};h.prototype.writeBigInt64LE=
T(function(l,D=0){return vb(this,l,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeBigInt64BE=T(function(l,D=0){return gb(this,l,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeFloatLE=function(l,D,K){return sa(this,l,D,!0,K)};h.prototype.writeFloatBE=function(l,D,K){return sa(this,l,D,!1,K)};h.prototype.writeDoubleLE=function(l,D,K){return ia(this,l,D,!0,K)};h.prototype.writeDoubleBE=function(l,D,K){return ia(this,l,D,!1,K)};h.prototype.copy=
function(l,D,K,v){if(!h.isBuffer(l))throw new TypeError("argument should be a Buffer");K||(K=0);v||0===v||(v=this.length);D>=l.length&&(D=l.length);D||(D=0);0<v&&v<K&&(v=K);if(v===K||0===l.length||0===this.length)return 0;if(0>D)throw new RangeError("targetStart out of bounds");if(0>K||K>=this.length)throw new RangeError("Index out of range");if(0>v)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length);l.length-D<v-K&&(v=l.length-D+K);const Q=v-K;this===l&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(D,K,v):Uint8Array.prototype.set.call(l,this.subarray(K,v),D);return Q};h.prototype.fill=function(l,D,K,v){if("string"===typeof l){"string"===typeof D?(v=D,D=0,K=this.length):"string"===typeof K&&(v=K,K=this.length);if(void 0!==v&&"string"!==typeof v)throw new TypeError("encoding must be a string");if("string"===typeof v&&!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(1===l.length){var Q=l.charCodeAt(0);if("utf8"===v&&128>Q||"latin1"===v)l=Q}}else"number"===typeof l?
l&=255:"boolean"===typeof l&&(l=Number(l));if(0>D||this.length<D||this.length<K)throw new RangeError("Out of range index");if(K<=D)return this;D>>>=0;K=void 0===K?this.length:K>>>0;l||(l=0);if("number"===typeof l)for(v=D;v<K;++v)this[v]=l;else{Q=h.isBuffer(l)?l:h.from(l,v);const A=Q.length;if(0===A)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(v=0;v<K-D;++v)this[v+D]=Q[v%A]}return this};const Ma={};Ba("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ba("ERR_INVALID_ARG_TYPE",function(l,D){return`The "${l}" argument must be of type number. Received type ${typeof D}`},TypeError);Ba("ERR_OUT_OF_RANGE",function(l,D,K){l=`The value of "${l}" is out of range.`;let v=K;if(Number.isInteger(K)&&Math.abs(K)>Math.pow(2,32))v=Sa(String(K));else if("bigint"===typeof K){v=String(K);if(K>Math.pow(BigInt(2),BigInt(32))||K<-Math.pow(BigInt(2),BigInt(32)))v=Sa(v);v+="n"}return l+` It must be ${D}. Received ${v}`},
RangeError);const oa=/[^+/0-9A-Za-z-_]/g,qa=function(){const l=Array(256);for(let D=0;16>D;++D){const K=16*D;for(let v=0;16>v;++v)l[K+v]="0123456789abcdef"[D]+"0123456789abcdef"[v]}return l}()};
shadow$provide[28]=function(Db,nb,Dc,Va){var t=nb(27).Buffer;(function(h,ka){"object"===typeof Va&&"undefined"!==typeof Dc?ka(Va,nb(21),nb(22),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ka):(h="undefined"!==typeof globalThis?globalThis:h||self,ka(h.vega={},h.vega,h.topojson,h.vega))})(this,function(h,ka,Ya,ub){function Yb(oa,qa){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const D=yield l.sanitize(oa,
qa),K=D.href;return D.localFile?l.file(K):l.http(K,qa)})}function dc(oa,qa){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa=ka.extend({},l.options,qa);const D=l.fileAccess,K={href:null};var v;let Q;var A=Ha.test(oa.replace(hb,""));null!=oa&&"string"===typeof oa&&A||ka.error("Sanitize failure, invalid URI: "+ka.stringValue(oa));A=Wa.test(oa);(v=qa.baseURL)&&!A&&(oa.startsWith("/")||v.endsWith("/")||(oa="/"+oa),oa=v+oa);Q=(v=oa.startsWith("file://"))||"file"===qa.mode||
"http"!==qa.mode&&!A&&D;v?oa=oa.slice(7):oa.startsWith("//")&&("file"===qa.defaultProtocol?(oa=oa.slice(2),Q=!0):oa=(qa.defaultProtocol||"http")+":"+oa);Object.defineProperty(K,"localFile",{value:!!Q});K.href=oa;qa.target&&(K.target=qa.target+"");qa.rel&&(K.rel=qa.rel+"");"image"===qa.context&&qa.crossOrigin&&(K.crossOrigin=qa.crossOrigin+"");return K})}function Wb(oa){return oa?qa=>new Promise((l,D)=>{oa.readFile(qa,(K,v)=>{K?D(K):l(v)})}):oc}function oc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka.error("No file system access.")})}
function Ab(oa){return oa?function(qa,l){const D=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var K=ka.extend({},D.options.http,l);const v=l&&l.response;K=yield oa(qa,K);return K.ok?ka.isFunction(K[v])?K[v]():K.text():ka.error(K.status+""+K.statusText)})}:Tb}function Tb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka.error("No HTTP fetch method available.")})}function jc(oa,qa){if(!oa||!oa.length)return"unknown";const l=oa.length,D=Nb.length,K=Nb.map((v,
Q)=>Q+1);for(let v=0,Q=0,A,W;v<l;++v)for(W=qa?oa[v][qa]:oa[v],A=0;A<D;++A)if(K[A]&&null!=W&&W===W&&!Nb[A](W)&&(K[A]=0,++Q,Q===Nb.length))return"string";return db[K.reduce((v,Q)=>0===v?Q:v,0)-1]}function Ea(oa,qa){return qa.reduce((l,D)=>{l[D]=jc(oa,D);return l},{})}function Za(oa){return new Function("d","return {"+oa.map(function(qa,l){return JSON.stringify(qa)+": d["+l+'] || ""'}).join(",")+"}")}function tb(oa,qa){var l=Za(oa);return function(D,K){return qa(l(D),K,oa)}}function rb(oa){var qa=Object.create(null),
l=[];oa.forEach(function(D){for(var K in D)K in qa||l.push(qa[K]=K)});return l}function pb(oa,qa){oa+="";var l=oa.length;return l<qa?Array(qa-l+1).join(0)+oa:oa}function vb(oa){function qa(A,W){function G(){if(N)return ba;if(la)return la=!1,T;var Na,Pa=F,Xa;if(34===A.charCodeAt(Pa)){for(;F++<z&&34!==A.charCodeAt(F)||34===A.charCodeAt(++F););(Na=F)>=z?N=!0:10===(Xa=A.charCodeAt(F++))?la=!0:13===Xa&&(la=!0,10===A.charCodeAt(F)&&++F);return A.slice(Pa+1,Na-1).replace(/""/g,'"')}for(;F<z;){if(10===(Xa=
A.charCodeAt(Na=F++)))la=!0;else if(13===Xa)la=!0,10===A.charCodeAt(F)&&++F;else if(Xa!==Q)continue;return A.slice(Pa,Na)}return N=!0,A.slice(Pa,z)}var w=[],z=A.length,F=0,V=0,ta,N=0>=z,la=!1;10===A.charCodeAt(z-1)&&--z;for(13===A.charCodeAt(z-1)&&--z;(ta=G())!==ba;){for(var wa=[];ta!==T&&ta!==ba;)wa.push(ta),ta=G();W&&null==(wa=W(wa,V++))||w.push(wa)}return w}function l(A,W){return A.map(function(G){return W.map(function(w){return K(G[w])}).join(oa)})}function D(A){return A.map(K).join(oa)}function K(A){if(null==
A)A="";else{if(A instanceof Date){var W=A.getUTCHours();var G=A.getUTCMinutes(),w=A.getUTCSeconds(),z=A.getUTCMilliseconds();if(isNaN(A))A="Invalid Date";else{var F=A.getUTCFullYear();A=(0>F?"-"+pb(-F,6):9999<F?"+"+pb(F,6):pb(F,4))+"-"+pb(A.getUTCMonth()+1,2)+"-"+pb(A.getUTCDate(),2)+(z?"T"+pb(W,2)+":"+pb(G,2)+":"+pb(w,2)+"."+pb(z,3)+"Z":w?"T"+pb(W,2)+":"+pb(G,2)+":"+pb(w,2)+"Z":G||W?"T"+pb(W,2)+":"+pb(G,2)+"Z":"")}W=A}else W=v.test(A+="")?'"'+A.replace(/"/g,'""')+'"':A;A=W}return A}var v=new RegExp('["'+
oa+"\n\r]"),Q=oa.charCodeAt(0);return{parse:function(A,W){var G,w;A=qa(A,function(z,F){if(G)return G(z,F-1);w=z;G=W?tb(z,W):Za(z)});A.columns=w||[];return A},parseRows:qa,format:function(A,W){null==W&&(W=rb(A));return[W.map(K).join(oa)].concat(l(A,W)).join("\n")},formatBody:function(A,W){null==W&&(W=rb(A));return l(A,W).join("\n")},formatRows:function(A){return A.map(D).join("\n")},formatRow:D,formatValue:K}}function gb(oa){const qa=function(l,D){const K={delimiter:oa};return fc(l,D?ka.extend(D,K):
K)};qa.responseType="text";return qa}function fc(oa,qa){qa.header&&(oa=qa.header.map(ka.stringValue).join(qa.delimiter)+"\n"+oa);return vb(qa.delimiter).parse(oa+"")}function sa(oa,qa){const l=qa&&qa.property?ka.field(qa.property):ka.identity;var D;if(D=ka.isObject(oa))D=!("function"===typeof t&&ka.isFunction(t.isBuffer)&&t.isBuffer(oa));D?(oa=l(oa),!ka.isArray(oa)&&ka.isIterable(oa)&&(oa=[...oa]),qa=qa&&qa.copy?JSON.parse(JSON.stringify(oa)):oa):qa=l(JSON.parse(oa));return qa}function ia(oa,qa){let l,
D,K,v;oa=sa(oa,qa);qa&&qa.feature?(l=Ya.feature,K=qa.feature):qa&&qa.mesh?(l=Ya.mesh,K=qa.mesh,v=ea[qa.filter]):ka.error("Missing TopoJSON feature or mesh parameter.");return(D=(D=oa.objects[K])?l(oa,D,v):ka.error("Invalid TopoJSON object: "+K))&&D.features||[D]}function Ba(oa,qa){return 1<arguments.length?(ja[oa]=qa,this):ka.hasOwnProperty(ja,oa)?ja[oa]:null}function Sa(oa,qa,l,D){if(oa.length){var K=ub.timeFormatDefaultLocale();l=l||K.timeParse;D=D||K.utcParse;K=oa.columns||Object.keys(oa[0]);var v,
Q;"auto"===qa&&(qa=Ea(oa,K));K=Object.keys(qa);var A=K.map(F=>{var V=qa[F];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){F=V.split(/:(.+)?/,2);V=F[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===F[0]?D:l)(V)}if(!qb[V])throw Error("Illegal format pattern: "+F+":"+V);return qb[V]});var W=0;var G=oa.length;for(Q=K.length;W<G;++W){var w=oa[W];for(v=0;v<Q;++v){var z=K[v];w[z]=A[v](w[z])}}}}const Wa=/^(data:|([A-Za-z]+:)?\/\/)/,Ha=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
hb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,$a=oa=>!Number.isNaN(+oa)&&!(oa instanceof Date),qb={boolean:ka.toBoolean,integer:ka.toNumber,number:ka.toNumber,date:ka.toDate,string:ka.toString,unknown:ka.identity},Nb=[oa=>"true"===oa||"false"===oa||!0===oa||!1===oa,oa=>$a(oa)&&Number.isInteger(+oa),$a,oa=>!Number.isNaN(Date.parse(oa))],db=["boolean","integer","number","date"];var T={},ba={};fc.responseType="text";sa.responseType="json";const ea={interior:(oa,qa)=>oa!==qa,exterior:(oa,
qa)=>oa===qa};ia.responseType="json";const ja={dsv:fc,csv:gb(","),tsv:gb("\t"),json:sa,topojson:ia},Ma=function(oa,qa){return l=>({options:l||{},sanitize:dc,load:Yb,fileAccess:!!qa,file:Wb(qa),http:Ab(oa)})}("undefined"!==typeof fetch&&fetch,null);h.format=ja;h.formats=Ba;h.inferType=jc;h.inferTypes=Ea;h.loader=Ma;h.read=function(oa,qa,l,D){qa=qa||{};const K=Ba(qa.type||"json");K||ka.error("Unknown data format type: "+qa.type);oa=K(oa,qa);qa.parse&&Sa(oa,qa.parse,l,D);ka.hasOwnProperty(oa,"columns")&&
delete oa.columns;return oa};h.responseType=function(oa){return(oa=Ba(oa))&&oa.responseType||"text"};h.typeParsers=qb})};
shadow$provide[29]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(28),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya){function ub(v){const Q=v||h.identity,A=[],W={};A.add=G=>{const w=Q(G);W[w]||(W[w]=1,A.push(G));return A};A.remove=G=>{const w=Q(G);W[w]&&(W[w]=0,G=A.indexOf(G),
0<=G&&A.splice(G,1));return A};return A}function Yb(v,Q){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Q(v)}catch(A){v.error(A)}})}function dc(v){v=v===Object(v)?v:{data:v};if(!v[ba]){var Q=ea++;v[ba]=Q}return v}function Wb(v,Q){for(const A in v)Q[A]=v[A];return Q}function oc(v){return v&&v.constructor===Ab}function Ab(){const v=[],Q=[],A=[],W=[],G=[];let w=null,z=!1;return{constructor:Ab,insert(F){F=h.array(F);const V=F.length;for(let ta=0;ta<V;++ta)v.push(F[ta]);return this},
remove(F){const V=h.isFunction(F)?W:Q;F=h.array(F);const ta=F.length;for(let N=0;N<ta;++N)V.push(F[N]);return this},modify(F,V,ta){V={field:V,value:h.constant(ta)};h.isFunction(F)?(V.filter=F,G.push(V)):(V.tuple=F,A.push(V));return this},encode(F,V){h.isFunction(F)?G.push({filter:F,field:V}):A.push({tuple:F,field:V});return this},clean(F){w=F;return this},reflow(){z=!0;return this},pulse(F,V){function ta(Sb,X,Fa){Fa?Sb[X]=Fa(Sb):F.encode=X;z||(la[Sb[ba]]=Sb)}const N={},la={};let wa,Na,Pa,Xa,sb,ib;
wa=0;for(Na=V.length;wa<Na;++wa)N[V[wa][ba]]=1;wa=0;for(Na=Q.length;wa<Na;++wa)sb=Q[wa],N[sb[ba]]=-1;wa=0;for(Na=W.length;wa<Na;++wa)Xa=W[wa],V.forEach(Sb=>{Xa(Sb)&&(N[Sb[ba]]=-1)});wa=0;for(Na=v.length;wa<Na;++wa)sb=v[wa],ib=sb[ba],N[ib]?N[ib]=1:F.add.push(dc(v[wa]));wa=0;for(Na=V.length;wa<Na;++wa)sb=V[wa],0>N[sb[ba]]&&F.rem.push(sb);wa=0;for(Na=A.length;wa<Na;++wa)Pa=A[wa],sb=Pa.tuple,Xa=Pa.field,ib=N[sb[ba]],0<ib&&(ta(sb,Xa,Pa.value),F.modifies(Xa));wa=0;for(Na=G.length;wa<Na;++wa)Pa=G[wa],Xa=
Pa.filter,V.forEach(Sb=>{Xa(Sb)&&0<N[Sb[ba]]&&ta(Sb,Pa.field,Pa.value)}),F.modifies(Pa.field);if(z)F.mod=Q.length||W.length?V.filter(Sb=>0<N[Sb[ba]]):V.slice();else for(ib in la)F.mod.push(la[ib]);(w||null==w&&(Q.length||W.length))&&F.clean(!0);return F}}}function Tb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function jc(v,Q,A,W){this.id=++ja;this.value=v;this.qrank=this.rank=this.stamp=-1;this.flags=0;Q&&(this._update=Q);A&&this.parameters(A,W)}function Ea(v){return function(Q){const A=
this.flags;if(0===arguments.length)return!!(A&v);this.flags=Q?A|v:A&~v;return this}}function Za(v,Q,A){this.id=++oa;this.value=null;A&&(this.receive=A);v&&(this._filter=v);Q&&(this._apply=Q)}function tb(v,Q,A){return new Za(v,Q,A)}function rb(v){let Q;const A=new Promise(W=>Q=W);A.requests=0;A.done=()=>{0===--A.requests&&(v._pending=null,Q(v))};return v._pending=A}function pb(v,Q,A,W,G,w){const z=h.extend({},w,qa);let F;h.isFunction(A)||(A=h.constant(A));void 0===W?G=V=>v.touch(A(V)):h.isFunction(W)?
(F=new jc(null,W,G,!1),G=V=>{F.evaluate(V);V=A(V);const ta=F.value;oc(ta)?v.pulse(V,ta,w):v.update(V,ta,z)}):G=V=>v.update(A(V),W,z);Q.apply(G)}function vb(v,Q,A,W,G,w){void 0===W?Q.targets().add(A):(w=w||{},W=new jc(null,gb(A,W),G,!1),W.modified(w.force),W.rank=Q.rank,Q.targets().add(W),A&&(W.skip(!0),W.value=A.value,W.targets().add(A),v.connect(A,[W])))}function gb(v,Q){Q=h.isFunction(Q)?Q:h.constant(Q);return v?function(A,W){A=Q(A,W);v.skip()||(v.skip(A!==this.value).value=A);return A}:Q}function fc(v,
Q,A){this.dataflow=v;this.stamp=null==Q?-1:Q;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=A||null}function sa(v,Q){const A=[];h.visitArray(v,Q,W=>A.push(W));return A}function ia(v,Q){const A={};v.visit(Q,W=>{A[W[ba]]=1});return W=>A[W[ba]]?null:W}function Ba(v,Q){return v?(A,W)=>v(A,W)&&Q(A,W):Q}function Sa(v,Q,A,W){let G=0;this.dataflow=v;this.stamp=Q;this.fields=null;this.encode=W||null;this.pulses=A;for(const w of A)if(w.stamp===Q){if(w.fields){v=this.fields||(this.fields={});
for(const z in w.fields)v[z]=1}w.changed(this.ADD)&&(G|=this.ADD);w.changed(this.REM)&&(G|=this.REM);w.changed(this.MOD)&&(G|=this.MOD)}this.changes=G}function Wa(v){v.error("Dataflow already running. Use runAsync() to chain invocations.");return v}function Ha(v,Q){if(Q&&Q.stamp===v.stamp)return Q;v=v.fork();Q&&Q!==l&&(v.source=Q.source);return v}function hb(v){let Q=[];return{clear:()=>Q=[],size:()=>Q.length,peek:()=>Q[0],push:A=>{Q.push(A);return $a(Q,0,Q.length-1,v)},pop:()=>{var A=Q.pop();let W;
if(Q.length){W=Q[0];Q[0]=A;A=Q;var G=0;const w=G,z=A.length,F=A[G];let V=(G<<1)+1,ta;for(;V<z;)ta=V+1,ta<z&&0<=v(A[V],A[ta])&&(V=ta),A[G]=A[V],G=V,V=(G<<1)+1;A[G]=F;$a(A,w,G,v)}else W=A;return W}}}function $a(v,Q,A,W){let G,w;const z=v[A];for(;A>Q;)if(w=A-1>>1,G=v[w],0>W(z,G))v[A]=G,A=w;else break;return v[A]=z}function qb(){this.logger(h.logger());this.logLevel(h.Error);this._rank=this._clock=0;this._locale=Ya.defaultLocale();try{this._loader=ka.loader()}catch(v){}this._touched=ub(h.id);this._input=
{};this._pulse=null;this._heap=hb((v,Q)=>v.qrank-Q.qrank);this._postrun=[]}function Nb(v){return function(){return this._log[v].apply(this,arguments)}}function db(v,Q){jc.call(this,v,null,Q)}function T(v){v=v&&v.toLowerCase();return h.hasOwnProperty(K,v)?K[v]:null}const ba=Symbol("vega_id");let ea=1;Tb.prototype={set(v,Q,A,W){const G=this[v],w=this["_:mod:_"];if(null!=Q&&0<=Q){if(G[Q]!==A||W)G[Q]=A,w[Q+":"+v]=-1,w[v]=-1}else if(G!==A||W)this[v]=A,w[v]=h.isArray(A)?1+A.length:-1;return this},modified(v,
Q){const A=this["_:mod:_"];if(!arguments.length){for(var W in A)if(A[W])return!0;return!1}if(h.isArray(v)){for(W=0;W<v.length;++W)if(A[v[W]])return!0;return!1}return null!=Q&&0<=Q?Q+1<A[v]||!!A[Q+":"+v]:!!A[v]},clear(){this["_:mod:_"]={};return this}};let ja=0;const Ma=new Tb;jc.prototype={targets(){return this._targets||(this._targets=ub(h.id))},set(v){return this.value!==v?(this.value=v,1):0},skip:Ea(1),modified:Ea(2),parameters(v,Q,A){Q=!1!==Q;const W=this._argval=this._argval||new Tb,G=this._argops=
this._argops||[],w=[];let z,F,V,ta;const N=(la,wa,Na)=>{Na instanceof jc?(Na!==this&&(Q&&Na.targets().add(this),w.push(Na)),G.push({op:Na,name:la,index:wa})):W.set(la,wa,Na)};for(z in v)if(F=v[z],"pulse"===z)h.array(F).forEach(la=>{la instanceof jc?la!==this&&(la.targets().add(this),w.push(la)):h.error("Pulse parameters must be operator instances.")}),this.source=F;else if(h.isArray(F))for(W.set(z,-1,Array(V=F.length)),ta=0;ta<V;++ta)N(z,ta,F[ta]);else N(z,-1,F);this.marshall().clear();A&&(G.initonly=
!0);return w},marshall(v){const Q=this._argval||Ma,A=this._argops;let W,G,w,z;if(A){const F=A.length;for(G=0;G<F;++G)W=A[G],w=W.op,z=w.modified()&&w.stamp===v,Q.set(W.name,W.index,w.value,z);if(A.initonly){for(G=0;G<F;++G)W=A[G],W.op.targets().remove(this);this._update=this._argops=null}}return Q},detach(){const v=this._argops;let Q,A;if(v)for(Q=0,A=v.length;Q<A;++Q){var W=v[Q];W=W.op;W._targets&&W._targets.remove(this)}this.source=this.pulse=null},evaluate(v){var Q=this._update;if(Q){const A=this.marshall(v.stamp);
Q=Q.call(this,A,v);A.clear();if(Q!==this.value)this.value=Q;else if(!this.modified())return v.StopPropagation}},run(v){if(v.stamp<this.stamp)return v.StopPropagation;let Q;this.skip()?(this.skip(!1),Q=0):Q=this.evaluate(v);return this.pulse=Q||v}};let oa=0;Za.prototype={_filter:h.truthy,_apply:h.identity,targets(){return this._targets||(this._targets=ub(h.id))},consume(v){if(!arguments.length)return!!this._consume;this._consume=!!v;return this},receive(v){if(this._filter(v)){const Q=this.value=this._apply(v),
A=this._targets,W=A?A.length:0;for(let G=0;G<W;++G)A[G].receive(Q);this._consume&&(v.preventDefault(),v.stopPropagation())}},filter(v){v=tb(v);this.targets().add(v);return v},apply(v){v=tb(null,v);this.targets().add(v);return v},merge(){const v=tb();this.targets().add(v);for(let Q=0,A=arguments.length;Q<A;++Q)arguments[Q].targets().add(v);return v},throttle(v){let Q=-1;return this.filter(()=>{const A=Date.now();return A-Q>v?(Q=A,1):0})},debounce(v){const Q=tb();this.targets().add(tb(null,null,h.debounce(v,
A=>{const W=A.dataflow;Q.receive(A);W&&W.run&&W.run()})));return Q},between(v,Q){let A=!1;v.targets().add(tb(null,null,()=>A=!0));Q.targets().add(tb(null,null,()=>A=!1));return this.filter(()=>A)},detach(){this._filter=h.truthy;this._targets=null}};const qa={skip:!0},l={};fc.prototype={StopPropagation:l,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(v){return(new fc(this.dataflow)).init(this,v)},clone(){const v=this.fork(7);v.add=v.add.slice();v.rem=
v.rem.slice();v.mod=v.mod.slice();v.source&&(v.source=v.source.slice());return v.materialize(23)},addAll(){let v=this;v.source&&v.add!==v.rem&&(v.rem.length||v.source.length!==v.add.length)&&(v=(new fc(this.dataflow)).init(this),v.add=v.source,v.rem=[]);return v},init(v,Q){this.stamp=v.stamp;this.encode=v.encode;!v.fields||Q&64||(this.fields=v.fields);Q&1?(this.addF=v.addF,this.add=v.add):(this.addF=null,this.add=[]);Q&2?(this.remF=v.remF,this.rem=v.rem):(this.remF=null,this.rem=[]);Q&4?(this.modF=
v.modF,this.mod=v.mod):(this.modF=null,this.mod=[]);Q&32?this.source=this.srcF=null:(this.srcF=v.srcF,this.source=v.source,v.cleans&&(this.cleans=v.cleans));return this},runAfter(v){this.dataflow.runAfter(v)},changed(v){v=v||7;return v&1&&this.add.length||v&2&&this.rem.length||v&4&&this.mod.length},reflow(v){if(v)return this.fork(7).reflow();v=this.add.length;const Q=this.source&&this.source.length;Q&&Q!==v&&(this.mod=this.source,v&&this.filter(4,ia(this,1)));return this},clean(v){return arguments.length?
(this.cleans=!!v,this):this.cleans},modifies(v){const Q=this.fields||(this.fields={});h.isArray(v)?v.forEach(A=>Q[A]=!0):Q[v]=!0;return this},modified(v,Q){const A=this.fields;return(Q||this.mod.length)&&A?arguments.length?h.isArray(v)?v.some(W=>A[W]):A[v]:!!A:!1},filter(v,Q){v&1&&(this.addF=Ba(this.addF,Q));v&2&&(this.remF=Ba(this.remF,Q));v&4&&(this.modF=Ba(this.modF,Q));v&16&&(this.srcF=Ba(this.srcF,Q));return this},materialize(v){v=v||7;v&1&&this.addF&&(this.add=sa(this.add,this.addF),this.addF=
null);v&2&&this.remF&&(this.rem=sa(this.rem,this.remF),this.remF=null);v&4&&this.modF&&(this.mod=sa(this.mod,this.modF),this.modF=null);v&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(v,Q){if(v&16)return h.visitArray(this.source,this.srcF,Q),this;v&1&&h.visitArray(this.add,this.addF,Q);v&2&&h.visitArray(this.rem,this.remF,Q);v&4&&h.visitArray(this.mod,this.modF,Q);const A=this.source;v&8&&A&&(v=this.add.length+this.mod.length,v!==A.length&&(v?h.visitArray(A,
ia(this,5),Q):h.visitArray(A,this.srcF,Q)));return this}};h.inherits(Sa,fc,{fork(v){const Q=(new fc(this.dataflow)).init(this,v&this.NO_FIELDS);void 0!==v&&(v&Q.ADD&&this.visit(Q.ADD,A=>Q.add.push(A)),v&Q.REM&&this.visit(Q.REM,A=>Q.rem.push(A)),v&Q.MOD&&this.visit(Q.MOD,A=>Q.mod.push(A)));return Q},changed(v){return this.changes&v},modified(v){const Q=this.fields;return Q&&this.changes&this.MOD?h.isArray(v)?v.some(A=>Q[A]):Q[v]:0},filter(){h.error("MultiPulse does not support filtering.")},materialize(){h.error("MultiPulse does not support materialization.")},
visit(v,Q){const A=this.pulses,W=A.length;let G=0;if(v&this.SOURCE)for(;G<W;++G)A[G].visit(v,Q);else for(;G<W;++G)A[G].stamp===this.stamp&&A[G].visit(v,Q);return this}});const D={skip:!1,force:!1};qb.prototype={stamp(){return this._clock},loader(v){return arguments.length?(this._loader=v,this):this._loader},locale(v){return arguments.length?(this._locale=v,this):this._locale},logger(v){return arguments.length?(this._log=v,this):this._log},error:Nb("error"),warn:Nb("warn"),info:Nb("info"),debug:Nb("debug"),
logLevel:Nb("level"),cleanThreshold:1E4,add:function(v,Q,A,W){let G=1;v instanceof jc||(v&&v.prototype instanceof jc?v=new v:h.isFunction(v)?v=new jc(null,v):(G=0,v=new jc(v,Q)));this.rank(v);G&&(W=A,A=Q);A&&this.connect(v,v.parameters(A,W));this.touch(v);return v},connect:function(v,Q){const A=v.rank,W=Q.length;for(let G=0;G<W;++G)if(A<Q[G].rank){this.rerank(v);break}},rank:function(v){v.rank=++this._rank},rerank:function(v){const Q=[v];let A,W,G;for(;Q.length;)if(this.rank(A=Q.pop()),W=A._targets)for(G=
W.length;0<=--G;)Q.push(A=W[G]),A===v&&h.error("Cycle detected in dataflow graph.")},pulse:function(v,Q,A){this.touch(v,A||D);A=new fc(this,this._clock+(this._pulse?0:1));const W=v.pulse&&v.pulse.source||[];A.target=v;this._input[v.id]=Q.pulse(A,W);return this},touch:function(v,Q){Q=Q||D;this._pulse?this._enqueue(v):this._touched.add(v);Q.skip&&v.skip(!0);return this},update:function(v,Q,A){A=A||D;(v.set(Q)||A.force)&&this.touch(v,A);return this},changeset:Ab,ingest:function(v,Q,A){Q=this.parse(Q,
A);return this.pulse(v,this.changeset().insert(Q))},parse:function(v,Q){const A=this.locale();return ka.read(v,Q,A.timeParse,A.utcParse)},preload:function(v,Q,A){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=W._pending||rb(W);G.requests+=1;const w=yield W.request(Q,A);W.pulse(v,W.changeset().remove(h.truthy).insert(w.data||[]));G.done();return w})},request:function(v,Q){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let W=0,G;try{G=
yield A.loader().load(v,{context:"dataflow",response:ka.responseType(Q&&Q.type)});try{G=A.parse(G,Q)}catch(w){W=-2,A.warn("Data ingestion failed",v,w)}}catch(w){W=-1,A.warn("Loading failed",v,w)}return{data:G,status:W}})},events:function(v,Q,A,W){const G=this,w=tb(A,W);A=function(z){z.dataflow=G;try{w.receive(z)}catch(F){G.error(F)}finally{G.run()}};v="string"===typeof v&&"undefined"!==typeof document?document.querySelectorAll(v):h.array(v);W=v.length;for(let z=0;z<W;++z)v[z].addEventListener(Q,A);
return w},on:function(v,Q,A,W,G){(v instanceof jc?vb:pb)(this,v,Q,A,W,G);return this},evaluate:function(v,Q,A){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=[];if(W._pulse)return Wa(W);W._pending&&(yield W._pending);Q&&(yield Yb(W,Q));if(!W._touched.length)return W.debug("Dataflow invoked, but nothing to do."),W;var w=++W._clock;W._pulse=new fc(W,w,v);W._touched.forEach(N=>W._enqueue(N,!0));W._touched=ub(h.id);var z=0;let F,V,ta;try{for(;0<W._heap.size();)F=
W._heap.pop(),F.rank!==F.qrank?W._enqueue(F,!0):(V=F.run(W._getPulse(F,v)),V.then?V=yield V:V.async&&(G.push(V.async),V=l),V!==l&&F._targets&&F._targets.forEach(N=>W._enqueue(N)),++z)}catch(N){W._heap.clear(),ta=N}W._input={};W._pulse=null;W.debug(`Pulse ${w}: ${z} operators`);ta&&(W._postrun=[],W.error(ta));if(W._postrun.length)for(w=W._postrun.sort((N,la)=>la.priority-N.priority),W._postrun=[],z=0;z<w.length;++z)yield Yb(W,w[z].callback);A&&(yield Yb(W,A));G.length&&Promise.all(G).then(N=>W.runAsync(null,
()=>{N.forEach(la=>{try{la(W)}catch(wa){W.error(wa)}})}));return W})},run:function(v,Q,A){return this._pulse?Wa(this):(this.evaluate(v,Q,A),this)},runAsync:function(v,Q,A){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;W._running;)yield W._running;const G=()=>W._running=null;(W._running=W.evaluate(v,Q,A)).then(G,G);return W._running})},runAfter:function(v,Q,A){if(this._pulse||Q)this._postrun.push({priority:A||0,callback:v});else try{v(this)}catch(W){this.error(W)}},
_enqueue:function(v,Q){const A=v.stamp<this._clock;A&&(v.stamp=this._clock);if(A||Q)v.qrank=v.rank,this._heap.push(v)},_getPulse:function(v,Q){const A=v.source,W=this._clock;return A&&h.isArray(A)?new Sa(this,W,A.map(G=>G.pulse),Q):this._input[v.id]||Ha(this._pulse,A&&A.pulse)}};h.inherits(db,jc,{run(v){if(v.stamp<this.stamp)return v.StopPropagation;let Q;this.skip()?this.skip(!1):Q=this.evaluate(v);Q=Q||v;Q.then?Q=Q.then(A=>this.pulse=A):Q!==v.StopPropagation&&(this.pulse=Q);return Q},evaluate(v){const Q=
this.marshall(v.stamp);v=this.transform(Q,v);Q.clear();return v},transform(){}});const K={};t.Dataflow=qb;t.EventStream=Za;t.MultiPulse=Sa;t.Operator=jc;t.Parameters=Tb;t.Pulse=fc;t.Transform=db;t.UniqueList=ub;t.asyncCallback=Yb;t.changeset=Ab;t.definition=function(v){return(v=T(v))&&v.Definition||null};t.derive=function(v){return Wb(v,dc({}))};t.ingest=dc;t.isChangeSet=oc;t.isTuple=function(v){return!(!v||!v[ba])};t.rederive=Wb;t.replace=function(v,Q){Q[ba]=v[ba];return Q};t.stableCompare=function(v,
Q){return v?Q?(A,W)=>v(A,W)||Q(A)[ba]-Q(W)[ba]:(A,W)=>v(A,W)||A[ba]-W[ba]:null};t.transform=T;t.transforms=K;t.tupleid=function(v){return v[ba]}})};
shadow$provide[30]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function*h(A,W){if(null==W)for(var G of A)null!=G&&""!==G&&(G=+G)>=G&&(yield G);else{G=-1;for(let w of A)w=W(w,++G,A),null!=w&&""!==w&&(w=+w)>=w&&(yield w)}}function ka(A,W){return null==A||null==W?NaN:A<W?-1:A>W?1:A>=W?0:NaN}function Ya(A){return null===
A?NaN:+A}function*ub(A,W){if(void 0===W)for(var G of A)null!=G&&(G=+G)>=G&&(yield G);else{G=-1;for(let w of A)null!=(w=W(w,++G,A))&&(w=+w)>=w&&(yield w)}}function Yb(A=ka){if(A===ka)return dc;if("function"!==typeof A)throw new TypeError("compare is not a function");return(W,G)=>{const w=A(W,G);return w||0===w?w:(0===A(G,G))-(0===A(W,W))}}function dc(A,W){return(null==A||!(A>=A))-(null==W||!(W>=W))||(A<W?-1:A>W?1:0)}function Wb(A,W){let G;if(void 0===W)for(var w of A)null!=w&&(G<w||void 0===G&&w>=
w)&&(G=w);else{w=-1;for(let z of A)null!=(z=W(z,++w,A))&&(G<z||void 0===G&&z>=z)&&(G=z)}return G}function oc(A,W){let G;if(void 0===W)for(var w of A)null!=w&&(G>w||void 0===G&&w>=w)&&(G=w);else{w=-1;for(let z of A)null!=(z=W(z,++w,A))&&(G>z||void 0===G&&z>=z)&&(G=z)}return G}function Ab(A,W,G=0,w=Infinity,z){W=Math.floor(W);G=Math.floor(Math.max(0,G));w=Math.floor(Math.min(A.length-1,w));if(!(G<=W&&W<=w))return A;for(z=void 0===z?dc:Yb(z);w>G;){if(600<w-G){var F=w-G+1,V=W-G+1,ta=Math.log(F),N=.5*
Math.exp(2*ta/3);ta=.5*Math.sqrt(ta*N*(F-N)/F)*(0>V-F/2?-1:1);Ab(A,W,Math.max(G,Math.floor(W-V*N/F+ta)),Math.min(w,Math.floor(W+(F-V)*N/F+ta)),z)}F=A[W];V=G;N=w;Tb(A,G,W);for(0<z(A[w],F)&&Tb(A,G,w);V<N;){Tb(A,V,N);++V;for(--N;0>z(A[V],F);)++V;for(;0<z(A[N],F);)--N}0===z(A[G],F)?Tb(A,G,N):(++N,Tb(A,N,w));N<=W&&(G=N+1);W<=N&&(w=N-1)}return A}function Tb(A,W,G){const w=A[W];A[W]=A[G];A[G]=w}function jc(A,W,G){A=Float64Array.from(ub(A,G));if((G=A.length)&&!isNaN(W=+W)){if(0>=W||2>G)return oc(A);if(1<=
W)return Wb(A);W*=G-1;G=Math.floor(W);var w=Wb(Ab(A,G).subarray(0,G+1));A=oc(A.subarray(G+1));return w+(A-w)*(W-G)}}function Ea(A,W,G=Ya){if((w=A.length)&&!isNaN(W=+W)){if(0>=W||2>w)return+G(A[0],0,A);if(1<=W)return+G(A[w-1],w-1,A);var w;W*=w-1;w=Math.floor(W);var z=+G(A[w],w,A);A=+G(A[w+1],w+1,A);return z+(A-z)*(W-w)}}function Za(A,W,G){const w=Float64Array.from(h(A,G));w.sort(ka);return W.map(z=>Ea(w,z))}function tb(A,W){return Za(A,[.25,.5,.75],W)}function rb(A,W){const G=A.length;{var w=0;let F,
V=0,ta=0;if(void 0===W)for(var z of A)null!=z&&(z=+z)>=z&&(F=z-V,V+=F/++w,ta+=F*(z-V));else{z=-1;for(let N of A)null!=(N=W(N,++z,A))&&(N=+N)>=N&&(F=N-V,V+=F/++w,ta+=F*(N-V))}w=1<w?ta/(w-1):void 0}w=w?Math.sqrt(w):w;A=tb(A,W);return 1.06*(Math.min(w,(A[2]-A[0])/1.34)||w||Math.abs(A[0])||1)*Math.pow(G,-.2)}function pb(A,W){const G=A.length;let w=0,z=1,F,V;for(;A[w]===A[z];)++z;for(;z<G;){for(F=z+1;A[z]===A[F];)++F;if(A[z]-A[z-1]<W){for(V=z+(w+F-z-z>>1);V<z;)A[V++]=A[z];for(;V>z;)A[V--]=A[w]}w=z;z=F}return A}
function vb(A,W){A=A||0;W=null==W?1:W;let G,w;if(v===v)G=v,v=NaN;else{do{G=2*t.random()-1;w=2*t.random()-1;var z=G*G+w*w}while(0===z||1<z);z=Math.sqrt(-2*Math.log(z)/z);G*=z;v=w*z}return A+G*W}function gb(A,W,G){G=null==G?1:G;A=(A-(W||0))/G;return Math.exp(-.5*A*A)/(G*D)}function fc(A,W,G){A=(A-(W||0))/(null==G?1:G);W=Math.abs(A);37<W?G=0:(G=Math.exp(-W*W/2),7.07106781186547>W?(G*=(((((.0352624965998911*W+.700383064443688)*W+6.37396220353165)*W+33.912866078383)*W+112.079291497871)*W+221.213596169931)*
W+220.206867912376,G/=((((((.0883883476483184*W+1.75566716318264)*W+16.064177579207)*W+86.7807322029461)*W+296.564248779674)*W+637.333633378831)*W+793.826512519948)*W+440.413735824752):G=G/(W+1/(W+2/(W+3/(W+4/(W+.65)))))/2.506628274631);return 0<A?1-G:G}function sa(A,W,G){if(0>A||1<A)return NaN;A=2*A-1;var w=-Math.log((1-A)*(1+A));6.25>w?(w-=3.125,w=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):16>w?(w=Math.sqrt(w)-3.25,w=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):Number.isFinite(w)?(w=Math.sqrt(w)-5,w=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):w=Infinity;return(W||0)+(null==G?1:G)*K*w*A}function ia(A,W){let G,w;const z={mean(F){return arguments.length?(G=
F||0,z):G},stdev(F){return arguments.length?(w=null==F?1:F,z):w},sample:()=>vb(G,w),pdf:F=>gb(F,G,w),cdf:F=>fc(F,G,w),icdf:F=>sa(F,G,w)};return z.mean(A).stdev(W)}function Ba(A,W){W=null==W?1:W;return Math.exp((A||0)+vb()*W)}function Sa(A,W,G){if(0>=A)return 0;G=null==G?1:G;W=(Math.log(A)-(W||0))/G;return Math.exp(-.5*W*W)/(G*D*A)}function Wa(A,W,G){return fc(Math.log(A),W,G)}function Ha(A,W,G){return Math.exp(sa(A,W,G))}function hb(A,W){null==W&&(W=null==A?1:A,A=0);return A+(W-A)*t.random()}function $a(A,
W,G){null==G&&(G=null==W?1:W,W=0);return A>=W&&A<=G?1/(G-W):0}function qb(A,W,G){null==G&&(G=null==W?1:W,W=0);return A<W?0:A>G?1:(A-W)/(G-W)}function Nb(A,W,G){null==G&&(G=null==W?1:W,W=0);return 0<=A&&1>=A?W+A*(G-W):NaN}function db(A,W,G){let w=0,z=0;for(const F of A)A=G(F),null==W(F)||null==A||isNaN(A)||(w+=(A-w)/++z);return{coef:[w],predict:()=>w,rSquared:0}}function T(A,W,G,w){w-=A*A;G=1E-24>Math.abs(w)?0:(G-A*W)/w;return[W-G*A,G]}function ba(A,W,G,w){A=A.filter(Na=>{let Pa=W(Na);Na=G(Na);return null!=
Pa&&(Pa=+Pa)>=Pa&&null!=Na&&(Na=+Na)>=Na});w&&A.sort((Na,Pa)=>W(Na)-W(Pa));w=A.length;const z=new Float64Array(w),F=new Float64Array(w);let V=0,ta=0,N=0,la,wa;for(wa of A)z[V]=A=+W(wa),F[V]=la=+G(wa),++V,ta+=(A-ta)/V,N+=(la-N)/V;for(V=0;V<w;++V)z[V]-=ta,F[V]-=N;return[z,F,ta,N]}function ea(A,W,G,w){let z=-1,F;for(const V of A)A=W(V),F=G(V),null!=A&&(A=+A)>=A&&null!=F&&(F=+F)>=F&&w(A,F,++z)}function ja(A,W,G,w,z){let F=0,V=0;ea(A,W,G,(ta,N)=>{ta=N-z(ta);N-=w;F+=ta*ta;V+=N*N});return 1-F/V}function Ma(A,
W,G){let w=0,z=0,F=0,V=0,ta=0;ea(A,W,G,(wa,Na)=>{++ta;w+=(wa-w)/ta;z+=(Na-z)/ta;F+=(wa*Na-F)/ta;V+=(wa*wa-V)/ta});const N=T(w,z,F,V),la=wa=>N[0]+N[1]*wa;return{coef:N,predict:la,rSquared:ja(A,W,G,z,la)}}function oa(A,W,G){const [w,z,F,V]=ba(A,W,G);var ta=w.length,N=0;let la=0;var wa=0;let Na=0,Pa=0,Xa,sb,ib,Sb;for(Xa=0;Xa<ta;)sb=w[Xa],ib=z[Xa++],Sb=sb*sb,N+=(Sb-N)/Xa,la+=(Sb*sb-la)/Xa,wa+=(Sb*Sb-wa)/Xa,Na+=(sb*ib-Na)/Xa,Pa+=(Sb*ib-Pa)/Xa;ta=wa-N*N;wa=N*ta-la*la;const X=(Pa*N-Na*la)/wa,Fa=(Na*ta-Pa*
la)/wa,Kb=-X*N;N=pc=>{pc-=F;return X*pc*pc+Fa*pc+Kb+V};return{coef:[Kb-Fa*F+X*F*F+V,Fa-2*X*F,X],predict:N,rSquared:ja(A,W,G,V,N)}}function qa(A,W,G,w){const z=Array(A);let F,V,ta;for(F=0;F<A;++F)z[F]=0;for(F=A-1;0<=F;--F)for(V=W[F],ta=1,z[F]+=V,A=1;A<=F;++A)ta*=(F+1-A)/A,z[F-A]+=V*Math.pow(G,A)*ta;z[0]+=w;return z}function l(A){const W=A.length-1,G=[];let w,z,F,V,ta;for(w=0;w<W;++w){V=w;for(z=w+1;z<W;++z)Math.abs(A[w][z])>Math.abs(A[w][V])&&(V=z);for(F=w;F<W+1;++F)ta=A[F][w],A[F][w]=A[F][V],A[F][V]=
ta;for(z=w+1;z<W;++z)for(F=W;F>=w;F--)A[F][z]-=A[F][w]*A[w][z]/A[w][w]}for(z=W-1;0<=z;--z){ta=0;for(F=z+1;F<W;++F)ta+=A[F][z]*G[F];G[z]=(A[W][z]-ta)/A[z][z]}return G}t.random=Math.random;const D=Math.sqrt(2*Math.PI),K=Math.SQRT2;let v=NaN;const Q=.5*Math.PI/180;t.bandwidthNRD=rb;t.bin=function(A){var W=A.maxbins||20;const G=A.base||10,w=Math.log(G),z=A.divide||[5,2];let F=A.extent[0],V=A.extent[1];let ta,N,la,wa;const Na=A.span||V-F||Math.abs(F)||1;if(A.step)var Pa=A.step;else if(A.steps){N=Na/W;
la=0;for(wa=A.steps.length;la<wa&&A.steps[la]<N;++la);Pa=A.steps[Math.max(0,la-1)]}else{Pa=Math.ceil(Math.log(W)/w);ta=A.minstep||0;for(Pa=Math.max(ta,Math.pow(G,Math.round(Math.log(Na)/w)-Pa));Math.ceil(Na/Pa)>W;)Pa*=G;la=0;for(wa=z.length;la<wa;++la)N=Pa/z[la],N>=ta&&Na/N<=W&&(Pa=N)}N=Math.log(Pa);W=Math.pow(G,-(0<=N?0:~~(-N/w)+1)-1);if(A.nice||void 0===A.nice)N=Math.floor(F/Pa+W)*Pa,F=F<N?N-Pa:N,V=Math.ceil(V/Pa)*Pa;return{start:F,stop:V===F?F+Pa:V,step:Pa}};t.bootstrapCI=function(A,W,G,w){if(!A.length)return[void 0,
void 0];A=Float64Array.from(h(A,w));w=A.length;let z,F,V,ta;V=0;for(ta=Array(W);V<W;++V){for(F=z=0;F<w;++F)z+=A[~~(t.random()*w)];ta[V]=z/w}ta.sort(ka);return[jc(ta,G/2),jc(ta,1-G/2)]};t.cumulativeLogNormal=Wa;t.cumulativeNormal=fc;t.cumulativeUniform=qb;t.densityLogNormal=Sa;t.densityNormal=gb;t.densityUniform=$a;t.dotbin=function(A,W,G,w){w=w||(Pa=>Pa);const z=A.length,F=new Float64Array(z);let V=0,ta=1,N=w(A[0]),la=N,wa=N+W,Na;for(;ta<z;++ta){Na=w(A[ta]);if(Na>=wa){for(la=(N+la)/2;V<ta;++V)F[V]=
la;wa=Na+W;N=Na}la=Na}for(la=(N+la)/2;V<ta;++V)F[V]=la;return G?pb(F,W+W/4):F};t.quantileLogNormal=Ha;t.quantileNormal=sa;t.quantileUniform=Nb;t.quantiles=Za;t.quartiles=tb;t.randomInteger=function(A,W){null==W&&(W=A,A=0);let G,w,z;const F={min(V){return arguments.length?(G=V||0,z=w-G,F):G},max(V){return arguments.length?(w=V||0,z=w-G,F):w},sample(){return G+Math.floor(z*t.random())},pdf(V){return V===Math.floor(V)&&V>=G&&V<w?1/z:0},cdf(V){V=Math.floor(V);return V<G?0:V>=w?1:(V-G+1)/z},icdf(V){return 0<=
V&&1>=V?G-1+Math.floor(V*z):NaN}};return F.min(A).max(W)};t.randomKDE=function(A,W){const G=ia();let w=0;const z={data(F){return arguments.length?(w=(A=F)?F.length:0,z.bandwidth(W)):A},bandwidth(F){if(!arguments.length)return W;W=F;!W&&A&&(W=rb(A));return z},sample(){return A[~~(t.random()*w)]+W*G.sample()},pdf(F){let V=0,ta=0;for(;ta<w;++ta)V+=G.pdf((F-A[ta])/W);return V/W/w},cdf(F){let V=0,ta=0;for(;ta<w;++ta)V+=G.cdf((F-A[ta])/W);return V/w},icdf(){throw Error("KDE icdf not supported.");}};return z.data(A)};
t.randomLCG=function(A){return function(){A=(1103515245*A+12345)%2147483647;return A/2147483647}};t.randomLogNormal=function(A,W){let G,w;const z={mean(F){return arguments.length?(G=F||0,z):G},stdev(F){return arguments.length?(w=null==F?1:F,z):w},sample:()=>Ba(G,w),pdf:F=>Sa(F,G,w),cdf:F=>Wa(F,G,w),icdf:F=>Ha(F,G,w)};return z.mean(A).stdev(W)};t.randomMixture=function(A,W){let G=0,w;const z={weights(F){if(arguments.length){var V=W=F||[];const ta=[];let N=0,la;for(la=0;la<G;++la)N+=ta[la]=null==V[la]?
1:+V[la];for(la=0;la<G;++la)ta[la]/=N;w=ta;return z}return W},distributions(F){return arguments.length?(F?(G=F.length,A=F):(G=0,A=[]),z.weights(W)):A},sample(){const F=t.random();let V=A[G-1],ta=w[0],N=0;for(;N<G-1;ta+=w[++N])if(F<ta){V=A[N];break}return V.sample()},pdf(F){let V=0,ta=0;for(;ta<G;++ta)V+=w[ta]*A[ta].pdf(F);return V},cdf(F){let V=0,ta=0;for(;ta<G;++ta)V+=w[ta]*A[ta].cdf(F);return V},icdf(){throw Error("Mixture icdf not supported.");}};return z.distributions(A).weights(W)};t.randomNormal=
ia;t.randomUniform=function(A,W){let G,w;const z={min(F){return arguments.length?(G=F||0,z):G},max(F){return arguments.length?(w=null==F?1:F,z):w},sample:()=>hb(G,w),pdf:F=>$a(F,G,w),cdf:F=>qb(F,G,w),icdf:F=>Nb(F,G,w)};null==W&&(W=null==A?1:A,A=0);return z.min(A).max(W)};t.regressionConstant=db;t.regressionExp=function(A,W,G){const [w,,z,F]=ba(A,W,G);let V=0,ta=0,N=0,la=0,wa=0,Na,Pa,Xa;ea(A,W,G,(X,Fa)=>{Na=w[wa++];Pa=Math.log(Fa);Xa=Na*Fa;V+=(Fa*Pa-V)/wa;ta+=(Xa-ta)/wa;N+=(Xa*Pa-N)/wa;la+=(Na*Xa-
la)/wa});const [sb,ib]=T(ta/F,V/F,N/F,la/F),Sb=X=>Math.exp(sb+ib*(X-z));return{coef:[Math.exp(sb-ib*z),ib],predict:Sb,rSquared:ja(A,W,G,F,Sb)}};t.regressionLinear=Ma;t.regressionLoess=function(A,W,G,w){const [z,F,V,ta]=ba(A,W,G,!0);A=z.length;W=Math.max(2,~~(w*A));w=new Float64Array(A);G=new Float64Array(A);var N=(new Float64Array(A)).fill(1);for(var la=-1;2>=++la;){var wa=[0,W-1];for(let Kb=0;Kb<A;++Kb){var Na=z[Kb],Pa=wa[0],Xa=wa[1],sb=0,ib=0,Sb=0,X=0;let pc=0;const $b=1/Math.abs(z[Na-z[Pa]>z[Xa]-
Na?Pa:Xa]-Na||1);for(;Pa<=Xa;++Pa){const yc=z[Pa],hd=F[Pa];var Fa=Math.abs(Na-yc)*$b;const ra=(Fa=1-Fa*Fa*Fa)*Fa*Fa*N[Pa];Fa=yc*ra;sb+=ra;ib+=Fa;Sb+=hd*ra;X+=hd*Fa;pc+=yc*Fa}const [Mb,Ob]=T(ib/sb,Sb/sb,X/sb,pc/sb);w[Kb]=Mb+Ob*Na;G[Kb]=Math.abs(F[Kb]-w[Kb]);Na=z;Xa=Kb+1;sb=wa;ib=Na[Xa];Sb=sb[0];X=sb[1]+1;if(!(X>=Na.length))for(;Xa>Sb&&Na[X]-ib<=ib-Na[Sb];)sb[0]=++Sb,sb[1]=X,++X}if(2===la)break;wa=jc(G,.5,void 0);if(1E-12>Math.abs(wa))break;for(let Kb=0,pc,$b;Kb<A;++Kb)pc=G[Kb]/(6*wa),N[Kb]=1<=pc?1E-12:
($b=1-pc*pc)*$b}A=z.length;W=[];N=G=0;for(la=[];G<A;++G)wa=z[G]+V,la[0]===wa?la[1]+=(w[G]-la[1])/++N:(N=0,la[1]+=ta,la=[wa,w[G]],W.push(la));la[1]+=ta;return W};t.regressionLog=function(A,W,G){let w=0,z=0,F=0,V=0,ta=0;ea(A,W,G,(wa,Na)=>{++ta;wa=Math.log(wa);w+=(wa-w)/ta;z+=(Na-z)/ta;F+=(wa*Na-F)/ta;V+=(wa*wa-V)/ta});const N=T(w,z,F,V),la=wa=>N[0]+N[1]*Math.log(wa);return{coef:N,predict:la,rSquared:ja(A,W,G,z,la)}};t.regressionPoly=function(A,W,G,w){if(0===w)return db(A,W,G);if(1===w)return Ma(A,W,
G);if(2===w)return oa(A,W,G);const [z,F,V,ta]=ba(A,W,G);var N=z.length;const la=[],wa=[],Na=w+1;let Pa,Xa,sb,ib;for(Pa=0;Pa<Na;++Pa){for(sb=Xa=0;Xa<N;++Xa)sb+=Math.pow(z[Xa],Pa)*F[Xa];la.push(sb);ib=new Float64Array(Na);for(w=0;w<Na;++w){for(sb=Xa=0;Xa<N;++Xa)sb+=Math.pow(z[Xa],Pa+w);ib[w]=sb}wa.push(ib)}wa.push(la);const Sb=l(wa);N=X=>{X-=V;let Fa=ta+Sb[0]+Sb[1]*X+Sb[2]*X*X;for(Pa=3;Pa<Na;++Pa)Fa+=Sb[Pa]*Math.pow(X,Pa);return Fa};return{coef:qa(Na,Sb,-V,ta),predict:N,rSquared:ja(A,W,G,ta,N)}};t.regressionPow=
function(A,W,G){let w=0,z=0,F=0,V=0,ta=0,N=0;ea(A,W,G,(Na,Pa)=>{Na=Math.log(Na);const Xa=Math.log(Pa);++N;w+=(Na-w)/N;z+=(Xa-z)/N;F+=(Na*Xa-F)/N;V+=(Na*Na-V)/N;ta+=(Pa-ta)/N});const la=T(w,z,F,V),wa=Na=>la[0]*Math.pow(Na,la[1]);la[0]=Math.exp(la[0]);return{coef:la,predict:wa,rSquared:ja(A,W,G,ta,wa)}};t.regressionQuad=oa;t.sampleCurve=function(A,W,G,w){G=G||25;w=Math.max(G,w||200);var z=W[0],F=W[1],V=F-z,ta=V/w;W=[[z,A(z)]];var N=[];if(G===w){for(var la=1;la<w;++la){ta=W;N=ta.push;var wa=z+la/G*V;
wa=[wa,A(wa)];N.call(ta,wa)}W.push([F,A(F)]);return W}N.push([F,A(F)]);for(la=G;0<--la;)w=N,F=w.push,wa=z+la/G*V,wa=[wa,A(wa)],F.call(w,wa);G=W[0];z=N[N.length-1];V=1/V;w=F=G[1];la=N.length;for(wa=0;wa<la;++wa){const Na=N[wa][1];Na<w&&(w=Na);Na>F&&(F=Na)}for(w=1/(F-w);z;)F=(G[0]+z[0])/2,F=[F,A(F)],F[0]-G[0]>=ta&&Math.abs(Math.atan2(w*(z[1]-G[1]),V*(z[0]-G[0]))-Math.atan2(w*(F[1]-G[1]),V*(F[0]-G[0])))>Q?N.push(F):(G=z,W.push(z),N.pop()),z=N[N.length-1];return W};t.sampleLogNormal=Ba;t.sampleNormal=
vb;t.sampleUniform=hb;t.setRandom=function(A){t.random=A}})};
shadow$provide[31]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(29),nb(30),nb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub){function Yb(x){return I=>{const xa=x.length;let Ja=1,jb=String(x[0](I));for(;Ja<xa;++Ja)jb+="|"+x[Ja](I);return jb}}function dc(x){return x&&
x.length?1===x.length?x[0]:Yb(x):function(){return""}}function Wb(x,I){return(xa,Ja)=>h.extend({name:x,aggregate_param:Ja,out:xa||x},Ib,I)}function oc(x,I){return x.idx-I.idx}function Ab(x){const I={};x.forEach(Ja=>I[Ja.name]=Ja);const xa=Ja=>{Ja.req&&Ja.req.forEach(jb=>{I[jb]||xa(I[jb]=Cc[jb]())})};x.forEach(xa);return Object.values(I).sort(oc)}function Tb(){this.missing=this.valid=0;this._ops.forEach(x=>null==x.aggregate_param?x.init(this):x.init(this,x.aggregate_param))}function jc(x,I){null==
x||""===x?++this.missing:x===x&&(++this.valid,this._ops.forEach(xa=>xa.add(this,x,I)))}function Ea(x,I){null==x||""===x?--this.missing:x===x&&(--this.valid,this._ops.forEach(xa=>xa.rem(this,x,I)))}function Za(x){this._out.forEach(I=>x[I.out]=I.value(this));return x}function tb(x,I){function xa(wb){this._ops=Ja;this._out=jb;this.cell=wb;this.init()}I=I||h.identity;const Ja=Ab(x),jb=x.slice().sort(oc);xa.prototype.init=Tb;xa.prototype.add=jc;xa.prototype.rem=Ea;xa.prototype.set=Za;xa.prototype.get=
I;xa.fields=x.map(wb=>wb.out);return xa}function rb(x){this._key=x?h.field(x):ka.tupleid;this.reset()}function pb(x){ka.Transform.call(this,null,x);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function vb(x){ka.Transform.call(this,null,x)}function gb(x,I,xa){let Ja=I||[],jb=xa||[],wb={},ec=0;return{add:Qb=>jb.push(Qb),remove:Qb=>wb[x(Qb)]=++ec,
size:()=>Ja.length,data:(Qb,qc)=>{ec&&(Ja=Ja.filter(Fc=>!wb[x(Fc)]),wb={},ec=0);qc&&Qb&&Ja.sort(Qb);jb.length&&(Ja=Qb?h.merge(Qb,Ja,jb.sort(Qb)):Ja.concat(jb),jb=[]);return Ja}}}function fc(x){ka.Transform.call(this,[],x)}function sa(x){ka.Operator.call(this,null,ia,x)}function ia(x){return this.value&&!x.modified()?this.value:h.compare(x.fields,x.orders)}function Ba(x){ka.Transform.call(this,null,x)}function Sa(x){ka.Transform.call(this,null,x)}function Wa(x,I){var xa=x["function"];h.hasOwnProperty(xd,
xa)||h.error("Unknown distribution function: "+xa);xa=xd[xa]();for(const Ja in x)if("field"===Ja)xa.data((x.from||I()).map(x[Ja]));else if("distributions"===Ja)xa[Ja](x[Ja].map(jb=>Wa(jb,I)));else if("function"===typeof xa[Ja])xa[Ja](x[Ja]);return xa}function Ha(x){ka.Transform.call(this,null,x)}function hb(x){return()=>x.materialize(x.SOURCE).source}function $a(x,I){return x?x.map((xa,Ja)=>I[Ja]||h.accessorName(xa)):null}function qb(x,I,xa){const Ja=[],jb=bd=>bd(qc);let wb,ec,Qb,qc,Fc,zc;if(null==
I)Ja.push(x.map(xa));else for(wb={},ec=0,Qb=x.length;ec<Qb;++ec)qc=x[ec],Fc=I.map(jb),zc=wb[Fc],zc||(wb[Fc]=zc=[],zc.dims=Fc,Ja.push(zc)),zc.push(xa(qc));return Ja}function Nb(x){ka.Transform.call(this,null,x)}function db(x){ka.Operator.call(this,null,T,x);this.modified(!0)}function T(x){const I=x.expr;return this.value&&!x.modified("expr")?this.value:h.accessor(xa=>I(xa,x),h.accessorFields(I),h.accessorName(I))}function ba(x){ka.Transform.call(this,[void 0,void 0],x)}function ea(x,I){ka.Operator.call(this,
x);this.parent=I;this.count=0}function ja(x){ka.Transform.call(this,{},x);this._keys=h.fastmap();const I=this._targets=[];I.active=0;I.forEach=xa=>{for(let Ja=0,jb=I.active;Ja<jb;++Ja)xa(I[Ja],Ja,I)}}function Ma(x){ka.Operator.call(this,null,oa,x)}function oa(x){return this.value&&!x.modified()?this.value:h.isArray(x.name)?h.array(x.name).map(I=>h.field(I)):h.field(x.name,x.as)}function qa(x){ka.Transform.call(this,h.fastmap(),x)}function l(x){ka.Transform.call(this,[],x)}function D(x){ka.Transform.call(this,
[],x)}function K(x){ka.Transform.call(this,null,x)}function v(x){ka.Transform.call(this,[],x)}function Q(x,I){return null==x||null==I?NaN:x<I?-1:x>I?1:x>=I?0:NaN}function A(x,I){return null==x||null==I?NaN:I<x?-1:I>x?1:I>=x?0:NaN}function W(x){function I(wb,ec,Qb=0,qc=wb.length){if(Qb<qc){if(0!==xa(ec,ec))return qc;do{const Fc=Qb+qc>>>1;0>Ja(wb[Fc],ec)?Qb=Fc+1:qc=Fc}while(Qb<qc)}return Qb}let xa,Ja,jb;2!==x.length?(xa=Q,Ja=(wb,ec)=>Q(x(wb),ec),jb=(wb,ec)=>x(wb)-ec):(xa=x===Q||x===A?x:G,jb=Ja=x);return{left:I,
center:function(wb,ec,Qb=0,qc=wb.length){qc=I(wb,ec,Qb,qc-1);return qc>Qb&&jb(wb[qc-1],ec)>-jb(wb[qc],ec)?qc-1:qc},right:function(wb,ec,Qb=0,qc=wb.length){if(Qb<qc){if(0!==xa(ec,ec))return qc;do{const Fc=Qb+qc>>>1;0>=Ja(wb[Fc],ec)?Qb=Fc+1:qc=Fc}while(Qb<qc)}return Qb}}}function G(){return 0}function*w(x,I){if(void 0===I)for(var xa of x)null!=xa&&(xa=+xa)>=xa&&(yield xa);else{xa=-1;for(let Ja of x)null!=(Ja=I(Ja,++xa,x))&&(Ja=+Ja)>=Ja&&(yield Ja)}}function z(x=Q){if(x===Q)return F;if("function"!==
typeof x)throw new TypeError("compare is not a function");return(I,xa)=>{const Ja=x(I,xa);return Ja||0===Ja?Ja:(0===x(xa,xa))-(0===x(I,I))}}function F(x,I){return(null==x||!(x>=x))-(null==I||!(I>=I))||(x<I?-1:x>I?1:0)}function V(x,I){let xa;if(void 0===I)for(var Ja of x)null!=Ja&&(xa<Ja||void 0===xa&&Ja>=Ja)&&(xa=Ja);else{Ja=-1;for(let jb of x)null!=(jb=I(jb,++Ja,x))&&(xa<jb||void 0===xa&&jb>=jb)&&(xa=jb)}return xa}function ta(x,I){let xa;if(void 0===I)for(var Ja of x)null!=Ja&&(xa>Ja||void 0===xa&&
Ja>=Ja)&&(xa=Ja);else{Ja=-1;for(let jb of x)null!=(jb=I(jb,++Ja,x))&&(xa>jb||void 0===xa&&jb>=jb)&&(xa=jb)}return xa}function N(x,I,xa=0,Ja=Infinity,jb){I=Math.floor(I);xa=Math.floor(Math.max(0,xa));Ja=Math.floor(Math.min(x.length-1,Ja));if(!(xa<=I&&I<=Ja))return x;for(jb=void 0===jb?F:z(jb);Ja>xa;){if(600<Ja-xa){var wb=Ja-xa+1,ec=I-xa+1,Qb=Math.log(wb),qc=.5*Math.exp(2*Qb/3);Qb=.5*Math.sqrt(Qb*qc*(wb-qc)/wb)*(0>ec-wb/2?-1:1);N(x,I,Math.max(xa,Math.floor(I-ec*qc/wb+Qb)),Math.min(Ja,Math.floor(I+(wb-
ec)*qc/wb+Qb)),jb)}wb=x[I];ec=xa;qc=Ja;la(x,xa,I);for(0<jb(x[Ja],wb)&&la(x,xa,Ja);ec<qc;){la(x,ec,qc);++ec;for(--qc;0>jb(x[ec],wb);)++ec;for(;0<jb(x[qc],wb);)--qc}0===jb(x[xa],wb)?la(x,xa,qc):(++qc,la(x,qc,Ja));qc<=I&&(xa=qc+1);I<=qc&&(Ja=qc-1)}return x}function la(x,I,xa){const Ja=x[I];x[I]=x[xa];x[xa]=Ja}function wa(x,I,xa){x=+x;I=+I;xa=2>(jb=arguments.length)?(I=x,x=0,1):3>jb?1:+xa;for(var Ja=-1,jb=Math.max(0,Math.ceil((I-x)/xa))|0,wb=Array(jb);++Ja<jb;)wb[Ja]=x+Ja*xa;return wb}function Na(x){ka.Transform.call(this,
[],x)}function Pa(x){var I=x.method||ed.value;if(null==ed[I])h.error("Unrecognized imputation method: "+I);else{if(I===ed.value){var xa=void 0!==x.value?x.value:0;return()=>xa}return ed[I]}}function Xa(x){const I=x.field;return xa=>xa?I(xa):NaN}function sb(x,I,xa,Ja){var jb=kd=>kd(bd),wb=[];Ja=Ja?Ja.slice():[];var ec={},Qb={},qc,Fc;Ja.forEach((kd,Od)=>ec[kd]=Od+1);var zc=0;for(Fc=x.length;zc<Fc;++zc){var bd=x[zc];var md=xa(bd);var qd=ec[md]||(ec[md]=Ja.push(md));var Fd=(md=I?I.map(jb):Id)+"";(qc=
Qb[Fd])||(qc=Qb[Fd]=[],wb.push(qc),qc.values=md);qc[qd-1]=bd}wb.domain=Ja;return wb}function ib(x){pb.call(this,x)}function Sb(x){ka.Transform.call(this,null,x)}function X(x){ka.Operator.call(this,null,Fa,x)}function Fa(x){return this.value&&!x.modified()?this.value:h.key(x.fields,x.flat)}function Kb(x){ka.Transform.call(this,[],x);this._pending=null}function pc(x){return x.modified("async")&&!(x.modified("values")||x.modified("url")||x.modified("format"))}function $b(x,I,xa){xa.forEach(ka.ingest);
I=I.fork(I.NO_FIELDS&I.NO_SOURCE);I.rem=x.value;x.value=I.source=I.add=xa;x._pending=null;I.rem.length&&I.clean(!0);return I}function Mb(x){ka.Transform.call(this,{},x)}function Ob(x){ka.Operator.call(this,null,yc,x)}function yc(x){if(this.value&&!x.modified())return this.value;x=x.extents;const I=x.length;let xa=Infinity,Ja=-Infinity,jb,wb;for(jb=0;jb<I;++jb)wb=x[jb],wb[0]<xa&&(xa=wb[0]),wb[1]>Ja&&(Ja=wb[1]);return[xa,Ja]}function hd(x){ka.Operator.call(this,null,ra,x)}function ra(x){return this.value&&
!x.modified()?this.value:x.values.reduce((I,xa)=>I.concat(xa),[])}function Bb(x){ka.Transform.call(this,null,x)}function Ua(x){pb.call(this,x)}function xb(x,I){const xa=x.field,Ja=x.value,jb=("count"===x.op?"__count__":x.op)||"sum",wb=h.accessorFields(xa).concat(h.accessorFields(Ja)),ec=Lb(xa,x.limit||0,I);I.changed()&&x.set("__pivot__",null,null,!0);return{key:x.key,groupby:x.groupby,ops:ec.map(()=>jb),fields:ec.map(Qb=>Fb(Qb,xa,Ja,wb)),as:ec.map(Qb=>Qb+""),modified:x.modified.bind(x)}}function Fb(x,
I,xa,Ja){return h.accessor(jb=>I(jb)===x?xa(jb):NaN,Ja,x+"")}function Lb(x,I,xa){const Ja={},jb=[];xa.visit(xa.SOURCE,wb=>{wb=x(wb);Ja[wb]||(Ja[wb]=1,jb.push(wb))});jb.sort(h.ascending);return I?jb.slice(0,I):jb}function Zb(x){ja.call(this,x)}function ic(x){ka.Transform.call(this,null,x)}function Ac(x){ka.Transform.call(this,null,x)}function nd(x){ka.Transform.call(this,null,x)}function Vc(x){ka.Transform.call(this,null,x)}function na(x){ka.Transform.call(this,[],x);this.count=0}function Ia(x){ka.Transform.call(this,
null,x)}function fb(x){ka.Transform.call(this,null,x);this.modified(!0)}function R(x){ka.Transform.call(this,null,x)}function r(x){ka.Transform.call(this,h.fastmap(),x)}function da(x){ka.Transform.call(this,null,x)}function za(x,I,xa,Ja){const jb=vd[x](I,xa);return{init:jb.init||h.zero,update:function(wb,ec){ec[Ja]=jb.next(wb)}}}function Da(x){function I(Fd){h.array(h.accessorFields(Fd)).forEach(kd=>Fc[kd]=1)}const xa=h.array(x.ops),Ja=h.array(x.fields),jb=h.array(x.params),wb=h.array(x.aggregate_params),
ec=h.array(x.as),Qb=this.outputs=[],qc=this.windows=[],Fc={},zc={},bd=[],md=[];let qd=!0;I(x.sort);xa.forEach((Fd,kd)=>{const Od=Ja[kd];var he=jb[kd];const Le=wb[kd]||null,Ie=h.accessorName(Od);kd=ec[kd]||Fd+(Ie?"_"+Ie:"");I(Od);Qb.push(kd);h.hasOwnProperty(vd,Fd)?qc.push(za(Fd,Od,he,kd)):(null==Od&&"count"!==Fd&&h.error("Null aggregate field specified."),"count"===Fd?bd.push(kd):(qd=!1,he=zc[Ie],he||(he=zc[Ie]=[],he.field=Od,md.push(he)),he.push(Cc[Fd](kd,Le))))});if(bd.length||md.length)this.cell=
Oa(md,bd,qd);this.inputs=Object.keys(Fc)}function Oa(x,I,xa){x=x.map(qc=>tb(qc,qc.field));const Ja={num:0,agg:null,store:!1,count:I};if(!xa)for(var jb=x.length,wb=Ja.agg=Array(jb),ec=0;ec<jb;++ec)wb[ec]=new x[ec](Ja);if(Ja.store)var Qb=Ja.data=new rb;Ja.add=function(qc){Ja.num+=1;if(!xa){Qb&&Qb.add(qc);for(let Fc=0;Fc<jb;++Fc)wb[Fc].add(wb[Fc].get(qc),qc)}};Ja.rem=function(qc){--Ja.num;if(!xa){Qb&&Qb.rem(qc);for(let Fc=0;Fc<jb;++Fc)wb[Fc].rem(wb[Fc].get(qc),qc)}};Ja.set=function(qc){let Fc,zc;Qb&&
Qb.values();Fc=0;for(zc=I.length;Fc<zc;++Fc)qc[I[Fc]]=Ja.num;if(!xa)for(Fc=0,zc=wb.length;Fc<zc;++Fc)wb[Fc].set(qc)};Ja.init=function(){Ja.num=0;Qb&&Qb.reset();for(let qc=0;qc<jb;++qc)wb[qc].init()};return Ja}function kb(x){ka.Transform.call(this,{},x);this._mlen=0;this._mods=[]}function Ub(x,I,xa,Ja){var jb=Ja.sort;const wb=jb&&!Ja.ignorePeers;Ja=Ja.frame||[null,0];x=x.data(xa);xa=x.length;const ec=wb?W(jb):null;jb={i0:0,i1:0,p0:0,p1:0,index:0,data:x,compare:jb||h.constant(-1)};I.init();for(let bd=
0;bd<xa;++bd){var Qb=jb,qc=Ja,Fc=bd,zc=xa;Qb.p0=Qb.i0;Qb.p1=Qb.i1;Qb.i0=null==qc[0]?0:Math.max(0,Fc-Math.abs(qc[0]));Qb.i1=null==qc[1]?zc:Math.min(zc,Fc+Math.abs(qc[1])+1);Qb.index=Fc;if(wb){Qb=jb;qc=ec;Fc=Qb.i0;zc=Qb.i1-1;const md=Qb.compare,qd=Qb.data,Fd=qd.length-1;0<Fc&&!md(qd[Fc],qd[Fc-1])&&(Qb.i0=qc.left(qd,qd[Fc]));zc<Fd&&!md(qd[zc],qd[zc+1])&&(Qb.i1=qc.right(qd,qd[zc]))}I.update(jb,x[bd])}}const Eb=()=>{},Ib={init:Eb,add:Eb,rem:Eb,idx:0},Cc={values:{init:x=>x.cell.store=!0,value:x=>x.cell.data.values(),
idx:-1},count:{value:x=>x.cell.num},__count__:{value:x=>x.missing+x.valid},missing:{value:x=>x.missing},valid:{value:x=>x.valid},sum:{init:x=>x.sum=0,value:x=>x.valid?x.sum:void 0,add:(x,I)=>x.sum+=+I,rem:(x,I)=>x.sum-=I},product:{init:x=>x.product=1,value:x=>x.valid?x.product:void 0,add:(x,I)=>x.product*=I,rem:(x,I)=>x.product/=I},mean:{init:x=>x.mean=0,value:x=>x.valid?x.mean:void 0,add:(x,I)=>(x.mean_d=I-x.mean,x.mean+=x.mean_d/x.valid),rem:(x,I)=>(x.mean_d=I-x.mean,x.mean-=x.valid?x.mean_d/x.valid:
x.mean)},average:{value:x=>x.valid?x.mean:void 0,req:["mean"],idx:1},variance:{init:x=>x.dev=0,value:x=>1<x.valid?x.dev/(x.valid-1):void 0,add:(x,I)=>x.dev+=x.mean_d*(I-x.mean),rem:(x,I)=>x.dev-=x.mean_d*(I-x.mean),req:["mean"],idx:1},variancep:{value:x=>1<x.valid?x.dev/x.valid:void 0,req:["variance"],idx:2},stdev:{value:x=>1<x.valid?Math.sqrt(x.dev/(x.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:x=>1<x.valid?Math.sqrt(x.dev/x.valid):void 0,req:["variance"],idx:2},stderr:{value:x=>1<x.valid?
Math.sqrt(x.dev/(x.valid*(x.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:x=>x.cell.data.distinct(x.get),req:["values"],idx:3},ci0:{value:x=>x.cell.data.ci0(x.get),req:["values"],idx:3},ci1:{value:x=>x.cell.data.ci1(x.get),req:["values"],idx:3},median:{value:x=>x.cell.data.q2(x.get),req:["values"],idx:3},q1:{value:x=>x.cell.data.q1(x.get),req:["values"],idx:3},q3:{value:x=>x.cell.data.q3(x.get),req:["values"],idx:3},min:{init:x=>x.min=void 0,value:x=>x.min=Number.isNaN(x.min)?x.cell.data.min(x.get):
x.min,add:(x,I)=>{if(I<x.min||void 0===x.min)x.min=I},rem:(x,I)=>{I<=x.min&&(x.min=NaN)},req:["values"],idx:4},max:{init:x=>x.max=void 0,value:x=>x.max=Number.isNaN(x.max)?x.cell.data.max(x.get):x.max,add:(x,I)=>{if(I>x.max||void 0===x.max)x.max=I},rem:(x,I)=>{I>=x.max&&(x.max=NaN)},req:["values"],idx:4},argmin:{init:x=>x.argmin=void 0,value:x=>x.argmin||x.cell.data.argmin(x.get),add:(x,I,xa)=>{I<x.min&&(x.argmin=xa)},rem:(x,I)=>{I<=x.min&&(x.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:x=>
x.argmax=void 0,value:x=>x.argmax||x.cell.data.argmax(x.get),add:(x,I,xa)=>{I>x.max&&(x.argmax=xa)},rem:(x,I)=>{I>=x.max&&(x.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(x,I)=>{x.exp=0;x.exp_r=I},value:x=>x.valid?x.exp*(1-x.exp_r)/(1-Math.pow(x.exp_r,x.valid)):void 0,add:(x,I)=>x.exp=x.exp_r*x.exp+I,rem:(x,I)=>x.exp=(x.exp-I/Math.pow(x.exp_r,x.valid-1))/x.exp_r},exponentialb:{value:x=>x.valid?x.exp*(1-x.exp_r):void 0,req:["exponential"],idx:1}},Hc=Object.keys(Cc).filter(x=>"__count__"!==
x);[...Hc,"__count__"].forEach(x=>{Cc[x]=Wb(x,Cc[x])});const Nc=rb.prototype;Nc.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Nc.add=function(x){this._add.push(x)};Nc.rem=function(x){this._rem.push(x)};Nc.values=function(){this._get=null;if(0===this._rem.length)return this._add;const x=this._add;var I=this._rem;const xa=this._key,Ja=x.length,jb=I.length,wb=Array(Ja-jb),ec={};let Qb,qc;for(Qb=0;Qb<jb;++Qb)ec[xa(I[Qb])]=1;for(I=Qb=0;Qb<Ja;++Qb)ec[xa(qc=x[Qb])]?ec[xa(qc)]=
0:wb[I++]=qc;this._rem=[];return this._add=wb};Nc.distinct=function(x){const I=this.values(),xa={};let Ja=I.length,jb=0,wb;for(;0<=--Ja;)wb=x(I[Ja])+"",h.hasOwnProperty(xa,wb)||(xa[wb]=1,++jb);return jb};Nc.extent=function(x){if(this._get!==x||!this._ext){const I=this.values(),xa=h.extentIndex(I,x);this._ext=[I[xa[0]],I[xa[1]]];this._get=x}return this._ext};Nc.argmin=function(x){return this.extent(x)[0]||{}};Nc.argmax=function(x){return this.extent(x)[1]||{}};Nc.min=function(x){const I=this.extent(x)[0];
return null!=I?x(I):void 0};Nc.max=function(x){const I=this.extent(x)[1];return null!=I?x(I):void 0};Nc.quartile=function(x){this._get===x&&this._q||(this._q=Ya.quartiles(this.values(),x),this._get=x);return this._q};Nc.q1=function(x){return this.quartile(x)[0]};Nc.q2=function(x){return this.quartile(x)[1]};Nc.q3=function(x){return this.quartile(x)[2]};Nc.ci=function(x){this._get===x&&this._ci||(this._ci=Ya.bootstrapCI(this.values(),1E3,.05,x),this._get=x);return this._ci};Nc.ci0=function(x){return this.ci(x)[0]};
Nc.ci1=function(x){return this.ci(x)[1]};pb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Hc},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};h.inherits(pb,ka.Transform,{transform(x,
I){const xa=this,Ja=I.fork(I.NO_SOURCE|I.NO_FIELDS),jb=x.modified();xa.stamp=Ja.stamp;xa.value&&(jb||I.modified(xa._inputs,!0))?(xa._prev=xa.value,xa.value=jb?xa.init(x):Object.create(null),I.visit(I.SOURCE,wb=>xa.add(wb))):(xa.value=xa.value||xa.init(x),I.visit(I.REM,wb=>xa.rem(wb)),I.visit(I.ADD,wb=>xa.add(wb)));Ja.modifies(xa._outputs);xa._drop=!1!==x.drop;x.cross&&1<xa._dims.length&&(xa._drop=!1,xa.cross());I.clean()&&xa._drop&&Ja.clean(!0).runAfter(()=>this.clean());return xa.changes(Ja)},cross(){function x(Qb){let qc,
Fc,zc,bd;for(qc in Qb)for(zc=Qb[qc].tuple,Fc=0;Fc<ec;++Fc)wb[Fc][bd=zc[jb[Fc]]]=bd}function I(Qb,qc,Fc){const zc=jb[Fc],bd=wb[Fc++];for(const md in bd){const qd=Qb?Qb+"|"+md:md;qc[zc]=bd[md];Fc<ec?I(qd,qc,Fc):Ja[qd]||xa.cell(qd,qc)}}const xa=this,Ja=xa.value,jb=xa._dnames,wb=jb.map(()=>({})),ec=jb.length;x(xa._prev);x(Ja);I("",{},0)},init(x){function I(he){he=h.array(h.accessorFields(he));const Le=he.length;let Ie=0,Fe;for(;Ie<Le;++Ie)jb[Fe=he[Ie]]||(jb[Fe]=1,xa.push(Fe))}const xa=this._inputs=[],
Ja=this._outputs=[],jb={};this._dims=h.array(x.groupby);this._dnames=this._dims.map(he=>{const Le=h.accessorName(he);I(he);Ja.push(Le);return Le});this.cellkey=x.key?x.key:dc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const wb=x.fields||[null],ec=x.ops||["count"],Qb=x.aggregate_params||[null];x=x.as||[];const qc=wb.length,Fc={};let zc,bd,md,qd,Fd,kd,Od;qc!==ec.length&&h.error("Unmatched number of fields and aggregate ops.");for(Od=0;Od<qc;++Od)zc=wb[Od],bd=ec[Od],md=Qb[Od]||
null,null==zc&&"count"!==bd&&h.error("Null aggregate field specified."),Fd=h.accessorName(zc),kd=x[Od]||bd+(Fd?"_"+Fd:""),Ja.push(kd),"count"===bd?this._counts.push(kd):(qd=Fc[Fd],qd||(I(zc),qd=Fc[Fd]=[],qd.field=zc,this._measures.push(qd)),"count"!==bd&&(this._countOnly=!1),qd.push(Cc[bd](kd,md)));this._measures=this._measures.map(he=>tb(he,he.field));return Object.create(null)},cellkey:dc(),cell(x,I){let xa=this.value[x];xa?0===xa.num&&this._drop&&xa.stamp<this.stamp?(xa.stamp=this.stamp,this._adds[this._alen++]=
xa):xa.stamp<this.stamp&&(xa.stamp=this.stamp,this._mods[this._mlen++]=xa):(xa=this.value[x]=this.newcell(x,I),this._adds[this._alen++]=xa);return xa},newcell(x,I){x={key:x,num:0,agg:null,tuple:this.newtuple(I,this._prev&&this._prev[x]),stamp:this.stamp,store:!1};if(!this._countOnly){I=this._measures;const xa=I.length;x.agg=Array(xa);for(let Ja=0;Ja<xa;++Ja)x.agg[Ja]=new I[Ja](x)}x.store&&(x.data=new rb);return x},newtuple(x,I){const xa=this._dnames,Ja=this._dims,jb=Ja.length,wb={};for(let ec=0;ec<
jb;++ec)wb[xa[ec]]=Ja[ec](x);return I?ka.replace(I.tuple,wb):ka.ingest(wb)},clean(){const x=this.value;for(const I in x)0===x[I].num&&delete x[I]},add(x){var I=this.cellkey(x);I=this.cell(I,x);I.num+=1;if(!this._countOnly){I.store&&I.data.add(x);I=I.agg;for(let xa=0,Ja=I.length;xa<Ja;++xa)I[xa].add(I[xa].get(x),x)}},rem(x){var I=this.cellkey(x);I=this.cell(I,x);--I.num;if(!this._countOnly){I.store&&I.data.rem(x);I=I.agg;for(let xa=0,Ja=I.length;xa<Ja;++xa)I[xa].rem(I[xa].get(x),x)}},celltuple(x){const I=
x.tuple,xa=this._counts;x.store&&x.data.values();for(let Ja=0,jb=xa.length;Ja<jb;++Ja)I[xa[Ja]]=x.num;if(!this._countOnly){x=x.agg;for(let Ja=0,jb=x.length;Ja<jb;++Ja)x[Ja].set(I)}return I},changes(x){const I=this._adds,xa=this._mods;var Ja=this._prev;const jb=this._drop,wb=x.add,ec=x.rem,Qb=x.mod;let qc;var Fc;if(Ja)for(Fc in Ja)qc=Ja[Fc],jb&&!qc.num||ec.push(qc.tuple);Ja=0;for(Fc=this._alen;Ja<Fc;++Ja)wb.push(this.celltuple(I[Ja])),I[Ja]=null;Ja=0;for(Fc=this._mlen;Ja<Fc;++Ja)qc=xa[Ja],(0===qc.num&&
jb?ec:Qb).push(this.celltuple(qc)),xa[Ja]=null;this._alen=this._mlen=0;this._prev=null;return x}});vb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",
type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};h.inherits(vb,ka.Transform,{transform(x,I){const xa=!1!==x.interval,Ja=this._bins(x),jb=Ja.start,wb=Ja.step,ec=x.as||["bin0","bin1"],Qb=ec[0],qc=ec[1];x.modified()?(I=I.reflow(!0),x=I.SOURCE):x=I.modified(h.accessorFields(x.field))?I.ADD_MOD:I.ADD;I.visit(x,xa?Fc=>
{const zc=Ja(Fc);Fc[Qb]=zc;Fc[qc]=null==zc?null:jb+wb*(1+(zc-jb)/wb)}:Fc=>Fc[Qb]=Ja(Fc));return I.modifies(xa?ec:Qb)},_bins(x){if(this.value&&!x.modified())return this.value;const I=x.field,xa=Ya.bin(x),Ja=xa.step;let jb=xa.start,wb=jb+Math.ceil((xa.stop-jb)/Ja)*Ja;var ec;null!=(ec=x.anchor)&&(ec-=jb+Ja*Math.floor((ec-jb)/Ja),jb+=ec,wb+=ec);ec=function(Qb){Qb=h.toNumber(I(Qb));return null==Qb?null:Qb<jb?-Infinity:Qb>wb?Infinity:(Qb=Math.max(jb,Math.min(Qb,wb-Ja)),jb+Ja*Math.floor(1E-14+(Qb-jb)/Ja))};
ec.start=jb;ec.stop=xa.stop;ec.step=Ja;return this.value=h.accessor(ec,h.accessorFields(I),x.name||"bin_"+h.accessorName(I))}});fc.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};h.inherits(fc,ka.Transform,{transform(x,I){const xa=I.fork(I.ALL),Ja=gb(ka.tupleid,this.value,xa.materialize(xa.ADD).add),jb=x.sort;x=I.changed()||jb&&(x.modified("sort")||I.modified(jb.fields));xa.visit(xa.REM,Ja.remove);this.modified(x);this.value=xa.source=Ja.data(ka.stableCompare(jb),
x);I.source&&I.source.root&&(this.value.root=I.source.root);return xa}});h.inherits(sa,ka.Operator);Ba.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};h.inherits(Ba,ka.Transform,{transform(x,
I){var xa=zc=>bd=>{bd=Qb(bd);var md=wb;switch(x.case){case "upper":bd=bd.toUpperCase();break;case "lower":bd=bd.toLowerCase()}bd=bd.match(md)||[];var qd;md=0;for(var Fd=bd.length;md<Fd;++md)ec.test(qd=bd[md])||zc(qd)};const Ja=this._parameterCheck(x,I),jb=this._counts,wb=this._match,ec=this._stop,Qb=x.field,qc=x.as||["text","count"],Fc=xa(zc=>jb[zc]=1+(jb[zc]||0));xa=xa(zc=>--jb[zc]);Ja?I.visit(I.SOURCE,Fc):(I.visit(I.ADD,Fc),I.visit(I.REM,xa));return this._finish(I,qc)},_parameterCheck(x,I){let xa=
!1;if(x.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(x.stopwords||"")+"$","i"),xa=!0;if(x.modified("pattern")||!this._match)this._match=new RegExp(x.pattern||"[\\w']+","g"),xa=!0;if(x.modified("field")||I.modified(x.field.fields))xa=!0;xa&&(this._counts={});return xa},_finish(x,I){const xa=this._counts,Ja=this._tuples||(this._tuples={}),jb=I[0],wb=I[1];x=x.fork(x.NO_SOURCE|x.NO_FIELDS);let ec,Qb,qc;for(ec in xa)Qb=Ja[ec],qc=xa[ec]||0,!Qb&&qc?(Ja[ec]=Qb=ka.ingest({}),Qb[jb]=ec,Qb[wb]=
qc,x.add.push(Qb)):0===qc?(Qb&&x.rem.push(Qb),xa[ec]=null,Ja[ec]=null):Qb[wb]!==qc&&(Qb[wb]=qc,x.mod.push(Qb));return x.modifies(I)}});Sa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};h.inherits(Sa,ka.Transform,{transform(x,I){const xa=I.fork(I.NO_SOURCE),Ja=x.as||["a","b"],jb=Ja[0],wb=Ja[1];var ec=!this.value||I.changed(I.ADD_REM)||x.modified("as")||x.modified("filter"),Qb=this.value;if(ec){Qb&&
(xa.rem=Qb);I=Qb=I.materialize(I.SOURCE).source;x=x.filter||h.truthy;ec=[];Qb={};for(var qc=I.length,Fc=0,zc,bd;Fc<qc;++Fc)for(Qb[jb]=bd=I[Fc],zc=0;zc<qc;++zc)Qb[wb]=I[zc],x(Qb)&&(ec.push(ka.ingest(Qb)),Qb={},Qb[jb]=bd);xa.add=this.value=ec}else xa.mod=Qb;xa.source=this.value;return xa.modifies(Ja)}});const xd={kde:Ya.randomKDE,mixture:Ya.randomMixture,normal:Ya.randomNormal,lognormal:Ya.randomLogNormal,uniform:Ya.randomUniform},sd=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},
{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ha.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",
type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:sd.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:sd},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Ha,ka.Transform,{transform(x,
I){const xa=I.fork(I.NO_SOURCE|I.NO_FIELDS);if(!this.value||I.changed()||x.modified()){const Ja=Wa(x.distribution,hb(I));I=x.steps||x.minsteps||25;const jb=x.steps||x.maxsteps||200;let wb=x.method||"pdf";"pdf"!==wb&&"cdf"!==wb&&h.error("Invalid density method: "+wb);x.extent||Ja.data||h.error("Missing density extent parameter.");wb=Ja[wb];const ec=x.as||["value","density"];x=x.extent||h.extent(Ja.data());x=Ya.sampleCurve(wb,x,I,jb).map(Qb=>{const qc={};qc[ec[0]]=Qb[0];qc[ec[1]]=Qb[1];return ka.ingest(qc)});
this.value&&(xa.rem=this.value);this.value=xa.add=xa.source=x}return xa}});Nb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};h.inherits(Nb,ka.Transform,{transform(x,I){if(this.value&&!x.modified()&&!I.changed())return I;var xa=I.materialize(I.SOURCE).source;const Ja=qb(I.source,x.groupby,h.identity),
jb=x.smooth||!1,wb=x.field;xa=x.step||h.span(h.extent(xa,wb))/30;const ec=ka.stableCompare((md,qd)=>wb(md)-wb(qd));x=x.as||"bin";const Qb=Ja.length;let qc=Infinity,Fc=-Infinity,zc=0,bd;for(;zc<Qb;++zc){const md=Ja[zc].sort(ec);bd=-1;for(const qd of Ya.dotbin(md,xa,jb,wb))qd<qc&&(qc=qd),qd>Fc&&(Fc=qd),md[++bd][x]=qd}this.value={start:qc,stop:Fc,step:xa};return I.reflow(!0).modifies(x)}});h.inherits(db,ka.Operator);ba.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};
h.inherits(ba,ka.Transform,{transform(x,I){var xa=this.value;const Ja=x.field;x=I.changed()||I.modified(Ja.fields)||x.modified("field");let jb=xa[0],wb=xa[1];if(x||null==jb)jb=Infinity,wb=-Infinity;I.visit(x?I.SOURCE:I.ADD,ec=>{ec=h.toNumber(Ja(ec));null!=ec&&(ec<jb&&(jb=ec),ec>wb&&(wb=ec))});Number.isFinite(jb)&&Number.isFinite(wb)||((xa=h.accessorName(Ja))&&(xa=` for field "${xa}"`),I.dataflow.warn(`Infinite extent${xa}: [${jb}, ${wb}]`),jb=wb=void 0);this.value=[jb,wb]}});h.inherits(ea,ka.Operator,
{connect(x){this.detachSubflow=x.detachSubflow;this.targets().add(x);return x.source=this},add(x){this.count+=1;this.value.add.push(x)},rem(x){--this.count;this.value.rem.push(x)},mod(x){this.value.mod.push(x)},init(x){this.value.init(x,x.NO_SOURCE)},evaluate(){return this.value}});h.inherits(ja,ka.Transform,{activate(x){this._targets[this._targets.active++]=x},subflow(x,I,xa,Ja){const jb=this.value;let wb=h.hasOwnProperty(jb,x)&&jb[x],ec;wb?wb.value.stamp<xa.stamp&&(wb.init(xa),this.activate(wb)):
(ec=Ja||(ec=this._group[x])&&ec.tuple,Ja=xa.dataflow,wb=new ea(xa.fork(xa.NO_SOURCE),this),Ja.add(wb).connect(I(Ja,x,ec)),jb[x]=wb,this.activate(wb));return wb},clean(){var x=this.value;let I=0;for(const xa in x)if(0===x[xa].count){const Ja=x[xa].detachSubflow;Ja&&Ja();delete x[xa];++I}I&&(x=this._targets.filter(xa=>xa&&0<xa.count),this.initTargets(x))},initTargets(x){const I=this._targets,xa=I.length,Ja=x?x.length:0;let jb=0;for(;jb<Ja;++jb)I[jb]=x[jb];for(;jb<xa&&null!=I[jb];++jb)I[jb]=null;I.active=
Ja},transform(x,I){const xa=I.dataflow,Ja=x.key,jb=x.subflow,wb=this._keys,ec=x.modified("key"),Qb=qc=>this.subflow(qc,jb,I);this._group=x.group||{};this.initTargets();I.visit(I.REM,qc=>{const Fc=ka.tupleid(qc),zc=wb.get(Fc);void 0!==zc&&(wb.delete(Fc),Qb(zc).rem(qc))});I.visit(I.ADD,qc=>{const Fc=Ja(qc);wb.set(ka.tupleid(qc),Fc);Qb(Fc).add(qc)});ec||I.modified(Ja.fields)?I.visit(I.MOD,qc=>{const Fc=ka.tupleid(qc),zc=wb.get(Fc),bd=Ja(qc);zc===bd?Qb(bd).mod(qc):(wb.set(Fc,bd),Qb(zc).rem(qc),Qb(bd).add(qc))}):
I.changed(I.MOD)&&I.visit(I.MOD,qc=>{Qb(wb.get(ka.tupleid(qc))).mod(qc)});ec&&I.visit(I.REFLOW,qc=>{const Fc=ka.tupleid(qc),zc=wb.get(Fc),bd=Ja(qc);zc!==bd&&(wb.set(Fc,bd),Qb(zc).rem(qc),Qb(bd).add(qc))});I.clean()?xa.runAfter(()=>{this.clean();wb.clean()}):wb.empty>xa.cleanThreshold&&xa.runAfter(wb.clean);return I}});h.inherits(Ma,ka.Operator);qa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};h.inherits(qa,ka.Transform,{transform(x,I){function xa(bd){const md=
ka.tupleid(bd),qd=Fc(bd,x),Fd=jb.get(md);qd&&Fd?(jb.delete(md),ec.push(bd)):qd||Fd?zc&&qd&&!Fd&&qc.push(bd):(jb.set(md,1),Qb.push(bd))}const Ja=I.dataflow,jb=this.value,wb=I.fork(),ec=wb.add,Qb=wb.rem,qc=wb.mod,Fc=x.expr;let zc=!0;I.visit(I.REM,bd=>{const md=ka.tupleid(bd);jb.has(md)?jb.delete(md):Qb.push(bd)});I.visit(I.ADD,bd=>{Fc(bd,x)?ec.push(bd):jb.set(ka.tupleid(bd),1)});I.visit(I.MOD,xa);x.modified()&&(zc=!1,I.visit(I.REFLOW,xa));jb.empty>Ja.cleanThreshold&&Ja.runAfter(jb.clean);return wb}});
l.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};h.inherits(l,ka.Transform,{transform(x,I){const xa=I.fork(I.NO_SOURCE),Ja=x.fields,jb=$a(Ja,x.as||[]),wb=x.index||null,ec=jb.length;xa.rem=this.value;I.visit(I.SOURCE,Qb=>{const qc=Ja.map(Fd=>Fd(Qb)),Fc=qc.reduce((Fd,kd)=>Math.max(Fd,kd.length),0);let zc=0,bd,md,qd;for(;zc<Fc;++zc){md=ka.derive(Qb);for(bd=0;bd<ec;++bd)md[jb[bd]]=
null==(qd=qc[bd][zc])?null:qd;wb&&(md[wb]=zc);xa.add.push(md)}});this.value=xa.source=xa.add;wb&&xa.modifies(wb);return xa.modifies(jb)}});D.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};h.inherits(D,ka.Transform,{transform(x,I){const xa=I.fork(I.NO_SOURCE),Ja=x.fields,jb=Ja.map(h.accessorName);x=x.as||["key","value"];const wb=x[0],ec=x[1],Qb=Ja.length;xa.rem=this.value;
I.visit(I.SOURCE,qc=>{for(let Fc=0,zc;Fc<Qb;++Fc)zc=ka.derive(qc),zc[wb]=jb[Fc],zc[ec]=Ja[Fc](qc),xa.add.push(zc)});this.value=xa.source=xa.add;return xa.modifies(x)}});K.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};h.inherits(K,ka.Transform,{transform(x,I){const xa=x.expr,Ja=x.as,jb=x.modified(),wb=x.initonly?I.ADD:jb?I.SOURCE:I.modified(xa.fields)||I.modified(Ja)?I.ADD_MOD:
I.ADD;jb&&(I=I.materialize().reflow(!0));x.initonly||I.modifies(Ja);return I.visit(wb,ec=>ec[Ja]=xa(ec,x))}});h.inherits(v,ka.Transform,{transform(x,I){I=I.fork(I.ALL);const xa=x.generator;let Ja=this.value,jb=x.size-Ja.length,wb,ec;if(0<jb){for(wb=[];0<=--jb;)wb.push(ec=ka.ingest(xa(x))),Ja.push(ec);I.add=I.add.length?I.materialize(I.ADD).add.concat(wb):wb}else x=Ja.slice(0,-jb),I.rem=I.rem.length?I.materialize(I.REM).rem.concat(x):x,Ja=Ja.slice(-jb);I.source=this.value=Ja;return I}});const ed={value:"value",
median:function(x,I){var xa=.5;x=Float64Array.from(w(x,I));if((I=x.length)&&!isNaN(xa=+xa))if(0>=xa||2>I)x=ta(x);else if(1<=xa)x=V(x);else{xa*=I-1;I=Math.floor(xa);var Ja=V(N(x,I).subarray(0,I+1));x=ta(x.subarray(I+1));x=Ja+(x-Ja)*(xa-I)}else x=void 0;return x},mean:function(x,I){let xa=0,Ja=0;if(void 0===I)for(var jb of x)null!=jb&&(jb=+jb)>=jb&&(++xa,Ja+=jb);else{jb=-1;for(let wb of x)null!=(wb=I(wb,++jb,x))&&(wb=+wb)>=wb&&(++xa,Ja+=wb)}if(xa)return Ja/xa},min:ta,max:V},Id=[];Na.Definition={type:"Impute",
metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};h.inherits(Na,ka.Transform,{transform(x,I){var xa=I.fork(I.ALL),Ja=Pa(x),jb=Xa(x),wb=h.accessorName(x.field),ec=h.accessorName(x.key),Qb=(x.groupby||[]).map(h.accessorName);x=sb(I.source,x.groupby,x.key,x.keyvals);
I=[];var qc=this.value,Fc=x.domain.length,zc,bd,md;var qd=0;for(bd=x.length;qd<bd;++qd){var Fd=x[qd];var kd=Fd.values;var Od=NaN;for(zc=0;zc<Fc;++zc)if(null==Fd[zc]){var he=x.domain[zc];var Le={_impute:!0};var Ie=0;for(md=kd.length;Ie<md;++Ie)Le[Qb[Ie]]=kd[Ie];Le[ec]=he;Le[wb]=Number.isNaN(Od)?Od=Ja(Fd,jb):Od;I.push(ka.ingest(Le))}}I.length&&(xa.add=xa.materialize(xa.ADD).add.concat(I));qc.length&&(xa.rem=xa.materialize(xa.REM).rem.concat(qc));this.value=I;return xa}});ib.Definition={type:"JoinAggregate",
metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Hc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};h.inherits(ib,pb,{transform(x,I){const xa=this,Ja=x.modified();let jb;xa.value&&(Ja||I.modified(xa._inputs,!0))?(jb=xa.value=Ja?xa.init(x):{},I.visit(I.SOURCE,wb=>xa.add(wb))):(jb=xa.value=xa.value||this.init(x),I.visit(I.REM,wb=>xa.rem(wb)),I.visit(I.ADD,wb=>xa.add(wb)));
xa.changes();I.visit(I.SOURCE,wb=>{h.extend(wb,jb[xa.cellkey(wb)].tuple)});return I.reflow(Ja).modifies(this._outputs)},changes(){const x=this._adds,I=this._mods;let xa,Ja;xa=0;for(Ja=this._alen;xa<Ja;++xa)this.celltuple(x[xa]),x[xa]=null;xa=0;for(Ja=this._mlen;xa<Ja;++xa)this.celltuple(I[xa]),I[xa]=null;this._alen=this._mlen=0}});Sb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",
"default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Sb,ka.Transform,{transform(x,I){const xa=I.fork(I.NO_SOURCE|I.NO_FIELDS);
if(!this.value||I.changed()||x.modified()){I=I.materialize(I.SOURCE).source;const Ja=qb(I,x.groupby,x.field),jb=(x.groupby||[]).map(h.accessorName),wb=x.bandwidth,ec=x.cumulative?"cdf":"pdf",Qb=x.as||["value","density"],qc=[];let Fc=x.extent,zc=x.steps||x.minsteps||25,bd=x.steps||x.maxsteps||200;"pdf"!==ec&&"cdf"!==ec&&h.error("Invalid density method: "+ec);"shared"===x.resolve&&(Fc||(Fc=h.extent(I,x.field)),zc=bd=x.steps||bd);Ja.forEach(md=>{const qd=Ya.randomKDE(md,wb)[ec],Fd=x.counts?md.length:
1,kd=Fc||h.extent(md);Ya.sampleCurve(qd,kd,zc,bd).forEach(Od=>{const he={};for(let Le=0;Le<jb.length;++Le)he[jb[Le]]=md.dims[Le];he[Qb[0]]=Od[0];he[Qb[1]]=Od[1]*Fd;qc.push(ka.ingest(he))})});this.value&&(xa.rem=this.value);this.value=xa.add=xa.source=qc}return xa}});h.inherits(X,ka.Operator);h.inherits(Kb,ka.Transform,{transform(x,I){const xa=I.dataflow;return this._pending?$b(this,I,this._pending):pc(x)?I.StopPropagation:x.values?$b(this,I,xa.parse(x.values,x.format)):x.async?{async:xa.request(x.url,
x.format).then(Ja=>{this._pending=h.array(Ja.data);return jb=>jb.touch(this)})}:xa.request(x.url,x.format).then(Ja=>$b(this,I,h.array(Ja.data)))}});Mb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};h.inherits(Mb,ka.Transform,
{transform(x,I){const xa=x.fields,Ja=x.index,jb=x.values,wb=null==x.default?null:x.default;var ec=x.modified();const Qb=xa.length;let qc=ec?I.SOURCE:I.ADD,Fc=I,zc=x.as,bd;jb?(bd=jb.length,1<Qb&&!zc&&h.error('Multi-field lookup requires explicit "as" parameter.'),zc&&zc.length!==Qb*bd&&h.error('The "as" parameter has too few output field names.'),zc=zc||jb.map(h.accessorName),x=function(md){for(var qd=0,Fd=0,kd,Od;qd<Qb;++qd)if(Od=Ja.get(xa[qd](md)),null==Od)for(kd=0;kd<bd;++kd,++Fd)md[zc[Fd]]=wb;
else for(kd=0;kd<bd;++kd,++Fd)md[zc[Fd]]=jb[kd](Od)}):(zc||h.error("Missing output field names."),x=function(md){for(var qd=0,Fd;qd<Qb;++qd)Fd=Ja.get(xa[qd](md)),md[zc[qd]]=null==Fd?wb:Fd});ec?Fc=I.reflow(!0):(ec=xa.some(md=>I.modified(md.fields)),qc|=ec?I.MOD:0);I.visit(qc,x);return Fc.modifies(zc)}});h.inherits(Ob,ka.Operator);h.inherits(hd,ka.Operator);h.inherits(Bb,ka.Transform,{transform(x,I){this.modified(x.modified());this.value=x;return I.fork(I.NO_SOURCE|I.NO_FIELDS)}});Ua.Definition={type:"Pivot",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Hc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};h.inherits(Ua,pb,{_transform:pb.prototype.transform,transform(x,I){return this._transform(xb(x,I),I)}});h.inherits(Zb,ja,{transform(x,I){const xa=x.subflow,Ja=x.field,jb=wb=>this.subflow(ka.tupleid(wb),xa,I,wb);(x.modified("field")||
Ja&&I.modified(h.accessorFields(Ja)))&&h.error("PreFacet does not support field modification.");this.initTargets();Ja?(I.visit(I.MOD,wb=>{const ec=jb(wb);Ja(wb).forEach(Qb=>ec.mod(Qb))}),I.visit(I.ADD,wb=>{const ec=jb(wb);Ja(wb).forEach(Qb=>ec.add(ka.ingest(Qb)))}),I.visit(I.REM,wb=>{const ec=jb(wb);Ja(wb).forEach(Qb=>ec.rem(Qb))})):(I.visit(I.MOD,wb=>jb(wb).mod(wb)),I.visit(I.ADD,wb=>jb(wb).add(wb)),I.visit(I.REM,wb=>jb(wb).rem(wb)));I.clean()&&I.runAfter(()=>this.clean());return I}});ic.Definition=
{type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};h.inherits(ic,ka.Transform,{transform(x,I){const xa=I.fork(I.NO_SOURCE),Ja=x.fields,jb=$a(x.fields,x.as||[]),wb=Ja?(Qb,qc)=>{for(let Fc=0,zc=Ja.length;Fc<zc;++Fc)qc[jb[Fc]]=Ja[Fc](Qb);return qc}:ka.rederive;let ec;this.value?ec=this.value:(I=I.addAll(),ec=this.value={});I.visit(I.REM,Qb=>{Qb=ka.tupleid(Qb);xa.rem.push(ec[Qb]);ec[Qb]=null});I.visit(I.ADD,Qb=>
{const qc=wb(Qb,ka.ingest({}));ec[ka.tupleid(Qb)]=qc;xa.add.push(qc)});I.visit(I.MOD,Qb=>{xa.mod.push(wb(Qb,ec[ka.tupleid(Qb)]))});return xa}});h.inherits(Ac,ka.Transform,{transform(x,I){this.value=x.value;return x.modified("value")?I.fork(I.NO_SOURCE|I.NO_FIELDS):I.StopPropagation}});nd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",
"default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};h.inherits(nd,ka.Transform,{transform(x,I){const xa=I.fork(I.NO_SOURCE|I.NO_FIELDS),Ja=x.as||["prob","value"];if(this.value&&!x.modified()&&!I.changed())return xa.source=this.value,xa;I=I.materialize(I.SOURCE).source;I=qb(I,x.groupby,x.field);const jb=(x.groupby||[]).map(h.accessorName),wb=[],ec=x.step||.01,Qb=x.probs||wa(ec/2,1-1E-14,ec),qc=Qb.length;I.forEach(Fc=>{const zc=Ya.quantiles(Fc,Qb);for(let bd=0;bd<qc;++bd){const md=
{};for(let qd=0;qd<jb.length;++qd)md[jb[qd]]=Fc.dims[qd];md[Ja[0]]=Qb[bd];md[Ja[1]]=zc[bd];wb.push(ka.ingest(md))}});this.value&&(xa.rem=this.value);this.value=xa.add=xa.source=wb;return xa}});h.inherits(Vc,ka.Transform,{transform(x,I){let xa,Ja;this.value?Ja=this.value:(xa=I=I.addAll(),Ja=this.value={});x.derive&&(xa=I.fork(I.NO_SOURCE),I.visit(I.REM,jb=>{jb=ka.tupleid(jb);xa.rem.push(Ja[jb]);Ja[jb]=null}),I.visit(I.ADD,jb=>{const wb=ka.derive(jb);Ja[ka.tupleid(jb)]=wb;xa.add.push(wb)}),I.visit(I.MOD,
jb=>{const wb=Ja[ka.tupleid(jb)];for(const ec in jb)wb[ec]=jb[ec],xa.modifies(ec);xa.mod.push(wb)}));return xa}});na.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};h.inherits(na,ka.Transform,{transform(x,I){function xa(zc){let bd,md;Qb.length<wb?Qb.push(zc):(md=~~((qc+1)*Ya.random()),md<Qb.length&&md>=Fc&&(bd=Qb[md],ec[ka.tupleid(bd)]&&Ja.rem.push(bd),Qb[md]=zc));++qc}const Ja=I.fork(I.NO_SOURCE);var jb=x.modified("size");const wb=x.size,ec=this.value.reduce((zc,
bd)=>(zc[ka.tupleid(bd)]=1,zc),{});let Qb=this.value,qc=this.count,Fc=0;I.rem.length&&(I.visit(I.REM,zc=>{const bd=ka.tupleid(zc);ec[bd]&&(ec[bd]=-1,Ja.rem.push(zc));--qc}),Qb=Qb.filter(zc=>-1!==ec[ka.tupleid(zc)]));(I.rem.length||jb)&&Qb.length<wb&&I.source&&(Fc=qc=Qb.length,I.visit(I.SOURCE,zc=>{ec[ka.tupleid(zc)]||xa(zc)}),Fc=-1);if(jb&&Qb.length>wb){x=Qb.length-wb;for(jb=0;jb<x;++jb)ec[ka.tupleid(Qb[jb])]=-1,Ja.rem.push(Qb[jb]);Qb=Qb.slice(x)}I.mod.length&&I.visit(I.MOD,zc=>{ec[ka.tupleid(zc)]&&
Ja.mod.push(zc)});I.add.length&&I.visit(I.ADD,xa);if(I.add.length||0>Fc)Ja.add=Qb.filter(zc=>!ec[ka.tupleid(zc)]);this.count=qc;this.value=Ja.source=Qb;return Ja}});Ia.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};h.inherits(Ia,ka.Transform,{transform(x,I){if(!this.value||x.modified()){var xa=I.materialize().fork(I.MOD),
Ja=x.as||"data";xa.rem=this.value?I.rem.concat(this.value):I.rem;this.value=wa(x.start,x.stop,x.step||1).map(jb=>{const wb={};wb[Ja]=jb;return ka.ingest(wb)});xa.add=I.add.concat(this.value);return xa}}});h.inherits(fb,ka.Transform,{transform(x,I){this.value=I.source;return I.changed()?I.fork(I.NO_SOURCE|I.NO_FIELDS):I.StopPropagation}});const Gd=["unit0","unit1"];R.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},
{name:"units",type:"enum",values:ub.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Gd}]};h.inherits(R,ka.Transform,{transform(x,I){const xa=x.field,Ja=!1!==x.interval;var jb="utc"===x.timezone;const wb=this._floor(x,I),ec=(jb?ub.utcInterval:ub.timeInterval)(wb.unit).offset;jb=x.as||
Gd;const Qb=jb[0],qc=jb[1],Fc=wb.step;let zc=wb.start||Infinity,bd=wb.stop||-Infinity,md=I.ADD;if(x.modified()||I.changed(I.REM)||I.modified(h.accessorFields(xa)))I=I.reflow(!0),md=I.SOURCE,zc=Infinity,bd=-Infinity;I.visit(md,qd=>{var Fd=xa(qd);let kd;null==Fd?(qd[Qb]=null,Ja&&(qd[qc]=null)):(qd[Qb]=Fd=kd=wb(Fd),Ja&&(qd[qc]=kd=ec(Fd,Fc)),Fd<zc&&(zc=Fd),kd>bd&&(bd=kd))});wb.start=zc;wb.stop=bd;return I.modifies(Ja?jb:Qb)},_floor(x,I){var xa="utc"===x.timezone;const {units:Ja,step:jb}=x.units?{units:x.units,
step:x.step||1}:ub.timeBin({extent:x.extent||h.extent(I.materialize(I.SOURCE).source,x.field),maxbins:x.maxbins});x=ub.timeUnits(Ja);I=this.value||{};xa=(xa?ub.utcFloor:ub.timeFloor)(x,jb);xa.unit=h.peek(x);xa.units=x;xa.step=jb;xa.start=I.start;xa.stop=I.stop;return this.value=xa}});h.inherits(r,ka.Transform,{transform(x,I){const xa=I.dataflow,Ja=x.field,jb=this.value,wb=Qb=>jb.set(Ja(Qb),Qb);let ec=!0;x.modified("field")||I.modified(Ja.fields)?(jb.clear(),I.visit(I.SOURCE,wb)):I.changed()?(I.visit(I.REM,
Qb=>jb.delete(Ja(Qb))),I.visit(I.ADD,wb)):ec=!1;this.modified(ec);jb.empty>xa.cleanThreshold&&xa.runAfter(jb.clean);return I.fork()}});h.inherits(da,ka.Transform,{transform(x,I){if(!this.value||x.modified("field")||x.modified("sort")||I.changed()||x.sort&&I.modified(x.sort.fields))this.value=(x.sort?I.source.slice().sort(ka.stableCompare(x.sort)):I.source).map(x.field)}});const vd={row_number:function(){return{next:x=>x.index+1}},rank:function(){let x;return{init:()=>x=1,next:I=>{const xa=I.index,
Ja=I.data;return xa&&I.compare(Ja[xa-1],Ja[xa])?x=xa+1:x}}},dense_rank:function(){let x;return{init:()=>x=1,next:I=>{const xa=I.index,Ja=I.data;return xa&&I.compare(Ja[xa-1],Ja[xa])?++x:x}}},percent_rank:function(){const x=vd.rank(),I=x.next;return{init:x.init,next:xa=>(I(xa)-1)/(xa.data.length-1)}},cume_dist:function(){let x;return{init:()=>x=0,next:I=>{const xa=I.data,Ja=I.compare;I=I.index;if(x<I){for(;I+1<xa.length&&!Ja(xa[I],xa[I+1]);)++I;x=I}return(1+x)/xa.length}}},ntile:function(x,I){I=+I;
0<I||h.error("ntile num must be greater than zero.");x=vd.cume_dist();const xa=x.next;return{init:x.init,next:Ja=>Math.ceil(I*xa(Ja))}},lag:function(x,I){I=+I||1;return{next:xa=>{const Ja=xa.index-I;return 0<=Ja?x(xa.data[Ja]):null}}},lead:function(x,I){I=+I||1;return{next:xa=>{const Ja=xa.index+I;xa=xa.data;return Ja<xa.length?x(xa[Ja]):null}}},first_value:function(x){return{next:I=>x(I.data[I.i0])}},last_value:function(x){return{next:I=>x(I.data[I.i1-1])}},nth_value:function(x,I){I=+I;0<I||h.error("nth_value nth must be greater than zero.");
return{next:xa=>{const Ja=xa.i0+(I-1);return Ja<xa.i1?x(xa.data[Ja]):null}}},prev_value:function(x){let I;return{init:()=>I=null,next:xa=>{xa=x(xa.data[xa.index]);return null!=xa?I=xa:I}}},next_value:function(x){let I,xa;return{init:()=>(I=null,xa=-1),next:Ja=>{var jb=Ja.data;if(Ja.index<=xa)jb=I;else{a:{Ja=Ja.index;for(let wb=jb.length;Ja<wb;++Ja)if(null!=x(jb[Ja]))break a;Ja=-1}jb=0>(xa=Ja)?(xa=jb.length,I=null):I=x(jb[xa])}return jb}}}},xe=Object.keys(vd),Ed=Da.prototype;Ed.init=function(){this.windows.forEach(x=>
x.init());this.cell&&this.cell.init()};Ed.update=function(x,I){const xa=this.cell,Ja=this.windows,jb=x.data,wb=Ja&&Ja.length;let ec;if(xa){for(ec=x.p0;ec<x.i0;++ec)xa.rem(jb[ec]);for(ec=x.p1;ec<x.i1;++ec)xa.add(jb[ec]);xa.set(I)}for(ec=0;ec<wb;++ec)Ja[ec].update(x,I)};kb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xe.concat(Hc)},{name:"params",type:"number","null":!0,array:!0},
{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};h.inherits(kb,ka.Transform,{transform(x,I){this.stamp=I.stamp;const xa=x.modified(),Ja=ka.stableCompare(x.sort),jb=dc(x.groupby),wb=Qb=>this.group(jb(Qb));let ec=this.state;if(!ec||xa)ec=this.state=new Da(x);xa||I.modified(ec.inputs)?
(this.value={},I.visit(I.SOURCE,Qb=>wb(Qb).add(Qb))):(I.visit(I.REM,Qb=>wb(Qb).remove(Qb)),I.visit(I.ADD,Qb=>wb(Qb).add(Qb)));for(let Qb=0,qc=this._mlen;Qb<qc;++Qb)Ub(this._mods[Qb],ec,Ja,x);this._mlen=0;this._mods=[];return I.reflow(xa).modifies(ec.outputs)},group(x){let I=this.value[x];I||(I=this.value[x]=gb(ka.tupleid),I.stamp=-1);I.stamp<this.stamp&&(I.stamp=this.stamp,this._mods[this._mlen++]=I);return I}});t.aggregate=pb;t.bin=vb;t.collect=fc;t.compare=sa;t.countpattern=Ba;t.cross=Sa;t.density=
Ha;t.dotbin=Nb;t.expression=db;t.extent=ba;t.facet=ja;t.field=Ma;t.filter=qa;t.flatten=l;t.fold=D;t.formula=K;t.generate=v;t.impute=Na;t.joinaggregate=ib;t.kde=Sb;t.key=X;t.load=Kb;t.lookup=Mb;t.multiextent=Ob;t.multivalues=hd;t.params=Bb;t.pivot=Ua;t.prefacet=Zb;t.project=ic;t.proxy=Ac;t.quantile=nd;t.relay=Vc;t.sample=na;t.sequence=Ia;t.sieve=fb;t.subflow=ea;t.timeunit=R;t.tupleindex=r;t.values=da;t.window=kb})};
shadow$provide[32]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function h(ka,Ya){if("undefined"!==typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ka,ub.height=Ya,ub}return null}t.canvas=h;t.domCanvas=h;t.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ka){function Ya(m,H,L){H=m-H+2*L;return m?0<H?H:1:0}function ub(m){return function(H){let L=H[0];H=H[1];let ma;H<L&&(ma=L,L=H,H=ma);return[m.invert(L),m.invert(H)]}}function Yb(m){return function(H){const L=
m.range();let ma=H[0];H=H[1];let Ra=-1,cb;let mb;if(H<ma){var Jb=ma;ma=H;H=Jb}Jb=0;for(mb=L.length;Jb<mb;++Jb)L[Jb]>=ma&&L[Jb]<=H&&(0>Ra&&(Ra=Jb),cb=Jb);if(!(0>Ra))return ma=m.invertExtent(L[Ra]),H=m.invertExtent(L[cb]),[void 0===ma[0]?ma[1]:ma[0],void 0===H[1]?H[0]:H[1]]}}function dc(m,H){return null==m||null==H?NaN:m<H?-1:m>H?1:m>=H?0:NaN}function Wb(m,H){return null==m||null==H?NaN:H<m?-1:H>m?1:H>=m?0:NaN}function oc(m){function H(cb,mb,Jb=0,uc=cb.length){if(Jb<uc){if(0!==L(mb,mb))return uc;do{const ad=
Jb+uc>>>1;0>ma(cb[ad],mb)?Jb=ad+1:uc=ad}while(Jb<uc)}return Jb}let L,ma,Ra;2!==m.length?(L=dc,ma=(cb,mb)=>dc(m(cb),mb),Ra=(cb,mb)=>m(cb)-mb):(L=m===dc||m===Wb?m:Ab,Ra=ma=m);return{left:H,center:function(cb,mb,Jb=0,uc=cb.length){uc=H(cb,mb,Jb,uc-1);return uc>Jb&&Ra(cb[uc-1],mb)>-Ra(cb[uc],mb)?uc-1:uc},right:function(cb,mb,Jb=0,uc=cb.length){if(Jb<uc){if(0!==L(mb,mb))return uc;do{const ad=Jb+uc>>>1;0>=ma(cb[ad],mb)?Jb=ad+1:uc=ad}while(Jb<uc)}return Jb}}}function Ab(){return 0}function Tb(m){return null===
m?NaN:+m}function jc({_intern:m,_key:H},L){H=H(L);return m.has(H)?m.get(H):L}function Ea({_intern:m,_key:H},L){H=H(L);if(m.has(H))return m.get(H);m.set(H,L);return L}function Za({_intern:m,_key:H},L){H=H(L);m.has(H)&&(L=m.get(H),m.delete(H));return L}function tb(m){return null!==m&&"object"===typeof m?m.valueOf():m}function rb(m,H,L){var ma=(H-m)/Math.max(0,L),Ra=Math.floor(Math.log10(ma));ma/=Math.pow(10,Ra);ma=ma>=Xf?10:ma>=ci?5:ma>=wh?2:1;let cb;0>Ra?(cb=Math.pow(10,-Ra)/ma,Ra=Math.round(m*cb),
ma=Math.round(H*cb),Ra/cb<m&&++Ra,ma/cb>H&&--ma,cb=-cb):(cb=Math.pow(10,Ra)*ma,Ra=Math.round(m/cb),ma=Math.round(H/cb),Ra*cb<m&&++Ra,ma*cb>H&&--ma);return ma<Ra&&.5<=L&&2>L?rb(m,H,2*L):[Ra,ma,cb]}function pb(m,H,L){H=+H;m=+m;L=+L;if(!(0<L))return[];if(m===H)return[m];var ma=H<m;const [Ra,cb,mb]=ma?rb(H,m,L):rb(m,H,L);if(!(cb>=Ra))return[];m=cb-Ra+1;H=Array(m);if(ma)if(0>mb)for(ma=0;ma<m;++ma)H[ma]=(cb-ma)/-mb;else for(ma=0;ma<m;++ma)H[ma]=(cb-ma)*mb;else if(0>mb)for(ma=0;ma<m;++ma)H[ma]=(Ra+ma)/-mb;
else for(ma=0;ma<m;++ma)H[ma]=(Ra+ma)*mb;return H}function vb(m,H,L){return rb(+m,+H,+L)[2]}function gb(m,H,L){H=+H;m=+m;L=+L;const ma=H<m;m=ma?vb(H,m,L):vb(m,H,L);return(ma?-1:1)*(0>m?1/-m:m)}function fc(m,H,L=Tb){if((ma=m.length)&&!isNaN(H=+H)){if(0>=H||2>ma)return+L(m[0],0,m);if(1<=H)return+L(m[ma-1],ma-1,m);var ma;H*=ma-1;ma=Math.floor(H);var Ra=+L(m[ma],ma,m);m=+L(m[ma+1],ma+1,m);return Ra+(m-Ra)*(H-ma)}}function sa(m,H,L){m=+m;H=+H;L=2>(Ra=arguments.length)?(H=m,m=0,1):3>Ra?1:+L;for(var ma=
-1,Ra=Math.max(0,Math.ceil((H-m)/L))|0,cb=Array(Ra);++ma<Ra;)cb[ma]=m+ma*L;return cb}function ia(m,H){switch(arguments.length){case 0:break;case 1:this.range(m);break;default:this.range(H).domain(m)}return this}function Ba(m,H){switch(arguments.length){case 0:break;case 1:"function"===typeof m?this.interpolator(m):this.range(m);break;default:this.domain(m),"function"===typeof H?this.interpolator(H):this.range(H)}return this}function Sa(){function m(cb){let mb=H.get(cb);if(void 0===mb){if(Ra!==Pg)return Ra;
H.set(cb,mb=L.push(cb)-1)}return ma[mb%ma.length]}var H=new nh,L=[],ma=[],Ra=Pg;m.domain=function(cb){if(!arguments.length)return L.slice();L=[];H=new nh;for(const mb of cb)H.has(mb)||H.set(mb,L.push(mb)-1);return m};m.range=function(cb){return arguments.length?(ma=Array.from(cb),m):ma.slice()};m.unknown=function(cb){return arguments.length?(Ra=cb,m):Ra};m.copy=function(){return Sa(L,ma).unknown(Ra)};ia.apply(m,arguments);return m}function Wa(m,H,L){m.prototype=H.prototype=L;L.constructor=m}function Ha(m,
H){m=Object.create(m.prototype);for(var L in H)m[L]=H[L];return m}function hb(){}function $a(){return this.rgb().formatHex()}function qb(){return this.rgb().formatRgb()}function Nb(m){var H,L;m=(m+"").trim().toLowerCase();return(H=Sh.exec(m))?(L=H[1].length,H=parseInt(H[1],16),6===L?db(H):3===L?new ja(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===L?T(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===L?T(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=Xi.exec(m))?
new ja(H[1],H[2],H[3],1):(H=Ji.exec(m))?new ja(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=Ki.exec(m))?T(H[1],H[2],H[3],H[4]):(H=di.exec(m))?T(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=Yi.exec(m))?K(H[1],H[2]/100,H[3]/100,1):(H=Li.exec(m))?K(H[1],H[2]/100,H[3]/100,H[4]):Yg.hasOwnProperty(m)?db(Yg[m]):"transparent"===m?new ja(NaN,NaN,NaN,0):null}function db(m){return new ja(m>>16&255,m>>8&255,m&255,1)}function T(m,H,L,ma){0>=ma&&(m=H=L=NaN);return new ja(m,H,L,ma)}function ba(m){m instanceof
hb||(m=Nb(m));if(!m)return new ja;m=m.rgb();return new ja(m.r,m.g,m.b,m.opacity)}function ea(m,H,L,ma){return 1===arguments.length?ba(m):new ja(m,H,L,null==ma?1:ma)}function ja(m,H,L,ma){this.r=+m;this.g=+H;this.b=+L;this.opacity=+ma}function Ma(){return`#${D(this.r)}${D(this.g)}${D(this.b)}`}function oa(){const m=qa(this.opacity);return`${1===m?"rgb(":"rgba("}${l(this.r)}, ${l(this.g)}, ${l(this.b)}${1===m?")":`, ${m})`}`}function qa(m){return isNaN(m)?1:Math.max(0,Math.min(1,m))}function l(m){return Math.max(0,
Math.min(255,Math.round(m)||0))}function D(m){m=l(m);return(16>m?"0":"")+m.toString(16)}function K(m,H,L,ma){0>=ma?m=H=L=NaN:0>=L||1<=L?m=H=NaN:0>=H&&(m=NaN);return new A(m,H,L,ma)}function v(m){if(m instanceof A)return new A(m.h,m.s,m.l,m.opacity);m instanceof hb||(m=Nb(m));if(!m)return new A;if(m instanceof A)return m;m=m.rgb();var H=m.r/255,L=m.g/255,ma=m.b/255,Ra=Math.min(H,L,ma),cb=Math.max(H,L,ma),mb=NaN,Jb=cb-Ra,uc=(cb+Ra)/2;Jb?(mb=H===cb?(L-ma)/Jb+6*(L<ma):L===cb?(ma-H)/Jb+2:(H-L)/Jb+4,Jb/=
.5>uc?cb+Ra:2-cb-Ra,mb*=60):Jb=0<uc&&1>uc?0:mb;return new A(mb,Jb,uc,m.opacity)}function Q(m,H,L,ma){return 1===arguments.length?v(m):new A(m,H,L,null==ma?1:ma)}function A(m,H,L,ma){this.h=+m;this.s=+H;this.l=+L;this.opacity=+ma}function W(m){m=(m||0)%360;return 0>m?m+360:m}function G(m){return Math.max(0,Math.min(1,m||0))}function w(m,H,L){return 255*(60>m?H+(L-H)*m/60:180>m?L:240>m?H+(L-H)*(240-m)/60:H)}function z(m){if(m instanceof V)return new V(m.l,m.a,m.b,m.opacity);if(m instanceof Xa)return sb(m);
m instanceof ja||(m=ba(m));var H=wa(m.r),L=wa(m.g),ma=wa(m.b),Ra=ta(.2225045*H+.7168786*L+.0606169*ma);if(H===L&&L===ma)var cb=H=Ra;else cb=ta((.4360747*H+.3850649*L+.1430804*ma)/.96422),H=ta((.0139322*H+.0971045*L+.7141733*ma)/.82521);return new V(116*Ra-16,500*(cb-Ra),200*(Ra-H),m.opacity)}function F(m,H,L,ma){return 1===arguments.length?z(m):new V(m,H,L,null==ma?1:ma)}function V(m,H,L,ma){this.l=+m;this.a=+H;this.b=+L;this.opacity=+ma}function ta(m){return m>ig?Math.pow(m,1/3):m/wg+fh}function N(m){return m>
Th?m*m*m:wg*(m-fh)}function la(m){return 255*(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055)}function wa(m){return.04045>=(m/=255)?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Na(m){if(m instanceof Xa)return new Xa(m.h,m.c,m.l,m.opacity);m instanceof V||(m=z(m));if(0===m.a&&0===m.b)return new Xa(NaN,0<m.l&&100>m.l?0:NaN,m.l,m.opacity);var H=Math.atan2(m.b,m.a)*oh;return new Xa(0>H?H+360:H,Math.sqrt(m.a*m.a+m.b*m.b),m.l,m.opacity)}function Pa(m,H,L,ma){return 1===arguments.length?Na(m):new Xa(m,
H,L,null==ma?1:ma)}function Xa(m,H,L,ma){this.h=+m;this.c=+H;this.l=+L;this.opacity=+ma}function sb(m){if(isNaN(m.h))return new V(m.l,0,0,m.opacity);var H=m.h*Mi;return new V(m.l,Math.cos(H)*m.c,Math.sin(H)*m.c,m.opacity)}function ib(m,H,L,ma){if(1===arguments.length){var Ra=m;if(Ra instanceof Sb)Ra=new Sb(Ra.h,Ra.s,Ra.l,Ra.opacity);else{Ra instanceof ja||(Ra=ba(Ra));var cb=Ra.g/255,mb=Ra.b/255,Jb=(Zi*mb+Ra.r/255*-1.7884503806-3.5172982438*cb)/(Zi+-1.7884503806-3.5172982438);mb-=Jb;var uc=(1.97294*
(cb-Jb)- -.29227*mb)/-.90649;mb=(cb=Math.sqrt(uc*uc+mb*mb)/(1.97294*Jb*(1-Jb)))?Math.atan2(uc,mb)*oh-120:NaN;Ra=new Sb(0>mb?mb+360:mb,cb,Jb,Ra.opacity)}}else Ra=new Sb(m,H,L,null==ma?1:ma);return Ra}function Sb(m,H,L,ma){this.h=+m;this.s=+H;this.l=+L;this.opacity=+ma}function X(m,H,L,ma,Ra){var cb=m*m,mb=cb*m;return((1-3*m+3*cb-mb)*H+(4-6*cb+3*mb)*L+(1+3*m+3*cb-3*mb)*ma+mb*Ra)/6}function Fa(m){var H=m.length-1;return function(L){var ma=0>=L?L=0:1<=L?(L=1,H-1):Math.floor(L*H),Ra=m[ma],cb=m[ma+1];return X((L-
ma/H)*H,0<ma?m[ma-1]:2*Ra-cb,Ra,cb,ma<H-1?m[ma+2]:2*cb-Ra)}}function Kb(m){var H=m.length;return function(L){var ma=Math.floor((0>(L%=1)?++L:L)*H);return X((L-ma/H)*H,m[(ma+H-1)%H],m[ma%H],m[(ma+1)%H],m[(ma+2)%H])}}function pc(m,H){return function(L){return m+L*H}}function $b(m,H,L){return m=Math.pow(m,L),H=Math.pow(H,L)-m,L=1/L,function(ma){return Math.pow(m+ma*H,L)}}function Mb(m,H){var L=H-m;return L?pc(m,180<L||-180>L?L-360*Math.round(L/360):L):fi(isNaN(m)?H:m)}function Ob(m){return 1===(m=+m)?
yc:function(H,L){return L-H?$b(H,L,m):fi(isNaN(H)?L:H)}}function yc(m,H){var L=H-m;return L?pc(m,L):fi(isNaN(m)?H:m)}function hd(m){return function(H){var L=H.length,ma=Array(L),Ra=Array(L),cb=Array(L),mb;for(mb=0;mb<L;++mb){var Jb=ea(H[mb]);ma[mb]=Jb.r||0;Ra[mb]=Jb.g||0;cb[mb]=Jb.b||0}ma=m(ma);Ra=m(Ra);cb=m(cb);Jb.opacity=1;return function(uc){Jb.r=ma(uc);Jb.g=Ra(uc);Jb.b=cb(uc);return Jb+""}}}function ra(m,H){H||(H=[]);var L=m?Math.min(H.length,m.length):0,ma=H.slice(),Ra;return function(cb){for(Ra=
0;Ra<L;++Ra)ma[Ra]=m[Ra]*(1-cb)+H[Ra]*cb;return ma}}function Bb(m){return ArrayBuffer.isView(m)&&!(m instanceof DataView)}function Ua(m,H){var L=H?H.length:0,ma=m?Math.min(L,m.length):0,Ra=Array(ma),cb=Array(L),mb;for(mb=0;mb<ma;++mb)Ra[mb]=nd(m[mb],H[mb]);for(;mb<L;++mb)cb[mb]=H[mb];return function(Jb){for(mb=0;mb<ma;++mb)cb[mb]=Ra[mb](Jb);return cb}}function xb(m,H){var L=new Date;return m=+m,H=+H,function(ma){return L.setTime(m*(1-ma)+H*ma),L}}function Fb(m,H){return m=+m,H=+H,function(L){return m*
(1-L)+H*L}}function Lb(m,H){var L={},ma={},Ra;if(null===m||"object"!==typeof m)m={};if(null===H||"object"!==typeof H)H={};for(Ra in H)Ra in m?L[Ra]=nd(m[Ra],H[Ra]):ma[Ra]=H[Ra];return function(cb){for(Ra in L)ma[Ra]=L[Ra](cb);return ma}}function Zb(m){return function(){return m}}function ic(m){return function(H){return m(H)+""}}function Ac(m,H){var L=yh.lastIndex=Gh.lastIndex=0,ma,Ra,cb,mb=-1,Jb=[],uc=[];m+="";for(H+="";(ma=yh.exec(m))&&(Ra=Gh.exec(H));)(cb=Ra.index)>L&&(cb=H.slice(L,cb),Jb[mb]?Jb[mb]+=
cb:Jb[++mb]=cb),(ma=ma[0])===(Ra=Ra[0])?Jb[mb]?Jb[mb]+=Ra:Jb[++mb]=Ra:(Jb[++mb]=null,uc.push({i:mb,x:Fb(ma,Ra)})),L=Gh.lastIndex;L<H.length&&(cb=H.slice(L),Jb[mb]?Jb[mb]+=cb:Jb[++mb]=cb);return 2>Jb.length?uc[0]?ic(uc[0].x):Zb(H):(H=uc.length,function(ad){for(var od=0,Bc;od<H;++od)Jb[(Bc=uc[od]).i]=Bc.x(ad);return Jb.join("")})}function nd(m,H){var L=typeof H,ma;return null==H||"boolean"===L?fi(H):("number"===L?Fb:"string"===L?(ma=Nb(H))?(H=ma,Zg):Ac:H instanceof Nb?Zg:H instanceof Date?xb:Bb(H)?
ra:Array.isArray(H)?Ua:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Lb:Fb)(m,H)}function Vc(m,H){return m=+m,H=+H,function(L){return Math.round(m*(1-L)+H*L)}}function na(m,H,L,ma,Ra,cb){var mb,Jb,uc;if(mb=Math.sqrt(m*m+H*H))m/=mb,H/=mb;if(uc=m*L+H*ma)L-=m*uc,ma-=H*uc;if(Jb=Math.sqrt(L*L+ma*ma))L/=Jb,ma/=Jb,uc/=Jb;m*ma<H*L&&(m=-m,H=-H,uc=-uc,mb=-mb);return{translateX:Ra,translateY:cb,rotate:Math.atan2(H,m)*Ig,skewX:Math.atan(uc)*Ig,scaleX:mb,scaleY:Jb}}function Ia(m,H,L,
ma){function Ra(ad){return ad.length?ad.pop()+" ":""}function cb(ad,od,Bc,Dd,ae,Ae){ad!==Bc||od!==Dd?(ae=ae.push("translate(",null,H,null,L),Ae.push({i:ae-4,x:Fb(ad,Bc)},{i:ae-2,x:Fb(od,Dd)})):(Bc||Dd)&&ae.push("translate("+Bc+H+Dd+L)}function mb(ad,od,Bc,Dd){ad!==od?(180<ad-od?od+=360:180<od-ad&&(ad+=360),Dd.push({i:Bc.push(Ra(Bc)+"rotate(",null,ma)-2,x:Fb(ad,od)})):od&&Bc.push(Ra(Bc)+"rotate("+od+ma)}function Jb(ad,od,Bc,Dd){ad!==od?Dd.push({i:Bc.push(Ra(Bc)+"skewX(",null,ma)-2,x:Fb(ad,od)}):od&&
Bc.push(Ra(Bc)+"skewX("+od+ma)}function uc(ad,od,Bc,Dd,ae,Ae){ad!==Bc||od!==Dd?(ae=ae.push(Ra(ae)+"scale(",null,",",null,")"),Ae.push({i:ae-4,x:Fb(ad,Bc)},{i:ae-2,x:Fb(od,Dd)})):1===Bc&&1===Dd||ae.push(Ra(ae)+"scale("+Bc+","+Dd+")")}return function(ad,od){var Bc=[],Dd=[];ad=m(ad);od=m(od);cb(ad.translateX,ad.translateY,od.translateX,od.translateY,Bc,Dd);mb(ad.rotate,od.rotate,Bc,Dd);Jb(ad.skewX,od.skewX,Bc,Dd);uc(ad.scaleX,ad.scaleY,od.scaleX,od.scaleY,Bc,Dd);ad=od=null;return function(ae){for(var Ae=
-1,Td=Dd.length,Xe;++Ae<Td;)Bc[(Xe=Dd[Ae]).i]=Xe.x(ae);return Bc.join("")}}}function fb(m){return((m=Math.exp(m))+1/m)/2}function R(m){return function(H,L){var ma=m((H=Q(H)).h,(L=Q(L)).h),Ra=yc(H.s,L.s),cb=yc(H.l,L.l),mb=yc(H.opacity,L.opacity);return function(Jb){H.h=ma(Jb);H.s=Ra(Jb);H.l=cb(Jb);H.opacity=mb(Jb);return H+""}}}function r(m){return function(H,L){var ma=m((H=Pa(H)).h,(L=Pa(L)).h),Ra=yc(H.c,L.c),cb=yc(H.l,L.l),mb=yc(H.opacity,L.opacity);return function(Jb){H.h=ma(Jb);H.c=Ra(Jb);H.l=
cb(Jb);H.opacity=mb(Jb);return H+""}}}function da(m){return function ma(L){function Ra(cb,mb){var Jb=m((cb=ib(cb)).h,(mb=ib(mb)).h),uc=yc(cb.s,mb.s),ad=yc(cb.l,mb.l),od=yc(cb.opacity,mb.opacity);return function(Bc){cb.h=Jb(Bc);cb.s=uc(Bc);cb.l=ad(Math.pow(Bc,L));cb.opacity=od(Bc);return cb+""}}L=+L;Ra.gamma=ma;return Ra}(1)}function za(m,H){void 0===H&&(H=m,m=nd);for(var L=0,ma=H.length-1,Ra=H[0],cb=Array(0>ma?0:ma);L<ma;)cb[L]=m(Ra,Ra=H[++L]);return function(mb){var Jb=Math.max(0,Math.min(ma-1,Math.floor(mb*=
ma)));return cb[Jb](mb-Jb)}}function Da(m){return function(){return m}}function Oa(m){return+m}function kb(m){return m}function Ub(m,H){return(H-=m=+m)?function(L){return(L-m)/H}:Da(isNaN(H)?NaN:.5)}function Eb(m,H){if(m>H){var L=m;m=H;H=L}return function(ma){return Math.max(m,Math.min(H,ma))}}function Ib(m,H,L){var ma=m[0];m=m[1];var Ra=H[0];H=H[1];m<ma?(ma=Ub(m,ma),Ra=L(H,Ra)):(ma=Ub(ma,m),Ra=L(Ra,H));return function(cb){return Ra(ma(cb))}}function Cc(m,H,L){var ma=Math.min(m.length,H.length)-1,
Ra=Array(ma),cb=Array(ma),mb=-1;m[ma]<m[0]&&(m=m.slice().reverse(),H=H.slice().reverse());for(;++mb<ma;)Ra[mb]=Ub(m[mb],m[mb+1]),cb[mb]=L(H[mb],H[mb+1]);return function(Jb){var uc=Og(m,Jb,1,ma)-1;return cb[uc](Ra[uc](Jb))}}function Hc(m,H){return H.domain(m.domain()).range(m.range()).interpolate(m.interpolate()).clamp(m.clamp()).unknown(m.unknown())}function Nc(){function m(){var Dd=Math.min(L.length,ma.length);uc!==kb&&(uc=Eb(L[0],L[Dd-1]));ad=2<Dd?Cc:Ib;od=Bc=null;return H}function H(Dd){return null==
Dd||isNaN(Dd=+Dd)?Jb:(od||(od=ad(L.map(cb),ma,Ra)))(cb(uc(Dd)))}var L=si,ma=si,Ra=nd,cb,mb,Jb,uc=kb,ad,od,Bc;H.invert=function(Dd){return uc(mb((Bc||(Bc=ad(ma,L.map(cb),Fb)))(Dd)))};H.domain=function(Dd){return arguments.length?(L=Array.from(Dd,Oa),m()):L.slice()};H.range=function(Dd){return arguments.length?(ma=Array.from(Dd),m()):ma.slice()};H.rangeRound=function(Dd){return ma=Array.from(Dd),Ra=Vc,m()};H.clamp=function(Dd){return arguments.length?(uc=Dd?!0:kb,m()):uc!==kb};H.interpolate=function(Dd){return arguments.length?
(Ra=Dd,m()):Ra};H.unknown=function(Dd){return arguments.length?(Jb=Dd,H):Jb};return function(Dd,ae){cb=Dd;mb=ae;return m()}}function xd(m,H){if(0>(H=(m=H?m.toExponential(H-1):m.toExponential()).indexOf("e")))return null;var L=m.slice(0,H);return[1<L.length?L[0]+L.slice(2):L,+m.slice(H+1)]}function sd(m){return m=xd(Math.abs(m)),m?m[1]:NaN}function ed(m,H){return function(L,ma){for(var Ra=L.length,cb=[],mb=0,Jb=m[0],uc=0;0<Ra&&0<Jb;){uc+Jb+1>ma&&(Jb=Math.max(1,ma-uc));cb.push(L.substring(Ra-=Jb,Ra+
Jb));if((uc+=Jb+1)>ma)break;Jb=m[mb=(mb+1)%m.length]}return cb.reverse().join(H)}}function Id(m){return function(H){return H.replace(/[0-9]/g,function(L){return m[+L]})}}function Gd(m){if(!(H=B.exec(m)))throw Error("invalid format: "+m);var H;return new vd({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function vd(m){this.fill=void 0===m.fill?" ":m.fill+"";this.align=void 0===m.align?"\x3e":m.align+"";this.sign=void 0===
m.sign?"-":m.sign+"";this.symbol=void 0===m.symbol?"":m.symbol+"";this.zero=!!m.zero;this.width=void 0===m.width?void 0:+m.width;this.comma=!!m.comma;this.precision=void 0===m.precision?void 0:+m.precision;this.trim=!!m.trim;this.type=void 0===m.type?"":m.type+""}function xe(m,H){H=xd(m,H);if(!H)return m+"";m=H[0];H=H[1];return 0>H?"0."+Array(-H).join("0")+m:m.length>H+1?m.slice(0,H+1)+"."+m.slice(H+1):m+Array(H-m.length+2).join("0")}function Ed(m){return m}function x(m){function H(od){function Bc(Hd){var ce=
ze,Kd=Of,xf,Yf;if("c"===He)Kd=Dh(Hd)+Kd,Hd="";else{Hd=+Hd;var Cf=0>Hd||0>1/Hd;Hd=isNaN(Hd)?ad:Dh(Math.abs(Hd),yg);if(Ug){var Qf=Hd.length,Lg=1,sh=-1;a:for(;Lg<Qf;++Lg)switch(Hd[Lg]){case ".":sh=xf=Lg;break;case "0":0===sh&&(sh=Lg);xf=Lg;break;default:if(!+Hd[Lg])break a;0<sh&&(sh=0)}Hd=0<sh?Hd.slice(0,sh)+Hd.slice(xf+1):Hd}Cf&&0===+Hd&&"+"!==Ae&&(Cf=!1);ce=(Cf?"("===Ae?Ae:uc:"-"===Ae||"("===Ae?"":Ae)+ce;Kd=("s"===He?zb[8+Z/3]:"")+Kd+(Cf&&"("===Ae?")":"");if(Zd)for(Cf=-1,xf=Hd.length;++Cf<xf;)if(Yf=
Hd.charCodeAt(Cf),48>Yf||57<Yf){Kd=(46===Yf?cb+Hd.slice(Cf+1):Hd.slice(Cf))+Kd;Hd=Hd.slice(0,Cf);break}}Bf&&!Xe&&(Hd=L(Hd,Infinity));Yf=ce.length+Hd.length+Kd.length;Cf=Yf<Pf?Array(Pf-Yf+1).join(Dd):"";Bf&&Xe&&(Hd=L(Cf+Hd,Cf.length?Pf-Kd.length:Infinity),Cf="");switch(ae){case "\x3c":Hd=ce+Hd+Kd+Cf;break;case "\x3d":Hd=ce+Cf+Hd+Kd;break;case "^":Hd=Cf.slice(0,Yf=Cf.length>>1)+ce+Hd+Kd+Cf.slice(Yf);break;default:Hd=Cf+ce+Hd+Kd}return mb(Hd)}od=Gd(od);var Dd=od.fill,ae=od.align,Ae=od.sign,Td=od.symbol,
Xe=od.zero,Pf=od.width,Bf=od.comma,yg=od.precision,Ug=od.trim,He=od.type;"n"===He?(Bf=!0,He="g"):Aa[He]||(void 0===yg&&(yg=12),Ug=!0,He="g");if(Xe||"0"===Dd&&"\x3d"===ae)Xe=!0,Dd="0",ae="\x3d";var ze="$"===Td?ma:"#"===Td&&/[boxX]/.test(He)?"0"+He.toLowerCase():"",Of="$"===Td?Ra:/[%p]/.test(He)?Jb:"",Dh=Aa[He],Zd=/[defgprs%]/.test(He);yg=void 0===yg?6:/[gprs]/.test(He)?Math.max(1,Math.min(21,yg)):Math.max(0,Math.min(20,yg));Bc.toString=function(){return od+""};return Bc}var L=void 0===m.grouping||
void 0===m.thousands?Ed:ed(La.call(m.grouping,Number),m.thousands+""),ma=void 0===m.currency?"":m.currency[0]+"",Ra=void 0===m.currency?"":m.currency[1]+"",cb=void 0===m.decimal?".":m.decimal+"",mb=void 0===m.numerals?Ed:Id(La.call(m.numerals,String)),Jb=void 0===m.percent?"%":m.percent+"",uc=void 0===m.minus?"−":m.minus+"",ad=void 0===m.nan?"NaN":m.nan+"";return{format:H,formatPrefix:function(od,Bc){var Dd=H((od=Gd(od),od.type="f",od));od=3*Math.max(-8,Math.min(8,Math.floor(sd(Bc)/3)));var ae=Math.pow(10,
-od),Ae=zb[8+od/3];return function(Td){return Dd(ae*Td)+Ae}}}}function I(m,H,L,ma){L=gb(m,H,L);ma=Gd(null==ma?",f":ma);switch(ma.type){case "s":m=Math.max(Math.abs(m),Math.abs(H));if(H=null==ma.precision){var Ra=isNaN;L=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sd(m)/3)))-sd(Math.abs(L)));H=!Ra(Ra=L)}H&&(ma.precision=Ra);return q(ma,m);case "":case "e":case "g":case "p":case "r":var cb;if(cb=null==ma.precision)Ra=isNaN,m=Math.max(Math.abs(m),Math.abs(H)),L=Math.abs(L),m=Math.abs(m)-L,L=Math.max(0,
sd(m)-sd(L))+1,cb=!Ra(Ra=L);cb&&(ma.precision=Ra-("e"===ma.type));break;case "f":case "%":null!=ma.precision||isNaN(Ra=Math.max(0,-sd(Math.abs(L))))||(ma.precision=Ra-2*("%"===ma.type))}return bc(ma)}function xa(m){var H=m.domain;m.ticks=function(L){var ma=H();return pb(ma[0],ma[ma.length-1],null==L?10:L)};m.tickFormat=function(L,ma){var Ra=H();return I(Ra[0],Ra[Ra.length-1],null==L?10:L,ma)};m.nice=function(L){null==L&&(L=10);var ma=H(),Ra=0,cb=ma.length-1,mb=ma[Ra],Jb=ma[cb],uc=10;if(Jb<mb){var ad=
mb;mb=Jb;Jb=ad;ad=Ra;Ra=cb;cb=ad}for(;0<uc--;){ad=vb(mb,Jb,L);if(ad===od)return ma[Ra]=mb,ma[cb]=Jb,H(ma);if(0<ad)mb=Math.floor(mb/ad)*ad,Jb=Math.ceil(Jb/ad)*ad;else if(0>ad)mb=Math.ceil(mb*ad)/ad,Jb=Math.floor(Jb*ad)/ad;else break;var od=ad}return m};return m}function Ja(){var m=Nc()(kb,kb);m.copy=function(){return Hc(m,Ja())};ia.apply(m,arguments);return xa(m)}function jb(m){function H(ma){return null==ma||isNaN(ma=+ma)?L:ma}var L;H.invert=H;H.domain=H.range=function(ma){return arguments.length?
(m=Array.from(ma,Oa),H):m.slice()};H.unknown=function(ma){return arguments.length?(L=ma,H):L};H.copy=function(){return jb(m).unknown(L)};m=arguments.length?Array.from(m,Oa):[0,1];return xa(H)}function wb(m,H){m=m.slice();var L=0,ma=m.length-1,Ra=m[L],cb=m[ma];if(cb<Ra){var mb=L;L=ma;ma=mb;mb=Ra;Ra=cb;cb=mb}m[L]=H.floor(Ra);m[ma]=H.ceil(cb);return m}function ec(m){return Math.log(m)}function Qb(m){return Math.exp(m)}function qc(m){return-Math.log(-m)}function Fc(m){return-Math.exp(-m)}function zc(m){return isFinite(m)?
+("1e"+m):0>m?0:m}function bd(m){return 10===m?zc:m===Math.E?Math.exp:H=>Math.pow(m,H)}function md(m){return m===Math.E?Math.log:10===m&&Math.log10||2===m&&Math.log2||(m=Math.log(m),H=>Math.log(H)/m)}function qd(m){return(H,L)=>-m(-H,L)}function Fd(m){function H(){cb=md(Ra);mb=bd(Ra);0>ma()[0]?(cb=qd(cb),mb=qd(mb),m(qc,Fc)):m(ec,Qb);return L}const L=m(ec,Qb),ma=L.domain;let Ra=10,cb,mb;L.base=function(Jb){return arguments.length?(Ra=+Jb,H()):Ra};L.domain=function(Jb){return arguments.length?(ma(Jb),
H()):ma()};L.ticks=Jb=>{var uc=ma();let ad=uc[0];uc=uc[uc.length-1];const od=uc<ad;od&&([ad,uc]=[uc,ad]);let Bc=cb(ad),Dd=cb(uc),ae;const Ae=null==Jb?10:+Jb;let Td=[];if(!(Ra%1)&&Dd-Bc<Ae){Bc=Math.floor(Bc);Dd=Math.ceil(Dd);if(0<ad)for(;Bc<=Dd;++Bc)for(Jb=1;Jb<Ra;++Jb){if(ae=0>Bc?Jb/mb(-Bc):Jb*mb(Bc),!(ae<ad)){if(ae>uc)break;Td.push(ae)}}else for(;Bc<=Dd;++Bc)for(Jb=Ra-1;1<=Jb;--Jb)if(ae=0<Bc?Jb/mb(-Bc):Jb*mb(Bc),!(ae<ad)){if(ae>uc)break;Td.push(ae)}2*Td.length<Ae&&(Td=pb(ad,uc,Ae))}else Td=pb(Bc,
Dd,Math.min(Dd-Bc,Ae)).map(mb);return od?Td.reverse():Td};L.tickFormat=(Jb,uc)=>{null==Jb&&(Jb=10);null==uc&&(uc=10===Ra?"s":",");"function"!==typeof uc&&(Ra%1||null!=(uc=Gd(uc)).precision||(uc.trim=!0),uc=bc(uc));if(Infinity===Jb)return uc;const ad=Math.max(1,Ra*Jb/L.ticks().length);return od=>{let Bc=od/mb(Math.round(cb(od)));Bc*Ra<Ra-.5&&(Bc*=Ra);return Bc<=ad?uc(od):""}};L.nice=()=>ma(wb(ma(),{floor:Jb=>mb(Math.floor(cb(Jb))),ceil:Jb=>mb(Math.ceil(cb(Jb)))}));return L}function kd(){const m=Fd(Nc()).domain([1,
10]);m.copy=()=>Hc(m,kd()).base(m.base());ia.apply(m,arguments);return m}function Od(m){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/m))}}function he(m){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*m}}function Le(m){var H=1,L=m(Od(H),he(H));L.constant=function(ma){return arguments.length?m(Od(H=+ma),he(H)):H};return xa(L)}function Ie(){var m=Le(Nc());m.copy=function(){return Hc(m,Ie()).constant(m.constant())};return ia.apply(m,arguments)}function Fe(m){return function(H){return 0>
H?-Math.pow(-H,m):Math.pow(H,m)}}function tf(m){return 0>m?-Math.sqrt(-m):Math.sqrt(m)}function df(m){return 0>m?-m*m:m*m}function E(m){var H=m(kb,kb),L=1;H.exponent=function(ma){return arguments.length?(L=+ma,1===L?m(kb,kb):.5===L?m(tf,df):m(Fe(L),Fe(1/L))):L};return xa(H)}function ca(){var m=E(Nc());m.copy=function(){return Hc(m,ca()).exponent(m.exponent())};ia.apply(m,arguments);return m}function Ga(){function m(){var mb=0,Jb=Math.max(1,ma.length);for(Ra=Array(Jb-1);++mb<Jb;)Ra[mb-1]=fc(L,mb/Jb);
return H}function H(mb){return null==mb||isNaN(mb=+mb)?cb:ma[Og(Ra,mb)]}var L=[],ma=[],Ra=[],cb;H.invertExtent=function(mb){mb=ma.indexOf(mb);return 0>mb?[NaN,NaN]:[0<mb?Ra[mb-1]:L[0],mb<Ra.length?Ra[mb]:L[L.length-1]]};H.domain=function(mb){if(!arguments.length)return L.slice();L=[];for(let Jb of mb)null==Jb||isNaN(Jb=+Jb)||L.push(Jb);L.sort(dc);return m()};H.range=function(mb){return arguments.length?(ma=Array.from(mb),m()):ma.slice()};H.unknown=function(mb){return arguments.length?(cb=mb,H):cb};
H.quantiles=function(){return Ra.slice()};H.copy=function(){return Ga().domain(L).range(ma).unknown(cb)};return ia.apply(H,arguments)}function eb(){function m(uc){return null!=uc&&uc<=uc?mb[Og(cb,uc,0,Ra)]:Jb}function H(){var uc=-1;for(cb=Array(Ra);++uc<Ra;)cb[uc]=((uc+1)*ma-(uc-Ra)*L)/(Ra+1);return m}var L=0,ma=1,Ra=1,cb=[.5],mb=[0,1],Jb;m.domain=function(uc){return arguments.length?([L,ma]=uc,L=+L,ma=+ma,H()):[L,ma]};m.range=function(uc){return arguments.length?(Ra=(mb=Array.from(uc)).length-1,
H()):mb.slice()};m.invertExtent=function(uc){uc=mb.indexOf(uc);return 0>uc?[NaN,NaN]:1>uc?[L,cb[0]]:uc>=Ra?[cb[Ra-1],ma]:[cb[uc-1],cb[uc]]};m.unknown=function(uc){return arguments.length?(Jb=uc,m):m};m.thresholds=function(){return cb.slice()};m.copy=function(){return eb().domain([L,ma]).range(mb).unknown(Jb)};return ia.apply(xa(m),arguments)}function Gb(){function m(cb){return null!=cb&&cb<=cb?L[Og(H,cb,0,Ra)]:ma}var H=[.5],L=[0,1],ma,Ra=1;m.domain=function(cb){return arguments.length?(H=Array.from(cb),
Ra=Math.min(H.length,L.length-1),m):H.slice()};m.range=function(cb){return arguments.length?(L=Array.from(cb),Ra=Math.min(H.length,L.length-1),m):L.slice()};m.invertExtent=function(cb){cb=L.indexOf(cb);return[H[cb-1],H[cb]]};m.unknown=function(cb){return arguments.length?(ma=cb,m):ma};m.copy=function(){return Gb().domain(H).range(L).unknown(ma)};return ia.apply(m,arguments)}function rc(m,H,L,ma){function Ra(cb){return m(cb=0===arguments.length?new Date:new Date(+cb)),cb}Ra.floor=cb=>(m(cb=new Date(+cb)),
cb);Ra.ceil=cb=>(m(cb=new Date(cb-1)),H(cb,1),m(cb),cb);Ra.round=cb=>{const mb=Ra(cb),Jb=Ra.ceil(cb);return cb-mb<Jb-cb?mb:Jb};Ra.offset=(cb,mb)=>(H(cb=new Date(+cb),null==mb?1:Math.floor(mb)),cb);Ra.range=(cb,mb,Jb)=>{const uc=[];cb=Ra.ceil(cb);Jb=null==Jb?1:Math.floor(Jb);if(!(cb<mb&&0<Jb))return uc;let ad;do uc.push(ad=new Date(+cb)),H(cb,Jb),m(cb);while(ad<cb&&cb<mb);return uc};Ra.filter=cb=>rc(mb=>{if(mb>=mb)for(;m(mb),!cb(mb);)mb.setTime(mb-1)},(mb,Jb)=>{if(mb>=mb)if(0>Jb)for(;0>=++Jb;)for(;H(mb,
-1),!cb(mb););else for(;0<=--Jb;)for(;H(mb,1),!cb(mb););});L&&(Ra.count=(cb,mb)=>{J.setTime(+cb);ha.setTime(+mb);m(J);m(ha);return Math.floor(L(J,ha))},Ra.every=cb=>{cb=Math.floor(cb);return isFinite(cb)&&0<cb?1<cb?Ra.filter(ma?mb=>0===ma(mb)%cb:mb=>0===Ra.count(0,mb)%cb):Ra:null});return Ra}function Rb(m){return rc(H=>{H.setDate(H.getDate()-(H.getDay()+7-m)%7);H.setHours(0,0,0,0)},(H,L)=>{H.setDate(H.getDate()+7*L)},(H,L)=>(L-H-6E4*(L.getTimezoneOffset()-H.getTimezoneOffset()))/bb)}function Sc(m){return rc(H=>
{H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-m)%7);H.setUTCHours(0,0,0,0)},(H,L)=>{H.setUTCDate(H.getUTCDate()+7*L)},(H,L)=>(L-H)/bb)}function fd(m,H,L,ma,Ra,cb){function mb(uc,ad,od){const Bc=Math.abs(ad-uc)/od,Dd=oc(([,,Td])=>Td).right(Jb,Bc);if(Dd===Jb.length)return m.every(gb(uc/kc,ad/kc,od));if(0===Dd)return ya.every(Math.max(gb(uc,ad,od),1));const [ae,Ae]=Jb[Bc/Jb[Dd-1][2]<Jb[Dd][2]/Bc?Dd-1:Dd];return ae.every(Ae)}const Jb=[[xc,1,1E3],[xc,5,5E3],[xc,15,15E3],[xc,30,3E4],[cb,1,6E4],[cb,5,3E5],
[cb,15,9E5],[cb,30,18E5],[Ra,1,36E5],[Ra,3,108E5],[Ra,6,216E5],[Ra,12,432E5],[ma,1,864E5],[ma,2,1728E5],[L,1,bb],[H,1,Pb],[H,3,3*Pb],[m,1,kc]];return[function(uc,ad,od){const Bc=ad<uc;Bc&&([uc,ad]=[ad,uc]);uc=(od=od&&"function"===typeof od.range?od:mb(uc,ad,od))?od.range(uc,+ad+1):[];return Bc?uc.reverse():uc},mb]}function cd(m){if(0<=m.y&&100>m.y){var H=new Date(-1,m.m,m.d,m.H,m.M,m.S,m.L);H.setFullYear(m.y);return H}return new Date(m.y,m.m,m.d,m.H,m.M,m.S,m.L)}function Oc(m){if(0<=m.y&&100>m.y){var H=
new Date(Date.UTC(-1,m.m,m.d,m.H,m.M,m.S,m.L));H.setUTCFullYear(m.y);return H}return new Date(Date.UTC(m.y,m.m,m.d,m.H,m.M,m.S,m.L))}function Nd(m,H,L){return{y:m,m:H,d:L,H:0,M:0,S:0,L:0}}function Md(m){function H(Zd,Hd){return function(ce){var Kd=[],xf=-1,Yf=0,Cf=Zd.length,Qf,Lg;for(ce instanceof Date||(ce=new Date(+ce));++xf<Cf;)if(37===Zd.charCodeAt(xf)){Kd.push(Zd.slice(Yf,xf));null!=(Yf=aj[Qf=Zd.charAt(++xf)])?Qf=Zd.charAt(++xf):Yf="e"===Qf?" ":"0";if(Lg=Hd[Qf])Qf=Lg(ce,Yf);Kd.push(Qf);Yf=xf+
1}Kd.push(Zd.slice(Yf,xf));return Kd.join("")}}function L(Zd,Hd){return function(ce){var Kd=Nd(1900,void 0,1);if(ma(Kd,Zd,ce+="",0)!=ce.length)return null;if("Q"in Kd)return new Date(Kd.Q);if("s"in Kd)return new Date(1E3*Kd.s+("L"in Kd?Kd.L:0));!Hd||"Z"in Kd||(Kd.Z=0);"p"in Kd&&(Kd.H=Kd.H%12+12*Kd.p);void 0===Kd.m&&(Kd.m="q"in Kd?Kd.q:0);if("V"in Kd){if(1>Kd.V||53<Kd.V)return null;"w"in Kd||(Kd.w=1);if("Z"in Kd){ce=Oc(Nd(Kd.y,0,1));var xf=ce.getUTCDay();ce=4<xf||0===xf?vg.ceil(ce):vg(ce);ce=Ge.offset(ce,
7*(Kd.V-1));Kd.y=ce.getUTCFullYear();Kd.m=ce.getUTCMonth();Kd.d=ce.getUTCDate()+(Kd.w+6)%7}else ce=cd(Nd(Kd.y,0,1)),xf=ce.getDay(),ce=4<xf||0===xf?Te.ceil(ce):Te(ce),ce=je.offset(ce,7*(Kd.V-1)),Kd.y=ce.getFullYear(),Kd.m=ce.getMonth(),Kd.d=ce.getDate()+(Kd.w+6)%7}else if("W"in Kd||"U"in Kd)"w"in Kd||(Kd.w="u"in Kd?Kd.u%7:"W"in Kd?1:0),xf="Z"in Kd?Oc(Nd(Kd.y,0,1)).getUTCDay():cd(Nd(Kd.y,0,1)).getDay(),Kd.m=0,Kd.d="W"in Kd?(Kd.w+6)%7+7*Kd.W-(xf+5)%7:Kd.w+7*Kd.U-(xf+6)%7;return"Z"in Kd?(Kd.H+=Kd.Z/100|
0,Kd.M+=Kd.Z%100,Oc(Kd)):cd(Kd)}}function ma(Zd,Hd,ce,Kd){for(var xf=0,Yf=Hd.length,Cf=ce.length,Qf;xf<Yf;){if(Kd>=Cf)return-1;Qf=Hd.charCodeAt(xf++);if(37===Qf){if(Qf=Hd.charAt(xf++),Qf=Dh[Qf in aj?Hd.charAt(xf++):Qf],!Qf||0>(Kd=Qf(Zd,ce,Kd)))return-1}else if(Qf!=ce.charCodeAt(Kd++))return-1}return Kd}var Ra=m.dateTime,cb=m.date,mb=m.time,Jb=m.periods,uc=m.days,ad=m.shortDays,od=m.months,Bc=m.shortMonths,Dd=Xd(Jb),ae=Ca(Jb),Ae=Xd(uc),Td=Ca(uc),Xe=Xd(ad),Pf=Ca(ad),Bf=Xd(od),yg=Ca(od),Ug=Xd(Bc),He=
Ca(Bc),ze={a:function(Zd){return ad[Zd.getDay()]},A:function(Zd){return uc[Zd.getDay()]},b:function(Zd){return Bc[Zd.getMonth()]},B:function(Zd){return od[Zd.getMonth()]},c:null,d:de,e:de,f:p,g:wc,G:Zc,H:me,I:te,j:y,L:M,m:P,M:Y,p:function(Zd){return Jb[+(12<=Zd.getHours())]},q:function(Zd){return 1+~~(Zd.getMonth()/3)},Q:Kf,s:Ze,S:pa,u:va,U:Cb,V:Xb,w:cc,W:nc,x:null,X:null,y:tc,Y:Ic,Z:Yc,"%":lg},Of={a:function(Zd){return ad[Zd.getUTCDay()]},A:function(Zd){return uc[Zd.getUTCDay()]},b:function(Zd){return Bc[Zd.getUTCMonth()]},
B:function(Zd){return od[Zd.getUTCMonth()]},c:null,d:jd,e:jd,f:$c,g:td,G:Df,H:Sd,I:Rc,j:Ud,L:ue,m:Ad,M:Yd,p:function(Zd){return Jb[+(12<=Zd.getUTCHours())]},q:function(Zd){return 1+~~(Zd.getUTCMonth()/3)},Q:Kf,s:Ze,S:$d,u:ye,U:Rd,V:ve,w:Ne,W:Se,x:null,X:null,y:Sf,Y:Oe,Z:pf,"%":lg},Dh={a:function(Zd,Hd,ce){return(Hd=Xe.exec(Hd.slice(ce)))?(Zd.w=Pf.get(Hd[0].toLowerCase()),ce+Hd[0].length):-1},A:function(Zd,Hd,ce){return(Hd=Ae.exec(Hd.slice(ce)))?(Zd.w=Td.get(Hd[0].toLowerCase()),ce+Hd[0].length):-1},
b:function(Zd,Hd,ce){return(Hd=Ug.exec(Hd.slice(ce)))?(Zd.m=He.get(Hd[0].toLowerCase()),ce+Hd[0].length):-1},B:function(Zd,Hd,ce){return(Hd=Bf.exec(Hd.slice(ce)))?(Zd.m=yg.get(Hd[0].toLowerCase()),ce+Hd[0].length):-1},c:function(Zd,Hd,ce){return ma(Zd,Ra,Hd,ce)},d:oe,e:oe,f:Ke,g:Tc,G:Ec,H:Me,I:Me,j:cf,L:of,m:pd,M:Je,p:function(Zd,Hd,ce){return(Hd=Dd.exec(Hd.slice(ce)))?(Zd.p=ae.get(Hd[0].toLowerCase()),ce+Hd[0].length):-1},q:ld,Q:Ye,s:pe,S:ef,u:ac,U:id,V:sc,w:Qa,W:Mc,x:function(Zd,Hd,ce){return ma(Zd,
cb,Hd,ce)},X:function(Zd,Hd,ce){return ma(Zd,mb,Hd,ce)},y:Tc,Y:Ec,Z:Xc,"%":$e};ze.x=H(cb,ze);ze.X=H(mb,ze);ze.c=H(Ra,ze);Of.x=H(cb,Of);Of.X=H(mb,Of);Of.c=H(Ra,Of);return{format:function(Zd){var Hd=H(Zd+="",ze);Hd.toString=function(){return Zd};return Hd},parse:function(Zd){var Hd=L(Zd+="",!1);Hd.toString=function(){return Zd};return Hd},utcFormat:function(Zd){var Hd=H(Zd+="",Of);Hd.toString=function(){return Zd};return Hd},utcParse:function(Zd){var Hd=L(Zd+="",!0);Hd.toString=function(){return Zd};
return Hd}}}function Ld(m,H,L){var ma=0>m?"-":"";m=(ma?-m:m)+"";var Ra=m.length;return ma+(Ra<L?Array(L-Ra+1).join(H)+m:m)}function Bd(m){return m.replace(vj,"\\$\x26")}function Xd(m){return new RegExp("^(?:"+m.map(Bd).join("|")+")","i")}function Ca(m){return new Map(m.map((H,L)=>[H.toLowerCase(),L]))}function Qa(m,H,L){return(H=cg.exec(H.slice(L,L+1)))?(m.w=+H[0],L+H[0].length):-1}function ac(m,H,L){return(H=cg.exec(H.slice(L,L+1)))?(m.u=+H[0],L+H[0].length):-1}function id(m,H,L){return(H=cg.exec(H.slice(L,
L+2)))?(m.U=+H[0],L+H[0].length):-1}function sc(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.V=+H[0],L+H[0].length):-1}function Mc(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.W=+H[0],L+H[0].length):-1}function Ec(m,H,L){return(H=cg.exec(H.slice(L,L+4)))?(m.y=+H[0],L+H[0].length):-1}function Tc(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.y=+H[0]+(68<+H[0]?1900:2E3),L+H[0].length):-1}function Xc(m,H,L){return(H=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(L,L+6)))?(m.Z=H[1]?0:-(H[2]+(H[3]||"00")),L+H[0].length):
-1}function ld(m,H,L){return(H=cg.exec(H.slice(L,L+1)))?(m.q=3*H[0]-3,L+H[0].length):-1}function pd(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.m=H[0]-1,L+H[0].length):-1}function oe(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.d=+H[0],L+H[0].length):-1}function cf(m,H,L){return(H=cg.exec(H.slice(L,L+3)))?(m.m=0,m.d=+H[0],L+H[0].length):-1}function Me(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.H=+H[0],L+H[0].length):-1}function Je(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.M=+H[0],L+H[0].length):
-1}function ef(m,H,L){return(H=cg.exec(H.slice(L,L+2)))?(m.S=+H[0],L+H[0].length):-1}function of(m,H,L){return(H=cg.exec(H.slice(L,L+3)))?(m.L=+H[0],L+H[0].length):-1}function Ke(m,H,L){return(H=cg.exec(H.slice(L,L+6)))?(m.L=Math.floor(H[0]/1E3),L+H[0].length):-1}function $e(m,H,L){return(m=uk.exec(H.slice(L,L+1)))?L+m[0].length:-1}function Ye(m,H,L){return(H=cg.exec(H.slice(L)))?(m.Q=+H[0],L+H[0].length):-1}function pe(m,H,L){return(H=cg.exec(H.slice(L)))?(m.s=+H[0],L+H[0].length):-1}function de(m,
H){return Ld(m.getDate(),H,2)}function me(m,H){return Ld(m.getHours(),H,2)}function te(m,H){return Ld(m.getHours()%12||12,H,2)}function y(m,H){return Ld(1+je.count(qg(m),m),H,3)}function M(m,H){return Ld(m.getMilliseconds(),H,3)}function p(m,H){return M(m,H)+"000"}function P(m,H){return Ld(m.getMonth()+1,H,2)}function Y(m,H){return Ld(m.getMinutes(),H,2)}function pa(m,H){return Ld(m.getSeconds(),H,2)}function va(m){m=m.getDay();return 0===m?7:m}function Cb(m,H){return Ld(Ef.count(qg(m)-1,m),H,2)}
function Hb(m){var H=m.getDay();return 4<=H||0===H?Re(m):Re.ceil(m)}function Xb(m,H){m=Hb(m);return Ld(Re.count(qg(m),m)+(4===qg(m).getDay()),H,2)}function cc(m){return m.getDay()}function nc(m,H){return Ld(Te.count(qg(m)-1,m),H,2)}function tc(m,H){return Ld(m.getFullYear()%100,H,2)}function wc(m,H){m=Hb(m);return Ld(m.getFullYear()%100,H,2)}function Ic(m,H){return Ld(m.getFullYear()%1E4,H,4)}function Zc(m,H){var L=m.getDay();m=4<=L||0===L?Re(m):Re.ceil(m);return Ld(m.getFullYear()%1E4,H,4)}function Yc(m){m=
m.getTimezoneOffset();return(0<m?"-":(m*=-1,"+"))+Ld(m/60|0,"0",2)+Ld(m%60,"0",2)}function jd(m,H){return Ld(m.getUTCDate(),H,2)}function Sd(m,H){return Ld(m.getUTCHours(),H,2)}function Rc(m,H){return Ld(m.getUTCHours()%12||12,H,2)}function Ud(m,H){return Ld(1+Ge.count(fg(m),m),H,3)}function ue(m,H){return Ld(m.getUTCMilliseconds(),H,3)}function $c(m,H){return ue(m,H)+"000"}function Ad(m,H){return Ld(m.getUTCMonth()+1,H,2)}function Yd(m,H){return Ld(m.getUTCMinutes(),H,2)}function $d(m,H){return Ld(m.getUTCSeconds(),
H,2)}function ye(m){m=m.getUTCDay();return 0===m?7:m}function Rd(m,H){return Ld(Kh.count(fg(m)-1,m),H,2)}function Vd(m){var H=m.getUTCDay();return 4<=H||0===H?nf(m):nf.ceil(m)}function ve(m,H){m=Vd(m);return Ld(nf.count(fg(m),m)+(4===fg(m).getUTCDay()),H,2)}function Ne(m){return m.getUTCDay()}function Se(m,H){return Ld(vg.count(fg(m)-1,m),H,2)}function Sf(m,H){return Ld(m.getUTCFullYear()%100,H,2)}function td(m,H){m=Vd(m);return Ld(m.getUTCFullYear()%100,H,2)}function Oe(m,H){return Ld(m.getUTCFullYear()%
1E4,H,4)}function Df(m,H){var L=m.getUTCDay();m=4<=L||0===L?nf(m):nf.ceil(m);return Ld(m.getUTCFullYear()%1E4,H,4)}function pf(){return"+0000"}function lg(){return"%"}function Kf(m){return+m}function Ze(m){return Math.floor(+m/1E3)}function Tf(m){return new Date(m)}function qf(m){return m instanceof Date?+m:+new Date(+m)}function vf(m,H,L,ma,Ra,cb,mb,Jb,uc,ad){function od(ze){return(uc(ze)<ze?Ae:Jb(ze)<ze?Td:mb(ze)<ze?Xe:cb(ze)<ze?Pf:ma(ze)<ze?Ra(ze)<ze?Bf:yg:L(ze)<ze?Ug:He)(ze)}var Bc=Nc()(kb,kb),
Dd=Bc.invert,ae=Bc.domain,Ae=ad(".%L"),Td=ad(":%S"),Xe=ad("%I:%M"),Pf=ad("%I %p"),Bf=ad("%a %d"),yg=ad("%b %d"),Ug=ad("%B"),He=ad("%Y");Bc.invert=function(ze){return new Date(Dd(ze))};Bc.domain=function(ze){return arguments.length?ae(Array.from(ze,qf)):ae().map(Tf)};Bc.ticks=function(ze){var Of=ae();return m(Of[0],Of[Of.length-1],null==ze?10:ze)};Bc.tickFormat=function(ze,Of){return null==Of?od:ad(Of)};Bc.nice=function(ze){var Of=ae();ze&&"function"===typeof ze.range||(ze=H(Of[0],Of[Of.length-1],
null==ze?10:ze));return ze?ae(wb(Of,ze)):Bc};Bc.copy=function(){return Hc(Bc,vf(m,H,L,ma,Ra,cb,mb,Jb,uc,ad))};return Bc}function Ff(){function m(Bc){return null==Bc||isNaN(Bc=+Bc)?od:uc(0===mb?.5:(Bc=(Jb(Bc)-Ra)*mb,ad?Math.max(0,Math.min(1,Bc)):Bc))}function H(Bc){return function(Dd){var ae,Ae;return arguments.length?([ae,Ae]=Dd,uc=Bc(ae,Ae),m):[uc(0),uc(1)]}}var L=0,ma=1,Ra,cb,mb,Jb,uc=kb,ad=!1,od;m.domain=function(Bc){return arguments.length?([L,ma]=Bc,Ra=Jb(L=+L),cb=Jb(ma=+ma),mb=Ra===cb?0:1/(cb-
Ra),m):[L,ma]};m.clamp=function(Bc){return arguments.length?(ad=!!Bc,m):ad};m.interpolator=function(Bc){return arguments.length?(uc=Bc,m):uc};m.range=H(nd);m.rangeRound=H(Vc);m.unknown=function(Bc){return arguments.length?(od=Bc,m):od};return function(Bc){Jb=Bc;Ra=Bc(L);cb=Bc(ma);mb=Ra===cb?0:1/(cb-Ra);return m}}function jf(m,H){return H.domain(m.domain()).interpolator(m.interpolator()).clamp(m.clamp()).unknown(m.unknown())}function gg(){var m=xa(Ff()(kb));m.copy=function(){return jf(m,gg())};return Ba.apply(m,
arguments)}function Af(){var m=Fd(Ff()).domain([1,10]);m.copy=function(){return jf(m,Af()).base(m.base())};return Ba.apply(m,arguments)}function vh(){var m=Le(Ff());m.copy=function(){return jf(m,vh()).constant(m.constant())};return Ba.apply(m,arguments)}function Gg(){var m=E(Ff());m.copy=function(){return jf(m,Gg()).exponent(m.exponent())};return Ba.apply(m,arguments)}function Cg(){function m(Td){return isNaN(Td=+Td)?Ae:(Td=.5+((Td=+Dd(Td))-Jb)*(cb*Td<cb*Jb?ad:od),Bc(ae?Math.max(0,Math.min(1,Td)):
Td))}function H(Td){return function(Xe){var Pf,Bf,yg;return arguments.length?([Pf,Bf,yg]=Xe,Bc=za(Td,[Pf,Bf,yg]),m):[Bc(0),Bc(.5),Bc(1)]}}var L=0,ma=.5,Ra=1,cb=1,mb,Jb,uc,ad,od,Bc=kb,Dd,ae=!1,Ae;m.domain=function(Td){return arguments.length?([L,ma,Ra]=Td,mb=Dd(L=+L),Jb=Dd(ma=+ma),uc=Dd(Ra=+Ra),ad=mb===Jb?0:.5/(Jb-mb),od=Jb===uc?0:.5/(uc-Jb),cb=Jb<mb?-1:1,m):[L,ma,Ra]};m.clamp=function(Td){return arguments.length?(ae=!!Td,m):ae};m.interpolator=function(Td){return arguments.length?(Bc=Td,m):Bc};m.range=
H(nd);m.rangeRound=H(Vc);m.unknown=function(Td){return arguments.length?(Ae=Td,m):Ae};return function(Td){Dd=Td;mb=Td(L);Jb=Td(ma);uc=Td(Ra);ad=mb===Jb?0:.5/(Jb-mb);od=Jb===uc?0:.5/(uc-Jb);cb=Jb<mb?-1:1;return m}}function Dg(){var m=xa(Cg()(kb));m.copy=function(){return jf(m,Dg())};return Ba.apply(m,arguments)}function U(){var m=Fd(Cg()).domain([.1,1,10]);m.copy=function(){return jf(m,U()).base(m.base())};return Ba.apply(m,arguments)}function Ka(){var m=Le(Cg());m.copy=function(){return jf(m,Ka()).constant(m.constant())};
return Ba.apply(m,arguments)}function lb(){var m=E(Cg());m.copy=function(){return jf(m,lb()).exponent(m.exponent())};return Ba.apply(m,arguments)}function Jc(){function m(){var Bc=L().length;const Dd=Ra[1]<Ra[0],ae=Ra[1-Dd],Ae=Ya(Bc,uc,ad);let Td=Ra[Dd-0];cb=(ae-Td)/(Ae||1);Jb&&(cb=Math.floor(cb));Td+=(ae-Td-cb*(Bc-uc))*od;mb=cb*(1-uc);Jb&&(Td=Math.round(Td),mb=Math.round(mb));Bc=sa(Bc).map(Xe=>Td+cb*Xe);return ma(Dd?Bc.reverse():Bc)}const H=Sa().unknown(void 0),L=H.domain,ma=H.range;let Ra=[0,1],
cb,mb,Jb=!1,uc=0,ad=0,od=.5;delete H.unknown;H.domain=function(Bc){return arguments.length?(L(Bc),m()):L()};H.range=function(Bc){return arguments.length?(Ra=[+Bc[0],+Bc[1]],m()):Ra.slice()};H.rangeRound=function(Bc){Ra=[+Bc[0],+Bc[1]];Jb=!0;return m()};H.bandwidth=function(){return mb};H.step=function(){return cb};H.round=function(Bc){return arguments.length?(Jb=!!Bc,m()):Jb};H.padding=function(Bc){return arguments.length?(uc=ad=Math.max(0,Math.min(1,Bc)),m()):uc};H.paddingInner=function(Bc){return arguments.length?
(uc=Math.max(0,Math.min(1,Bc)),m()):uc};H.paddingOuter=function(Bc){return arguments.length?(ad=Math.max(0,Math.min(1,Bc)),m()):ad};H.align=function(Bc){return arguments.length?(od=Math.max(0,Math.min(1,Bc)),m()):od};H.invertRange=function(Bc){if(null!=Bc[0]&&null!=Bc[1]){var Dd=Ra[1]<Ra[0],ae=Dd?ma().reverse():ma(),Ae=ae.length-1,Td=+Bc[0],Xe=+Bc[1];if(Td===Td&&Xe===Xe){if(Xe<Td){var Pf=Td;Td=Xe;Xe=Pf}if(!(Xe<ae[0]||Td>Ra[1-Dd]))return Bc=Math.max(0,Ng(ae,Td)-1),Xe=Td===Xe?Bc:Ng(ae,Xe)-1,Td-ae[Bc]>
mb+1E-10&&++Bc,Dd&&(Pf=Bc,Bc=Ae-Xe,Xe=Ae-Pf),Bc>Xe?void 0:L().slice(Bc,Xe+1)}}};H.invert=function(Bc){return(Bc=H.invertRange([Bc,Bc]))?Bc[0]:Bc};H.copy=function(){return Jc().domain(L()).range(Ra).round(Jb).paddingInner(uc).paddingOuter(ad).align(od)};return m()}function Kc(m){const H=m.copy;m.padding=m.paddingOuter;delete m.paddingInner;m.copy=function(){return Kc(H())};return m}function Pd(){function m(ma){return null==ma||ma!==ma?void 0:L[(Og(H,ma)-1)%L.length]}let H=[],L=[];m.domain=function(ma){return arguments.length?
(H=wj.call(ma,h.toNumber),m):H.slice()};m.range=function(ma){return arguments.length?(L=bl.call(ma),m):L.slice()};m.tickFormat=function(ma,Ra){return I(H[0],h.peek(H),null==ma?10:ma,Ra)};m.copy=function(){return Pd().domain(m.domain()).range(m.range())};return m}function se(m){m[xi]=!0;return m}function Ve(m,H,L){const ma=function(){const Ra=H();Ra.invertRange||(Ra.invertRange=Ra.invert?ub(Ra):Ra.invertExtent?Yb(Ra):void 0);Ra.type=m;return se(Ra)};ma.metadata=h.toSet(h.array(L));return ma}function Be(m,
H,L){return 1<arguments.length?(Pi.set(m,Ve(m,H,L)),this):Uf(m)?Pi.get(m):void 0}function Uf(m){return Pi.has(m)}function lf(m,H){return(m=Pi.get(m))&&m.metadata[H]}function eh(m){return lf(m,"discrete")}function Vf(m){return lf(m,"discretizing")}function hg(m){return lf(m,"log")}function bg(m){return lf(m,"temporal")}function tg(m,H,L){return za(ug(H||"rgb",L),m)}function ug(m,H){m=Ih[Qd(m)];return null!=H&&m&&m.gamma?m.gamma(H):m}function Qd(m){return"interpolate"+m.toLowerCase().split("-").map(H=>
H[0].toUpperCase()+H.slice(1)).join("")}function qe(m){const H=m.length/6|0,L=Array(H);for(let ma=0;ma<H;)L[ma]="#"+m.slice(6*ma,6*++ma);return L}function rf(m,H){for(const L in m)De(L,H(m[L]))}function De(m,H){m=m&&m.toLowerCase();return 1<arguments.length?(yi[m]=H,this):yi[m]}function ff(m,H,L){var ma=m.range();let Ra=ma[0],cb=h.peek(ma);ma=vk;Ra>cb&&(ma=cb,cb=Ra,Ra=ma,ma=bj);Ra=Math.floor(Ra);cb=Math.ceil(cb);H=H.map(mb=>[mb,m(mb)]).filter(mb=>Ra<=mb[1]&&mb[1]<=cb).sort(ma).map(mb=>mb[0]);if(0<
L&&1<H.length){for(ma=[H[0],h.peek(H)];H.length>L&&3<=H.length;)H=H.filter((mb,Jb)=>!(Jb%2));3>H.length&&(H=ma)}return H}function We(m,H){return m.bins?ff(m,m.bins):m.ticks?m.ticks(H):m.domain()}function Wf(m,H,L,ma,Ra,cb){const mb=H.type;let Jb=Rj;if("time"===mb||"time"===Ra)Jb=m.timeFormat(ma);else if("utc"===mb||"utc"===Ra)Jb=m.utcFormat(ma);else if(hg(mb)){const uc=m.formatFloat(ma);if(cb||H.bins)Jb=uc;else{const ad=wf(H,L,!1);Jb=od=>ad(od)?uc(od):""}}else H.tickFormat?(H=H.domain(),Jb=m.formatSpan(H[0],
H[H.length-1],L,ma)):ma&&(Jb=m.format(ma));return Jb}function wf(m,H,L){const ma=We(m,H),Ra=m.base(),cb=Math.log(Ra),mb=Math.max(1,Ra*H/ma.length);m=Jb=>{Jb/=Math.pow(Ra,Math.round(Math.log(Jb)/cb));Jb*Ra<Ra-.5&&(Jb*=Ra);return Jb<=mb};return L?ma.filter(m):m}function Gf(m,H){m.bins?(m=m.bins,H=m.slice(0,-1),H.max=h.peek(m),m=H):"log"===m.type?m=wf(m,H,!0):gi[m.type]?(m=m[gi[m.type]](),m=[-Infinity].concat(m),m.max=Infinity):m=We(m,H);return m}function gf(m,H,L,ma,Ra,cb,mb){if(zg[H.type]&&"time"!==
cb&&"utc"!==cb){L=H[zg[H.type]]();cb=L.length;mb=1<cb?L[1]-L[0]:L[0];let Jb;for(Jb=1;Jb<cb;++Jb)mb=Math.min(mb,L[Jb]-L[Jb-1]);m=m.formatSpan(0,mb,30,Ra)}else m=Wf(m,H,L,Ra,cb,mb);return"symbol"===ma&&(gi[H.type]||H.bins)?hi(m):"discrete"===ma?Wh(m):Mh(m)}const Ng=oc(dc).right;oc(Tb).center;var Og=Ng;class nh extends Map{constructor(m,H=tb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:H}});if(null!=m)for(const [L,ma]of m)this.set(L,ma)}get(m){return super.get(jc(this,m))}has(m){return super.has(jc(this,
m))}set(m,H){return super.set(Ea(this,m),H)}delete(m){return super.delete(Za(this,m))}}const Xf=Math.sqrt(50),ci=Math.sqrt(10),wh=Math.sqrt(2),Pg=Symbol("implicit");var Qg=1/.7,Sh=/^#([0-9a-f]{3,8})$/,Xi=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ji=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ki=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
di=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yi=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Li=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Yg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wa(hb,Nb,{copy(m){return Object.assign(new this.constructor,this,m)},displayable(){return this.rgb().displayable()},hex:$a,formatHex:$a,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return v(this).formatHsl()},formatRgb:qb,toString:qb});Wa(ja,ea,Ha(hb,{brighter(m){m=null==m?Qg:Math.pow(Qg,m);return new ja(this.r*m,this.g*m,this.b*m,this.opacity)},darker(m){m=
null==m?.7:Math.pow(.7,m);return new ja(this.r*m,this.g*m,this.b*m,this.opacity)},rgb(){return this},clamp(){return new ja(l(this.r),l(this.g),l(this.b),qa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ma,formatHex:Ma,formatHex8:function(){return`#${D(this.r)}${D(this.g)}${D(this.b)}${D(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:oa,toString:oa}));Wa(A,Q,Ha(hb,{brighter(m){m=null==
m?Qg:Math.pow(Qg,m);return new A(this.h,this.s,this.l*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new A(this.h,this.s,this.l*m,this.opacity)},rgb(){var m=this.h%360+360*(0>this.h),H=isNaN(m)||isNaN(this.s)?0:this.s,L=this.l;H=L+(.5>L?L:1-L)*H;L=2*L-H;return new ja(w(240<=m?m-240:m+120,L,H),w(m,L,H),w(120>m?m+240:m-120,L,H),this.opacity)},clamp(){return new A(W(this.h),G(this.s),G(this.l),qa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const m=qa(this.opacity);return`${1===m?"hsl(":"hsla("}${W(this.h)}, ${100*G(this.s)}%, ${100*G(this.l)}%${1===m?")":`, ${m})`}`}}));const Mi=Math.PI/180,oh=180/Math.PI,fh=4/29,Th=6/29,wg=3*Th*Th,ig=Th*Th*Th;Wa(V,F,Ha(hb,{brighter(m){return new V(this.l+18*(null==m?1:m),this.a,this.b,this.opacity)},darker(m){return new V(this.l-18*(null==m?1:m),this.a,this.b,this.opacity)},rgb(){var m=(this.l+16)/116,H=isNaN(this.a)?m:m+this.a/500,L=isNaN(this.b)?
m:m-this.b/200;H=.96422*N(H);m=1*N(m);L=.82521*N(L);return new ja(la(3.1338561*H-1.6168667*m-.4906146*L),la(-.9787684*H+1.9161415*m+.033454*L),la(.0719453*H-.2289914*m+1.4052427*L),this.opacity)}}));Wa(Xa,Pa,Ha(hb,{brighter(m){return new Xa(this.h,this.c,this.l+18*(null==m?1:m),this.opacity)},darker(m){return new Xa(this.h,this.c,this.l-18*(null==m?1:m),this.opacity)},rgb(){return sb(this).rgb()}}));var Zi=1.78277*-.29227-.1347134789;Wa(Sb,ib,Ha(hb,{brighter(m){m=null==m?Qg:Math.pow(Qg,m);return new Sb(this.h,
this.s,this.l*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new Sb(this.h,this.s,this.l*m,this.opacity)},rgb(){var m=isNaN(this.h)?0:(this.h+120)*Mi,H=+this.l,L=isNaN(this.s)?0:this.s*H*(1-H),ma=Math.cos(m);m=Math.sin(m);return new ja(255*(H+L*(-.14861*ma+1.78277*m)),255*(H+L*(-.29227*ma+-.90649*m)),255*(H+1.97294*L*ma),this.opacity)}}));var fi=m=>()=>m,Zg=function L(H){function ma(cb,mb){var Jb=Ra((cb=ea(cb)).r,(mb=ea(mb)).r),uc=Ra(cb.g,mb.g),ad=Ra(cb.b,mb.b),od=yc(cb.opacity,mb.opacity);
return function(Bc){cb.r=Jb(Bc);cb.g=uc(Bc);cb.b=ad(Bc);cb.opacity=od(Bc);return cb+""}}var Ra=Ob(H);ma.gamma=L;return ma}(1),ri=hd(Fa),Lj=hd(Kb),yh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gh=new RegExp(yh.source,"g"),Ig=180/Math.PI,mg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},zh,Hh=Ia(function(H){H=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?mg:na(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),gh=Ia(function(H){if(null==H)return mg;
zh||(zh=document.createElementNS("http://www.w3.org/2000/svg","g"));zh.setAttribute("transform",H);if(!(H=zh.transform.baseVal.consolidate()))return mg;H=H.matrix;return na(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),Mf=function cb(L,ma,Ra){function mb(Jb,uc){var ad=Jb[0],od=Jb[1],Bc=Jb[2];Jb=uc[2];var Dd=uc[0]-ad,ae=uc[1]-od,Ae=Dd*Dd+ae*ae;if(1E-12>Ae){var Td=Math.log(Jb/Bc)/L;Jb=function(Bf){return[ad+Bf*Dd,od+Bf*ae,Bc*Math.exp(L*Bf*Td)]}}else{var Xe=Math.sqrt(Ae);uc=(Jb*Jb-Bc*Bc+Ra*Ae)/(2*Bc*ma*Xe);
Jb=(Jb*Jb-Bc*Bc-Ra*Ae)/(2*Jb*ma*Xe);var Pf=Math.log(Math.sqrt(uc*uc+1)-uc);Td=(Math.log(Math.sqrt(Jb*Jb+1)-Jb)-Pf)/L;Jb=function(Bf){Bf*=Td;var yg=fb(Pf),Ug=L*Bf+Pf;var He=((Ug=Math.exp(2*Ug))-1)/(Ug+1);var ze=Pf;Ug=((ze=Math.exp(ze))-1/ze)/2;He=Bc/(ma*Xe)*(yg*He-Ug);return[ad+He*Dd,od+He*ae,Bc*yg/fb(L*Bf+Pf)]}}Jb.duration=1E3*Td*L/Math.SQRT2;return Jb}mb.rho=function(Jb){Jb=Math.max(.001,+Jb);var uc=Jb*Jb;return cb(Jb,uc,uc*uc)};return mb}(Math.SQRT2,2,4),ng=R(Mb),hh=R(yc),If=r(Mb),ih=r(yc),ah=da(Mb),
jh=da(yc),Ih=Object.freeze({__proto__:null,interpolate:nd,interpolateArray:function(L,ma){return(Bb(ma)?ra:Ua)(L,ma)},interpolateBasis:Fa,interpolateBasisClosed:Kb,interpolateCubehelix:ah,interpolateCubehelixLong:jh,interpolateDate:xb,interpolateDiscrete:function(L){var ma=L.length;return function(Ra){return L[Math.max(0,Math.min(ma-1,Math.floor(Ra*ma)))]}},interpolateHcl:If,interpolateHclLong:ih,interpolateHsl:ng,interpolateHslLong:hh,interpolateHue:function(L,ma){var Ra=Mb(+L,+ma);return function(cb){cb=
Ra(cb);return cb-360*Math.floor(cb/360)}},interpolateLab:function(L,ma){var Ra=yc((L=F(L)).l,(ma=F(ma)).l),cb=yc(L.a,ma.a),mb=yc(L.b,ma.b),Jb=yc(L.opacity,ma.opacity);return function(uc){L.l=Ra(uc);L.a=cb(uc);L.b=mb(uc);L.opacity=Jb(uc);return L+""}},interpolateNumber:Fb,interpolateNumberArray:ra,interpolateObject:Lb,interpolateRgb:Zg,interpolateRgbBasis:ri,interpolateRgbBasisClosed:Lj,interpolateRound:Vc,interpolateString:Ac,interpolateTransformCss:Hh,interpolateTransformSvg:gh,interpolateZoom:Mf,
piecewise:za,quantize:function(L,ma){for(var Ra=Array(ma),cb=0;cb<ma;++cb)Ra[cb]=L(cb/(ma-1));return Ra}}),si=[0,1],B=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Gd.prototype=vd.prototype;vd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Z,Aa={"%":(L,ma)=>
(100*L).toFixed(ma),b:L=>Math.round(L).toString(2),c:L=>L+"",d:function(L){return 1E21<=Math.abs(L=Math.round(L))?L.toLocaleString("en").replace(/,/g,""):L.toString(10)},e:(L,ma)=>L.toExponential(ma),f:(L,ma)=>L.toFixed(ma),g:(L,ma)=>L.toPrecision(ma),o:L=>Math.round(L).toString(8),p:(L,ma)=>xe(100*L,ma),r:xe,s:function(L,ma){var Ra=xd(L,ma);if(!Ra)return L+"";var cb=Ra[0];Ra=Ra[1];Ra=Ra-(Z=3*Math.max(-8,Math.min(8,Math.floor(Ra/3))))+1;var mb=cb.length;return Ra===mb?cb:Ra>mb?cb+Array(Ra-mb+1).join("0"):
0<Ra?cb.slice(0,Ra)+"."+cb.slice(Ra):"0."+Array(1-Ra).join("0")+xd(L,Math.max(0,ma+Ra-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)},La=Array.prototype.map,zb="y z a f p n µ m  k M G T P E Z Y".split(" "),yb,bc,q;(function(L){yb=x(L);bc=yb.format;q=yb.formatPrefix;return yb})({thousands:",",grouping:[3],currency:["$",""]});const J=new Date,ha=new Date,ya=rc(()=>{},(L,ma)=>{L.setTime(+L+ma)},(L,ma)=>ma-L);ya.every=L=>{L=Math.floor(L);return isFinite(L)&&0<L?
1<L?rc(ma=>{ma.setTime(Math.floor(ma/L)*L)},(ma,Ra)=>{ma.setTime(+ma+Ra*L)},(ma,Ra)=>(Ra-ma)/L):ya:null};ya.range;const bb=6048E5,Pb=2592E6,kc=31536E6,xc=rc(L=>{L.setTime(L-L.getMilliseconds())},(L,ma)=>{L.setTime(+L+1E3*ma)},(L,ma)=>(ma-L)/1E3,L=>L.getUTCSeconds());xc.range;const gc=rc(L=>{L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds())},(L,ma)=>{L.setTime(+L+6E4*ma)},(L,ma)=>(ma-L)/6E4,L=>L.getMinutes());gc.range;const rd=rc(L=>{L.setUTCSeconds(0,0)},(L,ma)=>{L.setTime(+L+6E4*ma)},(L,ma)=>(ma-
L)/6E4,L=>L.getUTCMinutes());rd.range;const Wc=rc(L=>{L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds()-6E4*L.getMinutes())},(L,ma)=>{L.setTime(+L+36E5*ma)},(L,ma)=>(ma-L)/36E5,L=>L.getHours());Wc.range;const zd=rc(L=>{L.setUTCMinutes(0,0,0)},(L,ma)=>{L.setTime(+L+36E5*ma)},(L,ma)=>(ma-L)/36E5,L=>L.getUTCHours());zd.range;const je=rc(L=>L.setHours(0,0,0,0),(L,ma)=>L.setDate(L.getDate()+ma),(L,ma)=>(ma-L-6E4*(ma.getTimezoneOffset()-L.getTimezoneOffset()))/864E5,L=>L.getDate()-1);je.range;const Ge=
rc(L=>{L.setUTCHours(0,0,0,0)},(L,ma)=>{L.setUTCDate(L.getUTCDate()+ma)},(L,ma)=>(ma-L)/864E5,L=>L.getUTCDate()-1);Ge.range;const Pe=rc(L=>{L.setUTCHours(0,0,0,0)},(L,ma)=>{L.setUTCDate(L.getUTCDate()+ma)},(L,ma)=>(ma-L)/864E5,L=>Math.floor(L/864E5));Pe.range;const Ef=Rb(0),Te=Rb(1),Jg=Rb(2),we=Rb(3),Re=Rb(4),sf=Rb(5),Hg=Rb(6);Ef.range;Te.range;Jg.range;we.range;Re.range;sf.range;Hg.range;const Kh=Sc(0),vg=Sc(1),ph=Sc(2),qh=Sc(3),nf=Sc(4),Ue=Sc(5),Xg=Sc(6);Kh.range;vg.range;ph.range;qh.range;nf.range;
Ue.range;Xg.range;const Lh=rc(L=>{L.setDate(1);L.setHours(0,0,0,0)},(L,ma)=>{L.setMonth(L.getMonth()+ma)},(L,ma)=>ma.getMonth()-L.getMonth()+12*(ma.getFullYear()-L.getFullYear()),L=>L.getMonth());Lh.range;const $f=rc(L=>{L.setUTCDate(1);L.setUTCHours(0,0,0,0)},(L,ma)=>{L.setUTCMonth(L.getUTCMonth()+ma)},(L,ma)=>ma.getUTCMonth()-L.getUTCMonth()+12*(ma.getUTCFullYear()-L.getUTCFullYear()),L=>L.getUTCMonth());$f.range;const qg=rc(L=>{L.setMonth(0,1);L.setHours(0,0,0,0)},(L,ma)=>{L.setFullYear(L.getFullYear()+
ma)},(L,ma)=>ma.getFullYear()-L.getFullYear(),L=>L.getFullYear());qg.every=L=>isFinite(L=Math.floor(L))&&0<L?rc(ma=>{ma.setFullYear(Math.floor(ma.getFullYear()/L)*L);ma.setMonth(0,1);ma.setHours(0,0,0,0)},(ma,Ra)=>{ma.setFullYear(ma.getFullYear()+Ra*L)}):null;qg.range;const fg=rc(L=>{L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},(L,ma)=>{L.setUTCFullYear(L.getUTCFullYear()+ma)},(L,ma)=>ma.getUTCFullYear()-L.getUTCFullYear(),L=>L.getUTCFullYear());fg.every=L=>isFinite(L=Math.floor(L))&&0<L?rc(ma=>{ma.setUTCFullYear(Math.floor(ma.getUTCFullYear()/
L)*L);ma.setUTCMonth(0,1);ma.setUTCHours(0,0,0,0)},(ma,Ra)=>{ma.setUTCFullYear(ma.getUTCFullYear()+Ra*L)}):null;fg.range;const [Eg,lj]=fd(fg,$f,Kh,Pe,zd,rd),[mj,tk]=fd(qg,Lh,Ef,je,Wc,gc);var aj={"-":"",_:" ",0:"0"},cg=/^\s*\d+/,uk=/^%/,vj=/[\\^$*+?|[\]().{}]/g,kh,Oi,Pj;(function(L){kh=Md(L);Oi=kh.format;kh.parse;Pj=kh.utcFormat;kh.utcParse;return kh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var wj=Array.prototype.map;const bl=Array.prototype.slice,Pi=new Map,xi=Symbol("vega_scale");Be("identity",jb);Be("linear",Ja,"continuous");Be("log",kd,["continuous","log"]);Be("pow",ca,"continuous");Be("sqrt",function(){return ca.apply(null,arguments).exponent(.5)},"continuous");
Be("symlog",Ie,"continuous");Be("time",function(){return ia.apply(vf(mj,tk,qg,Lh,Ef,je,Wc,gc,xc,Oi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Be("utc",function(){return ia.apply(vf(Eg,lj,fg,$f,Kh,Ge,zd,rd,xc,Pj).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Be("sequential",gg,["continuous","interpolating"]);Be("sequential-linear",gg,["continuous","interpolating"]);Be("sequential-log",Af,["continuous","interpolating",
"log"]);Be("sequential-pow",Gg,["continuous","interpolating"]);Be("sequential-sqrt",function(){return Gg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Be("sequential-symlog",vh,["continuous","interpolating"]);Be("diverging-linear",Dg,["continuous","interpolating"]);Be("diverging-log",U,["continuous","interpolating","log"]);Be("diverging-pow",lb,["continuous","interpolating"]);Be("diverging-sqrt",function(){return lb.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);
Be("diverging-symlog",Ka,["continuous","interpolating"]);Be("quantile",Ga,["discretizing","quantile"]);Be("quantize",eb,"discretizing");Be("threshold",Gb,"discretizing");Be("bin-ordinal",Pd,["discrete","discretizing"]);Be("ordinal",Sa,"discrete");Be("band",Jc,"discrete");Be("point",function(){return Kc(Jc().paddingInner(1))},"discrete");const Qj=["clamp","base","constant","exponent"],yi={};rf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},qe);rf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},L=>tg(qe(L)));const Rj=L=>h.isArray(L)?L.map(ma=>String(ma)):String(L),vk=(L,ma)=>L[1]-ma[1],bj=(L,ma)=>ma[1]-L[1],gi={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},zg={quantile:"quantiles",quantize:"domain"},hi=L=>(ma,Ra,cb)=>{Ra=cb[Ra+1];cb=cb.max;cb=null!=cb?cb:Infinity;Ra=null!=Ra?Ra:cb;
ma=Number.isFinite(ma)?L(ma):null;Ra=Number.isFinite(Ra)?L(Ra):null;return ma&&Ra?ma+" – "+Ra:Ra?"\x3c "+Ra:"≥ "+ma},Wh=L=>(ma,Ra)=>Ra?L(ma):null,Mh=L=>ma=>L(ma);t.Band="band";t.BinOrdinal="bin-ordinal";t.DiscreteLegend="discrete";t.Diverging="diverging";t.GradientLegend="gradient";t.Identity="identity";t.Linear="linear";t.Log="log";t.Ordinal="ordinal";t.Point="point";t.Pow="pow";t.Quantile="quantile";t.Quantize="quantize";t.Sequential="sequential";t.Sqrt="sqrt";t.SymbolLegend="symbol";t.Symlog="symlog";
t.Threshold="threshold";t.Time="time";t.UTC="utc";t.bandSpace=Ya;t.domainCaption=function(L,ma,Ra){Ra=Ra||{};var cb=Math.max(3,Ra.maxlen||7),mb=Ra.format;const Jb=(Ra=Ra.formatType)||ma.type;h.isString(mb)&&bg(Jb)&&(mb=mb.replace(/%a/g,"%A").replace(/%b/g,"%B"));L=mb||"time"!==Jb?mb||"utc"!==Jb?gf(L,ma,5,null,mb,Ra,!0):L.utcFormat("%A, %d %B %Y, %X UTC"):L.timeFormat("%A, %d %B %Y, %X");if(Vf(ma.type))return cb=Gf(ma).slice(1).map(L),ma=cb.length,`${ma} boundar${1===ma?"y":"ies"}: ${cb.join(", ")}`;
if(eh(ma.type))return mb=ma.domain(),ma=mb.length,cb=ma>cb?mb.slice(0,cb-2).map(L).join(", ")+", ending with "+mb.slice(-1).map(L):mb.map(L).join(", "),`${ma} value${1===ma?"":"s"}: ${cb}`;cb=ma.domain();return`values from ${L(cb[0])} to ${L(h.peek(cb))}`};t.interpolate=ug;t.interpolateColors=tg;t.interpolateRange=function(L,ma){const Ra=ma[0],cb=h.peek(ma)-Ra;return function(mb){return L(Ra+mb*cb)}};t.isContinuous=function(L){return lf(L,"continuous")};t.isDiscrete=eh;t.isDiscretizing=Vf;t.isInterpolating=
function(L){return lf(L,"interpolating")};t.isLogarithmic=hg;t.isQuantile=function(L){return lf(L,"quantile")};t.isRegisteredScale=function(L){return L&&!0===L[xi]};t.isTemporal=bg;t.isValidScaleType=Uf;t.labelFormat=gf;t.labelFraction=function(L){var ma=L.domain();const Ra=ma.length-1;let cb=+ma[0];ma=+h.peek(ma);let mb=ma-cb;"threshold"===L.type&&(L=Ra?mb/Ra:.1,cb-=L,ma+=L,mb=ma-cb);return Jb=>(Jb-cb)/mb};t.labelValues=Gf;t.quantizeInterpolator=function(L,ma){const Ra=Array(ma),cb=ma+1;for(let mb=
0;mb<ma;)Ra[mb]=L(++mb/cb);return Ra};t.registerScale=se;t.scale=Be;t.scaleCopy=function(L){const ma=L.type;L=L.copy();L.type=ma;return L};t.scaleFraction=function(L,ma,Ra){var cb=Ra-ma;let mb,Jb;return cb&&Number.isFinite(cb)?(cb=(mb=L.type).indexOf("-"),mb=0>cb?mb:mb.slice(cb+1),Jb=Be(mb)().domain([ma,Ra]).range([0,1]),Qj.forEach(uc=>L[uc]?Jb[uc](L[uc]()):0),Jb):h.constant(.5)};t.scaleImplicit=Pg;t.scheme=De;t.tickCount=function(L,ma,Ra){let cb;h.isNumber(ma)&&(L.bins&&(ma=Math.max(ma,L.bins.length)),
null!=Ra&&(ma=Math.min(ma,Math.floor(h.span(L.domain())/Ra||1)+1)));h.isObject(ma)&&(cb=ma.step,ma=ma.interval);h.isString(ma)&&(ma="time"===L.type?ka.timeInterval(ma):"utc"==L.type?ka.utcInterval(ma):h.error("Only time and utc scales accept interval strings."),cb&&(ma=ma.every(cb)));return ma};t.tickFormat=Wf;t.tickValues=We;t.validTicks=ff})};
shadow$provide[34]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(32),nb(28),nb(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub){function Yb(B,Z,Aa){const La=B.gradient;let zb=B.id,yb="radial"===La?"p_":"";zb||(zb=B.id="gradient_"+cc++,"radial"===La?(B.x1=
dc(B.x1,.5),B.y1=dc(B.y1,.5),B.r1=dc(B.r1,0),B.x2=dc(B.x2,.5),B.y2=dc(B.y2,.5),B.r2=dc(B.r2,.5),yb="p_"):(B.x1=dc(B.x1,0),B.y1=dc(B.y1,0),B.x2=dc(B.x2,1),B.y2=dc(B.y2,0)));Z[zb]=B;return"url("+(Aa||"")+"#"+yb+zb+")"}function dc(B,Z){return null!=B?B:Z}function Wb(B){return function(){return B}}function oc(B){return 1<=B?Rc:-1>=B?-Rc:Math.asin(B)}function Ab(B){this._+=B[0];for(let Z=1,Aa=B.length;Z<Aa;++Z)this._+=arguments[Z]+B[Z]}function Tb(B){let Z=Math.floor(B);if(!(0<=Z))throw Error(`invalid digits: ${B}`);
if(15<Z)return Ab;const Aa=Math.pow(10,Z);return function(La){this._+=La[0];for(let zb=1,yb=La.length;zb<yb;++zb)this._+=Math.round(arguments[zb]*Aa)/Aa+La[zb]}}function jc(){return new Yd}function Ea(B){let Z=3;B.digits=function(Aa){if(!arguments.length)return Z;if(null==Aa)Z=null;else{const La=Math.floor(Aa);if(!(0<=La))throw new RangeError(`invalid digits: ${Aa}`);Z=La}return B};return()=>new Yd(Z)}function Za(B){return B.innerRadius}function tb(B){return B.outerRadius}function rb(B){return B.startAngle}
function pb(B){return B.endAngle}function vb(B){return B&&B.padAngle}function gb(B,Z,Aa,La,zb,yb,bc){var q=B-Aa,J=Z-La;bc=(bc?yb:-yb)/jd(q*q+J*J);J*=bc;q*=-bc;var ha=B+J,ya=Z+q,bb=Aa+J,Pb=La+q;Aa=(ha+bb)/2;La=(ya+Pb)/2;Z=bb-ha;B=Pb-ya;bc=Z*Z+B*B;yb=zb-yb;Pb=ha*Pb-bb*ya;var kc=(0>B?-1:1)*jd(Ic(0,yb*yb*bc-Pb*Pb));ha=(Pb*B-Z*kc)/bc;ya=(-Pb*Z-B*kc)/bc;bb=(Pb*B+Z*kc)/bc;Z=(-Pb*Z+B*kc)/bc;B=ha-Aa;bc=ya-La;Aa=bb-Aa;La=Z-La;B*B+bc*bc>Aa*Aa+La*La&&(ha=bb,ya=Z);return{cx:ha,cy:ya,x01:-J,y01:-q,x11:ha*(zb/yb-
1),y11:ya*(zb/yb-1)}}function fc(B){return"object"===typeof B&&"length"in B?B:Array.from(B)}function sa(B){this._context=B}function ia(B){return new sa(B)}function Ba(B){return B[0]}function Sa(B){return B[1]}function Wa(B,Z){function Aa(J){var ha,ya=(J=fc(J)).length,bb,Pb=!1,kc;null==zb&&(bc=yb(kc=q()));for(ha=0;ha<=ya;++ha)!(ha<ya&&La(bb=J[ha],ha,J))===Pb&&((Pb=!Pb)?bc.lineStart():bc.lineEnd()),Pb&&bc.point(+B(bb,ha,J),+Z(bb,ha,J));if(kc)return bc=null,kc+""||null}var La=Wb(!0),zb=null,yb=ia,bc=
null,q=Ea(Aa);B="function"===typeof B?B:void 0===B?Ba:Wb(B);Z="function"===typeof Z?Z:void 0===Z?Sa:Wb(Z);Aa.x=function(J){return arguments.length?(B="function"===typeof J?J:Wb(+J),Aa):B};Aa.y=function(J){return arguments.length?(Z="function"===typeof J?J:Wb(+J),Aa):Z};Aa.defined=function(J){return arguments.length?(La="function"===typeof J?J:Wb(!!J),Aa):La};Aa.curve=function(J){return arguments.length?(yb=J,null!=zb&&(bc=yb(zb)),Aa):yb};Aa.context=function(J){return arguments.length?(null==J?zb=
bc=null:bc=yb(zb=J),Aa):zb};return Aa}function Ha(B,Z,Aa){function La(bb){var Pb,kc,xc=(bb=fc(bb)).length,gc,rd=!1,Wc,zd=Array(xc),je=Array(xc);null==q&&(ha=J(Wc=ya()));for(Pb=0;Pb<=xc;++Pb){if(!(Pb<xc&&bc(gc=bb[Pb],Pb,bb))===rd)if(rd=!rd){var Ge=Pb;ha.areaStart();ha.lineStart()}else{ha.lineEnd();ha.lineStart();for(kc=Pb-1;kc>=Ge;--kc)ha.point(zd[kc],je[kc]);ha.lineEnd();ha.areaEnd()}rd&&(zd[Pb]=+B(gc,Pb,bb),je[Pb]=+Z(gc,Pb,bb),ha.point(yb?+yb(gc,Pb,bb):zd[Pb],Aa?+Aa(gc,Pb,bb):je[Pb]))}if(Wc)return ha=
null,Wc+""||null}function zb(){return Wa().defined(bc).curve(J).context(q)}var yb=null,bc=Wb(!0),q=null,J=ia,ha=null,ya=Ea(La);B="function"===typeof B?B:void 0===B?Ba:Wb(+B);Z="function"===typeof Z?Z:void 0===Z?Wb(0):Wb(+Z);Aa="function"===typeof Aa?Aa:void 0===Aa?Sa:Wb(+Aa);La.x=function(bb){return arguments.length?(B="function"===typeof bb?bb:Wb(+bb),yb=null,La):B};La.x0=function(bb){return arguments.length?(B="function"===typeof bb?bb:Wb(+bb),La):B};La.x1=function(bb){return arguments.length?(yb=
null==bb?null:"function"===typeof bb?bb:Wb(+bb),La):yb};La.y=function(bb){return arguments.length?(Z="function"===typeof bb?bb:Wb(+bb),Aa=null,La):Z};La.y0=function(bb){return arguments.length?(Z="function"===typeof bb?bb:Wb(+bb),La):Z};La.y1=function(bb){return arguments.length?(Aa=null==bb?null:"function"===typeof bb?bb:Wb(+bb),La):Aa};La.lineX0=La.lineY0=function(){return zb().x(B).y(Z)};La.lineY1=function(){return zb().x(B).y(Aa)};La.lineX1=function(){return zb().x(yb).y(Z)};La.defined=function(bb){return arguments.length?
(bc="function"===typeof bb?bb:Wb(!!bb),La):bc};La.curve=function(bb){return arguments.length?(J=bb,null!=q&&(ha=J(q)),La):J};La.context=function(bb){return arguments.length?(null==bb?q=ha=null:ha=J(q=bb),La):q};return La}function hb(){}function $a(B,Z,Aa){B._context.bezierCurveTo((2*B._x0+B._x1)/3,(2*B._y0+B._y1)/3,(B._x0+2*B._x1)/3,(B._y0+2*B._y1)/3,(B._x0+4*B._x1+Z)/6,(B._y0+4*B._y1+Aa)/6)}function qb(B){this._context=B}function Nb(B){this._context=B}function db(B){this._context=B}function T(B,
Z){this._basis=new qb(B);this._beta=Z}function ba(B,Z,Aa){B._context.bezierCurveTo(B._x1+B._k*(B._x2-B._x0),B._y1+B._k*(B._y2-B._y0),B._x2+B._k*(B._x1-Z),B._y2+B._k*(B._y1-Aa),B._x2,B._y2)}function ea(B,Z){this._context=B;this._k=(1-Z)/6}function ja(B,Z){this._context=B;this._k=(1-Z)/6}function Ma(B,Z){this._context=B;this._k=(1-Z)/6}function oa(B,Z,Aa){var La=B._x1,zb=B._y1,yb=B._x2,bc=B._y2;if(1E-12<B._l01_a){var q=2*B._l01_2a+3*B._l01_a*B._l12_a+B._l12_2a,J=3*B._l01_a*(B._l01_a+B._l12_a);La=(La*
q-B._x0*B._l12_2a+B._x2*B._l01_2a)/J;zb=(zb*q-B._y0*B._l12_2a+B._y2*B._l01_2a)/J}1E-12<B._l23_a&&(q=2*B._l23_2a+3*B._l23_a*B._l12_a+B._l12_2a,J=3*B._l23_a*(B._l23_a+B._l12_a),yb=(yb*q+B._x1*B._l23_2a-Z*B._l12_2a)/J,bc=(bc*q+B._y1*B._l23_2a-Aa*B._l12_2a)/J);B._context.bezierCurveTo(La,zb,yb,bc,B._x2,B._y2)}function qa(B,Z){this._context=B;this._alpha=Z}function l(B,Z){this._context=B;this._alpha=Z}function D(B,Z){this._context=B;this._alpha=Z}function K(B){this._context=B}function v(B,Z,Aa){var La=
B._x1-B._x0;Z-=B._x1;var zb=(B._y1-B._y0)/(La||0>Z&&-0);B=(Aa-B._y1)/(Z||0>La&&-0);return((0>zb?-1:1)+(0>B?-1:1))*Math.min(Math.abs(zb),Math.abs(B),.5*Math.abs((zb*Z+B*La)/(La+Z)))||0}function Q(B,Z){var Aa=B._x1-B._x0;return Aa?(3*(B._y1-B._y0)/Aa-Z)/2:Z}function A(B,Z,Aa){var La=B._x0,zb=B._x1,yb=B._y1,bc=(zb-La)/3;B._context.bezierCurveTo(La+bc,B._y0+bc*Z,zb-bc,yb-bc*Aa,zb,yb)}function W(B){this._context=B}function G(B){this._context=new w(B)}function w(B){this._context=B}function z(B){this._context=
B}function F(B){var Z,Aa=B.length-1,La=Array(Aa),zb=Array(Aa),yb=Array(Aa);La[0]=0;zb[0]=2;yb[0]=B[0]+2*B[1];for(Z=1;Z<Aa-1;++Z)La[Z]=1,zb[Z]=4,yb[Z]=4*B[Z]+2*B[Z+1];La[Aa-1]=2;zb[Aa-1]=7;yb[Aa-1]=8*B[Aa-1]+B[Aa];for(Z=1;Z<Aa;++Z){var bc=La[Z]/zb[Z-1];zb[Z]-=bc;yb[Z]-=bc*yb[Z-1]}La[Aa-1]=yb[Aa-1]/zb[Aa-1];for(Z=Aa-2;0<=Z;--Z)La[Z]=(yb[Z]-La[Z+1])/zb[Z];zb[Aa-1]=(B[Aa]+La[Aa-1])/2;for(Z=0;Z<Aa-1;++Z)zb[Z]=2*B[Z+1]-La[Z+1];return[La,zb]}function V(B,Z){this._context=B;this._t=Z}function ta(B,Z,Aa){B=
h.hasOwnProperty(td,B)&&td[B];var La=null;B&&(La=B.curve||B[Z||"vertical"],B.tension&&null!=Aa&&(La=La[B.tension](Aa)));return La}function N(B){const Z=[];(B.match(Df)||[]).forEach(Aa=>{let La=Aa[0];var zb=La.toLowerCase();const yb=Oe[zb];var bc=Aa.slice(1).trim();Aa=[];for(let J=0;yb&&J<bc.length;)for(let ha=0;ha<yb;++ha){var q="a"!==zb||3!==ha&&4!==ha?pf:Kf;q=bc.slice(J).match(q);if(null===q)throw Error("Invalid SVG path, incorrect parameter type");J+=q[0].length;Aa.push(+q[0]);q=bc.slice(J).match(lg);
null!==q&&(J+=q[0].length)}bc=Aa.length;if(bc<yb||bc&&0!==bc%yb)throw Error("Invalid SVG path, incorrect parameter count");Z.push([La,...Aa.slice(0,yb)]);if(bc!==yb)for("m"===zb&&(La="M"===La?"L":"l"),zb=yb;zb<bc;zb+=yb)Z.push([La,...Aa.slice(zb,zb+yb)])});return Z}function la(B,Z,Aa,La,zb,yb,bc,q,J){const ha=gg.call(arguments);if(Ff[ha])return Ff[ha];var ya=bc*Ze;const bb=Math.sin(ya);ya=Math.cos(ya);Aa=Math.abs(Aa);La=Math.abs(La);var Pb=ya*(q-B)*.5+bb*(J-Z)*.5,kc=ya*(J-Z)*.5-bb*(q-B)*.5;Pb=Pb*
Pb/(Aa*Aa)+kc*kc/(La*La);1<Pb&&(Pb=Math.sqrt(Pb),Aa*=Pb,La*=Pb);var xc=ya/Aa,gc=bb/Aa,rd=-bb/La,Wc=ya/La;Pb=xc*q+gc*J;kc=rd*q+Wc*J;xc=xc*B+gc*Z;gc=rd*B+Wc*Z;rd=1/((xc-Pb)*(xc-Pb)+(gc-kc)*(gc-kc))-.25;0>rd&&(rd=0);Wc=Math.sqrt(rd);yb==zb&&(Wc=-Wc);rd=.5*(Pb+xc)-Wc*(gc-kc);Wc=.5*(kc+gc)+Wc*(xc-Pb);Pb=Math.atan2(kc-Wc,Pb-rd);kc=Math.atan2(gc-Wc,xc-rd)-Pb;0>kc&&1===yb?kc+=qf:0<kc&&0===yb&&(kc-=qf);xc=Math.ceil(Math.abs(kc/(Tf+.001)));gc=[];for(let zd=0;zd<xc;++zd)gc[zd]=[rd,Wc,Pb+zd*kc/xc,Pb+(zd+1)*kc/
xc,Aa,La,bb,ya];return Ff[ha]=gc}function wa(B,Z,Aa,La,zb,yb){var bc=null,q=0,J=0,ha=0,ya=0,bb=0,Pb=0;null==Aa&&(Aa=0);null==La&&(La=0);null==zb&&(zb=1);null==yb&&(yb=zb);B.beginPath&&B.beginPath();for(var kc=0,xc=Z.length;kc<xc;++kc){var gc=Z[kc];if(1!==zb||1!==yb){var rd=zb;var Wc=yb;var zd=Af[0]=gc[0];if("a"===zd||"A"===zd)Af[1]=rd*gc[1],Af[2]=Wc*gc[2],Af[3]=gc[3],Af[4]=gc[4],Af[5]=gc[5],Af[6]=rd*gc[6],Af[7]=Wc*gc[7];else if("h"===zd||"H"===zd)Af[1]=rd*gc[1];else if("v"===zd||"V"===zd)Af[1]=Wc*
gc[1];else{zd=1;for(var je=gc.length;zd<je;++zd)Af[zd]=(1==zd%2?rd:Wc)*gc[zd]}gc=Af}switch(gc[0]){case "l":q+=gc[1];J+=gc[2];B.lineTo(q+Aa,J+La);break;case "L":q=gc[1];J=gc[2];B.lineTo(q+Aa,J+La);break;case "h":q+=gc[1];B.lineTo(q+Aa,J+La);break;case "H":q=gc[1];B.lineTo(q+Aa,J+La);break;case "v":J+=gc[1];B.lineTo(q+Aa,J+La);break;case "V":J=gc[1];B.lineTo(q+Aa,J+La);break;case "m":q+=gc[1];J+=gc[2];bb=q;Pb=J;B.moveTo(q+Aa,J+La);break;case "M":q=gc[1];J=gc[2];bb=q;Pb=J;B.moveTo(q+Aa,J+La);break;case "c":rd=
q+gc[5];Wc=J+gc[6];ha=q+gc[3];ya=J+gc[4];B.bezierCurveTo(q+gc[1]+Aa,J+gc[2]+La,ha+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;break;case "C":q=gc[5];J=gc[6];ha=gc[3];ya=gc[4];B.bezierCurveTo(gc[1]+Aa,gc[2]+La,ha+Aa,ya+La,q+Aa,J+La);break;case "s":rd=q+gc[3];Wc=J+gc[4];ha=2*q-ha;ya=2*J-ya;B.bezierCurveTo(ha+Aa,ya+La,q+gc[1]+Aa,J+gc[2]+La,rd+Aa,Wc+La);ha=q+gc[1];ya=J+gc[2];q=rd;J=Wc;break;case "S":rd=gc[3];Wc=gc[4];ha=2*q-ha;ya=2*J-ya;B.bezierCurveTo(ha+Aa,ya+La,gc[1]+Aa,gc[2]+La,rd+Aa,Wc+La);q=rd;J=Wc;ha=gc[1];
ya=gc[2];break;case "q":rd=q+gc[3];Wc=J+gc[4];ha=q+gc[1];ya=J+gc[2];B.quadraticCurveTo(ha+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;break;case "Q":rd=gc[3];Wc=gc[4];B.quadraticCurveTo(gc[1]+Aa,gc[2]+La,rd+Aa,Wc+La);q=rd;J=Wc;ha=gc[1];ya=gc[2];break;case "t":rd=q+gc[1];Wc=J+gc[2];null===bc[0].match(/[QqTt]/)?(ha=q,ya=J):"t"===bc[0]?(ha=2*q-Ge,ya=2*J-Pe):"q"===bc[0]&&(ha=2*q-ha,ya=2*J-ya);var Ge=ha;var Pe=ya;B.quadraticCurveTo(ha+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;ha=q+gc[1];ya=J+gc[2];break;case "T":rd=gc[1];Wc=
gc[2];ha=2*q-ha;ya=2*J-ya;B.quadraticCurveTo(ha+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;break;case "a":Na(B,q+Aa,J+La,[gc[1],gc[2],gc[3],gc[4],gc[5],gc[6]+q+Aa,gc[7]+J+La]);q+=gc[6];J+=gc[7];break;case "A":Na(B,q+Aa,J+La,[gc[1],gc[2],gc[3],gc[4],gc[5],gc[6]+Aa,gc[7]+La]);q=gc[6];J=gc[7];break;case "z":case "Z":q=bb,J=Pb,B.closePath()}bc=gc}}function Na(B,Z,Aa,La){Z=la(La[5],La[6],La[0],La[1],La[3],La[4],La[2],Z,Aa);for(Aa=0;Aa<Z.length;++Aa){a:{var zb=Z[Aa];La=gg.call(zb);if(jf[La]){La=jf[La];break a}var yb=
zb[0],bc=zb[1],q=zb[2],J=zb[3],ha=zb[4],ya=zb[5],bb=zb[6],Pb=zb[7];zb=Pb*ha;const xc=-bb*ya;ha*=bb;ya*=Pb;var kc=Math.cos(q);const gc=Math.sin(q);bb=Math.cos(J);Pb=Math.sin(J);q=.5*(J-q);J=Math.sin(.5*q);J=8/3*J*J/Math.sin(q);q=yb+kc-J*gc;kc=bc+gc+J*kc;yb+=bb;bc+=Pb;Pb=yb+J*Pb;bb=bc-J*bb;La=jf[La]=[zb*q+xc*kc,ha*q+ya*kc,zb*Pb+xc*bb,ha*Pb+ya*bb,zb*yb+xc*bc,ha*yb+ya*bc]}B.bezierCurveTo(La[0],La[1],La[2],La[3],La[4],La[5])}}function Pa(B){return h.hasOwnProperty(vh,B)?vh[B]:Xa(B)}function Xa(B){if(!h.hasOwnProperty(Gg,
B)){const Z=N(B);Gg[B]={draw:function(Aa,La){wa(Aa,Z,0,0,Math.sqrt(La)/2)}}}return Gg[B]}function sb(B){return B.x}function ib(B){return B.y}function Sb(B){return B.width}function X(B){return B.height}function Fa(B){return"function"===typeof B?B:()=>+B}function Kb(B,Z,Aa){return Math.max(Z,Math.min(B,Aa))}function pc(){function B(ya,bb,Pb){var kc;bb=null!=bb?bb:+Z.call(this,ya);Pb=null!=Pb?Pb:+Aa.call(this,ya);var xc=+La.call(this,ya),gc=+zb.call(this,ya),rd=Math.min(xc,gc)/2,Wc=Kb(+yb.call(this,
ya),0,rd),zd=Kb(+bc.call(this,ya),0,rd),je=Kb(+q.call(this,ya),0,rd);ya=Kb(+J.call(this,ya),0,rd);ha||(ha=kc=jc());0>=Wc&&0>=zd&&0>=je&&0>=ya?ha.rect(bb,Pb,xc,gc):(xc=bb+xc,gc=Pb+gc,ha.moveTo(bb+Wc,Pb),ha.lineTo(xc-zd,Pb),ha.bezierCurveTo(xc-.448084975506*zd,Pb,xc,Pb+.448084975506*zd,xc,Pb+zd),ha.lineTo(xc,gc-ya),ha.bezierCurveTo(xc,gc-.448084975506*ya,xc-.448084975506*ya,gc,xc-ya,gc),ha.lineTo(bb+je,gc),ha.bezierCurveTo(bb+.448084975506*je,gc,bb,gc-.448084975506*je,bb,gc-je),ha.lineTo(bb,Pb+Wc),
ha.bezierCurveTo(bb,Pb+.448084975506*Wc,bb+.448084975506*Wc,Pb,bb+Wc,Pb),ha.closePath());if(kc)return ha=null,kc+""||null}var Z=sb,Aa=ib,La=Sb,zb=X,yb=Fa(0),bc=yb,q=yb,J=yb,ha=null;B.x=function(ya){return arguments.length?(Z=Fa(ya),B):Z};B.y=function(ya){return arguments.length?(Aa=Fa(ya),B):Aa};B.width=function(ya){return arguments.length?(La=Fa(ya),B):La};B.height=function(ya){return arguments.length?(zb=Fa(ya),B):zb};B.cornerRadius=function(ya,bb,Pb,kc){return arguments.length?(yb=Fa(ya),bc=null!=
bb?Fa(bb):yb,J=null!=Pb?Fa(Pb):yb,q=null!=kc?Fa(kc):bc,B):yb};B.context=function(ya){return arguments.length?(ha=null==ya?null:ya,B):ha};return B}function $b(){function B(ya){var bb,Pb=ya.length,kc,xc=!1,gc;null==yb&&(yb=gc=jc());for(bb=0;bb<=Pb;++bb)if(!(bb<Pb&&zb(kc=ya[bb],bb,ya))===xc&&(xc=!xc)&&(bc=0),xc){var rd=+Z(kc,bb,ya),Wc=+Aa(kc,bb,ya);const Te=+La(kc,bb,ya)/2;if(bc){var zd=J-Wc,je=rd-q;if(zd||je){var Ge=Math.hypot(zd,je),Pe=(zd/=Ge)*ha;Ge=(je/=Ge)*ha;var Ef=Math.atan2(je,zd);yb.moveTo(q-
Pe,J-Ge);yb.lineTo(rd-zd*Te,Wc-je*Te);yb.arc(rd,Wc,Te,Ef-Math.PI,Ef);yb.lineTo(q+Pe,J+Ge);yb.arc(q,J,ha,Ef,Ef+Math.PI)}else yb.arc(rd,Wc,Te,0,qf);yb.closePath()}else bc=1;q=rd;J=Wc;ha=Te}if(gc)return yb=null,gc+""||null}var Z,Aa,La,zb,yb=null,bc,q,J,ha;B.x=function(ya){return arguments.length?(Z=ya,B):Z};B.y=function(ya){return arguments.length?(Aa=ya,B):Aa};B.size=function(ya){return arguments.length?(La=ya,B):La};B.defined=function(ya){return arguments.length?(zb=ya,B):zb};B.context=function(ya){return arguments.length?
(yb=null==ya?null:ya,B):yb};return B}function Mb(B,Z){return null!=B?B:Z}function Ob(B){return B.cornerRadius||B.cornerRadiusTopLeft||B.cornerRadiusTopRight||B.cornerRadiusBottomRight||B.cornerRadiusBottomLeft}function yc(B,Z,Aa,La){return Pd.context(B)(Z,Aa,La)}function hd(B,Z,Aa){var La=Z.clip;B=B._defs;Z=Z.clip_id||(Z.clip_id="clip"+Be++);B=B.clipping[Z]||(B.clipping[Z]={id:Z});h.isFunction(La)?B.path=La(null):Ob(Aa)?B.path=yc(null,Aa,0,0):(B.width=Aa.width||0,B.height=Aa.height||0);return"url(#"+
Z+")"}function ra(B){this.clear();B&&this.union(B)}function Bb(B){this.mark=B;this.bounds=this.bounds||new ra}function Ua(B){Bb.call(this,B);this.items=this.items||[]}function xb(B){this._pending=0;this._loader=B||Ya.loader()}function Fb(B,Z,Aa){if(Z.stroke&&0!==Z.opacity&&0!==Z.strokeOpacity){const La=null!=Z.strokeWidth?+Z.strokeWidth:1;B.expand(La+(Aa?Z.strokeJoin&&"miter"!==Z.strokeJoin?0:La:0))}return B}function Lb(B,Z){lf=B;Z?(hg=Z*Ze,bg=Qd=Math.cos(hg),tg=Math.sin(hg),ug=-tg):(bg=Qd=1,hg=tg=
ug=0);return Wf}function Zb(B,Z,Aa,La){Aa=(B-Z)/(B+Aa-2*Z);0<Aa&&1>Aa&&La(B+(Z-B)*Aa)}function ic(B,Z,Aa,La,zb){const yb=La-B+3*Z-3*Aa,bc=B+Aa-2*Z;var q=B-Z;let J=0,ha=0;1E-14<Math.abs(yb)?(q=bc*bc+q*yb,0<=q&&(q=Math.sqrt(q),J=(-bc+q)/yb,ha=(-bc-q)/yb)):J=.5*q/bc;0<J&&1>J&&zb(Ac(J,B,Z,Aa,La));0<ha&&1>ha&&zb(Ac(ha,B,Z,Aa,La))}function Ac(B,Z,Aa,La,zb){const yb=1-B,bc=yb*yb,q=B*B;return bc*yb*Z+3*bc*B*Aa+3*yb*q*La+q*B*zb}function nd(B){return function(Z,Aa){if(!wf)return!0;B(wf,Z);Gf.clear().union(Z.bounds).intersect(Aa).round();
const {x1:La,y1:zb,x2:yb,y2:bc}=Gf;for(Z=zb;Z<=bc;++Z)for(Aa=La;Aa<=yb;++Aa)if(wf.isPointInPath(Aa,Z))return!0;return!1}}function Vc(B,Z){return Z.contains(B.x||0,B.y||0)}function na(B,Z){const Aa=B.x||0,La=B.y||0;return Z.intersects(Gf.set(Aa,La,Aa+(B.width||0),La+(B.height||0)))}function Ia(B,Z){const Aa=B.x||0,La=B.y||0;return fb(Z,Aa,La,null!=B.x2?B.x2:Aa,null!=B.y2?B.y2:La)}function fb(B,Z,Aa,La,zb){const {x1:yb,y1:bc,x2:q,y2:J}=B;B=La-Z;zb-=Aa;La=0;let ha=1,ya,bb,Pb,kc;for(kc=0;4>kc;++kc){0===
kc&&(ya=-B,bb=-(yb-Z));1===kc&&(ya=B,bb=q-Z);2===kc&&(ya=-zb,bb=-(bc-Aa));3===kc&&(ya=zb,bb=J-Aa);if(1E-10>Math.abs(ya)&&0>bb)return!1;Pb=bb/ya;if(0>ya){if(Pb>ha)return!1;Pb>La&&(La=Pb)}else if(0<ya){if(Pb<La)return!1;Pb<ha&&(ha=Pb)}}return!0}function R(B,Z){B.globalCompositeOperation=Z.blend||"source-over"}function r(B,Z){return null==B?Z:B}function da(B,Z){const Aa=Z.length;for(let La=0;La<Aa;++La)B.addColorStop(Z[La].offset,Z[La].color);return B}function za(B,Z,Aa){const La=Aa.width(),zb=Aa.height();
if("radial"===Z.gradient)B=B.createRadialGradient(Aa.x1+r(Z.x1,.5)*La,Aa.y1+r(Z.y1,.5)*zb,Math.max(La,zb)*r(Z.r1,0),Aa.x1+r(Z.x2,.5)*La,Aa.y1+r(Z.y2,.5)*zb,Math.max(La,zb)*r(Z.r2,.5));else{const yb=r(Z.x1,0),bc=r(Z.y1,0),q=r(Z.x2,1),J=r(Z.y2,0);if(yb===q||bc===J||La===zb)B=B.createLinearGradient(Aa.x1+yb*La,Aa.y1+bc*zb,Aa.x1+q*La,Aa.y1+J*zb);else{Aa=ka.canvas(Math.ceil(La),Math.ceil(zb));const ha=Aa.getContext("2d");ha.scale(La,zb);ha.fillStyle=da(ha.createLinearGradient(yb,bc,q,J),Z.stops);ha.fillRect(0,
0,La,zb);return B.createPattern(Aa,"no-repeat")}}return da(B,Z.stops)}function Da(B,Z,Aa){Aa*=null==Z.fillOpacity?1:Z.fillOpacity;return 0<Aa?(B.globalAlpha=Aa,Z=(Aa=Z.fill)&&Aa.gradient?za(B,Aa,Z.bounds):Aa,B.fillStyle=Z,!0):!1}function Oa(B,Z,Aa){var La=null!=(La=Z.strokeWidth)?La:1;if(0>=La)return!1;Aa*=null==Z.strokeOpacity?1:Z.strokeOpacity;return 0<Aa?(B.globalAlpha=Aa,Aa=(Aa=Z.stroke)&&Aa.gradient?za(B,Aa,Z.bounds):Aa,B.strokeStyle=Aa,B.lineWidth=La,B.lineCap=Z.strokeCap||"butt",B.lineJoin=
Z.strokeJoin||"miter",B.miterLimit=Z.strokeMiterLimit||10,B.setLineDash&&(B.setLineDash(Z.strokeDash||gf),B.lineDashOffset=Z.strokeDashOffset||0),!0):!1}function kb(B,Z){return B.zindex-Z.zindex||B.index-Z.index}function Ub(B){if(!B.zdirty)return B.zitems;var Z=B.items,Aa=[],La;var zb=0;for(La=Z.length;zb<La;++zb){var yb=Z[zb];yb.index=zb;yb.zindex&&Aa.push(yb)}B.zdirty=!1;return B.zitems=Aa.sort(kb)}function Eb(B,Z){var Aa=B.items,La;if(Aa&&Aa.length){var zb=Ub(B);if(zb&&zb.length){B=0;for(La=Aa.length;B<
La;++B)Aa[B].zindex||Z(Aa[B]);Aa=zb}B=0;for(La=Aa.length;B<La;++B)Z(Aa[B])}}function Ib(B,Z){var Aa=B.items,La,zb;if(!Aa||!Aa.length)return null;const yb=Ub(B);yb&&yb.length&&(Aa=yb);for(zb=Aa.length;0<=--zb;)if(La=Z(Aa[zb]))return La;if(Aa===yb)for(Aa=B.items,zb=Aa.length;0<=--zb;)if(!Aa[zb].zindex&&(La=Z(Aa[zb])))return La;return null}function Cc(B){return function(Z,Aa,La){Eb(Aa,zb=>{La&&!La.intersects(zb.bounds)||Nc(B,Z,zb,zb)})}}function Hc(B){return function(Z,Aa,La){!Aa.items.length||La&&!La.intersects(Aa.bounds)||
Nc(B,Z,Aa.items[0],Aa.items)}}function Nc(B,Z,Aa,La){var zb=null==Aa.opacity?1:Aa.opacity;0===zb||B(Z,La)||(R(Z,Aa),Aa.fill&&Da(Z,Aa,zb)&&Z.fill(),Aa.stroke&&Oa(Z,Aa,zb)&&Z.stroke())}function xd(B){B=B||h.truthy;return function(Z,Aa,La,zb,yb,bc){La*=Z.pixelRatio;zb*=Z.pixelRatio;return Ib(Aa,q=>{const J=q.bounds;if((!J||J.contains(yb,bc))&&J&&B(Z,q,La,zb,yb,bc))return q})}}function sd(B,Z){return function(Aa,La,zb,yb){var bc=Array.isArray(La)?La[0]:La,q=null==Z?bc.fill:Z,J=bc.stroke&&Aa.isPointInStroke;
if(J){var ha=bc.strokeWidth;bc=bc.strokeCap;Aa.lineWidth=null!=ha?ha:1;Aa.lineCap=null!=bc?bc:"butt"}return B(Aa,La)?!1:q&&Aa.isPointInPath(zb,yb)||J&&Aa.isPointInStroke(zb,yb)}}function ed(B,Z){return"translate("+B+","+Z+")"}function Id(B,Z,Aa){function La(zb,yb){var bc=yb.x||0,q=yb.y||0,J=yb.angle||0;zb.translate(bc,q);J&&zb.rotate(J*=Ze);zb.beginPath();Z(zb,yb);J&&zb.rotate(-J);zb.translate(-bc,-q)}return{type:B,tag:"path",nested:!1,attr:function(zb,yb){var bc=ed(yb.x||0,yb.y||0)+(yb.angle?" rotate("+
(yb.angle+")"):"");zb("transform",bc);zb("d",Z(null,yb))},bound:function(zb,yb){Z(Lb(zb,yb.angle),yb);return Fb(zb,yb).translate(yb.x||0,yb.y||0)},draw:Cc(La),pick:xd(sd(La)),isect:Aa||nd(La)}}function Gd(B,Z,Aa){function La(yb,bc){yb.beginPath();Z(yb,bc)}const zb=sd(La);return{type:B,tag:"path",nested:!0,attr:function(yb,bc){bc=bc.mark.items;bc.length&&yb("d",Z(null,bc))},bound:function(yb,bc){bc=bc.items;if(0===bc.length)return yb;Z(Lb(yb),bc);return Fb(yb,bc[0])},draw:Hc(La),pick:function(yb,bc,
q,J,ha,ya){var bb=bc.items;bc=bc.bounds;if(!bb||!bb.length||bc&&!bc.contains(ha,ya))return null;q*=yb.pixelRatio;J*=yb.pixelRatio;return zb(yb,bb,q,J)?bb[0]:null},isect:Vc,tip:Aa}}function vd(B,Z){B.beginPath();Ob(Z)?yc(B,Z,0,0):B.rect(0,0,Z.width||0,Z.height||0);B.clip()}function xe(B){const Z=r(B.strokeWidth,1);return null!=B.strokeOffset?B.strokeOffset:B.stroke&&.5<Z&&1.5>Z?.5-Math.abs(Z-1):0}function Ed(B,Z,Aa,La){const zb=xe(Z);B.beginPath();yc(B,Z,(Aa||0)+zb,(La||0)+zb)}function x(B,Z){var Aa=
B.image;if(!Aa||B.url&&B.url!==Aa.url)Aa={complete:!1,width:0,height:0},Z.loadImage(B.url).then(La=>{B.image=La;B.image.url=B.url});return Aa}function I(B,Z){return null!=B.width?B.width:Z&&Z.width?!1!==B.aspect&&B.height?B.height*Z.width/Z.height:Z.width:0}function xa(B,Z){return null!=B.height?B.height:Z&&Z.height?!1!==B.aspect&&B.width?B.width*Z.height/Z.width:Z.height:0}function Ja(B,Z){return"center"===B?Z/2:"right"===B?Z:0}function jb(B,Z){return"middle"===B?Z/2:"bottom"===B?Z:0}function wb(B,
Z){var Aa=Z.path;if(null==Aa)return!0;var La=Z.x||0,zb=Z.y||0,yb=Z.scaleX||1,bc=Z.scaleY||1,q=(Z.angle||0)*Ze,J=Z.pathCache;J&&J.path===Aa||((Z.pathCache=J=N(Aa)).path=Aa);q&&B.rotate&&B.translate?(B.translate(La,zb),B.rotate(q),wa(B,J,0,0,yb,bc),B.rotate(-q),B.translate(-La,-zb)):wa(B,J,La,zb,yb,bc)}function ec(B,Z){B.beginPath();yc(B,Z)}function Qb(B,Z,Aa){if(Z.stroke&&Oa(B,Z,Aa)){Aa=Z.x||0;var La=Z.y||0;var zb=null!=Z.x2?Z.x2:Aa;Z=null!=Z.y2?Z.y2:La;B.beginPath();B.moveTo(Aa,La);B.lineTo(zb,Z);
return!0}return!1}function qc(B){Yg.width=B&&wf?zc:Fc}function Fc(B,Z){Z=kd(B,Z);B=md(B);return~~(.8*Z.length*B)}function zc(B,Z){return 0>=md(B)||!(Z=kd(B,Z))?0:bd(Z,Le(B))}function bd(B,Z){const Aa=`(${Z}) ${B}`;let La=Li.get(Aa);void 0===La&&(wf.font=Z,La=wf.measureText(B).width,Li.set(Aa,La));return La}function md(B){return null!=B.fontSize?+B.fontSize||0:11}function qd(B){return null!=B.lineHeight?B.lineHeight:md(B)+2}function Fd(B){B=B.lineBreak&&B.text&&!h.isArray(B.text)?B.text.split(B.lineBreak):
B.text;return h.isArray(B)?1<B.length?B:B[0]:B}function kd(B,Z){Z=null==Z?"":(Z+"").trim();if(0<B.limit&&Z.length){var Aa=+B.limit,La=Od(B);if(!(La(Z)<Aa)){var zb=B.ellipsis||"…",yb="rtl"===B.dir;B=0;var bc=Z.length;Aa-=La(zb);if(yb){for(;B<bc;)yb=B+bc>>>1,La(Z.slice(yb))>Aa?B=yb+1:bc=yb;Z=zb+Z.slice(B)}else{for(;B<bc;)yb=1+(B+bc>>>1),La(Z.slice(0,yb))<Aa?B=yb:bc=yb-1;Z=Z.slice(0,B)+zb}}}return Z}function Od(B){if(Yg.width===zc){const Z=Le(B);return Aa=>bd(Aa,Z)}if(Yg.width===Fc){const Z=md(B);return Aa=>
~~(.8*Aa.length*Z)}return Z=>Yg.width(B,Z)}function he(B,Z){B=B.font;return(Z&&B?String(B).replace(/"/g,"'"):B)||"sans-serif"}function Le(B,Z){return(B.fontStyle?B.fontStyle+" ":"")+(B.fontVariant?B.fontVariant+" ":"")+(B.fontWeight?B.fontWeight+" ":"")+md(B)+"px "+he(B,Z)}function Ie(B){var Z=B.baseline,Aa=md(B);return Math.round("top"===Z?.79*Aa:"middle"===Z?.3*Aa:"bottom"===Z?-.21*Aa:"line-top"===Z?.29*Aa+.5*qd(B):"line-bottom"===Z?.29*Aa-.5*qd(B):0)}function Fe(B){var Z=B.x||0,Aa=B.y||0,La=B.radius||
0;La&&(B=(B.theta||0)-Tf,Z+=La*Math.cos(B),Aa+=La*Math.sin(B));oh.x1=Z;oh.y1=Aa;return oh}function tf(B,Z,Aa){var La=Yg.height(Z),zb=Z.align,yb=Fe(Z),bc=yb.x1;yb=yb.y1;var q=Z.dx||0,J=(Z.dy||0)+Ie(Z)-Math.round(.8*La),ha=Fd(Z);h.isArray(ha)?(La+=qd(Z)*(ha.length-1),ha=ha.reduce((ya,bb)=>Math.max(ya,Yg.width(Z,bb)),0)):ha=Yg.width(Z,ha);"center"===zb?q-=ha/2:"right"===zb&&(q-=ha);B.set(q+=bc,J+=yb,q+ha,J+La);if(Z.angle&&!Aa)B.rotate(Z.angle*Ze,bc,yb);else if(2===Aa)return B.rotatedPoints(Z.angle*Ze,
bc,yb);return B}function df(B,Z,Aa){var La=wg[B.mark.marktype];Z=Z||La.bound;La.nested&&(B=B.mark);return Z(B.bounds||(B.bounds=new ra),B,Aa)}function E(B,Z,Aa){var La=wg[B.marktype],zb=La.bound,yb=B.items,bc=yb&&yb.length;if(La.nested)return bc?B=yb[0]:(ig.mark=B,B=ig),Aa=df(B,zb,Aa),Z=Z&&Z.union(Aa)||Aa;Z=Z||B.bounds&&B.bounds.clear()||new ra;if(bc)for(La=0,bc=yb.length;La<bc;++La)Z.union(df(yb[La],zb,Aa));return B.bounds=Z}function ca(B,Z){return JSON.stringify(B,Zi,Z)}function Ga(B){B="string"===
typeof B?JSON.parse(B):B;return eb(B)}function eb(B){var Z=B.marktype,Aa=B.items,La;if(Aa){var zb=0;for(La=Aa.length;zb<La;++zb){var yb=Z?"mark":"group";Aa[zb][yb]=B;Aa[zb].zindex&&(Aa[zb][yb].zdirty=!0);"group"===(Z||yb)&&eb(Aa[zb])}}Z&&E(B);return B}function Gb(B){arguments.length?this.root=Ga(B):(this.root=rc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ua(this.root)])}function rc(B,Z){Z={bounds:new ra,clip:!!B.clip,group:Z,interactive:!1===B.interactive?!1:!0,items:[],marktype:B.marktype,
name:B.name||void 0,role:B.role||void 0,zindex:B.zindex||0};null!=B.aria&&(Z.aria=B.aria);B.description&&(Z.description=B.description);return Z}function Rb(B,Z,Aa){!B&&"undefined"!==typeof document&&document.createElement&&(B=document);return B?Aa?B.createElementNS(Aa,Z):B.createElement(Z):null}function Sc(B,Z){Z=Z.toLowerCase();B=B.childNodes;for(var Aa=0,La=B.length;Aa<La;++Aa)if(B[Aa].tagName.toLowerCase()===Z)return B[Aa]}function fd(B,Z,Aa,La){Z=B.childNodes[Z];if(!Z||Z.tagName.toLowerCase()!==
Aa.toLowerCase()){var zb=Z||null;Z=Rb(B.ownerDocument,Aa,La);B.insertBefore(Z,zb)}return Z}function cd(B,Z){for(var Aa=B.childNodes,La=Aa.length;La>Z;)B.removeChild(Aa[--La]);return B}function Oc(B){return"mark-"+B.marktype+(B.role?" role-"+B.role:"")+(B.name?" "+B.name:"")}function Nd(B,Z){const Aa=Z.getBoundingClientRect();return[B.clientX-Aa.left-(Z.clientLeft||0),B.clientY-Aa.top-(Z.clientTop||0)]}function Md(B,Z){this._active=null;this._handlers={};this._loader=B||Ya.loader();this._tooltip=Z||
Ld}function Ld(B,Z,Aa,La){B.element().setAttribute("title",La||"")}function Bd(B){this._bgcolor=this._el=null;this._loader=new xb(B)}function Xd(B,Z){Md.call(this,B,Z);this._touch=this._down=null;this._first=!0;this._events={}}function Ca(B,Z){("touchstart"===Z||"touchmove"===Z||"touchend"===Z?["touchstart","touchmove","touchend"]:[Z]).forEach(Aa=>Qa(B,Aa))}function Qa(B,Z){const Aa=B.canvas();Aa&&!B._events[Z]&&(B._events[Z]=1,Aa.addEventListener(Z,B[Z]?La=>B[Z](La):La=>B.fire(Z,La)))}function ac(B,
Z,Aa){Z.forEach(La=>B.fire(La,Aa))}function id(B,Z,Aa){return function(La){const zb=this._active,yb=this.pickEvent(La);yb!==zb&&(zb&&zb.exit||ac(this,Aa,La),this._active=yb,ac(this,Z,La));ac(this,B,La)}}function sc(B){return function(Z){ac(this,B,Z);this._active=null}}function Mc(B){Bd.call(this,B);this._options={};this._redraw=!1;this._dirty=new ra;this._tempb=new ra}function Ec(B,Z){Md.call(this,B,Z);const Aa=this;Aa._hrefHandler=Zg(Aa,(La,zb)=>{zb&&zb.href&&Aa.handleHref(La,zb,zb.href)});Aa._tooltipHandler=
Zg(Aa,(La,zb)=>{Aa.handleTooltip(La,zb,"pointerout"!==La.type)})}function Tc(B,Z){var Aa=!1===Z.aria;B("aria-hidden",Aa||void 0);if(Aa||null==Z.description)for(const La in Gh)B(Gh[La],void 0);else Aa=Z.mark.marktype,B("aria-label",Z.description),B("role",Z.ariaRole||("group"===Aa?"graphics-object":"graphics-symbol")),B("aria-roledescription",Z.ariaRoleDescription||`${Aa} mark`)}function Xc(B){return!1===B.aria?{["aria-hidden"]:!0}:Lj[B.role]?null:yh[B.role]?pd(B,yh[B.role]):ld(B)}function ld(B){const Z=
B.marktype,Aa="group"===Z||"text"===Z||B.items.some(La=>null!=La.description&&!1!==La.aria);return ri(Aa?"graphics-object":"graphics-symbol",`${Z} mark container`,B.description)}function pd(B,Z){try{const Aa=B.items[0],La=Z.caption||(()=>"");return ri(Z.role||"graphics-symbol",Z.desc,Aa.description||La(Aa))}catch(Aa){return null}}function oe(B){try{return h.array(h.peek(B.items).items[0].text).join(" ")}catch(Z){return null}}function cf(B){B=B.map(Z=>Z+("fill"===Z||"stroke"===Z?" color":""));return 2>
B.length?B[0]:B.slice(0,-1).join(", ")+" and "+h.peek(B)}function Me(){let B="",Z="",Aa="";const La=[],zb=(bc,q)=>{null!=q&&(Z+=` ${bc}="${Ig(q).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return yb},yb={open(bc,...q){Z&&(B+=`${Z}>${Aa}`,Z=Aa="");La.push(bc);Z="\x3c"+bc;for(const J of q)for(const ha in J)zb(ha,J[ha]);return yb},close(){const bc=La.pop();B=Z?B+(Z+(Aa?`>${Aa}</${bc}>`:"/\x3e")):B+`</${bc}>`;Z=Aa="";return yb},attr:zb,text:bc=>
(Aa+=Ig(bc),yb),toString:()=>B};return yb}function Je(B,Z){B.open(Z.tagName);if(Z.hasAttributes()){const Aa=Z.attributes,La=Aa.length;for(let zb=0;zb<La;++zb)B.attr(Aa[zb].name,Aa[zb].value)}if(Z.hasChildNodes()){Z=Z.childNodes;for(const Aa of Z)3===Aa.nodeType?B.text(Aa.nodeValue):Je(B,Aa)}return B.close()}function ef(B){Bd.call(this,B);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function of(B,Z){for(;B&&B.dirty!==Z;B=B.mark.group)if(B.dirty=Z,B.mark&&B.mark.dirty!==Z)B.mark.dirty=
Z;else break}function Ke(B,Z,Aa,La){Z=Z.lastChild.previousSibling;let zb,yb=0;Eb(Aa,bc=>{zb=B.mark(Z,bc,zb,La);++yb});cd(Z,1+yb)}function $e(B,Z,Aa,La,zb){let yb=B._svg;if(!yb){var bc=Z.ownerDocument;yb=Rb(bc,La,Mf);B._svg=yb;B.mark&&(yb.__data__=B,yb.__values__={fill:"default"},"g"===La&&(La=Rb(bc,"path",Mf),yb.appendChild(La),La.__data__=B,La=Rb(bc,"g",Mf),yb.appendChild(La),La.__data__=B,bc=Rb(bc,"path",Mf),yb.appendChild(bc),bc.__data__=B,bc.__values__={fill:"default"}))}(yb.ownerSVGElement!==
zb||yb.parentNode&&1<yb.parentNode.childNodes.length&&yb.previousSibling!=Aa)&&Z.insertBefore(yb,Aa?Aa.nextSibling:Z.firstChild);return yb}function Ye(B,Z,Aa){if(Z!==If[B]){if(Aa){var La=hh;null!=Z?La.setAttributeNS(Aa,B,Z):La.removeAttributeNS(Aa,B)}else me(hh,B,Z);If[B]=Z}}function pe(B,Z,Aa){Aa!==If[Z]&&(null==Aa?B.style.removeProperty(Z):B.style.setProperty(Z,Aa+""),If[Z]=Aa)}function de(B,Z){for(const Aa in Z)me(B,Aa,Z[Aa])}function me(B,Z,Aa){null!=Aa?B.setAttribute(Z,Aa):B.removeAttribute(Z)}
function te(){let B;return"undefined"===typeof window?"":(B=window.location).hash?B.href.slice(0,-B.hash.length):B.href}function y(B){Bd.call(this,B);this._text=null;this._defs={gradient:{},clipping:{}}}function M(B,Z,Aa,La,zb){let yb;if(null==Z)return B;"bgrect"===La&&!1===Aa.interactive&&(B["pointer-events"]="none");if("bgfore"===La&&(!1===Aa.interactive&&(B["pointer-events"]="none"),B.display="none",null!==Z.fill))return B;"image"===La&&!1===Z.smooth&&(yb=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);
"text"===La&&(B["font-family"]=he(Z),B["font-size"]=md(Z)+"px",B["font-style"]=Z.fontStyle,B["font-variant"]=Z.fontVariant,B["font-weight"]=Z.fontWeight);for(const bc in zh)Aa=Z[bc],La=zh[bc],("transparent"!==Aa||"fill"!==La&&"stroke"!==La)&&null!=Aa&&(Aa&&Aa.gradient&&(Aa=Yb(Aa,zb.gradient,"")),B[La]=Aa);for(const bc in Hh)zb=Z[bc],null!=zb&&(yb=yb||[],yb.push(`${Hh[bc]}: ${zb};`));yb&&(B.style=yb.join(" "));return B}function p(B){Bd.call(this,B);this._svgRenderer=new ef(B);this._canvasRenderer=
new Mc(B)}function P(B,Z){Xd.call(this,B,Z)}function Y(B,Z,Aa,La){if(B.bounds&&Z.intersects(B.bounds)&&("group"===B.marktype||!1!==B.interactive&&(!Aa||Aa(B)))){const yb=B.items;var zb=B.marktype;B=yb.length;let bc=0;if("group"===zb)for(;bc<B;++bc)pa(yb[bc],Z,Aa,La);else for(Aa=wg[zb].isect;bc<B;++bc)zb=yb[bc],va(zb,Z,Aa)&&La.push(zb)}return La}function pa(B,Z,Aa,La){Aa&&Aa(B.mark)&&va(B,Z,wg.group.isect)&&La.push(B);const zb=B.items,yb=zb&&zb.length;if(yb){const bc=B.x||0;B=B.y||0;Z.translate(-bc,
-B);for(let q=0;q<yb;++q)Y(zb[q],Z,Aa,La);Z.translate(bc,B)}return La}function va(B,Z,Aa){const La=B.bounds;return Z.encloses(La)||Z.intersects(La)&&Aa(B,Z)}function Cb(B,Z,Aa){return B===Z?!0:"path"===Aa?Hb(B,Z):B instanceof Date&&Z instanceof Date?+B===+Z:h.isNumber(B)&&h.isNumber(Z)?1E-9>=Math.abs(B-Z):B&&Z&&(h.isObject(B)||h.isObject(Z))?Xb(B,Z):B==Z}function Hb(B,Z){return Cb(N(B),N(Z))}function Xb(B,Z){var Aa=Object.keys(B),La=Object.keys(Z),zb;if(Aa.length!==La.length)return!1;Aa.sort();La.sort();
for(zb=Aa.length-1;0<=zb;zb--)if(Aa[zb]!=La[zb])return!1;for(zb=Aa.length-1;0<=zb;zb--)if(La=Aa[zb],!Cb(B[La],Z[La],La))return!1;return typeof B===typeof Z}let cc=0;const nc=Math.abs,tc=Math.atan2,wc=Math.cos,Ic=Math.max,Zc=Math.min,Yc=Math.sin,jd=Math.sqrt,Sd=Math.PI,Rc=Sd/2,Ud=2*Sd,ue=Math.PI,$c=2*ue,Ad=$c-1E-6;class Yd{constructor(B){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==B?Ab:Tb(B)}moveTo(B,Z){this._append`M${this._x0=this._x1=+B},${this._y0=this._y1=+Z}`}closePath(){null!==
this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(B,Z){this._append`L${this._x1=+B},${this._y1=+Z}`}quadraticCurveTo(B,Z,Aa,La){this._append`Q${+B},${+Z},${this._x1=+Aa},${this._y1=+La}`}bezierCurveTo(B,Z,Aa,La,zb,yb){this._append`C${+B},${+Z},${+Aa},${+La},${this._x1=+zb},${this._y1=+yb}`}arcTo(B,Z,Aa,La,zb){B=+B;Z=+Z;Aa=+Aa;La=+La;zb=+zb;if(0>zb)throw Error(`negative radius: ${zb}`);var yb=this._x1,bc=this._y1;let q=Aa-B,J=La-Z,ha=yb-B,ya=bc-Z;var bb=ha*ha+ya*ya;if(null===this._x1)this._append`M${this._x1=
B},${this._y1=Z}`;else if(1E-6<bb)if(1E-6<Math.abs(ya*q-J*ha)&&zb){Aa-=yb;La-=bc;let Pb=q*q+J*J;bc=Math.sqrt(Pb);yb=Math.sqrt(bb);bb=zb*Math.tan((ue-Math.acos((Pb+bb-(Aa*Aa+La*La))/(2*bc*yb)))/2);yb=bb/yb;bb/=bc;1E-6<Math.abs(yb-1)&&this._append`L${B+yb*ha},${Z+yb*ya}`;this._append`A${zb},${zb},0,0,${+(ya*Aa>ha*La)},${this._x1=B+bb*q},${this._y1=Z+bb*J}`}else this._append`L${this._x1=B},${this._y1=Z}`}arc(B,Z,Aa,La,zb,yb){B=+B;Z=+Z;Aa=+Aa;yb=!!yb;if(0>Aa)throw Error(`negative radius: ${Aa}`);let bc=
Aa*Math.cos(La),q=Aa*Math.sin(La),J=B+bc,ha=Z+q,ya=1^yb;La=yb?La-zb:zb-La;null===this._x1?this._append`M${J},${ha}`:(1E-6<Math.abs(this._x1-J)||1E-6<Math.abs(this._y1-ha))&&this._append`L${J},${ha}`;Aa&&(0>La&&(La=La%$c+$c),La>Ad?this._append`A${Aa},${Aa},0,1,${ya},${B-bc},${Z-q}A${Aa},${Aa},0,1,${ya},${this._x1=J},${this._y1=ha}`:1E-6<La&&this._append`A${Aa},${Aa},0,${+(La>=ue)},${ya},${this._x1=B+Aa*Math.cos(zb)},${this._y1=Z+Aa*Math.sin(zb)}`)}rect(B,Z,Aa,La){this._append`M${this._x0=this._x1=
+B},${this._y0=this._y1=+Z}h${Aa=+Aa}v${+La}h${-Aa}Z`}toString(){return this._}}jc.prototype=Yd.prototype;sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(B,Z){B=+B;Z=+Z;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(B,Z):this._context.moveTo(B,Z);break;case 1:this._point=
2;default:this._context.lineTo(B,Z)}}};var $d={draw(B,Z){Z=jd(Z/Sd);B.moveTo(Z,0);B.arc(0,0,Z,0,Ud)}};qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:$a(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(B,Z){B=
+B;Z=+Z;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(B,Z):this._context.moveTo(B,Z);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$a(this,B,Z)}this._x0=this._x1;this._x1=B;this._y0=this._y1;this._y1=Z}};Nb.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(B,Z){B=+B;Z=+Z;switch(this._point){case 0:this._point=1;this._x2=B;this._y2=Z;break;case 1:this._point=2;this._x3=B;this._y3=Z;break;case 2:this._point=3;this._x4=B;this._y4=
Z;this._context.moveTo((this._x0+4*this._x1+B)/6,(this._y0+4*this._y1+Z)/6);break;default:$a(this,B,Z)}this._x0=this._x1;this._x1=B;this._y0=this._y1;this._y1=Z}};db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(B,Z){B=+B;Z=+Z;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var Aa=(this._x0+4*this._x1+B)/6,La=(this._y0+4*this._y1+Z)/6;this._line?this._context.lineTo(Aa,La):this._context.moveTo(Aa,La);break;case 3:this._point=4;default:$a(this,B,Z)}this._x0=this._x1;this._x1=B;this._y0=this._y1;this._y1=Z}};T.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var B=this._x,Z=this._y,Aa=B.length-1;if(0<Aa)for(var La=B[0],zb=Z[0],yb=B[Aa]-La,bc=Z[Aa]-zb,q=-1,J;++q<=Aa;)J=
q/Aa,this._basis.point(this._beta*B[q]+(1-this._beta)*(La+J*yb),this._beta*Z[q]+(1-this._beta)*(zb+J*bc));this._x=this._y=null;this._basis.lineEnd()},point:function(B,Z){this._x.push(+B);this._y.push(+Z)}};var ye=function Aa(Z){function La(zb){return 1===Z?new qb(zb):new T(zb,Z)}La.beta=function(zb){return Aa(+zb)};return La}(.85);ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ba(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Z,Aa){Z=+Z;Aa=+Aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Z,Aa):this._context.moveTo(Z,Aa);break;case 1:this._point=2;this._x1=Z;this._y1=Aa;break;case 2:this._point=3;default:ba(this,Z,Aa)}this._x0=this._x1;this._x1=this._x2;
this._x2=Z;this._y0=this._y1;this._y1=this._y2;this._y2=Aa}};var Rd=function La(Aa){function zb(yb){return new ea(yb,Aa)}zb.tension=function(yb){return La(+yb)};return zb}(0);ja.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,
this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Aa,La){Aa=+Aa;La=+La;switch(this._point){case 0:this._point=1;this._x3=Aa;this._y3=La;break;case 1:this._point=2;this._context.moveTo(this._x4=Aa,this._y4=La);break;case 2:this._point=3;this._x5=Aa;this._y5=La;break;default:ba(this,Aa,La)}this._x0=this._x1;this._x1=this._x2;this._x2=Aa;this._y0=this._y1;this._y1=this._y2;this._y2=La}};var Vd=function zb(La){function yb(bc){return new ja(bc,
La)}yb.tension=function(bc){return zb(+bc)};return yb}(0);Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(La,zb){La=+La;zb=+zb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,
this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ba(this,La,zb)}this._x0=this._x1;this._x1=this._x2;this._x2=La;this._y0=this._y1;this._y1=this._y2;this._y2=zb}};var ve=function yb(zb){function bc(q){return new Ma(q,zb)}bc.tension=function(q){return yb(+q)};return bc}(0);qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=
this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(zb,yb){zb=+zb;yb=+yb;if(this._point){var bc=this._x2-zb,q=this._y2-yb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(bc*bc+q*q,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(zb,
yb):this._context.moveTo(zb,yb);break;case 1:this._point=2;break;case 2:this._point=3;default:oa(this,zb,yb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=zb;this._y0=this._y1;this._y1=this._y2;this._y2=yb}};var Ne=function bc(yb){function q(J){return yb?new qa(J,yb):new ea(J,0)}q.alpha=function(J){return bc(+J)};return q}(.5);l.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=
this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(yb,bc){yb=
+yb;bc=+bc;if(this._point){var q=this._x2-yb,J=this._y2-bc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+J*J,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=yb;this._y3=bc;break;case 1:this._point=2;this._context.moveTo(this._x4=yb,this._y4=bc);break;case 2:this._point=3;this._x5=yb;this._y5=bc;break;default:oa(this,yb,bc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=yb;this._y0=this._y1;
this._y1=this._y2;this._y2=bc}};var Se=function q(bc){function J(ha){return bc?new l(ha,bc):new ja(ha,0)}J.alpha=function(ha){return q(+ha)};return J}(.5);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(bc,q){bc=+bc;q=+q;if(this._point){var J=this._x2-bc,ha=this._y2-q;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(J*J+ha*ha,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oa(this,bc,q)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=
this._x1;this._x1=this._x2;this._x2=bc;this._y0=this._y1;this._y1=this._y2;this._y2=q}};var Sf=function J(q){function ha(ya){return q?new D(ya,q):new Ma(ya,0)}ha.alpha=function(ya){return J(+ya)};return ha}(.5);K.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(q,J){q=+q;J=+J;this._point?this._context.lineTo(q,J):(this._point=1,this._context.moveTo(q,J))}};W.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A(this,this._t0,Q(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,J){var ha=NaN;q=+q;J=+J;if(q!==this._x1||J!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,J):
this._context.moveTo(q,J);break;case 1:this._point=2;break;case 2:this._point=3;A(this,Q(this,ha=v(this,q,J)),ha);break;default:A(this,this._t0,ha=v(this,q,J))}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=J;this._t0=ha}}};(G.prototype=Object.create(W.prototype)).point=function(q,J){W.prototype.point.call(this,J,q)};w.prototype={moveTo:function(q,J){this._context.moveTo(J,q)},closePath:function(){this._context.closePath()},lineTo:function(q,J){this._context.lineTo(J,q)},bezierCurveTo:function(q,
J,ha,ya,bb,Pb){this._context.bezierCurveTo(J,q,ya,ha,Pb,bb)}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var q=this._x,J=this._y,ha=q.length;if(ha)if(this._line?this._context.lineTo(q[0],J[0]):this._context.moveTo(q[0],J[0]),2===ha)this._context.lineTo(q[1],J[1]);else for(var ya=F(q),bb=F(J),Pb=0,kc=1;kc<ha;++Pb,++kc)this._context.bezierCurveTo(ya[0][Pb],bb[0][Pb],ya[1][Pb],bb[1][Pb],q[kc],J[kc]);
(this._line||0!==this._line&&1===ha)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(q,J){this._x.push(+q);this._y.push(+J)}};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,
this._line=1-this._line)},point:function(q,J){q=+q;J=+J;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,J):this._context.moveTo(q,J);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,J),this._context.lineTo(q,J);else{var ha=this._x*(1-this._t)+q*this._t;this._context.lineTo(ha,this._y);this._context.lineTo(ha,J)}}this._x=q;this._y=J}};const td={basis:{curve:function(q){return new qb(q)}},"basis-closed":{curve:function(q){return new Nb(q)}},"basis-open":{curve:function(q){return new db(q)}},
bundle:{curve:ye,tension:"beta",value:.85},cardinal:{curve:Rd,tension:"tension",value:0},"cardinal-open":{curve:ve,tension:"tension",value:0},"cardinal-closed":{curve:Vd,tension:"tension",value:0},"catmull-rom":{curve:Ne,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Se,tension:"alpha",value:.5},"catmull-rom-open":{curve:Sf,tension:"alpha",value:.5},linear:{curve:ia},"linear-closed":{curve:function(q){return new K(q)}},monotone:{horizontal:function(q){return new G(q)},vertical:function(q){return new W(q)}},
natural:{curve:function(q){return new z(q)}},step:{curve:function(q){return new V(q,.5)}},"step-after":{curve:function(q){return new V(q,1)}},"step-before":{curve:function(q){return new V(q,0)}}},Oe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Df=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,pf=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,lg=/^((\s+,?\s*)|(,\s*))/,Kf=/^[01]/,Ze=Math.PI/180,Tf=Math.PI/2,qf=2*Math.PI,vf=Math.sqrt(3)/2;var Ff={},jf={},gg=[].join;const Af=["l",0,0,0,0,0,0,0],vh=
{circle:{draw:function(q,J){J=Math.sqrt(J)/2;q.moveTo(J,0);q.arc(0,0,J,0,qf)}},cross:{draw:function(q,J){J=Math.sqrt(J)/2;var ha=J/2.5;q.moveTo(-J,-ha);q.lineTo(-J,ha);q.lineTo(-ha,ha);q.lineTo(-ha,J);q.lineTo(ha,J);q.lineTo(ha,ha);q.lineTo(J,ha);q.lineTo(J,-ha);q.lineTo(ha,-ha);q.lineTo(ha,-J);q.lineTo(-ha,-J);q.lineTo(-ha,-ha);q.closePath()}},diamond:{draw:function(q,J){J=Math.sqrt(J)/2;q.moveTo(-J,0);q.lineTo(0,-J);q.lineTo(J,0);q.lineTo(0,J);q.closePath()}},square:{draw:function(q,J){J=Math.sqrt(J);
var ha=-J/2;q.rect(ha,ha,J,J)}},arrow:{draw:function(q,J){J=Math.sqrt(J)/2;var ha=J/7,ya=J/2.5,bb=J/8;q.moveTo(-ha,J);q.lineTo(ha,J);q.lineTo(ha,-bb);q.lineTo(ya,-bb);q.lineTo(0,-J);q.lineTo(-ya,-bb);q.lineTo(-ha,-bb);q.closePath()}},wedge:{draw:function(q,J){var ha=Math.sqrt(J)/2;J=vf*ha;var ya=J-.5773502691896257*ha;ha/=4;q.moveTo(0,-J-ya);q.lineTo(-ha,J-ya);q.lineTo(ha,J-ya);q.closePath()}},triangle:{draw:function(q,J){J=Math.sqrt(J)/2;var ha=vf*J,ya=ha-.5773502691896257*J;q.moveTo(0,-ha-ya);q.lineTo(-J,
ha-ya);q.lineTo(J,ha-ya);q.closePath()}},"triangle-up":{draw:function(q,J){J=Math.sqrt(J)/2;var ha=vf*J;q.moveTo(0,-ha);q.lineTo(-J,ha);q.lineTo(J,ha);q.closePath()}},"triangle-down":{draw:function(q,J){J=Math.sqrt(J)/2;var ha=vf*J;q.moveTo(0,ha);q.lineTo(-J,-ha);q.lineTo(J,-ha);q.closePath()}},"triangle-right":{draw:function(q,J){J=Math.sqrt(J)/2;var ha=vf*J;q.moveTo(ha,0);q.lineTo(-ha,-J);q.lineTo(-ha,J);q.closePath()}},"triangle-left":{draw:function(q,J){J=Math.sqrt(J)/2;var ha=vf*J;q.moveTo(-ha,
0);q.lineTo(ha,-J);q.lineTo(ha,J);q.closePath()}},stroke:{draw:function(q,J){J=Math.sqrt(J)/2;q.moveTo(-J,0);q.lineTo(J,0)}}};var Gg={};const Cg=q=>q.x||0,Dg=q=>q.y||0,U=q=>!1!==q.defined,Ka=function(){function q(){var Wc,zd=+J.apply(this,arguments),je=+ha.apply(this,arguments),Ge=Pb.apply(this,arguments)-Rc,Pe=kc.apply(this,arguments)-Rc,Ef=nc(Pe-Ge),Te=Pe>Ge;gc||(gc=Wc=rd());if(je<zd){var Jg=je;je=zd;zd=Jg}if(1E-12<je)if(Ef>Ud-1E-12)gc.moveTo(je*wc(Ge),je*Yc(Ge)),gc.arc(0,0,je,Ge,Pe,!Te),1E-12<
zd&&(gc.moveTo(zd*wc(Pe),zd*Yc(Pe)),gc.arc(0,0,zd,Pe,Ge,Te));else{var we=Ge,Re=Pe;Jg=Ge;var sf=Pe,Hg=Ef,Kh=Ef,vg=xc.apply(this,arguments)/2,ph=1E-12<vg&&(bb?+bb.apply(this,arguments):jd(zd*zd+je*je)),qh=Zc(nc(je-zd)/2,+ya.apply(this,arguments)),nf=qh,Ue=qh;if(1E-12<ph){var Xg=oc(ph/zd*Yc(vg));vg=oc(ph/je*Yc(vg));1E-12<(Hg-=2*Xg)?(Xg*=Te?1:-1,Jg+=Xg,sf-=Xg):(Hg=0,Jg=sf=(Ge+Pe)/2);1E-12<(Kh-=2*vg)?(vg*=Te?1:-1,we+=vg,Re-=vg):(Kh=0,we=Re=(Ge+Pe)/2)}Ge=je*wc(we);Pe=je*Yc(we);Xg=zd*wc(sf);vg=zd*Yc(sf);
if(1E-12<qh){var Lh=je*wc(Re),$f=je*Yc(Re),qg=zd*wc(Jg),fg=zd*Yc(Jg);if(Ef<Sd){nf=qg-Ge;Ue=fg-Pe;Ef=Xg-Lh;ph=vg-$f;var Eg=ph*nf-Ef*Ue;1E-12>Eg*Eg?nf=void 0:(Eg=(Ef*(Pe-$f)-ph*(Ge-Lh))/Eg,nf=[Ge+Eg*nf,Pe+Eg*Ue]);nf?(Ue=Ge-nf[0],Ef=Pe-nf[1],ph=Lh-nf[0],Eg=$f-nf[1],Ue=(Ue*ph+Ef*Eg)/(jd(Ue*Ue+Ef*Ef)*jd(ph*ph+Eg*Eg)),Ue=1/Yc((1<Ue?0:-1>Ue?Sd:Math.acos(Ue))/2),Ef=jd(nf[0]*nf[0]+nf[1]*nf[1]),nf=Zc(qh,(zd-Ef)/(Ue-1)),Ue=Zc(qh,(je-Ef)/(Ue+1))):nf=Ue=0}}1E-12<Kh?1E-12<Ue?(we=gb(qg,fg,Ge,Pe,je,Ue,Te),Re=gb(Lh,
$f,Xg,vg,je,Ue,Te),gc.moveTo(we.cx+we.x01,we.cy+we.y01),Ue<qh?gc.arc(we.cx,we.cy,Ue,tc(we.y01,we.x01),tc(Re.y01,Re.x01),!Te):(gc.arc(we.cx,we.cy,Ue,tc(we.y01,we.x01),tc(we.y11,we.x11),!Te),gc.arc(0,0,je,tc(we.cy+we.y11,we.cx+we.x11),tc(Re.cy+Re.y11,Re.cx+Re.x11),!Te),gc.arc(Re.cx,Re.cy,Ue,tc(Re.y11,Re.x11),tc(Re.y01,Re.x01),!Te))):(gc.moveTo(Ge,Pe),gc.arc(0,0,je,we,Re,!Te)):gc.moveTo(Ge,Pe);1E-12<zd&&1E-12<Hg?1E-12<nf?(we=gb(Xg,vg,Lh,$f,zd,-nf,Te),Re=gb(Ge,Pe,qg,fg,zd,-nf,Te),gc.lineTo(we.cx+we.x01,
we.cy+we.y01),nf<qh?gc.arc(we.cx,we.cy,nf,tc(we.y01,we.x01),tc(Re.y01,Re.x01),!Te):(gc.arc(we.cx,we.cy,nf,tc(we.y01,we.x01),tc(we.y11,we.x11),!Te),gc.arc(0,0,zd,tc(we.cy+we.y11,we.cx+we.x11),tc(Re.cy+Re.y11,Re.cx+Re.x11),Te),gc.arc(Re.cx,Re.cy,nf,tc(Re.y11,Re.x11),tc(Re.y01,Re.x01),!Te))):gc.arc(0,0,zd,sf,Jg,Te):gc.lineTo(Xg,vg)}else gc.moveTo(0,0);gc.closePath();if(Wc)return gc=null,Wc+""||null}var J=Za,ha=tb,ya=Wb(0),bb=null,Pb=rb,kc=pb,xc=vb,gc=null,rd=Ea(q);q.centroid=function(){var Wc=(+J.apply(this,
arguments)+ +ha.apply(this,arguments))/2,zd=(+Pb.apply(this,arguments)+ +kc.apply(this,arguments))/2-Sd/2;return[wc(zd)*Wc,Yc(zd)*Wc]};q.innerRadius=function(Wc){return arguments.length?(J="function"===typeof Wc?Wc:Wb(+Wc),q):J};q.outerRadius=function(Wc){return arguments.length?(ha="function"===typeof Wc?Wc:Wb(+Wc),q):ha};q.cornerRadius=function(Wc){return arguments.length?(ya="function"===typeof Wc?Wc:Wb(+Wc),q):ya};q.padRadius=function(Wc){return arguments.length?(bb=null==Wc?null:"function"===
typeof Wc?Wc:Wb(+Wc),q):bb};q.startAngle=function(Wc){return arguments.length?(Pb="function"===typeof Wc?Wc:Wb(+Wc),q):Pb};q.endAngle=function(Wc){return arguments.length?(kc="function"===typeof Wc?Wc:Wb(+Wc),q):kc};q.padAngle=function(Wc){return arguments.length?(xc="function"===typeof Wc?Wc:Wb(+Wc),q):xc};q.context=function(Wc){return arguments.length?(gc=null==Wc?null:Wc,q):gc};return q}().startAngle(q=>q.startAngle||0).endAngle(q=>q.endAngle||0).padAngle(q=>q.padAngle||0).innerRadius(q=>q.innerRadius||
0).outerRadius(q=>q.outerRadius||0).cornerRadius(q=>q.cornerRadius||0),lb=Ha().x(Cg).y1(Dg).y0(q=>(q.y||0)+(q.height||0)).defined(U),Jc=Ha().y(Dg).x1(Cg).x0(q=>(q.x||0)+(q.width||0)).defined(U),Kc=Wa().x(Cg).y(Dg).defined(U),Pd=pc().x(Cg).y(Dg).width(q=>q.width||0).height(q=>q.height||0).cornerRadius(q=>Mb(q.cornerRadiusTopLeft,q.cornerRadius)||0,q=>Mb(q.cornerRadiusTopRight,q.cornerRadius)||0,q=>Mb(q.cornerRadiusBottomRight,q.cornerRadius)||0,q=>Mb(q.cornerRadiusBottomLeft,q.cornerRadius)||0),se=
function(q,J){function ha(){let Pb;ya||(ya=Pb=bb());q.apply(this,arguments).draw(ya,+J.apply(this,arguments));if(Pb)return ya=null,Pb+""||null}let ya=null,bb=Ea(ha);q="function"===typeof q?q:Wb(q||$d);J="function"===typeof J?J:Wb(void 0===J?64:+J);ha.type=function(Pb){return arguments.length?(q="function"===typeof Pb?Pb:Wb(Pb),ha):q};ha.size=function(Pb){return arguments.length?(J="function"===typeof Pb?Pb:Wb(+Pb),ha):J};ha.context=function(Pb){return arguments.length?(ya=null==Pb?null:Pb,ha):ya};
return ha}().type(q=>Pa(q.shape||"circle")).size(q=>Mb(q.size,64)),Ve=$b().x(Cg).y(Dg).defined(U).size(q=>q.size||1);var Be=1;ra.prototype={clone(){return new ra(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(q){return this.x1===q.x1&&this.y1===q.y1&&this.x2===q.x2&&this.y2===q.y2},
set(q,J,ha,ya){ha<q?(this.x2=q,this.x1=ha):(this.x1=q,this.x2=ha);ya<J?(this.y2=J,this.y1=ya):(this.y1=J,this.y2=ya);return this},add(q,J){q<this.x1&&(this.x1=q);J<this.y1&&(this.y1=J);q>this.x2&&(this.x2=q);J>this.y2&&(this.y2=J);return this},expand(q){this.x1-=q;this.y1-=q;this.x2+=q;this.y2+=q;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(q){this.x1*=q;this.y1*=q;this.x2*=q;this.y2*=q;return this},
translate(q,J){this.x1+=q;this.x2+=q;this.y1+=J;this.y2+=J;return this},rotate(q,J,ha){q=this.rotatedPoints(q,J,ha);return this.clear().add(q[0],q[1]).add(q[2],q[3]).add(q[4],q[5]).add(q[6],q[7])},rotatedPoints(q,J,ha){var {x1:ya,y1:bb,x2:Pb,y2:kc}=this,xc=Math.cos(q);q=Math.sin(q);var gc=J-J*xc+ha*q;J=ha-J*q-ha*xc;return[xc*ya-q*bb+gc,q*ya+xc*bb+J,xc*ya-q*kc+gc,q*ya+xc*kc+J,xc*Pb-q*bb+gc,q*Pb+xc*bb+J,xc*Pb-q*kc+gc,q*Pb+xc*kc+J]},union(q){q.x1<this.x1&&(this.x1=q.x1);q.y1<this.y1&&(this.y1=q.y1);
q.x2>this.x2&&(this.x2=q.x2);q.y2>this.y2&&(this.y2=q.y2);return this},intersect(q){q.x1>this.x1&&(this.x1=q.x1);q.y1>this.y1&&(this.y1=q.y1);q.x2<this.x2&&(this.x2=q.x2);q.y2<this.y2&&(this.y2=q.y2);return this},encloses(q){return q&&this.x1<=q.x1&&this.x2>=q.x2&&this.y1<=q.y1&&this.y2>=q.y2},alignsWith(q){return q&&(this.x1==q.x1||this.x2==q.x2||this.y1==q.y1||this.y2==q.y2)},intersects(q){return q&&!(this.x2<q.x1||this.x1>q.x2||this.y2<q.y1||this.y1>q.y2)},contains(q,J){return!(q<this.x1||q>this.x2||
J<this.y1||J>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};h.inherits(Ua,Bb);xb.prototype={pending(){return this._pending},sanitizeURL(q){const J=this;J._pending+=1;return J._loader.sanitize(q,{context:"href"}).then(ha=>{--J._pending;return ha}).catch(()=>{--J._pending;return null})},loadImage(q){const J=this,ha=ka.image();J._pending+=1;return J._loader.sanitize(q,{context:"image"}).then(ya=>{const bb=ya.href;if(!bb||!ha)throw{url:bb};const Pb=new ha;ya=h.hasOwnProperty(ya,
"crossOrigin")?ya.crossOrigin:"anonymous";null!=ya&&(Pb.crossOrigin=ya);Pb.onload=()=>{--J._pending};Pb.onerror=()=>{--J._pending};Pb.src=bb;return Pb}).catch(ya=>{--J._pending;return{complete:!1,width:0,height:0,src:ya&&ya.url||""}})},ready(){const q=this;return new Promise(J=>{function ha(ya){q.pending()?setTimeout(()=>{ha(!0)},10):J(ya)}ha(!1)})}};const Uf=qf-1E-8;let lf,eh,Vf,hg,bg,tg,ug,Qd;const qe=(q,J)=>{q=eh=q;J=Vf=J;return lf.add(q,J)},rf=q=>lf.add(q,lf.y1),De=q=>lf.add(lf.x1,q),ff=(q,J)=>
lf.add(bg*q+ug*J,tg*q+Qd*J),We=(q,J)=>qe(bg*q+ug*J,tg*q+Qd*J),Wf={beginPath(){},closePath(){},moveTo:We,lineTo:We,rect(q,J,ha,ya){hg?(ff(q+ha,J),ff(q+ha,J+ya),ff(q,J+ya),We(q,J)):(lf.add(q+ha,J+ya),qe(q,J))},quadraticCurveTo(q,J,ha,ya){const bb=tg*q+Qd*J,Pb=bg*ha+ug*ya;ha=tg*ha+Qd*ya;Zb(eh,bg*q+ug*J,Pb,rf);Zb(Vf,bb,ha,De);qe(Pb,ha)},bezierCurveTo(q,J,ha,ya,bb,Pb){const kc=tg*q+Qd*J,xc=tg*ha+Qd*ya,gc=bg*bb+ug*Pb;bb=tg*bb+Qd*Pb;ic(eh,bg*q+ug*J,bg*ha+ug*ya,gc,rf);ic(Vf,kc,xc,bb,De);qe(gc,bb)},arc(q,
J,ha,ya,bb,Pb){ya+=hg;bb+=hg;eh=ha*Math.cos(bb)+q;Vf=ha*Math.sin(bb)+J;if(Math.abs(bb-ya)>Uf)lf.add(q-ha,J-ha),lf.add(q+ha,J+ha);else{const kc=gc=>lf.add(ha*Math.cos(gc)+q,ha*Math.sin(gc)+J);let xc;kc(ya);kc(bb);if(bb!==ya)if(ya%=qf,0>ya&&(ya+=qf),bb%=qf,0>bb&&(bb+=qf),bb<ya&&(Pb=!Pb,xc=ya,ya=bb,bb=xc),Pb)for(bb-=qf,xc=ya-ya%Tf,ya=0;4>ya&&xc>bb;++ya,xc-=Tf)kc(xc);else for(xc=ya-ya%Tf+Tf,ya=0;4>ya&&xc<bb;++ya,xc+=Tf)kc(xc)}}};var wf=(wf=ka.canvas(1,1))?wf.getContext("2d"):null;const Gf=new ra;var gf=
[],Ng=Id("arc",function(q,J){return Ka.context(q)(J)}),Og=Gd("area",function(q,J){const ha=J[0];return("horizontal"===ha.orient?Jc:lb).curve(ta(ha.interpolate||"linear",ha.orient,ha.tension)).context(q)(J)},function(q,J){J="horizontal"===q[0].orient?J[1]:J[0];for(var ha="horizontal"===q[0].orient?"y":"x",ya=q.length,bb=Infinity,Pb,kc;0<=--ya;)!1!==q[ya].defined&&(kc=Math.abs(q[ya][ha]-J),kc<bb&&(bb=kc,Pb=q[ya]));return Pb});const nh=sd(Ed),Xf=sd(Ed,!1),ci=sd(Ed,!0);var wh={type:"group",tag:"g",nested:!1,
attr:function(q,J){q("transform",ed(J.x||0,J.y||0))},bound:function(q,J){if(!J.clip&&J.items){const ha=J.items,ya=ha.length;for(let bb=0;bb<ya;++bb)q.union(ha[bb].bounds)}(J.clip||J.width||J.height)&&!J.noBound&&q.add(0,0).add(J.width||0,J.height||0);Fb(q,J);return q.translate(J.x||0,J.y||0)},draw:function(q,J,ha,ya){Eb(J,bb=>{const Pb=bb.x||0,kc=bb.y||0,xc=bb.strokeForeground,gc=null==bb.opacity?1:bb.opacity;(bb.stroke||bb.fill)&&gc&&(Ed(q,bb,Pb,kc),R(q,bb),bb.fill&&Da(q,bb,gc)&&q.fill(),bb.stroke&&
!xc&&Oa(q,bb,gc)&&q.stroke());q.save();q.translate(Pb,kc);bb.clip&&vd(q,bb);ha&&ha.translate(-Pb,-kc);Eb(bb,rd=>{("group"===rd.marktype||null==ya||ya.includes(rd.marktype))&&this.draw(q,rd,ha,ya)});ha&&ha.translate(Pb,kc);q.restore();xc&&bb.stroke&&gc&&(Ed(q,bb,Pb,kc),R(q,bb),Oa(q,bb,gc)&&q.stroke())})},pick:function(q,J,ha,ya,bb,Pb){if(J.bounds&&!J.bounds.contains(bb,Pb)||!J.items)return null;const kc=ha*q.pixelRatio,xc=ya*q.pixelRatio;return Ib(J,gc=>{let rd,Wc;var zd=gc.bounds;if(!zd||zd.contains(bb,
Pb)){rd=gc.x||0;Wc=gc.y||0;zd=rd+(gc.width||0);var je=Wc+(gc.height||0),Ge=gc.clip;if(!Ge||!(bb<rd||bb>zd||Pb<Wc||Pb>je)){q.save();q.translate(rd,Wc);rd=bb-rd;Wc=Pb-Wc;if(Ge&&Ob(gc)&&!ci(q,gc,kc,xc))return q.restore(),null;je=gc.strokeForeground;if((Ge=!1!==J.interactive)&&je&&gc.stroke&&Xf(q,gc,kc,xc))return q.restore(),gc;zd=Ib(gc,Pe=>(!1!==Pe.interactive||"group"===Pe.marktype)&&Pe.bounds&&Pe.bounds.contains(rd,Wc)?this.pick(Pe,ha,ya,rd,Wc):null);!zd&&Ge&&(gc.fill||!je&&gc.stroke)&&nh(q,gc,kc,
xc)&&(zd=gc);q.restore();return zd||null}}})},isect:na,content:function(q,J,ha){J=J.clip?hd(ha,J,J):null;q("clip-path",J)},background:function(q,J){q("class","background");q("aria-hidden",!0);const ha=xe(J);q("d",yc(null,J,ha,ha))},foreground:function(q,J){q("class","foreground");q("aria-hidden",!0);if(J.strokeForeground){const ha=xe(J);q("d",yc(null,J,ha,ha))}else q("d","")}},Pg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Qg={type:"image",tag:"image",
nested:!1,attr:function(q,J,ha){var ya=x(J,ha);ha=I(J,ya);const bb=xa(J,ya),Pb=(J.x||0)-Ja(J.align,ha),kc=(J.y||0)-jb(J.baseline,bb);ya=!ya.src&&ya.toDataURL?ya.toDataURL():ya.src||"";q("href",ya,Pg["xmlns:xlink"],"xlink:href");q("transform",ed(Pb,kc));q("width",ha);q("height",bb);q("preserveAspectRatio",!1===J.aspect?"none":"xMidYMid")},bound:function(q,J){var ha=J.image;const ya=I(J,ha);ha=xa(J,ha);const bb=(J.x||0)-Ja(J.align,ya);J=(J.y||0)-jb(J.baseline,ha);return q.set(bb,J,bb+ya,J+ha)},draw:function(q,
J,ha){Eb(J,ya=>{if(!ha||ha.intersects(ya.bounds)){var bb=x(ya,this),Pb=I(ya,bb),kc=xa(ya,bb);if(0!==Pb&&0!==kc){var xc=(ya.x||0)-Ja(ya.align,Pb),gc=(ya.y||0)-jb(ya.baseline,kc),rd;if(!1!==ya.aspect){var Wc=bb.width/bb.height;var zd=ya.width/ya.height;Wc===Wc&&zd===zd&&Wc!==zd&&(zd<Wc?(Wc=Pb/Wc,gc+=(kc-Wc)/2,kc=Wc):(Wc*=kc,xc+=(Pb-Wc)/2,Pb=Wc))}if(bb.complete||bb.toDataURL)R(q,ya),q.globalAlpha=null!=(rd=ya.opacity)?rd:1,q.imageSmoothingEnabled=!1!==ya.smooth,q.drawImage(bb,xc,gc,Pb,kc)}}})},pick:xd(),
isect:h.truthy,get:x,xOffset:Ja,yOffset:jb},Sh=Gd("line",function(q,J){const ha=J[0];return Kc.curve(ta(ha.interpolate||"linear",ha.orient,ha.tension)).context(q)(J)},function(q,J){for(var ha=Math.pow(q[0].strokeWidth||1,2),ya=q.length,bb,Pb;0<=--ya;)if(!1!==q[ya].defined&&(bb=q[ya].x-J[0],Pb=q[ya].y-J[1],bb=bb*bb+Pb*Pb,bb<ha))return q[ya];return null}),Xi={type:"path",tag:"path",nested:!1,attr:function(q,J){var ha=J.scaleY||1;1===(J.scaleX||1)&&1===ha||q("vector-effect","non-scaling-stroke");ha=
ed(J.x||0,J.y||0)+(J.angle?" rotate("+(J.angle+")"):"")+(J.scaleX||J.scaleY?" scale("+((J.scaleX||1)+","+(J.scaleY||1)+")"):"");q("transform",ha);q("d",J.path)},bound:function(q,J){return wb(Lb(q,J.angle),J)?q.set(0,0,0,0):Fb(q,J,!0)},draw:Cc(wb),pick:xd(sd(wb)),isect:nd(wb)},Ji={type:"rect",tag:"path",nested:!1,attr:function(q,J){q("d",yc(null,J))},bound:function(q,J){var ha,ya;return Fb(q.set(ha=J.x||0,ya=J.y||0,ha+J.width||0,ya+J.height||0),J)},draw:Cc(ec),pick:xd(sd(ec)),isect:na},Ki={type:"rule",
tag:"line",nested:!1,attr:function(q,J){q("transform",ed(J.x||0,J.y||0));q("x2",null!=J.x2?J.x2-(J.x||0):0);q("y2",null!=J.y2?J.y2-(J.y||0):0)},bound:function(q,J){var ha,ya;return Fb(q.set(ha=J.x||0,ya=J.y||0,null!=J.x2?J.x2:ha,null!=J.y2?J.y2:ya),J)},draw:function(q,J,ha){Eb(J,ya=>{if(!ha||ha.intersects(ya.bounds)){var bb=null==ya.opacity?1:ya.opacity;bb&&Qb(q,ya,bb)&&(R(q,ya),q.stroke())}})},pick:xd(function(q,J,ha,ya){return q.isPointInStroke?Qb(q,J,1)&&q.isPointInStroke(ha,ya):!1}),isect:Ia},
di=Id("shape",function(q,J){return(J.mark.shape||J.shape).context(q)(J)}),Yi=Id("symbol",function(q,J){return se.context(q)(J)},Vc);const Li=h.lruCache();var Yg={height:md,measureWidth:zc,estimateWidth:Fc,width:Fc,canvas:qc};qc(!0);const Mi={left:"start",center:"middle",right:"end"},oh=new ra;var fh={type:"text",tag:"text",nested:!1,attr:function(q,J){var ha=J.dx||0,ya=(J.dy||0)+Ie(J),bb=Fe(J),Pb=bb.x1;bb=bb.y1;var kc=J.angle||0;q("text-anchor",Mi[J.align]||"start");if(kc){if(J=ed(Pb,bb)+" rotate("+
(kc+")"),ha||ya)J+=" "+ed(ha,ya)}else J=ed(Pb+ha,bb+ya);q("transform",J)},bound:tf,draw:function(q,J,ha){Eb(J,ya=>{var bb=null==ya.opacity?1:ya.opacity,Pb;if(!(ha&&!ha.intersects(ya.bounds)||0===bb||0>=ya.fontSize||null==ya.text||0===ya.text.length)){q.font=Le(ya);q.textAlign=ya.align||"left";var kc=Fe(ya);var xc=kc.x1;kc=kc.y1;ya.angle&&(q.save(),q.translate(xc,kc),q.rotate(ya.angle*Ze),xc=kc=0);xc+=ya.dx||0;kc+=(ya.dy||0)+Ie(ya);var gc=Fd(ya);R(q,ya);if(h.isArray(gc)){var rd=qd(ya);for(Pb=0;Pb<
gc.length;++Pb){var Wc=kd(ya,gc[Pb]);ya.fill&&Da(q,ya,bb)&&q.fillText(Wc,xc,kc);ya.stroke&&Oa(q,ya,bb)&&q.strokeText(Wc,xc,kc);kc+=rd}}else Wc=kd(ya,gc),ya.fill&&Da(q,ya,bb)&&q.fillText(Wc,xc,kc),ya.stroke&&Oa(q,ya,bb)&&q.strokeText(Wc,xc,kc);ya.angle&&q.restore()}})},pick:xd(function(q,J,ha,ya,bb,Pb){if(0>=J.fontSize)return!1;if(!J.angle)return!0;ha=Fe(J);q=ha.x1;ha=ha.y1;ya=tf(oh,J,1);var kc=-J.angle*Ze;J=Math.cos(kc);kc=Math.sin(kc);return ya.contains(J*bb-kc*Pb+(q-J*q+kc*ha),kc*bb+J*Pb+(ha-kc*
q-J*ha))}),isect:function(q,J){q=tf(oh,q,2);return fb(J,q[0],q[1],q[2],q[3])||fb(J,q[0],q[1],q[4],q[5])||fb(J,q[4],q[5],q[6],q[7])||fb(J,q[2],q[3],q[6],q[7])}},Th=Gd("trail",function(q,J){return Ve.context(q)(J)},function(q,J){for(var ha=q.length,ya,bb;0<=--ha;)if(!1!==q[ha].defined&&(ya=q[ha].x-J[0],bb=q[ha].y-J[1],bb=ya*ya+bb*bb,ya=q[ha].size||1,bb<ya*ya))return q[ha];return null}),wg={arc:Ng,area:Og,group:wh,image:Qg,line:Sh,path:Xi,rect:Ji,rule:Ki,shape:di,symbol:Yi,text:fh,trail:Th},ig={mark:null};
const Zi="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Gb.prototype={toJSON(q){return ca(this.root,q||0)},mark(q,J,ha){J=J||this.root.items[0];q=rc(q,J);J.items[ha]=q;q.zindex&&(q.group.zdirty=!0);return q}};Md.prototype={initialize(q,J,ha){this._el=q;this._obj=ha||null;return this.origin(J)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(q){return arguments.length?(this._origin=q||[0,0],this):this._origin.slice()},scene(q){if(!arguments.length)return this._scene;this._scene=q;return this},on(){},off(){},_handlerIndex(q,
J,ha){for(let ya=q?q.length:0;0<=--ya;)if(q[ya].type===J&&(!ha||q[ya].handler===ha))return ya;return-1},handlers(q){const J=this._handlers,ha=[];if(q)ha.push(...J[this.eventName(q)]);else for(const ya in J)ha.push(...J[ya]);return ha},eventName(q){const J=q.indexOf(".");return 0>J?q:q.slice(0,J)},handleHref(q,J,ha){this._loader.sanitize(ha,{context:"href"}).then(ya=>{const bb=new MouseEvent(q.type,q),Pb=Rb(null,"a");for(const kc in ya)Pb.setAttribute(kc,ya[kc]);Pb.dispatchEvent(bb)}).catch(()=>{})},
handleTooltip(q,J,ha){if(J&&null!=J.tooltip){var ya=this.canvas(),bb=this._origin,Pb=J&&J.mark,kc;if(Pb&&(kc=wg[Pb.marktype]).tip){ya=Nd(q,ya);ya[0]-=bb[0];for(ya[1]-=bb[1];J=J.mark.group;)ya[0]-=J.x||0,ya[1]-=J.y||0;J=kc.tip(Pb.items,ya)}this._tooltip.call(this._obj,this,q,J,ha&&J&&J.tooltip||null)}},getItemBoundingClientRect(q){var J=this.canvas();if(J){var ha=J.getBoundingClientRect(),ya=this._origin,bb=q.bounds;J=bb.width();var Pb=bb.height(),kc=bb.x1+ya[0]+ha.left;for(ha=bb.y1+ya[1]+ha.top;q.mark&&
(q=q.mark.group);)kc+=q.x||0,ha+=q.y||0;return{x:kc,y:ha,width:J,height:Pb,left:kc,top:ha,right:kc+J,bottom:ha+Pb}}}};Bd.prototype={initialize(q,J,ha,ya,bb){this._el=q;return this.resize(J,ha,ya,bb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(q){if(0===arguments.length)return this._bgcolor;this._bgcolor=q;return this},resize(q,J,ha,ya){this._width=q;this._height=J;this._origin=ha||[0,0];this._scale=ya||1;return this},dirty(){},render(q,J){const ha=this;ha._call=
function(){ha._render(q,J)};ha._call();ha._call=null;return ha},_render(){},renderAsync(q,J){const ha=this.render(q,J);return this._ready?this._ready.then(()=>ha):Promise.resolve(ha)},_load(q,J){var ha=this;q=ha._loader[q](J);if(!ha._ready){const ya=ha._call;ha._ready=ha._loader.ready().then(bb=>{bb&&ya();ha._ready=null})}return q},sanitizeURL(q){return this._load("sanitizeURL",q)},loadImage(q){return this._load("loadImage",q)}};h.inherits(Xd,Md,{initialize(q,J,ha){this._canvas=q&&Sc(q,"canvas");
"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(ya=>Ca(this,ya));return Md.prototype.initialize.call(this,q,J,ha)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(q){this.fire("mousewheel",
q)},pointermove:id(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]),dragover:id(["dragover"],["dragenter"],["dragleave"]),pointerout:sc(["pointerout","mouseout"]),dragleave:sc(["dragleave"]),pointerdown(q){this._down=this._active;this.fire("pointerdown",q)},mousedown(q){this._down=this._active;this.fire("mousedown",q)},click(q){this._down===this._active&&(this.fire("click",q),this._down=null)},touchstart(q){this._touch=this.pickEvent(q.changedTouches[0]);this._first&&
(this._active=this._touch,this._first=!1);this.fire("touchstart",q,!0)},touchmove(q){this.fire("touchmove",q,!0)},touchend(q){this.fire("touchend",q,!0);this._touch=null},fire(q,J,ha){ha=ha?this._touch:this._active;const ya=this._handlers[q];J.vegaType=q;"click"===q&&ha&&ha.href?this.handleHref(J,ha,ha.href):("pointermove"===q||"pointerout"===q)&&this.handleTooltip(J,ha,"pointerout"!==q);if(ya)for(let bb=0,Pb=ya.length;bb<Pb;++bb)ya[bb].handler.call(this._obj,J,ha)},on(q,J){const ha=this.eventName(q),
ya=this._handlers;0>this._handlerIndex(ya[ha],q,J)&&(Ca(this,q),(ya[ha]||(ya[ha]=[])).push({type:q,handler:J}));return this},off(q,J){var ha=this.eventName(q);ha=this._handlers[ha];q=this._handlerIndex(ha,q,J);0<=q&&ha.splice(q,1);return this},pickEvent(q){q=Nd(q,this._canvas);const J=this._origin;return this.pick(this._scene,q[0],q[1],q[0]-J[0],q[1]-J[1])},pick(q,J,ha,ya,bb){const Pb=this.context();return wg[q.marktype].pick.call(this,Pb,q,J,ha,ya,bb)}});const fi=Bd.prototype;h.inherits(Mc,Bd,{initialize(q,
J,ha,ya,bb,Pb){this._options=Pb||{};this._canvas=this._options.externalContext?null:ka.canvas(1,1,this._options.type);q&&this._canvas&&(cd(q,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return fi.initialize.call(this,q,J,ha,ya,bb)},resize(q,J,ha,ya){fi.resize.call(this,q,J,ha,ya);if(this._canvas){q=this._canvas;J=this._width;ha=this._height;ya=this._origin;var bb=this._scale,Pb=this._options.context;const xc="undefined"!==typeof HTMLElement&&q instanceof HTMLElement&&null!=
q.parentNode,gc=q.getContext("2d");bb=xc?"undefined"!==typeof window?window.devicePixelRatio||1:1:bb;q.width=J*bb;q.height=ha*bb;for(var kc in Pb)gc[kc]=Pb[kc];xc&&1!==bb&&(q.style.width=J+"px",q.style.height=ha+"px");gc.pixelRatio=bb;gc.setTransform(bb,0,0,bb,bb*ya[0],bb*ya[1])}else(kc=this._options.externalContext)||h.error("CanvasRenderer is missing a valid canvas or context"),kc.scale(this._scale,this._scale),kc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},
context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(q){const J=this._tempb.clear().union(q.bounds);for(q=q.mark.group;q;)J.translate(q.x||0,q.y||0),q=q.mark.group;this._dirty.union(J)},_render(q,J){const ha=this.context(),ya=this._origin,bb=this._width,Pb=this._height,kc=this._dirty;var xc=(new ra).set(0,0,bb,Pb).translate(-ya[0],-ya[1]);ha.save();this._redraw||kc.empty()?xc=(this._redraw=!1,xc.expand(1)):(xc=xc.intersect(kc),xc.expand(1).round(),
ha.pixelRatio%1&&xc.scale(ha.pixelRatio).round().scale(1/ha.pixelRatio),xc.translate(-(ya[0]%1),-(ya[1]%1)),ha.beginPath(),ha.rect(xc.x1,xc.y1,xc.width(),xc.height()),ha.clip());this.clear(-ya[0],-ya[1],bb,Pb);this.draw(ha,q,xc,J);ha.restore();kc.clear();return this},draw(q,J,ha,ya){if("group"===J.marktype||null==ya||ya.includes(J.marktype)){var bb=wg[J.marktype];if(J.clip){var Pb=J.clip;q.save();h.isFunction(Pb)?(q.beginPath(),Pb(q),q.clip()):vd(q,J.group)}bb.draw.call(this,q,J,ha,ya);J.clip&&q.restore()}},
clear(q,J,ha,ya){const bb=this._options,Pb=this.context();"pdf"===bb.type||bb.externalContext||Pb.clearRect(q,J,ha,ya);null!=this._bgcolor&&(Pb.fillStyle=this._bgcolor,Pb.fillRect(q,J,ha,ya))}});const Zg=(q,J)=>ha=>{let ya=ha.target.__data__;ya=Array.isArray(ya)?ya[0]:ya;ha.vegaType=ha.type;J.call(q._obj,ha,ya)};h.inherits(Ec,Md,{initialize(q,J,ha){let ya=this._svg;ya&&(ya.removeEventListener("click",this._hrefHandler),ya.removeEventListener("pointermove",this._tooltipHandler),ya.removeEventListener("pointerout",
this._tooltipHandler));if(this._svg=ya=q&&Sc(q,"svg"))ya.addEventListener("click",this._hrefHandler),ya.addEventListener("pointermove",this._tooltipHandler),ya.addEventListener("pointerout",this._tooltipHandler);return Md.prototype.initialize.call(this,q,J,ha)},canvas(){return this._svg},on(q,J){const ha=this.eventName(q),ya=this._handlers;0>this._handlerIndex(ya[ha],q,J)&&(q={type:q,handler:J,listener:Zg(this,J)},(ya[ha]||(ya[ha]=[])).push(q),this._svg&&this._svg.addEventListener(ha,q.listener));
return this},off(q,J){const ha=this.eventName(q),ya=this._handlers[ha];q=this._handlerIndex(ya,q,J);0<=q&&(this._svg&&this._svg.removeEventListener(ha,ya[q].listener),ya.splice(q,1));return this}});const ri=(q,J,ha)=>({role:q,["aria-roledescription"]:J,["aria-label"]:ha||void 0}),Lj=h.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),yh={axis:{desc:"axis",caption:function(q){var J=q.datum;
const ha=q.orient,ya=J.title?oe(q):null;var bb=q.context;J=bb.scales[J.scale].value;bb=bb.dataflow.locale();const Pb=J.type;return`${"left"===ha||"right"===ha?"Y":"X"}-axis`+(ya?` titled '${ya}'`:"")+` for a ${ub.isDiscrete(Pb)?"discrete":Pb} scale`+` with ${ub.domainCaption(bb,J,q)}`}},legend:{desc:"legend",caption:function(q){var J=q.datum;const ha=J.title?oe(q):null,ya=`${J.type||""} legend`.trim();var bb=J.scales;J=Object.keys(bb);var Pb=q.context;bb=Pb.scales[bb[J[0]]].value;Pb=Pb.dataflow.locale();
return(ya.length?ya[0].toUpperCase()+ya.slice(1):ya)+(ha?` titled '${ha}'`:"")+` for ${cf(J)}`+` with ${ub.domainCaption(Pb,bb,q)}`}},"title-text":{desc:"title",caption:q=>`Title text '${h.array(q.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:q=>`Subtitle text '${h.array(q.text).join(" ")}'`}},Gh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Ig=q=>(q+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),mg=q=>Je(Me(),q)+
"",zh={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Hh={blend:"mix-blend-mode"},gh={fill:"none","stroke-miterlimit":10},Mf=Pg.xmlns,ng=Bd.prototype;h.inherits(ef,Bd,{initialize(q,J,ha,ya,bb){this._defs={};this._clearDefs();q&&(this._svg=fd(q,0,"svg",Mf),
this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Mf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Pg["xmlns:xlink"]),this._svg.setAttribute("version",Pg.version),this._svg.setAttribute("class","marks"),cd(q,1),this._root=fd(this._svg,0,"g",Mf),de(this._root,gh),cd(this._svg,1));this.background(this._bgcolor);return ng.initialize.call(this,q,J,ha,ya,bb)},background(q){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",q);return ng.background.apply(this,
arguments)},resize(q,J,ha,ya){ng.resize.call(this,q,J,ha,ya);this._svg&&(de(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const q=this._svg,J=this._bgcolor;if(!q)return null;let ha;J&&(q.removeAttribute("style"),ha=fd(q,0,"rect",Mf),de(ha,{width:this._width,height:this._height,fill:J}));const ya=mg(q);
J&&(q.removeChild(ha),this._svg.style.setProperty("background-color",J));return ya},_render(q,J){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,q,void 0,J),cd(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(q){q.dirty!==this._dirtyID&&(q.dirty=this._dirtyID,this._dirty.push(q))},isDirty(q){return this._dirtyAll||!q._svg||!q._svg.ownerSVGElement||q.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const q=this._dirty;if(!q.length||!this._dirtyID)return!0;
const J=++this._dirtyID;let ha;let ya,bb,Pb,kc;Pb=0;for(kc=q.length;Pb<kc;++Pb){ha=q[Pb];var xc=ha.mark;xc.marktype!==ya&&(ya=xc.marktype,bb=wg[ya]);xc.zdirty&&xc.dirty!==J&&(this._dirtyAll=!1,of(ha,J),xc.items.forEach(gc=>{gc.dirty=J}));xc.zdirty||(ha.exit?(bb.nested&&xc.items.length?(xc=xc.items[0],xc._svg&&this._update(bb,xc._svg,xc)):ha._svg&&(xc=ha._svg.parentNode)&&xc.removeChild(ha._svg),ha._svg=null):(ha=bb.nested?xc.items[0]:ha,ha._update!==J&&(ha._svg&&ha._svg.ownerSVGElement?this._update(bb,
ha._svg,ha):(this._dirtyAll=!1,of(ha,J)),ha._update=J)))}return!this._dirtyAll},mark(q,J,ha,ya){if(!this.isDirty(J))return J._svg;const bb=this._svg,Pb=J.marktype,kc=wg[Pb];var xc=!1===J.interactive?"none":null;const gc="g"===kc.tag,rd=$e(J,q,ha,"g",bb);if("group"!==Pb&&null!=ya&&!ya.includes(Pb))return cd(rd,0),J._svg;rd.setAttribute("class",Oc(J));q=Xc(J);for(const je in q)me(rd,je,q[je]);gc||me(rd,"pointer-events",xc);me(rd,"clip-path",J.clip?hd(this,J,J.group):null);let Wc=null,zd=0;xc=je=>{const Ge=
this.isDirty(je),Pe=$e(je,rd,Wc,kc.tag,bb);Ge&&(this._update(kc,Pe,je),gc&&Ke(this,Pe,je,ya));Wc=Pe;++zd};kc.nested?J.items.length&&xc(J.items[0]):Eb(J,xc);cd(rd,zd);return rd},_update(q,J,ha){hh=J;If=J.__values__;Tc(Ye,ha);q.attr(Ye,ha,this);const ya=ih[q.type];ya&&ya.call(this,q,J,ha);hh&&this.style(hh,ha)},style(q,J){if(null!=J){for(const ha in zh){let ya="font"===ha?he(J):J[ha];if(ya===If[ha])continue;const bb=zh[ha];null==ya?q.removeAttribute(bb):(ya&&ya.gradient&&(ya=Yb(ya,this._defs.gradient,
te())),q.setAttribute(bb,ya+""));If[ha]=ya}for(const ha in Hh)pe(q,Hh[ha],J[ha])}},defs(){const q=this._svg,J=this._defs;let ha=J.el;var ya=0;for(var bb in J.gradient){ha||(J.el=ha=fd(q,1,"defs",Mf));var Pb=void 0;let gc,rd;var kc=ha,xc=J.gradient[bb];"radial"===xc.gradient?(Pb=fd(kc,ya++,"pattern",Mf),de(Pb,{id:"p_"+xc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Pb=fd(Pb,0,"rect",Mf),de(Pb,{width:1,height:1,fill:`url(${te()}#${xc.id})`}),kc=fd(kc,ya++,"radialGradient",
Mf),de(kc,{id:xc.id,fx:xc.x1,fy:xc.y1,fr:xc.r1,cx:xc.x2,cy:xc.y2,r:xc.r2})):(kc=fd(kc,ya++,"linearGradient",Mf),de(kc,{id:xc.id,x1:xc.x1,x2:xc.x2,y1:xc.y1,y2:xc.y2}));rd=0;for(gc=xc.stops.length;rd<gc;++rd)Pb=fd(kc,rd,"stop",Mf),Pb.setAttribute("offset",xc.stops[rd].offset),Pb.setAttribute("stop-color",xc.stops[rd].color);cd(kc,rd)}for(const gc in J.clipping)ha||(J.el=ha=fd(q,1,"defs",Mf)),kc=ha,xc=J.clipping[gc],bb=ya,kc=fd(kc,bb,"clipPath",Mf),kc.setAttribute("id",xc.id),xc.path?(ya=fd(kc,0,"path",
Mf),ya.setAttribute("d",xc.path)):(ya=fd(kc,0,"rect",Mf),de(ya,{x:0,y:0,width:xc.width,height:xc.height})),cd(kc,1),ya=bb+1;ha&&(0===ya?(q.removeChild(ha),J.el=null):cd(ha,ya))},_clearDefs(){const q=this._defs;q.gradient={};q.clipping={}}});let hh=null,If=null;const ih={group(q,J,ha){const ya=hh=J.childNodes[2];If=ya.__values__;q.foreground(Ye,ha,this);If=J.__values__;hh=J.childNodes[1];q.content(Ye,ha,this);J=hh=J.childNodes[0];q.background(Ye,ha,this);q=!1===ha.mark.interactive?"none":null;q!==
If.events&&(me(ya,"pointer-events",q),me(J,"pointer-events",q),If.events=q);ha.strokeForeground&&ha.stroke?(q=ha.fill,me(ya,"display",null),this.style(J,ha),me(J,"stroke",null),q&&(ha.fill=null),If=ya.__values__,this.style(ya,ha),q&&(ha.fill=q),hh=null):me(ya,"display","none")},image(q,J,ha){!1===ha.smooth?(pe(J,"image-rendering","optimizeSpeed"),pe(J,"image-rendering","pixelated")):pe(J,"image-rendering",null)},text(q,J,ha){q=Fd(ha);let ya,bb,Pb;h.isArray(q)?(ya=q.map(kc=>kd(ha,kc)),q=ya.join("\n"),
q!==If.text&&(cd(J,0),bb=J.ownerDocument,Pb=qd(ha),ya.forEach((kc,xc)=>{const gc=Rb(bb,"tspan",Mf);gc.__data__=ha;gc.textContent=kc;xc&&(gc.setAttribute("x",0),gc.setAttribute("dy",Pb));J.appendChild(gc)}),If.text=q)):(ya=kd(ha,q),ya!==If.text&&(J.textContent=ya,If.text=ya));me(J,"font-family",he(ha));me(J,"font-size",md(ha)+"px");me(J,"font-style",ha.fontStyle);me(J,"font-variant",ha.fontVariant);me(J,"font-weight",ha.fontWeight)}};h.inherits(y,Bd,{svg(){return this._text},_render(q){const J=Me();
J.open("svg",h.extend({},Pg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ha=this._bgcolor;ha&&"transparent"!==ha&&"none"!==ha&&J.open("rect",{width:this._width,height:this._height,fill:ha}).close();J.open("g",gh,{transform:"translate("+this._origin+")"});this.mark(J,q);J.close();this.defs(J);this._text=J.close()+"";return this},mark(q,J){const ha=wg[J.marktype],ya=ha.tag,bb=[Tc,ha.attr];q.open("g",{"class":Oc(J),
"clip-path":J.clip?hd(this,J,J.group):null},Xc(J),{"pointer-events":"g"!==ya&&!1===J.interactive?"none":null});const Pb=kc=>{const xc=this.href(kc);xc&&q.open("a",xc);q.open(ya,this.attr(J,kc,bb,"g"!==ya?ya:null));if("text"===ya){var gc=Fd(kc);if(h.isArray(gc)){var rd={x:0,dy:qd(kc)};for(var Wc=0;Wc<gc.length;++Wc)q.open("tspan",Wc?rd:null).text(kd(kc,gc[Wc])).close()}else q.text(kd(kc,gc))}else"g"===ya&&(gc=kc.strokeForeground,rd=kc.fill,Wc=kc.stroke,gc&&Wc&&(kc.stroke=null),q.open("path",this.attr(J,
kc,ha.background,"bgrect")).close(),q.open("g",this.attr(J,kc,ha.content)),Eb(kc,zd=>this.mark(q,zd)),q.close(),gc&&Wc?(rd&&(kc.fill=null),kc.stroke=Wc,q.open("path",this.attr(J,kc,ha.foreground,"bgrect")).close(),rd&&(kc.fill=rd)):q.open("path",this.attr(J,kc,ha.foreground,"bgfore")).close());q.close();xc&&q.close()};ha.nested?J.items&&J.items.length&&Pb(J.items[0]):Eb(J,Pb);return q.close()},href(q){const J=q.href;if(J){if(q=this._hrefs&&this._hrefs[J])return q;this.sanitizeURL(J).then(ha=>{ha["xlink:href"]=
ha.href;ha.href=null;(this._hrefs||(this._hrefs={}))[J]=ha})}return null},attr(q,J,ha,ya){const bb={},Pb=(kc,xc,gc,rd)=>{bb[rd||kc]=xc};Array.isArray(ha)?ha.forEach(kc=>kc(Pb,J,this)):ha(Pb,J,this);ya&&M(bb,J,q,ya,this._defs);return bb},defs(q){var J=this._defs.gradient;const ha=this._defs.clipping;if(0!==Object.keys(J).length+Object.keys(ha).length){q.open("defs");for(const bb in J){var ya=J[bb];const Pb=ya.stops;"radial"===ya.gradient?(q.open("pattern",{id:"p_"+bb,viewBox:"0,0,1,1",width:"100%",
height:"100%",preserveAspectRatio:"xMidYMid slice"}),q.open("rect",{width:"1",height:"1",fill:"url(#"+bb+")"}).close(),q.close(),q.open("radialGradient",{id:bb,fx:ya.x1,fy:ya.y1,fr:ya.r1,cx:ya.x2,cy:ya.y2,r:ya.r2})):q.open("linearGradient",{id:bb,x1:ya.x1,x2:ya.x2,y1:ya.y1,y2:ya.y2});for(ya=0;ya<Pb.length;++ya)q.open("stop",{offset:Pb[ya].offset,"stop-color":Pb[ya].color}).close();q.close()}for(const bb in ha)J=ha[bb],q.open("clipPath",{id:bb}),J.path?q.open("path",{d:J.path}).close():q.open("rect",
{x:0,y:0,width:J.width,height:J.height}).close(),q.close();q.close()}}});const ah={svgMarkTypes:["text"],svgOnTop:!0,debug:!1},jh=Bd.prototype;h.inherits(p,Bd,{initialize(q,J,ha,ya,bb){this._root_el=fd(q,0,"div");const Pb=fd(this._root_el,0,"div"),kc=fd(this._root_el,1,"div");this._root_el.style.position="relative";ah.debug||(Pb.style.height="100%",kc.style.position="absolute",kc.style.top="0",kc.style.left="0",kc.style.height="100%",kc.style.width="100%");this._svgEl=ah.svgOnTop?kc:Pb;this._canvasEl=
ah.svgOnTop?Pb:kc;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,J,ha,ya,bb);this._svgRenderer.initialize(this._svgEl,J,ha,ya,bb);return jh.initialize.call(this,q,J,ha,ya,bb)},dirty(q){ah.svgMarkTypes.includes(q.mark.marktype)?this._svgRenderer.dirty(q):this._canvasRenderer.dirty(q);return this},_render(q,J){J=(null!=J?J:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(ha=>!ah.svgMarkTypes.includes(ha));this._svgRenderer.render(q,
ah.svgMarkTypes);this._canvasRenderer.render(q,J)},resize(q,J,ha,ya){jh.resize.call(this,q,J,ha,ya);this._svgRenderer.resize(q,J,ha,ya);this._canvasRenderer.resize(q,J,ha,ya);return this},background(q){ah.svgOnTop?this._canvasRenderer.background(q):this._svgRenderer.background(q);return this}});h.inherits(P,Xd,{initialize(q,J,ha){q=fd(fd(q,0,"div"),ah.svgOnTop?0:1,"div");return Xd.prototype.initialize.call(this,q,J,ha)}});const Ih={};Ih.canvas=Ih.png={renderer:Mc,headless:Mc,handler:Xd};Ih.svg={renderer:ef,
headless:y,handler:Ec};Ih.hybrid={renderer:p,headless:p,handler:P};Ih.none={};const si=new ra;t.Bounds=ra;t.CanvasHandler=Xd;t.CanvasRenderer=Mc;t.Gradient=function(q,J){var ha=[],ya;return ya={gradient:"linear",x1:q?q[0]:0,y1:q?q[1]:0,x2:J?J[0]:1,y2:J?J[1]:0,stops:ha,stop:function(bb,Pb){ha.push({offset:bb,color:Pb});return ya}}};t.GroupItem=Ua;t.Handler=Md;t.HybridHandler=P;t.HybridRenderer=p;t.Item=Bb;t.Marks=wg;t.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};t.Renderer=
Bd;t.ResourceLoader=xb;t.SVGHandler=Ec;t.SVGRenderer=ef;t.SVGStringRenderer=y;t.Scenegraph=Gb;t.boundClip=function(q){const J=q.clip;if(h.isFunction(J))J(Lb(si.clear()));else if(J)si.set(0,0,q.group.width,q.group.height);else return;q.bounds.intersect(si)};t.boundContext=Lb;t.boundItem=df;t.boundMark=E;t.boundStroke=Fb;t.domChild=fd;t.domClear=cd;t.domCreate=Rb;t.domFind=Sc;t.font=Le;t.fontFamily=he;t.fontSize=md;t.intersect=function(q,J,ha){const ya=[];J=(new ra).union(J);const bb=q.marktype;return bb?
Y(q,J,ha,ya):"group"===bb?pa(q,J,ha,ya):h.error("Intersect scene must be mark node or group item.")};t.intersectBoxLine=fb;t.intersectPath=nd;t.intersectPoint=Vc;t.intersectRule=Ia;t.lineHeight=qd;t.markup=Me;t.multiLineOffset=function(q){const J=Fd(q);return(h.isArray(J)?J.length-1:0)*qd(q)};t.path=jc;t.pathCurves=ta;t.pathEqual=Hb;t.pathParse=N;t.pathRectangle=pc;t.pathRender=wa;t.pathSymbols=Pa;t.pathTrail=$b;t.point=Nd;t.renderModule=function(q,J){q=String(q||"").toLowerCase();return 1<arguments.length?
(Ih[q]=J,this):Ih[q]};t.resetSVGClipId=function(){Be=1};t.resetSVGDefIds=function(){Be=1;cc=0};t.sceneEqual=Cb;t.sceneFromJSON=Ga;t.scenePickVisit=Ib;t.sceneToJSON=ca;t.sceneVisit=Eb;t.sceneZOrder=Ub;t.serializeXML=mg;t.setHybridRendererOptions=function(q){let J;ah.svgMarkTypes=null!=(J=q.svgMarkTypes)?J:["text"];let ha;ah.svgOnTop=null!=(ha=q.svgOnTop)?ha:!0;let ya;ah.debug=null!=(ya=q.debug)?ya:!1};t.textMetrics=Yg})};
shadow$provide[35]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(34),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya){function ub(z){h.Transform.call(this,null,z)}function Yb(z,F,V){return F(z.bounds.clear(),z,V)}function dc(z){h.Transform.call(this,
0,z)}function Wb(z){return z._signals[":vega_identifier:"]||(z._signals[":vega_identifier:"]=z.add(0))}function oc(z){h.Transform.call(this,null,z)}function Ab(z){const F=z.groups;z=z.parent;return F&&1===F.size?F.get(Object.keys(F.object)[0]):F&&z?F.lookup(z):null}function Tb(z){h.Transform.call(this,null,z)}function jc(z){h.Transform.call(this,null,z)}function Ea(z,F,V){return z[F]===V?0:(z[F]=V,1)}function Za(z){z=z.items[0].orient;return"left"===z||"right"===z}function tb(z,F,V,ta){F=F.items[0];
var N=F.datum,la=null!=F.translate?F.translate:.5,wa=F.orient,Na=+N.grid;var Pa=[N.ticks?Na++:-1,N.labels?Na++:-1,Na+ +N.domain];Na=F.range;var Xa=F.offset,sb=F.position,ib=F.minExtent,Sb=F.maxExtent;N=N.title&&F.items[Pa[2]].items[0];var X=F.titlePadding,Fa=F.bounds,Kb=N&&ka.multiLineOffset(N),pc;W.clear().union(Fa);Fa.clear();-1<(pc=Pa[0])&&Fa.union(F.items[pc].bounds);-1<(pc=Pa[1])&&Fa.union(F.items[pc].bounds);switch(wa){case "top":V=sb||0;ta=-Xa;ib=Math.max(ib,Math.min(Sb,-Fa.y1));Fa.add(0,-ib).add(Na,
0);N&&rb(z,N,ib,X,Kb,0,-1,Fa);break;case "left":V=-Xa;ta=sb||0;ib=Math.max(ib,Math.min(Sb,-Fa.x1));Fa.add(-ib,0).add(0,Na);N&&rb(z,N,ib,X,Kb,1,-1,Fa);break;case "right":V+=Xa;ta=sb||0;ib=Math.max(ib,Math.min(Sb,Fa.x2));Fa.add(0,0).add(ib,Na);N&&rb(z,N,ib,X,Kb,1,1,Fa);break;case "bottom":V=sb||0;ta+=Xa;ib=Math.max(ib,Math.min(Sb,Fa.y2));Fa.add(0,0).add(Na,ib);N&&rb(z,N,ib,X,0,0,1,Fa);break;default:V=F.x,ta=F.y}ka.boundStroke(Fa.translate(V,ta),F);Ea(F,"x",V+la)|Ea(F,"y",ta+la)&&(F.bounds=W,z.dirty(F),
F.bounds=Fa,z.dirty(F));return F.mark.bounds.clear().union(Fa)}function rb(z,F,V,ta,N,la,wa,Na){const Pa=F.bounds;F.auto&&(V=wa*(V+N+ta),N=ta=0,z.dirty(F),la?ta=(F.x||0)-(F.x=V):N=(F.y||0)-(F.y=V),F.mark.bounds.clear().union(Pa.translate(-ta,-N)),z.dirty(F));Na.union(Pa)}function pb(z){return(new ka.Bounds).set(0,0,z.width||0,z.height||0)}function vb(z){const F=z.bounds.clone();return F.empty()?F.set(0,0,0,0):F.translate(-(z.x||0),-(z.y||0))}function gb(z,F,V){z=Ya.isObject(z)?z[F]:z;return null!=
z?z:void 0!==V?V:0}function fc(z){return 0>z?Math.ceil(-z):0}function sa(z,F,V){var ta=!V.nodirty,N="flush"===V.bounds?pb:vb,la=W.set(0,0,0,0),wa=gb(V.align,"column"),Na=gb(V.align,"row"),Pa=gb(V.padding,"column"),Xa=gb(V.padding,"row"),sb=V.columns||F.length,ib=0>=sb?1:Math.ceil(F.length/sb),Sb=F.length,X=Array(Sb),Fa=Array(sb),Kb=0,pc=Array(Sb),$b=Array(ib),Mb=0,Ob=Array(Sb),yc=Array(Sb),hd=Array(Sb),ra,Bb,Ua;for(ra=0;ra<sb;++ra)Fa[ra]=0;for(ra=0;ra<ib;++ra)$b[ra]=0;for(ra=0;ra<Sb;++ra){var xb=
F[ra];var Fb=hd[ra]=N(xb);xb.x=xb.x||0;Ob[ra]=0;xb.y=xb.y||0;yc[ra]=0;xb=ra%sb;var Lb=~~(ra/sb);Kb=Math.max(Kb,Bb=Math.ceil(Fb.x2));Mb=Math.max(Mb,Ua=Math.ceil(Fb.y2));Fa[xb]=Math.max(Fa[xb],Bb);$b[Lb]=Math.max($b[Lb],Ua);X[ra]=Pa+fc(Fb.x1);pc[ra]=Xa+fc(Fb.y1);ta&&z.dirty(F[ra])}for(ra=0;ra<Sb;++ra)0===ra%sb&&(X[ra]=0),ra<sb&&(pc[ra]=0);if("each"===wa)for(xb=1;xb<sb;++xb){N=0;for(ra=xb;ra<Sb;ra+=sb)N<X[ra]&&(N=X[ra]);for(ra=xb;ra<Sb;ra+=sb)X[ra]=N+Fa[xb-1]}else if("all"===wa){for(ra=N=0;ra<Sb;++ra)ra%
sb&&N<X[ra]&&(N=X[ra]);for(ra=0;ra<Sb;++ra)ra%sb&&(X[ra]=N+Kb)}else for(wa=!1,xb=1;xb<sb;++xb)for(ra=xb;ra<Sb;ra+=sb)X[ra]+=Fa[xb-1];if("each"===Na)for(Lb=1;Lb<ib;++Lb){N=0;ra=Lb*sb;for(xb=ra+sb;ra<xb;++ra)N<pc[ra]&&(N=pc[ra]);for(ra=Lb*sb;ra<xb;++ra)pc[ra]=N+$b[Lb-1]}else if("all"===Na){N=0;for(ra=sb;ra<Sb;++ra)N<pc[ra]&&(N=pc[ra]);for(ra=sb;ra<Sb;++ra)pc[ra]=N+Mb}else for(Na=!1,Lb=1;Lb<ib;++Lb)for(ra=Lb*sb,xb=ra+sb;ra<xb;++ra)pc[ra]+=$b[Lb-1];for(ra=Lb=0;ra<Sb;++ra)Lb=X[ra]+(ra%sb?Lb:0),Ob[ra]+=
Lb-F[ra].x;for(xb=0;xb<sb;++xb)for(X=0,ra=xb;ra<Sb;ra+=sb)X+=pc[ra],yc[ra]+=X-F[ra].y;if(wa&&gb(V.center,"column")&&1<ib)for(ra=0;ra<Sb;++ra)Fb="all"===wa?Kb:Fa[ra%sb],Lb=Fb-hd[ra].x2-F[ra].x-Ob[ra],0<Lb&&(Ob[ra]+=Lb/2);if(Na&&gb(V.center,"row")&&1!==sb)for(ra=0;ra<Sb;++ra)Fb="all"===Na?Mb:$b[~~(ra/sb)],X=Fb-hd[ra].y2-F[ra].y-yc[ra],0<X&&(yc[ra]+=X/2);for(ra=0;ra<Sb;++ra)la.union(hd[ra].translate(Ob[ra],yc[ra]));Lb=gb(V.anchor,"x");X=gb(V.anchor,"y");switch(gb(V.anchor,"column")){case "end":Lb-=la.width();
break;case "middle":Lb-=la.width()/2}switch(gb(V.anchor,"row")){case "end":X-=la.height();break;case "middle":X-=la.height()/2}Lb=Math.round(Lb);X=Math.round(X);la.clear();for(ra=0;ra<Sb;++ra)F[ra].mark.bounds.clear();for(ra=0;ra<Sb;++ra)xb=F[ra],xb.x+=Ob[ra]+=Lb,xb.y+=yc[ra]+=X,la.union(xb.mark.bounds.union(xb.bounds.translate(Ob[ra],yc[ra]))),ta&&z.dirty(xb);return la}function ia(z,F){return"x1"===F?z.x||0:"y1"===F?z.y||0:"x2"===F?(z.x||0)+(z.width||0):"y2"===F?(z.y||0)+(z.height||0):void 0}function Ba(z,
F){return z.bounds[F]}function Sa(z,F,V,ta,N,la,wa,Na,Pa,Xa,sb,ib,Sb,X){var Fa=V.length,Kb=ta=0,pc,$b;if(!Fa)return ta;for(pc=sb;pc<Fa;pc+=ib)V[pc]&&(ta=wa(ta,Pa(V[pc],Xa)));if(!F.length)return ta;F.length>N&&(z.warn("Grid headers exceed limit: "+N),F=F.slice(0,N));ta+=la;N=0;for(la=F.length;N<la;++N)z.dirty(F[N]),F[N].mark.bounds.clear();pc=sb;N=0;for(la=F.length;N<la;++N,pc+=ib){Pa=F[N];sb=Pa.mark.bounds;for(Fa=pc;0<=Fa&&null==($b=V[Fa]);Fa-=Sb);if(Na){Fa=null==X?$b.x:Math.round($b.bounds.x1+X*
$b.bounds.width());var Mb=ta}else Fa=ta,Mb=null==X?$b.y:Math.round($b.bounds.y1+X*$b.bounds.height());sb.union(Pa.bounds.translate(Fa-(Pa.x||0),Mb-(Pa.y||0)));Pa.x=Fa;Pa.y=Mb;z.dirty(Pa);Kb=wa(Kb,sb[Xa])}return Kb}function Wa(z,F,V,ta,N,la){if(F){z.dirty(F);var wa=V;ta?wa=Math.round(N.x1+la*N.width()):V=Math.round(N.y1+la*N.height());F.bounds.translate(wa-(F.x||0),V-(F.y||0));F.mark.bounds.clear().union(F.bounds);F.x=wa;F.y=V;z.dirty(F)}}function Ha(z,F){const V=z[F]||{};return(ta,N)=>null!=V[ta]?
V[ta]:null!=z[ta]?z[ta]:N}function hb(z,F){let V=-Infinity;z.forEach(ta=>{null!=ta.offset&&(V=Math.max(V,ta.offset))});return-Infinity<V?V:F}function $a(z,F,V,ta,N,la,wa){const Na=Ha(V,F);V=hb(z,Na("offset",0));const Pa=Na("anchor","start"),Xa="end"===Pa?1:"middle"===Pa?.5:0;z={align:"each",bounds:Na("bounds","flush"),columns:"vertical"===Na("direction")?1:z.length,padding:Na("margin",8),center:Na("center"),nodirty:!0};switch(F){case "left":z.anchor={x:Math.floor(ta.x1)-V,column:"end",y:Xa*(wa||ta.height()+
2*ta.y1),row:Pa};break;case "right":z.anchor={x:Math.ceil(ta.x2)+V,y:Xa*(wa||ta.height()+2*ta.y1),row:Pa};break;case "top":z.anchor={y:Math.floor(N.y1)-V,row:"end",x:Xa*(la||N.width()+2*N.x1),column:Pa};break;case "bottom":z.anchor={y:Math.ceil(N.y2)+V,x:Xa*(la||N.width()+2*N.x1),column:Pa};break;case "top-left":z.anchor={x:V,y:V};break;case "top-right":z.anchor={x:la-V,y:V,column:"end"};break;case "bottom-left":z.anchor={x:V,y:wa-V,row:"end"};break;case "bottom-right":z.anchor={x:la-V,y:wa-V,column:"end",
row:"end"}}return z}function qb(z,F){F=F.items[0];var V=F.datum,ta=F.orient,N=F.bounds,la=F.x,wa=F.y;F._bounds?F._bounds.clear().union(N):F._bounds=N.clone();N.clear();var Na=F.items[0].items[0];var Pa=F.padding,Xa=Pa-Na.x,sb=Pa-Na.y;if(F.datum.title){var ib=F.items[1].items[0],Sb=ib.anchor,X=F.titlePadding||0,Fa=Pa-ib.x,Kb=Pa-ib.y;switch(ib.orient){case "left":Xa+=Math.ceil(ib.bounds.width())+X;break;case "right":case "bottom":break;default:sb+=ib.bounds.height()+X}(Xa||sb)&&T(z,Na,Xa,sb);switch(ib.orient){case "left":Kb+=
db(F,Na,ib,Sb,1,1);break;case "right":Fa+=db(F,Na,ib,"end",0,0)+X;Kb+=db(F,Na,ib,Sb,1,1);break;case "bottom":Fa+=db(F,Na,ib,Sb,0,0);Kb+=db(F,Na,ib,"end",-1,0,1)+X;break;default:Fa+=db(F,Na,ib,Sb,0,0)}(Fa||Kb)&&T(z,ib,Fa,Kb);0>(Fa=Math.round(ib.bounds.x1-Pa))&&(T(z,Na,-Fa,0),T(z,ib,-Fa,0))}else(Xa||sb)&&T(z,Na,Xa,sb);N=Nb(F,N);z=2*F.padding;Na=2*F.padding;N.empty()||(z=Math.ceil(N.width()+z),Na=Math.ceil(N.height()+Na));"symbol"===V.type&&ba(F.items[0].items[0].items[0].items);"none"!==ta&&(F.x=la=
0,F.y=wa=0);F.width=z;F.height=Na;ka.boundStroke(N.set(la,wa,la+z,wa+Na),F);F.mark.bounds.clear().union(N);return F}function Nb(z,F){z.items.forEach(V=>F.union(V.bounds));F.x1=z.padding;F.y1=z.padding;return F}function db(z,F,V,ta,N,la,wa){const Na=V.datum.vgrad;z=("symbol"===z.datum.type||!la&&Na||wa?F:F.items[0]).bounds[N?"y2":"x2"]-z.padding;F=Na&&la?z:0;la=Na&&la?0:z;V=0>=N?0:ka.multiLineOffset(V);return Math.round("start"===ta?F:"end"===ta?la-V:.5*(z-V))}function T(z,F,V,ta){F.x+=V;F.y+=ta;F.bounds.translate(V,
ta);F.mark.bounds.translate(V,ta);z.dirty(F)}function ba(z){const F=z.reduce((V,ta)=>{V[ta.column]=Math.max(ta.bounds.x2-ta.x,V[ta.column]||0);return V},{});z.forEach(V=>{V.width=F[V.column];V.height=V.bounds.y2-V.y})}function ea(z,F,V,ta,N){var la=F.items[0],wa=la.orient,Na=la.anchor,Pa=la.offset,Xa=la.padding,sb=la.items[0].items[0],ib=la.items[1]&&la.items[1].items[0],Sb="left"===wa||"right"===wa?ta:V,X=0,Fa=V=0;"group"!==la.frame?"left"===wa?(X=N.y2,Sb=N.y1):"right"===wa?(X=N.y1,Sb=N.y2):(X=N.x1,
Sb=N.x2):"left"===wa&&(X=ta,Sb=0);ta="start"===Na?X:"end"===Na?Sb:(X+Sb)/2;if(ib&&ib.text){switch(wa){case "top":case "bottom":Fa=sb.bounds.height()+Xa;break;case "left":V=sb.bounds.width()+Xa;break;case "right":V=-sb.bounds.width()-Xa}W.clear().union(ib.bounds);W.translate(V-(ib.x||0),Fa-(ib.y||0));Ea(ib,"x",V)|Ea(ib,"y",Fa)&&(z.dirty(ib),ib.bounds.clear().union(W),ib.mark.bounds.clear().union(W),z.dirty(ib));W.clear().union(ib.bounds)}else W.clear();W.union(sb.bounds);switch(wa){case "top":wa=ta;
N=N.y1-W.height()-Pa;break;case "left":wa=N.x1-W.width()-Pa;N=ta;break;case "right":wa=N.x2+W.width()+Pa;N=ta;break;case "bottom":wa=ta;N=N.y2+Pa;break;default:wa=la.x,N=la.y}Ea(la,"x",wa)|Ea(la,"y",N)&&(W.translate(wa,N),z.dirty(la),la.bounds.clear().union(W),F.bounds.clear().union(W),z.dirty(la));return la.bounds}function ja(z){h.Transform.call(this,null,z)}function Ma(z){return z&&"legend-entry"!==z.mark.role}function oa(z,F,V){var ta=F.items,N=Math.max(0,F.width||0),la=Math.max(0,F.height||0),
wa=(new ka.Bounds).set(0,0,N,la),Na=wa.clone(),Pa=wa.clone(),Xa=[],sb,ib;var Sb=0;for(ib=ta.length;Sb<ib;++Sb){var X=ta[Sb];switch(X.role){case "axis":var Fa=Za(X)?Na:Pa;Fa.union(tb(z,X,N,la));break;case "title":var Kb=X;break;case "legend":Xa.push(qb(z,X));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Na.union(X.bounds);Pa.union(X.bounds);break;default:wa.union(X.bounds)}}if(Xa.length){const pc={};
Xa.forEach($b=>{sb=$b.orient||"right";"none"!==sb&&(pc[sb]||(pc[sb]=[])).push($b)});for(const $b in pc)ta=pc[$b],sa(z,ta,$a(ta,$b,V.legends,Na,Pa,N,la));Xa.forEach($b=>{const Mb=$b.bounds;Mb.equals($b._bounds)||($b.bounds=$b._bounds,z.dirty($b),$b.bounds=Mb,z.dirty($b));if(!V.autosize||"fit"!==V.autosize.type&&"fit-x"!==V.autosize.type&&"fit-y"!==V.autosize.type)wa.union(Mb);else switch($b.orient){case "left":case "right":wa.add(Mb.x1,0).add(Mb.x2,0);break;case "top":case "bottom":wa.add(0,Mb.y1).add(0,
Mb.y2)}})}wa.union(Na).union(Pa);Kb&&wa.union(ea(z,Kb,N,la,wa));F.clip&&wa.set(0,0,F.width||0,F.height||0);qa(z,F,wa,V)}function qa(z,F,V,ta){ta=ta.autosize||{};const N=ta.type;if(!(1>z._autosize)&&N){var la=z._width,wa=z._height,Na=Math.max(0,F.width||0),Pa=Math.max(0,Math.ceil(-V.x1));F=Math.max(0,F.height||0);var Xa=Math.max(0,Math.ceil(-V.y1)),sb=Math.max(0,Math.ceil(V.x2-Na));V=Math.max(0,Math.ceil(V.y2-F));if("padding"===ta.contains){const ib=z.padding();la-=ib.left+ib.right;wa-=ib.top+ib.bottom}"none"===
N?(Xa=Pa=0,Na=la,F=wa):"fit"===N?(Na=Math.max(0,la-Pa-sb),F=Math.max(0,wa-Xa-V)):"fit-x"===N?(Na=Math.max(0,la-Pa-sb),wa=F+Xa+V):"fit-y"===N?(la=Na+Pa+sb,F=Math.max(0,wa-Xa-V)):"pad"===N&&(la=Na+Pa+sb,wa=F+Xa+V);z._resizeView(la,wa,Na,F,[Pa,Xa],ta.resize)}}Ya.inherits(ub,h.Transform,{transform(z,F){const V=F.dataflow,ta=z.mark,N=ta.marktype,la=ka.Marks[N],wa=la.bound;let Na=ta.bounds,Pa;if(la.nested)ta.items.length&&V.dirty(ta.items[0]),Na=Yb(ta,wa),ta.items.forEach(Xa=>{Xa.bounds.clear().union(Na)});
else if("group"===N||z.modified())switch(F.visit(F.MOD,Xa=>V.dirty(Xa)),Na.clear(),ta.items.forEach(Xa=>Na.union(Yb(Xa,wa))),ta.role){case "axis":case "legend":case "title":F.reflow()}else Pa=F.changed(F.REM),F.visit(F.ADD,Xa=>{Na.union(Yb(Xa,wa))}),F.visit(F.MOD,Xa=>{Pa=Pa||Na.alignsWith(Xa.bounds);V.dirty(Xa);Na.union(Yb(Xa,wa))}),Pa&&(Na.clear(),ta.items.forEach(Xa=>Na.union(Xa.bounds)));ka.boundClip(ta);return F.modifies("bounds")}});dc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};Ya.inherits(dc,h.Transform,{transform(z,F){const V=Wb(F.dataflow),ta=z.as;let N=V.value;F.visit(F.ADD,la=>la[ta]=la[ta]||++N);V.set(this.value=N);return F}});Ya.inherits(oc,h.Transform,{transform(z,F){let V=this.value;V||(V=F.dataflow.scenegraph().mark(z.markdef,Ab(z),z.index),V.group.context=z.context,z.context.group||(z.context.group=V.group),V.source=this.source,V.clip=z.clip,V.interactive=z.interactive,this.value=V);const ta="group"===V.marktype?ka.GroupItem:ka.Item;
F.visit(F.ADD,N=>ta.call(N,V));if(z.modified("clip")||z.modified("interactive"))V.clip=z.clip,V.interactive=!!z.interactive,V.zdirty=!0,F.reflow();V.items=F.source;return F}});const l={parity:z=>z.filter((F,V)=>V%2?F.opacity=0:1),greedy:(z,F)=>{let V;return z.filter((ta,N)=>N&&D(V.bounds,ta.bounds,F)?ta.opacity=0:(V=ta,1))}},D=(z,F,V)=>V>Math.max(F.x1-z.x2,z.x1-F.x2,F.y1-z.y2,z.y1-F.y2),K=(z,F)=>{for(var V=1,ta=z.length,N=z[0].bounds;V<ta;++V)if(D(N,N=z[V].bounds,F))return!0},v=z=>{z=z.bounds;return 1<
z.width()&&1<z.height()},Q=(z,F,V)=>{z=z.range();var ta=new ka.Bounds;"top"===F||"bottom"===F?ta.set(z[0],-Infinity,z[1],Infinity):ta.set(-Infinity,z[0],Infinity,z[1]);ta.expand(V||1);return N=>ta.encloses(N.bounds)},A=z=>{z.forEach(F=>F.opacity=1);return z};Ya.inherits(Tb,h.Transform,{transform(z,F){const V=l[z.method]||l.parity,ta=z.separation||0;let N=F.materialize(F.SOURCE).source,la,wa;if(N&&N.length){if(!z.method)return z.modified("method")&&(A(N),F=F.reflow(z.modified()).modifies("opacity")),
F;N=N.filter(v);if(N.length){z.sort&&(N=N.slice().sort(z.sort));la=A(N);F=F.reflow(z.modified()).modifies("opacity");if(3<=la.length&&K(la,ta)){do la=V(la,ta);while(3<=la.length&&K(la,ta));3>la.length&&!Ya.peek(N).opacity&&(1<la.length&&(Ya.peek(la).opacity=0),Ya.peek(N).opacity=1)}z.boundScale&&0<=z.boundTolerance&&(wa=Q(z.boundScale,z.boundOrient,+z.boundTolerance),N.forEach(Pa=>{wa(Pa)||(Pa.opacity=0)}));var Na=la[0].mark.bounds.clear();N.forEach(Pa=>{Pa.opacity&&Na.union(Pa.bounds)});return F}}}});
Ya.inherits(jc,h.Transform,{transform(z,F){const V=F.dataflow;F.visit(F.ALL,ta=>V.dirty(ta));F.fields&&F.fields.zindex&&(z=F.source&&F.source[0])&&(z.mark.zdirty=!0)}});const W=new ka.Bounds,G=(z,F)=>Math.floor(Math.min(z,F)),w=(z,F)=>Math.ceil(Math.max(z,F));Ya.inherits(ja,h.Transform,{transform(z,F){const V=F.dataflow;z.mark.items.forEach(ta=>{if(z.layout){var N=z.layout;var la=ta.items;for(var wa=la.length,Na=0,Pa,Xa,sb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Na<wa;++Na)if(Pa=la[Na],Xa=Pa.items,"group"===Pa.marktype)switch(Pa.role){case "axis":case "legend":case "title":break;case "row-header":sb.rowheaders.push(...Xa);break;case "row-footer":sb.rowfooters.push(...Xa);break;case "column-header":sb.colheaders.push(...Xa);break;case "column-footer":sb.colfooters.push(...Xa);break;case "row-title":sb.rowtitle=Xa[0];break;case "column-title":sb.coltitle=Xa[0];break;default:sb.marks.push(...Xa)}la=sb;Xa=la.marks;sb="flush"===N.bounds?ia:Ba;wa=
N.offset;var ib=N.columns||Xa.length,Sb=0>=ib?1:Math.ceil(Xa.length/ib),X=Sb*ib;Na=sa(V,Xa,N);Na.empty()&&Na.set(0,0,0,0);if(la.rowheaders){Pa=gb(N.headerBand,"row",null);var Fa=Sa(V,la.rowheaders,Xa,ib,Sb,-gb(wa,"rowHeader"),G,0,sb,"x1",0,ib,1,Pa)}if(la.colheaders){Pa=gb(N.headerBand,"column",null);var Kb=Sa(V,la.colheaders,Xa,ib,ib,-gb(wa,"columnHeader"),G,1,sb,"y1",0,1,ib,Pa)}if(la.rowfooters){Pa=gb(N.footerBand,"row",null);var pc=Sa(V,la.rowfooters,Xa,ib,Sb,gb(wa,"rowFooter"),w,0,sb,"x2",ib-1,
ib,1,Pa)}if(la.colfooters){Pa=gb(N.footerBand,"column",null);var $b=Sa(V,la.colfooters,Xa,ib,ib,gb(wa,"columnFooter"),w,1,sb,"y2",X-ib,1,ib,Pa)}la.rowtitle&&(Pa=gb(N.titleAnchor,"row"),Xa=gb(wa,"rowTitle"),Xa="end"===Pa?pc+Xa:Fa-Xa,Pa=gb(N.titleBand,"row",.5),Wa(V,la.rowtitle,Xa,0,Na,Pa));la.coltitle&&(Pa=gb(N.titleAnchor,"column"),Xa=gb(wa,"columnTitle"),Xa="end"===Pa?$b+Xa:Kb-Xa,Pa=gb(N.titleBand,"column",.5),Wa(V,la.coltitle,Xa,1,Na,Pa))}oa(V,ta,z)});return Ma(z.mark.group)?F.reflow():F}});t.bound=
ub;t.identifier=dc;t.mark=oc;t.overlap=Tb;t.render=jc;t.viewlayout=ja})};
shadow$provide[36]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(33),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya){function ub(R){h.Transform.call(this,null,R)}function Yb(R){h.Transform.call(this,null,R)}function dc(){return h.ingest({})}function Wb(R){const r=Ya.fastmap().test(da=>
da.exit);r.lookup=da=>r.get(R(da));return r}function oc(R){h.Transform.call(this,null,R)}function Ab(R){h.Transform.call(this,[],R)}function Tb(R){h.Transform.call(this,{},R)}function jc(R,r,da){R=+R;r=+r;da=2>(Da=arguments.length)?(r=R,R=0,1):3>Da?1:+da;for(var za=-1,Da=Math.max(0,Math.ceil((r-R)/da))|0,Oa=Array(Da);++za<Da;)Oa[za]=R+za*da;return Oa}function Ea(R,r){let da=0;if(void 0===r)for(var za of R){if(za=+za)da+=za}else{za=-1;for(let Da of R)if(Da=+r(Da,++za,R))da+=Da}return da}function Za(R){h.Transform.call(this,
null,R)}function tb(R,r,da){R.prototype=r.prototype=da;da.constructor=R}function rb(R,r){R=Object.create(R.prototype);for(var da in r)R[da]=r[da];return R}function pb(){}function vb(){return this.rgb().formatHex()}function gb(){return this.rgb().formatRgb()}function fc(R){var r,da;R=(R+"").trim().toLowerCase();return(r=ra.exec(R))?(da=r[1].length,r=parseInt(r[1],16),6===da?sa(r):3===da?new Sa(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):8===da?ia(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):4===
da?ia(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Bb.exec(R))?new Sa(r[1],r[2],r[3],1):(r=Ua.exec(R))?new Sa(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=xb.exec(R))?ia(r[1],r[2],r[3],r[4]):(r=Fb.exec(R))?ia(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=Lb.exec(R))?Nb(r[1],r[2]/100,r[3]/100,1):(r=Zb.exec(R))?Nb(r[1],r[2]/100,r[3]/100,r[4]):ic.hasOwnProperty(R)?sa(ic[R]):"transparent"===R?new Sa(NaN,NaN,NaN,0):null}function sa(R){return new Sa(R>>16&255,R>>8&255,
R&255,1)}function ia(R,r,da,za){0>=za&&(R=r=da=NaN);return new Sa(R,r,da,za)}function Ba(R,r,da,za){if(1===arguments.length){var Da=R;Da instanceof pb||(Da=fc(Da));Da?(Da=Da.rgb(),Da=new Sa(Da.r,Da.g,Da.b,Da.opacity)):Da=new Sa}else Da=new Sa(R,r,da,null==za?1:za);return Da}function Sa(R,r,da,za){this.r=+R;this.g=+r;this.b=+da;this.opacity=+za}function Wa(){return`#${qb(this.r)}${qb(this.g)}${qb(this.b)}`}function Ha(){const R=hb(this.opacity);return`${1===R?"rgb(":"rgba("}${$a(this.r)}, ${$a(this.g)}, ${$a(this.b)}${1===
R?")":`, ${R})`}`}function hb(R){return isNaN(R)?1:Math.max(0,Math.min(1,R))}function $a(R){return Math.max(0,Math.min(255,Math.round(R)||0))}function qb(R){R=$a(R);return(16>R?"0":"")+R.toString(16)}function Nb(R,r,da,za){0>=za?R=r=da=NaN:0>=da||1<=da?R=r=NaN:0>=r&&(R=NaN);return new T(R,r,da,za)}function db(R){if(R instanceof T)return new T(R.h,R.s,R.l,R.opacity);R instanceof pb||(R=fc(R));if(!R)return new T;if(R instanceof T)return R;R=R.rgb();var r=R.r/255,da=R.g/255,za=R.b/255,Da=Math.min(r,
da,za),Oa=Math.max(r,da,za),kb=NaN,Ub=Oa-Da,Eb=(Oa+Da)/2;Ub?(kb=r===Oa?(da-za)/Ub+6*(da<za):da===Oa?(za-r)/Ub+2:(r-da)/Ub+4,Ub/=.5>Eb?Oa+Da:2-Oa-Da,kb*=60):Ub=0<Eb&&1>Eb?0:kb;return new T(kb,Ub,Eb,R.opacity)}function T(R,r,da,za){this.h=+R;this.s=+r;this.l=+da;this.opacity=+za}function ba(R){R=(R||0)%360;return 0>R?R+360:R}function ea(R){return Math.max(0,Math.min(1,R||0))}function ja(R,r,da){return 255*(60>R?r+(da-r)*R/60:180>R?da:240>R?r+(da-r)*(240-R)/60:r)}function Ma(R,r){return function(da){return R+
da*r}}function oa(R,r,da){return R=Math.pow(R,da),r=Math.pow(r,da)-R,da=1/da,function(za){return Math.pow(R+za*r,da)}}function qa(R){return 1===(R=+R)?l:function(r,da){return da-r?oa(r,da,R):Ac(isNaN(r)?da:r)}}function l(R,r){var da=r-R;return da?Ma(R,da):Ac(isNaN(R)?r:R)}function D(R,r){r||(r=[]);var da=R?Math.min(r.length,R.length):0,za=r.slice(),Da;return function(Oa){for(Da=0;Da<da;++Da)za[Da]=R[Da]*(1-Oa)+r[Da]*Oa;return za}}function K(R,r){var da=r?r.length:0,za=R?Math.min(da,R.length):0,Da=
Array(za),Oa=Array(da),kb;for(kb=0;kb<za;++kb)Da[kb]=z(R[kb],r[kb]);for(;kb<da;++kb)Oa[kb]=r[kb];return function(Ub){for(kb=0;kb<za;++kb)Oa[kb]=Da[kb](Ub);return Oa}}function v(R,r){var da=new Date;return R=+R,r=+r,function(za){return da.setTime(R*(1-za)+r*za),da}}function Q(R,r){return R=+R,r=+r,function(da){return R*(1-da)+r*da}}function A(R,r){var da={},za={},Da;if(null===R||"object"!==typeof R)R={};if(null===r||"object"!==typeof r)r={};for(Da in r)Da in R?da[Da]=z(R[Da],r[Da]):za[Da]=r[Da];return function(Oa){for(Da in da)za[Da]=
da[Da](Oa);return za}}function W(R){return function(){return R}}function G(R){return function(r){return R(r)+""}}function w(R,r){var da=Vc.lastIndex=na.lastIndex=0,za,Da,Oa,kb=-1,Ub=[],Eb=[];R+="";for(r+="";(za=Vc.exec(R))&&(Da=na.exec(r));)(Oa=Da.index)>da&&(Oa=r.slice(da,Oa),Ub[kb]?Ub[kb]+=Oa:Ub[++kb]=Oa),(za=za[0])===(Da=Da[0])?Ub[kb]?Ub[kb]+=Da:Ub[++kb]=Da:(Ub[++kb]=null,Eb.push({i:kb,x:Q(za,Da)})),da=na.lastIndex;da<r.length&&(Oa=r.slice(da),Ub[kb]?Ub[kb]+=Oa:Ub[++kb]=Oa);return 2>Ub.length?
Eb[0]?G(Eb[0].x):W(r):(r=Eb.length,function(Ib){for(var Cc=0,Hc;Cc<r;++Cc)Ub[(Hc=Eb[Cc]).i]=Hc.x(Ib);return Ub.join("")})}function z(R,r){var da=typeof r;if(null==r||"boolean"===da)R=Ac(r);else{if("number"===da)var za=Q;else"string"===da?da=(za=fc(r))?(r=za,nd):w:(r instanceof fc?za=nd:r instanceof Date?za=v:(za=r,za=!ArrayBuffer.isView(za)||za instanceof DataView?Array.isArray(r)?K:"function"!==typeof r.valueOf&&"function"!==typeof r.toString||isNaN(r)?A:Q:D),da=za),za=da;R=za(R,r)}return R}function F(R,
r){return R=+R,r=+r,function(da){return Math.round(R*(1-da)+r*da)}}function V(R){return ka.isContinuous(R)&&R!==ka.Sequential}function ta(R){h.Transform.call(this,null,R);this.modified(!0)}function N(R,r,da){ka.isLogarithmic(R)&&Math.abs(r.reduce((za,Da)=>za+(0>Da?-1:0<Da?1:0),0))!==r.length&&da.warn("Log scale domain includes zero: "+Ya.stringValue(r));return r}function la(R,r,da){return Ya.isFunction(R)&&(r||da)?ka.interpolateRange(R,wa(r||[0,1],da)):R}function wa(R,r){return r?R.slice().reverse():
R}function Na(R){h.Transform.call(this,null,R)}function Pa(R){h.Transform.call(this,null,R)}function Xa(R,r,da,za,Da){r=(r-R.sum)/2;for(var Oa=R.length,kb=0,Ub;kb<Oa;++kb)Ub=R[kb],Ub[za]=r,Ub[Da]=r+=Math.abs(da(Ub))}function sb(R,r,da,za,Da){r=1/R.sum;for(var Oa=0,kb=R.length,Ub=0,Eb=0,Ib;Ub<kb;++Ub)Ib=R[Ub],Ib[za]=Oa,Ib[Da]=Oa=r*(Eb+=Math.abs(da(Ib)))}function ib(R,r,da,za,Da){for(var Oa=r=0,kb=R.length,Ub=0,Eb,Ib;Ub<kb;++Ub)Ib=R[Ub],Eb=+da(Ib),0>Eb?(Ib[za]=Oa,Ib[Da]=Oa+=Eb):(Ib[za]=r,Ib[Da]=r+=
Eb)}function Sb(R,r,da,za){var Da=[],Oa=Nc=>Nc(Ib),kb;if(null==r)Da.push(R.slice());else{var Ub={};var Eb=0;for(kb=R.length;Eb<kb;++Eb){var Ib=R[Eb];var Cc=r.map(Oa);var Hc=Ub[Cc];Hc||(Ub[Cc]=Hc=[],Da.push(Hc));Hc.push(Ib)}}Oa=Cc=0;for(R=Da.length;Cc<R;++Cc){Hc=Da[Cc];r=Eb=0;for(kb=Hc.length;Eb<kb;++Eb)r+=Math.abs(za(Hc[Eb]));Hc.sum=r;r>Oa&&(Oa=r);da&&Hc.sort(da)}Da.max=Oa;return Da}Ya.inherits(ub,h.Transform,{transform(R,r){if(this.value&&!R.modified())return r.StopPropagation;var da=r.dataflow.locale();
r=r.fork(r.NO_SOURCE|r.NO_FIELDS);var za=this.value,Da=R.scale,Oa=ka.tickCount(Da,null==R.count?R.values?R.values.length:10:R.count,R.minstep),kb=R.format||ka.tickFormat(da,Da,Oa,R.formatSpecifier,R.formatType,!!R.values),Ub=R.values?ka.validTicks(Da,R.values,Oa):ka.tickValues(Da,Oa);za&&(r.rem=za);za=Ub.map((Eb,Ib)=>h.ingest({index:Ib/(Ub.length-1||1),value:Eb,label:kb(Eb)}));R.extra&&za.length&&za.push(h.ingest({index:-1,extra:{value:za[0].value},label:""}));r.source=za;this.value=r.add=za;return r}});
Ya.inherits(Yb,h.Transform,{transform(R,r){var da=r.dataflow,za=r.fork(r.NO_SOURCE|r.NO_FIELDS),Da=R.item||dc,Oa=R.key||h.tupleid,kb=this.value;Ya.isArray(za.encode)&&(za.encode=null);kb&&(R.modified("key")||r.modified(Oa))&&Ya.error("DataJoin does not support modified key function or fields.");kb||(r=r.addAll(),this.value=kb=Wb(Oa));r.visit(r.ADD,Ub=>{const Eb=Oa(Ub);let Ib=kb.get(Eb);Ib?Ib.exit?(kb.empty--,za.add.push(Ib)):za.mod.push(Ib):(Ib=Da(Ub),kb.set(Eb,Ib),za.add.push(Ib));Ib.datum=Ub;Ib.exit=
!1});r.visit(r.MOD,Ub=>{var Eb=Oa(Ub);if(Eb=kb.get(Eb))Eb.datum=Ub,za.mod.push(Eb)});r.visit(r.REM,Ub=>{var Eb=Oa(Ub);Eb=kb.get(Eb);Ub!==Eb.datum||Eb.exit||(za.rem.push(Eb),Eb.exit=!0,++kb.empty)});r.changed(r.ADD_MOD)&&za.modifies("datum");(r.clean()||R.clean&&kb.empty>da.cleanThreshold)&&da.runAfter(kb.clean);return za}});Ya.inherits(oc,h.Transform,{transform(R,r){var da=r.fork(r.ADD_REM),za=R.mod||!1,Da=R.encoders,Oa=r.encode;if(Ya.isArray(Oa))if(da.changed()||Oa.every(Hc=>Da[Hc]))Oa=Oa[0],da.encode=
null;else return r.StopPropagation;var kb="enter"===Oa,Ub=Da.update||Ya.falsy,Eb=Da.enter||Ya.falsy,Ib=Da.exit||Ya.falsy,Cc=(Oa&&!kb?Da[Oa]:Ub)||Ya.falsy;r.changed(r.ADD)&&(r.visit(r.ADD,Hc=>{Eb(Hc,R);Ub(Hc,R)}),da.modifies(Eb.output),da.modifies(Ub.output),Cc!==Ya.falsy&&Cc!==Ub&&(r.visit(r.ADD,Hc=>{Cc(Hc,R)}),da.modifies(Cc.output)));r.changed(r.REM)&&Ib!==Ya.falsy&&(r.visit(r.REM,Hc=>{Ib(Hc,R)}),da.modifies(Ib.output));if(kb||Cc!==Ya.falsy)Oa=r.MOD|(R.modified()?r.REFLOW:0),kb?(r.visit(Oa,Hc=>
{const Nc=Eb(Hc,R)||za;(Cc(Hc,R)||Nc)&&da.mod.push(Hc)}),da.mod.length&&da.modifies(Eb.output)):r.visit(Oa,Hc=>{(Cc(Hc,R)||za)&&da.mod.push(Hc)}),da.mod.length&&da.modifies(Cc.output);return da.changed()?da:r.StopPropagation}});Ya.inherits(Ab,h.Transform,{transform(R,r){if(null!=this.value&&!R.modified())return r.StopPropagation;var da=r.dataflow.locale(),za=r.fork(r.NO_SOURCE|r.NO_FIELDS),Da=this.value,Oa=R.type||ka.SymbolLegend,kb=R.scale,Ub=+R.limit,Eb=ka.tickCount(kb,null==R.count?5:R.count,R.minstep),
Ib=!!R.values||Oa===ka.SymbolLegend,Cc=R.format||ka.labelFormat(da,kb,Eb,Oa,R.formatSpecifier,R.formatType,Ib),Hc=R.values||ka.labelValues(kb,Eb),Nc;Da&&(za.rem=Da);if(Oa===ka.SymbolLegend){if(Ub&&Hc.length>Ub){r.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Da=Hc.slice(0,Ub-1);var xd=!0}else Da=Hc;if(Ya.isFunction(Nc=R.size)){R.values||0!==kb(Da[0])||(Da=Da.slice(1));var sd=Da.reduce((Id,Gd)=>Math.max(Id,Nc(Gd,R)),0)}else Nc=Ya.constant(sd=Nc||8);Da=Da.map((Id,Gd)=>h.ingest({index:Gd,
label:Cc(Id,Gd,Da),value:Id,offset:sd,size:Nc(Id,R)}));xd&&(xd=Hc[Da.length],Da.push(h.ingest({index:Da.length,label:`\u2026${Hc.length-Da.length} entries`,value:xd,offset:sd,size:Nc(xd,R)})))}else if(Oa===ka.GradientLegend){r=kb.domain();var ed=ka.scaleFraction(kb,r[0],Ya.peek(r));3>Hc.length&&!R.values&&r[0]!==Ya.peek(r)&&(Hc=[r[0],Ya.peek(r)]);Da=Hc.map((Id,Gd)=>h.ingest({index:Gd,label:Cc(Id,Gd,Hc),value:Id,perc:ed(Id)}))}else Nc=Hc.length-1,ed=ka.labelFraction(kb),Da=Hc.map((Id,Gd)=>h.ingest({index:Gd,
label:Cc(Id,Gd,Hc),value:Id,perc:Gd?ed(Id):0,perc2:Gd===Nc?1:ed(Hc[Gd+1])}));za.source=Da;this.value=za.add=Da;return za}});const X=R=>R.source.x,Fa=R=>R.source.y,Kb=R=>R.target.x,pc=R=>R.target.y;Tb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",
values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Ya.inherits(Tb,h.Transform,{transform(R,r){var da=R.sourceX||X,za=R.sourceY||Fa,Da=R.targetX||Kb,Oa=R.targetY||pc,kb=R.as||"path",Ub=R.shape||"line",Eb=yc.get(Ub+"-"+(R.orient||"vertical"))||yc.get(Ub);Eb||Ya.error("LinkPath unsupported type: "+R.shape+(R.orient?"-"+R.orient:""));r.visit(r.SOURCE,
Ib=>{Ib[kb]=Eb(da(Ib),za(Ib),Da(Ib),Oa(Ib))});return r.reflow(R.modified()).modifies(kb)}});const $b=(R,r,da,za)=>"M"+R+","+r+"L"+da+","+za,Mb=(R,r,da,za)=>{var Da=da-R,Oa=za-r,kb=Math.hypot(Da,Oa)/2;return"M"+R+","+r+"A"+kb+","+kb+" "+180*Math.atan2(Oa,Da)/Math.PI+" 0 1 "+da+","+za},Ob=(R,r,da,za)=>{var Da=da-R;const Oa=za-r,kb=.2*(Da+Oa);Da=.2*(Oa-Da);return"M"+R+","+r+"C"+(R+kb)+","+(r+Da)+" "+(da+Da)+","+(za-kb)+" "+da+","+za},yc=Ya.fastmap({line:$b,"line-radial":(R,r,da,za)=>$b(r*Math.cos(R),
r*Math.sin(R),za*Math.cos(da),za*Math.sin(da)),arc:Mb,"arc-radial":(R,r,da,za)=>Mb(r*Math.cos(R),r*Math.sin(R),za*Math.cos(da),za*Math.sin(da)),curve:Ob,"curve-radial":(R,r,da,za)=>Ob(r*Math.cos(R),r*Math.sin(R),za*Math.cos(da),za*Math.sin(da)),"orthogonal-horizontal":(R,r,da,za)=>"M"+R+","+r+"V"+za+"H"+da,"orthogonal-vertical":(R,r,da,za)=>"M"+R+","+r+"H"+da+"V"+za,"orthogonal-radial":(R,r,da,za)=>{const Da=Math.cos(da),Oa=Math.sin(da);return"M"+r*Math.cos(R)+","+r*Math.sin(R)+"A"+r+","+r+" 0 0,"+
((Math.abs(da-R)>Math.PI?da<=R:da>R)?1:0)+" "+r*Da+","+r*Oa+"L"+za*Da+","+za*Oa},"diagonal-horizontal":(R,r,da,za)=>{const Da=(R+da)/2;return"M"+R+","+r+"C"+Da+","+r+" "+Da+","+za+" "+da+","+za},"diagonal-vertical":(R,r,da,za)=>{const Da=(r+za)/2;return"M"+R+","+r+"C"+R+","+Da+" "+da+","+Da+" "+da+","+za},"diagonal-radial":(R,r,da,za)=>{const Da=Math.cos(R);R=Math.sin(R);const Oa=Math.cos(da);da=Math.sin(da);const kb=(r+za)/2;return"M"+r*Da+","+r*R+"C"+kb*Da+","+kb*R+" "+kb*Oa+","+kb*da+" "+za*Oa+
","+za*da}});Za.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Ya.inherits(Za,h.Transform,{transform(R,r){var da=R.as||["startAngle","endAngle"],za=da[0],Da=da[1],Oa=R.startAngle||0,kb=null!=R.endAngle?R.endAngle:2*Math.PI,Ub=r.source,Eb=
Ub.map(R.field||Ya.one),Ib=Eb.length,Cc=Oa;Oa=(kb-Oa)/Ea(Eb);kb=jc(Ib);var Hc;R.sort&&kb.sort((sd,ed)=>Eb[sd]-Eb[ed]);for(Hc=0;Hc<Ib;++Hc){var Nc=Eb[kb[Hc]];var xd=Ub[kb[Hc]];xd[za]=Cc;xd[Da]=Cc+=Nc*Oa}this.value=Eb;return r.reflow(R.modified()).modifies(da)}});var hd=1/.7,ra=/^#([0-9a-f]{3,8})$/,Bb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ua=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
xb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Lb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Zb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ic={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(pb,fc,{copy(R){return Object.assign(new this.constructor,this,R)},displayable(){return this.rgb().displayable()},hex:vb,formatHex:vb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return db(this).formatHsl()},formatRgb:gb,toString:gb});tb(Sa,Ba,rb(pb,{brighter(R){R=null==R?hd:Math.pow(hd,R);return new Sa(this.r*R,this.g*R,this.b*R,this.opacity)},darker(R){R=null==R?.7:Math.pow(.7,R);return new Sa(this.r*R,this.g*R,this.b*R,this.opacity)},rgb(){return this},clamp(){return new Sa($a(this.r),$a(this.g),$a(this.b),hb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Wa,formatHex:Wa,formatHex8:function(){return`#${qb(this.r)}${qb(this.g)}${qb(this.b)}${qb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ha,toString:Ha}));tb(T,function(R,r,da,za){return 1===arguments.length?db(R):new T(R,r,da,null==za?1:za)},rb(pb,{brighter(R){R=null==R?hd:Math.pow(hd,R);return new T(this.h,this.s,this.l*R,this.opacity)},darker(R){R=null==R?.7:Math.pow(.7,R);return new T(this.h,this.s,this.l*R,this.opacity)},
rgb(){var R=this.h%360+360*(0>this.h),r=isNaN(R)||isNaN(this.s)?0:this.s,da=this.l;r=da+(.5>da?da:1-da)*r;da=2*da-r;return new Sa(ja(240<=R?R-240:R+120,da,r),ja(R,da,r),ja(120>R?R+240:R-120,da,r),this.opacity)},clamp(){return new T(ba(this.h),ea(this.s),ea(this.l),hb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const R=hb(this.opacity);return`${1===R?"hsl(":"hsla("}${ba(this.h)}, ${100*ea(this.s)}%, ${100*
ea(this.l)}%${1===R?")":`, ${R})`}`}}));var Ac=R=>()=>R,nd=function da(r){function za(Oa,kb){var Ub=Da((Oa=Ba(Oa)).r,(kb=Ba(kb)).r),Eb=Da(Oa.g,kb.g),Ib=Da(Oa.b,kb.b),Cc=l(Oa.opacity,kb.opacity);return function(Hc){Oa.r=Ub(Hc);Oa.g=Eb(Hc);Oa.b=Ib(Hc);Oa.opacity=Cc(Hc);return Oa+""}}var Da=qa(r);za.gamma=da;return za}(1),Vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(Vc.source,"g");const Ia=Ya.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Ya.inherits(ta,h.Transform,{transform(r,da){var za=da.dataflow,Da=this.value;var Oa=r.type;var kb="";if(Oa===ka.Sequential)Oa=ka.Sequential+"-"+ka.Linear;else{var Ub=r.type;ka.isContinuous(Ub)&&Ub!==ka.Time&&Ub!==ka.UTC&&(r.scheme||r.range&&r.range.length&&r.range.every(Ya.isString))&&(kb=r.rawDomain?r.rawDomain.length:r.domain?r.domain.length+ +(null!=r.domainMid):0,kb=2===kb?ka.Sequential+"-":3===kb?ka.Diverging+"-":"");Oa=(kb+Oa||ka.Linear).toLowerCase()}Da&&Oa===Da.type||(this.value=Da=ka.scale(Oa)());
for(Oa in r)Ia[Oa]||"padding"===Oa&&V(Da.type)||(Ya.isFunction(Da[Oa])?Da[Oa](r[Oa]):za.warn("Unsupported scale property: "+Oa));kb=Oa=Da;(Ub=r.domainRaw)?(Da.domain(N(Da.type,Ub,za)),Ub=Ub.length):Ub=-1;if(-1<Ub)za=Ub;else{var Eb=r.domain;Ub=Da.type;var Ib;!(Ib=r.zero)&&(Ib=void 0===r.zero)&&(Ib=Da.type,Ib=!Da.bins&&(Ib===ka.Linear||Ib===ka.Pow||Ib===ka.Sqrt));if(Eb){if(V(Ub)&&r.padding&&Eb[0]!==Ya.peek(Eb)){var Cc=r.range,Hc=r.padding;var Nc=r.exponent;var xd=r.constant;Cc=Math.abs(Ya.peek(Cc)-
Cc[0]);Hc=Cc/(Cc-2*Hc);Nc=Ub===ka.Log?Ya.zoomLog(Eb,null,Hc):Ub===ka.Sqrt?Ya.zoomPow(Eb,null,Hc,.5):Ub===ka.Pow?Ya.zoomPow(Eb,null,Hc,Nc||1):Ub===ka.Symlog?Ya.zoomSymlog(Eb,null,Hc,xd||1):Ya.zoomLinear(Eb,null,Hc);Eb=Eb.slice();Eb[0]=Nc[0];Eb[Eb.length-1]=Nc[1]}if(Ib||null!=r.domainMin||null!=r.domainMax||null!=r.domainMid)Nc=(Eb=Eb.slice()).length-1||1,Ib&&(0<Eb[0]&&(Eb[0]=0),0>Eb[Nc]&&(Eb[Nc]=0)),null!=r.domainMin&&(Eb[0]=r.domainMin),null!=r.domainMax&&(Eb[Nc]=r.domainMax),null!=r.domainMid&&(Ib=
r.domainMid,xd=Ib>Eb[Nc]?Nc+1:Ib<Eb[0]?0:Nc,xd!==Nc&&za.warn("Scale domainMid exceeds domain min or max.",Ib),Eb.splice(xd,0,Ib));Da.domain(N(Ub,Eb,za));Ub===ka.Ordinal&&Da.unknown(r.domainImplicit?ka.scaleImplicit:void 0);r.nice&&Da.nice&&Da.nice(!0!==r.nice&&ka.tickCount(Da,r.nice)||null);za=Eb.length}else za=0}(Ub=r.bins)&&!Ya.isArray(Ub)&&(Ib=kb.domain(),Da=Ib[0],Ib=Ya.peek(Ib),Eb=Ub.step,Nc=null==Ub.start?Da:Ub.start,Ub=null==Ub.stop?Ib:Ub.stop,Eb||Ya.error("Scale bins parameter missing step property."),
Nc<Da&&(Nc=Eb*Math.ceil(Da/Eb)),Ub>Ib&&(Ub=Eb*Math.floor(Ib/Eb)),Ub=jc(Nc,Ub+Eb/2,Eb));Ub?kb.bins=Ub:kb.bins&&delete kb.bins;kb.type===ka.BinOrdinal&&(Ub?r.domain||r.domainRaw||(kb.domain(Ub),za=Ub.length):kb.bins=kb.domain());Da=za;a:{kb=Oa.type;za=r.round||!1;Ub=r.range;if(null!=r.rangeStep)kb!==ka.Band&&kb!==ka.Point&&Ya.error("Only band and point scales support rangeStep."),Ub=[0,r.rangeStep*ka.bandSpace(Da,kb===ka.Point?1:(null!=r.paddingInner?r.paddingInner:r.padding)||0,(null!=r.paddingOuter?
r.paddingOuter:r.padding)||0)];else if(r.scheme&&(Ub=r.schemeExtent,Ya.isArray(r.scheme)?Ib=ka.interpolateColors(r.scheme,r.interpolate,r.interpolateGamma):(Ib=r.scheme.toLowerCase(),(Ib=ka.scheme(Ib))||Ya.error(`Unrecognized scheme name: ${r.scheme}`)),Da=kb===ka.Threshold?Da+1:kb===ka.BinOrdinal?Da-1:kb===ka.Quantile||kb===ka.Quantize?+r.schemeCount||5:Da,Ub=ka.isInterpolating(kb)?la(Ib,Ub,r.reverse):Ya.isFunction(Ib)?ka.quantizeInterpolator(la(Ib,Ub),Da):kb===ka.Ordinal?Ib:Ib.slice(0,Da),Ya.isFunction(Ub)))if(Oa.interpolator){Oa.interpolator(Ub);
break a}else Ya.error(`Scale type ${kb} does not support interpolating color schemes.`);Ub&&ka.isInterpolating(kb)?Oa.interpolator(ka.interpolateColors(wa(Ub,r.reverse),r.interpolate,r.interpolateGamma)):(Ub&&r.interpolate&&Oa.interpolate?Oa.interpolate(ka.interpolate(r.interpolate,r.interpolateGamma)):Ya.isFunction(Oa.round)?Oa.round(za):Ya.isFunction(Oa.rangeRound)&&Oa.interpolate(za?F:z),Ub&&Oa.range(wa(Ub,r.reverse)))}return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});Ya.inherits(Na,h.Transform,{transform(r,
da){const za=r.modified("sort")||da.changed(da.ADD)||da.modified(r.sort.fields)||da.modified("datum");za&&da.source.sort(h.stableCompare(r.sort));this.modified(za);return da}});const fb=["y0","y1"];Pa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":fb}]};Ya.inherits(Pa,
h.Transform,{transform(r,da){var za=r.as||fb,Da=za[0],Oa=za[1],kb=h.stableCompare(r.sort),Ub=r.field||Ya.one,Eb="center"===r.offset?Xa:"normalize"===r.offset?sb:ib,Ib;kb=Sb(da.source,r.groupby,kb,Ub);var Cc=0;var Hc=kb.length;for(Ib=kb.max;Cc<Hc;++Cc)Eb(kb[Cc],Ib,Ub,Da,Oa);return da.reflow(r.modified()).modifies(za)}});t.axisticks=ub;t.datajoin=Yb;t.encode=oc;t.legendentries=Ab;t.linkpath=Tb;t.pie=Za;t.scale=ta;t.sortitems=Na;t.stack=Pa})};
shadow$provide[37]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega))})(this,function(t,h){function*ka(p){for(const P of p)yield*P}function Ya(p){return 1<p?0:-1>p?Ib:Math.acos(p)}function ub(p){return 1<p?Cc:-1>p?-Cc:Math.asin(p)}function Yb(){}function dc(p,P){if(p&&ec.hasOwnProperty(p.type))ec[p.type](p,
P)}function Wb(p,P,Y){var pa=-1;Y=p.length-Y;for(P.lineStart();++pa<Y;){var va=p[pa];P.point(va[0],va[1],va[2])}P.lineEnd()}function oc(p,P){var Y=-1,pa=p.length;for(P.polygonStart();++Y<pa;)Wb(p[Y],P,1);P.polygonEnd()}function Ab(p,P){if(p&&wb.hasOwnProperty(p.type))wb[p.type](p,P);else dc(p,P)}function Tb(p){return[Gd(p[1],p[0]),ub(p[2])]}function jc(p){var P=p[0];p=p[1];var Y=vd(p);return[Y*vd(P),Y*I(P),I(p)]}function Ea(p,P){return p[0]*P[0]+p[1]*P[1]+p[2]*P[2]}function Za(p,P){return[p[1]*P[2]-
p[2]*P[1],p[2]*P[0]-p[0]*P[2],p[0]*P[1]-p[1]*P[0]]}function tb(p,P){p[0]+=P[0];p[1]+=P[1];p[2]+=P[2]}function rb(p,P){return[p[0]*P,p[1]*P,p[2]*P]}function pb(p){var P=Ja(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]);p[0]/=P;p[1]/=P;p[2]/=P}function vb(p,P){function Y(pa,va){return pa=p(pa,va),P(pa[0],pa[1])}p.invert&&P.invert&&(Y.invert=function(pa,va){return pa=P.invert(pa,va),pa&&p.invert(pa[0],pa[1])});return Y}function gb(p,P){ed(p)>Ib&&(p-=Math.round(p/Nc)*Nc);return[p,P]}function fc(p,P,Y){return(p%=Nc)?
P||Y?vb(ia(p),Ba(P,Y)):ia(p):P||Y?Ba(P,Y):gb}function sa(p){return function(P,Y){P+=p;ed(P)>Ib&&(P-=Math.round(P/Nc)*Nc);return[P,Y]}}function ia(p){var P=sa(p);P.invert=sa(-p);return P}function Ba(p,P){function Y(Xb,cc){var nc=vd(cc),tc=vd(Xb)*nc;Xb=I(Xb)*nc;cc=I(cc);nc=cc*pa+tc*va;return[Gd(Xb*Cb-nc*Hb,tc*pa-cc*va),ub(nc*Cb+Xb*Hb)]}var pa=vd(p),va=I(p),Cb=vd(P),Hb=I(P);Y.invert=function(Xb,cc){var nc=vd(cc),tc=vd(Xb)*nc;Xb=I(Xb)*nc;cc=I(cc);nc=cc*Cb-Xb*Hb;return[Gd(Xb*Cb+cc*Hb,tc*pa+nc*va),ub(nc*
pa-tc*va)]};return Y}function Sa(p){function P(Y){Y=p(Y[0]*sd,Y[1]*sd);return Y[0]*=xd,Y[1]*=xd,Y}p=fc(p[0]*sd,p[1]*sd,2<p.length?p[2]*sd:0);P.invert=function(Y){Y=p.invert(Y[0]*sd,Y[1]*sd);return Y[0]*=xd,Y[1]*=xd,Y};return P}function Wa(p,P){P=jc(P);P[0]-=p;pb(P);p=Ya(-P[1]);return((0>-P[2]?-p:p)+Nc-1E-6)%Nc}function Ha(){var p=[],P;return{point:function(Y,pa,va){P.push([Y,pa,va])},lineStart:function(){p.push(P=[])},lineEnd:Yb,rejoin:function(){1<p.length&&p.push(p.pop().concat(p.shift()))},result:function(){var Y=
p;p=[];P=null;return Y}}}function hb(p,P){return 1E-6>ed(p[0]-P[0])&&1E-6>ed(p[1]-P[1])}function $a(p,P,Y,pa){this.x=p;this.z=P;this.o=Y;this.e=pa;this.v=!1;this.n=this.p=null}function qb(p,P,Y,pa,va){var Cb=[],Hb=[];p.forEach(function(wc){if(!(0>=(Ic=wc.length-1))){var Ic,Zc=wc[0],Yc=wc[Ic];if(hb(Zc,Yc)){if(!Zc[2]&&!Yc[2]){va.lineStart();for(Xb=0;Xb<Ic;++Xb)va.point((Zc=wc[Xb])[0],Zc[1]);va.lineEnd();return}Yc[0]+=2E-6}Cb.push(Ic=new $a(Zc,wc,null,!0));Hb.push(Ic.o=new $a(Zc,null,Ic,!1));Cb.push(Ic=
new $a(Yc,wc,null,!1));Hb.push(Ic.o=new $a(Yc,null,Ic,!0))}});if(Cb.length){Hb.sort(P);Nb(Cb);Nb(Hb);var Xb=0;for(p=Hb.length;Xb<p;++Xb)Hb[Xb].e=Y=!Y;Y=Cb[0];for(var cc;;){for(var nc=Y,tc=!0;nc.v;)if((nc=nc.n)===Y)return;P=nc.z;va.lineStart();do{nc.v=nc.o.v=!0;if(nc.e){if(tc)for(Xb=0,p=P.length;Xb<p;++Xb)va.point((cc=P[Xb])[0],cc[1]);else pa(nc.x,nc.n.x,1,va);nc=nc.n}else{if(tc)for(P=nc.p.z,Xb=P.length-1;0<=Xb;--Xb)va.point((cc=P[Xb])[0],cc[1]);else pa(nc.x,nc.p.x,-1,va);nc=nc.p}nc=nc.o;P=nc.z;tc=
!tc}while(!nc.v);va.lineEnd()}}}function Nb(p){if(P=p.length){for(var P,Y=0,pa=p[0],va;++Y<P;)pa.n=va=p[Y],va.p=pa,pa=va;pa.n=va=p[0];va.p=pa}}function db(p){return ed(p[0])<=Ib?p[0]:xa(p[0])*((ed(p[0])+Ib)%Nc-Ib)}function T(p,P,Y,pa){return function(va){function Cb($c,Ad){p($c,Ad)&&va.point($c,Ad)}function Hb($c,Ad){Ic.point($c,Ad)}function Xb(){ue.point=Hb;Ic.lineStart()}function cc(){ue.point=Cb;Ic.lineEnd()}function nc($c,Ad){Ud.push([$c,Ad]);Yc.point($c,Ad)}function tc(){Yc.lineStart();Ud=[]}
function wc(){nc(Ud[0][0],Ud[0][1]);Yc.lineEnd();var $c=Yc.clean(),Ad=Zc.result(),Yd=Ad.length,$d;Ud.pop();Sd.push(Ud);Ud=null;if(Yd)if($c&1){if(Yd=Ad[0],0<(Ad=Yd.length-1)){jd||(va.polygonStart(),jd=!0);va.lineStart();for($c=0;$c<Ad;++$c)va.point(($d=Yd[$c])[0],$d[1]);va.lineEnd()}}else 1<Yd&&$c&2&&Ad.push(Ad.pop().concat(Ad.shift())),Rc.push(Ad.filter(ba))}var Ic=P(va),Zc=Ha(),Yc=P(Zc),jd=!1,Sd,Rc,Ud,ue={point:Cb,lineStart:Xb,lineEnd:cc,polygonStart:function(){ue.point=nc;ue.lineStart=tc;ue.lineEnd=
wc;Rc=[];Sd=[]},polygonEnd:function(){ue.point=Cb;ue.lineStart=Xb;ue.lineEnd=cc;Rc=Array.from(ka(Rc));var $c=Sd;var Ad=db(pa),Yd=pa[1],$d=I(Yd),ye=[I(Ad),-vd(Ad),0],Rd=0,Vd=0,ve=new Eb;1===$d?Yd=Cc+1E-6:-1===$d&&(Yd=-Cc-1E-6);$d=0;for(var Ne=$c.length;$d<Ne;++$d)if(Sf=(Se=$c[$d]).length){var Se,Sf,td=Se[Sf-1],Oe=db(td),Df=td[1]/2+Hc,pf=I(Df),lg=vd(Df);for(Df=0;Df<Sf;++Df,Oe=Ze,pf=Tf,lg=qf,td=Kf){var Kf=Se[Df],Ze=db(Kf);qf=Kf[1]/2+Hc;var Tf=I(qf),qf=vd(qf),vf=Ze-Oe,Ff=0<=vf?1:-1,jf=Ff*vf,gg=jf>Ib;
pf*=Tf;ve.add(Gd(pf*Ff*I(jf),lg*qf+pf*vd(jf)));Rd+=gg?vf+Ff*Nc:vf;gg^Oe>=Ad^Ze>=Ad&&(td=Za(jc(td),jc(Kf)),pb(td),Oe=Za(ye,td),pb(Oe),Oe=(gg^0<=vf?-1:1)*ub(Oe[2]),Yd>Oe||Yd===Oe&&(td[0]||td[1]))&&(Vd+=gg^0<=vf?1:-1)}}$c=(-1E-6>Rd||1E-6>Rd&&-1E-12>ve)^Vd&1;Rc.length?(jd||(va.polygonStart(),jd=!0),qb(Rc,ea,$c,Y,va)):$c&&(jd||(va.polygonStart(),jd=!0),va.lineStart(),Y(null,null,1,va),va.lineEnd());jd&&(va.polygonEnd(),jd=!1);Rc=Sd=null},sphere:function(){va.polygonStart();va.lineStart();Y(null,null,1,
va);va.lineEnd();va.polygonEnd()}};return ue}}function ba(p){return 1<p.length}function ea(p,P){return(0>(p=p.x)[0]?p[1]-Cc-1E-6:Cc-p[1])-(0>(P=P.x)[0]?P[1]-Cc-1E-6:Cc-P[1])}function ja(p){function P(cc,nc){return vd(cc)*vd(nc)>va}function Y(cc,nc,tc){var wc=jc(cc),Ic=jc(nc),Zc=[1,0,0];Ic=Za(wc,Ic);var Yc=Ea(Ic,Ic);wc=Ic[0];var jd=Yc-wc*wc;if(!jd)return!tc&&cc;Yc=va*Yc/jd;jd=-va*wc/jd;wc=Za(Zc,Ic);Zc=rb(Zc,Yc);Ic=rb(Ic,jd);tb(Zc,Ic);Ic=Ea(Zc,wc);Yc=Ea(wc,wc);jd=Ic*Ic-Yc*(Ea(Zc,Zc)-1);if(!(0>jd)){var Sd=
Ja(jd);jd=rb(wc,(-Ic-Sd)/Yc);tb(jd,Zc);jd=Tb(jd);if(!tc)return jd;tc=cc[0];var Rc=nc[0];cc=cc[1];nc=nc[1];if(Rc<tc){var Ud=tc;tc=Rc;Rc=Ud}var ue=Rc-tc,$c=1E-6>ed(ue-Ib);!$c&&nc<cc&&(Ud=cc,cc=nc,nc=Ud);if($c||1E-6>ue?$c?0<cc+nc^jd[1]<(1E-6>ed(jd[0]-tc)?cc:nc):cc<=jd[1]&&jd[1]<=nc:ue>Ib^(tc<=jd[0]&&jd[0]<=Rc))return nc=rb(wc,(-Ic+Sd)/Yc),tb(nc,Zc),[jd,Tb(nc)]}}function pa(cc,nc){var tc=Hb?p:Ib-p,wc=0;cc<-tc?wc|=1:cc>tc&&(wc|=2);nc<-tc?wc|=4:nc>tc&&(wc|=8);return wc}var va=vd(p),Cb=6*sd,Hb=0<va,Xb=1E-6<
ed(va);return T(P,function(cc){var nc,tc,wc,Ic,Zc;return{lineStart:function(){Ic=wc=!1;Zc=1},point:function(Yc,jd){var Sd=[Yc,jd],Rc=P(Yc,jd);jd=Hb?Rc?0:pa(Yc,jd):Rc?pa(Yc+(0>Yc?Ib:-Ib),jd):0;!nc&&(Ic=wc=Rc)&&cc.lineStart();Rc!==wc&&(Yc=Y(nc,Sd),!Yc||hb(nc,Yc)||hb(Sd,Yc))&&(Sd[2]=1);if(Rc!==wc)Zc=0,Rc?(cc.lineStart(),Yc=Y(Sd,nc),cc.point(Yc[0],Yc[1])):(Yc=Y(nc,Sd),cc.point(Yc[0],Yc[1],2),cc.lineEnd()),nc=Yc;else if(Xb&&nc&&Hb^Rc){var Ud;jd&tc||!(Ud=Y(Sd,nc,!0))||(Zc=0,Hb?(cc.lineStart(),cc.point(Ud[0][0],
Ud[0][1]),cc.point(Ud[1][0],Ud[1][1]),cc.lineEnd()):(cc.point(Ud[1][0],Ud[1][1]),cc.lineEnd(),cc.lineStart(),cc.point(Ud[0][0],Ud[0][1],3)))}!Rc||nc&&hb(nc,Sd)||cc.point(Sd[0],Sd[1]);nc=Sd;wc=Rc;tc=jd},lineEnd:function(){wc&&cc.lineEnd();nc=null},clean:function(){return Zc|(Ic&&wc)<<1}}},function(cc,nc,tc,wc){var Ic=cc;if(Cb){cc=vd(p);var Zc=I(p),Yc=tc*Cb;if(null==Ic)Ic=p+tc*Nc,nc=p-Yc/2;else if(Ic=Wa(cc,Ic),nc=Wa(cc,nc),0<tc?Ic<nc:Ic>nc)Ic+=tc*Nc;for(var jd=Ic;0<tc?jd>nc:jd<nc;jd-=Yc)Ic=Tb([cc,-Zc*
vd(jd),-Zc*I(jd)]),wc.point(Ic[0],Ic[1])}},Hb?[0,-p]:[-Ib,p-Ib])}function Ma(p,P,Y,pa,va,Cb){var Hb=p[0],Xb=p[1],cc=0,nc=1,tc=P[0]-Hb,wc=P[1]-Xb;Y-=Hb;if(tc||!(0<Y)){Y/=tc;if(0>tc){if(Y<cc)return;Y<nc&&(nc=Y)}else if(0<tc){if(Y>nc)return;Y>cc&&(cc=Y)}Y=va-Hb;if(tc||!(0>Y)){Y/=tc;if(0>tc){if(Y>nc)return;Y>cc&&(cc=Y)}else if(0<tc){if(Y<cc)return;Y<nc&&(nc=Y)}Y=pa-Xb;if(wc||!(0<Y)){Y/=wc;if(0>wc){if(Y<cc)return;Y<nc&&(nc=Y)}else if(0<wc){if(Y>nc)return;Y>cc&&(cc=Y)}Y=Cb-Xb;if(wc||!(0>Y)){Y/=wc;if(0>
wc){if(Y>nc)return;Y>cc&&(cc=Y)}else if(0<wc){if(Y<cc)return;Y<nc&&(nc=Y)}0<cc&&(p[0]=Hb+cc*tc,p[1]=Xb+cc*wc);1>nc&&(P[0]=Hb+nc*tc,P[1]=Xb+nc*wc);return!0}}}}}function oa(p,P,Y,pa){function va(cc,nc,tc,wc){var Ic=0,Zc=0;if(null==cc||(Ic=Cb(cc,tc))!==(Zc=Cb(nc,tc))||0>Xb(cc,nc)^0<tc){do wc.point(0===Ic||3===Ic?p:Y,1<Ic?pa:P);while((Ic=(Ic+tc+4)%4)!==Zc)}else wc.point(nc[0],nc[1])}function Cb(cc,nc){return 1E-6>ed(cc[0]-p)?0<nc?0:3:1E-6>ed(cc[0]-Y)?0<nc?2:1:1E-6>ed(cc[1]-P)?0<nc?1:0:0<nc?3:2}function Hb(cc,
nc){return Xb(cc.x,nc.x)}function Xb(cc,nc){var tc=Cb(cc,1),wc=Cb(nc,1);return tc!==wc?tc-wc:0===tc?nc[1]-cc[1]:1===tc?cc[0]-nc[0]:2===tc?cc[1]-nc[1]:nc[0]-cc[0]}return function(cc){function nc(Rd,Vd){p<=Rd&&Rd<=Y&&P<=Vd&&Vd<=pa&&wc.point(Rd,Vd)}function tc(Rd,Vd){var ve=p<=Rd&&Rd<=Y&&P<=Vd&&Vd<=pa;Yc&&jd.push([Rd,Vd]);if(Yd)Sd=Rd,Rc=Vd,Ud=ve,Yd=!1,ve&&(wc.lineStart(),wc.point(Rd,Vd));else if(ve&&Ad)wc.point(Rd,Vd);else{var Ne=[ue=Math.max(-1E9,Math.min(1E9,ue)),$c=Math.max(-1E9,Math.min(1E9,$c))],
Se=[Rd=Math.max(-1E9,Math.min(1E9,Rd)),Vd=Math.max(-1E9,Math.min(1E9,Vd))];Ma(Ne,Se,p,P,Y,pa)?(Ad||(wc.lineStart(),wc.point(Ne[0],Ne[1])),wc.point(Se[0],Se[1]),ve||wc.lineEnd(),$d=!1):ve&&(wc.lineStart(),wc.point(Rd,Vd),$d=!1)}ue=Rd;$c=Vd;Ad=ve}var wc=cc,Ic=Ha(),Zc,Yc,jd,Sd,Rc,Ud,ue,$c,Ad,Yd,$d,ye={point:nc,lineStart:function(){ye.point=tc;Yc&&Yc.push(jd=[]);Yd=!0;Ad=!1;ue=$c=NaN},lineEnd:function(){Zc&&(tc(Sd,Rc),Ud&&Ad&&Ic.rejoin(),Zc.push(Ic.result()));ye.point=nc;Ad&&wc.lineEnd()},polygonStart:function(){wc=
Ic;Zc=[];Yc=[];$d=!0},polygonEnd:function(){for(var Rd,Vd=Rd=0,ve=Yc.length;Vd<ve;++Vd){var Ne=Yc[Vd],Se=1,Sf=Ne.length,td=Ne[0],Oe=td[0];for(td=td[1];Se<Sf;++Se){var Df=Oe;var pf=td;td=Ne[Se];Oe=td[0];td=td[1];pf<=pa?td>pa&&(Oe-Df)*(pa-pf)>(td-pf)*(p-Df)&&++Rd:td<=pa&&(Oe-Df)*(pa-pf)<(td-pf)*(p-Df)&&--Rd}}Vd=$d&&Rd;ve=(Zc=Array.from(ka(Zc))).length;if(Vd||ve)cc.polygonStart(),Vd&&(cc.lineStart(),va(null,null,1,cc),cc.lineEnd()),ve&&qb(Zc,Hb,Rd,va,cc),cc.polygonEnd();wc=cc;Zc=Yc=jd=null}};return ye}}
function qa(){kd.point=l}function l(p,P){kd.point=D;bd=qd=p;md=Fd=P}function D(p,P){zc.add(Fd*p-qd*P);qd=p;Fd=P}function K(){D(bd,md)}function v(p,P){df+=p;E+=P;++ca}function Q(){Md.point=A}function A(p,P){Md.point=W;v(Oc=p,Nd=P)}function W(p,P){var Y=p-Oc,pa=P-Nd;Y=Ja(Y*Y+pa*pa);Ga+=Y*(Oc+p)/2;eb+=Y*(Nd+P)/2;Gb+=Y;v(Oc=p,Nd=P)}function G(){Md.point=v}function w(){Md.point=F}function z(){V(fd,cd)}function F(p,P){Md.point=V;v(fd=Oc=p,cd=Nd=P)}function V(p,P){var Y=p-Oc,pa=P-Nd;Y=Ja(Y*Y+pa*pa);Ga+=
Y*(Oc+p)/2;eb+=Y*(Nd+P)/2;Gb+=Y;Y=Nd*p-Oc*P;rc+=Y*(Oc+p);Rb+=Y*(Nd+P);Sc+=3*Y;v(Oc=p,Nd=P)}function ta(p){this._context=p}function N(p,P){sc.point=la;Ca=ac=p;Qa=id=P}function la(p,P){ac-=p;id-=P;Bd.add(Ja(ac*ac+id*id));ac=p;id=P}function wa(p){let P=1;this._+=p[0];for(const Y=p.length;P<Y;++P)this._+=arguments[P]+p[P]}function Na(p){const P=Math.floor(p);if(!(0<=P))throw new RangeError(`invalid digits: ${p}`);if(15<P)return wa;if(P!==Ec){const Y=Math.pow(10,P);Ec=P;Tc=function(pa){let va=1;this._+=
pa[0];for(const Cb=pa.length;va<Cb;++va)this._+=Math.round(arguments[va]*Y)/Y+pa[va]}}return Tc}function Pa(p,P){function Y(Xb){Xb&&("function"===typeof va&&Hb.pointRadius(+va.apply(this,arguments)),Ab(Xb,Cb(Hb)));return Hb.result()}let pa=3,va=4.5,Cb,Hb;Y.area=function(Xb){Ab(Xb,Cb(Od));return Od.result()};Y.measure=function(Xb){Ab(Xb,Cb(Mc));return Mc.result()};Y.bounds=function(Xb){Ab(Xb,Cb(tf));return tf.result()};Y.centroid=function(Xb){Ab(Xb,Cb(Ld));return Ld.result()};Y.projection=function(Xb){if(!arguments.length)return p;
Cb=null==Xb?(p=null,qc):(p=Xb).stream;return Y};Y.context=function(Xb){if(!arguments.length)return P;Hb=null==Xb?(P=null,new pd(pa)):new ta(P=Xb);"function"!==typeof va&&Hb.pointRadius(va);return Y};Y.pointRadius=function(Xb){if(!arguments.length)return va;va="function"===typeof Xb?Xb:(Hb.pointRadius(+Xb),+Xb);return Y};Y.digits=function(Xb){if(!arguments.length)return pa;if(null==Xb)pa=null;else{const cc=Math.floor(Xb);if(!(0<=cc))throw new RangeError(`invalid digits: ${Xb}`);pa=cc}null===P&&(Hb=
new pd(pa));return Y};return Y.projection(p).digits(pa).context(P)}function Xa(p){return function(P){var Y=new sb,pa;for(pa in p)Y[pa]=p[pa];Y.stream=P;return Y}}function sb(){}function ib(p,P,Y){var pa=p.clipExtent&&p.clipExtent();p.scale(150).translate([0,0]);null!=pa&&p.clipExtent(null);Ab(Y,p.stream(tf));P(tf.result());null!=pa&&p.clipExtent(pa);return p}function Sb(p,P,Y){return ib(p,function(pa){var va=P[1][0]-P[0][0],Cb=P[1][1]-P[0][1],Hb=Math.min(va/(pa[1][0]-pa[0][0]),Cb/(pa[1][1]-pa[0][1]));
va=+P[0][0]+(va-Hb*(pa[1][0]+pa[0][0]))/2;pa=+P[0][1]+(Cb-Hb*(pa[1][1]+pa[0][1]))/2;p.scale(150*Hb).translate([va,pa])},Y)}function X(p,P,Y){return ib(p,function(pa){var va=+P,Cb=va/(pa[1][0]-pa[0][0]);va=(va-Cb*(pa[1][0]+pa[0][0]))/2;pa=-Cb*pa[0][1];p.scale(150*Cb).translate([va,pa])},Y)}function Fa(p,P,Y){return ib(p,function(pa){var va=+P,Cb=va/(pa[1][1]-pa[0][1]),Hb=-Cb*pa[0][0];pa=(va-Cb*(pa[1][1]+pa[0][1]))/2;p.scale(150*Cb).translate([Hb,pa])},Y)}function Kb(p){return Xa({point:function(P,
Y){P=p(P,Y);this.stream.point(P[0],P[1])}})}function pc(p,P){function Y(pa,va,Cb,Hb,Xb,cc,nc,tc,wc,Ic,Zc,Yc,jd,Sd){var Rc=nc-pa,Ud=tc-va,ue=Rc*Rc+Ud*Ud;if(ue>4*P&&jd--){var $c=Hb+Ic,Ad=Xb+Zc,Yd=cc+Yc,$d=Ja($c*$c+Ad*Ad+Yd*Yd),ye=ub(Yd/=$d),Rd=1E-6>ed(ed(Yd)-1)||1E-6>ed(Cb-wc)?(Cb+wc)/2:Gd(Ad,$c),Vd=p(Rd,ye);ye=Vd[0];Vd=Vd[1];var ve=ye-pa,Ne=Vd-va,Se=Ud*ve-Rc*Ne;if(Se*Se/ue>P||.3<ed((Rc*ve+Ud*Ne)/ue-.5)||Hb*Ic+Xb*Zc+cc*Yc<oe)Y(pa,va,Cb,Hb,Xb,cc,ye,Vd,Rd,$c/=$d,Ad/=$d,Yd,jd,Sd),Sd.point(ye,Vd),Y(ye,
Vd,Rd,$c,Ad,Yd,nc,tc,wc,Ic,Zc,Yc,jd,Sd)}}return function(pa){function va(ye,Rd){ye=p(ye,Rd);pa.point(ye[0],ye[1])}function Cb(){Ud=NaN;$d.point=Hb;pa.lineStart()}function Hb(ye,Rd){var Vd=jc([ye,Rd]);Rd=p(ye,Rd);Y(Ud,ue,Rc,$c,Ad,Yd,Ud=Rd[0],ue=Rd[1],Rc=ye,$c=Vd[0],Ad=Vd[1],Yd=Vd[2],16,pa);pa.point(Ud,ue)}function Xb(){$d.point=va;pa.lineEnd()}function cc(){Cb();$d.point=nc;$d.lineEnd=tc}function nc(ye,Rd){Hb(wc=ye,Rd);Ic=Ud;Zc=ue;Yc=$c;jd=Ad;Sd=Yd;$d.point=Hb}function tc(){Y(Ud,ue,Rc,$c,Ad,Yd,Ic,
Zc,wc,Yc,jd,Sd,16,pa);$d.lineEnd=Xb;Xb()}var wc,Ic,Zc,Yc,jd,Sd,Rc,Ud,ue,$c,Ad,Yd,$d={point:va,lineStart:Cb,lineEnd:Xb,polygonStart:function(){pa.polygonStart();$d.lineStart=cc},polygonEnd:function(){pa.polygonEnd();$d.lineStart=Cb}};return $d}}function $b(p){return Xa({point:function(P,Y){P=p(P,Y);return this.stream.point(P[0],P[1])}})}function Mb(p,P,Y,pa,va){function Cb(Hb,Xb){Hb*=pa;Xb*=va;return[P+p*Hb,Y-p*Xb]}Cb.invert=function(Hb,Xb){return[(Hb-P)/p*pa,(Y-Xb)/p*va]};return Cb}function Ob(p,
P,Y,pa,va,Cb){function Hb(Yc,jd){Yc*=pa;jd*=va;return[cc*Yc-nc*jd+P,Y-nc*Yc-cc*jd]}if(!Cb)return Mb(p,P,Y,pa,va);var Xb=vd(Cb);Cb=I(Cb);var cc=Xb*p,nc=Cb*p,tc=Xb/p,wc=Cb/p,Ic=(Cb*Y-Xb*P)/p,Zc=(Cb*P+Xb*Y)/p;Hb.invert=function(Yc,jd){return[pa*(tc*Yc-wc*jd+Ic),va*(Zc-wc*Yc-tc*jd)]};return Hb}function yc(p){return hd(function(){return p})()}function hd(p){function P(td){return Ne(td[0]*sd,td[1]*sd)}function Y(td){return(td=Ne.invert(td[0],td[1]))&&[td[0]*xd,td[1]*xd]}function pa(){var td=Ob(Hb,0,0,Sd,
Rc,jd).apply(null,Cb(nc,tc));td=Ob(Hb,Xb-td[0],cc-td[1],Sd,Rc,jd);Yc=fc(wc,Ic,Zc);ve=vb(Cb,td);Ne=vb(Yc,ve);td=ve;Vd=+Rd?pc(td,Rd):Kb(td);return va()}function va(){Se=Sf=null;return P}var Cb,Hb=150,Xb=480,cc=250,nc=0,tc=0,wc=0,Ic=0,Zc=0,Yc,jd=0,Sd=1,Rc=1,Ud=null,ue=Qb,$c=null,Ad,Yd,$d,ye=qc,Rd=.5,Vd,ve,Ne,Se,Sf;P.stream=function(td){return Se&&Sf===td?Se:Se=cf($b(Yc)(ue(Vd(ye(Sf=td)))))};P.preclip=function(td){return arguments.length?(ue=td,Ud=void 0,va()):ue};P.postclip=function(td){return arguments.length?
(ye=td,$c=Ad=Yd=$d=null,va()):ye};P.clipAngle=function(td){return arguments.length?(ue=+td?ja(Ud=td*sd):(Ud=null,Qb),va()):Ud*xd};P.clipExtent=function(td){return arguments.length?(ye=null==td?($c=Ad=Yd=$d=null,qc):oa($c=+td[0][0],Ad=+td[0][1],Yd=+td[1][0],$d=+td[1][1]),va()):null==$c?null:[[$c,Ad],[Yd,$d]]};P.scale=function(td){return arguments.length?(Hb=+td,pa()):Hb};P.translate=function(td){return arguments.length?(Xb=+td[0],cc=+td[1],pa()):[Xb,cc]};P.center=function(td){return arguments.length?
(nc=td[0]%360*sd,tc=td[1]%360*sd,pa()):[nc*xd,tc*xd]};P.rotate=function(td){return arguments.length?(wc=td[0]%360*sd,Ic=td[1]%360*sd,Zc=2<td.length?td[2]%360*sd:0,pa()):[wc*xd,Ic*xd,Zc*xd]};P.angle=function(td){return arguments.length?(jd=td%360*sd,pa()):jd*xd};P.reflectX=function(td){return arguments.length?(Sd=td?-1:1,pa()):0>Sd};P.reflectY=function(td){return arguments.length?(Rc=td?-1:1,pa()):0>Rc};P.precision=function(td){if(arguments.length){var Oe=ve;var Df=Rd=td*td;Oe=(Vd=+Df?pc(Oe,Df):Kb(Oe),
va())}else Oe=Ja(Rd);return Oe};P.fitExtent=function(td,Oe){return Sb(P,td,Oe)};P.fitSize=function(td,Oe){return Sb(P,[[0,0],td],Oe)};P.fitWidth=function(td,Oe){return X(P,td,Oe)};P.fitHeight=function(td,Oe){return Fa(P,td,Oe)};return function(){Cb=p.apply(this,arguments);P.invert=Cb.invert&&Y;return pa()}}function ra(p){var P=0,Y=Ib/3,pa=hd(p);p=pa(P,Y);p.parallels=function(va){return arguments.length?pa(P=va[0]*sd,Y=va[1]*sd):[P*xd,Y*xd]};return p}function Bb(p){function P(pa,va){return[pa*Y,I(va)/
Y]}var Y=vd(p);P.invert=function(pa,va){return[pa/Y,ub(va*Y)]};return P}function Ua(p,P){function Y(Xb,cc){cc=Ja(Cb-2*va*I(cc))/va;return[cc*I(Xb*=va),Hb-cc*vd(Xb)]}var pa=I(p),va=(pa+I(P))/2;if(1E-6>ed(va))return Bb(p);var Cb=1+pa*(2*va-pa),Hb=Ja(Cb)/va;Y.invert=function(Xb,cc){cc=Hb-cc;var nc=Gd(Xb,ed(cc))*xa(cc);0>cc*va&&(nc-=Ib*xa(Xb)*xa(cc));return[nc/va,ub((Cb-(Xb*Xb+cc*cc)*va*va)/(2*va))]};return Y}function xb(){return ra(Ua).scale(155.424).center([0,33.6442])}function Fb(){return xb().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Lb(p){var P=p.length;return{point:function(Y,pa){for(var va=-1;++va<P;)p[va].point(Y,pa)},sphere:function(){for(var Y=-1;++Y<P;)p[Y].sphere()},lineStart:function(){for(var Y=-1;++Y<P;)p[Y].lineStart()},lineEnd:function(){for(var Y=-1;++Y<P;)p[Y].lineEnd()},polygonStart:function(){for(var Y=-1;++Y<P;)p[Y].polygonStart()},polygonEnd:function(){for(var Y=-1;++Y<P;)p[Y].polygonEnd()}}}function Zb(p){return function(P,Y){var pa=
vd(P),va=vd(Y);pa=p(pa*va);return Infinity===pa?[2,0]:[pa*va*I(P),pa*I(Y)]}}function ic(p){return function(P,Y){var pa=Ja(P*P+Y*Y),va=p(pa),Cb=I(va);va=vd(va);return[Gd(P*Cb,pa*va),ub(pa&&Y*Cb/pa)]}}function Ac(p,P){return[p,Ed(jb((Cc+P)/2))]}function nd(p){function P(){var wc=Ib*va(),Ic=Y(Sa(Y.rotate()).invert([0,0]));return Hb(null==Xb?[[Ic[0]-wc,Ic[1]-wc],[Ic[0]+wc,Ic[1]+wc]]:p===Ac?[[Math.max(Ic[0]-wc,Xb),cc],[Math.min(Ic[0]+wc,nc),tc]]:[[Xb,Math.max(Ic[1]-wc,cc)],[nc,Math.min(Ic[1]+wc,tc)]])}
var Y=yc(p),pa=Y.center,va=Y.scale,Cb=Y.translate,Hb=Y.clipExtent,Xb=null,cc,nc,tc;Y.scale=function(wc){return arguments.length?(va(wc),P()):va()};Y.translate=function(wc){return arguments.length?(Cb(wc),P()):Cb()};Y.center=function(wc){return arguments.length?(pa(wc),P()):pa()};Y.clipExtent=function(wc){return arguments.length?(null==wc?Xb=cc=nc=tc=null:(Xb=+wc[0][0],cc=+wc[0][1],nc=+wc[1][0],tc=+wc[1][1]),P()):null==Xb?null:[[Xb,cc],[nc,tc]]};return P()}function Vc(p,P){function Y(Hb,Xb){0<Cb?Xb<
-Cc+1E-6&&(Xb=-Cc+1E-6):Xb>Cc-1E-6&&(Xb=Cc-1E-6);Xb=Cb/x(jb((Cc+Xb)/2),va);return[Xb*I(va*Hb),Cb-Xb*vd(va*Hb)]}var pa=vd(p),va=p===P?I(p):Ed(pa/vd(P))/Ed(jb((Cc+P)/2)/jb((Cc+p)/2)),Cb=pa*x(jb((Cc+p)/2),va)/va;if(!va)return Ac;Y.invert=function(Hb,Xb){Xb=Cb-Xb;var cc=xa(va)*Ja(Hb*Hb+Xb*Xb),nc=Gd(Hb,ed(Xb))*xa(Xb);0>Xb*va&&(nc-=Ib*xa(Hb)*xa(Xb));return[nc/va,2*Id(x(Cb/cc,1/va))-Cc]};return Y}function na(p,P){return[p,P]}function Ia(p,P){function Y(Hb,Xb){Xb=Cb-Xb;Hb*=va;return[Xb*I(Hb),Cb-Xb*vd(Hb)]}
var pa=vd(p),va=p===P?I(p):(pa-vd(P))/(P-p),Cb=pa/va+p;if(1E-6>ed(va))return na;Y.invert=function(Hb,Xb){Xb=Cb-Xb;var cc=Gd(Hb,ed(Xb))*xa(Xb);0>Xb*va&&(cc-=Ib*xa(Hb)*xa(Xb));return[cc/va,Cb-xa(va)*Ja(Hb*Hb+Xb*Xb)]};return Y}function fb(p,P){P=ub(ef*I(P));var Y=P*P,pa=Y*Y*Y;return[p*vd(P)/(ef*(1.340264+3*-.081106*Y+pa*(7*8.93E-4+.034164*Y))),P*(1.340264+-.081106*Y+pa*(8.93E-4+.003796*Y))]}function R(p,P){var Y=vd(P),pa=vd(p)*Y;return[Y*I(p)/pa,I(P)/pa]}function r(p,P){var Y=P*P,pa=Y*Y;return[p*(.8707-
.131979*Y+pa*(-.013791+pa*(.003971*Y-.001529*pa))),P*(1.007226+Y*(.015085+pa*(-.044475+.028874*Y-.005916*pa)))]}function da(p,P){return[vd(P)*I(p),I(P)]}function za(p,P){var Y=vd(P),pa=1+vd(p)*Y;return[Y*I(p)/pa,I(P)/pa]}function Da(p,P){return[Ed(jb((Cc+P)/2)),-p]}function Oa(p){return 1<p?pe:-1>p?-pe:Math.asin(p)}function kb(p,P){return function pa(){const va=P();va.type=p;va.path=Pa().projection(va);va.copy=va.copy||function(){const Cb=pa();y.forEach(Hb=>{if(va[Hb])Cb[Hb](va[Hb]())});Cb.path.pointRadius(va.path.pointRadius());
return Cb};return h.registerScale(va)}}function Ub(p,P){if(!p||"string"!==typeof p)throw Error("Projection type must be a name string.");p=p.toLowerCase();return 1<arguments.length?(M[p]=kb(p,P),this):M[p]||null}class Eb{constructor(){this._partials=new Float64Array(32);this._n=0}add(p){const P=this._partials;let Y=0;for(let pa=0;pa<this._n&&32>pa;pa++){const va=P[pa],Cb=p+va;(p=Math.abs(p)<Math.abs(va)?p-(Cb-va):va-(Cb-p))&&(P[Y++]=p);p=Cb}P[Y]=p;this._n=Y+1;return this}valueOf(){const p=this._partials;
let P=this._n;let Y,pa=0;if(0<P){for(pa=p[--P];0<P;){var va=pa;Y=p[--P];pa=va+Y;if(va=Y-(pa-va))break}0<P&&(0>va&&0>p[P-1]||0<va&&0<p[P-1])&&(Y=2*va,va=pa+Y,Y==va-pa&&(pa=va))}return pa}}var Ib=Math.PI,Cc=Ib/2,Hc=Ib/4,Nc=2*Ib,xd=180/Ib,sd=Ib/180,ed=Math.abs,Id=Math.atan,Gd=Math.atan2,vd=Math.cos,xe=Math.exp,Ed=Math.log,x=Math.pow,I=Math.sin,xa=Math.sign||function(p){return 0<p?1:0>p?-1:0},Ja=Math.sqrt,jb=Math.tan,wb={Feature:function(p,P){dc(p.geometry,P)},FeatureCollection:function(p,P){p=p.features;
for(var Y=-1,pa=p.length;++Y<pa;)dc(p[Y].geometry,P)}},ec={Sphere:function(p,P){P.sphere()},Point:function(p,P){p=p.coordinates;P.point(p[0],p[1],p[2])},MultiPoint:function(p,P){for(var Y=p.coordinates,pa=-1,va=Y.length;++pa<va;)p=Y[pa],P.point(p[0],p[1],p[2])},LineString:function(p,P){Wb(p.coordinates,P,0)},MultiLineString:function(p,P){p=p.coordinates;for(var Y=-1,pa=p.length;++Y<pa;)Wb(p[Y],P,0)},Polygon:function(p,P){oc(p.coordinates,P)},MultiPolygon:function(p,P){p=p.coordinates;for(var Y=-1,
pa=p.length;++Y<pa;)oc(p[Y],P)},GeometryCollection:function(p,P){p=p.geometries;for(var Y=-1,pa=p.length;++Y<pa;)dc(p[Y],P)}};gb.invert=gb;var Qb=T(function(){return!0},function(p){var P=NaN,Y=NaN,pa=NaN,va;return{lineStart:function(){p.lineStart();va=1},point:function(Cb,Hb){var Xb=0<Cb?Ib:-Ib,cc=ed(Cb-P);if(1E-6>ed(cc-Ib))p.point(P,Y=0<(Y+Hb)/2?Cc:-Cc),p.point(pa,Y),p.lineEnd(),p.lineStart(),p.point(Xb,Y),p.point(Cb,Y),va=0;else if(pa!==Xb&&cc>=Ib){1E-6>ed(P-pa)&&(P-=1E-6*pa);1E-6>ed(Cb-Xb)&&(Cb-=
1E-6*Xb);cc=P;var nc=Y,tc=Cb,wc,Ic,Zc=I(cc-tc);Y=1E-6<ed(Zc)?Id((I(nc)*(Ic=vd(Hb))*I(tc)-I(Hb)*(wc=vd(nc))*I(cc))/(wc*Ic*Zc)):(nc+Hb)/2;p.point(pa,Y);p.lineEnd();p.lineStart();p.point(Xb,Y);va=0}p.point(P=Cb,Y=Hb);pa=Xb},lineEnd:function(){p.lineEnd();P=Y=NaN},clean:function(){return 2-va}}},function(p,P,Y,pa){null==p?(Y*=Cc,pa.point(-Ib,Y),pa.point(0,Y),pa.point(Ib,Y),pa.point(Ib,0),pa.point(Ib,-Y),pa.point(0,-Y),pa.point(-Ib,-Y),pa.point(-Ib,0),pa.point(-Ib,Y)):1E-6<ed(p[0]-P[0])?(p=p[0]<P[0]?Ib:
-Ib,Y=Y*p/2,pa.point(-p,Y),pa.point(0,Y),pa.point(p,Y)):pa.point(P[0],P[1])},[-Ib,-Cc]),qc=p=>p,Fc=new Eb,zc=new Eb,bd,md,qd,Fd,kd={point:Yb,lineStart:Yb,lineEnd:Yb,polygonStart:function(){kd.lineStart=qa;kd.lineEnd=K},polygonEnd:function(){kd.lineStart=kd.lineEnd=kd.point=Yb;Fc.add(ed(zc));zc=new Eb},result:function(){var p=Fc/2;Fc=new Eb;return p}},Od=kd,he=Infinity,Le=he,Ie=-he,Fe=Ie,tf={point:function(p,P){p<he&&(he=p);p>Ie&&(Ie=p);P<Le&&(Le=P);P>Fe&&(Fe=P)},lineStart:Yb,lineEnd:Yb,polygonStart:Yb,
polygonEnd:Yb,result:function(){var p=[[he,Le],[Ie,Fe]];Ie=Fe=-(Le=he=Infinity);return p}},df=0,E=0,ca=0,Ga=0,eb=0,Gb=0,rc=0,Rb=0,Sc=0,fd,cd,Oc,Nd,Md={point:v,lineStart:Q,lineEnd:G,polygonStart:function(){Md.lineStart=w;Md.lineEnd=z},polygonEnd:function(){Md.point=v;Md.lineStart=Q;Md.lineEnd=G},result:function(){var p=Sc?[rc/Sc,Rb/Sc]:Gb?[Ga/Gb,eb/Gb]:ca?[df/ca,E/ca]:[NaN,NaN];df=E=ca=Ga=eb=Gb=rc=Rb=Sc=0;return p}},Ld=Md;ta.prototype={_radius:4.5,pointRadius:function(p){return this._radius=p,this},
polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(p,P){switch(this._point){case 0:this._context.moveTo(p,P);this._point=1;break;case 1:this._context.lineTo(p,P);break;default:this._context.moveTo(p+this._radius,P),this._context.arc(p,P,this._radius,0,Nc)}},result:Yb};var Bd=new Eb,Xd,Ca,Qa,ac,id,sc={point:Yb,lineStart:function(){sc.point=N},lineEnd:function(){Xd&&
la(Ca,Qa);sc.point=Yb},polygonStart:function(){Xd=!0},polygonEnd:function(){Xd=null},result:function(){var p=+Bd;Bd=new Eb;return p}},Mc=sc;let Ec,Tc,Xc,ld;class pd{constructor(p){this._append=null==p?wa:Na(p);this._radius=4.5;this._=""}pointRadius(p){this._radius=+p;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(p,P){switch(this._point){case 0:this._append`M${p},${P}`;this._point=1;break;
case 1:this._append`L${p},${P}`;break;default:this._append`M${p},${P}`;if(this._radius!==Xc||this._append!==Tc)p=this._radius,P=this._,this._="",this._append`m0,${p}a${p},${p} 0 1,1 0,${-2*p}a${p},${p} 0 1,1 0,${2*p}z`,Xc=p,Tc=this._append,ld=this._,this._=P;this._+=ld}}result(){const p=this._;this._="";return p.length?p:null}}sb.prototype={constructor:sb,point:function(p,P){this.stream.point(p,P)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},
polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oe=vd(30*sd),cf=Xa({point:function(p,P){this.stream.point(p*sd,P*sd)}}),Me=Zb(function(p){return Ja(2/(1+p))});Me.invert=ic(function(p){return 2*ub(p/2)});var Je=Zb(function(p){return(p=Ya(p))&&p/I(p)});Je.invert=ic(function(p){return p});Ac.invert=function(p,P){return[p,2*Id(xe(P))-Cc]};na.invert=na;var ef=Ja(3)/2;fb.invert=function(p,P){for(var Y=P,pa=Y*Y,va=pa*pa*pa,Cb=0,Hb;12>Cb&&!(Hb=Y*(1.340264+
-.081106*pa+va*(8.93E-4+.003796*pa))-P,pa=1.340264+3*-.081106*pa+va*(7*8.93E-4+.034164*pa),Y-=Hb/=pa,pa=Y*Y,va=pa*pa*pa,1E-12>ed(Hb));++Cb);return[ef*p*(1.340264+3*-.081106*pa+va*(7*8.93E-4+.034164*pa))/vd(Y),ub(I(Y)/ef)]};R.invert=ic(Id);r.invert=function(p,P){var Y=P,pa=25;do{var va=Y*Y;var Cb=va*va;Y-=Cb=(Y*(1.007226+va*(.015085+Cb*(-.044475+.028874*va-.005916*Cb)))-P)/(1.007226+va*(.045255+Cb*(-.311325+.259866*va-.005916*11*Cb)))}while(1E-6<ed(Cb)&&0<--pa);return[p/(.8707+(va=Y*Y)*(-.131979+va*
(-.013791+va*va*va*(.003971-.001529*va)))),Y]};da.invert=ic(ub);za.invert=ic(function(p){return 2*Id(p)});Da.invert=function(p,P){return[-P,2*Id(xe(p))-Cc]};var of=Math.abs,Ke=Math.cos,$e=Math.sin,Ye=Math.PI,pe=Ye/2,de=Math.sqrt(2),me=function(p,P,Y){function pa(va,Cb){var Hb=Cb,Xb=Y*$e(Hb),cc=30,nc;do Hb-=nc=(Hb+$e(Hb)-Xb)/(1+Ke(Hb));while(1E-6<of(nc)&&0<--cc);return[p*va*Ke(Cb=Hb/2),P*$e(Cb)]}pa.invert=function(va,Cb){return Cb=Oa(Cb/P),[va/(p*Ke(Cb)),Oa((2*Cb+$e(2*Cb))/Y)]};return pa}(de/pe,de,
Ye);const te=Pa(),y="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),M={albers:Fb,albersusa:function(){function p(Ic){var Zc=Ic[0];Ic=Ic[1];return tc=null,(Cb.point(Zc,Ic),tc)||(Xb.point(Zc,Ic),tc)||(nc.point(Zc,Ic),tc)}function P(){Y=pa=null;return p}var Y,pa,va=Fb(),Cb,Hb=xb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Xb,cc=xb().rotate([157,0]).center([-3,19.9]).parallels([8,
18]),nc,tc,wc={point:function(Ic,Zc){tc=[Ic,Zc]}};p.invert=function(Ic){var Zc=va.scale(),Yc=va.translate(),jd=(Ic[0]-Yc[0])/Zc;Zc=(Ic[1]-Yc[1])/Zc;return(.12<=Zc&&.234>Zc&&-.425<=jd&&-.214>jd?Hb:.166<=Zc&&.234>Zc&&-.214<=jd&&-.115>jd?cc:va).invert(Ic)};p.stream=function(Ic){return Y&&pa===Ic?Y:Y=Lb([va.stream(pa=Ic),Hb.stream(Ic),cc.stream(Ic)])};p.precision=function(Ic){if(!arguments.length)return va.precision();va.precision(Ic);Hb.precision(Ic);cc.precision(Ic);return P()};p.scale=function(Ic){if(!arguments.length)return va.scale();
va.scale(Ic);Hb.scale(.35*Ic);cc.scale(Ic);return p.translate(va.translate())};p.translate=function(Ic){if(!arguments.length)return va.translate();var Zc=va.scale(),Yc=+Ic[0],jd=+Ic[1];Cb=va.translate(Ic).clipExtent([[Yc-.455*Zc,jd-.238*Zc],[Yc+.455*Zc,jd+.238*Zc]]).stream(wc);Xb=Hb.translate([Yc-.307*Zc,jd+.201*Zc]).clipExtent([[Yc-.425*Zc+1E-6,jd+.12*Zc+1E-6],[Yc-.214*Zc-1E-6,jd+.234*Zc-1E-6]]).stream(wc);nc=cc.translate([Yc-.205*Zc,jd+.212*Zc]).clipExtent([[Yc-.214*Zc+1E-6,jd+.166*Zc+1E-6],[Yc-
.115*Zc-1E-6,jd+.234*Zc-1E-6]]).stream(wc);return P()};p.fitExtent=function(Ic,Zc){return Sb(p,Ic,Zc)};p.fitSize=function(Ic,Zc){return Sb(p,[[0,0],Ic],Zc)};p.fitWidth=function(Ic,Zc){return X(p,Ic,Zc)};p.fitHeight=function(Ic,Zc){return Fa(p,Ic,Zc)};return p.scale(1070)},azimuthalequalarea:function(){return yc(Me).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return yc(Je).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ra(Vc).scale(109.5).parallels([30,30])},
conicequalarea:xb,conicequidistant:function(){return ra(Ia).scale(131.154).center([0,13.9389])},equalEarth:function(){return yc(fb).scale(177.158)},equirectangular:function(){return yc(na).scale(152.63)},gnomonic:function(){return yc(R).scale(144.049).clipAngle(60)},identity:function(){function p(){Yc=Y*Cb;jd=Y*Hb;Ud=ue=null;return P}function P($c){var Ad=$c[0]*Yc;$c=$c[1]*jd;if(Xb){var Yd=$c*cc-Ad*nc;Ad=Ad*cc+$c*nc;$c=Yd}return[Ad+pa,$c+va]}var Y=1,pa=0,va=0,Cb=1,Hb=1,Xb=0,cc,nc,tc=null,wc,Ic,Zc,
Yc=1,jd=1,Sd=Xa({point:function($c,Ad){$c=P([$c,Ad]);this.stream.point($c[0],$c[1])}}),Rc=qc,Ud,ue;P.invert=function($c){var Ad=$c[0]-pa;$c=$c[1]-va;if(Xb){var Yd=$c*cc+Ad*nc;Ad=Ad*cc-$c*nc;$c=Yd}return[Ad/Yc,$c/jd]};P.stream=function($c){return Ud&&ue===$c?Ud:Ud=Sd(Rc(ue=$c))};P.postclip=function($c){return arguments.length?(Rc=$c,tc=wc=Ic=Zc=null,p()):Rc};P.clipExtent=function($c){return arguments.length?(Rc=null==$c?(tc=wc=Ic=Zc=null,qc):oa(tc=+$c[0][0],wc=+$c[0][1],Ic=+$c[1][0],Zc=+$c[1][1]),
p()):null==tc?null:[[tc,wc],[Ic,Zc]]};P.scale=function($c){return arguments.length?(Y=+$c,p()):Y};P.translate=function($c){return arguments.length?(pa=+$c[0],va=+$c[1],p()):[pa,va]};P.angle=function($c){return arguments.length?(Xb=$c%360*sd,nc=I(Xb),cc=vd(Xb),p()):Xb*xd};P.reflectX=function($c){return arguments.length?(Cb=$c?-1:1,p()):0>Cb};P.reflectY=function($c){return arguments.length?(Hb=$c?-1:1,p()):0>Hb};P.fitExtent=function($c,Ad){return Sb(P,$c,Ad)};P.fitSize=function($c,Ad){return Sb(P,[[0,
0],$c],Ad)};P.fitWidth=function($c,Ad){return X(P,$c,Ad)};P.fitHeight=function($c,Ad){return Fa(P,$c,Ad)};return P},mercator:function(){return nd(Ac).scale(961/Nc)},mollweide:function(){return yc(me).scale(169.529)},naturalEarth1:function(){return yc(r).scale(175.295)},orthographic:function(){return yc(da).scale(249.5).clipAngle(90.000001)},stereographic:function(){return yc(za).scale(250).clipAngle(142)},transversemercator:function(){var p=nd(Da),P=p.center,Y=p.rotate;p.center=function(pa){return arguments.length?
P([-pa[1],pa[0]]):(pa=P(),[pa[1],-pa[0]])};p.rotate=function(pa){return arguments.length?Y([pa[0],pa[1],2<pa.length?pa[2]+90:90]):(pa=Y(),[pa[0],pa[1],pa[2]-90])};return Y([0,0,90]).scale(159.155)}};for(const p in M)Ub(p,M[p]);t.getProjectionPath=function(p){return p&&p.path||te};t.projection=Ub;t.projectionProperties=y})};
shadow$provide[38]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(21),nb(30),nb(37),nb(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub,Yb){function dc(r,da,za){var Da=(da-r)/Math.max(0,za),Oa=
Math.floor(Math.log10(Da));Da/=Math.pow(10,Oa);Da=Da>=hd?10:Da>=ra?5:Da>=Bb?2:1;let kb;0>Oa?(kb=Math.pow(10,-Oa)/Da,Oa=Math.round(r*kb),Da=Math.round(da*kb),Oa/kb<r&&++Oa,Da/kb>da&&--Da,kb=-kb):(kb=Math.pow(10,Oa)*Da,Oa=Math.round(r/kb),Da=Math.round(da/kb),Oa*kb<r&&++Oa,Da*kb>da&&--Da);return Da<Oa&&.5<=za&&2>za?dc(r,da,2*za):[Oa,Da,kb]}function Wb(r,da,za){return dc(+r,+da,+za)[2]}function oc(r,da){let za;if(void 0===da)for(var Da of r)null!=Da&&(za<Da||void 0===za&&Da>=Da)&&(za=Da);else{Da=-1;
for(let Oa of r)null!=(Oa=da(Oa,++Da,r))&&(za<Oa||void 0===za&&Oa>=Oa)&&(za=Oa)}return za}function Ab(r,da,za){r=+r;da=+da;za=2>(Oa=arguments.length)?(da=r,r=0,1):3>Oa?1:+za;for(var Da=-1,Oa=Math.max(0,Math.ceil((da-r)/za))|0,kb=Array(Oa);++Da<Oa;)kb[Da]=r+Da*za;return kb}function Tb(r,da){let za=0;if(void 0===da)for(var Da of r){if(Da=+Da)za+=Da}else{Da=-1;for(let Oa of r)if(Oa=+da(Oa,++Da,r))za+=Oa}return za}function jc(){}function Ea(){function r(Eb,Ib){return Ib.map(Cc=>da(Eb,Cc))}function da(Eb,
Ib){var Cc=[],Hc=[];za(Eb,Ib,Nc=>{Ub(Nc,Eb,Ib);for(var xd=0,sd=Nc.length,ed=Nc[sd-1][1]*Nc[0][0]-Nc[sd-1][0]*Nc[0][1];++xd<sd;)ed+=Nc[xd-1][1]*Nc[xd][0]-Nc[xd-1][0]*Nc[xd][1];0<ed?Cc.push([Nc]):Hc.push(Nc)});Hc.forEach(Nc=>{for(var xd=0,sd=Cc.length,ed;xd<sd;++xd){a:{var Id=(ed=Cc[xd])[0];for(var Gd=Nc,vd=-1,xe=Gd.length;++vd<xe;){b:{var Ed=Id;for(var x=Gd[vd],I=x[0],xa=x[1],Ja=-1,jb=0,wb=Ed.length,ec=wb-1;jb<wb;ec=jb++){var Qb=Ed[jb],qc=Qb[0],Fc=Qb[1],zc=Ed[ec];ec=zc[0];var bd=zc[1],md,qd=Qb;Qb=
zc;zc=x;if(md=(Qb[0]-qd[0])*(zc[1]-qd[1])===(zc[0]-qd[0])*(Qb[1]-qd[1]))qd=qd[md=+(qd[0]===Qb[0])],zc=zc[md],Qb=Qb[md],md=qd<=zc&&zc<=Qb||Qb<=zc&&zc<=qd;if(md){Ed=0;break b}Fc>xa!==bd>xa&&I<(ec-qc)*(xa-Fc)/(bd-Fc)+qc&&(Ja=-Ja)}Ed=Ja}if(Ed){Id=Ed;break a}}Id=0}if(-1!==Id){ed.push(Nc);break}}});return{type:"MultiPolygon",value:Ib,coordinates:Cc}}function za(Eb,Ib,Cc){function Hc(Ed){var x=[Ed[0][0]+ed,Ed[0][1]+sd];Ed=[Ed[1][0]+ed,Ed[1][1]+sd];var I=2*x[0]+x[1]*(Oa+1)*4,xa=2*Ed[0]+Ed[1]*(Oa+1)*4,Ja,
jb;(Ja=xd[I])?(jb=Nc[xa])?(delete xd[Ja.end],delete Nc[jb.start],Ja===jb?(Ja.ring.push(Ed),Cc(Ja.ring)):Nc[Ja.start]=xd[jb.end]={start:Ja.start,end:jb.end,ring:Ja.ring.concat(jb.ring)}):(delete xd[Ja.end],Ja.ring.push(Ed),xd[Ja.end=xa]=Ja):(Ja=Nc[xa])?(jb=xd[I])?(delete Nc[Ja.start],delete xd[jb.end],Ja===jb?(Ja.ring.push(Ed),Cc(Ja.ring)):Nc[jb.start]=xd[Ja.end]={start:jb.start,end:Ja.end,ring:jb.ring.concat(Ja.ring)}):(delete Nc[Ja.start],Ja.ring.unshift(x),Nc[Ja.start=I]=Ja):Nc[I]=xd[xa]={start:I,
end:xa,ring:[x,Ed]}}var Nc=[],xd=[],sd;var ed=sd=-1;var Id=Eb[0]>=Ib;for(Ua[Id<<1].forEach(Hc);++ed<Oa-1;){var Gd=Id;Id=Eb[ed+1]>=Ib;Ua[Gd|Id<<1].forEach(Hc)}for(Ua[Id<<0].forEach(Hc);++sd<kb-1;){ed=-1;Id=Eb[sd*Oa+Oa]>=Ib;var vd=Eb[sd*Oa]>=Ib;for(Ua[Id<<1|vd<<2].forEach(Hc);++ed<Oa-1;){Gd=Id;Id=Eb[sd*Oa+Oa+ed+1]>=Ib;var xe=vd;vd=Eb[sd*Oa+ed+1]>=Ib;Ua[Gd|Id<<1|vd<<2|xe<<3].forEach(Hc)}Ua[Id|vd<<3].forEach(Hc)}ed=-1;vd=Eb[sd*Oa]>=Ib;for(Ua[vd<<2].forEach(Hc);++ed<Oa-1;)xe=vd,vd=Eb[sd*Oa+ed+1]>=Ib,Ua[vd<<
2|xe<<3].forEach(Hc);Ua[vd<<3].forEach(Hc)}function Da(Eb,Ib,Cc){Eb.forEach(Hc=>{var Nc=Hc[0],xd=Hc[1],sd=Nc|0,ed=xd|0,Id=Ib[ed*Oa+sd];if(0<Nc&&Nc<Oa&&sd===Nc){var Gd=Ib[ed*Oa+sd-1];Hc[0]=Nc+(Cc-Gd)/(Id-Gd)-.5}0<xd&&xd<kb&&ed===xd&&(Gd=Ib[(ed-1)*Oa+sd],Hc[1]=xd+(Cc-Gd)/(Id-Gd)-.5)})}var Oa=1,kb=1,Ub=Da;r.contour=da;r.size=function(Eb){if(!arguments.length)return[Oa,kb];var Ib=Math.floor(Eb[0]),Cc=Math.floor(Eb[1]);0<=Ib&&0<=Cc||ka.error("invalid size");return Oa=Ib,kb=Cc,r};r.smooth=function(Eb){return arguments.length?
(Ub=Eb?Da:jc,r):Ub===Da};return r}function Za(r,da,za){return function(Da){var Oa=ka.extent(Da);Da=za?Math.min(Oa[0],0):Oa[0];Oa=Oa[1];var kb=Oa-Da;if(da){var Ub=r;var Eb=+Oa;var Ib=+Da;Ub=+Ub;Ib=(kb=Eb<Ib)?Wb(Eb,Ib,Ub):Wb(Ib,Eb,Ub);kb=(kb?-1:1)*(0>Ib?1/-Ib:Ib)}else kb/=r+1;return Ab(Da+kb,Oa,kb)}}function tb(r){h.Transform.call(this,null,r)}function rb(r,da,za){const Da=Za(za.levels||10,za.nice,!1!==za.zero);return"shared"!==za.resolve?Da:Da(r.map(Oa=>oc(da(Oa).values)))}function pb(r,da,za,Da){var Oa=
Da.scale||da.scale;let kb=Da.translate||da.translate;ka.isFunction(Oa)&&(Oa=Oa(za,Da));ka.isFunction(kb)&&(kb=kb(za,Da));if(1!==Oa&&null!=Oa||kb)za=(ka.isNumber(Oa)?Oa:Oa[0])||1,Oa=(ka.isNumber(Oa)?Oa:Oa[1])||1,r.forEach(vb(da,za,Oa,kb&&kb[0]||0,kb&&kb[1]||0))}function vb(r,da,za,Da,Oa){function kb(Nc){Nc.forEach(Ub)}function Ub(Nc){Hc&&Nc.reverse();Nc.forEach(Eb)}function Eb(Nc){Nc[0]=(Nc[0]-Ib)*da+Da;Nc[1]=(Nc[1]-Cc)*za+Oa}const Ib=r.x1||0,Cc=r.y1||0,Hc=0>da*za;return function(Nc){Nc.coordinates.forEach(kb);
return Nc}}function gb(r,da,za){r=0<=r?r:Ya.bandwidthNRD(da,za);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function fc(r){return ka.isFunction(r)?r:ka.constant(+r)}function sa(){function r(Ib,Cc){const Hc=gb(Oa[0],Ib,da)>>Eb,Nc=gb(Oa[1],Ib,za)>>Eb,xd=Hc?Hc+2:0,sd=Nc?Nc+2:0,ed=2*xd+(kb>>Eb),Id=2*sd+(Ub>>Eb),Gd=new Float32Array(ed*Id),vd=new Float32Array(ed*Id);let xe=Gd;Ib.forEach(Ed=>{const x=xd+(+da(Ed)>>Eb),I=sd+(+za(Ed)>>Eb);0<=x&&x<ed&&0<=I&&I<Id&&(Gd[x+I*ed]+=+Da(Ed))});0<Hc&&0<Nc?(ia(ed,Id,
Gd,vd,Hc),Ba(ed,Id,vd,Gd,Nc),ia(ed,Id,Gd,vd,Hc),Ba(ed,Id,vd,Gd,Nc),ia(ed,Id,Gd,vd,Hc),Ba(ed,Id,vd,Gd,Nc)):0<Hc?(ia(ed,Id,Gd,vd,Hc),ia(ed,Id,vd,Gd,Hc),ia(ed,Id,Gd,vd,Hc),xe=vd):0<Nc&&(Ba(ed,Id,Gd,vd,Nc),Ba(ed,Id,vd,Gd,Nc),Ba(ed,Id,Gd,vd,Nc),xe=vd);Ib=Cc?Math.pow(2,-2*Eb):1/Tb(xe);for(let Ed=0,x=ed*Id;Ed<x;++Ed)xe[Ed]*=Ib;return{values:xe,scale:1<<Eb,width:ed,height:Id,x1:xd,y1:sd,x2:xd+(kb>>Eb),y2:sd+(Ub>>Eb)}}var da=Ib=>Ib[0],za=Ib=>Ib[1],Da=ka.one,Oa=[-1,-1],kb=960,Ub=500,Eb=2;r.x=function(Ib){return arguments.length?
(da=fc(Ib),r):da};r.y=function(Ib){return arguments.length?(za=fc(Ib),r):za};r.weight=function(Ib){return arguments.length?(Da=fc(Ib),r):Da};r.size=function(Ib){if(!arguments.length)return[kb,Ub];var Cc=+Ib[0],Hc=+Ib[1];0<=Cc&&0<=Hc||ka.error("invalid size");return kb=Cc,Ub=Hc,r};r.cellSize=function(Ib){if(!arguments.length)return 1<<Eb;1<=(Ib=+Ib)||ka.error("invalid cell size");Eb=Math.floor(Math.log(Ib)/Math.LN2);return r};r.bandwidth=function(Ib){if(!arguments.length)return Oa;Ib=ka.array(Ib);
1===Ib.length&&(Ib=[+Ib[0],+Ib[0]]);2!==Ib.length&&ka.error("invalid bandwidth");return Oa=Ib,r};return r}function ia(r,da,za,Da,Oa){const kb=(Oa<<1)+1;for(let Ub=0;Ub<da;++Ub)for(let Eb=0,Ib=0;Eb<r+Oa;++Eb)Eb<r&&(Ib+=za[Eb+Ub*r]),Eb>=Oa&&(Eb>=kb&&(Ib-=za[Eb-kb+Ub*r]),Da[Eb-Oa+Ub*r]=Ib/Math.min(Eb+1,r-1+kb-Eb,kb))}function Ba(r,da,za,Da,Oa){const kb=(Oa<<1)+1;for(let Ub=0;Ub<r;++Ub)for(let Eb=0,Ib=0;Eb<da+Oa;++Eb)Eb<da&&(Ib+=za[Ub+Eb*r]),Eb>=Oa&&(Eb>=kb&&(Ib-=za[Ub+(Eb-kb)*r]),Da[Ub+(Eb-Oa)*r]=Ib/
Math.min(Eb+1,da-1+kb-Eb,kb))}function Sa(r){h.Transform.call(this,null,r)}function Wa(r,da){xb.forEach(za=>null!=da[za]?r[za](da[za]):0);return r}function Ha(r,da){var za=[],Da=Hc=>Hc(Eb),Oa;if(null==da)za.push(r);else{var kb={};var Ub=0;for(Oa=r.length;Ub<Oa;++Ub){var Eb=r[Ub];var Ib=da.map(Da);var Cc=kb[Ib];Cc||(kb[Ib]=Cc=[],Cc.dims=Ib,za.push(Cc));Cc.push(Eb)}}return za}function hb(r){h.Transform.call(this,null,r)}function $a(r){h.Transform.call(this,null,r)}function qb(r){h.Transform.call(this,
null,r)}function Nb(r,da){const za=r.pointRadius();r.context(null);null!=da&&r.pointRadius(da);return za}function db(r){h.Transform.call(this,null,r)}function T(r){h.Transform.call(this,null,r)}function ba(r,da,za){const Da=null==za?Oa=>r(da(Oa)):Oa=>{var kb=r.pointRadius();Oa=r.pointRadius(za)(da(Oa));r.pointRadius(kb);return Oa};Da.context=Oa=>{r.context(Oa);return Da};return Da}function ea(r,da,za){var Da=Ab(r,da-1E-6,za).concat(da);return function(Oa){return Da.map(function(kb){return[Oa,kb]})}}
function ja(r,da,za){var Da=Ab(r,da-1E-6,za).concat(da);return function(Oa){return Da.map(function(kb){return[kb,Oa]})}}function Ma(){function r(){return{type:"MultiLineString",coordinates:da()}}function da(){return Ab(Lb(kb/xd)*xd,Oa,xd).map(Gd).concat(Ab(Lb(Cc/sd)*sd,Ib,sd).map(vd)).concat(Ab(Lb(Da/Hc)*Hc,za,Hc).filter(function(Ed){return 1E-6<Fb(Ed%xd)}).map(ed)).concat(Ab(Lb(Eb/Nc)*Nc,Ub,Nc).filter(function(Ed){return 1E-6<Fb(Ed%sd)}).map(Id))}var za,Da,Oa,kb,Ub,Eb,Ib,Cc,Hc=10,Nc=Hc,xd=90,sd=
360,ed,Id,Gd,vd,xe=2.5;r.lines=function(){return da().map(function(Ed){return{type:"LineString",coordinates:Ed}})};r.outline=function(){return{type:"Polygon",coordinates:[Gd(kb).concat(vd(Ib).slice(1),Gd(Oa).reverse().slice(1),vd(Cc).reverse().slice(1))]}};r.extent=function(Ed){return arguments.length?r.extentMajor(Ed).extentMinor(Ed):r.extentMinor()};r.extentMajor=function(Ed){if(!arguments.length)return[[kb,Cc],[Oa,Ib]];kb=+Ed[0][0];Oa=+Ed[1][0];Cc=+Ed[0][1];Ib=+Ed[1][1];kb>Oa&&(Ed=kb,kb=Oa,Oa=
Ed);Cc>Ib&&(Ed=Cc,Cc=Ib,Ib=Ed);return r.precision(xe)};r.extentMinor=function(Ed){if(!arguments.length)return[[Da,Eb],[za,Ub]];Da=+Ed[0][0];za=+Ed[1][0];Eb=+Ed[0][1];Ub=+Ed[1][1];Da>za&&(Ed=Da,Da=za,za=Ed);Eb>Ub&&(Ed=Eb,Eb=Ub,Ub=Ed);return r.precision(xe)};r.step=function(Ed){return arguments.length?r.stepMajor(Ed).stepMinor(Ed):r.stepMinor()};r.stepMajor=function(Ed){if(!arguments.length)return[xd,sd];xd=+Ed[0];sd=+Ed[1];return r};r.stepMinor=function(Ed){if(!arguments.length)return[Hc,Nc];Hc=+Ed[0];
Nc=+Ed[1];return r};r.precision=function(Ed){if(!arguments.length)return xe;xe=+Ed;ed=ea(Eb,Ub,90);Id=ja(Da,za,xe);Gd=ea(Cc,Ib,90);vd=ja(kb,Oa,xe);return r};return r.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function oa(r){h.Transform.call(this,[],r);this.generator=Ma()}function qa(r,da,za){r.prototype=da.prototype=za;za.constructor=r}function l(r,da){r=Object.create(r.prototype);for(var za in da)r[za]=da[za];return r}function D(){}function K(){return this.rgb().formatHex()}
function v(){return this.rgb().formatRgb()}function Q(r){var da,za;r=(r+"").trim().toLowerCase();return(da=ic.exec(r))?(za=da[1].length,da=parseInt(da[1],16),6===za?A(da):3===za?new w(da>>8&15|da>>4&240,da>>4&15|da&240,(da&15)<<4|da&15,1):8===za?W(da>>24&255,da>>16&255,da>>8&255,(da&255)/255):4===za?W(da>>12&15|da>>8&240,da>>8&15|da>>4&240,da>>4&15|da&240,((da&15)<<4|da&15)/255):null):(da=Ac.exec(r))?new w(da[1],da[2],da[3],1):(da=nd.exec(r))?new w(255*da[1]/100,255*da[2]/100,255*da[3]/100,1):(da=
Vc.exec(r))?W(da[1],da[2],da[3],da[4]):(da=na.exec(r))?W(255*da[1]/100,255*da[2]/100,255*da[3]/100,da[4]):(da=Ia.exec(r))?la(da[1],da[2]/100,da[3]/100,1):(da=fb.exec(r))?la(da[1],da[2]/100,da[3]/100,da[4]):R.hasOwnProperty(r)?A(R[r]):"transparent"===r?new w(NaN,NaN,NaN,0):null}function A(r){return new w(r>>16&255,r>>8&255,r&255,1)}function W(r,da,za,Da){0>=Da&&(r=da=za=NaN);return new w(r,da,za,Da)}function G(r,da,za,Da){if(1===arguments.length){var Oa=r;Oa instanceof D||(Oa=Q(Oa));Oa?(Oa=Oa.rgb(),
Oa=new w(Oa.r,Oa.g,Oa.b,Oa.opacity)):Oa=new w}else Oa=new w(r,da,za,null==Da?1:Da);return Oa}function w(r,da,za,Da){this.r=+r;this.g=+da;this.b=+za;this.opacity=+Da}function z(){return`#${N(this.r)}${N(this.g)}${N(this.b)}`}function F(){const r=V(this.opacity);return`${1===r?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${1===r?")":`, ${r})`}`}function V(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ta(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function N(r){r=ta(r);
return(16>r?"0":"")+r.toString(16)}function la(r,da,za,Da){0>=Da?r=da=za=NaN:0>=za||1<=za?r=da=NaN:0>=da&&(r=NaN);return new Na(r,da,za,Da)}function wa(r){if(r instanceof Na)return new Na(r.h,r.s,r.l,r.opacity);r instanceof D||(r=Q(r));if(!r)return new Na;if(r instanceof Na)return r;r=r.rgb();var da=r.r/255,za=r.g/255,Da=r.b/255,Oa=Math.min(da,za,Da),kb=Math.max(da,za,Da),Ub=NaN,Eb=kb-Oa,Ib=(kb+Oa)/2;Eb?(Ub=da===kb?(za-Da)/Eb+6*(za<Da):za===kb?(Da-da)/Eb+2:(da-za)/Eb+4,Eb/=.5>Ib?kb+Oa:2-kb-Oa,Ub*=
60):Eb=0<Ib&&1>Ib?0:Ub;return new Na(Ub,Eb,Ib,r.opacity)}function Na(r,da,za,Da){this.h=+r;this.s=+da;this.l=+za;this.opacity=+Da}function Pa(r){r=(r||0)%360;return 0>r?r+360:r}function Xa(r){return Math.max(0,Math.min(1,r||0))}function sb(r,da,za){return 255*(60>r?da+(za-da)*r/60:180>r?za:240>r?da+(za-da)*(240-r)/60:da)}function ib(r){h.Transform.call(this,null,r)}function Sb(r,da){let za;ka.isFunction(r)?(za=Da=>G(r(Da,da)),za.dep=Fa(r)):za=ka.constant(G(r||"#888"));return za}function X(r,da){let za;
ka.isFunction(r)?(za=Da=>r(Da,da),za.dep=Fa(r)):r?za=ka.constant(r):(za=Da=>Da.$value/Da.$max||0,za.dep=!0);return za}function Fa(r){if(!ka.isFunction(r))return!1;r=ka.toSet(ka.accessorFields(r));return r.$x||r.$y||r.$value||r.$max}function Kb(r,da,za,Da){const Oa=r.width;var kb=r.height;const Ub=r.x1||0,Eb=r.y1||0,Ib=r.x2||Oa;kb=r.y2||kb;const Cc=r.values;r=Cc?ed=>Cc[ed]:ka.zero;const Hc=Yb.canvas(Ib-Ub,kb-Eb),Nc=Hc.getContext("2d"),xd=Nc.getImageData(0,0,Ib-Ub,kb-Eb),sd=xd.data;for(let ed=Eb,Id=
0;ed<kb;++ed){da.$y=ed-Eb;for(let Gd=Ub,vd=ed*Oa;Gd<Ib;++Gd,Id+=4){da.$x=Gd-Ub;da.$value=r(Gd+vd);const xe=za(da);sd[Id+0]=xe.r;sd[Id+1]=xe.g;sd[Id+2]=xe.b;sd[Id+3]=~~(255*Da(da))}}Nc.putImageData(xd,0,0);return Hc}function pc(r){h.Transform.call(this,null,r);this.modified(!0)}function $b(r,da){const za=Ob(da.fit);da.extent?r.fitExtent(da.extent,za):da.size?r.fitSize(da.size,za):0}function Mb(r){const da=ub.projection((r||"mercator").toLowerCase());da||ka.error("Unrecognized projection type: "+r);
return da()}function Ob(r){r=ka.array(r);return 1===r.length?r[0]:{type:"FeatureCollection",features:r.reduce((da,za)=>da.concat(yc(za)),[])}}function yc(r){return"FeatureCollection"===r.type?r.features:ka.array(r).filter(da=>null!=da).map(da=>"Feature"===da.type?da:{type:"Feature",geometry:da})}const hd=Math.sqrt(50),ra=Math.sqrt(10),Bb=Math.sqrt(2),Ua=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],
[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];tb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",
type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ka.inherits(tb,h.Transform,{transform(r,da){if(this.value&&!da.changed()&&!r.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;var Da=r.field||ka.identity,Oa=Ea().smooth(!1!==r.smooth),kb=r.thresholds||rb(da,Da,r),Ub=null===r.as?null:r.as||"contour",Eb=[];da.forEach(Ib=>
{const Cc=Da(Ib),Hc=Oa.size([Cc.width,Cc.height])(Cc.values,ka.isArray(kb)?kb:kb(Cc.values));pb(Hc,Cc,Ib,r);Hc.forEach(Nc=>{Eb.push(h.rederive(Ib,h.ingest(null!=Ub?{[Ub]:Nc}:Nc)))})});this.value&&(za.rem=this.value);this.value=za.source=za.add=Eb;return za}});Sa.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const xb="x y weight size cellSize bandwidth".split(" ");ka.inherits(Sa,h.Transform,{transform(r,da){if(this.value&&!da.changed()&&!r.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;da=Ha(da,r.groupby);var Da=(r.groupby||[]).map(ka.accessorName),Oa=Wa(sa(),
r),kb=r.as||"grid",Ub=[];Ub=da.map(Eb=>{var Ib=h.ingest,Cc={[kb]:Oa(Eb,r.counts)};Eb=Eb.dims;for(let Hc=0;Hc<Da.length;++Hc)Cc[Da[Hc]]=Eb[Hc];return Ib.call(h,Cc)});this.value&&(za.rem=this.value);this.value=za.source=za.add=Ub;return za}});hb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},
{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ka.inherits(hb,h.Transform,{transform(r,da){if(this.value&&!da.changed()&&!r.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS),Da=Ea().smooth(!1!==r.smooth),Oa=r.values,kb=r.thresholds||Za(r.count||10,r.nice,!!Oa),Ub=r.size;if(!Oa){Oa=da.materialize(da.SOURCE).source;r=Wa(sa(),r)(Oa,
!0);var Eb=vb(r,r.scale||1,r.scale||1,0,0);Ub=[r.width,r.height];Oa=r.values}kb=ka.isArray(kb)?kb:kb(Oa);Oa=Da.size(Ub)(Oa,kb);Eb&&Oa.forEach(Eb);this.value&&(za.rem=this.value);this.value=za.source=za.add=(Oa||[]).map(h.ingest);return za}});$a.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ka.inherits($a,h.Transform,{transform(r,da){var za=this._features,Da=this._points,Oa=r.fields,kb=Oa&&Oa[0],Ub=Oa&&Oa[1],Eb=r.geojson||
!Oa&&ka.identity;Oa=da.ADD;r=r.modified()||da.changed(da.REM)||da.modified(ka.accessorFields(Eb))||kb&&da.modified(ka.accessorFields(kb))||Ub&&da.modified(ka.accessorFields(Ub));if(!this.value||r)Oa=da.SOURCE,this._features=za=[],this._points=Da=[];Eb&&da.visit(Oa,Ib=>za.push(Eb(Ib)));kb&&Ub&&(da.visit(Oa,Ib=>{var Cc=kb(Ib);Ib=Ub(Ib);null!=Cc&&null!=Ib&&(Cc=+Cc)===Cc&&(Ib=+Ib)===Ib&&Da.push([Cc,Ib])}),za=za.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Da}}));this.value={type:"FeatureCollection",
features:za}}});qb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};ka.inherits(qb,h.Transform,{transform(r,da){var za=da.fork(da.ALL),Da=this.value,Oa=r.field||ka.identity,kb=r.as||"path",Ub=za.SOURCE;!Da||r.modified()?(this.value=Da=ub.getProjectionPath(r.projection),za.materialize().reflow()):Ub=Oa===ka.identity||da.modified(Oa.fields)?
za.ADD_MOD:za.ADD;r=Nb(Da,r.pointRadius);za.visit(Ub,Eb=>Eb[kb]=Da(Oa(Eb)));Da.pointRadius(r);return za.modifies(kb)}});db.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ka.inherits(db,h.Transform,{transform(r,da){function za(Cc){const Hc=Da([Oa(Cc),kb(Cc)]);Hc?(Cc[Eb]=Hc[0],Cc[Ib]=Hc[1]):(Cc[Eb]=void 0,Cc[Ib]=void 0)}
var Da=r.projection,Oa=r.fields[0],kb=r.fields[1],Ub=r.as||["x","y"],Eb=Ub[0],Ib=Ub[1];r.modified()?da=da.materialize().reflow(!0).visit(da.SOURCE,za):(r=da.modified(Oa.fields)||da.modified(kb.fields),da.visit(r?da.ADD_MOD:da.ADD,za));return da.modifies(Ub)}});T.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
ka.inherits(T,h.Transform,{transform(r,da){da=da.fork(da.ALL);var za=this.value,Da=r.as||"shape",Oa=da.ADD;if(!za||r.modified())this.value=za=ba(ub.getProjectionPath(r.projection),r.field||ka.field("datum"),r.pointRadius),da.materialize().reflow(),Oa=da.SOURCE;da.visit(Oa,kb=>kb[Da]=za);return da.modifies(Da)}});var Fb=Math.abs,Lb=Math.ceil;oa.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ka.inherits(oa,h.Transform,{transform(r,da){var za=this.value,Da=this.generator;
if(!za.length||r.modified())for(const Oa in r)if(ka.isFunction(Da[Oa]))Da[Oa](r[Oa]);r=Da();za.length?da.mod.push(h.replace(za[0],r)):da.add.push(h.ingest(r));za[0]=r;return da}});var Zb=1/.7,ic=/^#([0-9a-f]{3,8})$/,Ac=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),nd=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Vc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
na=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ia=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),fb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qa(D,Q,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:K,formatHex:K,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wa(this).formatHsl()},formatRgb:v,toString:v});qa(w,G,l(D,{brighter(r){r=null==r?Zb:Math.pow(Zb,r);return new w(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){r=
null==r?.7:Math.pow(.7,r);return new w(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new w(ta(this.r),ta(this.g),ta(this.b),V(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:z,formatHex:z,formatHex8:function(){return`#${N(this.r)}${N(this.g)}${N(this.b)}${N(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:F,toString:F}));qa(Na,function(r,da,za,Da){return 1===
arguments.length?wa(r):new Na(r,da,za,null==Da?1:Da)},l(D,{brighter(r){r=null==r?Zb:Math.pow(Zb,r);return new Na(this.h,this.s,this.l*r,this.opacity)},darker(r){r=null==r?.7:Math.pow(.7,r);return new Na(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+360*(0>this.h),da=isNaN(r)||isNaN(this.s)?0:this.s,za=this.l;da=za+(.5>za?za:1-za)*da;za=2*za-da;return new w(sb(240<=r?r-240:r+120,za,da),sb(r,za,da),sb(120>r?r+240:r-120,za,da),this.opacity)},clamp(){return new Na(Pa(this.h),Xa(this.s),
Xa(this.l),V(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const r=V(this.opacity);return`${1===r?"hsl(":"hsla("}${Pa(this.h)}, ${100*Xa(this.s)}%, ${100*Xa(this.l)}%${1===r?")":`, ${r})`}`}}));ib.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared",
"independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ka.inherits(ib,h.Transform,{transform(r,da){if(!da.changed()&&!r.modified())return da.StopPropagation;var za=da.materialize(da.SOURCE).source,Da="shared"===r.resolve,Oa=r.field||ka.identity,kb=X(r.opacity,r),Ub=Sb(r.color,r),Eb=r.as||"image",Ib={$x:0,$y:0,$value:0,$max:Da?oc(za.map(Cc=>oc(Oa(Cc).values))):0};za.forEach(Cc=>{const Hc=Oa(Cc),Nc=ka.extend({},Cc,Ib);Da||(Nc.$max=oc(Hc.values||[]));Cc[Eb]=Kb(Hc,Nc,Ub.dep?
Ub:ka.constant(Ub(Nc)),kb.dep?kb:ka.constant(kb(Nc)))});return da.reflow(!0).modifies(Eb)}});ka.inherits(pc,h.Transform,{transform(r,da){let za=this.value;!za||r.modified("type")?(this.value=za=Mb(r.type),ub.projectionProperties.forEach(Da=>{if(null!=r[Da]){var Oa=za,kb=r[Da];if(ka.isFunction(Oa[Da]))Oa[Da](kb)}})):ub.projectionProperties.forEach(Da=>{if(r.modified(Da)){var Oa=za,kb=r[Da];if(ka.isFunction(Oa[Da]))Oa[Da](kb)}});null!=r.pointRadius&&za.path.pointRadius(r.pointRadius);r.fit&&$b(za,r);
return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});t.contour=hb;t.geojson=$a;t.geopath=qb;t.geopoint=db;t.geoshape=T;t.graticule=oa;t.heatmap=ib;t.isocontour=tb;t.kde2d=Sa;t.projection=pc})};
shadow$provide[39]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,h,ka){function Ya(N,la,wa,Na){if(isNaN(la)||isNaN(wa))return N;var Pa,Xa=N._root;Na={data:Na};var sb=N._x0,ib=N._y0,Sb=N._x1,X=N._y1,Fa,Kb,pc,$b,Mb;if(!Xa)return N._root=
Na,N;for(;Xa.length;)if((pc=la>=(Fa=(sb+Sb)/2))?sb=Fa:Sb=Fa,($b=wa>=(Kb=(ib+X)/2))?ib=Kb:X=Kb,Pa=Xa,!(Xa=Xa[Mb=$b<<1|pc]))return Pa[Mb]=Na,N;var Ob=+N._x.call(null,Xa.data);var yc=+N._y.call(null,Xa.data);if(la===Ob&&wa===yc)return Na.next=Xa,Pa?Pa[Mb]=Na:N._root=Na,N;do Pa=Pa?Pa[Mb]=Array(4):N._root=Array(4),(pc=la>=(Fa=(sb+Sb)/2))?sb=Fa:Sb=Fa,($b=wa>=(Kb=(ib+X)/2))?ib=Kb:X=Kb;while((Mb=$b<<1|pc)===(pc=(yc>=Kb)<<1|Ob>=Fa));return Pa[pc]=Xa,Pa[Mb]=Na,N}function ub(N,la,wa,Na,Pa){this.node=N;this.x0=
la;this.y0=wa;this.x1=Na;this.y1=Pa}function Yb(N){return N[0]}function dc(N){return N[1]}function Wb(N,la,wa){la=new oc(null==la?Yb:la,null==wa?dc:wa,NaN,NaN,NaN,NaN);return null==N?la:la.addAll(N)}function oc(N,la,wa,Na,Pa,Xa){this._x=N;this._y=la;this._x0=wa;this._y0=Na;this._x1=Pa;this._y1=Xa;this._root=void 0}function Ab(N){for(var la={data:N.data},wa=la;N=N.next;)wa=wa.next={data:N.data};return la}function Tb(N){return function(){return N}}function jc(N){return N.x+N.vx}function Ea(N){return N.y+
N.vy}function Za(N){return N.index}function tb(N,la){N=N.get(la);if(!N)throw Error("node not found: "+la);return N}function rb(){for(var N=0,la=arguments.length,wa={},Na;N<la;++N){if(!(Na=arguments[N]+"")||Na in wa||/[\s.]/.test(Na))throw Error("illegal type: "+Na);wa[Na]=[]}return new pb(wa)}function pb(N){this._=N}function vb(N,la){return N.trim().split(/^|\s+/).map(function(wa){var Na="",Pa=wa.indexOf(".");0<=Pa&&(Na=wa.slice(Pa+1),wa=wa.slice(0,Pa));if(wa&&!la.hasOwnProperty(wa))throw Error("unknown type: "+
wa);return{type:wa,name:Na}})}function gb(N,la,wa){for(var Na=0,Pa=N.length;Na<Pa;++Na)if(N[Na].name===la){N[Na]=Ma;N=N.slice(0,Na).concat(N.slice(Na+1));break}null!=wa&&N.push({name:la,value:wa});return N}function fc(){Q=0}function sa(){this._call=this._time=this._next=null}function ia(N,la,wa){var Na=new sa;Na.restart(N,la,wa);return Na}function Ba(){Q=(v=W.now())+A;oa=qa=0;try{Q||(G(fc),Q=W.now()+A);++oa;for(var N=D,la;N;)0<=(la=Q-N._time)&&N._call.call(void 0,la),N=N._next;--oa}finally{oa=0;N=
D;for(var wa=Infinity;N;)if(N._call){wa>N._time&&(wa=N._time);var Na=N;N=N._next}else la=N._next,N._next=null,N=Na?Na._next=la:D=la;K=Na;Wa(wa);Q=0}}function Sa(){var N=W.now(),la=N-v;1E3<la&&(A-=la,v=N)}function Wa(N){oa||(qa&&(qa=clearTimeout(qa)),24<N-Q?(Infinity>N&&(qa=setTimeout(Ba,N-W.now()-A)),l&&(l=clearInterval(l))):(l||(v=W.now(),l=setInterval(Sa,1E3)),oa=1,G(Ba)))}function Ha(){let N=1;return()=>(N=(1664525*N+1013904223)%4294967296)/4294967296}function hb(N){return N.x}function $a(N){return N.y}
function qb(N){function la(){wa();$b.call("tick",Xa);sb<ib&&(pc.stop(),$b.call("end",Xa))}function wa(Ob){var yc,hd=N.length;void 0===Ob&&(Ob=1);for(var ra=0;ra<Ob;++ra)for(sb+=(X-sb)*Sb,Kb.forEach(function(Ua){Ua(sb)}),yc=0;yc<hd;++yc){var Bb=N[yc];null==Bb.fx?Bb.x+=Bb.vx*=Fa:(Bb.x=Bb.fx,Bb.vx=0);null==Bb.fy?Bb.y+=Bb.vy*=Fa:(Bb.y=Bb.fy,Bb.vy=0)}return Xa}function Na(){for(var Ob=0,yc=N.length,hd;Ob<yc;++Ob){hd=N[Ob];hd.index=Ob;null!=hd.fx&&(hd.x=hd.fx);null!=hd.fy&&(hd.y=hd.fy);if(isNaN(hd.x)||
isNaN(hd.y)){var ra=10*Math.sqrt(.5+Ob),Bb=Ob*w;hd.x=ra*Math.cos(Bb);hd.y=ra*Math.sin(Bb)}if(isNaN(hd.vx)||isNaN(hd.vy))hd.vx=hd.vy=0}}function Pa(Ob){Ob.initialize&&Ob.initialize(N,Mb);return Ob}var Xa,sb=1,ib=.001,Sb=1-Math.pow(ib,1/300),X=0,Fa=.6,Kb=new Map,pc=ia(la),$b=rb("tick","end"),Mb=Ha();null==N&&(N=[]);Na();return Xa={tick:wa,restart:function(){return pc.restart(la),Xa},stop:function(){return pc.stop(),Xa},nodes:function(Ob){return arguments.length?(N=Ob,Na(),Kb.forEach(Pa),Xa):N},alpha:function(Ob){return arguments.length?
(sb=+Ob,Xa):sb},alphaMin:function(Ob){return arguments.length?(ib=+Ob,Xa):ib},alphaDecay:function(Ob){return arguments.length?(Sb=+Ob,Xa):+Sb},alphaTarget:function(Ob){return arguments.length?(X=+Ob,Xa):X},velocityDecay:function(Ob){return arguments.length?(Fa=1-Ob,Xa):1-Fa},randomSource:function(Ob){return arguments.length?(Mb=Ob,Kb.forEach(Pa),Xa):Mb},force:function(Ob,yc){return 1<arguments.length?(null==yc?Kb.delete(Ob):Kb.set(Ob,Pa(yc)),Xa):Kb.get(Ob)},find:function(Ob,yc,hd){var ra,Bb=N.length;
hd=null==hd?Infinity:hd*hd;for(ra=0;ra<Bb;++ra){var Ua=N[ra];var xb=Ob-Ua.x;var Fb=yc-Ua.y;xb=xb*xb+Fb*Fb;if(xb<hd){var Lb=Ua;hd=xb}}return Lb},on:function(Ob,yc){return 1<arguments.length?($b.on(Ob,yc),Xa):$b.on(Ob)}}}function Nb(N){h.Transform.call(this,null,N)}function db(N,la){return()=>N.touch(la).run()}function T(N,la){N=qb(N);const wa=N.stop,Na=N.restart;let Pa=!1;N.stopped=()=>Pa;N.restart=()=>(Pa=!1,Na());N.stop=()=>(Pa=!0,wa());return ba(N,la,!0).on("end",()=>Pa=!0)}function ba(N,la,wa,
Na){var Pa=ka.array(la.forces),Xa;var sb=0;for(Xa=F.length;sb<Xa;++sb){var ib=F[sb];if("forces"!==ib&&la.modified(ib))N[ib](la[ib])}sb=0;for(Xa=Pa.length;sb<Xa;++sb){var Sb="forces"+sb;if(wa||la.modified("forces",sb)){ib=void 0;var X=Pa[sb];ka.hasOwnProperty(z,X.force)||ka.error("Unrecognized force: "+X.force);var Fa=z[X.force]();for(ib in X)ka.isFunction(Fa[ib])&&ea(Fa[ib],X[ib],X);ib=Fa}else{if(ib=Na)a:{Fa=ib=void 0;X=Pa[sb];var Kb=Na;for(Fa in X)if(ka.isFunction(ib=X[Fa])&&Kb.modified(ka.accessorFields(ib))){ib=
1;break a}ib=0}ib=ib?N.force(Sb):null}ib&&N.force(Sb,ib)}for(Xa=N.numForces||0;sb<Xa;++sb)N.force("forces"+sb,null);N.numForces=Pa.length;return N}function ea(N,la,wa){N(ka.isFunction(la)?Na=>la(Na,wa):la)}var ja=Wb.prototype=oc.prototype;ja.copy=function(){var N=new oc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),la=this._root,wa,Na;if(!la)return N;if(!la.length)return N._root=Ab(la),N;for(wa=[{source:la,target:N._root=Array(4)}];la=wa.pop();)for(var Pa=0;4>Pa;++Pa)if(Na=la.source[Pa])Na.length?
wa.push({source:Na,target:la.target[Pa]=Array(4)}):la.target[Pa]=Ab(Na);return N};ja.add=function(N){const la=+this._x.call(null,N),wa=+this._y.call(null,N);return Ya(this.cover(la,wa),la,wa,N)};ja.addAll=function(N){var la,wa,Na=N.length,Pa,Xa,sb=Array(Na),ib=Array(Na),Sb=Infinity,X=Infinity,Fa=-Infinity,Kb=-Infinity;for(wa=0;wa<Na;++wa)isNaN(Pa=+this._x.call(null,la=N[wa]))||isNaN(Xa=+this._y.call(null,la))||(sb[wa]=Pa,ib[wa]=Xa,Pa<Sb&&(Sb=Pa),Pa>Fa&&(Fa=Pa),Xa<X&&(X=Xa),Xa>Kb&&(Kb=Xa));if(Sb>Fa||
X>Kb)return this;this.cover(Sb,X).cover(Fa,Kb);for(wa=0;wa<Na;++wa)Ya(this,sb[wa],ib[wa],N[wa]);return this};ja.cover=function(N,la){if(isNaN(N=+N)||isNaN(la=+la))return this;var wa=this._x0,Na=this._y0,Pa=this._x1,Xa=this._y1;if(isNaN(wa))Pa=(wa=Math.floor(N))+1,Xa=(Na=Math.floor(la))+1;else{for(var sb=Pa-wa||1,ib=this._root,Sb,X;wa>N||N>=Pa||Na>la||la>=Xa;)switch(X=(la<Na)<<1|N<wa,Sb=Array(4),Sb[X]=ib,ib=Sb,sb*=2,X){case 0:Pa=wa+sb;Xa=Na+sb;break;case 1:wa=Pa-sb;Xa=Na+sb;break;case 2:Pa=wa+sb;Na=
Xa-sb;break;case 3:wa=Pa-sb,Na=Xa-sb}this._root&&this._root.length&&(this._root=ib)}this._x0=wa;this._y0=Na;this._x1=Pa;this._y1=Xa;return this};ja.data=function(){var N=[];this.visit(function(la){if(!la.length){do N.push(la.data);while(la=la.next)}});return N};ja.extent=function(N){return arguments.length?this.cover(+N[0][0],+N[0][1]).cover(+N[1][0],+N[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};ja.find=function(N,la,wa){var Na=this._x0,Pa=this._y0,Xa,sb,ib,Sb,X=this._x1,
Fa=this._y1,Kb=[],pc=this._root,$b;pc&&Kb.push(new ub(pc,Na,Pa,X,Fa));null==wa?wa=Infinity:(Na=N-wa,Pa=la-wa,X=N+wa,Fa=la+wa,wa*=wa);for(;$b=Kb.pop();)if(!(!(pc=$b.node)||(Xa=$b.x0)>X||(sb=$b.y0)>Fa||(ib=$b.x1)<Na||(Sb=$b.y1)<Pa))if(pc.length){$b=(Xa+ib)/2;var Mb=(sb+Sb)/2;Kb.push(new ub(pc[3],$b,Mb,ib,Sb),new ub(pc[2],Xa,Mb,$b,Sb),new ub(pc[1],$b,sb,ib,Mb),new ub(pc[0],Xa,sb,$b,Mb));if(pc=(la>=Mb)<<1|N>=$b)$b=Kb[Kb.length-1],Kb[Kb.length-1]=Kb[Kb.length-1-pc],Kb[Kb.length-1-pc]=$b}else if($b=N-+this._x.call(null,
pc.data),Mb=la-+this._y.call(null,pc.data),$b=$b*$b+Mb*Mb,$b<wa){var Ob=Math.sqrt(wa=$b);Na=N-Ob;Pa=la-Ob;X=N+Ob;Fa=la+Ob;Ob=pc.data}return Ob};ja.remove=function(N){if(isNaN(Sb=+this._x.call(null,N))||isNaN(X=+this._y.call(null,N)))return this;var la,wa=this._root,Na,Pa=this._x0,Xa=this._y0,sb=this._x1,ib=this._y1,Sb,X,Fa,Kb,pc,$b,Mb;if(!wa)return this;if(wa.length)for(;;){(pc=Sb>=(Fa=(Pa+sb)/2))?Pa=Fa:sb=Fa;($b=X>=(Kb=(Xa+ib)/2))?Xa=Kb:ib=Kb;if(!(la=wa,wa=wa[Mb=$b<<1|pc]))return this;if(!wa.length)break;
if(la[Mb+1&3]||la[Mb+2&3]||la[Mb+3&3]){var Ob=la;var yc=Mb}}for(;wa.data!==N;)if(!(Na=wa,wa=wa.next))return this;(N=wa.next)&&delete wa.next;if(Na)return N?Na.next=N:delete Na.next,this;if(!la)return this._root=N,this;N?la[Mb]=N:delete la[Mb];(wa=la[0]||la[1]||la[2]||la[3])&&wa===(la[3]||la[2]||la[1]||la[0])&&!wa.length&&(Ob?Ob[yc]=wa:this._root=wa);return this};ja.removeAll=function(N){for(var la=0,wa=N.length;la<wa;++la)this.remove(N[la]);return this};ja.root=function(){return this._root};ja.size=
function(){var N=0;this.visit(function(la){if(!la.length){do++N;while(la=la.next)}});return N};ja.visit=function(N){var la=[],wa,Na=this._root,Pa,Xa,sb,ib,Sb;for(Na&&la.push(new ub(Na,this._x0,this._y0,this._x1,this._y1));wa=la.pop();)if(!N(Na=wa.node,Xa=wa.x0,sb=wa.y0,ib=wa.x1,Sb=wa.y1)&&Na.length){wa=(Xa+ib)/2;var X=(sb+Sb)/2;(Pa=Na[3])&&la.push(new ub(Pa,wa,X,ib,Sb));(Pa=Na[2])&&la.push(new ub(Pa,Xa,X,wa,Sb));(Pa=Na[1])&&la.push(new ub(Pa,wa,sb,ib,X));(Pa=Na[0])&&la.push(new ub(Pa,Xa,sb,wa,X))}return this};
ja.visitAfter=function(N){var la=[],wa=[],Na;for(this._root&&la.push(new ub(this._root,this._x0,this._y0,this._x1,this._y1));Na=la.pop();){var Pa=Na.node;if(Pa.length){var Xa,sb=Na.x0,ib=Na.y0,Sb=Na.x1,X=Na.y1,Fa=(sb+Sb)/2,Kb=(ib+X)/2;(Xa=Pa[0])&&la.push(new ub(Xa,sb,ib,Fa,Kb));(Xa=Pa[1])&&la.push(new ub(Xa,Fa,ib,Sb,Kb));(Xa=Pa[2])&&la.push(new ub(Xa,sb,Kb,Fa,X));(Xa=Pa[3])&&la.push(new ub(Xa,Fa,Kb,Sb,X))}wa.push(Na)}for(;Na=wa.pop();)N(Na.node,Na.x0,Na.y0,Na.x1,Na.y1);return this};ja.x=function(N){return arguments.length?
(this._x=N,this):this._x};ja.y=function(N){return arguments.length?(this._y=N,this):this._y};var Ma={value:()=>{}};pb.prototype=rb.prototype={constructor:pb,on:function(N,la){var wa=this._,Na=vb(N+"",wa),Pa,Xa=-1,sb=Na.length;if(2>arguments.length)for(;++Xa<sb;){var ib;if(ib=Pa=(N=Na[Xa]).type){a:{ib=wa[Pa];for(var Sb=0,X=ib.length;Sb<X;++Sb)if((Pa=ib[Sb]).name===N.name){Pa=Pa.value;break a}Pa=void 0}ib=Pa}if(ib)return Pa}else{if(null!=la&&"function"!==typeof la)throw Error("invalid callback: "+la);
for(;++Xa<sb;)if(Pa=(N=Na[Xa]).type)wa[Pa]=gb(wa[Pa],N.name,la);else if(null==la)for(Pa in wa)wa[Pa]=gb(wa[Pa],N.name,null);return this}},copy:function(){var N={},la=this._,wa;for(wa in la)N[wa]=la[wa].slice();return new pb(N)},call:function(N,la){if(0<(Pa=arguments.length-2))for(var wa=Array(Pa),Na=0,Pa,Xa;Na<Pa;++Na)wa[Na]=arguments[Na+2];if(!this._.hasOwnProperty(N))throw Error("unknown type: "+N);Xa=this._[N];Na=0;for(Pa=Xa.length;Na<Pa;++Na)Xa[Na].value.apply(la,wa)},apply:function(N,la,wa){if(!this._.hasOwnProperty(N))throw Error("unknown type: "+
N);N=this._[N];for(var Na=0,Pa=N.length;Na<Pa;++Na)N[Na].value.apply(la,wa)}};var oa=0,qa=0,l=0,D,K,v=0,Q=0,A=0,W="object"===typeof performance&&performance.now?performance:Date,G="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(N){setTimeout(N,17)};sa.prototype=ia.prototype={constructor:sa,restart:function(N,la,wa){if("function"!==typeof N)throw new TypeError("callback is not a function");wa=(null==wa?Q||(G(fc),Q=W.now()+A):+wa)+(null==la?
0:+la);this._next||K===this||(K?K._next=this:D=this,K=this);this._call=N;this._time=wa;Wa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Wa())}};var w=Math.PI*(3-Math.sqrt(5));const z={center:function(N,la){function wa(){var Xa,sb=Na.length,ib=0,Sb=0;for(Xa=0;Xa<sb;++Xa){var X=Na[Xa];ib+=X.x;Sb+=X.y}ib=(ib/sb-N)*Pa;Sb=(Sb/sb-la)*Pa;for(Xa=0;Xa<sb;++Xa)X=Na[Xa],X.x-=ib,X.y-=Sb}var Na,Pa=1;null==N&&(N=0);null==la&&(la=0);wa.initialize=function(Xa){Na=Xa};wa.x=function(Xa){return arguments.length?
(N=+Xa,wa):N};wa.y=function(Xa){return arguments.length?(la=+Xa,wa):la};wa.strength=function(Xa){return arguments.length?(Pa=+Xa,wa):Pa};return wa},collide:function(N){function la(){function X(Bb,Ua,xb,Fb,Lb){var Zb=Bb.data;Bb=Bb.r;var ic=yc+Bb;if(Zb)Zb.index>$b.index&&(Ua=Mb-Zb.x-Zb.vx,xb=Ob-Zb.y-Zb.vy,Fb=Ua*Ua+xb*xb,Fb<ic*ic&&(0===Ua&&(Ua=1E-6*(sb()-.5),Fb+=Ua*Ua),0===xb&&(xb=1E-6*(sb()-.5),Fb+=xb*xb),Fb=(ic-(Fb=Math.sqrt(Fb)))/Fb*ib,$b.vx+=(Ua*=Fb)*(ic=(Bb*=Bb)/(hd+Bb)),$b.vy+=(xb*=Fb)*ic,Zb.vx-=
Ua*(ic=1-ic),Zb.vy-=xb*ic));else return Ua>Mb+ic||Fb<Mb-ic||xb>Ob+ic||Lb<Ob-ic}for(var Fa,Kb=Pa.length,pc,$b,Mb,Ob,yc,hd,ra=0;ra<Sb;++ra)for(pc=Wb(Pa,jc,Ea).visitAfter(wa),Fa=0;Fa<Kb;++Fa)$b=Pa[Fa],yc=Xa[$b.index],hd=yc*yc,Mb=$b.x+$b.vx,Ob=$b.y+$b.vy,pc.visit(X)}function wa(X){if(X.data)return X.r=Xa[X.data.index];for(var Fa=X.r=0;4>Fa;++Fa)X[Fa]&&X[Fa].r>X.r&&(X.r=X[Fa].r)}function Na(){if(Pa){var X,Fa=Pa.length;Xa=Array(Fa);for(X=0;X<Fa;++X){var Kb=Pa[X];Xa[Kb.index]=+N(Kb,X,Pa)}}}var Pa,Xa,sb,
ib=1,Sb=1;"function"!==typeof N&&(N=Tb(null==N?1:+N));la.initialize=function(X,Fa){Pa=X;sb=Fa;Na()};la.iterations=function(X){return arguments.length?(Sb=+X,la):Sb};la.strength=function(X){return arguments.length?(ib=+X,la):ib};la.radius=function(X){return arguments.length?(N="function"===typeof X?X:Tb(+X),Na(),la):N};return la},nbody:function(){function N($b){var Mb=Pa.length,Ob=Wb(Pa,hb,$a).visitAfter(wa);ib=$b;for($b=0;$b<Mb;++$b)Xa=Pa[$b],Ob.visit(Na)}function la(){if(Pa){var $b,Mb=Pa.length;
X=Array(Mb);for($b=0;$b<Mb;++$b){var Ob=Pa[$b];X[Ob.index]=+Sb(Ob,$b,Pa)}}}function wa($b){var Mb=0,Ob,yc,hd=0,ra,Bb,Ua;if($b.length){for(ra=Bb=Ua=0;4>Ua;++Ua)(Ob=$b[Ua])&&(yc=Math.abs(Ob.value))&&(Mb+=Ob.value,hd+=yc,ra+=yc*Ob.x,Bb+=yc*Ob.y);$b.x=ra/hd;$b.y=Bb/hd}else{Ob=$b;Ob.x=Ob.data.x;Ob.y=Ob.data.y;do Mb+=X[Ob.data.index];while(Ob=Ob.next)}$b.value=Mb}function Na($b,Mb,Ob,yc){if(!$b.value)return!0;Ob=$b.x-Xa.x;var hd=$b.y-Xa.y;Mb=yc-Mb;yc=Ob*Ob+hd*hd;if(Mb*Mb/pc<yc)return yc<Kb&&(0===Ob&&(Ob=
1E-6*(sb()-.5),yc+=Ob*Ob),0===hd&&(hd=1E-6*(sb()-.5),yc+=hd*hd),yc<Fa&&(yc=Math.sqrt(Fa*yc)),Xa.vx+=Ob*$b.value*ib/yc,Xa.vy+=hd*$b.value*ib/yc),!0;if(!($b.length||yc>=Kb)){if($b.data!==Xa||$b.next)0===Ob&&(Ob=1E-6*(sb()-.5),yc+=Ob*Ob),0===hd&&(hd=1E-6*(sb()-.5),yc+=hd*hd),yc<Fa&&(yc=Math.sqrt(Fa*yc));do $b.data!==Xa&&(Mb=X[$b.data.index]*ib/yc,Xa.vx+=Ob*Mb,Xa.vy+=hd*Mb);while($b=$b.next)}}var Pa,Xa,sb,ib,Sb=Tb(-30),X,Fa=1,Kb=Infinity,pc=.81;N.initialize=function($b,Mb){Pa=$b;sb=Mb;la()};N.strength=
function($b){return arguments.length?(Sb="function"===typeof $b?$b:Tb(+$b),la(),N):Sb};N.distanceMin=function($b){return arguments.length?(Fa=$b*$b,N):Math.sqrt(Fa)};N.distanceMax=function($b){return arguments.length?(Kb=$b*$b,N):Math.sqrt(Kb)};N.theta=function($b){return arguments.length?(pc=$b*$b,N):Math.sqrt(pc)};return N},link:function(N){function la(Ob){for(var yc=0,hd=N.length;yc<Mb;++yc)for(var ra=0,Bb,Ua,xb,Fb,Lb;ra<hd;++ra)Bb=N[ra],Ua=Bb.source,Bb=Bb.target,xb=Bb.x+Bb.vx-Ua.x-Ua.vx||1E-6*
($b()-.5),Fb=Bb.y+Bb.vy-Ua.y-Ua.vy||1E-6*($b()-.5),Lb=Math.sqrt(xb*xb+Fb*Fb),Lb=(Lb-X[ra])/Lb*Ob*ib[ra],xb*=Lb,Fb*=Lb,Bb.vx-=xb*(Lb=pc[ra]),Bb.vy-=Fb*Lb,Ua.vx+=xb*(Lb=1-Lb),Ua.vy+=Fb*Lb}function wa(){if(Fa){var Ob=Fa.length,yc=N.length,hd=new Map(Fa.map((Bb,Ua)=>[Xa(Bb,Ua,Fa),Bb]));var ra=0;for(Kb=Array(Ob);ra<yc;++ra)Ob=N[ra],Ob.index=ra,"object"!==typeof Ob.source&&(Ob.source=tb(hd,Ob.source)),"object"!==typeof Ob.target&&(Ob.target=tb(hd,Ob.target)),Kb[Ob.source.index]=(Kb[Ob.source.index]||0)+
1,Kb[Ob.target.index]=(Kb[Ob.target.index]||0)+1;ra=0;for(pc=Array(yc);ra<yc;++ra)Ob=N[ra],pc[ra]=Kb[Ob.source.index]/(Kb[Ob.source.index]+Kb[Ob.target.index]);ib=Array(yc);Na();X=Array(yc);Pa()}}function Na(){if(Fa)for(var Ob=0,yc=N.length;Ob<yc;++Ob)ib[Ob]=+sb(N[Ob],Ob,N)}function Pa(){if(Fa)for(var Ob=0,yc=N.length;Ob<yc;++Ob)X[Ob]=+Sb(N[Ob],Ob,N)}var Xa=Za,sb=function(Ob){return 1/Math.min(Kb[Ob.source.index],Kb[Ob.target.index])},ib,Sb=Tb(30),X,Fa,Kb,pc,$b,Mb=1;null==N&&(N=[]);la.initialize=
function(Ob,yc){Fa=Ob;$b=yc;wa()};la.links=function(Ob){return arguments.length?(N=Ob,wa(),la):N};la.id=function(Ob){return arguments.length?(Xa=Ob,la):Xa};la.iterations=function(Ob){return arguments.length?(Mb=+Ob,la):Mb};la.strength=function(Ob){return arguments.length?(sb="function"===typeof Ob?Ob:Tb(+Ob),Na(),la):sb};la.distance=function(Ob){return arguments.length?(Sb="function"===typeof Ob?Ob:Tb(+Ob),Pa(),la):Sb};return la},x:function(N){function la(ib){for(var Sb=0,X=Pa.length,Fa;Sb<X;++Sb)Fa=
Pa[Sb],Fa.vx+=(sb[Sb]-Fa.x)*Xa[Sb]*ib}function wa(){if(Pa){var ib,Sb=Pa.length;Xa=Array(Sb);sb=Array(Sb);for(ib=0;ib<Sb;++ib)Xa[ib]=isNaN(sb[ib]=+N(Pa[ib],ib,Pa))?0:+Na(Pa[ib],ib,Pa)}}var Na=Tb(.1),Pa,Xa,sb;"function"!==typeof N&&(N=Tb(null==N?0:+N));la.initialize=function(ib){Pa=ib;wa()};la.strength=function(ib){return arguments.length?(Na="function"===typeof ib?ib:Tb(+ib),wa(),la):Na};la.x=function(ib){return arguments.length?(N="function"===typeof ib?ib:Tb(+ib),wa(),la):N};return la},y:function(N){function la(ib){for(var Sb=
0,X=Pa.length,Fa;Sb<X;++Sb)Fa=Pa[Sb],Fa.vy+=(sb[Sb]-Fa.y)*Xa[Sb]*ib}function wa(){if(Pa){var ib,Sb=Pa.length;Xa=Array(Sb);sb=Array(Sb);for(ib=0;ib<Sb;++ib)Xa[ib]=isNaN(sb[ib]=+N(Pa[ib],ib,Pa))?0:+Na(Pa[ib],ib,Pa)}}var Na=Tb(.1),Pa,Xa,sb;"function"!==typeof N&&(N=Tb(null==N?0:+N));la.initialize=function(ib){Pa=ib;wa()};la.strength=function(ib){return arguments.length?(Na="function"===typeof ib?ib:Tb(+ib),wa(),la):Na};la.y=function(ib){return arguments.length?(N="function"===typeof ib?ib:Tb(+ib),wa(),
la):N};return la}},F=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],V=["static","iterations"],ta=["x","y","vx","vy"];Nb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":ta}]};ka.inherits(Nb,
h.Transform,{transform(N,la){var wa=this.value,Na=la.changed(la.ADD_REM),Pa=N.modified(F),Xa=N.iterations||300;wa?(Na&&(la.modifies("index"),wa.nodes(la.source)),(Pa||la.changed(la.MOD))&&ba(wa,N,0,la)):(this.value=wa=T(la.source,N),wa.on("tick",db(la.dataflow,this)),N.static||(Na=!0,wa.tick()),la.modifies("index"));if(Pa||Na||N.modified(V)||la.changed()&&N.restart)if(wa.alpha(Math.max(wa.alpha(),N.alpha||1)).alphaDecay(1-Math.pow(wa.alphaMin(),1/Xa)),N.static)for(wa.stop();0<=--Xa;)wa.tick();else if(wa.stopped()&&
wa.restart(),!Na)return la.StopPropagation;return this.finish(N,la)},finish(N,la){const wa=la.dataflow;for(let ib=this._argops,Sb=0,X=ib.length,Fa;Sb<X;++Sb)if(Fa=ib[Sb],"forces"===Fa.name&&"link"===Fa.op._argval.force)for(var Na=Fa.op._argops,Pa=0,Xa=Na.length,sb;Pa<Xa;++Pa)if("links"===Na[Pa].name&&(sb=Na[Pa].op.source)){wa.pulse(sb,wa.changeset().reflow());break}return la.reflow(N.modified()).modifies(ta)}});t.force=Nb})};
shadow$provide[40]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ka){function Ya(ra,Bb,Ua){const xb={};ra.each(Fb=>{const Lb=Fb.data;Ua(Lb)&&(xb[Bb(Lb)]=Fb)});ra.lookup=xb;return ra}function ub(ra,Bb){return ra.parent===Bb.parent?1:2}function Yb(ra,Bb){return ra+
Bb.x}function dc(ra,Bb){return Math.max(ra,Bb.y)}function Wb(ra){for(var Bb;Bb=ra.children;)ra=Bb[0];return ra}function oc(ra){for(var Bb;Bb=ra.children;)ra=Bb[Bb.length-1];return ra}function Ab(ra){var Bb=0,Ua=ra.children,xb=Ua&&Ua.length;if(xb)for(;0<=--xb;)Bb+=Ua[xb].value;else Bb=1;ra.value=Bb}function Tb(ra,Bb){ra instanceof Map?(ra=[void 0,ra],void 0===Bb&&(Bb=Ea)):void 0===Bb&&(Bb=jc);ra=new rb(ra);for(var Ua,xb=[ra],Fb,Lb,Zb,ic;Ua=xb.pop();)if((Lb=Bb(Ua.data))&&(ic=(Lb=Array.from(Lb)).length))for(Ua.children=
Lb,Zb=ic-1;0<=Zb;--Zb)xb.push(Fb=Lb[Zb]=new rb(Lb[Zb])),Fb.parent=Ua,Fb.depth=Ua.depth+1;return ra.eachBefore(tb)}function jc(ra){return ra.children}function Ea(ra){return Array.isArray(ra)?ra[1]:null}function Za(ra){void 0!==ra.data.value&&(ra.value=ra.data.value);ra.data=ra.data.data}function tb(ra){var Bb=0;do ra.height=Bb;while((ra=ra.parent)&&ra.height<++Bb)}function rb(ra){this.data=ra;this.depth=this.height=0;this.parent=null}function pb(ra){if("function"!==typeof ra)throw Error();return ra}
function vb(){return 0}function gb(ra){return function(){return ra}}function fc(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function sa(ra,Bb){var Ua=ra.r-Bb.r,xb=Bb.x-ra.x;ra=Bb.y-ra.y;return 0>Ua||Ua*Ua<xb*xb+ra*ra}function ia(ra,Bb){var Ua=ra.r-Bb.r+1E-9*Math.max(ra.r,Bb.r,1),xb=Bb.x-ra.x;ra=Bb.y-ra.y;return 0<Ua&&Ua*Ua>xb*xb+ra*ra}function Ba(ra,Bb){for(var Ua=0;Ua<Bb.length;++Ua)if(!ia(ra,Bb[Ua]))return!1;return!0}function Sa(ra,Bb){var Ua=ra.x,xb=ra.y;ra=ra.r;var Fb=
Bb.x,Lb=Bb.y;Bb=Bb.r;var Zb=Fb-Ua,ic=Lb-xb,Ac=Bb-ra,nd=Math.sqrt(Zb*Zb+ic*ic);return{x:(Ua+Fb+Zb/nd*Ac)/2,y:(xb+Lb+ic/nd*Ac)/2,r:(nd+ra+Bb)/2}}function Wa(ra,Bb,Ua){var xb=ra.x,Fb=ra.y;ra=ra.r;var Lb=Bb.x,Zb=Bb.y,ic=Bb.r,Ac=Ua.x,nd=Ua.y,Vc=Ua.r;Ua=xb-Lb;Bb=xb-Ac;var na=Fb-Zb,Ia=Fb-nd,fb=ic-ra,R=Vc-ra,r=xb*xb+Fb*Fb-ra*ra;Zb=r-Lb*Lb-Zb*Zb+ic*ic;nd=r-Ac*Ac-nd*nd+Vc*Vc;Ac=Bb*na-Ua*Ia;Lb=(na*nd-Ia*Zb)/(2*Ac)-xb;na=(Ia*fb-na*R)/Ac;Ia=(Bb*Zb-Ua*nd)/(2*Ac)-Fb;Ua=(Ua*R-Bb*fb)/Ac;Bb=na*na+Ua*Ua-1;fb=2*(ra+
Lb*na+Ia*Ua);ra=Lb*Lb+Ia*Ia-ra*ra;ra=-(1E-6<Math.abs(Bb)?(fb+Math.sqrt(fb*fb-4*Bb*ra))/(2*Bb):ra/fb);return{x:xb+Lb+na*ra,y:Fb+Ia+Ua*ra,r:ra}}function Ha(ra,Bb,Ua){var xb=ra.x-Bb.x,Fb=ra.y-Bb.y,Lb=xb*xb+Fb*Fb;if(Lb){var Zb=Bb.r+Ua.r;Zb*=Zb;var ic=ra.r+Ua.r;ic*=ic;if(Zb>ic){var Ac=(Lb+ic-Zb)/(2*Lb);Zb=Math.sqrt(Math.max(0,ic/Lb-Ac*Ac));Ua.x=ra.x-Ac*xb-Zb*Fb;Ua.y=ra.y-Ac*Fb+Zb*xb}else Ac=(Lb+Zb-ic)/(2*Lb),Zb=Math.sqrt(Math.max(0,Zb/Lb-Ac*Ac)),Ua.x=Bb.x+Ac*xb-Zb*Fb,Ua.y=Bb.y+Ac*Fb+Zb*xb}else Ua.x=Bb.x+
Ua.r,Ua.y=Bb.y}function hb(ra,Bb){var Ua=ra.r+Bb.r-1E-6,xb=Bb.x-ra.x;ra=Bb.y-ra.y;return 0<Ua&&Ua*Ua>xb*xb+ra*ra}function $a(ra){var Bb=ra._,Ua=ra.next._,xb=Bb.r+Ua.r;ra=(Bb.x*Ua.r+Ua.x*Bb.r)/xb;Bb=(Bb.y*Ua.r+Ua.y*Bb.r)/xb;return ra*ra+Bb*Bb}function qb(ra){this._=ra;this.previous=this.next=null}function Nb(ra,Bb){if(!(xb=(ra="object"===typeof ra&&"length"in ra?ra:Array.from(ra)).length))return 0;var Ua,xb;var Fb=ra[0];Fb.x=0;Fb.y=0;if(!(1<xb))return Fb.r;var Lb=ra[1];Fb.x=-Lb.r;Lb.x=Fb.r;Lb.y=0;
if(!(2<xb))return Fb.r+Lb.r;Ha(Lb,Fb,Ua=ra[2]);Fb=new qb(Fb);Lb=new qb(Lb);Ua=new qb(Ua);Fb.next=Ua.previous=Lb;Lb.next=Fb.previous=Ua;Ua.next=Lb.previous=Fb;var Zb=3;a:for(;Zb<xb;++Zb){Ha(Fb._,Lb._,Ua=ra[Zb]);Ua=new qb(Ua);var ic=Lb.next;var Ac=Fb.previous;var nd=Lb._.r;var Vc=Fb._.r;do if(nd<=Vc){if(hb(ic._,Ua._)){Lb=ic;Fb.next=Lb;Lb.previous=Fb;--Zb;continue a}nd+=ic._.r;ic=ic.next}else{if(hb(Ac._,Ua._)){Fb=Ac;Fb.next=Lb;Lb.previous=Fb;--Zb;continue a}Vc+=Ac._.r;Ac=Ac.previous}while(ic!==Ac.next);
Ua.previous=Fb;Ua.next=Lb;Fb.next=Lb.previous=Lb=Ua;for(ic=$a(Fb);(Ua=Ua.next)!==Lb;)(Ac=$a(Ua))<ic&&(Fb=Ua,ic=Ac);Lb=Fb.next}Fb=[Lb._];for(Ua=Lb;(Ua=Ua.next)!==Lb;)Fb.push(Ua._);Lb=0;Fb=Array.from(Fb);for(Ua=Fb.length;Ua;)ic=Bb()*Ua--|0,Zb=Fb[Ua],Fb[Ua]=Fb[ic],Fb[ic]=Zb;Fb=(Bb=Fb).length;Ua=[];for(var na;Lb<Fb;)if(Zb=Bb[Lb],na&&ia(na,Zb))++Lb;else{a:if(na=Ua,Ba(Zb,na))na=[Zb];else{for(Ua=0;Ua<na.length;++Ua)if(sa(Zb,na[Ua])&&Ba(Sa(na[Ua],Zb),na)){na=[na[Ua],Zb];break a}for(Ua=0;Ua<na.length-1;++Ua)for(Lb=
Ua+1;Lb<na.length;++Lb)if(sa(Sa(na[Ua],na[Lb]),Zb)&&sa(Sa(na[Ua],Zb),na[Lb])&&sa(Sa(na[Lb],Zb),na[Ua])&&Ba(Wa(na[Ua],na[Lb],Zb),na)){na=[na[Ua],na[Lb],Zb];break a}throw Error();}a:{na=Ua=na;switch(na.length){case 1:na=na[0];na={x:na.x,y:na.y,r:na.r};break a;case 2:na=Sa(na[0],na[1]);break a;case 3:na=Wa(na[0],na[1],na[2]);break a}na=void 0}Lb=0}Ua=na;for(Zb=0;Zb<xb;++Zb)Fb=ra[Zb],Fb.x-=Ua.x,Fb.y-=Ua.y;return Ua.r}function db(ra){return Math.sqrt(ra.value)}function T(ra){return function(Bb){Bb.children||
(Bb.r=Math.max(0,+ra(Bb)||0))}}function ba(ra,Bb,Ua){return function(xb){if(Fb=xb.children){var Fb,Lb,Zb=Fb.length,ic=ra(xb)*Bb||0;if(ic)for(Lb=0;Lb<Zb;++Lb)Fb[Lb].r+=ic;var Ac=Nb(Fb,Ua);if(ic)for(Lb=0;Lb<Zb;++Lb)Fb[Lb].r-=ic;xb.r=Ac+ic}}}function ea(ra){return function(Bb){var Ua=Bb.parent;Bb.r*=ra;Ua&&(Bb.x=Ua.x+ra*Bb.x,Bb.y=Ua.y+ra*Bb.y)}}function ja(ra){ra.x0=Math.round(ra.x0);ra.y0=Math.round(ra.y0);ra.x1=Math.round(ra.x1);ra.y1=Math.round(ra.y1)}function Ma(ra,Bb,Ua,xb,Fb){var Lb=ra.children,
Zb=-1,ic=Lb.length;for(xb=ra.value&&(xb-Bb)/ra.value;++Zb<ic;)ra=Lb[Zb],ra.y0=Ua,ra.y1=Fb,ra.x0=Bb,ra.x1=Bb+=ra.value*xb}function oa(ra){return ra.id}function qa(ra){return ra.parentId}function l(){function ra(Fb){var Lb=Array.from(Fb),Zb=Bb,ic=Ua,Ac,nd,Vc=new Map;if(null!=xb){const da=Lb.map((Da,Oa)=>{Da=xb(Da,Oa,Fb);Da=`${Da}`;Oa=Da.length;K(Da,Oa-1)&&!K(Da,Oa-2)&&(Da=Da.slice(0,-1));return"/"===Da[0]?Da:`/${Da}`}),za=da.map(D);Zb=(new Set(da)).add("");for(fb of za)Zb.has(fb)||(Zb.add(fb),da.push(fb),
za.push(D(fb)),Lb.push(Fa));Zb=(Da,Oa)=>da[Oa];ic=(Da,Oa)=>za[Oa]}var na=0;for(Ac=Lb.length;na<Ac;++na){var Ia=Lb[na];var fb=Lb[na]=new rb(Ia);if(null!=(nd=Zb(Ia,na,Fb))&&(nd+="")){var R=fb.id=nd;Vc.set(R,Vc.has(R)?X:fb)}null!=(nd=ic(Ia,na,Fb))&&(nd+="")&&(fb.parent=nd)}for(na=0;na<Ac;++na)if(fb=Lb[na],nd=fb.parent){Zb=Vc.get(nd);if(!Zb)throw Error("missing: "+nd);if(Zb===X)throw Error("ambiguous: "+nd);Zb.children?Zb.children.push(fb):Zb.children=[fb];fb.parent=Zb}else{if(r)throw Error("multiple roots");
var r=fb}if(!r)throw Error("no root");if(null!=xb){for(;r.data===Fa&&1===r.children.length;)r=r.children[0],--Ac;for(nd=Lb.length-1;0<=nd;--nd){fb=Lb[nd];if(fb.data!==Fa)break;fb.data=null}}r.parent=Sb;r.eachBefore(function(da){da.depth=da.parent.depth+1;--Ac}).eachBefore(tb);r.parent=null;if(0<Ac)throw Error("cycle");return r}var Bb=oa,Ua=qa,xb;ra.id=function(Fb){return arguments.length?(Bb=null==Fb?null:pb(Fb),ra):Bb};ra.parentId=function(Fb){return arguments.length?(Ua=null==Fb?null:pb(Fb),ra):
Ua};ra.path=function(Fb){return arguments.length?(xb=null==Fb?null:pb(Fb),ra):xb};return ra}function D(ra){let Bb=ra.length;if(2>Bb)return"";for(;1<--Bb&&!K(ra,Bb););return ra.slice(0,Bb)}function K(ra,Bb){if("/"===ra[Bb]){let Ua=0;for(;0<Bb&&"\\"===ra[--Bb];)++Ua;if(0===(Ua&1))return!0}return!1}function v(ra,Bb){return ra.parent===Bb.parent?1:2}function Q(ra){var Bb=ra.children;return Bb?Bb[0]:ra.t}function A(ra){var Bb=ra.children;return Bb?Bb[Bb.length-1]:ra.t}function W(ra,Bb){this._=ra;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Bb}function G(ra){ra=new W(ra,0);for(var Bb,Ua=[ra],xb,Fb,Lb;Bb=Ua.pop();)if(Fb=Bb._.children)for(Bb.children=Array(xb=Fb.length),Lb=xb-1;0<=Lb;--Lb)Ua.push(xb=Bb.children[Lb]=new W(Fb[Lb],Lb)),xb.parent=Bb;(ra.parent=new W(null,0)).children=[ra];return ra}function w(ra,Bb,Ua,xb,Fb){var Lb=ra.children,Zb=-1,ic=Lb.length;for(Fb=ra.value&&(Fb-Ua)/ra.value;++Zb<ic;)ra=Lb[Zb],ra.x0=Bb,ra.x1=xb,ra.y0=Ua,ra.y1=Ua+=
ra.value*Fb}function z(ra,Bb,Ua,xb,Fb,Lb){for(var Zb=[],ic=Bb.children,Ac,nd,Vc=Ac=0,na=ic.length,Ia,fb=Bb.value,R,r,da,za,Da,Oa;Ac<na;){Bb=Fb-Ua;Ia=Lb-xb;do R=ic[Vc++].value;while(!R&&Vc<na);r=da=R;Oa=Math.max(Ia/Bb,Bb/Ia)/(fb*ra);za=R*R*Oa;for(Da=Math.max(da/za,za/r);Vc<na;++Vc){R+=nd=ic[Vc].value;nd<r&&(r=nd);nd>da&&(da=nd);za=R*R*Oa;za=Math.max(da/za,za/r);if(za>Da){R-=nd;break}Da=za}Zb.push(Ac={value:R,dice:Bb<Ia,children:ic.slice(Ac,Vc)});Ac.dice?Ma(Ac,Ua,xb,Fb,fb?xb+=Ia*R/fb:Lb):w(Ac,Ua,xb,
fb?Ua+=Bb*R/fb:Fb,Lb);fb-=R;Ac=Vc}return Zb}function F(){function ra(Ia){Ia.x0=Ia.y0=0;Ia.x1=Fb;Ia.y1=Lb;Ia.eachBefore(Bb);Zb=[0];xb&&Ia.eachBefore(ja);return Ia}function Bb(Ia){var fb=Zb[Ia.depth],R=Ia.x0+fb,r=Ia.y0+fb,da=Ia.x1-fb,za=Ia.y1-fb;da<R&&(R=da=(R+da)/2);za<r&&(r=za=(r+za)/2);Ia.x0=R;Ia.y0=r;Ia.x1=da;Ia.y1=za;Ia.children&&(fb=Zb[Ia.depth+1]=ic(Ia)/2,R+=na(Ia)-fb,r+=Ac(Ia)-fb,da-=nd(Ia)-fb,za-=Vc(Ia)-fb,da<R&&(R=da=(R+da)/2),za<r&&(r=za=(r+za)/2),Ua(Ia,R,r,da,za))}var Ua=pc,xb=!1,Fb=1,Lb=
1,Zb=[0],ic=vb,Ac=vb,nd=vb,Vc=vb,na=vb;ra.round=function(Ia){return arguments.length?(xb=!!Ia,ra):xb};ra.size=function(Ia){return arguments.length?(Fb=+Ia[0],Lb=+Ia[1],ra):[Fb,Lb]};ra.tile=function(Ia){return arguments.length?(Ua=pb(Ia),ra):Ua};ra.padding=function(Ia){return arguments.length?ra.paddingInner(Ia).paddingOuter(Ia):ra.paddingInner()};ra.paddingInner=function(Ia){return arguments.length?(ic="function"===typeof Ia?Ia:gb(+Ia),ra):ic};ra.paddingOuter=function(Ia){return arguments.length?
ra.paddingTop(Ia).paddingRight(Ia).paddingBottom(Ia).paddingLeft(Ia):ra.paddingTop()};ra.paddingTop=function(Ia){return arguments.length?(Ac="function"===typeof Ia?Ia:gb(+Ia),ra):Ac};ra.paddingRight=function(Ia){return arguments.length?(nd="function"===typeof Ia?Ia:gb(+Ia),ra):nd};ra.paddingBottom=function(Ia){return arguments.length?(Vc="function"===typeof Ia?Ia:gb(+Ia),ra):Vc};ra.paddingLeft=function(Ia){return arguments.length?(na="function"===typeof Ia?Ia:gb(+Ia),ra):na};return ra}function V(ra){h.Transform.call(this,
null,ra)}function ta(){function ra(Fb,Lb){if(Lb>=Ua.length)return Fb;const Zb=Fb.length,ic=Ua[Lb++],Ac={},nd={};let Vc=-1,na,Ia,fb;for(;++Vc<Zb;)na=ic(Ia=Fb[Vc])+"",(fb=Ac[na])?fb.push(Ia):Ac[na]=[Ia];for(na in Ac)nd[na]=ra(Ac[na],Lb);return nd}function Bb(Fb,Lb){if(++Lb>Ua.length)return Fb;const Zb=[];for(const ic in Fb)Zb.push({key:ic,values:Bb(Fb[ic],Lb)});return Zb}const Ua=[],xb={entries:Fb=>Bb(ra(Fb,0),0),key:Fb=>(Ua.push(Fb),xb)};return xb}function N(ra){h.Transform.call(this,null,ra)}function la(ra,
Bb,Ua){for(let xb,Fb=0,Lb=Bb.length;Fb<Lb;++Fb)if(xb=Bb[Fb],xb in Ua)ra[xb](Ua[xb])}function wa(ra){N.call(this,ra)}function Na(ra){N.call(this,ra)}function Pa(ra){h.Transform.call(this,null,ra)}function Xa(ra){N.call(this,ra)}function sb(ra){h.Transform.call(this,[],ra)}function ib(ra){N.call(this,ra)}rb.prototype=Tb.prototype={constructor:rb,count:function(){return this.eachAfter(Ab)},each:function(ra,Bb){let Ua=-1;for(const xb of this)ra.call(Bb,xb,++Ua,this);return this},eachAfter:function(ra,
Bb){for(var Ua,xb=[this],Fb=[],Lb,Zb,ic=-1;Ua=xb.pop();)if(Fb.push(Ua),Ua=Ua.children)for(Lb=0,Zb=Ua.length;Lb<Zb;++Lb)xb.push(Ua[Lb]);for(;Ua=Fb.pop();)ra.call(Bb,Ua,++ic,this);return this},eachBefore:function(ra,Bb){for(var Ua,xb=[this],Fb,Lb=-1;Ua=xb.pop();)if(ra.call(Bb,Ua,++Lb,this),Ua=Ua.children)for(Fb=Ua.length-1;0<=Fb;--Fb)xb.push(Ua[Fb]);return this},find:function(ra,Bb){let Ua=-1;for(const xb of this)if(ra.call(Bb,xb,++Ua,this))return xb},sum:function(ra){return this.eachAfter(function(Bb){for(var Ua=
+ra(Bb.data)||0,xb=Bb.children,Fb=xb&&xb.length;0<=--Fb;)Ua+=xb[Fb].value;Bb.value=Ua})},sort:function(ra){return this.eachBefore(function(Bb){Bb.children&&Bb.children.sort(ra)})},path:function(ra){var Bb=this;var Ua=Bb;var xb=ra;if(Ua!==xb){var Fb=Ua.ancestors(),Lb=xb.ancestors(),Zb=null;Ua=Fb.pop();for(xb=Lb.pop();Ua===xb;)Zb=Ua,Ua=Fb.pop(),xb=Lb.pop();Ua=Zb}for(xb=[Bb];Bb!==Ua;)Bb=Bb.parent,xb.push(Bb);for(Bb=xb.length;ra!==Ua;)xb.splice(Bb,0,ra),ra=ra.parent;return xb},ancestors:function(){for(var ra=
this,Bb=[ra];ra=ra.parent;)Bb.push(ra);return Bb},descendants:function(){return Array.from(this)},leaves:function(){var ra=[];this.eachBefore(function(Bb){Bb.children||ra.push(Bb)});return ra},links:function(){var ra=this,Bb=[];ra.each(function(Ua){Ua!==ra&&Bb.push({source:Ua.parent,target:Ua})});return Bb},copy:function(){return Tb(this).eachBefore(Za)},[Symbol.iterator]:function*(){var ra,Bb=[this],Ua;do{var xb=Bb.reverse();for(Bb=[];ra=xb.pop();)if(yield ra,ra=ra.children){var Fb=0;for(Ua=ra.length;Fb<
Ua;++Fb)Bb.push(ra[Fb])}}while(Bb.length)}};var Sb={depth:-1},X={},Fa={};W.prototype=Object.create(rb.prototype);var Kb=(1+Math.sqrt(5))/2,pc=function Ua(Bb){function xb(Fb,Lb,Zb,ic,Ac){z(Bb,Fb,Lb,Zb,ic,Ac)}xb.ratio=function(Fb){return Ua(1<(Fb=+Fb)?Fb:1)};return xb}(Kb);Kb=function xb(Ua){function Fb(Lb,Zb,ic,Ac,nd){if((Vc=Lb._squarify)&&Vc.ratio===Ua)for(var Vc,na,Ia,fb=-1,R,r=Vc.length,da=Lb.value;++fb<r;){Lb=Vc[fb];na=Lb.children;Ia=Lb.value=0;for(R=na.length;Ia<R;++Ia)Lb.value+=na[Ia].value;
Lb.dice?Ma(Lb,Zb,ic,Ac,da?ic+=(nd-ic)*Lb.value/da:nd):w(Lb,Zb,ic,da?Zb+=(Ac-Zb)*Lb.value/da:Ac,nd);da-=Lb.value}else Lb._squarify=Vc=z(Ua,Lb,Zb,ic,Ac,nd),Vc.ratio=Ua}Fb.ratio=function(Lb){return xb(1<(Lb=+Lb)?Lb:1)};return Fb}(Kb);V.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $b=Ua=>Ua.values;ka.inherits(V,h.Transform,{transform(Ua,xb){xb.source||ka.error("Nest transform requires an upstream data source.");
var Fb=Ua.generate,Lb=Ua.modified(),Zb=xb.clone(),ic=this.value;if(!ic||Lb||xb.changed())ic&&ic.each(Ac=>{Ac.children&&h.isTuple(Ac.data)&&Zb.rem.push(Ac.data)}),this.value=ic=Tb({values:ka.array(Ua.keys).reduce((Ac,nd)=>{Ac.key(nd);return Ac},ta()).entries(Zb.source)},$b),Fb&&ic.each(Ac=>{Ac.children&&(Ac=h.ingest(Ac.data),Zb.add.push(Ac),Zb.source.push(Ac))}),Ya(ic,h.tupleid,h.tupleid);Zb.source.root=ic;return Zb}});const Mb=(Ua,xb)=>Ua.parent===xb.parent?1:2;ka.inherits(N,h.Transform,{transform(Ua,
xb){xb.source&&xb.source.root||ka.error(this.constructor.name+" transform requires a backing tree data source.");const Fb=this.layout(Ua.method),Lb=this.fields,Zb=xb.source.root,ic=Ua.as||Lb;Ua.field?Zb.sum(Ua.field):Zb.count();Ua.sort&&Zb.sort(h.stableCompare(Ua.sort,Ac=>Ac.data));la(Fb,this.params,Ua);Fb.separation&&Fb.separation(!1!==Ua.separation?Mb:ka.one);try{this.value=Fb(Zb)}catch(Ac){ka.error(Ac)}Zb.each(Ac=>{const nd=Ac.data,Vc=Lb.length-1;for(let na=0;na<Vc;++na)nd[ic[na]]=Ac[Lb[na]];nd[ic[Vc]]=
Ac.children?Ac.children.length:0});return xb.reflow(Ua.modified()).modifies(ic).modifies("leaf")}});var Ob=["x","y","r","depth","children"];wa.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};ka.inherits(wa,N,{layout:function(){function Ua(ic){const Ac=
fc();ic.x=Fb/2;ic.y=Lb/2;xb?ic.eachBefore(T(xb)).eachAfter(ba(Zb,.5,Ac)).eachBefore(ea(1)):ic.eachBefore(T(db)).eachAfter(ba(vb,1,Ac)).eachAfter(ba(Zb,ic.r/Math.min(Fb,Lb),Ac)).eachBefore(ea(Math.min(Fb,Lb)/(2*ic.r)));return ic}var xb=null,Fb=1,Lb=1,Zb=vb;Ua.radius=function(ic){return arguments.length?(xb=null==ic?null:pb(ic),Ua):xb};Ua.size=function(ic){return arguments.length?(Fb=+ic[0],Lb=+ic[1],Ua):[Fb,Lb]};Ua.padding=function(ic){return arguments.length?(Zb="function"===typeof ic?ic:gb(+ic),
Ua):Zb};return Ua},params:["radius","size","padding"],fields:Ob});Ob="x0 y0 x1 y1 depth children".split(" ");Na.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};ka.inherits(Na,N,{layout:function(){function Ua(Ac){var nd=Ac.height+
1;Ac.x0=Ac.y0=Zb;Ac.x1=Fb;Ac.y1=Lb/nd;Ac.eachBefore(xb(Lb,nd));ic&&Ac.eachBefore(ja);return Ac}function xb(Ac,nd){return function(Vc){Vc.children&&Ma(Vc,Vc.x0,Ac*(Vc.depth+1)/nd,Vc.x1,Ac*(Vc.depth+2)/nd);var na=Vc.x0,Ia=Vc.y0,fb=Vc.x1-Zb,R=Vc.y1-Zb;fb<na&&(na=fb=(na+fb)/2);R<Ia&&(Ia=R=(Ia+R)/2);Vc.x0=na;Vc.y0=Ia;Vc.x1=fb;Vc.y1=R}}var Fb=1,Lb=1,Zb=0,ic=!1;Ua.round=function(Ac){return arguments.length?(ic=!!Ac,Ua):ic};Ua.size=function(Ac){return arguments.length?(Fb=+Ac[0],Lb=+Ac[1],Ua):[Fb,Lb]};Ua.padding=
function(Ac){return arguments.length?(Zb=+Ac,Ua):Zb};return Ua},params:["size","round","padding"],fields:Ob});Pa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ka.inherits(Pa,h.Transform,{transform(Ua,xb){xb.source||ka.error("Stratify transform requires an upstream data source.");let Fb=this.value;const Lb=Ua.modified(),Zb=xb.fork(xb.ALL).materialize(xb.SOURCE);xb=!Fb||Lb||xb.changed(xb.ADD_REM)||xb.modified(Ua.key.fields)||
xb.modified(Ua.parentKey.fields);Zb.source=Zb.source.slice();xb&&(Fb=Zb.source.length?Ya(l().id(Ua.key).parentId(Ua.parentKey)(Zb.source),Ua.key,ka.truthy):Ya(l()([{}]),Ua.key,Ua.key));Zb.source.root=this.value=Fb;return Zb}});const yc={tidy:function(){function Ua(Vc){var na=G(Vc);na.eachAfter(xb);na.parent.m=-na.z;na.eachBefore(Fb);if(nd)Vc.eachBefore(Lb);else{var Ia=Vc,fb=Vc,R=Vc;Vc.eachBefore(function(Da){Da.x<Ia.x&&(Ia=Da);Da.x>fb.x&&(fb=Da);Da.depth>R.depth&&(R=Da)});na=Ia===fb?1:Zb(Ia,fb)/2;
var r=na-Ia.x,da=ic/(fb.x+na+r),za=Ac/(R.depth||1);Vc.eachBefore(function(Da){Da.x=(Da.x+r)*da;Da.y=Da.depth*za})}return Vc}function xb(Vc){var na=Vc.children,Ia=Vc.parent.children,fb=Vc.i?Ia[Vc.i-1]:null;if(na){for(var R=0,r=0,da=Vc.children,za=da.length,Da;0<=--za;)Da=da[za],Da.z+=R,Da.m+=R,R+=Da.s+(r+=Da.c);na=(na[0].z+na[na.length-1].z)/2;fb?(Vc.z=fb.z+Zb(Vc._,fb._),Vc.m=Vc.z-na):Vc.z=na}else fb&&(Vc.z=fb.z+Zb(Vc._,fb._));na=Vc.parent;Ia=Vc.parent.A||Ia[0];if(fb){r=R=Vc;da=R.parent.children[0];
za=R.m;Da=r.m;for(var Oa=fb.m,kb=da.m,Ub;fb=A(fb),R=Q(R),fb&&R;){da=Q(da);r=A(r);r.a=Vc;Ub=fb.z+Oa-R.z-za+Zb(fb._,R._);if(0<Ub){var Eb=fb.a.parent===Vc.parent?fb.a:Ia,Ib=Vc,Cc=Ub,Hc=Cc/(Ib.i-Eb.i);Ib.c-=Hc;Ib.s+=Cc;Eb.c+=Hc;Ib.z+=Cc;Ib.m+=Cc;za+=Ub;Da+=Ub}Oa+=fb.m;za+=R.m;kb+=da.m;Da+=r.m}fb&&!A(r)&&(r.t=fb,r.m+=Oa-Da);R&&!Q(da)&&(da.t=R,da.m+=za-kb,Ia=Vc)}na.A=Ia}function Fb(Vc){Vc._.x=Vc.z+Vc.parent.m;Vc.m+=Vc.parent.m}function Lb(Vc){Vc.x*=ic;Vc.y=Vc.depth*Ac}var Zb=v,ic=1,Ac=1,nd=null;Ua.separation=
function(Vc){return arguments.length?(Zb=Vc,Ua):Zb};Ua.size=function(Vc){return arguments.length?(nd=!1,ic=+Vc[0],Ac=+Vc[1],Ua):nd?null:[ic,Ac]};Ua.nodeSize=function(Vc){return arguments.length?(nd=!0,ic=+Vc[0],Ac=+Vc[1],Ua):nd?[ic,Ac]:null};return Ua},cluster:function(){function Ua(ic){var Ac,nd=0;ic.eachAfter(function(R){var r=R.children;if(r){var da=r.reduce(Yb,0)/r.length;R.x=da;R.y=1+r.reduce(dc,0)}else R.x=Ac?nd+=xb(R,Ac):0,R.y=0,Ac=R});var Vc=Wb(ic),na=oc(ic),Ia=Vc.x-xb(Vc,na)/2,fb=na.x+xb(na,
Vc)/2;return ic.eachAfter(Zb?function(R){R.x=(R.x-ic.x)*Fb;R.y=(ic.y-R.y)*Lb}:function(R){R.x=(R.x-Ia)/(fb-Ia)*Fb;R.y=(1-(ic.y?R.y/ic.y:1))*Lb})}var xb=ub,Fb=1,Lb=1,Zb=!1;Ua.separation=function(ic){return arguments.length?(xb=ic,Ua):xb};Ua.size=function(ic){return arguments.length?(Zb=!1,Fb=+ic[0],Lb=+ic[1],Ua):Zb?null:[Fb,Lb]};Ua.nodeSize=function(ic){return arguments.length?(Zb=!0,Fb=+ic[0],Lb=+ic[1],Ua):Zb?[Fb,Lb]:null};return Ua}};Ob=["x","y","depth","children"];Xa.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};ka.inherits(Xa,N,{layout(Ua){Ua=Ua||"tidy";if(ka.hasOwnProperty(yc,Ua))return yc[Ua]();ka.error("Unrecognized Tree layout method: "+Ua)},params:["size",
"nodeSize"],fields:Ob});sb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ka.inherits(sb,h.Transform,{transform(Ua,xb){Ua=this.value;const Fb=xb.source&&xb.source.root,Lb=xb.fork(xb.NO_SOURCE),Zb={};Fb||ka.error("TreeLinks transform requires a tree data source.");xb.changed(xb.ADD_REM)?(Lb.rem=Ua,xb.visit(xb.SOURCE,ic=>Zb[h.tupleid(ic)]=1),Fb.each(ic=>{const Ac=ic.data;(ic=ic.parent&&ic.parent.data)&&Zb[h.tupleid(Ac)]&&Zb[h.tupleid(ic)]&&Lb.add.push(h.ingest({source:ic,
target:Ac}))}),this.value=Lb.add):xb.changed(xb.MOD)&&(xb.visit(xb.MOD,ic=>Zb[h.tupleid(ic)]=1),Ua.forEach(ic=>{(Zb[h.tupleid(ic.source)]||Zb[h.tupleid(ic.target)])&&Lb.mod.push(ic)}));return Lb}});const hd={binary:function(Ua,xb,Fb,Lb,Zb){function ic(fb,R,r,da,za,Da,Oa){if(fb>=R-1)fb=Ac[fb],fb.x0=da,fb.y0=za,fb.x1=Da,fb.y1=Oa;else{for(var kb=Ia[fb],Ub=r/2+kb,Eb=fb+1,Ib=R-1;Eb<Ib;){var Cc=Eb+Ib>>>1;Ia[Cc]<Ub?Eb=Cc+1:Ib=Cc}Ub-Ia[Eb-1]<Ia[Eb]-Ub&&fb+1<Eb&&--Eb;kb=Ia[Eb]-kb;Ub=r-kb;Da-da>Oa-za?(r=r?
(da*Ub+Da*kb)/r:Da,ic(fb,Eb,kb,da,za,r,Oa),ic(Eb,R,Ub,r,za,Da,Oa)):(r=r?(za*Ub+Oa*kb)/r:Oa,ic(fb,Eb,kb,da,za,Da,r),ic(Eb,R,Ub,da,r,Da,Oa))}}var Ac=Ua.children,nd,Vc=Ac.length,na,Ia=Array(Vc+1);for(Ia[0]=na=nd=0;nd<Vc;++nd)Ia[nd+1]=na+=Ac[nd].value;ic(0,Vc,Ua.value,xb,Fb,Lb,Zb)},dice:Ma,slice:w,slicedice:function(Ua,xb,Fb,Lb,Zb){(Ua.depth&1?w:Ma)(Ua,xb,Fb,Lb,Zb)},squarify:pc,resquarify:Kb};Kb="x0 y0 x1 y1 depth children".split(" ");ib.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Kb.length,"default":Kb}]};ka.inherits(ib,N,{layout(){const Ua=F();Ua.ratio=xb=>{const Fb=Ua.tile();Fb.ratio&&Ua.tile(Fb.ratio(xb))};Ua.method=xb=>{ka.hasOwnProperty(hd,xb)?Ua.tile(hd[xb]):ka.error("Unrecognized Treemap layout method: "+xb)};return Ua},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Kb});t.nest=V;t.pack=wa;t.partition=Na;t.stratify=Pa;t.tree=Xa;t.treelinks=sb;t.treemap=ib})};
shadow$provide[41]=function(Db,nb,Dc,Va){!function(t,h){"object"==typeof Va&&"undefined"!=typeof Dc?h(Va):"function"==typeof define&&define.amd?define(["exports"],h):h((t="undefined"!=typeof globalThis?globalThis:t||self).vega={})}(this,function(t){function h(ka,Ya){if("undefined"!=typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ka,ub.height=Ya,ub}return null}t.canvas=h;t.domCanvas=h;t.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[42]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(34),nb(41),nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub){function Yb(db,T){const ba=db.bitmap();(T||[]).forEach(ea=>ba.set(db(ea.boundary[0]),db(ea.boundary[3])));
return[ba,void 0]}function dc(db,T,ba,ea,ja){const Ma=db.width,oa=db.height;ea=ea||ja;const qa=ka.canvas(Ma,oa).getContext("2d");var l=ka.canvas(Ma,oa).getContext("2d"),D=ea&&ka.canvas(Ma,oa).getContext("2d");ba.forEach(F=>Wb(qa,F,!1));Wb(l,T,!1);ea&&Wb(D,T,!0);T=new Uint32Array(qa.getImageData(0,0,Ma,oa).data.buffer);ba=new Uint32Array(l.getImageData(0,0,Ma,oa).data.buffer);D=ea&&new Uint32Array(D.getImageData(0,0,Ma,oa).data.buffer);l=db.bitmap();const K=ea&&db.bitmap();let v,Q;let A,W,G,w;for(Q=
0;Q<oa;++Q)for(v=0;v<Ma;++v){var z=Q*Ma+v;W=T[z]&4278190080;w=ba[z]&4278190080;G=ea&&D[z]&4278190080;if(W||G||w)z=db(v),A=db(Q),ja||!W&&!w||l.set(z,A),ea&&(W||G)&&K.set(z,A)}return[l,K]}function Wb(db,T,ba){if(T.length){var ea=T[0].mark.marktype;"group"===ea?T.forEach(ja=>{ja.items.forEach(Ma=>Wb(db,Ma.items,ba))}):h.Marks[ea].draw(db,{items:ba?T.map(oc):T})}}function oc(db){db=Ya.rederive(db,{});return db.stroke&&0!==db.strokeOpacity||db.fill&&0!==db.fillOpacity?Object.assign({},db,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):db}function Ab(db,T){const ba=new Uint32Array(~~((db*T+32)/32));return{array:ba,get:(ea,ja)=>{ea=ja*db+ea;return ba[ea>>>5]&1<<(ea&31)},set:(ea,ja)=>{ea=ja*db+ea;ba[ea>>>5]|=1<<(ea&31)},clear:(ea,ja)=>{ea=ja*db+ea;ba[ea>>>5]&=~(1<<(ea&31))},getRange:(ea,ja,Ma,oa)=>{let qa,l,D;for(;oa>=ja;--oa){var K=oa*db+ea;qa=oa*db+Ma;l=K>>>5;D=qa>>>5;if(l===D){if(ba[l]&sa[K&31]&ia[(qa&31)+1])return!0}else{if(ba[l]&sa[K&31]||ba[D]&ia[(qa&31)+1])return!0;for(K=l+1;K<D;++K)if(ba[K])return!0}}return!1},
setRange:(ea,ja,Ma,oa)=>{let qa,l,D;for(;ja<=oa;++ja){var K=ja*db+ea;qa=ja*db+Ma;l=K>>>5;D=qa>>>5;if(l===D)ba[l]|=sa[K&31]&ia[(qa&31)+1];else for(ba[l]|=sa[K&31],ba[D]|=ia[(qa&31)+1],K=l+1;K<D;++K)ba[K]|=4294967295}},clearRange:(ea,ja,Ma,oa)=>{let qa,l,D;for(;ja<=oa;++ja){var K=ja*db+ea;qa=ja*db+Ma;l=K>>>5;D=qa>>>5;if(l===D)ba[l]&=ia[K&31]|sa[(qa&31)+1];else for(ba[l]&=ia[K&31],ba[D]&=sa[(qa&31)+1],K=l+1;K<D;++K)ba[K]&=0}},outOfBounds:(ea,ja,Ma,oa)=>0>ea||0>ja||oa>=T||Ma>=db}}function Tb(db,T,ba){const ea=
Math.max(1,Math.sqrt(db*T/1E6)),ja=~~((db+2*ba+ea)/ea),Ma=~~((T+2*ba+ea)/ea),oa=qa=>~~((qa+ba)/ea);oa.invert=qa=>qa*ea-ba;oa.bitmap=()=>Ab(ja,Ma);oa.ratio=ea;oa.padding=ba;oa.width=db;oa.height=T;return oa}function jc(db,T,ba,ea,ja,Ma){ba/=2;return 0>db-ba||db+ba>ja||0>T-(ba=ea/2)||T+ba>Ma}function Ea(db,T,ba,ea,ja,Ma,oa,qa){ja=ja*Ma/(2*ea);ea=db(T-ja);T=db(T+ja);ja=db(ba-(Ma/=2));db=db(ba+Ma);return oa.outOfBounds(ea,ja,T,db)||oa.getRange(ea,ja,T,db)||qa&&qa.getRange(ea,ja,T,db)}function Za(db,T,
ba,ea){const ja=db.width,Ma=db.height,oa=T[0],qa=T[1],l=ea.length;return function(D){const K=D.boundary,v=D.datum.fontSize;if(0>K[2]||0>K[5]||K[0]>ja||K[3]>Ma)return!1;var Q;let A=null!=(Q=D.textWidth)?Q:0,W;let G,w;let z;let F;let V,ta;for(let pc=0;pc<l;++pc){Q=(ba[pc]&3)-1;W=(ba[pc]>>>2&3)-1;var N=0===Q&&0===W||0>ea[pc];var la=Q&&W?Math.SQRT1_2:1;G=0>ea[pc]?-1:1;w=K[1+Q]+ea[pc]*Q*la;F=K[4+W]+G*v*W/2+ea[pc]*W*la;la=F-v/2;z=F+v/2;var wa=db(w);V=db(la);ta=db(z);if(!A){var Na=wa;var Pa=V;var Xa=ta;
var sb=oa,ib=qa,Sb=N;if(sb.outOfBounds(Na,Pa,wa,Xa)||(Sb&&ib||sb).getRange(Na,Pa,wa,Xa))continue;else A=h.textMetrics.width(D.datum,D.datum.text)}Pa=w+G*A*Q/2;w=Pa-A/2;Na=Pa+A/2;wa=db(w);Xa=db(Na);sb=wa;ib=Xa;Sb=V;var X=ta,Fa=oa,Kb=qa;if(!Fa.outOfBounds(sb,Sb,ib,X)&&!(N&&Kb||Fa).getRange(sb,Sb,ib,X))return D.x=Q?0>Q*G?Na:w:Pa,D.y=W?0>W*G?z:la:F,D.align=Wa[Q*G+1],D.baseline=Ha[W*G+1],oa.setRange(wa,V,Xa,ta),!0}return!1}}function tb(db,T,ba,ea,ja,Ma,oa,qa,l,D,K){if(!db.length)return db;var v=Math.max(ea.length,
ja.length);const Q=rb(ea,v);ja=pb(ja,v);const A=vb(db[0].datum);var W="group"===A&&db[0].datum.items[l].marktype;v="area"===W;const G=gb(A,W,qa,l),w=null===D||Infinity===D;W=v&&"naive"===K;let z=-1,F=-1;qa=db.map(N=>{const la=w?h.textMetrics.width(N,N.text):void 0;z=Math.max(z,la);F=Math.max(F,N.fontSize);return{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:G(N),textWidth:la}});D=null===D||Infinity===D?Math.max(z,F)+Math.max(...ea):D;T=Tb(T[0],T[1],D);if(!W){ba&&qa.sort((N,
la)=>ba(N.datum,la.datum));var V=!1;for(ea=0;ea<ja.length&&!V;++ea)V=5===ja[ea]||0>Q[ea];db=(A&&oa||v)&&db.map(N=>N.datum);V=Ma.length||db?dc(T,db||[],Ma,V,v):Yb(T,oa&&qa)}const ta=v?$a[K](T,V,oa,l):Za(T,V,ja,Q);qa.forEach(N=>N.opacity=+ta(N));return qa}function rb(db,T){const ba=new Float64Array(T),ea=db.length;for(let ja=0;ja<ea;++ja)ba[ja]=db[ja]||0;for(db=ea;db<T;++db)ba[db]=ba[ea-1];return ba}function pb(db,T){const ba=new Int8Array(T),ea=db.length;for(let ja=0;ja<ea;++ja)ba[ja]|=hb[db[ja]];
for(db=ea;db<T;++db)ba[db]=ba[ea-1];return ba}function vb(db){return db&&db.mark&&db.mark.marktype}function gb(db,T,ba,ea){const ja=Ma=>[Ma.x,Ma.x,Ma.x,Ma.y,Ma.y,Ma.y];return db?"line"===db||"area"===db?Ma=>ja(Ma.datum):"line"===T?Ma=>{Ma=Ma.datum.items[ea].items;return ja(Ma.length?Ma["start"===ba?0:Ma.length-1]:{x:NaN,y:NaN})}:Ma=>{Ma=Ma.datum.bounds;return[Ma.x1,(Ma.x1+Ma.x2)/2,Ma.x2,Ma.y1,(Ma.y1+Ma.y2)/2,Ma.y2]}:ja}function fc(db){Ya.Transform.call(this,null,db)}const sa=new Uint32Array(33),ia=
new Uint32Array(33);ia[0]=0;sa[0]=~ia[0];for(let db=1;32>=db;++db)ia[db]=ia[db-1]<<1|1,sa[db]=~ia[db];const Ba=[-1,-1,1,1],Sa=[-1,1,-1,1],Wa=["right","center","left"],Ha=["bottom","middle","top"],hb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},$a={naive:function(db,T,ba,ea){const ja=db.width,Ma=db.height;return function(oa){const qa=oa.datum.datum.items[ea].items,l=qa.length,D=oa.datum.fontSize,K=h.textMetrics.width(oa.datum,oa.datum.text);
let v=0;let Q,A,W,G,w;for(let F=0;F<l;++F){var z=qa[F].x;A=qa[F].y;Q=void 0===qa[F].x2?z:qa[F].x2;W=void 0===qa[F].y2?A:qa[F].y2;G=(z+Q)/2;w=(A+W)/2;z=Math.abs(Q-z+W-A);z>=v&&(v=z,oa.x=G,oa.y=w)}G=K/2;w=D/2;z=oa.x-G;Q=oa.x+G;A=oa.y-w;W=oa.y+w;oa.align="center";0>z&&Q<=ja?oa.align="left":0<=z&&ja<Q&&(oa.align="right");oa.baseline="middle";0>A&&W<=Ma?oa.baseline="top":0<=A&&Ma<W&&(oa.baseline="bottom");return!0}},"reduced-search":function(db,T,ba,ea){function ja(D,K,v,Q,A){D=db.invert(D);K=db.invert(K);
let W=v,G=oa,w;if(!jc(D,K,Q,A,Ma,oa)&&!Ea(db,D,K,A,Q,W,qa,l)&&!Ea(db,D,K,A,Q,A,qa,null)){for(;1<=G-W;)w=(W+G)/2,Ea(db,D,K,A,Q,w,qa,l)?G=w:W=w;if(W>v)return[D,K,W,!0]}}const Ma=db.width,oa=db.height,qa=T[0],l=T[1];return function(D){const K=D.datum.datum.items[ea].items,v=K.length,Q=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text);let W=ba?Q:0,G=!1,w=!1,z=0;let F;let V;let ta,N,la,wa,Na,Pa,Xa,sb;for(let Fa=0;Fa<v;++Fa){var ib=K[Fa].x;var Sb=K[Fa].y;F=void 0===K[Fa].x2?ib:K[Fa].x2;V=void 0===
K[Fa].y2?Sb:K[Fa].y2;if(ib>F){var X=ib;ib=F;F=X}Sb>V&&(X=Sb,Sb=V,V=X);N=db(ib);wa=db(F);la=~~((N+wa)/2);Na=db(Sb);Xa=db(V);Pa=~~((Na+Xa)/2);for(X=la;X>=N;--X)for(ta=Pa;ta>=Na;--ta)(sb=ja(X,ta,W,A,Q))&&([D.x,D.y,W,G]=sb);for(X=la;X<=wa;++X)for(ta=Pa;ta<=Xa;++ta)(sb=ja(X,ta,W,A,Q))&&([D.x,D.y,W,G]=sb);G||ba||(X=Math.abs(F-ib+V-Sb),ib=(ib+F)/2,Sb=(Sb+V)/2,X>=z&&!jc(ib,Sb,A,Q,Ma,oa)&&!Ea(db,ib,Sb,Q,A,Q,qa,null)&&(z=X,D.x=ib,D.y=Sb,w=!0))}return G||w?(ib=A/2,Sb=Q/2,qa.setRange(db(D.x-ib),db(D.y-Sb),db(D.x+
ib),db(D.y+Sb)),D.align="center",D.baseline="middle",!0):!1}},floodfill:function(db,T,ba,ea){const ja=db.width,Ma=db.height,oa=T[0],qa=T[1],l=db.bitmap();return function(D){const K=D.datum.datum.items[ea].items,v=K.length,Q=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text),W=[];let G=ba?Q:0,w=!1,z=!1,F=0,V,ta,N,la,wa,Na;var Pa;for(let ib=0;ib<v;++ib){V=K[ib].x;N=K[ib].y;ta=void 0===K[ib].x2?V:K[ib].x2;la=void 0===K[ib].y2?N:K[ib].y2;for(W.push([db((V+ta)/2),db((N+la)/2)]);W.length;)if([Xa,
sb]=W.pop(),!(oa.get(Xa,sb)||qa.get(Xa,sb)||l.get(Xa,sb))){l.set(Xa,sb);for(Pa=0;4>Pa;++Pa)wa=Xa+Ba[Pa],Na=sb+Sa[Pa],l.outOfBounds(wa,Na,wa,Na)||W.push([wa,Na]);wa=db.invert(Xa);Na=db.invert(sb);var Xa=G;var sb=Ma;if(!jc(wa,Na,A,Q,ja,Ma)&&!Ea(db,wa,Na,Q,A,Xa,oa,qa)&&!Ea(db,wa,Na,Q,A,Q,oa,null)){for(;1<=sb-Xa;)Pa=(Xa+sb)/2,Ea(db,wa,Na,Q,A,Pa,oa,qa)?sb=Pa:Xa=Pa;Xa>G&&(D.x=wa,D.y=Na,G=Xa,w=!0)}}w||ba||(Xa=Math.abs(ta-V+la-N),wa=(V+ta)/2,Na=(N+la)/2,Xa>=F&&!jc(wa,Na,A,Q,ja,Ma)&&!Ea(db,wa,Na,Q,A,Q,oa,
null)&&(F=Xa,D.x=wa,D.y=Na,z=!0))}return w||z?(wa=A/2,Na=Q/2,oa.setRange(db(D.x-wa),db(D.y-Na),db(D.x+wa),db(D.y+Na)),D.align="center",D.baseline="middle",!0):!1}}},qb=["x","y","opacity","align","baseline"],Nb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");fc.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Nb},{name:"offset",type:"number",
array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:qb.length,default:qb}]};ub.inherits(fc,Ya.Transform,{transform(db,T){function ba(Ma){Ma=db[Ma];return ub.isFunction(Ma)&&T.modified(Ma.fields)}
const ea=db.modified();if(ea||T.changed(T.ADD_REM)||ba("sort")){db.size&&2===db.size.length||ub.error("Size parameter should be specified as a [width, height] array.");var ja=db.as||qb;tb(T.materialize(T.SOURCE).source||[],db.size,db.sort,ub.array(null==db.offset?1:db.offset),ub.array(db.anchor||Nb),db.avoidMarks||[],!1!==db.avoidBaseMark,db.lineAnchor||"end",db.markIndex||0,void 0===db.padding?0:db.padding,db.method||"naive").forEach(Ma=>{const oa=Ma.datum;oa[ja[0]]=Ma.x;oa[ja[1]]=Ma.y;oa[ja[2]]=
Ma.opacity;oa[ja[3]]=Ma.align;oa[ja[4]]=Ma.baseline});return T.reflow(ea).modifies(ja)}}});t.label=fc})};
shadow$provide[43]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(30),nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya){function ub(oc,Ab){var Tb=[],jc=function(gb){return gb(rb)},Ea;if(null==Ab)Tb.push(oc);else{var Za={};var tb=0;for(Ea=oc.length;tb<Ea;++tb){var rb=oc[tb];
var pb=Ab.map(jc);var vb=Za[pb];vb||(Za[pb]=vb=[],vb.dims=pb,Tb.push(vb));vb.push(rb)}}return Tb}function Yb(oc){ka.Transform.call(this,null,oc)}function dc(oc){ka.Transform.call(this,null,oc)}Yb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Ya.inherits(Yb,ka.Transform,{transform(oc,Ab){const Tb=
Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||oc.modified()){Ab=Ab.materialize(Ab.SOURCE).source;Ab=ub(Ab,oc.groupby);const jc=(oc.groupby||[]).map(Ya.accessorName),Ea=jc.length,Za=oc.as||[Ya.accessorName(oc.x),Ya.accessorName(oc.y)],tb=[];Ab.forEach(rb=>{h.regressionLoess(rb,oc.x,oc.y,oc.bandwidth||.3).forEach(pb=>{const vb={};for(let gb=0;gb<Ea;++gb)vb[jc[gb]]=rb.dims[gb];vb[Za[0]]=pb[0];vb[Za[1]]=pb[1];tb.push(ka.ingest(vb))})});this.value&&(Tb.rem=this.value);this.value=Tb.add=
Tb.source=tb}return Tb}});const Wb={constant:h.regressionConstant,linear:h.regressionLinear,log:h.regressionLog,exp:h.regressionExp,pow:h.regressionPow,quad:h.regressionQuad,poly:h.regressionPoly};dc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Wb)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Ya.inherits(dc,ka.Transform,{transform(oc,Ab){const Tb=Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||oc.modified()){var jc=Ab.materialize(Ab.SOURCE).source;jc=ub(jc,oc.groupby);const Ea=(oc.groupby||[]).map(Ya.accessorName),Za=oc.method||"linear",tb=null==oc.order?3:oc.order,rb="poly"===Za?tb:"quad"===Za?2:1,pb=oc.as||[Ya.accessorName(oc.x),Ya.accessorName(oc.y)],vb=
Wb[Za],gb=[];let fc=oc.extent;Ya.hasOwnProperty(Wb,Za)||Ya.error("Invalid regression method: "+Za);null!=fc&&"log"===Za&&0>=fc[0]&&(Ab.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),fc=null);jc.forEach(sa=>{if(sa.length<=rb)Ab.dataflow.warn("Skipping regression with more parameters than data points.");else{var ia=vb(sa,oc.x,oc.y,tb);if(oc.params)gb.push(ka.ingest({keys:sa.dims,coef:ia.coef,rSquared:ia.rSquared}));else{var Ba=fc||Ya.extent(sa,oc.x),Sa=Wa=>{const Ha={};
for(let hb=0;hb<Ea.length;++hb)Ha[Ea[hb]]=sa.dims[hb];Ha[pb[0]]=Wa[0];Ha[pb[1]]=Wa[1];gb.push(ka.ingest(Ha))};"linear"===Za||"constant"===Za?Ba.forEach(Wa=>Sa([Wa,ia.predict(Wa)])):h.sampleCurve(ia.predict,Ba,25,200).forEach(Sa)}}});this.value&&(Tb.rem=this.value);this.value=Tb.add=Tb.source=gb}return Tb}});t.loess=Yb;t.regression=dc})};
shadow$provide[44]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,h,ka){function Ya(T,ba,ea,ja,Ma){let oa,qa;let l=ba[0],D=ja[0],K=0,v=0;D>l===D>-l?(oa=l,l=ba[++K]):(oa=D,D=ja[++v]);let Q=0;if(K<T&&v<ea){if(D>l===D>-l){qa=l+oa;
var A=oa-(qa-l);l=ba[++K]}else qa=D+oa,A=oa-(qa-D),D=ja[++v];oa=qa;for(0!==A&&(Ma[Q++]=A);K<T&&v<ea;)D>l===D>-l?(qa=oa+l,A=qa-oa,A=oa-(qa-A)+(l-A),l=ba[++K]):(qa=oa+D,A=qa-oa,A=oa-(qa-A)+(D-A),D=ja[++v]),oa=qa,0!==A&&(Ma[Q++]=A)}for(;K<T;)qa=oa+l,A=qa-oa,A=oa-(qa-A)+(l-A),l=ba[++K],oa=qa,0!==A&&(Ma[Q++]=A);for(;v<ea;)qa=oa+D,A=qa-oa,A=oa-(qa-A)+(D-A),D=ja[++v],oa=qa,0!==A&&(Ma[Q++]=A);if(0!==oa||0===Q)Ma[Q++]=oa;return Q}function ub(T,ba,ea,ja,Ma,oa){var qa=(ba-oa)*(ea-Ma),l=(T-Ma)*(ja-oa),D=qa-l;
if(0===qa||0===l||0<qa!==0<l)return D;qa=Math.abs(qa+l);if(Math.abs(D)>=3.3306690738754716E-16*qa)return D;{let w;D=T-Ma;const z=ea-Ma;l=ba-oa;const F=ja-oa;var K=D*F;var v=134217729*D;var Q=v-(v-D);var A=D-Q;v=134217729*F;v-=v-F;w=F-v;var W=A*w-(K-Q*v-A*v-Q*w);var G=l*z;v=134217729*l;Q=v-(v-l);A=l-Q;v=134217729*z;v-=v-z;w=z-v;v=A*w-(G-Q*v-A*v-Q*w);A=W-v;Q=W-A;pb[0]=W-(A+Q)+(Q-v);W=K+A;Q=W-K;K=K-(W-Q)+(A-Q);A=K-G;Q=K-A;pb[1]=K-(A+Q)+(Q-G);G=W+A;Q=G-W;pb[2]=W-(G-Q)+(A-Q);pb[3]=G;G=pb[0];for(K=1;4>
K;K++)G+=pb[K];K=2.2204460492503146E-16*qa;G>=K||-G>=K?ja=G:(Q=T-D,T=T-(D+Q)+(Q-Ma),Q=ea-z,ea=ea-(z+Q)+(Q-Ma),Q=ba-l,ba=ba-(l+Q)+(Q-oa),Q=ja-F,ja=ja-(F+Q)+(Q-oa),0===T&&0===ba&&0===ea&&0===ja?ja=G:(K=1.1093356479670487E-31*qa+3.3306690738754706E-16*Math.abs(G),G+=D*ja+F*T-(l*ea+z*ba),G>=K||-G>=K?ja=G:(K=T*F,v=134217729*T,Q=v-(v-T),A=T-Q,v=134217729*F,v-=v-F,w=F-v,W=A*w-(K-Q*v-A*v-Q*w),G=ba*z,v=134217729*ba,Q=v-(v-ba),A=ba-Q,v=134217729*z,v-=v-z,w=z-v,v=A*w-(G-Q*v-A*v-Q*w),A=W-v,Q=W-A,sa[0]=W-(A+Q)+
(Q-v),W=K+A,Q=W-K,K=K-(W-Q)+(A-Q),A=K-G,Q=K-A,sa[1]=K-(A+Q)+(Q-G),G=W+A,Q=G-W,sa[2]=W-(G-Q)+(A-Q),sa[3]=G,oa=Ya(4,pb,4,sa,vb),K=D*ja,v=134217729*D,Q=v-(v-D),A=D-Q,v=134217729*ja,v-=v-ja,w=ja-v,W=A*w-(K-Q*v-A*v-Q*w),G=l*ea,v=134217729*l,Q=v-(v-l),A=l-Q,v=134217729*ea,v-=v-ea,w=ea-v,v=A*w-(G-Q*v-A*v-Q*w),A=W-v,Q=W-A,sa[0]=W-(A+Q)+(Q-v),W=K+A,Q=W-K,K=K-(W-Q)+(A-Q),A=K-G,Q=K-A,sa[1]=K-(A+Q)+(Q-G),G=W+A,Q=G-W,sa[2]=W-(G-Q)+(A-Q),sa[3]=G,oa=Ya(oa,vb,4,sa,gb),K=T*ja,v=134217729*T,Q=v-(v-T),A=T-Q,v=134217729*
ja,v-=v-ja,w=ja-v,W=A*w-(K-Q*v-A*v-Q*w),G=ba*ea,v=134217729*ba,Q=v-(v-ba),A=ba-Q,v=134217729*ea,v-=v-ea,w=ea-v,v=A*w-(G-Q*v-A*v-Q*w),A=W-v,Q=W-A,sa[0]=W-(A+Q)+(Q-v),W=K+A,Q=W-K,K=K-(W-Q)+(A-Q),A=K-G,Q=K-A,sa[1]=K-(A+Q)+(Q-G),G=W+A,Q=G-W,sa[2]=W-(G-Q)+(A-Q),sa[3]=G,ja=Ya(oa,gb,4,sa,fc),ja=fc[ja-1])))}return-ja}function Yb(T,ba,ea,ja){T-=ea;ba-=ja;return T*T+ba*ba}function dc(T,ba,ea,ja){if(20>=ja-ea)for(var Ma=ea+1;Ma<=ja;Ma++){for(var oa=T[Ma],qa=ba[oa],l=Ma-1;l>=ea&&ba[T[l]]>qa;)T[l+1]=T[l--];T[l+
1]=oa}else{Ma=ea+1;oa=ja;Wb(T,ea+ja>>1,Ma);ba[T[ea]]>ba[T[ja]]&&Wb(T,ea,ja);ba[T[Ma]]>ba[T[ja]]&&Wb(T,Ma,ja);ba[T[ea]]>ba[T[Ma]]&&Wb(T,ea,Ma);qa=T[Ma];for(l=ba[qa];;){do Ma++;while(ba[T[Ma]]<l);do oa--;while(ba[T[oa]]>l);if(oa<Ma)break;Wb(T,Ma,oa)}T[ea+1]=T[oa];T[oa]=qa;ja-Ma+1>=oa-ea?(dc(T,ba,Ma,ja),dc(T,ba,ea,oa-1)):(dc(T,ba,ea,oa-1),dc(T,ba,Ma,ja))}}function Wb(T,ba,ea){const ja=T[ba];T[ba]=T[ea];T[ea]=ja}function oc(T){return T[0]}function Ab(T){return T[1]}function Tb(T){return T[0]}function jc(T){return T[1]}
function Ea(T){const {triangles:ba,coords:ea}=T;for(T=0;T<ba.length;T+=3){const ja=2*ba[T],Ma=2*ba[T+1],oa=2*ba[T+2];if(1E-10<(ea[oa]-ea[ja])*(ea[Ma+1]-ea[ja+1])-(ea[Ma]-ea[ja])*(ea[oa+1]-ea[ja+1]))return!1}return!0}function Za(T,ba,ea){return[T+Math.sin(T+ba)*ea,ba+Math.cos(T-ba)*ea]}function*tb(T,ba,ea,ja){let Ma=0;for(const oa of T)yield ba.call(ja,oa,Ma,T),yield ea.call(ja,oa,Ma,T),++Ma}function rb(T){h.Transform.call(this,null,T)}const pb=new Float64Array(4),vb=new Float64Array(8),gb=new Float64Array(12),
fc=new Float64Array(16),sa=new Float64Array(4),ia=Math.pow(2,-52),Ba=new Uint32Array(512);class Sa{static from(T,ba=oc,ea=Ab){const ja=T.length,Ma=new Float64Array(2*ja);for(let oa=0;oa<ja;oa++){const qa=T[oa];Ma[2*oa]=ba(qa);Ma[2*oa+1]=ea(qa)}return new Sa(Ma)}constructor(T){const ba=T.length>>1;if(0<ba&&"number"!==typeof T[0])throw Error("Expected coords to contain numbers.");this.coords=T;T=Math.max(2*ba-5,0);this._triangles=new Uint32Array(3*T);this._halfedges=new Int32Array(3*T);this._hashSize=
Math.ceil(Math.sqrt(ba));this._hullPrev=new Uint32Array(ba);this._hullNext=new Uint32Array(ba);this._hullTri=new Uint32Array(ba);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(ba);this._dists=new Float64Array(ba);this.update()}update(){const {coords:T,_hullPrev:ba,_hullNext:ea,_hullTri:ja,_hullHash:Ma}=this;var oa=T.length>>1,qa=Infinity,l=Infinity,D=-Infinity,K=-Infinity;for(var v=0;v<oa;v++){var Q=T[2*v];var A=T[2*v+1];Q<qa&&(qa=Q);A<l&&(l=A);Q>D&&(D=Q);A>K&&
(K=A);this._ids[v]=v}D=(qa+D)/2;l=(l+K)/2;qa=Infinity;for(K=0;K<oa;K++)if(v=Yb(D,l,T[2*K],T[2*K+1]),v<qa){var W=K;qa=v}l=T[2*W];K=T[2*W+1];qa=Infinity;for(D=0;D<oa;D++)if(D!==W&&(v=Yb(l,K,T[2*D],T[2*D+1]),v<qa&&0<v)){var G=D;qa=v}qa=T[2*G];D=T[2*G+1];A=Infinity;for(v=0;v<oa;v++)if(v!==W&&v!==G){Q=qa-l;var w=D-K;var z=T[2*v]-l;var F=T[2*v+1]-K,V=Q*Q+w*w,ta=z*z+F*F,N=.5/(Q*F-w*z);w=(F*V-w*ta)*N;Q=(Q*ta-z*V)*N;Q=w*w+Q*Q;if(Q<A){var la=v;A=Q}}v=T[2*la];Q=T[2*la+1];if(Infinity===A){for(W=0;W<oa;W++)this._dists[W]=
T[2*W]-T[0]||T[2*W+1]-T[1];dc(this._ids,this._dists,0,oa-1);W=new Uint32Array(oa);G=0;for(let wa=0,Na=-Infinity;wa<oa;wa++)la=this._ids[wa],this._dists[la]>Na&&(W[G++]=la,Na=this._dists[la]);this.hull=W.subarray(0,G);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>ub(l,K,qa,D,v,Q)&&(A=G,z=qa,V=D,G=la,qa=v,D=Q,la=A,v=z,Q=V);z=qa-l;A=D-K;V=v-l;F=Q-K;ta=z*z+A*A;N=V*V+F*F;w=.5/(z*F-A*V);A=l+(F*ta-A*N)*w;z=K+(z*N-V*ta)*w;this._cx=A;this._cy=z;for(V=0;V<oa;V++)this._dists[V]=
Yb(T[2*V],T[2*V+1],A,z);dc(this._ids,this._dists,0,oa-1);this._hullStart=W;oa=3;ea[W]=ba[la]=G;ea[G]=ba[W]=la;ea[la]=ba[G]=W;ja[W]=0;ja[G]=1;ja[la]=2;Ma.fill(-1);Ma[this._hashKey(l,K)]=W;Ma[this._hashKey(qa,D)]=G;Ma[this._hashKey(v,Q)]=la;this.trianglesLen=0;this._addTriangle(W,G,la,-1,-1,-1);for(let wa=0,Na,Pa;wa<this._ids.length;wa++){l=this._ids[wa];K=T[2*l];qa=T[2*l+1];if(0<wa&&Math.abs(K-Na)<=ia&&Math.abs(qa-Pa)<=ia)continue;Na=K;Pa=qa;if(l===W||l===G||l===la)continue;D=0;for(let sb=0,ib=this._hashKey(K,
qa);sb<this._hashSize&&(D=Ma[(ib+sb)%this._hashSize],-1===D||D===ea[D]);sb++);v=D=ba[D];let Xa;for(;Xa=ea[v],0<=ub(K,qa,T[2*v],T[2*v+1],T[2*Xa],T[2*Xa+1]);)if(v=Xa,v===D){v=-1;break}if(-1!==v){Q=this._addTriangle(v,l,ea[v],-1,-1,ja[v]);ja[l]=this._legalize(Q+2);ja[v]=Q;oa++;for(A=ea[v];Xa=ea[A],0>ub(K,qa,T[2*A],T[2*A+1],T[2*Xa],T[2*Xa+1]);)Q=this._addTriangle(A,l,Xa,ja[l],-1,ja[A]),ja[l]=this._legalize(Q+2),ea[A]=A,oa--,A=Xa;if(v===D)for(;Xa=ba[v],0>ub(K,qa,T[2*Xa],T[2*Xa+1],T[2*v],T[2*v+1]);)Q=this._addTriangle(Xa,
l,v,-1,ja[v],ja[Xa]),this._legalize(Q+2),ja[Xa]=Q,ea[v]=v,oa--,v=Xa;this._hullStart=ba[l]=v;ea[v]=ba[A]=l;ea[l]=A;Ma[this._hashKey(K,qa)]=l;Ma[this._hashKey(T[2*v],T[2*v+1])]=v}}this.hull=new Uint32Array(oa);for(let wa=0,Na=this._hullStart;wa<oa;wa++)this.hull[wa]=Na,Na=ea[Na];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(T,ba){var ea=Math;T-=this._cx;ba-=this._cy;T/=Math.abs(T)+Math.abs(ba);return ea.floor.call(ea,
(0<ba?3-T:1+T)/4*this._hashSize)%this._hashSize}_legalize(T){const {_triangles:ba,_halfedges:ea,coords:ja}=this;let Ma=0;for(var oa;;){const A=ea[T];var qa=T-T%3;oa=qa+(T+2)%3;if(-1===A){if(0===Ma)break;T=Ba[--Ma];continue}const W=A-A%3,G=W+(A+2)%3;var l=ba[oa],D=ba[T],K=ba[qa+(T+1)%3];qa=ba[G];var v=ja[2*qa],Q=ja[2*qa+1];const w=ja[2*l]-v,z=ja[2*l+1]-Q,F=ja[2*D]-v;D=ja[2*D+1]-Q;v=ja[2*K]-v;Q=ja[2*K+1]-Q;K=F*F+D*D;const V=v*v+Q*Q;if(0>w*(D*V-K*Q)-z*(F*V-K*v)+(w*w+z*z)*(F*Q-D*v)){ba[T]=qa;ba[A]=l;
l=ea[G];if(-1===l){qa=this._hullStart;do{if(this._hullTri[qa]===G){this._hullTri[qa]=T;break}qa=this._hullPrev[qa]}while(qa!==this._hullStart)}this._link(T,l);this._link(A,ea[oa]);this._link(oa,G);oa=W+(A+1)%3;Ma<Ba.length&&(Ba[Ma++]=oa)}else{if(0===Ma)break;T=Ba[--Ma]}}return oa}_link(T,ba){this._halfedges[T]=ba;-1!==ba&&(this._halfedges[ba]=T)}_addTriangle(T,ba,ea,ja,Ma,oa){const qa=this.trianglesLen;this._triangles[qa]=T;this._triangles[qa+1]=ba;this._triangles[qa+2]=ea;this._link(qa,ja);this._link(qa+
1,Ma);this._link(qa+2,oa);this.trianglesLen+=3;return qa}}class Wa{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(T,ba){this._+=`M${this._x0=this._x1=+T},${this._y0=this._y1=+ba}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(T,ba){this._+=`L${this._x1=+T},${this._y1=+ba}`}arc(T,ba,ea){T=+T;ba=+ba;ea=+ea;const ja=T+ea,Ma=ba;if(0>ea)throw Error("negative radius");if(null===this._x1)this._+=`M${ja},${Ma}`;else if(1E-6<Math.abs(this._x1-
ja)||1E-6<Math.abs(this._y1-Ma))this._+="L"+ja+","+Ma;ea&&(this._+=`A${ea},${ea},0,1,1,${T-ea},${ba}A${ea},${ea},0,1,1,${this._x1=ja},${this._y1=Ma}`)}rect(T,ba,ea,ja){this._+=`M${this._x0=this._x1=+T},${this._y0=this._y1=+ba}h${+ea}v${+ja}h${-ea}Z`}value(){return this._||null}}class Ha{constructor(){this._=[]}moveTo(T,ba){this._.push([T,ba])}closePath(){this._.push(this._[0].slice())}lineTo(T,ba){this._.push([T,ba])}value(){return this._.length?this._:null}}let hb=class{constructor(T,[ba,ea,ja,Ma]=
[0,0,960,500]){if(!((ja=+ja)>=(ba=+ba)&&(Ma=+Ma)>=(ea=+ea)))throw Error("invalid bounds");this.delaunay=T;this._circumcenters=new Float64Array(2*T.points.length);this.vectors=new Float64Array(2*T.points.length);this.xmax=ja;this.xmin=ba;this.ymax=Ma;this.ymin=ea;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:T,hull:ba,triangles:ea},vectors:ja}=this;var Ma,oa=this.circumcenters=this._circumcenters.subarray(0,ea.length/3*2);for(let w=0,z=0,F=ea.length,
V,ta;w<F;w+=3,z+=2){var qa=2*ea[w],l=2*ea[w+1],D=2*ea[w+2],K=T[qa];qa=T[qa+1];var v=T[D],Q=T[D+1];D=T[l]-K;const N=T[l+1]-qa;l=v-K;const la=Q-qa;var A=2*(D*la-N*l);if(1E-9>Math.abs(A)){if(void 0===W){var W=Ma=0;for(var G of ba)W+=T[2*G],Ma+=T[2*G+1];W/=ba.length;Ma/=ba.length}D=1E9*Math.sign((W-K)*la-(Ma-qa)*l);V=(K+v)/2-D*la;ta=(qa+Q)/2+D*l}else v=1/A,Q=D*D+N*N,A=l*l+la*la,V=K+(la*Q-N*A)*v,ta=qa+(D*A-l*Q)*v;oa[z]=V;oa[z+1]=ta}W=ba[ba.length-1];oa=4*W;G=T[2*W];D=T[2*W+1];ja.fill(0);for(l=0;l<ba.length;++l)W=
ba[l],Ma=oa,K=G,qa=D,oa=4*W,G=T[2*W],D=T[2*W+1],ja[Ma+2]=ja[oa]=qa-D,ja[Ma+3]=ja[oa+1]=G-K}render(T){const ba=null==T?T=new Wa:void 0,{delaunay:{halfedges:ea,inedges:ja,hull:Ma},circumcenters:oa,vectors:qa}=this;if(1>=Ma.length)return null;for(let Q=0,A=ea.length;Q<A;++Q){var l=ea[Q];if(!(l<Q)){var D=2*Math.floor(Q/3);l=2*Math.floor(l/3);this._renderSegment(oa[D],oa[D+1],oa[l],oa[l+1],T)}}D=Ma[Ma.length-1];for(l=0;l<Ma.length;++l){var K=D;D=Ma[l];var v=2*Math.floor(ja[D]/3);const Q=oa[v];v=oa[v+1];
K*=4;(K=this._project(Q,v,qa[K+2],qa[K+3]))&&this._renderSegment(Q,v,K[0],K[1],T)}return ba&&ba.value()}renderBounds(T){const ba=null==T?T=new Wa:void 0;T.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return ba&&ba.value()}renderCell(T,ba){const ea=null==ba?ba=new Wa:void 0;T=this._clip(T);if(null!==T&&T.length){ba.moveTo(T[0],T[1]);for(var ja=T.length;T[0]===T[ja-2]&&T[1]===T[ja-1]&&1<ja;)ja-=2;for(let Ma=2;Ma<ja;Ma+=2)T[Ma]===T[Ma-2]&&T[Ma+1]===T[Ma-1]||ba.lineTo(T[Ma],T[Ma+
1]);ba.closePath();return ea&&ea.value()}}*cellPolygons(){var {delaunay:{points:T}}=this;for(let ba=0,ea=T.length/2;ba<ea;++ba)if(T=this.cellPolygon(ba))T.index=ba,yield T}cellPolygon(T){const ba=new Ha;this.renderCell(T,ba);return ba.value()}_renderSegment(T,ba,ea,ja,Ma){const oa=this._regioncode(T,ba),qa=this._regioncode(ea,ja);if(0===oa&&0===qa)Ma.moveTo(T,ba),Ma.lineTo(ea,ja);else if(T=this._clipSegment(T,ba,ea,ja,oa,qa))Ma.moveTo(T[0],T[1]),Ma.lineTo(T[2],T[3])}contains(T,ba,ea){return(ba=+ba,
ba!==ba)||(ea=+ea,ea!==ea)?!1:this.delaunay._step(T,ba,ea)===T}*neighbors(T){const ba=this._clip(T);if(ba)for(const ea of this.delaunay.neighbors(T))if(T=this._clip(ea))a:for(let ja=0,Ma=ba.length;ja<Ma;ja+=2)for(let oa=0,qa=T.length;oa<qa;oa+=2)if(ba[ja]===T[oa]&&ba[ja+1]===T[oa+1]&&ba[(ja+2)%Ma]===T[(oa+qa-2)%qa]&&ba[(ja+3)%Ma]===T[(oa+qa-1)%qa]){yield ea;break a}}_cell(T){const {circumcenters:ba,delaunay:{inedges:ea,halfedges:ja,triangles:Ma}}=this,oa=ea[T];if(-1===oa)return null;const qa=[];let l=
oa;do{const D=Math.floor(l/3);qa.push(ba[2*D],ba[2*D+1]);l=2===l%3?l-2:l+1;if(Ma[l]!==T)break;l=ja[l]}while(l!==oa&&-1!==l);return qa}_clip(T){if(0===T&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const ba=this._cell(T);if(null===ba)return null;const {vectors:ea}=this,ja=4*T;return this._simplify(ea[ja]||ea[ja+1]?this._clipInfinite(T,ba,ea[ja],ea[ja+1],ea[ja+2],ea[ja+3]):this._clipFinite(T,ba))}_clipFinite(T,ba){const ea=ba.length;
let ja=null;let Ma=ba[ea-2],oa=ba[ea-1];let qa=this._regioncode(Ma,oa),l=0;for(let Q=0;Q<ea;Q+=2){var D=Ma;var K=oa;Ma=ba[Q];oa=ba[Q+1];var v=qa;qa=this._regioncode(Ma,oa);if(0===v&&0===qa)l=0,ja?ja.push(Ma,oa):ja=[Ma,oa];else{let A,W;if(0===v){if(null===(D=this._clipSegment(D,K,Ma,oa,v,qa)))continue;[K,v,A,W]=D}else{if(null===(D=this._clipSegment(Ma,oa,D,K,qa,v)))continue;[A,W,K,v]=D;D=l;l=this._edgecode(K,v);D&&l&&this._edge(T,D,l,ja,ja.length);ja?ja.push(K,v):ja=[K,v]}D=l;l=this._edgecode(A,W);
D&&l&&this._edge(T,D,l,ja,ja.length);ja?ja.push(A,W):ja=[A,W]}}if(ja)D=l,l=this._edgecode(ja[0],ja[1]),D&&l&&this._edge(T,D,l,ja,ja.length);else if(this.contains(T,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ja}_clipSegment(T,ba,ea,ja,Ma,oa){const qa=Ma<oa;for(qa&&([T,ba,ea,ja,Ma,oa]=[ea,ja,T,ba,oa,Ma]);;){if(0===Ma&&0===oa)return qa?[ea,ja,T,ba]:[T,ba,ea,ja];if(Ma&oa)return null;var l=void 0;let D;
l=Ma||oa;l&8?(l=T+(ea-T)*(this.ymax-ba)/(ja-ba),D=this.ymax):l&4?(l=T+(ea-T)*(this.ymin-ba)/(ja-ba),D=this.ymin):l&2?(D=ba+(ja-ba)*(this.xmax-T)/(ea-T),l=this.xmax):(D=ba+(ja-ba)*(this.xmin-T)/(ea-T),l=this.xmin);Ma?(T=l,ba=D,Ma=this._regioncode(T,ba)):(ea=l,ja=D,oa=this._regioncode(ea,ja))}}_clipInfinite(T,ba,ea,ja,Ma,oa){ba=Array.from(ba);let qa;(qa=this._project(ba[0],ba[1],ea,ja))&&ba.unshift(qa[0],qa[1]);(qa=this._project(ba[ba.length-2],ba[ba.length-1],Ma,oa))&&ba.push(qa[0],qa[1]);if(ba=this._clipFinite(T,
ba))for(let l=0,D=ba.length,K,v=this._edgecode(ba[D-2],ba[D-1]);l<D;l+=2)K=v,v=this._edgecode(ba[l],ba[l+1]),K&&v&&(l=this._edge(T,K,v,ba,l),D=ba.length);else this.contains(T,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ba=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ba}_edge(T,ba,ea,ja,Ma){for(;ba!==ea;){let oa,qa;switch(ba){case 5:ba=4;continue;case 4:ba=6;oa=this.xmax;qa=this.ymin;break;case 6:ba=2;continue;case 2:ba=10;oa=this.xmax;qa=this.ymax;
break;case 10:ba=8;continue;case 8:ba=9;oa=this.xmin;qa=this.ymax;break;case 9:ba=1;continue;case 1:ba=5,oa=this.xmin,qa=this.ymin}ja[Ma]===oa&&ja[Ma+1]===qa||!this.contains(T,oa,qa)||(ja.splice(Ma,0,oa,qa),Ma+=2)}return Ma}_project(T,ba,ea,ja){let Ma=Infinity,oa,qa,l;if(0>ja){if(ba<=this.ymin)return null;(oa=(this.ymin-ba)/ja)<Ma&&(l=this.ymin,qa=T+(Ma=oa)*ea)}else if(0<ja){if(ba>=this.ymax)return null;(oa=(this.ymax-ba)/ja)<Ma&&(l=this.ymax,qa=T+(Ma=oa)*ea)}if(0<ea){if(T>=this.xmax)return null;
(oa=(this.xmax-T)/ea)<Ma&&(qa=this.xmax,l=ba+oa*ja)}else if(0>ea){if(T<=this.xmin)return null;(oa=(this.xmin-T)/ea)<Ma&&(qa=this.xmin,l=ba+oa*ja)}return[qa,l]}_edgecode(T,ba){return(T===this.xmin?1:T===this.xmax?2:0)|(ba===this.ymin?4:ba===this.ymax?8:0)}_regioncode(T,ba){return(T<this.xmin?1:T>this.xmax?2:0)|(ba<this.ymin?4:ba>this.ymax?8:0)}_simplify(T){if(T&&4<T.length){for(let ba=0;ba<T.length;ba+=2){const ea=(ba+2)%T.length,ja=(ba+4)%T.length;if(T[ba]===T[ea]&&T[ea]===T[ja]||T[ba+1]===T[ea+1]&&
T[ea+1]===T[ja+1])T.splice(ea,2),ba-=2}T.length||(T=null)}return T}};const $a=2*Math.PI,qb=Math.pow;class Nb{static from(T,ba=Tb,ea=jc,ja){if("length"in T){const Ma=T.length,oa=new Float64Array(2*Ma);for(let qa=0;qa<Ma;++qa){const l=T[qa];oa[2*qa]=ba.call(ja,l,qa,T);oa[2*qa+1]=ea.call(ja,l,qa,T)}T=oa}else T=Float64Array.from(tb(T,ba,ea,ja));return new Nb(T)}constructor(T){this._delaunator=new Sa(T);this.inedges=new Int32Array(T.length/2);this._hullIndex=new Int32Array(T.length/2);this.points=this._delaunator.coords;
this._init()}update(){this._delaunator.update();this._init();return this}_init(){var T=this._delaunator;const ba=this.points;if(T.hull&&2<T.hull.length&&Ea(T)){this.collinear=Int32Array.from({length:ba.length/2},(qa,l)=>l).sort((qa,l)=>ba[2*qa]-ba[2*l]||ba[2*qa+1]-ba[2*l+1]);T=this.collinear[0];var ea=this.collinear[this.collinear.length-1];T=[ba[2*T],ba[2*T+1],ba[2*ea],ba[2*ea+1]];T=1E-8*Math.hypot(T[3]-T[1],T[2]-T[0]);for(let qa=0,l=ba.length/2;qa<l;++qa)ea=Za(ba[2*qa],ba[2*qa+1],T),ba[2*qa]=ea[0],
ba[2*qa+1]=ea[1];this._delaunator=new Sa(ba)}else delete this.collinear;T=this.halfedges=this._delaunator.halfedges;ea=this.hull=this._delaunator.hull;const ja=this.triangles=this._delaunator.triangles,Ma=this.inedges.fill(-1),oa=this._hullIndex.fill(-1);for(let qa=0,l=T.length;qa<l;++qa){const D=ja[2===qa%3?qa-2:qa+1];if(-1===T[qa]||-1===Ma[D])Ma[D]=qa}for(let qa=0,l=ea.length;qa<l;++qa)oa[ea[qa]]=qa;2>=ea.length&&0<ea.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),
this.triangles[0]=ea[0],Ma[ea[0]]=1,2===ea.length&&(Ma[ea[1]]=0,this.triangles[1]=ea[1],this.triangles[2]=ea[1]))}voronoi(T){return new hb(this,T)}*neighbors(T){const {inedges:ba,hull:ea,_hullIndex:ja,halfedges:Ma,triangles:oa,collinear:qa}=this;if(qa){var l=qa.indexOf(T);0<l&&(yield qa[l-1]);l<qa.length-1&&(yield qa[l+1])}else{var D=ba[T];if(-1!==D){var K=D;do{yield(l=oa[K]);K=2===K%3?K-2:K+1;if(oa[K]!==T)break;K=Ma[K];if(-1===K){T=ea[(ja[T]+1)%ea.length];T!==l&&(yield T);break}}while(K!==D)}}}find(T,
ba,ea=0){if((T=+T,T!==T)||(ba=+ba,ba!==ba))return-1;const ja=ea;let Ma;for(;0<=(Ma=this._step(ea,T,ba))&&Ma!==ea&&Ma!==ja;)ea=Ma;return Ma}_step(T,ba,ea){const {inedges:ja,hull:Ma,_hullIndex:oa,halfedges:qa,triangles:l,points:D}=this;if(-1===ja[T]||!D.length)return(T+1)%(D.length>>1);let K=T,v=qb(ba-D[2*T],2)+qb(ea-D[2*T+1],2);const Q=ja[T];let A=Q;do{let W=l[A];const G=qb(ba-D[2*W],2)+qb(ea-D[2*W+1],2);G<v&&(v=G,K=W);A=2===A%3?A-2:A+1;if(l[A]!==T)break;A=qa[A];if(-1===A){A=Ma[(oa[T]+1)%Ma.length];
if(A!==W&&qb(ba-D[2*A],2)+qb(ea-D[2*A+1],2)<v)return A;break}}while(A!==Q);return K}render(T){const ba=null==T?T=new Wa:void 0,{points:ea,halfedges:ja,triangles:Ma}=this;for(let qa=0,l=ja.length;qa<l;++qa){var oa=ja[qa];if(oa<qa)continue;const D=2*Ma[qa];oa=2*Ma[oa];T.moveTo(ea[D],ea[D+1]);T.lineTo(ea[oa],ea[oa+1])}this.renderHull(T);return ba&&ba.value()}renderPoints(T,ba){void 0!==ba||T&&"function"===typeof T.moveTo||(ba=T,T=null);ba=void 0==ba?2:+ba;const ea=null==T?T=new Wa:void 0,{points:ja}=
this;for(let Ma=0,oa=ja.length;Ma<oa;Ma+=2){const qa=ja[Ma],l=ja[Ma+1];T.moveTo(qa+ba,l);T.arc(qa,l,ba,0,$a)}return ea&&ea.value()}renderHull(T){const ba=null==T?T=new Wa:void 0,{hull:ea,points:ja}=this;var Ma=2*ea[0];const oa=ea.length;T.moveTo(ja[Ma],ja[Ma+1]);for(Ma=1;Ma<oa;++Ma){const qa=2*ea[Ma];T.lineTo(ja[qa],ja[qa+1])}T.closePath();return ba&&ba.value()}hullPolygon(){const T=new Ha;this.renderHull(T);return T.value()}renderTriangle(T,ba){const ea=null==ba?ba=new Wa:void 0,{points:ja,triangles:Ma}=
this,oa=2*Ma[T*=3],qa=2*Ma[T+1];T=2*Ma[T+2];ba.moveTo(ja[oa],ja[oa+1]);ba.lineTo(ja[qa],ja[qa+1]);ba.lineTo(ja[T],ja[T+1]);ba.closePath();return ea&&ea.value()}*trianglePolygons(){const {triangles:T}=this;for(let ba=0,ea=T.length/3;ba<ea;++ba)yield this.trianglePolygon(ba)}trianglePolygon(T){const ba=new Ha;this.renderTriangle(T,ba);return ba.value()}}rb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",
array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const db=[-1E5,-1E5,1E5,1E5];ka.inherits(rb,h.Transform,{transform(T,ba){const ea=T.as||"path",ja=ba.source;if(!ja||!ja.length)return ba;var Ma=T.size;Ma=Ma?[0,0,Ma[0],Ma[1]]:(Ma=T.extent)?[Ma[0][0],Ma[0][1],Ma[1][0],Ma[1][1]]:db;Ma=this.value=Nb.from(ja,T.x,T.y).voronoi(Ma);for(let l=0,D=ja.length;l<D;++l){var oa=
Ma.cellPolygon(l),qa=ja[l];if(!oa||2===oa.length&&oa[0][0]===oa[1][0]&&oa[0][1]===oa[1][1])oa=null;else{const K=oa[0][0],v=oa[0][1];let Q=oa.length-1;for(;oa[Q][0]===K&&oa[Q][1]===v;--Q);oa="M"+oa.slice(0,Q+1).join("L")+"Z"}qa[ea]=oa}return ba.reflow(T.modified()).modifies(ea)}});t.voronoi=rb})};
shadow$provide[45]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(32),nb(29),nb(21),nb(33),nb(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub,Yb){function dc(){function vb(T){T.width=T.height=1;var ba=Math.sqrt(T.getContext("2d").getImageData(0,
0,1,1).data.length>>2);T.width=2048/ba;T.height=2048/ba;T=T.getContext("2d");T.fillStyle=T.strokeStyle="red";T.textAlign="center";return{context:T,ratio:ba}}function gb(T,ba,ea){for(var ja=ba.x,Ma=ba.y,oa=Math.sqrt(fc[0]*fc[0]+fc[1]*fc[1]),qa=$a(fc),l=.5>Nb()?1:-1,D=-l,K,v;K=qa(D+=l);){v=~~K[0];K=~~K[1];if(Math.min(Math.abs(v),Math.abs(K))>=oa)break;ba.x=ja+v;ba.y=Ma+K;if(!(0>ba.x+ba.x0||0>ba.y+ba.y0||ba.x+ba.x1>fc[0]||ba.y+ba.y1>fc[1])){if(!(v=!ea)){a:{v=fc[0];v>>=5;K=ba.sprite;var Q=ba.width>>5;
var A=ba.x-(Q<<4);for(var W=A&127,G=32-W,w=ba.y1-ba.y0,z=(ba.y+ba.y0)*v+(A>>5),F=0;F<w;F++){for(var V=A=0;V<=Q;V++)if((A<<G|(V<Q?(A=K[F*Q+V])>>>W:0))&T[z+V]){v=!0;break a}z+=v}v=!1}v=!v}if(v&&(!ea||ba.x+ba.x1>ea[0].x&&ba.x+ba.x0<ea[1].x&&ba.y+ba.y1>ea[0].y&&ba.y+ba.y0<ea[1].y)){ea=ba.sprite;ja=ba.width>>5;Ma=fc[0]>>5;D=ba.x-(ja<<4);oa=D&127;qa=32-oa;l=ba.y1-ba.y0;D=(ba.y+ba.y0)*Ma+(D>>5);for(K=0;K<l;K++){for(Q=v=0;Q<=ja;Q++)T[D+Q]=T[D+Q]|v<<qa|(Q<ja?(v=ea[K*ja+Q])>>>oa:0);D+=Ma}ba.sprite=null;return!0}}}return!1}
var fc=[256,256],sa,ia,Ba,Sa,Wa,Ha,hb,$a=Ab,qb=[],Nb=Math.random,db={layout:function(){for(var T=vb(h.canvas()),ba=Tb((fc[0]>>5)*fc[1]),ea=null,ja=qb.length,Ma=-1,oa=[],qa=qb.map(D=>({text:sa(D),font:ia(D),style:Sa(D),weight:Wa(D),rotate:Ha(D),size:~~(Ba(D)+1E-14),padding:hb(D),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:D})).sort((D,K)=>K.size-D.size);++Ma<ja;){var l=qa[Ma];l.x=fc[0]*(Nb()+.5)>>1;l.y=fc[1]*(Nb()+.5)>>1;Wb(T,l,qa,Ma);l.hasText&&gb(ba,l,ea)&&(oa.push(l),ea?oc(ea,
l):ea=[{x:l.x+l.x0,y:l.y+l.y0},{x:l.x+l.x1,y:l.y+l.y1}],l.x-=fc[0]>>1,l.y-=fc[1]>>1)}return oa},words:function(T){return arguments.length?(qb=T,db):qb},size:function(T){return arguments.length?(fc=[+T[0],+T[1]],db):fc},font:function(T){return arguments.length?(ia=jc(T),db):ia},fontStyle:function(T){return arguments.length?(Sa=jc(T),db):Sa},fontWeight:function(T){return arguments.length?(Wa=jc(T),db):Wa},rotate:function(T){return arguments.length?(Ha=jc(T),db):Ha},text:function(T){return arguments.length?
(sa=jc(T),db):sa},spiral:function(T){return arguments.length?($a=tb[T]||T,db):$a},fontSize:function(T){return arguments.length?(Ba=jc(T),db):Ba},padding:function(T){return arguments.length?(hb=jc(T),db):hb},random:function(T){return arguments.length?(Nb=T,db):Nb}};return db}function Wb(vb,gb,fc,sa){if(!gb.sprite){var ia=vb.context,Ba=vb.ratio;ia.clearRect(0,0,2048/Ba,2048/Ba);var Sa=vb=0,Wa=0,Ha=fc.length;for(--sa;++sa<Ha;){gb=fc[sa];ia.save();ia.font=gb.style+" "+gb.weight+" "+~~((gb.size+1)/Ba)+
"px "+gb.font;var hb=ia.measureText(gb.text+"m").width*Ba;var $a=gb.size<<1;if(gb.rotate){var qb=Math.sin(gb.rotate*Za),Nb=Math.cos(gb.rotate*Za),db=hb*Nb,T=hb*qb;Nb*=$a;hb=$a*qb;hb=Math.max(Math.abs(db+hb),Math.abs(db-hb))+31>>5<<5;$a=~~Math.max(Math.abs(T+Nb),Math.abs(T-Nb))}else hb=hb+31>>5<<5;$a>Wa&&(Wa=$a);2048<=vb+hb&&(vb=0,Sa+=Wa,Wa=0);if(2048<=Sa+$a)break;ia.translate((vb+(hb>>1))/Ba,(Sa+($a>>1))/Ba);gb.rotate&&ia.rotate(gb.rotate*Za);ia.fillText(gb.text,0,0);gb.padding&&(ia.lineWidth=2*gb.padding,
ia.strokeText(gb.text,0,0));ia.restore();gb.width=hb;gb.height=$a;gb.xoff=vb;gb.yoff=Sa;gb.x1=hb>>1;gb.y1=$a>>1;gb.x0=-gb.x1;gb.y0=-gb.y1;gb.hasText=!0;vb+=hb}Ha=ia.getImageData(0,0,2048/Ba,2048/Ba).data;for(db=[];0<=--sa;)if(gb=fc[sa],gb.hasText){hb=gb.width;ia=hb>>5;$a=gb.y1-gb.y0;for(Ba=0;Ba<$a*ia;Ba++)db[Ba]=0;vb=gb.xoff;if(null==vb)break;Sa=gb.yoff;T=0;qb=-1;for(Wa=0;Wa<$a;Wa++){for(Ba=0;Ba<hb;Ba++)Nb=Ha[2048*(Sa+Wa)+(vb+Ba)<<2]?1<<31-Ba%32:0,db[ia*Wa+(Ba>>5)]|=Nb,T|=Nb;T?qb=Wa:(gb.y0++,$a--,
Wa--,Sa++)}gb.y1=gb.y0+qb;gb.sprite=db.slice(0,(gb.y1-gb.y0)*ia)}}}function oc(vb,gb){var fc=vb[0];vb=vb[1];gb.x+gb.x0<fc.x&&(fc.x=gb.x+gb.x0);gb.y+gb.y0<fc.y&&(fc.y=gb.y+gb.y0);gb.x+gb.x1>vb.x&&(vb.x=gb.x+gb.x1);gb.y+gb.y1>vb.y&&(vb.y=gb.y+gb.y1)}function Ab(vb){var gb=vb[0]/vb[1];return function(fc){return[gb*(fc*=.1)*Math.cos(fc),fc*Math.sin(fc)]}}function Tb(vb){for(var gb=[],fc=-1;++fc<vb;)gb[fc]=0;return gb}function jc(vb){return"function"===typeof vb?vb:function(){return vb}}function Ea(vb){ka.Transform.call(this,
dc(),vb)}var Za=Math.PI/180,tb={archimedean:Ab,rectangular:function(vb){var gb=4*vb[0]/vb[1],fc=0,sa=0;return function(ia){var Ba=0>ia?-1:1;switch(Math.sqrt(1+4*Ba*ia)-Ba&3){case 0:fc+=gb;break;case 1:sa+=4;break;case 2:fc-=gb;break;default:sa-=4}return[fc,sa]}}};const rb="x y font fontSize fontStyle fontWeight angle".split(" "),pb="text font rotate fontSize fontStyle fontWeight".split(" ");Ea.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":rb}]};Ya.inherits(Ea,ka.Transform,{transform(vb,gb){function fc(hb){hb=vb[hb];return Ya.isFunction(hb)&&gb.modified(hb.fields)}!vb.size||vb.size[0]&&vb.size[1]||Ya.error("Wordcloud size dimensions must be non-zero.");const sa=vb.modified();if(sa||gb.changed(gb.ADD_REM)||pb.some(fc)){var ia=gb.materialize(gb.SOURCE).source,Ba=this.value,Sa=vb.as||rb,Wa=vb.fontSize||14,Ha;Ya.isFunction(Wa)?Ha=vb.fontSizeRange:Wa=Ya.constant(Wa);if(Ha){const hb=Wa,$a=ub.scale("sqrt")().domain(Ya.extent(ia,
hb)).range(Ha);Wa=qb=>$a(hb(qb))}ia.forEach(hb=>{hb[Sa[0]]=NaN;hb[Sa[1]]=NaN;hb[Sa[3]]=0});ia=Ba.words(ia).text(vb.text).size(vb.size||[500,500]).padding(vb.padding||1).spiral(vb.spiral||"archimedean").rotate(vb.rotate||0).font(vb.font||"sans-serif").fontStyle(vb.fontStyle||"normal").fontWeight(vb.fontWeight||"normal").fontSize(Wa).random(Yb.random).layout();Wa=Ba.size();Ba=Wa[0]>>1;Wa=Wa[1]>>1;Ha=ia.length;for(let hb=0,$a,qb;hb<Ha;++hb)$a=ia[hb],qb=$a.datum,qb[Sa[0]]=$a.x+Ba,qb[Sa[1]]=$a.y+Wa,qb[Sa[2]]=
$a.font,qb[Sa[3]]=$a.size,qb[Sa[4]]=$a.style,qb[Sa[5]]=$a.weight,qb[Sa[6]]=$a.rotate;return gb.reflow(sa).modifies(Sa)}}});t.wordcloud=Ea})};
shadow$provide[46]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,h,ka){function Ya(){let ia=8,Ba=[],Sa=new Uint32Array(0),Wa=ub(0,ia),Ha=ub(0,ia);return{data:()=>Ba,seen:()=>{var hb=Sa;var $a=Ba.length;hb.length>=$a||($a=new hb.constructor($a),
$a.set(hb),hb=$a);return Sa=hb},add(hb){for(let $a=0,qb=Ba.length,Nb=hb.length,db;$a<Nb;++$a)db=hb[$a],db._index=qb++,Ba.push(db)},remove(hb,$a){const qb=Ba.length;hb=Array(qb-hb);const Nb=Ba;let db,T,ba;for(T=0;!$a[T]&&T<qb;++T)hb[T]=Ba[T],Nb[T]=T;for(ba=T;T<qb;++T)db=Ba[T],$a[T]?Nb[T]=-1:(Nb[T]=ba,Wa[ba]=Wa[T],Ha[ba]=Ha[T],hb[ba]=db,db._index=ba++),Wa[T]=0;Ba=hb;return Nb},size:()=>Ba.length,curr:()=>Wa,prev:()=>Ha,reset:hb=>Ha[hb]=Wa[hb],all:()=>257>ia?255:65537>ia?65535:4294967295,set(hb,$a){Wa[hb]|=
$a},clear(hb,$a){Wa[hb]&=~$a},resize(hb,$a){if(hb>Wa.length||$a>ia)ia=Math.max($a,ia),Wa=ub(hb,ia,Wa),Ha=ub(hb,ia)}}}function ub(ia,Ba,Sa){ia=(257>Ba?rb:65537>Ba?pb:vb)(ia);Sa&&ia.set(Sa);return ia}function Yb(ia,Ba,Sa){const Wa=1<<Ba;return{one:Wa,zero:~Wa,range:Sa.slice(),bisect:ia.bisect,index:ia.index,size:ia.size,onAdd(Ha,hb){var $a=this.bisect(this.range,Ha.value);Ha=Ha.index;const qb=$a[0];$a=$a[1];const Nb=Ha.length;let db;for(db=0;db<qb;++db)hb[Ha[db]]|=Wa;for(db=$a;db<Nb;++db)hb[Ha[db]]|=
Wa;return this}}}function dc(ia,Ba){return null==ia||null==Ba?NaN:ia<Ba?-1:ia>Ba?1:ia>=Ba?0:NaN}function Wb(ia,Ba){return null==ia||null==Ba?NaN:Ba<ia?-1:Ba>ia?1:Ba>=ia?0:NaN}function oc(ia){function Ba(hb,$a,qb=0,Nb=hb.length){if(qb<Nb){if(0!==Sa($a,$a))return Nb;do{const db=qb+Nb>>>1;0>Wa(hb[db],$a)?qb=db+1:Nb=db}while(qb<Nb)}return qb}let Sa,Wa,Ha;2!==ia.length?(Sa=dc,Wa=(hb,$a)=>dc(ia(hb),$a),Ha=(hb,$a)=>ia(hb)-$a):(Sa=ia===dc||ia===Wb?ia:Ab,Ha=Wa=ia);return{left:Ba,center:function(hb,$a,qb=0,
Nb=hb.length){Nb=Ba(hb,$a,qb,Nb-1);return Nb>qb&&Ha(hb[Nb-1],$a)>-Ha(hb[Nb],$a)?Nb-1:Nb},right:function(hb,$a,qb=0,Nb=hb.length){if(qb<Nb){if(0!==Sa($a,$a))return Nb;do{const db=qb+Nb>>>1;0>=Wa(hb[db],$a)?qb=db+1:Nb=db}while(qb<Nb)}return qb}}}function Ab(){return 0}function Tb(ia,Ba){return Array.from(Ba,Sa=>ia[Sa])}function jc(){let ia=new Uint32Array(0),Ba=[],Sa=0;return{insert:function(Wa,Ha,hb){if(!Ha.length)return[];const $a=Sa,qb=Ha.length,Nb=new Uint32Array(qb);let db=Array(qb);var T;for(T=
0;T<qb;++T)db[T]=Wa(Ha[T]),Nb[T]=T;db=Ea(db,Nb);if($a){Wa=Ba;Ha=ia;Ba=Array($a+qb);ia=new Uint32Array($a+qb);T=db;var ba=Ba,ea=ia;let ja=0,Ma=0,oa;for(oa=0;ja<$a&&Ma<qb;++oa)Wa[ja]<T[Ma]?(ba[oa]=Wa[ja],ea[oa]=Ha[ja++]):(ba[oa]=T[Ma],ea[oa]=Nb[Ma++]+hb);for(;ja<$a;++ja,++oa)ba[oa]=Wa[ja],ea[oa]=Ha[ja];for(;Ma<qb;++Ma,++oa)ba[oa]=T[Ma],ea[oa]=Nb[Ma]+hb}else{if(0<hb)for(T=0;T<qb;++T)Nb[T]+=hb;Ba=db;ia=Nb}Sa=$a+qb;return{index:Nb,value:db}},remove:function(Wa,Ha){const hb=Sa;let $a,qb,Nb;for(qb=0;!Ha[ia[qb]]&&
qb<hb;++qb);for(Nb=qb;qb<hb;++qb)Ha[$a=ia[qb]]||(ia[Nb]=$a,Ba[Nb]=Ba[qb],++Nb);Sa=hb-Wa},bisect:function(Wa,Ha){let hb;Ha?hb=Ha.length:(Ha=Ba,hb=Sa);return[sa(Ha,Wa[0],0,hb),fc(Ha,Wa[1],0,hb)]},reindex:function(Wa){for(let Ha=0,hb=Sa;Ha<hb;++Ha)ia[Ha]=Wa[ia[Ha]]},index:()=>ia,size:()=>Sa}}function Ea(ia,Ba){ia.sort.call(Ba,(Sa,Wa)=>{Sa=ia[Sa];Wa=ia[Wa];return Sa<Wa?-1:Sa>Wa?1:0});return Tb(ia,Ba)}function Za(ia){h.Transform.call(this,Ya(),ia);this._dims=this._indices=null}function tb(ia){h.Transform.call(this,
null,ia)}const rb=ia=>new Uint8Array(ia),pb=ia=>new Uint16Array(ia),vb=ia=>new Uint32Array(ia),gb=oc(dc),fc=gb.right,sa=gb.left;oc(function(ia){return null===ia?NaN:+ia}).center;Za.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ka.inherits(Za,h.Transform,{transform(ia,Ba){return this._dims?ia.modified("fields")||ia.fields.some(Sa=>Ba.modified(Sa.fields))?
this.reinit(ia,Ba):this.eval(ia,Ba):this.init(ia,Ba)},init(ia,Ba){const Sa=ia.fields,Wa=ia.query,Ha=this._indices={},hb=this._dims=[],$a=Wa.length;let qb=0;for(var Nb;qb<$a;++qb)Nb=Sa[qb].fname,Nb=Ha[Nb]||(Ha[Nb]=jc()),hb.push(Yb(Nb,qb,Wa[qb]));return this.eval(ia,Ba)},reinit(ia,Ba){const Sa=Ba.materialize().fork(),Wa=ia.fields,Ha=ia.query,hb=this._indices,$a=this._dims,qb=this.value,Nb=qb.curr(),db=qb.prev(),T=qb.all(),ba=Sa.rem=Sa.add,ea=Sa.mod,ja=Ha.length,Ma={};let oa;var qa;let l,D,K,v;db.set(Nb);
Ba.rem.length&&(l=this.remove(ia,Ba,Sa));Ba.add.length&&qb.add(Ba.add);if(Ba.mod.length){D={};var Q=Ba.mod;K=0;for(qa=Q.length;K<qa;++K)D[Q[K]._index]=1}for(K=0;K<ja;++K)if(v=Wa[K],!$a[K]||ia.modified("fields",K)||Ba.modified(v.fields))qa=v.fname,(Q=Ma[qa])||(hb[qa]=oa=jc(),Ma[qa]=Q=oa.insert(v,Ba.source,0)),$a[K]=Yb(oa,K,Ha[K]).onAdd(Q,Nb);K=0;for(qa=qb.data().length;K<qa;++K)l[K]||(db[K]!==Nb[K]?ba.push(K):D[K]&&Nb[K]!==T&&ea.push(K));qb.mask=(1<<ja)-1;return Sa},eval(ia,Ba){const Sa=Ba.materialize().fork(),
Wa=this._dims.length;let Ha=0;Ba.rem.length&&(this.remove(ia,Ba,Sa),Ha|=(1<<Wa)-1);ia.modified("query")&&!ia.modified("fields")&&(Ha|=this.update(ia,Ba,Sa));Ba.add.length&&(this.insert(ia,Ba,Sa),Ha|=(1<<Wa)-1);Ba.mod.length&&(this.modify(Ba,Sa),Ha|=(1<<Wa)-1);this.value.mask=Ha;return Sa},insert(ia,Ba,Sa){Ba=Ba.add;var Wa=this.value;const Ha=this._dims,hb=this._indices;ia=ia.fields;const $a={};Sa=Sa.add;const qb=Wa.size()+Ba.length,Nb=Ha.length;let db=Wa.size();Wa.resize(qb,Nb);Wa.add(Ba);const T=
Wa.curr(),ba=Wa.prev(),ea=Wa.all();for(Wa=0;Wa<Nb;++Wa){var ja=ia[Wa].fname;ja=$a[ja]||($a[ja]=hb[ja].insert(ia[Wa],Ba,db));Ha[Wa].onAdd(ja,T)}for(;db<qb;++db)ba[db]=ea,T[db]!==ea&&Sa.push(db)},modify(ia,Ba){Ba=Ba.mod;var Sa=this.value;const Wa=Sa.curr();Sa=Sa.all();ia=ia.mod;let Ha,hb,$a;Ha=0;for(hb=ia.length;Ha<hb;++Ha)$a=ia[Ha]._index,Wa[$a]!==Sa&&Ba.push($a)},remove(ia,Ba,Sa){ia=this._indices;var Wa=this.value;const Ha=Wa.curr(),hb=Wa.prev();Wa=Wa.all();const $a={};Sa=Sa.rem;const qb=Ba.rem;let Nb,
db,T,ba;Nb=0;for(db=qb.length;Nb<db;++Nb)T=qb[Nb]._index,$a[T]=1,hb[T]=ba=Ha[T],Ha[T]=Wa,ba!==Wa&&Sa.push(T);for(T in ia)ia[T].remove(db,$a);this.reindex(Ba,db,$a);return $a},reindex(ia,Ba,Sa){const Wa=this._indices,Ha=this.value;ia.runAfter(()=>{const hb=Ha.remove(Ba,Sa);for(const $a in Wa)Wa[$a].reindex(hb)})},update(ia,Ba,Sa){const Wa=this._dims,Ha=ia.query;Ba=Ba.stamp;const hb=Wa.length;let $a=0,qb,Nb;for(Nb=Sa.filters=0;Nb<hb;++Nb)ia.modified("query",Nb)&&(qb=Nb,++$a);if(1===$a)$a=Wa[qb].one,
this.incrementOne(Wa[qb],Ha[qb],Sa.add,Sa.rem);else for($a=Nb=0;Nb<hb;++Nb)ia.modified("query",Nb)&&($a|=Wa[Nb].one,this.incrementAll(Wa[Nb],Ha[Nb],Ba,Sa.add),Sa.rem=Sa.add);return $a},incrementAll(ia,Ba,Sa,Wa){var Ha=this.value;const hb=Ha.seen(),$a=Ha.curr();Ha=Ha.prev();const qb=ia.index();var Nb=ia.bisect(ia.range),db=ia.bisect(Ba);const T=db[0];db=db[1];const ba=Nb[0];Nb=Nb[1];const ea=ia.one;let ja,Ma,oa;if(T<ba)for(ja=T,Ma=Math.min(ba,db);ja<Ma;++ja)oa=qb[ja],hb[oa]!==Sa&&(Ha[oa]=$a[oa],hb[oa]=
Sa,Wa.push(oa)),$a[oa]^=ea;else if(T>ba)for(ja=ba,Ma=Math.min(T,Nb);ja<Ma;++ja)oa=qb[ja],hb[oa]!==Sa&&(Ha[oa]=$a[oa],hb[oa]=Sa,Wa.push(oa)),$a[oa]^=ea;if(db>Nb)for(ja=Math.max(T,Nb),Ma=db;ja<Ma;++ja)oa=qb[ja],hb[oa]!==Sa&&(Ha[oa]=$a[oa],hb[oa]=Sa,Wa.push(oa)),$a[oa]^=ea;else if(db<Nb)for(ja=Math.max(ba,db),Ma=Nb;ja<Ma;++ja)oa=qb[ja],hb[oa]!==Sa&&(Ha[oa]=$a[oa],hb[oa]=Sa,Wa.push(oa)),$a[oa]^=ea;ia.range=Ba.slice()},incrementOne(ia,Ba,Sa,Wa){const Ha=this.value.curr(),hb=ia.index();var $a=ia.bisect(ia.range),
qb=ia.bisect(Ba);const Nb=qb[0];qb=qb[1];const db=$a[0];$a=$a[1];const T=ia.one;let ba,ea,ja;if(Nb<db)for(ba=Nb,ea=Math.min(db,qb);ba<ea;++ba)ja=hb[ba],Ha[ja]^=T,Sa.push(ja);else if(Nb>db)for(ba=db,ea=Math.min(Nb,$a);ba<ea;++ba)ja=hb[ba],Ha[ja]^=T,Wa.push(ja);if(qb>$a)for(ba=Math.max(Nb,$a),ea=qb;ba<ea;++ba)ja=hb[ba],Ha[ja]^=T,Sa.push(ja);else if(qb<$a)for(ba=Math.max(db,qb),ea=$a;ba<ea;++ba)ja=hb[ba],Ha[ja]^=T,Wa.push(ja);ia.range=Ba.slice()}});tb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",
type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ka.inherits(tb,h.Transform,{transform(ia,Ba){const Sa=~(ia.ignore||0);ia=ia.filter;const Wa=ia.mask;if(0===(Wa&Sa))return Ba.StopPropagation;Ba=Ba.fork(Ba.ALL);const Ha=ia.data(),hb=ia.curr(),$a=ia.prev(),qb=Nb=>hb[Nb]&Sa?null:Ha[Nb];Ba.filter(Ba.MOD,qb);Wa&Wa-1?(Ba.filter(Ba.ADD,Nb=>{const db=hb[Nb]&
Sa;return!db&&db^$a[Nb]&Sa?Ha[Nb]:null}),Ba.filter(Ba.REM,Nb=>{const db=hb[Nb]&Sa;return!db||db^db^$a[Nb]&Sa?null:Ha[Nb]})):(Ba.filter(Ba.ADD,qb),Ba.filter(Ba.REM,Nb=>(hb[Nb]&Sa)===Wa?Ha[Nb]:null));return Ba.filter(Ba.SOURCE,Nb=>qb(Nb._index))}});t.crossfilter=Za;t.resolvefilter=tb})};
shadow$provide[47]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega))})(this,function(t,h){function ka(w){this.type=w}function Ya(w){switch(w.type){case "ArrayExpression":return w.elements;case "BinaryExpression":case "LogicalExpression":return[w.left,w.right];case "CallExpression":return[w.callee].concat(w.arguments);
case "ConditionalExpression":return[w.test,w.consequent,w.alternate];case "MemberExpression":return[w.object,w.property];case "ObjectExpression":return w.properties;case "Property":return[w.key,w.value];case "UnaryExpression":return[w.argument];default:return[]}}function ub(w,z){if(!w)throw Error("ASSERT: "+z);}function Yb(w){return 48<=w&&57>=w}function dc(w){return 0<="0123456789abcdefABCDEF".indexOf(w)}function Wb(w){return 0<="01234567".indexOf(w)}function oc(w){return 10===w||13===w||8232===
w||8233===w}function Ab(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||92===w||128<=w&&v.test(String.fromCharCode(w))}function Tb(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||48<=w&&57>=w||92===w||128<=w&&Q.test(String.fromCharCode(w))}function jc(){for(;l<D;){const w=qa.charCodeAt(l);if(32===w||9===w||11===w||12===w||160===w||5760<=w&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(w)||oc(w))++l;else break}}function Ea(w){var z=
0;var F="u"===w?4:2;for(w=0;w<F;++w)if(l<D&&dc(qa[l])){var V=qa[l++];z=16*z+"0123456789abcdef".indexOf(V.toLowerCase())}else Ha({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(z)}function Za(){var w=qa.charCodeAt(l++);var z=String.fromCharCode(w);92===w&&(117!==qa.charCodeAt(l)&&Ha({},"Unexpected token %0","ILLEGAL"),++l,(w=Ea("u"))&&"\\"!==w&&Ab(w.charCodeAt(0))||Ha({},"Unexpected token %0","ILLEGAL"),z=w);for(;l<D;){w=qa.charCodeAt(l);if(!Tb(w))break;++l;z+=String.fromCharCode(w);
92===w&&(z=z.substr(0,z.length-1),117!==qa.charCodeAt(l)&&Ha({},"Unexpected token %0","ILLEGAL"),++l,(w=Ea("u"))&&"\\"!==w&&Tb(w.charCodeAt(0))||Ha({},"Unexpected token %0","ILLEGAL"),z+=w)}return z}function tb(){var w=l,z=qa.charCodeAt(l),F=qa[l];switch(z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++l,{type:7,value:String.fromCharCode(z),start:w,end:l};default:var V=qa.charCodeAt(l+1);if(61===V)switch(z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return l+=
2,{type:7,value:String.fromCharCode(z)+String.fromCharCode(V),start:w,end:l};case 33:case 61:return l+=2,61===qa.charCodeAt(l)&&++l,{type:7,value:qa.slice(w,l),start:w,end:l}}}z=qa.substr(l,4);if("\x3e\x3e\x3e\x3d"===z)return l+=4,{type:7,value:z,start:w,end:l};z=z.substr(0,3);if("\x3e\x3e\x3e"===z||"\x3c\x3c\x3d"===z||"\x3e\x3e\x3d"===z)return l+=3,{type:7,value:z,start:w,end:l};z=z.substr(0,2);if(F===z[1]&&0<="+-\x3c\x3e\x26|".indexOf(F)||"\x3d\x3e"===z)return l+=2,{type:7,value:z,start:w,end:l};
"//"===z&&Ha({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(F))return++l,{type:7,value:F,start:w,end:l};Ha({},"Unexpected token %0","ILLEGAL")}function rb(){var w=qa[l];ub(Yb(w.charCodeAt(0))||"."===w,"Numeric literal must start with a decimal digit or a decimal point");var z=l;var F="";if("."!==w){F=qa[l++];w=qa[l];if("0"===F){if("x"===w||"X"===w){++l;for(F="";l<D&&dc(qa[l]);)F+=qa[l++];0===F.length&&Ha({},"Unexpected token %0","ILLEGAL");Ab(qa.charCodeAt(l))&&Ha({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+F,16),start:z,end:l}}if(Wb(w)){for(F="0"+qa[l++];l<D&&Wb(qa[l]);)F+=qa[l++];(Ab(qa.charCodeAt(l))||Yb(qa.charCodeAt(l)))&&Ha({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(F,8),octal:!0,start:z,end:l}}w&&Yb(w.charCodeAt(0))&&Ha({},"Unexpected token %0","ILLEGAL")}for(;Yb(qa.charCodeAt(l));)F+=qa[l++];w=qa[l]}if("."===w){for(F+=qa[l++];Yb(qa.charCodeAt(l));)F+=qa[l++];w=qa[l]}if("e"===w||"E"===w){F+=qa[l++];w=qa[l];
if("+"===w||"-"===w)F+=qa[l++];if(Yb(qa.charCodeAt(l)))for(;Yb(qa.charCodeAt(l));)F+=qa[l++];else Ha({},"Unexpected token %0","ILLEGAL")}Ab(qa.charCodeAt(l))&&Ha({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(F),start:z,end:l}}function pb(w,z){let F=w;0<=z.indexOf("u")&&(F=F.replace(/\\u\{([0-9a-fA-F]+)\}/g,(V,ta)=>{if(1114111>=parseInt(ta,16))return"x";Ha({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(F)}catch(V){Ha({},"Invalid regular expression")}try{return new RegExp(w,
z)}catch(V){return null}}function vb(){jc();if(l>=D)return{type:2,start:l,end:l};var w=qa.charCodeAt(l);if(Ab(w)){w=l;if(92===qa.charCodeAt(l))var z=Za();else a:{for(z=l++;l<D;){var F=qa.charCodeAt(l);if(92===F){l=z;z=Za();break a}if(Tb(F))++l;else break}z=qa.slice(z,l)}return{type:1===z.length?3:A.hasOwnProperty(z)?4:"null"===z?5:"true"===z||"false"===z?1:3,value:z,start:w,end:l}}if(40===w||41===w||59===w)return tb();if(39===w||34===w){var V="";F=!1;w=qa[l];ub("'"===w||'"'===w,"String literal must starts with a quote");
z=l;for(++l;l<D;){var ta=qa[l++];if(ta===w){w="";break}else if("\\"===ta)if((ta=qa[l++])&&oc(ta.charCodeAt(0)))"\r"===ta&&"\n"===qa[l]&&++l;else switch(ta){case "u":case "x":if("{"===qa[l]){++l;var N=qa[l];ta=0;for("}"===N&&Ha({},"Unexpected token %0","ILLEGAL");l<D;){N=qa[l++];if(!dc(N))break;ta=16*ta+"0123456789abcdef".indexOf(N.toLowerCase())}(1114111<ta||"}"!==N)&&Ha({},"Unexpected token %0","ILLEGAL");ta=65535>=ta?String.fromCharCode(ta):String.fromCharCode((ta-65536>>10)+55296,(ta-65536&1023)+
56320);V+=ta}else V+=Ea(ta);break;case "n":V+="\n";break;case "r":V+="\r";break;case "t":V+="\t";break;case "b":V+="\b";break;case "f":V+="\f";break;case "v":V+="\v";break;default:Wb(ta)?(N="01234567".indexOf(ta),0!==N&&(F=!0),l<D&&Wb(qa[l])&&(F=!0,N=8*N+"01234567".indexOf(qa[l++]),0<="0123".indexOf(ta)&&l<D&&Wb(qa[l])&&(N=8*N+"01234567".indexOf(qa[l++]))),V+=String.fromCharCode(N)):V+=ta}else if(oc(ta.charCodeAt(0)))break;else V+=ta}""!==w&&Ha({},"Unexpected token %0","ILLEGAL");return{type:8,value:V,
octal:F,start:z,end:l}}return 46===w?Yb(qa.charCodeAt(l+1))?rb():tb():Yb(w)?rb():tb()}function gb(){const w=K;l=w.end;K=vb();l=w.end;return w}function fc(){const w=l;K=vb();l=w}function sa(w,z,F){const V=new ka("||"===w||"\x26\x26"===w?"LogicalExpression":"BinaryExpression");V.operator=w;V.left=z;V.right=F;return V}function ia(w){const z=new ka("Identifier");z.name=w;return z}function Ba(w){const z=new ka("Literal");z.value=w.value;z.raw=qa.slice(w.start,w.end);w.regex&&("//"===z.raw&&(z.raw="/(?:)/"),
z.regex=w.regex);return z}function Sa(w,z,F){const V=new ka("MemberExpression");V.computed="["===w;V.object=z;V.property=F;V.computed||(F.member=!0);return V}function Wa(w,z,F){const V=new ka("Property");V.key=z;V.value=F;V.kind=w;return V}function Ha(w,z){var F=Array.prototype.slice.call(arguments,2),V=z.replace(/%(\d)/g,(N,la)=>{ub(la<F.length,"Message reference must be in range");return F[la]});var ta=Error(V);ta.index=l;ta.description=V;throw ta;}function hb(w){2===w.type&&Ha(w,"Unexpected end of input");
6===w.type&&Ha(w,"Unexpected number");8===w.type&&Ha(w,"Unexpected string");3===w.type&&Ha(w,"Unexpected identifier");4===w.type&&Ha(w,"Unexpected reserved word");Ha(w,"Unexpected token %0",w.value)}function $a(w){const z=gb();7===z.type&&z.value===w||hb(z)}function qb(w){return 7===K.type&&K.value===w}function Nb(){l=K.start;const w=gb();return 8===w.type||6===w.type?(w.octal&&Ha(w,"Octal literals are not allowed in strict mode."),Ba(w)):ia(w.value)}function db(){if(qb("(")){$a("(");var w=Ma();$a(")");
return w}if(qb("[")){w=[];l=K.start;for($a("[");!qb("]");)qb(",")?(gb(),w.push(null)):(w.push(ja()),qb("]")||$a(","));gb();var z=new ka("ArrayExpression");z.elements=w;return z}if(qb("{")){w=[];z={};var F=String;l=K.start;for($a("{");!qb("}");){l=K.start;var V=K;if(3===V.type){var ta=Nb();$a(":");V=ja();V=Wa("init",ta,V)}else 2===V.type||7===V.type?(hb(V),V=void 0):(ta=Nb(),$a(":"),V=ja(),V=Wa("init",ta,V));ta="Identifier"===V.key.type?V.key.name:F(V.key.value);ta="$"+ta;Object.prototype.hasOwnProperty.call(z,
ta)?Ha({},"Duplicate data property in object literal not allowed in strict mode"):z[ta]=!0;w.push(V);qb("}")||$a(",")}$a("}");z=new ka("ObjectExpression");z.properties=w;return z}w=K.type;l=K.start;if(3===w||W[K.value])z=ia(gb().value);else if(8===w||6===w)K.octal&&Ha(K,"Octal literals are not allowed in strict mode."),z=Ba(gb());else{if(4===w)throw Error("Disabled.");if(1===w)w=gb(),w.value="true"===w.value,z=Ba(w);else if(5===w)w=gb(),w.value=null,z=Ba(w);else if(qb("/")||qb("/\x3d")){var N;K=null;
jc();w=l;z=qa[l];ub("/"===z,"Regular expression literal must start with a slash");F=qa[l++];for(ta=V=!1;l<D;)if(z=qa[l++],F+=z,"\\"===z)z=qa[l++],oc(z.charCodeAt(0))&&Ha({},"Invalid regular expression: missing /"),F+=z;else if(oc(z.charCodeAt(0)))Ha({},"Invalid regular expression: missing /");else if(V)"]"===z&&(V=!1);else if("/"===z){ta=!0;break}else"["===z&&(V=!0);ta||Ha({},"Invalid regular expression: missing /");z=F.substr(1,F.length-2);for(N=ta="";l<D;){V=qa[l];if(!Tb(V.charCodeAt(0)))break;
++l;"\\"===V&&l<D?Ha({},"Unexpected token %0","ILLEGAL"):(N+=V,ta+=V)}0<=N.search(/[^gimuy]/g)&&Ha({},"Invalid regular expression",N);V=N;N=pb(z,V);z=Ba({literal:F+ta,value:N,regex:{pattern:z,flags:V},start:w,end:l});fc()}else hb(gb())}return z}function T(){var w;for(w=db();;)if(qb(".")){$a(".");l=K.start;var z=gb();3===z.type||4===z.type||1===z.type||5===z.type||hb(z);z=ia(z.value);w=Sa(".",w,z)}else if(qb("(")){z=[];$a("(");if(!qb(")"))for(;l<D;){z.push(ja());if(qb(")"))break;$a(",")}$a(")");const F=
new ka("CallExpression");F.callee=w;F.arguments=z;w=F}else if(qb("["))$a("["),z=Ma(),$a("]"),w=Sa("[",w,z);else break;if(7===K.type&&(qb("++")||qb("--")))throw Error("Disabled.");return w}function ba(){if(7!==K.type&&4!==K.type)var w=T();else{if(qb("++")||qb("--"))throw Error("Disabled.");if(qb("+")||qb("-")||qb("~")||qb("!")){var z=gb();w=ba();z=z.value;const F=new ka("UnaryExpression");F.operator=z;F.argument=w;F.prefix=!0;w=F}else{if(4===K.type&&"delete"===K.value||4===K.type&&"void"===K.value||
4===K.type&&"typeof"===K.value)throw Error("Disabled.");w=T()}}return w}function ea(w){let z=0;if(7!==w.type&&4!==w.type)return 0;switch(w.value){case "||":z=1;break;case "\x26\x26":z=2;break;case "|":z=3;break;case "^":z=4;break;case "\x26":z=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":z=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":z=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":z=8;break;case "+":case "-":z=
9;break;case "*":case "/":case "%":z=11}return z}function ja(){var w=K;var z=ba();var F=K;var V=ea(F);if(0===V)var ta=z;else{F.prec=V;gb();w=[w,K];var N=ba();for(ta=[z,F,N];0<(V=ea(K));){for(;2<ta.length&&V<=ta[ta.length-2].prec;)N=ta.pop(),F=ta.pop().value,z=ta.pop(),w.pop(),z=sa(F,z,N),ta.push(z);F=gb();F.prec=V;ta.push(F);w.push(K);z=ba();ta.push(z)}V=ta.length-1;z=ta[V];for(w.pop();1<V;)w.pop(),z=sa(ta[V-1].value,ta[V-2],z),V-=2;ta=z}qb("?")&&(gb(),w=ja(),$a(":"),V=ja(),z=new ka("ConditionalExpression"),
z.test=ta,z.consequent=w,z.alternate=V,ta=z);return ta}function Ma(){const w=ja();if(qb(","))throw Error("Disabled.");return w}function oa(w){function z(F,V,ta){return N=>{let la=w(N[0]);V&&(la=V+"("+la+")",0===V.lastIndexOf("new ",0)&&(la="("+la+")"));return la+"."+F+(0>ta?"":0===ta?"()":"("+N.slice(1).map(w).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(F){3>F.length&&h.error("Missing arguments to clamp function.");3<F.length&&h.error("Too many arguments to clamp function.");F=F.map(w);return"Math.max("+F[1]+", Math.min("+F[2]+","+F[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:z("getDate","new Date",0),day:z("getDay","new Date",0),
year:z("getFullYear","new Date",0),month:z("getMonth","new Date",0),hours:z("getHours","new Date",0),minutes:z("getMinutes","new Date",0),seconds:z("getSeconds","new Date",0),milliseconds:z("getMilliseconds","new Date",0),time:z("getTime","new Date",0),timezoneoffset:z("getTimezoneOffset","new Date",0),utcdate:z("getUTCDate","new Date",0),utcday:z("getUTCDay","new Date",0),utcyear:z("getUTCFullYear","new Date",0),utcmonth:z("getUTCMonth","new Date",0),utchours:z("getUTCHours","new Date",0),utcminutes:z("getUTCMinutes",
"new Date",0),utcseconds:z("getUTCSeconds","new Date",0),utcmilliseconds:z("getUTCMilliseconds","new Date",0),length:z("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:z("toUpperCase","String",0),lower:z("toLowerCase","String",0),substring:z("substring","String"),split:z("split","String"),trim:z("trim","String",0),regexp:"RegExp",test:z("test","RegExp"),if:function(F){3>F.length&&h.error("Missing arguments to if function.");3<F.length&&h.error("Too many arguments to if function.");
F=F.map(w);return"("+F[0]+"?"+F[1]+":"+F[2]+")"}}}ka.prototype.visit=function(w){let z,F,V;if(w(this))return 1;z=Ya(this);F=0;for(V=z.length;F<V;++F)if(z[F].visit(w))return 1};var qa,l,D,K,v=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
Q=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const A={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},W={"if":1};var G={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};t.ASTNode=ka;t.ArrayExpression="ArrayExpression";t.BinaryExpression="BinaryExpression";t.CallExpression="CallExpression";t.ConditionalExpression="ConditionalExpression";t.Identifier="Identifier";t.Literal="Literal";t.LogicalExpression="LogicalExpression";t.MemberExpression="MemberExpression";t.ObjectExpression="ObjectExpression";t.Property="Property";
t.RawCode="RawCode";t.UnaryExpression="UnaryExpression";t.codegenExpression=function(w){function z(X){if(h.isString(X))return X;const Fa=Sb[X.type];null==Fa&&h.error("Unsupported type: "+X.type);return Fa(X)}function F(X){X={code:z(X),globals:Object.keys(Xa),fields:Object.keys(sb)};Xa={};sb={};return X}w=w||{};const V=w.allowed?h.toSet(w.allowed):{},ta=w.forbidden?h.toSet(w.forbidden):{},N=w.constants||G,la=(w.functions||oa)(z),wa=w.globalvar,Na=w.fieldvar,Pa=h.isFunction(wa)?wa:X=>`${wa}["${X}"]`;
let Xa={},sb={},ib=0;const Sb={Literal:X=>X.raw,Identifier:X=>{X=X.name;if(0<ib)return X;if(h.hasOwnProperty(ta,X))return h.error("Illegal identifier: "+X);if(h.hasOwnProperty(N,X))return N[X];if(h.hasOwnProperty(V,X))return X;Xa[X]=1;return Pa(X)},MemberExpression:X=>{const Fa=!X.computed,Kb=z(X.object);Fa&&(ib+=1);X=z(X.property);if(Kb===Na){var pc=sb;var $b=($b=X&&X.length-1)&&('"'===X[0]&&'"'===X[$b]||"'"===X[0]&&"'"===X[$b])?X.slice(1,-1):X;pc[$b]=1}Fa&&--ib;return Kb+(Fa?"."+X:"["+X+"]")},CallExpression:X=>
{"Identifier"!==X.callee.type&&h.error("Illegal callee type: "+X.callee.type);const Fa=X.callee.name;X=X.arguments;const Kb=h.hasOwnProperty(la,Fa)&&la[Fa];Kb||h.error("Unrecognized function: "+Fa);return h.isFunction(Kb)?Kb(X):Kb+"("+X.map(z).join(",")+")"},ArrayExpression:X=>"["+X.elements.map(z).join(",")+"]",BinaryExpression:X=>"("+z(X.left)+" "+X.operator+" "+z(X.right)+")",UnaryExpression:X=>"("+X.operator+z(X.argument)+")",ConditionalExpression:X=>"("+z(X.test)+"?"+z(X.consequent)+":"+z(X.alternate)+
")",LogicalExpression:X=>"("+z(X.left)+X.operator+z(X.right)+")",ObjectExpression:X=>"{"+X.properties.map(z).join(",")+"}",Property:X=>{ib+=1;const Fa=z(X.key);--ib;return Fa+":"+z(X.value)}};F.functions=la;F.constants=N;return F};t.constants=G;t.functions=oa;t.parseExpression=function(w){qa=w;l=0;D=qa.length;K=null;fc();w=Ma();if(2!==K.type)throw Error("Unexpect token after expression.");return w}})};
shadow$provide[48]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(47)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ka){function Ya(sa,ia){return null==sa||null==ia?NaN:sa<ia?-1:sa>ia?1:sa>=ia?0:NaN}function ub(sa,ia){return null==sa||null==ia?NaN:ia<sa?-1:ia>sa?1:ia>=sa?0:NaN}function Yb(){return 0}function dc({_intern:sa,
_key:ia},Ba){ia=ia(Ba);return sa.has(ia)?sa.get(ia):Ba}function Wb({_intern:sa,_key:ia},Ba){ia=ia(Ba);if(sa.has(ia))return sa.get(ia);sa.set(ia,Ba);return Ba}function oc({_intern:sa,_key:ia},Ba){ia=ia(Ba);sa.has(ia)&&(Ba=sa.get(ia),sa.delete(ia));return Ba}function Ab(sa){return null!==sa&&"object"===typeof sa?sa.valueOf():sa}function Tb(sa){return sa instanceof Za?sa:new Za(sa)}function jc(sa){sa.getter&&sa.getter[tb]||(sa.getter=h.field(sa.field),sa.getter[tb]=!0);return sa.getter}function Ea(sa,
ia){var Ba=ia.fields;ia=ia.values;for(var Sa=Ba.length,Wa=0,Ha,hb;Wa<Sa;++Wa)if(hb=Ba[Wa],Ha=jc(hb)(sa),h.isDate(Ha)&&(Ha=h.toNumber(Ha)),h.isDate(ia[Wa])&&(ia[Wa]=h.toNumber(ia[Wa])),h.isArray(ia[Wa])&&h.isDate(ia[Wa][0])&&(ia[Wa]=ia[Wa].map(h.toNumber)),"E"===hb.type){if(h.isArray(ia[Wa])?0>ia[Wa].indexOf(Ha):Ha!==ia[Wa])return!1}else if("R"===hb.type){if(!h.inrange(Ha,ia[Wa]))return!1}else if("R-RE"===hb.type){if(!h.inrange(Ha,ia[Wa],!0,!1))return!1}else if("R-E"===hb.type){if(!h.inrange(Ha,ia[Wa],
!1,!1))return!1}else if("R-LE"===hb.type&&!h.inrange(Ha,ia[Wa],!1,!0))return!1;return!0}class Za extends Set{constructor(sa,ia=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ia}});if(null!=sa)for(const Ba of sa)this.add(Ba)}has(sa){return super.has(dc(this,sa))}add(sa){return super.add(Wb(this,sa))}delete(sa){return super.delete(oc(this,sa))}}const tb=Symbol("vega_selection_getter"),rb=h.field("_vgsid_"),pb=function(sa){function ia(Ha,hb,$a=0,qb=Ha.length){if($a<qb){if(0!==
Ba(hb,hb))return qb;do{const Nb=$a+qb>>>1;0>Sa(Ha[Nb],hb)?$a=Nb+1:qb=Nb}while($a<qb)}return $a}let Ba,Sa,Wa;2!==sa.length?(Ba=Ya,Sa=(Ha,hb)=>Ya(sa(Ha),hb),Wa=(Ha,hb)=>sa(Ha)-hb):(Ba=sa===Ya||sa===ub?sa:Yb,Wa=Sa=sa);return{left:ia,center:function(Ha,hb,$a=0,qb=Ha.length){qb=ia(Ha,hb,$a,qb-1);return qb>$a&&Wa(Ha[qb-1],hb)>-Wa(Ha[qb],hb)?qb-1:qb},right:function(Ha,hb,$a=0,qb=Ha.length){if($a<qb){if(0!==Ba(hb,hb))return qb;do{const Nb=$a+qb>>>1;0>=Sa(Ha[Nb],hb)?$a=Nb+1:qb=Nb}while($a<qb)}return $a}}}(rb),
vb=pb.left,gb=pb.right;var fc={_vgsid__union:function(...sa){const ia=new Za;for(const Ba of sa)for(const Sa of Ba)ia.add(Sa);return ia},_vgsid__intersect:function(sa,...ia){sa=new Za(sa);ia=ia.map(Tb);a:for(const Ba of sa)for(const Sa of ia)if(!Sa.has(Ba)){sa.delete(Ba);continue a}return sa},E_union:function(sa,ia){if(!sa.length)return ia;for(var Ba=0,Sa=ia.length;Ba<Sa;++Ba)0>sa.indexOf(ia[Ba])&&sa.push(ia[Ba]);return sa},E_intersect:function(sa,ia){return sa.length?sa.filter(Ba=>0<=ia.indexOf(Ba)):
ia},R_union:function(sa,ia){var Ba=h.toNumber(ia[0]),Sa=h.toNumber(ia[1]);Ba>Sa&&(Ba=ia[1],Sa=ia[0]);if(!sa.length)return[Ba,Sa];sa[0]>Ba&&(sa[0]=Ba);sa[1]<Sa&&(sa[1]=Sa);return sa},R_intersect:function(sa,ia){var Ba=h.toNumber(ia[0]),Sa=h.toNumber(ia[1]);Ba>Sa&&(Ba=ia[1],Sa=ia[0]);if(!sa.length)return[Ba,Sa];if(Sa<sa[0]||sa[1]<Ba)return[];sa[0]<Ba&&(sa[0]=Ba);sa[1]>Sa&&(sa[1]=Sa);return sa}};t.selectionIdTest=function(sa,ia,Ba){var Sa=this.context.data[sa];sa=Sa?Sa.values.value:[];Sa=Sa?Sa["index:unit"]&&
Sa["index:unit"].value:void 0;Ba="intersect"===Ba;ia=rb(ia);const Wa=vb(sa,ia);if(Wa===sa.length||rb(sa[Wa])!==ia)return!1;if(Sa&&Ba){if(1===Sa.size)return!0;if(gb(sa,ia)-Wa<Sa.size)return!1}return!0};t.selectionResolve=function(sa,ia,Ba,Sa){sa=(sa=this.context.data[sa])?sa.values.value:[];for(var Wa={},Ha={},hb={},$a,qb,Nb,db,T,ba,ea=sa.length,ja=0,Ma,oa;ja<ea;++ja)if($a=sa[ja],db=$a.unit,qb=$a.fields,Nb=$a.values,qb&&Nb){Ma=0;for(oa=qb.length;Ma<oa;++Ma)T=qb[Ma],$a=Wa[T.field]||(Wa[T.field]={}),
ba=$a[db]||($a[db]=[]),hb[T.field]=T=T.type.charAt(0),T=fc[`${T}_union`],$a[db]=T(ba,h.array(Nb[Ma]));Ba&&(ba=Ha[db]||(Ha[db]=[]),ba.push(h.array(Nb).reduce((qa,l,D)=>(qa[qb[D].field]=l,qa),{})))}else T="_vgsid_",Nb=rb($a),$a=Wa[T]||(Wa[T]={}),ba=$a[db]||($a[db]=[]),ba.push(Nb),Ba&&(ba=Ha[db]||(Ha[db]=[]),ba.push({_vgsid_:Nb}));ia=ia||"union";Wa._vgsid_?Wa._vgsid_=fc[`${"_vgsid_"}_${ia}`](...Object.values(Wa._vgsid_)):Object.keys(Wa).forEach(qa=>{Wa[qa]=Object.keys(Wa[qa]).map(l=>Wa[qa][l]).reduce((l,
D)=>void 0===l?D:fc[`${hb[qa]}_${ia}`](l,D))});sa=Object.keys(Ha);Ba&&sa.length&&(Wa[Sa?"vlPoint":"vlMulti"]="union"===ia?{or:sa.reduce((qa,l)=>(qa.push(...Ha[l]),qa),[])}:{and:sa.map(qa=>({or:Ha[qa]}))});return Wa};t.selectionTest=function(sa,ia,Ba){var Sa=this.context.data[sa];sa=Sa?Sa.values.value:[];Sa=Sa?Sa["index:unit"]&&Sa["index:unit"].value:void 0;Ba="intersect"===Ba;for(var Wa=sa.length,Ha=0,hb,$a,qb,Nb;Ha<Wa;++Ha)if(hb=sa[Ha],Sa&&Ba){if($a=$a||{},qb=$a[Nb=hb.unit]||0,-1!==qb){hb=Ea(ia,
hb);$a[Nb]=hb?-1:++qb;if(hb&&1===Sa.size)return!0;if(!hb&&qb===Sa.get(Nb).count)return!1}}else if(hb=Ea(ia,hb),Ba^hb)return hb;return Wa&&Ba};t.selectionTuples=function(sa,ia){return sa.map(Ba=>h.extend(ia.fields?{values:ia.fields.map(Sa=>jc(Sa)(Ba.datum))}:{_vgsid_:rb(Ba.datum)},ia))};t.selectionVisitor=function(sa,ia,Ba,Sa){ia[0].type!==ka.Literal&&h.error("First argument to selection functions must be a string literal.");sa=ia[0].value;ia=2<=ia.length&&h.peek(ia).value;const Wa=":"+sa;"intersect"!==
ia||h.hasOwnProperty(Sa,"@unit")||(Sa["@unit"]=Ba.getData(sa).indataRef(Ba,"unit"));h.hasOwnProperty(Sa,Wa)||(Sa[Wa]=Ba.getData(sa).tuplesRef())}})};
shadow$provide[49]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(47),nb(33),nb(29),nb(34),nb(48),nb(30),nb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub,Yb,dc,
Wb,oc){function Ab(U){return(U=this.context.data[U])?U.values.value:[]}function Tb(U,Ka,lb){return(lb=(U=this.context.data[U]["index:"+Ka])?U.value.get(lb):void 0)?lb.count:lb}function jc(U,Ka){const lb=this.context.dataflow;lb.pulse(this.context.data[U].input,lb.changeset().remove(h.truthy).insert(Ka));return 1}function Ea(U,Ka,lb){if(U){const Jc=this.context.dataflow;Jc.pulse(U.mark.source,Jc.changeset().encode(U,Ka))}return void 0!==lb?lb:U}function Za(U,Ka,lb){if(!Number.isInteger(U)||!Number.isInteger(Ka))return"";
Ld.setYear(2E3);Ld.setMonth(U);Ld.setDate(Ka);return cd.call(this,Ld,lb)}function tb(U){return Za.call(this,U,1,"%B")}function rb(U){return Za.call(this,U,1,"%b")}function pb(U){return Za.call(this,0,2+U,"%A")}function vb(U){return Za.call(this,0,2+U,"%a")}function gb(U,Ka,lb,Jc){Ka[0].type!==ka.Literal&&h.error("First argument to data functions must be a string literal.");U=Ka[0].value;Ka=":"+U;if(!h.hasOwnProperty(Ka,Jc))try{Jc[Ka]=lb.getData(U).tuplesRef()}catch(Kc){}}function fc(U,Ka,lb,Jc){Ka[0].type!==
ka.Literal&&h.error("First argument to indata must be a string literal.");Ka[1].type!==ka.Literal&&h.error("Second argument to indata must be a string literal.");U=Ka[0].value;Ka=Ka[1].value;const Kc="@"+Ka;h.hasOwnProperty(Kc,Jc)||(Jc[Kc]=lb.getData(U).indataRef(lb,Ka))}function sa(U,Ka,lb,Jc){if(Ka[0].type===ka.Literal)ia(lb,Jc,Ka[0].value);else for(U in lb.scales)ia(lb,Jc,U)}function ia(U,Ka,lb){const Jc="%"+lb;if(!h.hasOwnProperty(Ka,Jc))try{Ka[Jc]=U.scaleRef(lb)}catch(Kc){}}function Ba(U,Ka){if(h.isFunction(U))return U;
if(h.isString(U))return(U=Ka.scales[U])&&Ya.isRegisteredScale(U.value)?U.value:void 0}function Sa(U,Ka,lb){Ka.__bandwidth=Kc=>Kc&&Kc.bandwidth?Kc.bandwidth():0;lb._bandwidth=sa;lb._range=sa;lb._scale=sa;const Jc=Kc=>"_["+(Kc.type===ka.Literal?h.stringValue("%"+Kc.value):h.stringValue("%")+"+"+U(Kc))+"]";return{_bandwidth:Kc=>`this.__bandwidth(${Jc(Kc[0])})`,_range:Kc=>`${Jc(Kc[0])}.range()`,_scale:Kc=>`${Jc(Kc[0])}(${U(Kc[1])})`}}function Wa(U){return 1<U?Ca:-1>U?-Ca:Math.asin(U)}function Ha(){}function hb(U,
Ka){if(U&&cf.hasOwnProperty(U.type))cf[U.type](U,Ka)}function $a(U,Ka,lb){var Jc=-1;lb=U.length-lb;for(Ka.lineStart();++Jc<lb;){var Kc=U[Jc];Ka.point(Kc[0],Kc[1],Kc[2])}Ka.lineEnd()}function qb(U,Ka){var lb=-1,Jc=U.length;for(Ka.polygonStart();++lb<Jc;)$a(U[lb],Ka,1);Ka.polygonEnd()}function Nb(U,Ka){if(U&&oe.hasOwnProperty(U.type))oe[U.type](U,Ka);else hb(U,Ka)}function db(){pe.point=ba}function T(){ea(ef,of)}function ba(U,Ka){pe.point=ea;ef=U;of=Ka;U*=sc;Ka*=sc;Ke=U;$e=Tc(Ka=Ka/2+Qa);Ye=ld(Ka)}
function ea(U,Ka){U*=sc;Ka*=sc;Ka=Ka/2+Qa;var lb=U-Ke,Jc=0<=lb?1:-1,Kc=Jc*lb;lb=Tc(Ka);Ka=ld(Ka);var Pd=Ye*Ka,se=$e*lb+Pd*Tc(Kc);Jc=Pd*Jc*ld(Kc);Me.add(Ec(Jc,se));Ke=U;$e=lb;Ye=Ka}function ja(U,Ka){return[U[1]*Ka[2]-U[2]*Ka[1],U[2]*Ka[0]-U[0]*Ka[2],U[0]*Ka[1]-U[1]*Ka[0]]}function Ma(U,Ka){va.push(Cb=[de=U,te=U]);Ka<me&&(me=Ka);Ka>y&&(y=Ka)}function oa(U,Ka){var lb=[U*sc,Ka*sc];var Jc=lb[0];lb=lb[1];var Kc=Tc(lb);Jc=[Kc*Tc(Jc),Kc*ld(Jc),ld(lb)];if(Y){lb=ja(Y,Jc);Kc=lb=ja([lb[1],-lb[0],0],lb);var Pd=
pd(Kc[0]*Kc[0]+Kc[1]*Kc[1]+Kc[2]*Kc[2]);Kc[0]/=Pd;Kc[1]/=Pd;Kc[2]/=Pd;lb=[Ec(lb[1],lb[0]),Wa(lb[2])];var se=U-M;Kc=0<se?1:-1;Pd=lb[0]*id*Kc;se=180<Mc(se);se^(Kc*M<Pd&&Pd<Kc*U)?(lb=lb[1]*id,lb>y&&(y=lb)):(Pd=(Pd+360)%360-180,se^(Kc*M<Pd&&Pd<Kc*U))?(lb=-lb[1]*id,lb<me&&(me=lb)):(Ka<me&&(me=Ka),Ka>y&&(y=Ka));se?U<M?Q(de,U)>Q(de,te)&&(te=U):Q(U,te)>Q(de,te)&&(de=U):te>=de?(U<de&&(de=U),U>te&&(te=U)):U>M?Q(de,U)>Q(de,te)&&(te=U):Q(U,te)>Q(de,te)&&(de=U)}else va.push(Cb=[de=U,te=U]);Ka<me&&(me=Ka);Ka>y&&
(y=Ka);Y=Jc;M=U}function qa(){Hb.point=oa}function l(){Cb[0]=de;Cb[1]=te;Hb.point=Ma;Y=null}function D(U,Ka){if(Y){var lb=U-M;pa.add(180<Mc(lb)?lb+(0<lb?360:-360):lb)}else p=U,P=Ka;pe.point(U,Ka);oa(U,Ka)}function K(){pe.lineStart()}function v(){D(p,P);pe.lineEnd();1E-6<Mc(pa)&&(de=-(te=180));Cb[0]=de;Cb[1]=te;Y=null}function Q(U,Ka){return 0>(Ka-=U)?Ka+360:Ka}function A(U,Ka){return U[0]-Ka[0]}function W(U,Ka){return U[0]<=U[1]?U[0]<=Ka&&Ka<=U[1]:Ka<U[0]||U[1]<Ka}function G(U,Ka){U*=sc;Ka*=sc;var lb=
Tc(Ka);w(lb*Tc(U),lb*ld(U),ld(Ka))}function w(U,Ka,lb){++Xb;nc+=(U-nc)/Xb;tc+=(Ka-tc)/Xb;wc+=(lb-wc)/Xb}function z(){$d.point=F}function F(U,Ka){U*=sc;Ka*=sc;var lb=Tc(Ka);$c=lb*Tc(U);Ad=lb*ld(U);Yd=ld(Ka);$d.point=V;w($c,Ad,Yd)}function V(U,Ka){U*=sc;Ka*=sc;var lb=Tc(Ka),Jc=lb*Tc(U);U=lb*ld(U);Ka=ld(Ka);var Kc=Ec(pd((Kc=Ad*Ka-Yd*U)*Kc+(Kc=Yd*Jc-$c*Ka)*Kc+(Kc=$c*U-Ad*Jc)*Kc),$c*Jc+Ad*U+Yd*Ka);cc+=Kc;Ic+=Kc*($c+($c=Jc));Zc+=Kc*(Ad+(Ad=U));Yc+=Kc*(Yd+(Yd=Ka));w($c,Ad,Yd)}function ta(){$d.point=G}function N(){$d.point=
wa}function la(){Na(Ud,ue);$d.point=G}function wa(U,Ka){Ud=U;ue=Ka;U*=sc;Ka*=sc;$d.point=Na;var lb=Tc(Ka);$c=lb*Tc(U);Ad=lb*ld(U);Yd=ld(Ka);w($c,Ad,Yd)}function Na(U,Ka){U*=sc;Ka*=sc;var lb=Tc(Ka),Jc=lb*Tc(U);U=lb*ld(U);Ka=ld(Ka);lb=Ad*Ka-Yd*U;var Kc=Yd*Jc-$c*Ka,Pd=$c*U-Ad*Jc,se=Xc(lb,Kc,Pd),Ve=Wa(se);se=se&&-Ve/se;jd.add(se*lb);Sd.add(se*Kc);Rc.add(se*Pd);cc+=Ve;Ic+=Ve*($c+($c=Jc));Zc+=Ve*(Ad+(Ad=U));Yc+=Ve*(Yd+(Yd=Ka));w($c,Ad,Yd)}function Pa(U,Ka){return function(lb,Jc,Kc){return lb?(lb=Ba(lb,
(Kc||this).context))&&lb.path[U](Jc):Ka(Jc)}}function Xa(U,Ka){return(U=Ba(U,(Ka||this).context))&&U.scale()}function sb(U){const Ka=this.context.group;let lb=!1;if(Ka)for(;U;){if(U===Ka){lb=!0;break}U=U.mark.group}return lb}function ib(U,Ka,lb){try{U[Ka].apply(U,["EXPRESSION"].concat([].slice.call(lb)))}catch(Jc){U.warn(Jc)}return lb[lb.length-1]}function Sb(){return ib(this.context.dataflow,"warn",arguments)}function X(){return ib(this.context.dataflow,"info",arguments)}function Fa(){return ib(this.context.dataflow,
"debug",arguments)}function Kb(U,Ka,lb){U.prototype=Ka.prototype=lb;lb.constructor=U}function pc(U,Ka){U=Object.create(U.prototype);for(var lb in Ka)U[lb]=Ka[lb];return U}function $b(){}function Mb(){return this.rgb().formatHex()}function Ob(){return this.rgb().formatRgb()}function yc(U){var Ka,lb;U=(U+"").trim().toLowerCase();return(Ka=Ne.exec(U))?(lb=Ka[1].length,Ka=parseInt(Ka[1],16),6===lb?hd(Ka):3===lb?new xb(Ka>>8&15|Ka>>4&240,Ka>>4&15|Ka&240,(Ka&15)<<4|Ka&15,1):8===lb?ra(Ka>>24&255,Ka>>16&
255,Ka>>8&255,(Ka&255)/255):4===lb?ra(Ka>>12&15|Ka>>8&240,Ka>>8&15|Ka>>4&240,Ka>>4&15|Ka&240,((Ka&15)<<4|Ka&15)/255):null):(Ka=Se.exec(U))?new xb(Ka[1],Ka[2],Ka[3],1):(Ka=Sf.exec(U))?new xb(255*Ka[1]/100,255*Ka[2]/100,255*Ka[3]/100,1):(Ka=td.exec(U))?ra(Ka[1],Ka[2],Ka[3],Ka[4]):(Ka=Oe.exec(U))?ra(255*Ka[1]/100,255*Ka[2]/100,255*Ka[3]/100,Ka[4]):(Ka=Df.exec(U))?nd(Ka[1],Ka[2]/100,Ka[3]/100,1):(Ka=pf.exec(U))?nd(Ka[1],Ka[2]/100,Ka[3]/100,Ka[4]):lg.hasOwnProperty(U)?hd(lg[U]):"transparent"===U?new xb(NaN,
NaN,NaN,0):null}function hd(U){return new xb(U>>16&255,U>>8&255,U&255,1)}function ra(U,Ka,lb,Jc){0>=Jc&&(U=Ka=lb=NaN);return new xb(U,Ka,lb,Jc)}function Bb(U){U instanceof $b||(U=yc(U));if(!U)return new xb;U=U.rgb();return new xb(U.r,U.g,U.b,U.opacity)}function Ua(U,Ka,lb,Jc){return 1===arguments.length?Bb(U):new xb(U,Ka,lb,null==Jc?1:Jc)}function xb(U,Ka,lb,Jc){this.r=+U;this.g=+Ka;this.b=+lb;this.opacity=+Jc}function Fb(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function Lb(){const U=Zb(this.opacity);
return`${1===U?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${1===U?")":`, ${U})`}`}function Zb(U){return isNaN(U)?1:Math.max(0,Math.min(1,U))}function ic(U){return Math.max(0,Math.min(255,Math.round(U)||0))}function Ac(U){U=ic(U);return(16>U?"0":"")+U.toString(16)}function nd(U,Ka,lb,Jc){0>=Jc?U=Ka=lb=NaN:0>=lb||1<=lb?U=Ka=NaN:0>=Ka&&(U=NaN);return new Ia(U,Ka,lb,Jc)}function Vc(U){if(U instanceof Ia)return new Ia(U.h,U.s,U.l,U.opacity);U instanceof $b||(U=yc(U));if(!U)return new Ia;
if(U instanceof Ia)return U;U=U.rgb();var Ka=U.r/255,lb=U.g/255,Jc=U.b/255,Kc=Math.min(Ka,lb,Jc),Pd=Math.max(Ka,lb,Jc),se=NaN,Ve=Pd-Kc,Be=(Pd+Kc)/2;Ve?(se=Ka===Pd?(lb-Jc)/Ve+6*(lb<Jc):lb===Pd?(Jc-Ka)/Ve+2:(Ka-lb)/Ve+4,Ve/=.5>Be?Pd+Kc:2-Pd-Kc,se*=60):Ve=0<Be&&1>Be?0:se;return new Ia(se,Ve,Be,U.opacity)}function na(U,Ka,lb,Jc){return 1===arguments.length?Vc(U):new Ia(U,Ka,lb,null==Jc?1:Jc)}function Ia(U,Ka,lb,Jc){this.h=+U;this.s=+Ka;this.l=+lb;this.opacity=+Jc}function fb(U){U=(U||0)%360;return 0>
U?U+360:U}function R(U){return Math.max(0,Math.min(1,U||0))}function r(U,Ka,lb){return 255*(60>U?Ka+(lb-Ka)*U/60:180>U?lb:240>U?Ka+(lb-Ka)*(240-U)/60:Ka)}function da(U){if(U instanceof Da)return new Da(U.l,U.a,U.b,U.opacity);if(U instanceof Hc)return Nc(U);U instanceof xb||(U=Bb(U));var Ka=Eb(U.r),lb=Eb(U.g),Jc=Eb(U.b),Kc=Oa(.2225045*Ka+.7168786*lb+.0606169*Jc);if(Ka===lb&&lb===Jc)var Pd=Ka=Kc;else Pd=Oa((.4360747*Ka+.3850649*lb+.1430804*Jc)/.96422),Ka=Oa((.0139322*Ka+.0971045*lb+.7141733*Jc)/.82521);
return new Da(116*Kc-16,500*(Pd-Kc),200*(Kc-Ka),U.opacity)}function za(U,Ka,lb,Jc){return 1===arguments.length?da(U):new Da(U,Ka,lb,null==Jc?1:Jc)}function Da(U,Ka,lb,Jc){this.l=+U;this.a=+Ka;this.b=+lb;this.opacity=+Jc}function Oa(U){return U>Ff?Math.pow(U,1/3):U/vf+Tf}function kb(U){return U>qf?U*U*U:vf*(U-Tf)}function Ub(U){return 255*(.0031308>=U?12.92*U:1.055*Math.pow(U,1/2.4)-.055)}function Eb(U){return.04045>=(U/=255)?U/12.92:Math.pow((U+.055)/1.055,2.4)}function Ib(U){if(U instanceof Hc)return new Hc(U.h,
U.c,U.l,U.opacity);U instanceof Da||(U=da(U));if(0===U.a&&0===U.b)return new Hc(NaN,0<U.l&&100>U.l?0:NaN,U.l,U.opacity);var Ka=Math.atan2(U.b,U.a)*Ze;return new Hc(0>Ka?Ka+360:Ka,Math.sqrt(U.a*U.a+U.b*U.b),U.l,U.opacity)}function Cc(U,Ka,lb,Jc){return 1===arguments.length?Ib(U):new Hc(U,Ka,lb,null==Jc?1:Jc)}function Hc(U,Ka,lb,Jc){this.h=+U;this.c=+Ka;this.l=+lb;this.opacity=+Jc}function Nc(U){if(isNaN(U.h))return new Da(U.l,0,0,U.opacity);var Ka=U.h*Kf;return new Da(U.l,Math.cos(Ka)*U.c,Math.sin(Ka)*
U.c,U.opacity)}function xd(U){U/=255;return.03928>=U?U/12.92:Math.pow((U+.055)/1.055,2.4)}function sd(U){var Ka=Ua(U);U=xd(Ka.r);const lb=xd(Ka.g);Ka=xd(Ka.b);return.2126*U+.7152*lb+.0722*Ka}function ed(U,Ka){U=sd(U);Ka=sd(Ka);return(Math.max(U,Ka)+.05)/(Math.min(U,Ka)+.05)}function Id(){const U=[].slice.call(arguments);U.unshift({});return h.extend(...U)}function Gd(U,Ka){if(U===Ka||U!==U&&Ka!==Ka)U=!0;else if(h.isArray(U))if(h.isArray(Ka)&&U.length===Ka.length)a:{for(let lb=0,Jc=U.length;lb<Jc;++lb)if(!Gd(U[lb],
Ka[lb])){U=!1;break a}U=!0}else U=!1;else U=h.isObject(U)&&h.isObject(Ka)?vd(U,Ka):!1;return U}function vd(U,Ka){for(const lb in U)if(!Gd(U[lb],Ka[lb]))return!1;return!0}function xe(U){return Ka=>vd(U,Ka)}function Ed(U,Ka,lb,Jc,Kc,Pd){const se=this.context.dataflow,Ve=this.context.data[U],Be=Ve.input;U=se.stamp();let Uf=Ve.changes,lf;if(!1===se._trigger||!(Be.value.length||Ka||Jc))return 0;if(!Uf||Uf.stamp<U)Ve.changes=Uf=se.changeset(),Uf.stamp=U,se.runAfter(()=>{Ve.modified=!0;se.pulse(Be,Uf).run()},
!0,1);lb&&(lb=!0===lb?h.truthy:h.isArray(lb)||ub.isTuple(lb)?lb:xe(lb),Uf.remove(lb));Ka&&Uf.insert(Ka);Jc&&(lb=xe(Jc),Be.value.some(lb)?Uf.remove(lb):Uf.insert(Jc));if(Kc)for(lf in Pd)Uf.modify(Kc,lf,Pd[lf]);return 1}function x(U){U=U.touches;return Math.hypot(U[0].clientX-U[1].clientX,U[0].clientY-U[1].clientY)}function I(U){U=U.touches;return Math.atan2(U[0].clientY-U[1].clientY,U[0].clientX-U[1].clientX)}function xa(U,Ka){Ka=jf[Ka]||(jf[Ka]=h.field(Ka));return h.isArray(U)?U.map(Ka):Ka(U)}function Ja(U){return h.isArray(U)||
ArrayBuffer.isView(U)?U:null}function jb(U){return Ja(U)||(h.isString(U)?U:null)}function wb(U,...Ka){return Ja(U).join(...Ka)}function ec(U,...Ka){return jb(U).indexOf(...Ka)}function Qb(U,...Ka){return jb(U).lastIndexOf(...Ka)}function qc(U,...Ka){return jb(U).slice(...Ka)}function Fc(U,Ka,lb){h.isFunction(lb)&&h.error("Function argument passed to replace.");return String(U).replace(Ka,lb)}function zc(U){return Ja(U).slice().reverse()}function bd(U,Ka,lb){return Ya.bandSpace(U||0,Ka||0,lb||0)}function md(U,
Ka){return(U=Ba(U,(Ka||this).context))&&U.bandwidth?U.bandwidth():0}function qd(U,Ka){return(U=Ba(U,(Ka||this).context))?U.copy():void 0}function Fd(U,Ka){return(U=Ba(U,(Ka||this).context))?U.domain():[]}function kd(U,Ka,lb){return(U=Ba(U,(lb||this).context))?h.isArray(Ka)?(U.invertRange||U.invert)(Ka):(U.invert||U.invertExtent)(Ka):void 0}function Od(U,Ka){return(U=Ba(U,(Ka||this).context))&&U.range?U.range():[]}function he(U,Ka,lb){return(U=Ba(U,(lb||this).context))?U(Ka):void 0}function Le(U,Ka,
lb,Jc,Kc){U=Ba(U,(Kc||this).context);const Pd=Yb.Gradient(Ka,lb);Ka=U.domain();lb=Ka[0];Kc=h.peek(Ka);let se=h.identity;Kc-lb?se=Ya.scaleFraction(U,lb,Kc):U=(U.interpolator?Ya.scale("sequential")().interpolator(U.interpolator()):Ya.scale("linear")().interpolate(U.interpolate()).range(U.range())).domain([lb=0,Kc=1]);U.ticks&&(Ka=U.ticks(+Jc||15),lb!==Ka[0]&&Ka.unshift(lb),Kc!==h.peek(Ka)&&Ka.push(Kc));Ka.forEach(Ve=>Pd.stop(se(Ve),U(Ve)));return Pd}function Ie(U,Ka,lb){const Jc=Ba(U,(lb||this).context);
return function(Kc){return Jc?Jc.path.context(Kc)(Ka):""}}function Fe(U){let Ka=null;return function(lb){return lb?Yb.pathRender(lb,Ka=Ka||Yb.pathParse(U)):U}}function tf(U,Ka){U=Ab.call(Ka,U);return U.root&&U.root.lookup||{}}function df(U,Ka,lb){U=tf(U,this);Ka=U[Ka];lb=U[lb];return Ka&&lb?Ka.path(lb).map(gg):void 0}function E(U,Ka){return(U=tf(U,this)[Ka])?U.ancestors().map(gg):void 0}function ca(){const U="undefined"!==typeof window&&window||null;return U?U.screen:{}}function Ga(){const U="undefined"!==
typeof window&&window||null;return U?[U.innerWidth,U.innerHeight]:[void 0,void 0]}function eb(){var U=this.context.dataflow;return(U=U.container&&U.container())?[U.clientWidth,U.clientHeight]:[void 0,void 0]}function Gb(U,Ka,lb){if(!U)return[];const [Jc,Kc]=U;U=(new Yb.Bounds).set(Jc[0],Jc[1],Kc[0],Kc[1]);lb=lb||this.context.dataflow.scenegraph().root;return Yb.intersect(lb,U,rc(Ka))}function rc(U){let Ka=null;if(U){const lb=h.array(U.marktype),Jc=h.array(U.markname);Ka=Kc=>(!lb.length||lb.some(Pd=>
Kc.marktype===Pd))&&(!Jc.length||Jc.some(Pd=>Kc.name===Pd))}return Ka}function Rb(U,Ka,lb){if(1===arguments.length)return Af[U];Af[U]=Ka;lb&&(Gg[U]=lb);Dg&&(Dg.functions[U]="this."+U);return this}const Sc=U=>function(Ka,lb){return this.context.dataflow.locale()[U](lb)(Ka)},fd=Sc("format"),cd=Sc("timeFormat"),Oc=Sc("utcFormat"),Nd=Sc("timeParse"),Md=Sc("utcParse"),Ld=new Date(2E3,0,1);class Bd{constructor(){this._partials=new Float64Array(32);this._n=0}add(U){const Ka=this._partials;let lb=0;for(let Jc=
0;Jc<this._n&&32>Jc;Jc++){const Kc=Ka[Jc],Pd=U+Kc;(U=Math.abs(U)<Math.abs(Kc)?U-(Pd-Kc):Kc-(Pd-U))&&(Ka[lb++]=U);U=Pd}Ka[lb]=U;this._n=lb+1;return this}valueOf(){const U=this._partials;let Ka=this._n;let lb,Jc=0;if(0<Ka){for(Jc=U[--Ka];0<Ka;){var Kc=Jc;lb=U[--Ka];Jc=Kc+lb;if(Kc=lb-(Jc-Kc))break}0<Ka&&(0>Kc&&0>U[Ka-1]||0<Kc&&0<U[Ka-1])&&(lb=2*Kc,Kc=Jc+lb,lb==Kc-Jc&&(Jc=Kc))}return Jc}}var Xd=Math.PI,Ca=Xd/2,Qa=Xd/4,ac=2*Xd,id=180/Xd,sc=Xd/180,Mc=Math.abs,Ec=Math.atan2,Tc=Math.cos,Xc=Math.hypot,ld=
Math.sin,pd=Math.sqrt,oe={Feature:function(U,Ka){hb(U.geometry,Ka)},FeatureCollection:function(U,Ka){U=U.features;for(var lb=-1,Jc=U.length;++lb<Jc;)hb(U[lb].geometry,Ka)}},cf={Sphere:function(U,Ka){Ka.sphere()},Point:function(U,Ka){U=U.coordinates;Ka.point(U[0],U[1],U[2])},MultiPoint:function(U,Ka){for(var lb=U.coordinates,Jc=-1,Kc=lb.length;++Jc<Kc;)U=lb[Jc],Ka.point(U[0],U[1],U[2])},LineString:function(U,Ka){$a(U.coordinates,Ka,0)},MultiLineString:function(U,Ka){U=U.coordinates;for(var lb=-1,Jc=
U.length;++lb<Jc;)$a(U[lb],Ka,0)},Polygon:function(U,Ka){qb(U.coordinates,Ka)},MultiPolygon:function(U,Ka){U=U.coordinates;for(var lb=-1,Jc=U.length;++lb<Jc;)qb(U[lb],Ka)},GeometryCollection:function(U,Ka){U=U.geometries;for(var lb=-1,Jc=U.length;++lb<Jc;)hb(U[lb],Ka)}},Me=new Bd,Je=new Bd,ef,of,Ke,$e,Ye,pe={point:Ha,lineStart:Ha,lineEnd:Ha,polygonStart:function(){Me=new Bd;pe.lineStart=db;pe.lineEnd=T},polygonEnd:function(){var U=+Me;Je.add(0>U?ac+U:U);this.lineStart=this.lineEnd=this.point=Ha},
sphere:function(){Je.add(ac)}},de,me,te,y,M,p,P,Y,pa,va,Cb,Hb={point:Ma,lineStart:qa,lineEnd:l,polygonStart:function(){Hb.point=D;Hb.lineStart=K;Hb.lineEnd=v;pa=new Bd;pe.polygonStart()},polygonEnd:function(){pe.polygonEnd();Hb.point=Ma;Hb.lineStart=qa;Hb.lineEnd=l;0>Me?(de=-(te=180),me=-(y=90)):1E-6<pa?y=90:-1E-6>pa&&(me=-90);Cb[0]=de;Cb[1]=te},sphere:function(){de=-(te=180);me=-(y=90)}},Xb,cc,nc,tc,wc,Ic,Zc,Yc,jd,Sd,Rc,Ud,ue,$c,Ad,Yd,$d={sphere:Ha,point:G,lineStart:z,lineEnd:ta,polygonStart:function(){$d.lineStart=
N;$d.lineEnd=la},polygonEnd:function(){$d.lineStart=z;$d.lineEnd=ta}};const ye=Pa("area",function(U){Je=new Bd;Nb(U,pe);return 2*Je}),Rd=Pa("bounds",function(U){var Ka,lb,Jc;y=te=-(de=me=Infinity);va=[];Nb(U,Hb);if(Ka=va.length){va.sort(A);U=1;var Kc=va[0];for(lb=[Kc];U<Ka;++U){var Pd=va[U];W(Kc,Pd[0])||W(Kc,Pd[1])?(Q(Kc[0],Pd[1])>Q(Kc[0],Kc[1])&&(Kc[1]=Pd[1]),Q(Pd[0],Kc[1])>Q(Kc[0],Kc[1])&&(Kc[0]=Pd[0])):lb.push(Kc=Pd)}var se=-Infinity;Ka=lb.length-1;U=0;for(Kc=lb[Ka];U<=Ka;Kc=Pd,++U)Pd=lb[U],(Jc=
Q(Kc[1],Pd[0]))>se&&(se=Jc,de=Pd[0],te=Kc[1])}va=Cb=null;return Infinity===de||Infinity===me?[[NaN,NaN],[NaN,NaN]]:[[de,me],[te,y]]}),Vd=Pa("centroid",function(U){Xb=cc=nc=tc=wc=Ic=Zc=Yc=0;jd=new Bd;Sd=new Bd;Rc=new Bd;Nb(U,$d);U=+jd;var Ka=+Sd,lb=+Rc,Jc=Xc(U,Ka,lb);return 1E-12>Jc&&(U=Ic,Ka=Zc,lb=Yc,1E-6>cc&&(U=nc,Ka=tc,lb=wc),Jc=Xc(U,Ka,lb),1E-12>Jc)?[NaN,NaN]:[Ec(Ka,U)*id,Wa(lb/Jc)*id]});var ve=1/.7,Ne=/^#([0-9a-f]{3,8})$/,Se=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Sf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),td=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Oe=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Df=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),pf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),lg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Kb($b,yc,{copy(U){return Object.assign(new this.constructor,this,U)},displayable(){return this.rgb().displayable()},hex:Mb,formatHex:Mb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Vc(this).formatHsl()},formatRgb:Ob,toString:Ob});Kb(xb,Ua,pc($b,{brighter(U){U=null==U?ve:Math.pow(ve,U);return new xb(this.r*U,this.g*U,this.b*U,this.opacity)},darker(U){U=null==U?.7:Math.pow(.7,U);return new xb(this.r*U,this.g*U,this.b*U,this.opacity)},
rgb(){return this},clamp(){return new xb(ic(this.r),ic(this.g),ic(this.b),Zb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Fb,formatHex:Fb,formatHex8:function(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Lb,toString:Lb}));Kb(Ia,na,pc($b,{brighter(U){U=null==U?ve:Math.pow(ve,U);return new Ia(this.h,this.s,this.l*U,this.opacity)},
darker(U){U=null==U?.7:Math.pow(.7,U);return new Ia(this.h,this.s,this.l*U,this.opacity)},rgb(){var U=this.h%360+360*(0>this.h),Ka=isNaN(U)||isNaN(this.s)?0:this.s,lb=this.l;Ka=lb+(.5>lb?lb:1-lb)*Ka;lb=2*lb-Ka;return new xb(r(240<=U?U-240:U+120,lb,Ka),r(U,lb,Ka),r(120>U?U+240:U-120,lb,Ka),this.opacity)},clamp(){return new Ia(fb(this.h),R(this.s),R(this.l),Zb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const U=
Zb(this.opacity);return`${1===U?"hsl(":"hsla("}${fb(this.h)}, ${100*R(this.s)}%, ${100*R(this.l)}%${1===U?")":`, ${U})`}`}}));const Kf=Math.PI/180,Ze=180/Math.PI,Tf=4/29,qf=6/29,vf=3*qf*qf,Ff=qf*qf*qf;Kb(Da,za,pc($b,{brighter(U){return new Da(this.l+18*(null==U?1:U),this.a,this.b,this.opacity)},darker(U){return new Da(this.l-18*(null==U?1:U),this.a,this.b,this.opacity)},rgb(){var U=(this.l+16)/116,Ka=isNaN(this.a)?U:U+this.a/500,lb=isNaN(this.b)?U:U-this.b/200;Ka=.96422*kb(Ka);U=1*kb(U);lb=.82521*
kb(lb);return new xb(Ub(3.1338561*Ka-1.6168667*U-.4906146*lb),Ub(-.9787684*Ka+1.9161415*U+.033454*lb),Ub(.0719453*Ka-.2289914*U+1.4052427*lb),this.opacity)}}));Kb(Hc,Cc,pc($b,{brighter(U){return new Hc(this.h,this.c,this.l+18*(null==U?1:U),this.opacity)},darker(U){return new Hc(this.h,this.c,this.l-18*(null==U?1:U),this.opacity)},rgb(){return Nc(this).rgb()}}));const jf={},gg=U=>U.data,Af={random(){return Wb.random()},cumulativeNormal:Wb.cumulativeNormal,cumulativeLogNormal:Wb.cumulativeLogNormal,
cumulativeUniform:Wb.cumulativeUniform,densityNormal:Wb.densityNormal,densityLogNormal:Wb.densityLogNormal,densityUniform:Wb.densityUniform,quantileNormal:Wb.quantileNormal,quantileLogNormal:Wb.quantileLogNormal,quantileUniform:Wb.quantileUniform,sampleNormal:Wb.sampleNormal,sampleLogNormal:Wb.sampleLogNormal,sampleUniform:Wb.sampleUniform,isArray:h.isArray,isBoolean:h.isBoolean,isDate:h.isDate,isDefined(U){return void 0!==U},isNumber:h.isNumber,isObject:h.isObject,isRegExp:h.isRegExp,isString:h.isString,
isTuple:ub.isTuple,isValid(U){return null!=U&&U===U},toBoolean:h.toBoolean,toDate(U){return h.toDate(U)},toNumber:h.toNumber,toString:h.toString,indexof:ec,join:wb,lastindexof:Qb,replace:Fc,reverse:zc,slice:qc,flush:h.flush,lerp:h.lerp,merge:Id,pad:h.pad,peek:h.peek,pluck:xa,span:h.span,inrange:h.inrange,truncate:h.truncate,rgb:Ua,lab:za,hcl:Cc,hsl:na,luminance:sd,contrast:ed,sequence:function(U,Ka,lb){U=+U;Ka=+Ka;lb=2>(Kc=arguments.length)?(Ka=U,U=0,1):3>Kc?1:+lb;for(var Jc=-1,Kc=Math.max(0,Math.ceil((Ka-
U)/lb))|0,Pd=Array(Kc);++Jc<Kc;)Pd[Jc]=U+Jc*lb;return Pd},format:fd,utcFormat:Oc,utcParse:Md,utcOffset:oc.utcOffset,utcSequence:oc.utcSequence,timeFormat:cd,timeParse:Nd,timeOffset:oc.timeOffset,timeSequence:oc.timeSequence,timeUnitSpecifier:oc.timeUnitSpecifier,monthFormat:tb,monthAbbrevFormat:rb,dayFormat:pb,dayAbbrevFormat:vb,quarter:h.quarter,utcquarter:h.utcquarter,week:oc.week,utcweek:oc.utcweek,dayofyear:oc.dayofyear,utcdayofyear:oc.utcdayofyear,warn:Sb,info:X,debug:Fa,extent(U){return h.extent(U)},
inScope:sb,intersect:Gb,clampRange:h.clampRange,pinchDistance:x,pinchAngle:I,screen:ca,containerSize:eb,windowSize:Ga,bandspace:bd,setdata:jc,pathShape:Fe,panLinear:h.panLinear,panLog:h.panLog,panPow:h.panPow,panSymlog:h.panSymlog,zoomLinear:h.zoomLinear,zoomLog:h.zoomLog,zoomPow:h.zoomPow,zoomSymlog:h.zoomSymlog,encode:Ea,modify:Ed,lassoAppend:function(U,Ka,lb,Jc=5){U=h.array(U);const Kc=U[U.length-1];return void 0===Kc||Math.hypot(Kc[0]-Ka,Kc[1]-lb)>Jc?[...U,[Ka,lb]]:U},lassoPath:function(U){return h.array(U).reduce((Ka,
[lb,Jc],Kc)=>Ka+(0==Kc?`M ${lb},${Jc} `:Kc===U.length-1?" Z":`L ${lb},${Jc} `),"")},intersectLasso:function(U,Ka,lb){const {x:Jc,y:Kc,mark:Pd}=lb;lb=(new Yb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [se,Ve]of Ka)se<lb.x1&&(lb.x1=se),se>lb.x2&&(lb.x2=se),Ve<lb.y1&&(lb.y1=Ve),Ve>lb.y2&&(lb.y2=Ve);lb.translate(Jc,Kc);return Gb([[lb.x1,lb.y1],[lb.x2,lb.y2]],U,Pd).filter(se=>{var Ve=se.y;let Be=0;for(let Uf=0,lf=Ka.length-1;Uf<
Ka.length;lf=Uf++){const [eh,Vf]=Ka[lf],[hg,bg]=Ka[Uf];bg>Ve!=Vf>Ve&&se.x<(eh-hg)*(Ve-bg)/(Vf-bg)+hg&&Be++}return Be&1})}},vh="view item group xy x y".split(" "),Gg={},Cg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:U=>`_[${h.stringValue("$"+U)}]`,functions:function(U){const Ka=ka.functions(U);vh.forEach(lb=>Ka[lb]="event.vega."+lb);for(const lb in Af)Ka[lb]="this."+lb;h.extend(Ka,Sa(U,Af,Gg));return Ka},constants:ka.constants,visitors:Gg},Dg=ka.codegenExpression(Cg);
Rb("bandwidth",md,sa);Rb("copy",qd,sa);Rb("domain",Fd,sa);Rb("range",Od,sa);Rb("invert",kd,sa);Rb("scale",he,sa);Rb("gradient",Le,sa);Rb("geoArea",ye,sa);Rb("geoBounds",Rd,sa);Rb("geoCentroid",Vd,sa);Rb("geoShape",Ie,sa);Rb("geoScale",Xa,sa);Rb("indata",Tb,fc);Rb("data",Ab,gb);Rb("treePath",df,gb);Rb("treeAncestors",E,gb);Rb("vlSelectionTest",dc.selectionTest,dc.selectionVisitor);Rb("vlSelectionIdTest",dc.selectionIdTest,dc.selectionVisitor);Rb("vlSelectionResolve",dc.selectionResolve,dc.selectionVisitor);
Rb("vlSelectionTuples",dc.selectionTuples);t.DataPrefix=":";t.IndexPrefix="@";t.ScalePrefix="%";t.SignalPrefix="$";t.bandspace=bd;t.bandwidth=md;t.codeGenerator=Dg;t.codegenParams=Cg;t.containerSize=eb;t.contrast=ed;t.copy=qd;t.data=Ab;t.dataVisitor=gb;t.dayAbbrevFormat=vb;t.dayFormat=pb;t.debug=Fa;t.domain=Fd;t.encode=Ea;t.expressionFunction=Rb;t.format=fd;t.functionContext=Af;t.geoArea=ye;t.geoBounds=Rd;t.geoCentroid=Vd;t.geoScale=Xa;t.geoShape=Ie;t.inScope=sb;t.indata=Tb;t.indataVisitor=fc;t.indexof=
ec;t.info=X;t.invert=kd;t.join=wb;t.lastindexof=Qb;t.luminance=sd;t.merge=Id;t.modify=Ed;t.monthAbbrevFormat=rb;t.monthFormat=tb;t.parseExpression=function(U,Ka){const lb={};let Jc;try{U=h.isString(U)?U:h.stringValue(U)+"",Jc=ka.parseExpression(U)}catch(Kc){h.error("Expression parse error: "+U)}Jc.visit(Kc=>{if(Kc.type===ka.CallExpression){var Pd=Kc.callee.name,se=Cg.visitors[Pd];se&&se(Pd,Kc.arguments,Ka,lb)}});U=Dg(Jc);U.globals.forEach(Kc=>{const Pd="$"+Kc;!h.hasOwnProperty(lb,Pd)&&Ka.getSignal(Kc)&&
(lb[Pd]=Ka.signalRef(Kc))});return{$expr:h.extend({code:U.code},Ka.options.ast?{ast:Jc}:null),$fields:U.fields,$params:lb}};t.pathShape=Fe;t.pinchAngle=I;t.pinchDistance=x;t.pluck=xa;t.range=Od;t.replace=Fc;t.reverse=zc;t.scale=he;t.scaleGradient=Le;t.scaleVisitor=sa;t.screen=ca;t.setdata=jc;t.slice=qc;t.timeFormat=cd;t.timeParse=Nd;t.treeAncestors=E;t.treePath=df;t.utcFormat=Oc;t.utcParse=Md;t.warn=Sb;t.windowSize=Ga})};
shadow$provide[50]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ka){function Ya(Ea,Za,tb){tb.endsWith(";")||(tb="return("+tb+");");Za=Function(...Za.concat(tb));return Ea&&Ea.functions?Za.bind(Ea.functions):Za}function ub(Ea,Za,tb){if(!Ea||!h.isObject(Ea))return Ea;
for(let rb=0,pb=Tb.length,vb;rb<pb;++rb)if(vb=Tb[rb],h.hasOwnProperty(Ea,vb.key))return vb.parse(Ea,Za,tb);return Ea}function Yb(Ea,Za,tb,rb){this.dataflow=Ea;this.transforms=Za;this.events=Ea.events.bind(Ea);this.expr=rb||Ab;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};tb&&(this.functions=Object.create(tb),this.functions.context=this)}function dc(Ea){this.dataflow=Ea.dataflow;this.transforms=Ea.transforms;this.events=Ea.events;this.expr=Ea.expr;this.signals=Object.create(Ea.signals);
this.scales=Object.create(Ea.scales);this.nodes=Object.create(Ea.nodes);this.data=Object.create(Ea.data);this.fn=Object.create(Ea.fn);Ea.functions&&(this.functions=Object.create(Ea.functions),this.functions.context=this)}const Wb=h.toSet(["rule"]),oc=h.toSet(["group","image","rect"]);var Ab={operator:(Ea,Za)=>Ya(Ea,["_"],Za.code),parameter:(Ea,Za)=>Ya(Ea,["datum","_"],Za.code),event:(Ea,Za)=>Ya(Ea,["event"],Za.code),handler:(Ea,Za)=>Ya(Ea,["_","event"],`var datum=event.item&&event.item.datum;return ${Za.code};`),
encode:(Ea,Za)=>{const {marktype:tb,channels:rb}=Za;Za="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var pb in rb){const vb="o["+h.stringValue(pb)+"]";Za+=`$=${rb[pb].code};if(${vb}!==$)${vb}=$,m=1;`}pb="";Wb[tb]||(rb.x2&&(rb.x?(oc[tb]&&(pb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),pb+="o.width\x3do.x2-o.x;"):pb+="o.x\x3do.x2-(o.width||0);"),rb.xc&&(pb+="o.x\x3do.xc-(o.width||0)/2;"),rb.y2&&(rb.y?(oc[tb]&&(pb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),pb+="o.height\x3do.y2-o.y;"):
pb+="o.y\x3do.y2-(o.height||0);"),rb.yc&&(pb+="o.y\x3do.yc-(o.height||0)/2;"));Za+=pb;return Ya(Ea,["item","_"],Za+"return m;")},codegen:{get(Ea){Ea=`[${Ea.map(h.stringValue).join("][")}]`;const Za=Function("_",`return _${Ea};`);Za.path=Ea;return Za},comparator(Ea,Za){let tb;Ea=Function("a","b","var u, v; return "+Ea.map((rb,pb)=>{const vb=Za[pb];let gb;rb.path?(gb=`a${rb.path}`,rb=`b${rb.path}`):((tb=tb||{})["f"+pb]=rb,gb=`this.f${pb}(a)`,rb=`this.f${pb}(b)`);pb=-vb;return`((u = ${gb}) < (v = ${rb}) || u == null) && v != null ? ${pb}
  : (u > v || v == null) && u != null ? ${vb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${pb}
  : v !== v && u === u ? ${vb} : `}).join("")+"0;");return tb?Ea.bind(tb):Ea}}},Tb=[{key:"$ref",parse:function(Ea,Za){return Za.get(Ea.$ref)||h.error("Operator not defined: "+Ea.$ref)}},{key:"$key",parse:function(Ea,Za){const tb="k:"+Ea.$key+"_"+!!Ea.$flat;return Za.fn[tb]||(Za.fn[tb]=h.key(Ea.$key,Ea.$flat,Za.expr.codegen))}},{key:"$expr",parse:function(Ea,Za,tb){Ea.$params&&Za.parseParameters(Ea.$params,tb);tb="e:"+Ea.$expr.code;return Za.fn[tb]||(Za.fn[tb]=h.accessor(Za.parameterExpression(Ea.$expr),
Ea.$fields))}},{key:"$field",parse:function(Ea,Za){if(!Ea.$field)return null;const tb="f:"+Ea.$field+"_"+Ea.$name;return Za.fn[tb]||(Za.fn[tb]=h.field(Ea.$field,Ea.$name,Za.expr.codegen))}},{key:"$encode",parse:function(Ea,Za){Ea=Ea.$encode;const tb={};for(const rb in Ea){const pb=Ea[rb];tb[rb]=h.accessor(Za.encodeExpression(pb.$expr),pb.$fields);tb[rb].output=pb.$output}return tb}},{key:"$compare",parse:function(Ea,Za){const tb="c:"+Ea.$compare+"_"+Ea.$order,rb=h.array(Ea.$compare).map(pb=>pb&&pb.$tupleid?
ka.tupleid:pb);return Za.fn[tb]||(Za.fn[tb]=h.compare(rb,Ea.$order,Za.expr.codegen))}},{key:"$context",parse:function(Ea,Za){return Za}},{key:"$subflow",parse:function(Ea,Za){const tb=Ea.$subflow;return function(rb,pb,vb){const gb=Za.fork().parse(tb);rb=gb.get(tb.operators[0].id);(pb=gb.signals.parent)&&pb.set(vb);rb.detachSubflow=()=>Za.detach(gb);return rb}}},{key:"$tupleid",parse:function(){return ka.tupleid}}];const jc={skip:!0};Yb.prototype=dc.prototype={fork(){const Ea=new dc(this);(this.subcontext||
(this.subcontext=[])).push(Ea);return Ea},detach(Ea){this.subcontext=this.subcontext.filter(tb=>tb!==Ea);const Za=Object.keys(Ea.nodes);for(const tb of Za)Ea.nodes[tb]._targets=null;for(const tb of Za)Ea.nodes[tb].detach();Ea.nodes=null},get(Ea){return this.nodes[Ea]},set(Ea,Za){return this.nodes[Ea]=Za},add(Ea,Za){const tb=this,rb=tb.dataflow,pb=Ea.value;tb.set(Ea.id,Za);"collect"===(Ea.type+"").toLowerCase()&&pb&&(pb.$ingest?rb.ingest(Za,pb.$ingest,pb.$format):pb.$request?rb.preload(Za,pb.$request,
pb.$format):rb.pulse(Za,rb.changeset().insert(pb)));Ea.root&&(tb.root=Za);if(Ea.parent){let vb=tb.get(Ea.parent.$ref);vb?(rb.connect(vb,[Za]),Za.targets().add(vb)):(tb.unresolved=tb.unresolved||[]).push(()=>{vb=tb.get(Ea.parent.$ref);rb.connect(vb,[Za]);Za.targets().add(vb)})}Ea.signal&&(tb.signals[Ea.signal]=Za);Ea.scale&&(tb.scales[Ea.scale]=Za);if(Ea.data)for(const vb in Ea.data){const gb=tb.data[vb]||(tb.data[vb]={});Ea.data[vb].forEach(fc=>gb[fc]=Za)}},resolve(){(this.unresolved||[]).forEach(Ea=>
Ea());delete this.unresolved;return this},operator(Ea,Za){this.add(Ea,this.dataflow.add(Ea.value,Za))},transform(Ea,Za){this.add(Ea,this.dataflow.add(this.transforms[(Za+"").toLowerCase()]))},stream(Ea,Za){this.set(Ea.id,Za)},update(Ea,Za,tb,rb,pb){this.dataflow.on(Za,tb,rb,pb,Ea.options)},operatorExpression(Ea){return this.expr.operator(this,Ea)},parameterExpression(Ea){return this.expr.parameter(this,Ea)},eventExpression(Ea){return this.expr.event(this,Ea)},handlerExpression(Ea){return this.expr.handler(this,
Ea)},encodeExpression(Ea){return this.expr.encode(this,Ea)},parse:function(Ea){const Za=this,tb=Ea.operators||[];Ea.background&&(Za.background=Ea.background);Ea.eventConfig&&(Za.eventConfig=Ea.eventConfig);Ea.locale&&(Za.locale=Ea.locale);tb.forEach(rb=>Za.parseOperator(rb));tb.forEach(rb=>Za.parseOperatorParameters(rb));(Ea.streams||[]).forEach(rb=>Za.parseStream(rb));(Ea.updates||[]).forEach(rb=>Za.parseUpdate(rb));return Za.resolve()},parseOperator:function(Ea){"operator"!==(Ea.type+"").toLowerCase()&&
Ea.type?this.transform(Ea,Ea.type):this.operator(Ea,Ea.update?this.operatorExpression(Ea.update):null)},parseOperatorParameters:function(Ea){if(Ea.params){const Za=this.get(Ea.id);Za||h.error("Invalid operator id: "+Ea.id);this.dataflow.connect(Za,Za.parameters(this.parseParameters(Ea.params),Ea.react,Ea.initonly))}},parseParameters:function(Ea,Za){Za=Za||{};const tb=this;for(const rb in Ea){const pb=Ea[rb];Za[rb]=h.isArray(pb)?pb.map(vb=>ub(vb,tb,Za)):ub(pb,tb,Za)}return Za},parseStream:function(Ea){var Za=
this,tb=null!=Ea.filter?Za.eventExpression(Ea.filter):void 0,rb=null!=Ea.stream?Za.get(Ea.stream):void 0;if(Ea.source)rb=Za.events(Ea.source,Ea.type,tb);else if(Ea.merge){var pb=Ea.merge.map(vb=>Za.get(vb));rb=pb[0].merge.apply(pb[0],pb.slice(1))}Ea.between&&(pb=Ea.between.map(vb=>Za.get(vb)),rb=rb.between(pb[0],pb[1]));Ea.filter&&(rb=rb.filter(tb));null!=Ea.throttle&&(rb=rb.throttle(+Ea.throttle));null!=Ea.debounce&&(rb=rb.debounce(+Ea.debounce));null==rb&&h.error("Invalid stream definition: "+JSON.stringify(Ea));
Ea.consume&&rb.consume(!0);Za.stream(Ea,rb)},parseUpdate:function(Ea){var Za=h.isObject(Za=Ea.source)?Za.$ref:Za;Za=this.get(Za);var tb=Ea.update,rb=void 0;Za||h.error("Source not defined: "+Ea.source);var pb=Ea.target&&Ea.target.$expr?this.eventExpression(Ea.target.$expr):this.get(Ea.target);tb&&tb.$expr&&(tb.$params&&(rb=this.parseParameters(tb.$params)),tb=this.handlerExpression(tb.$expr));this.update(Ea,Za,pb,tb,rb)},getState:function(Ea){var Za=this,tb={};if(Ea.signals){var rb=tb.signals={};
Object.keys(Za.signals).forEach(vb=>{const gb=Za.signals[vb];Ea.signals(vb,gb)&&(rb[vb]=gb.value)})}if(Ea.data){var pb=tb.data={};Object.keys(Za.data).forEach(vb=>{const gb=Za.data[vb];Ea.data(vb,gb)&&(pb[vb]=gb.input.value)})}Za.subcontext&&!1!==Ea.recurse&&(tb.subcontext=Za.subcontext.map(vb=>vb.getState(Ea)));return tb},setState:function(Ea){var Za=this,tb=Za.dataflow,rb=Ea.data,pb=Ea.signals;Object.keys(pb||{}).forEach(vb=>{tb.update(Za.signals[vb],pb[vb],jc)});Object.keys(rb||{}).forEach(vb=>
{tb.pulse(Za.data[vb].input,tb.changeset().remove(h.truthy).insert(rb[vb]))});(Ea.subcontext||[]).forEach((vb,gb)=>{(gb=Za.subcontext[gb])&&gb.setState(vb)})}};t.context=function(Ea,Za,tb,rb){return new Yb(Ea,Za,tb,rb)}})};
shadow$provide[51]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(29),nb(34),nb(49),nb(50),nb(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub,Yb,dc){function Wb(na){const Ia=na.container();Ia&&(Ia.setAttribute("role",
"graphics-document"),Ia.setAttribute("aria-roleDescription","visualization"),oc(Ia,na.description()))}function oc(na,Ia){na&&(null==Ia?na.removeAttribute("aria-label"):na.setAttribute("aria-label",Ia))}function Ab(na){na.add(null,Ia=>{na._background=Ia.bg;na._resize=1;return Ia.bg},{bg:na._signals.background})}function Tb(na){const Ia=na._signals.cursor||(na._signals.cursor=na.add({user:"default",item:null}));na.on(na.events("view","pointermove"),Ia,(fb,R)=>{const r=(fb=Ia.value)?h.isString(fb)?fb:
fb.user:"default";R=R.item&&R.item.cursor||null;return fb&&r===fb.user&&R==fb.item?fb:{user:r,item:R}});na.add(null,function(fb){fb=fb.cursor;let R=this.value;h.isString(fb)||(R=fb.item,fb=fb.user);jc(na,fb&&"default"!==fb?fb:R||fb);return R},{cursor:Ia})}function jc(na,Ia){if(na=na.globalCursor()?"undefined"!==typeof document&&document.body:na.container())return null==Ia?na.style.removeProperty("cursor"):na.style.cursor=Ia}function Ea(na,Ia){na=na._runtime.data;h.hasOwnProperty(na,Ia)||h.error("Unrecognized data set: "+
Ia);return na[Ia]}function Za(na,Ia){ka.isChangeSet(Ia)||h.error("Second argument to changes must be a changeset.");na=Ea(this,na);na.modified=!0;return this.pulse(na.input,Ia)}function tb(na){var Ia=na.padding();return Math.max(0,na._viewWidth+Ia.left+Ia.right)}function rb(na){var Ia=na.padding();return Math.max(0,na._viewHeight+Ia.top+Ia.bottom)}function pb(na){var Ia=na.padding();na=na._origin;return[Ia.left+na[0],Ia.top+na[1]]}function vb(na){var Ia=pb(na),fb=tb(na),R=rb(na);na._renderer.background(na.background());
na._renderer.resize(fb,R,Ia);na._handler.origin(Ia);na._resizeListeners.forEach(r=>{try{r(fb,R)}catch(da){na.error(da)}})}function gb(na,Ia,fb){function R(za){var Da=da,Oa;if(za)for(Oa=Ia;Oa;Oa=Oa.mark.group)if(Oa.mark.name===za){Da=Oa;break}return Da&&Da.mark&&Da.mark.interactive?Da:{}}function r(za){if(!za)return fb;h.isString(za)&&(za=R(za));const Da=fb.slice();for(;za;)Da[0]-=za.x||0,Da[1]-=za.y||0,za=za.mark&&za.mark.group;return Da}const da=Ia?"group"===Ia.mark.marktype?Ia:Ia.mark.group:null;
return{view:h.constant(na),item:h.constant(Ia||{}),group:R,xy:r,x:za=>r(za)[0],y:za=>r(za)[1]}}function fc(na){na=h.extend({defaults:{}},na);const Ia=(fb,R)=>{R.forEach(r=>{h.isArray(fb[r])&&(fb[r]=h.toSet(fb[r]))})};Ia(na.defaults,["prevent","allow"]);Ia(na,["view","window","selector"]);return na}function sa(na,Ia,fb,R){na._eventListeners.push({type:fb,sources:h.array(Ia),handler:R})}function ia(na,Ia,fb){const R=na._eventConfig&&na._eventConfig[Ia];return!1===R||h.isObject(R)&&!R[fb]?(na.warn(`Blocked ${Ia} ${fb} event listener.`),
!1):!0}function Ba(na){return na.item}function Sa(na){return na.item.mark.source}function Wa(na){return function(Ia,fb){return fb.vega.view().changeset().encode(fb.item,na)}}function Ha(na,Ia,fb){na=document.createElement(na);for(const R in Ia)na.setAttribute(R,Ia[R]);null!=fb&&(na.textContent=fb);return na}function hb(na,Ia,fb){var R=(Ia-na)/Math.max(0,fb),r=Math.floor(Math.log10(R));R/=Math.pow(10,r);R=R>=Ob?10:R>=yc?5:R>=hd?2:1;let da;0>r?(da=Math.pow(10,-r)/R,r=Math.round(na*da),R=Math.round(Ia*
da),r/da<na&&++r,R/da>Ia&&--R,da=-da):(da=Math.pow(10,r)*R,r=Math.round(na/da),R=Math.round(Ia/da),r*da<na&&++r,R*da>Ia&&--R);return R<r&&.5<=fb&&2>fb?hb(na,Ia,2*fb):[r,R,da]}function $a(na,Ia,fb){return hb(+na,+Ia,+fb)[2]}function qb(na,Ia,fb){Ia=+Ia;na=+na;fb=+fb;const R=Ia<na;na=R?$a(Ia,na,fb):$a(na,Ia,fb);return(R?-1:1)*(0>na?1/-na:na)}function Nb(na,Ia,fb){if(Ia){var R=fb.param,r=fb.state;r||(r=fb.state={elements:null,active:!1,set:null,update:da=>{da!=na.signal(R.signal)&&na.runAsync(null,()=>
{r.source=!0;na.signal(R.signal,da)})}},R.debounce&&(r.update=h.debounce(R.debounce,r.update)));(null==R.input&&R.element?db:T)(r,Ia,R,na);r.active||(na.on(na._signals[R.signal],null,()=>{r.source?r.source=!1:r.set(na.signal(R.signal))}),r.active=!0);return r}}function db(na,Ia,fb,R){const r=fb.event||"input",da=()=>na.update(Ia.value);R.signal(fb.signal,Ia.value);Ia.addEventListener(r,da);sa(R,Ia,r,da);na.set=za=>{Ia.value=za;za=Ia.dispatchEvent;var Da="undefined"!==typeof Event?new Event(r):{type:r};
za.call(Ia,Da)}}function T(na,Ia,fb,R){R=R.signal(fb.signal);const r=Ha("div",{"class":"vega-bind"}),da="radio"===fb.input?r:r.appendChild(Ha("label"));da.appendChild(Ha("span",{"class":"vega-bind-name"},fb.name||fb.signal));Ia.appendChild(r);Ia=ba;switch(fb.input){case "checkbox":Ia=ea;break;case "select":Ia=ja;break;case "radio":Ia=Ma;break;case "range":Ia=oa}Ia(na,da,fb,R)}function ba(na,Ia,fb,R){const r=Ha("input");for(const da in fb)"signal"!==da&&"element"!==da&&r.setAttribute("input"===da?
"type":da,fb[da]);r.setAttribute("name",fb.signal);r.value=R;Ia.appendChild(r);r.addEventListener("input",()=>na.update(r.value));na.elements=[r];na.set=da=>r.value=da}function ea(na,Ia,fb,R){fb={type:"checkbox",name:fb.signal};R&&(fb.checked=!0);const r=Ha("input",fb);Ia.appendChild(r);r.addEventListener("change",()=>na.update(r.checked));na.elements=[r];na.set=da=>r.checked=!!da||null}function ja(na,Ia,fb,R){const r=Ha("select",{name:fb.signal}),da=fb.labels||[];fb.options.forEach((za,Da)=>{const Oa=
{value:za};qa(za,R)&&(Oa.selected=!0);r.appendChild(Ha("option",Oa,(da[Da]||za)+""))});Ia.appendChild(r);r.addEventListener("change",()=>{na.update(fb.options[r.selectedIndex])});na.elements=[r];na.set=za=>{for(let Da=0,Oa=fb.options.length;Da<Oa;++Da)if(qa(fb.options[Da],za)){r.selectedIndex=Da;break}}}function Ma(na,Ia,fb,R){const r=Ha("span",{"class":"vega-bind-radio"}),da=fb.labels||[];Ia.appendChild(r);na.elements=fb.options.map((za,Da)=>{var Oa={type:"radio",name:fb.signal,value:za};qa(za,R)&&
(Oa.checked=!0);Oa=Ha("input",Oa);Oa.addEventListener("change",()=>na.update(za));Da=Ha("label",{},(da[Da]||za)+"");Da.prepend(Oa);r.appendChild(Da);return Oa});na.set=za=>{const Da=na.elements,Oa=Da.length;for(let kb=0;kb<Oa;++kb)qa(Da[kb].value,za)&&(Da[kb].checked=!0)}}function oa(na,Ia,fb,R){R=void 0!==R?R:(+fb.max+ +fb.min)/2;const r=null!=fb.max?fb.max:Math.max(100,+R)||100,da=fb.min||Math.min(0,r,+R)||0,za=fb.step||qb(da,r,100),Da=Ha("input",{type:"range",name:fb.signal,min:da,max:r,step:za});
Da.value=R;const Oa=Ha("span",{},+R);Ia.appendChild(Da);Ia.appendChild(Oa);Ia=()=>{Oa.textContent=Da.value;na.update(+Da.value)};Da.addEventListener("input",Ia);Da.addEventListener("change",Ia);na.elements=[Da];na.set=kb=>{Da.value=kb;Oa.textContent=kb}}function qa(na,Ia){return na===Ia||na+""===Ia+""}function l(na,Ia,fb,R,r,da){Ia=Ia||new R(na.loader());return Ia.initialize(fb,tb(na),rb(na),pb(na),r,da).background(na.background())}function D(na,Ia){return Ia?function(){try{Ia.apply(this,arguments)}catch(fb){na.error(fb)}}:
null}function K(na,Ia,fb,R){const r=(new R(na.loader(),D(na,na.tooltip()))).scene(na.scenegraph().root).initialize(fb,pb(na),na);Ia&&Ia.handlers().forEach(da=>{r.on(da.type,da.handler)});return r}function v(na,Ia,fb){if("string"===typeof Ia)if("undefined"!==typeof document){if(Ia=document.querySelector(Ia),!Ia)return na.error("Signal bind element not found: "+Ia),null}else return na.error("DOM document instance not found."),null;if(Ia&&fb)try{Ia.textContent=""}catch(R){Ia=null,na.error(R)}return Ia}
function Q(na){h.isObject(na)?na={top:+na.top||0,bottom:+na.bottom||0,left:+na.left||0,right:+na.right||0}:(na=+na||0,na={top:na,bottom:na,left:na,right:na});return na}function A(na,Ia,fb,R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var r=Ya.renderModule(Ia);(r=r&&r.headless)||h.error("Unrecognized renderer type: "+Ia);yield na.runAsync();return l(na,null,null,r,fb,R).renderAsync(na._scenegraph.root)})}function W(na,Ia,fb){return Yb.context(na,ka.transforms,ub.functionContext,
fb).parse(Ia)}function G(na,Ia){var fb=na.autosize();na=na.padding();return Ia-(fb&&"padding"===fb.contains?na.left+na.right:0)}function w(na,Ia){var fb=na.autosize();na=na.padding();return Ia-(fb&&"padding"===fb.contains?na.top+na.bottom:0)}function z(na){function Ia(){na._autosize=na._resize=1}var fb=na._signals,R=fb.width,r=fb.height;fb=fb.padding;na._resizeWidth=na.add(null,za=>{na._width=za.size;na._viewWidth=G(na,za.size);Ia()},{size:R});na._resizeHeight=na.add(null,za=>{na._height=za.size;
na._viewHeight=w(na,za.size);Ia()},{size:r});const da=na.add(null,Ia,{pad:fb});na._resizeWidth.rank=R.rank+1;na._resizeHeight.rank=r.rank+1;da.rank=fb.rank+1}function F(na,Ia){return Ia.modified&&h.isArray(Ia.input.value)&&!na.startsWith("_:vega:_")}function V(na,Ia){return!("parent"===na||Ia instanceof ka.transforms.proxy)}function ta(){return ic||(Vc(N),ic=nd.now()+Ac)}function N(){ic=0}function la(){this._call=this._time=this._next=null}function wa(){ic=(Zb=nd.now())+Ac;Bb=Ua=0;try{ta();++Bb;for(var na=
Fb,Ia;na;)0<=(Ia=ic-na._time)&&na._call.call(void 0,Ia),na=na._next;--Bb}finally{Bb=0;na=Fb;for(var fb=Infinity;na;)if(na._call){fb>na._time&&(fb=na._time);var R=na;na=na._next}else Ia=na._next,na._next=null,na=R?R._next=Ia:Fb=Ia;Lb=R;Pa(fb);ic=0}}function Na(){var na=nd.now(),Ia=na-Zb;1E3<Ia&&(Ac-=Ia,Zb=na)}function Pa(na){Bb||(Ua&&(Ua=clearTimeout(Ua)),24<na-ic?(Infinity>na&&(Ua=setTimeout(wa,na-nd.now()-Ac)),xb&&(xb=clearInterval(xb))):(xb||(Zb=nd.now(),xb=setInterval(Na,1E3)),Bb=1,Vc(wa)))}function Xa(na,
Ia,fb){var R=new la,r=Ia;if(null==Ia)return R.restart(na,Ia,fb),R;R._restart=R.restart;R.restart=function(da,za,Da){za=+za;Da=null==Da?ta():+Da;R._restart(function Ub(kb){kb+=r;R._restart(Ub,r+=za,Da);da(kb)},za,Da)};R.restart(na,Ia,fb);return R}function sb(na,Ia,fb,R){if(na=na.element())Ia=na.setAttribute,R=null==R?"":h.isArray(R)?"["+R.map(Sb).join(", ")+"]":h.isObject(R)&&!h.isDate(R)?ib(R):R+"",Ia.call(na,"title",R)}function ib(na){return Object.keys(na).map(Ia=>{const fb=na[Ia];return Ia+": "+
(h.isArray(fb)?"["+fb.map(Sb).join(", ")+"]":Sb(fb))}).join("\n")}function Sb(na){return h.isArray(na)?"[…]":h.isObject(na)&&!h.isDate(na)?"{…}":na}function X(na,Ia){Ia=Ia||{};ka.Dataflow.call(this);Ia.loader&&this.loader(Ia.loader);Ia.logger&&this.logger(Ia.logger);null!=Ia.logLevel&&this.logLevel(Ia.logLevel);if(Ia.locale||na.locale){var fb=h.extend({},na.locale,Ia.locale);this.locale(dc.locale(fb.number,fb.time))}this._elBind=this._el=null;this._renderType=Ia.renderer||Ya.RenderType.Canvas;this._scenegraph=
new Ya.Scenegraph;fb=this._scenegraph.root;this._renderer=null;this._tooltip=Ia.tooltip||sb;this._redraw=!0;this._handler=(new Ya.CanvasHandler).scene(fb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=fc(na.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const R=W(this,na,Ia.expr);this._runtime=R;this._signals=R.signals;this._bind=(na.bindings||[]).map(r=>({state:null,param:h.extend({},r)}));R.root&&R.root.set(fb);
fb.source=R.data.root.input;this.pulse(R.data.root.input,this.changeset().insert(fb.items));this._width=this.width();this._height=this.height();this._viewWidth=G(this,this._width);this._viewHeight=w(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;z(this);Ab(this);Tb(this);this.description(na.description);Ia.hover&&this.hover();Ia.container&&this.initialize(Ia.container,Ia.bind);Ia.watchPixelRatio&&this._watchPixelRatio()}function Fa(na,Ia){return h.hasOwnProperty(na._signals,
Ia)?na._signals[Ia]:h.error("Unrecognized signal name: "+h.stringValue(Ia))}function Kb(na,Ia){na=(na._targets||[]).filter(fb=>fb._update&&fb._update.handler===Ia);return na.length?na[0]:null}function pc(na,Ia,fb,R){let r=Kb(fb,R);r||(r=D(na,()=>R(Ia,fb.value)),r.handler=R,na.on(fb,null,r));return na}function $b(na,Ia,fb){(fb=Kb(Ia,fb))&&Ia._targets.remove(fb);return na}const Mb={trap:!1},Ob=Math.sqrt(50),yc=Math.sqrt(10),hd=Math.sqrt(2);var ra={skip:!0},Bb=0,Ua=0,xb=0,Fb,Lb,Zb=0,ic=0,Ac=0,nd="object"===
typeof performance&&performance.now?performance:Date,Vc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(na){setTimeout(na,17)};la.prototype={constructor:la,restart:function(na,Ia,fb){if("function"!==typeof na)throw new TypeError("callback is not a function");fb=(null==fb?ta():+fb)+(null==Ia?0:+Ia);this._next||Lb===this||(Lb?Lb._next=this:Fb=this,Lb=this);this._call=na;this._time=fb;Pa()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Pa())}};h.inherits(X,ka.Dataflow,{evaluate(na,Ia,fb){const R=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ka.Dataflow.prototype.evaluate.call(R,na,Ia);if(R._redraw||R._resize)try{R._renderer&&(R._resize&&(R._resize=0,vb(R)),yield R._renderer.renderAsync(R._scenegraph.root)),R._redraw=!1}catch(r){R.error(r)}fb&&ka.asyncCallback(R,fb);return R})},dirty(na){this._redraw=!0;this._renderer&&this._renderer.dirty(na)},description(na){if(arguments.length){const Ia=null!=
na?na+"":null;Ia!==this._desc&&oc(this._el,this._desc=Ia);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(na,Ia,fb){const R=Fa(this,na);return 1===arguments.length?R.value:this.update(R,Ia,fb)},width(na){return arguments.length?this.signal("width",na):this.signal("width")},height(na){return arguments.length?this.signal("height",na):this.signal("height")},padding(na){return arguments.length?this.signal("padding",
Q(na)):Q(this.signal("padding"))},autosize(na){return arguments.length?this.signal("autosize",na):this.signal("autosize")},background(na){return arguments.length?this.signal("background",na):this.signal("background")},renderer(na){if(!arguments.length)return this._renderType;Ya.renderModule(na)||h.error("Unrecognized renderer type: "+na);na!==this._renderType&&(this._renderType=na,this._resetRenderer());return this},tooltip(na){if(!arguments.length)return this._tooltip;na!==this._tooltip&&(this._tooltip=
na,this._resetRenderer());return this},loader(na){if(!arguments.length)return this._loader;na!==this._loader&&(ka.Dataflow.prototype.loader.call(this,na),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Fa(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(na,Ia,fb,R,r,da){this.runAfter(za=>{let Da=0;za._autosize=0;za.width()!==fb&&(Da=1,za.signal("width",fb,ra),za._resizeWidth.skip(!0));
za.height()!==R&&(Da=1,za.signal("height",R,ra),za._resizeHeight.skip(!0));za._viewWidth!==na&&(za._resize=1,za._viewWidth=na);za._viewHeight!==Ia&&(za._resize=1,za._viewHeight=Ia);if(za._origin[0]!==r[0]||za._origin[1]!==r[1])za._resize=1,za._origin=r;Da&&za.run("enter");da&&za.runAfter(Oa=>Oa.resize())},!1,1)},addEventListener(na,Ia,fb){let R=Ia;fb&&!1===fb.trap||(R=D(this,Ia),R.raw=Ia);this._handler.on(na,R);return this},removeEventListener(na,Ia){for(var fb=this._handler.handlers(na),R=fb.length,
r,da;0<=--R;)if(da=fb[R].type,r=fb[R].handler,na===da&&(Ia===r||Ia===r.raw)){this._handler.off(da,r);break}return this},addResizeListener(na){const Ia=this._resizeListeners;Ia.includes(na)||Ia.push(na);return this},removeResizeListener(na){var Ia=this._resizeListeners;na=Ia.indexOf(na);0<=na&&Ia.splice(na,1);return this},addSignalListener(na,Ia){return pc(this,na,Fa(this,na),Ia)},removeSignalListener(na,Ia){return $b(this,Fa(this,na),Ia)},addDataListener(na,Ia){return pc(this,na,Ea(this,na).values,
Ia)},removeDataListener(na,Ia){return $b(this,Ea(this,na).values,Ia)},globalCursor(na){if(arguments.length){if(this._globalCursor!==!!na){const Ia=jc(this,null);this._globalCursor=!!na;Ia&&jc(this,Ia)}return this}return this._globalCursor},preventDefault(na){return arguments.length?(this._preventDefault=na,this):this._preventDefault},timer:function(na,Ia){this._timers.push(Xa(function(fb){na({timestamp:Date.now(),elapsed:fb})},Ia))},events:function(na,Ia,fb){var R=this,r=new ka.EventStream(fb);fb=
function(Oa,kb){R.runAsync(null,()=>{var Ub;if(Ub="view"===na){var Eb=R._eventConfig.defaults;Ub=Eb.prevent;Eb=Eb.allow;Ub=!1===Ub||!0===Eb?!1:!0===Ub||!1===Eb?!0:Ub?Ub[Ia]:Eb?!Eb[Ia]:R.preventDefault()}Ub&&Oa.preventDefault();Ub=r.receive;Eb=(Eb=R._renderer)&&Eb.canvas();if(Eb){var Ib=pb(R);var Cc=Oa.changedTouches?Oa.changedTouches[0]:Oa;Cc=Ya.point(Cc,Eb);Cc[0]-=Ib[0];Cc[1]-=Ib[1]}Oa.dataflow=R;Oa.item=kb;Oa.vega=gb(R,kb,Cc);Ub.call(r,Oa)})};var da;if("timer"===na)ia(R,"timer",Ia)&&R.timer(fb,
Ia);else if("view"===na)ia(R,"view",Ia)&&R.addEventListener(Ia,fb,Mb);else if("window"===na?ia(R,"window",Ia)&&"undefined"!==typeof window&&(da=[window]):"undefined"!==typeof document&&ia(R,"selector",Ia)&&(da=Array.from(document.querySelectorAll(na))),da){for(var za=0,Da=da.length;za<Da;++za)da[za].addEventListener(Ia,fb);sa(R,da,Ia,fb)}else R.warn("Can not resolve event source: "+na);return r},finalize:function(){var na=this._tooltip,Ia=this._timers,fb=this._eventListeners,R;for(R=Ia.length;0<=
--R;)Ia[R].stop();for(R=fb.length;0<=--R;){var r=fb[R];for(Ia=r.sources.length;0<=--Ia;)r.sources[Ia].removeEventListener(r.type,r.handler)}na&&na.call(this,this._handler,null,null,null);return this},hover:function(na,Ia){na=[na||"hover"];Ia=[Ia||"update",na[0]];this.on(this.events("view","pointerover",Ba),Sa,Wa(na));this.on(this.events("view","pointerout",Ba),Sa,Wa(Ia));return this},data:function(na,Ia){return 2>arguments.length?Ea(this,na).values.value:Za.call(this,na,ka.changeset().remove(h.truthy).insert(Ia))},
change:Za,insert:function(na,Ia){return Za.call(this,na,ka.changeset().insert(Ia))},remove:function(na,Ia){return Za.call(this,na,ka.changeset().remove(Ia))},scale:function(na){var Ia=this._runtime.scales;h.hasOwnProperty(Ia,na)||h.error("Unrecognized scale or projection: "+na);return Ia[na].value},initialize:function(na,Ia){const fb=this;var R=fb._renderType;const r=fb._eventConfig.bind;var da=Ya.renderModule(R);na=fb._el=na?v(fb,na,!0):null;Wb(fb);da||fb.error("Unrecognized renderer type: "+R);
R=da.handler||Ya.CanvasHandler;da=na?da.renderer:da.headless;fb._renderer=da?l(fb,fb._renderer,na,da):null;fb._handler=K(fb,fb._handler,na,R);fb._redraw=!0;na&&"none"!==r&&(Ia=Ia?fb._elBind=v(fb,Ia,!0):na.appendChild(Ha("form",{"class":"vega-bindings"})),fb._bind.forEach(za=>{za.param.element&&"container"!==r&&(za.element=v(fb,za.param.element,!!za.param.input))}),fb._bind.forEach(za=>{Nb(fb,za.element||Ia,za)}));return fb},toImageURL:function(na,Ia){const fb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na!==
Ya.RenderType.Canvas&&na!==Ya.RenderType.SVG&&na!==Ya.RenderType.PNG&&h.error("Unrecognized image type: "+na);var R=yield A(fb,na,Ia);na===Ya.RenderType.SVG?(R=R.svg(),R=new Blob([R],{type:"image/svg+xml"}),R=window.URL.createObjectURL(R)):R=R.canvas().toDataURL("image/png");return R})},toCanvas:function(na,Ia){const fb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(fb,Ya.RenderType.Canvas,na,Ia)).canvas()})},toSVG:function(na){const Ia=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(Ia,
Ya.RenderType.SVG,na)).svg()})},getState:function(na){return this._runtime.getState(na||{data:F,signals:V,recurse:!0})},setState:function(na){this.runAsync(null,Ia=>{Ia._trigger=!1;Ia._runtime.setState(na)},Ia=>{Ia._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let na=null;const Ia=()=>{null!=na&&na();const fb=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);fb.addEventListener("change",Ia);na=()=>{fb.removeEventListener("change",
Ia)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ia()}}});t.View=X})};
shadow$provide[52]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function h(Ab,Tb,jc,Ea,Za){const tb=Ab.length;let rb=0,pb;for(;Tb<tb;++Tb)if(pb=Ab[Tb],rb||pb!==jc)Za&&0<=Za.indexOf(pb)?--rb:Ea&&0<=Ea.indexOf(pb)&&++rb;else break;return Tb}function ka(Ab){const Tb=[],jc=Ab.length;let Ea=0,Za=0;for(;Za<jc;)Za=
h(Ab,Za,",","[{","]}"),Tb.push(Ab.substring(Ea,Za).trim()),Ea=++Za;if(0===Tb.length)throw"Empty event selector: "+Ab;return Tb}function Ya(Ab){if("["===Ab[0]){var Tb=Ab;var jc=Tb.length;Ab=h(Tb,1,"]","[","]");if(Ab===jc)throw"Empty between selector: "+Tb;jc=ka(Tb.substring(1,Ab));if(2!==jc.length)throw"Between selector must have two elements: "+Tb;Tb=Tb.slice(Ab+1).trim();if("\x3e"!==Tb[0])throw"Expected '\x3e' after between selector: "+Tb;jc=jc.map(Ya);Tb=Ya(Tb.slice(1).trim());Tb.between?Tb={between:jc,
stream:Tb}:Tb.between=jc}else{jc={source:Wb};const Ea=[];let Za=[0,0],tb=0,rb=0,pb=Ab.length,vb=0,gb;if("}"===Ab[pb-1]){vb=Ab.lastIndexOf("{");if(0<=vb){try{Za=ub(Ab.substring(vb+1,pb-1))}catch(fc){throw"Invalid throttle specification: "+Ab;}Ab=Ab.slice(0,vb).trim();pb=Ab.length}else throw"Unmatched right brace: "+Ab;vb=0}if(!pb)throw Ab;"@"===Ab[0]&&(tb=++vb);gb=h(Ab,vb,":");gb<pb&&(Ea.push(Ab.substring(rb,gb).trim()),rb=vb=++gb);vb=h(Ab,vb,"[");if(vb===pb)Ea.push(Ab.substring(rb,pb).trim());else if(Ea.push(Ab.substring(rb,
vb).trim()),Tb=[],rb=++vb,rb===pb)throw"Unmatched left bracket: "+Ab;for(;vb<pb;){vb=h(Ab,vb,"]");if(vb===pb)throw"Unmatched left bracket: "+Ab;Tb.push(Ab.substring(rb,vb).trim());if(vb<pb-1&&"["!==Ab[++vb])throw"Expected left bracket: "+Ab;rb=++vb}if(!(pb=Ea.length)||Yb.test(Ea[pb-1]))throw"Invalid event selector: "+Ab;1<pb?(jc.type=Ea[1],tb?jc.markname=Ea[0].slice(1):oc[Ea[0]]?jc.marktype=Ea[0]:jc.source=Ea[0]):jc.type=Ea[0];"!"===jc.type.slice(-1)&&(jc.consume=!0,jc.type=jc.type.slice(0,-1));null!=
Tb&&(jc.filter=Tb);Za[0]&&(jc.throttle=Za[0]);Za[1]&&(jc.debounce=Za[1]);Tb=jc}return Tb}function ub(Ab){const Tb=Ab.split(",");if(!Ab.length||2<Tb.length)throw Ab;return Tb.map(jc=>{jc=+jc;if(jc!==jc)throw Ab;return jc})}const Yb=/[[\]{}]/,dc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Wb,oc;t.parseSelector=function(Ab,Tb,jc){Wb=Tb||"view";oc=jc||dc;return ka(Ab.trim()).map(Ya)}})};
shadow$provide[53]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(21),nb(49),nb(52),nb(33),nb(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ka,Ya,ub,Yb){function dc(y){return h.isObject(y)?y:{type:y||"pad"}}function Wb(y){h.isObject(y)?
y=y.signal?y:{top:+y.top||0,bottom:+y.bottom||0,left:+y.left||0,right:+y.right||0}:(y=+y||0,y={top:y,bottom:y,left:y,right:y});return y}function oc(y,M,p,P){return null!=p?(h.isObject(p)&&!h.isArray(p)||h.isArray(p)&&p.length&&h.isObject(p[0])?y.update[M]=p:y[P||"enter"][M]={value:p},1):0}function Ab(y,M,p){for(const P in M)oc(y,P,M[P]);for(const P in p)oc(y,P,p[P],"update")}function Tb(y,M,p){for(const P in M)p&&h.hasOwnProperty(p,P)||(y[P]=h.extend(y[P]||{},M[P]));return y}function jc(y,M){return M&&
(M.enter&&M.enter[y]||M.update&&M.update[y])}function Ea(y,M,p,P,Y){const pa={},va={};let Cb,Hb;Hb="lineBreak";"text"!==M||null==Y[Hb]||jc(Hb,y)||Za(pa,Hb,Y[Hb]);if("legend"==p||String(p).startsWith("axis"))p=null;p="frame"===p?Y.group:"mark"===p?h.extend({},Y.mark,Y[M]):null;for(Hb in p)(M=jc(Hb,y)||("fill"===Hb||"stroke"===Hb)&&(jc("fill",y)||jc("stroke",y)))||Za(pa,Hb,p[Hb]);h.array(P).forEach(Xb=>{Xb=Y.style&&Y.style[Xb];for(const cc in Xb)jc(cc,y)||Za(pa,cc,Xb[cc])});y=h.extend({},y);for(Hb in pa)p=
pa[Hb],p.signal?(Cb=Cb||{})[Hb]=p:va[Hb]=p;y.enter=h.extend(va,y.enter);Cb&&(y.update=h.extend(Cb,y.update));return y}function Za(y,M,p){y[M]=p&&p.signal?{signal:p.signal}:{value:p}}function tb(y){if(null!=y.gradient)return rb(y);if(y.signal)var M=`(${y.signal})`;else y.color?(M=y.color,M=M.c?md("hcl",M.h,M.c,M.l):M.h||M.s?md("hsl",M.h,M.s,M.l):M.l||M.a?md("lab",M.l,M.a,M.b):M.r||M.g||M.b?md("rgb",M.r,M.g,M.b):null):M=null!=y.field?vb(y.field):void 0!==y.value?h.stringValue(y.value):void 0;if(null!=
y.scale){const p=bd(y.scale);null!=y.range?M=`lerp(_range(${p}), ${+y.range})`:(void 0!==M&&(M=`_scale(${p}, ${M})`),y.band&&(M=(M?M+"+":"")+`_bandwidth(${p})`+(1===+y.band?"":"*"+pb(y.band)),y.extra&&(M=`(datum.extra ? _scale(${p}, datum.extra.value) : ${M})`)),null==M&&(M="0"))}void 0===M&&(M=null);null!=y.exponent&&(M=`pow(${M},${pb(y.exponent)})`);null!=y.mult&&(M+=`*${pb(y.mult)}`);null!=y.offset&&(M+=`+${pb(y.offset)}`);y.round&&(M=`round(${M})`);return M}function rb(y){const M=[y.start,y.stop,
y.count].map(p=>null==p?null:h.stringValue(p));for(;M.length&&null==h.peek(M);)M.pop();M.unshift(bd(y.gradient));return`gradient(${M.join(",")})`}function pb(y){return h.isObject(y)?"("+tb(y)+")":y}function vb(y){return gb(h.isObject(y)?y:{datum:y})}function gb(y){let M;if(y.signal){M="datum";var p=y.signal}else if(y.group||y.parent){p=Math.max(1,y.level||1);for(M="item";0<p--;)M+=".mark.group";y.parent?(p=y.parent,M+=".datum"):p=y.group}else y.datum?(M="datum",p=y.datum):h.error("Invalid field reference: "+
h.stringValue(y));y.signal||(p=h.isString(p)?h.splitAccessPath(p).map(h.stringValue).join("]["):gb(p));return M+"["+p+"]"}function fc(y){let M="";y.forEach(p=>{const P=tb(p);M+=p.test?`(${p.test})?${P}:`:P});":"===h.peek(M)&&(M+="null");return M}function sa(y,M,p,P,Y,pa){const va={};pa=pa||{};pa.encoders={$encode:va};y=Ea(y,M,p,P,Y.config);for(const nc in y){p=y[nc];P=M;var Cb=pa,Hb=Y;const tc={},wc={};for(const Ic in p)if(null!=p[Ic]){var Xb=ia;var cc=p[Ic];cc=h.isArray(cc)?fc(cc):tb(cc);tc[Ic]=
Xb(cc,Hb,Cb,wc)}p={$expr:{marktype:P,channels:tc},$fields:Object.keys(wc),$output:Object.keys(p)};va[nc]=p}return pa}function ia(y,M,p,P){y=ka.parseExpression(y,M);y.$fields.forEach(Y=>P[Y]=1);h.extend(p,y.$params);return y.$expr}function Ba(y,M){h.error(y+' for "outer" push: '+h.stringValue(M))}function Sa(y,M){const p=y.name;if("outer"===y.push)M.signals[p]||Ba("No prior signal definition",p),qd.forEach(P=>{void 0!==y[P]&&Ba("Invalid property ",P)});else{const P=M.addSignal(p,y.value);!1===y.react&&
(P.react=!1);y.bind&&M.addBinding(p,y.bind)}}function Wa(y,M,p,P){this.id=-1;this.type=y;this.value=M;this.params=p;P&&(this.parent=P)}function Ha(y){const M={$ref:y.id};0>y.id&&(y.refs=y.refs||[]).push(M);return M}function hb(y,M){return M?{$field:y,$name:M}:{$field:y}}function $a(y,M){y={$key:y};M&&(y.$flat=!0);return y}function qb(y,M){return(y&&y.signal?"$"+y.signal:y||"")+(y&&M?"_":"")+(M&&M.signal?"$"+M.signal:M||"")}function Nb(y){return y&&y.signal}function db(y){if(Nb(y))return!0;if(h.isObject(y))for(const M in y)if(db(y[M]))return!0;
return!1}function T(y,M){return null!=y?y:M}function ba(y){return y&&y.signal||y}function ea(y,M){return(y.merge?ja:y.stream?Ma:y.type?oa:h.error("Invalid stream specification: "+h.stringValue(y)))(y,M)}function ja(y,M){const p=y.merge.map(P=>ea(P,M));y=qa({merge:p},y,M);return M.addStream(y).id}function Ma(y,M){const p=ea(y.stream,M);y=qa({stream:p},y,M);return M.addStream(y).id}function oa(y,M){if("timer"===y.type){var p=M.event("timer",y.throttle);y={between:y.between,filter:y.filter}}else p=y.source,
p=M.event.call(M,"scope"===p?"view":p||"view",y.type);y=qa({stream:p},y,M);return 1===Object.keys(y).length?p:M.addStream(y).id}function qa(y,M,p){let P=M.between;P&&(2!==P.length&&h.error('Stream "between" parameter must have 2 entries: '+h.stringValue(M)),y.between=[ea(P[0],p),ea(P[1],p)]);P=M.filter?[].concat(M.filter):[];if(M.marktype||M.markname||M.markrole){var Y=P,pa=M.marktype,va=M.markname,Cb=M.markrole;Y.push.call(Y,"event.item"+(pa&&"*"!==pa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+
pa+"'":"")+(Cb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Cb+"'":"")+(va?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+va+"'":""))}"scope"===M.source&&P.push("inScope(event.item)");P.length&&(y.filter=ka.parseExpression("("+P.join(")\x26\x26(")+")",p).$expr);null!=(P=M.throttle)&&(y.throttle=+P);null!=(P=M.debounce)&&(y.debounce=+P);M.consume&&(y.consume=!0);return y}function l(y,M,p){const P=y.encode,Y={target:p};p=y.events;let pa=y.update,va=[];p||h.error("Signal update missing events specification.");
h.isString(p)&&(p=Ya.parseSelector(p,M.isSubscope()?"scope":"view"));p=h.array(p).filter(Cb=>Cb.signal||Cb.scale?(va.push(Cb),0):1);1<va.length&&(va=[D(va)]);p.length&&va.push(1<p.length?{merge:p}:p[0]);null!=P&&(pa&&h.error("Signal encode and update are mutually exclusive."),pa="encode(item(),"+h.stringValue(P)+")");Y.update=h.isString(pa)?ka.parseExpression(pa,M):null!=pa.expr?ka.parseExpression(pa.expr,M):null!=pa.value?pa.value:null!=pa.signal?{$expr:kd,$params:{$value:M.signalRef(pa.signal)}}:
h.error("Invalid signal update specification.");y.force&&(Y.options={force:!0});va.forEach(Cb=>{var Hb=M.addUpdate,Xb=h.extend;Cb={source:Cb.signal?M.signalRef(Cb.signal):Cb.scale?M.scaleRef(Cb.scale):ea(Cb,M)};return Hb.call(M,Xb.call(h,Cb,Y))})}function D(y){return{signal:"["+y.map(M=>M.scale?'scale("'+M.scale+'")':M.signal)+"]"}}function K(y,M){const p=M.getSignal(y.name);let P=y.update;y.init&&(P?h.error("Signals can not include both init and update expressions."):(P=y.init,p.initonly=!0));P&&
(P=ka.parseExpression(P,M),p.update=P.$expr,p.params=P.$params);y.on&&y.on.forEach(Y=>l(Y,M,p.id))}function v(y,M){return h.isObject(y)?y.signal?M.signalRef(y.signal):h.error("Unsupported object: "+h.stringValue(y)):y}function Q(y,M){return y.signal?M.signalRef(y.signal):y.map(p=>v(p,M))}function A(y){h.error("Can not find data set: "+h.stringValue(y))}function W(y,M,p){if(y)return y.signal?p.signalRef(y.signal):(h.isArray(y)?G:y.fields?z:w)(y,M,p);null==M.domainMin&&null==M.domainMax||h.error("No scale domain defined for domainMin/domainMax to override.")}
function G(y,M,p){return y.map(P=>v(P,p))}function w(y,M,p){const P=p.getData(y.data);P||A(y.data);return ub.isDiscrete(M.type)?P.valuesRef(p,y.field,V(y.sort,!1)):ub.isQuantile(M.type)?P.domainRef(p,y.field):P.extentRef(p,y.field)}function z(y,M,p){const P=y.data,Y=y.fields.reduce((pa,va)=>{if(h.isString(va))va={data:P,field:va};else if(h.isArray(va)||va.signal){var Cb=va;va="_:vega:_"+Ec++;const Hb=Fe({});h.isArray(Cb)?Hb.value={$ingest:Cb}:Cb.signal&&(Cb="setdata("+h.stringValue(va)+","+Cb.signal+
")",Hb.params.input=p.signalRef(Cb));p.addDataPipeline(va,[Hb,ac({})]);va={data:va,field:"data"}}pa.push(va);return pa},[]);return(ub.isDiscrete(M.type)?F:ub.isQuantile(M.type)?ta:N)(y,p,Y)}function F(y,M,p){const P=V(y.sort,!0);y=p.map(pa=>{const va=M.getData(pa.data);va||A(pa.data);return va.countsRef(M,pa.field,P)});const Y={groupby:Fd,pulse:y};P&&(y=P.op||"count",p=P.field?qb(y,P.field):"count",Y.ops=[Tc[y]],Y.fields=[M.fieldRef(p)],Y.as=[p]);y=M.add(he(Y));y=M.add(Fe({pulse:Ha(y)}));p=M.add(Mc({field:Fd,
sort:M.sortRef(P),pulse:Ha(y)}));return Ha(p)}function V(y,M){y&&(y.field||y.op?y.field||"count"===y.op?M&&y.field&&y.op&&!Tc[y.op]&&h.error("Multiple domain scales can not be sorted using "+y.op):h.error("No field provided for sort aggregate op: "+y.op):h.isObject(y)?y.field="key":y={field:"key"});return y}function ta(y,M,p){y=p.map(P=>{const Y=M.getData(P.data);Y||A(P.data);return Y.domainRef(M,P.field)});return Ha(M.add(cd({values:y})))}function N(y,M,p){y=p.map(P=>{const Y=M.getData(P.data);Y||
A(P.data);return Y.extentRef(M,P.field)});return Ha(M.add(fd({extents:y})))}function la(y,M,p){const P=M.config.range;let Y=y.range;if(Y.signal)return M.signalRef(Y.signal);if(h.isString(Y)){if(P&&h.hasOwnProperty(P,Y))return y=h.extend({},y,{range:P[Y]}),la(y,M,p);"width"===Y?Y=[0,{signal:"width"}]:"height"===Y?Y=ub.isDiscrete(y.type)?[0,{signal:"height"}]:[{signal:"height"},0]:h.error("Unrecognized scale range value: "+h.stringValue(Y))}else{if(Y.scheme){p.scheme=h.isArray(Y.scheme)?Q(Y.scheme,
M):v(Y.scheme,M);Y.extent&&(p.schemeExtent=Q(Y.extent,M));Y.count&&(p.schemeCount=v(Y.count,M));return}if(Y.step){p.rangeStep=v(Y.step,M);return}if(ub.isDiscrete(y.type)&&!h.isArray(Y))return W(Y,y,M);h.isArray(Y)||h.error("Unsupported range type: "+h.stringValue(Y))}return Y.map(pa=>(h.isArray(pa)?Q:v)(pa,M))}function wa(y,M,p){return h.isArray(y)?y.map(P=>wa(P,M,p)):h.isObject(y)?y.signal?p.signalRef(y.signal):"fit"===M?y:h.error("Unsupported parameter object: "+h.stringValue(y)):y}function Na(y){y.type=
"group";y.interactive=y.interactive||!1;return y}function Pa(y,M){const p=(P,Y)=>T(y[P],T(M[P],Y));p.isVertical=P=>"vertical"===T(y.direction,M.direction||(P?M.symbolDirection:M.gradientDirection));p.gradientLength=()=>T(y.gradientLength,M.gradientLength||M.gradientWidth);p.gradientThickness=()=>T(y.gradientThickness,M.gradientThickness||M.gradientHeight);p.entryColumns=()=>T(y.columns,T(M.columns,+p.isVertical(!0)));return p}function Xa(y,M){return(y=M&&(M.update&&M.update[y]||M.enter&&M.enter[y]))&&
y.signal?y:y?y.value:null}function sb(y,M,p){return`item.anchor === '${"start"}' ? ${y} : item.anchor === '${"end"}' ? ${M} : ${p}`}function ib(y,M){return M?y?h.isObject(y)?Object.assign({},y,{offset:ib(y.offset,M)}):{value:y,offset:M}:M:y}function Sb(y,M){M?(y.name=M.name,y.style=M.style||y.style,y.interactive=!!M.interactive,y.encode=Tb(y.encode,M,ld)):y.interactive=!1;return y}function X(y,M,p,P){y=Pa(y,p);p=y.isVertical();var Y=y.gradientThickness();const pa=y.gradientLength();let va,Cb,Hb;p?
(p=[0,1],Cb=[0,0],Hb=Y,Y=pa):(p=[0,0],Cb=[1,0],Hb=pa);Y={enter:va={opacity:pd,x:pd,y:pd,width:zc(Hb),height:zc(Y)},update:h.extend({},va,{opacity:oe,fill:{gradient:M,start:p,stop:Cb}}),exit:{opacity:pd}};Ab(Y,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")});return Sb({type:"rect",role:"legend-gradient",encode:Y},P)}function Fa(y,M,p,P,Y){y=Pa(y,p);const pa=y.isVertical();p=y.gradientThickness();const va=y.gradientLength();var Cb;let Hb,Xb,cc,nc=
"";pa?(Cb="y",Xb="y2",Hb="x",cc="width",nc="1-"):(Cb="x",Xb="x2",Hb="y",cc="height");M={opacity:pd,fill:{scale:M,field:"value"}};M[Cb]={signal:nc+"datum.perc",mult:va};M[Hb]=pd;M[Xb]={signal:nc+"datum.perc2",mult:va};M[cc]=zc(p);Cb={enter:M,update:h.extend({},M,{opacity:oe}),exit:{opacity:pd}};Ab(Cb,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")});return Sb({type:"rect",role:"legend-band",key:"value",from:Y,encode:Cb},P)}function Kb(y,M,p,P){const Y=
Pa(y,M);var pa=Y.isVertical();const va=zc(Y.gradientThickness()),Cb=Y.gradientLength();let Hb=Y("labelOverlap"),Xb,cc,nc,tc="";const wc={enter:Xb={opacity:pd},update:cc={opacity:oe,text:{field:"label"}},exit:{opacity:pd}};Ab(wc,{fill:Y("labelColor"),fillOpacity:Y("labelOpacity"),font:Y("labelFont"),fontSize:Y("labelFontSize"),fontStyle:Y("labelFontStyle"),fontWeight:Y("labelFontWeight"),limit:T(y.labelLimit,M.gradientLabelLimit)});pa?(Xb.align={value:"left"},Xb.baseline=cc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},
pa="y",nc="x",tc="1-"):(Xb.align=cc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},Xb.baseline={value:"top"},pa="x",nc="y");Xb[pa]=cc[pa]={signal:tc+"datum.perc",mult:Cb};Xb[nc]=cc[nc]=va;va.offset=T(y.labelOffset,M.gradientLabelOffset)||0;Hb=Hb?{separation:Y("labelSeparation"),method:Hb,order:"datum.index"}:void 0;return Sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:P,encode:wc,overlap:Hb},p)}function pc(y,M,p,P,Y){var pa=Pa(y,M);const va=
p.entries,Cb=!(!va||!va.interactive),Hb=va?va.name:void 0,Xb=pa("clipHeight"),cc=pa("symbolOffset"),nc={data:"value"},tc=`(${Y}) ? datum.${"offset"} : datum.${"size"}`,wc=Xb?zc(Xb):{field:"size"},Ic=`max(1, ${Y})`;let Zc,Yc;wc.mult=.5;var jd={enter:Zc={opacity:pd,x:{signal:tc,mult:.5,offset:cc},y:wc},update:Yc={opacity:oe,x:Zc.x,y:Zc.y},exit:{opacity:pd}};let Sd=null,Rc=null;y.fill||(Sd=M.symbolBaseFillColor,Rc=M.symbolBaseStrokeColor);Ab(jd,{fill:pa("symbolFillColor",Sd),shape:pa("symbolType"),size:pa("symbolSize"),
stroke:pa("symbolStrokeColor",Rc),strokeDash:pa("symbolDash"),strokeDashOffset:pa("symbolDashOffset"),strokeWidth:pa("symbolStrokeWidth")},{opacity:pa("symbolOpacity")});Xc.forEach(Ud=>{y[Ud]&&(Yc[Ud]=Zc[Ud]={scale:y[Ud],field:"value"})});M=Sb({type:"symbol",role:"legend-symbol",key:"value",from:nc,clip:Xb?!0:void 0,encode:jd},p.symbols);jd=zc(cc);jd.offset=pa("labelOffset");jd={enter:Zc={opacity:pd,x:{signal:tc,offset:jd},y:wc},update:Yc={opacity:oe,text:{field:"label"},x:Zc.x,y:Zc.y},exit:{opacity:pd}};
Ab(jd,{align:pa("labelAlign"),baseline:pa("labelBaseline"),fill:pa("labelColor"),fillOpacity:pa("labelOpacity"),font:pa("labelFont"),fontSize:pa("labelFontSize"),fontStyle:pa("labelFontStyle"),fontWeight:pa("labelFontWeight"),limit:pa("labelLimit")});p=Sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:nc,encode:jd},p.labels);jd={enter:{noBound:{value:!Xb},width:pd,height:Xb?zc(Xb):pd,opacity:pd},exit:{opacity:pd},update:Yc={opacity:oe,row:{signal:null},column:{signal:null}}};
pa.isVertical(!0)?(pa=`ceil(item.mark.items.length / ${Ic})`,Yc.row.signal=`${"datum.index"}%${pa}`,Yc.column.signal=`floor(${"datum.index"} / ${pa})`,pa={field:["row","datum.index"]}):(Yc.row.signal=`floor(${"datum.index"} / ${Ic})`,Yc.column.signal=`${"datum.index"} % ${Ic}`,pa={field:"datum.index"});Yc.column.signal=`(${Y})?${Yc.column.signal}:${"datum.index"}`;P={facet:{data:P,name:"value",groupby:"index"}};return Na({role:"scope",from:P,encode:Tb(jd,va,ld),marks:[M,p],name:Hb,interactive:Cb,
sort:pa})}function $b(y,M){y=Pa(y,M);return{align:y("gridAlign"),columns:y.entryColumns(),center:{row:!0,column:!1},padding:{row:y("rowPadding"),column:y("columnPadding")}}}function Mb(y,M,p,P){M=Pa(y,M);const Y={enter:{opacity:pd},update:{opacity:oe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:pd}};Ab(Y,{orient:M("titleOrient"),_anchor:M("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:Je},baseline:{signal:ef},text:y.title,fill:M("titleColor"),fillOpacity:M("titleOpacity"),font:M("titleFont"),fontSize:M("titleFontSize"),fontStyle:M("titleFontStyle"),fontWeight:M("titleFontWeight"),limit:M("titleLimit"),lineHeight:M("titleLineHeight")},{align:M("titleAlign"),baseline:M("titleBaseline")});return Sb({type:"text",
role:"legend-title",style:"guide-title",from:P,encode:Y},p)}function Ob(y,M){let p;h.isObject(y)&&(y.signal?p=y.signal:y.path?p="pathShape("+yc(y.path)+")":y.sphere&&(p="geoShape("+yc(y.sphere)+', {type: "Sphere"})'));return p?M.signalRef(p):!!y}function yc(y){return h.isObject(y)&&y.signal?y.signal:h.stringValue(y)}function hd(y){const M=y.role||"";return M.startsWith("axis")||M.startsWith("legend")||M.startsWith("title")?M:"group"===y.type?"scope":M||"mark"}function ra(y){return{marktype:y.type,
name:y.name||void 0,role:y.role||hd(y),zindex:+y.zindex||void 0,aria:y.aria,description:y.description}}function Bb(y,M){return y&&y.signal?M.signalRef(y.signal):!1===y?!1:!0}function Ua(y,M){const p=Yb.definition(y.type);p||h.error("Unrecognized transform type: "+h.stringValue(y.type));var P=p.type.toLowerCase();var Y=xb(p,y,M);P=new Wa(P,null,Y,void 0);y.signal&&M.addSignal(y.signal,M.proxy(P));P.metadata=p.metadata||{};return P}function xb(y,M,p){const P={},Y=y.params.length;for(let pa=0;pa<Y;++pa){const va=
y.params[pa];P[va.name]=Fb(va,M,p)}return P}function Fb(y,M,p){const P=y.type,Y=M[y.name];if("index"===P)return Zb(y,M,p);if(void 0===Y)y.required&&h.error("Missing required "+h.stringValue(M.type)+" parameter: "+h.stringValue(y.name));else return"param"===P?ic(y,M,p):"projection"===P?p.projectionRef(M[y.name]):y.array&&!Nb(Y)?Y.map(pa=>Lb(y,pa,p)):Lb(y,Y,p)}function Lb(y,M,p){const P=y.type;return Nb(M)?"expr"===P?h.error("Expression references can not be signals."):"field"===P?p.fieldRef(M):"compare"===
P?p.compareRef(M):p.signalRef(M.signal):(y=y.expr||"field"===P)&&M&&M.expr?p.exprRef(M.expr,M.as):y&&M&&M.field?hb(M.field,M.as):"expr"===P?ka.parseExpression(M,p):"data"===P?Ha(p.getData(M).values):"field"===P?hb(M):"compare"===P?p.compareRef(M):M}function Zb(y,M,p){h.isString(M.from)||h.error('Lookup "from" parameter must be a string literal.');return p.getData(M.from).lookupRef(p,M.key)}function ic(y,M,p){M=M[y.name];return y.array?(h.isArray(M)||h.error("Expected an array of sub-parameters. Instead: "+
h.stringValue(M)),M.map(P=>Ac(y,P,p))):Ac(y,M,p)}function Ac(y,M,p){const P=y.params.length;let Y;for(let pa=0;pa<P;++pa){Y=y.params[pa];for(const va in Y.key)if(Y.key[va]!==M[va]){Y=null;break}if(Y)break}Y||h.error("Unsupported parameter: "+h.stringValue(M));y=h.extend(xb(Y,M,p),Y.key);return Ha(p.add(Nd(y)))}function nd(y,M,p){let P,Y,pa,va;if(!y)pa=Ha(p.add(Fe(null,[{}])));else if(P=y.facet)M||h.error("Only group marks can be faceted."),null!=P.field?pa=va=Vc(P,p):(y.data?va=Ha(p.getData(y.data).aggregate):
(M=Ua(h.extend({type:"aggregate",groupby:h.array(P.groupby)},P.aggregate),p),M.params.key=p.keyRef(P.groupby),M.params.pulse=Vc(P,p),pa=va=Ha(p.add(M))),Y=p.keyRef(P.groupby,!0));pa||(pa=Vc(y,p));return{key:Y,pulse:pa,parent:va}}function Vc(y,M){return y.$ref?y:y.data&&y.data.$ref?y.data:Ha(M.getData(y.data).output)}function na(y,M,p,P,Y){this.scope=y;this.input=M;this.output=p;this.values=P;this.aggregate=Y;this.index={}}function Ia(y){return h.isString(y)?y:null}function fb(y,M,p){const P=qb(p.op,
p.field);let Y;if(M.ops)for(let pa=0,va=M.as.length;pa<va;++pa){if(M.as[pa]===P)return}else M.ops=["count"],M.fields=[null],M.as=["count"];p.op&&(M.ops.push((Y=p.op.signal)?y.signalRef(Y):p.op),M.fields.push(y.fieldRef(p.field)),M.as.push(P))}function R(y,M,p,P,Y,pa,va){p=M[p]||(M[p]={});var Cb=h.isObject(pa)?("descending"===pa.order?"-":"+")+qb(pa.op,pa.field):"";let Hb=Ia(Y);if(null!=Hb){y=M.scope;Hb+=Cb?"|"+Cb:"";var Xb=p[Hb]}Xb||(Xb=pa?{field:Fd,pulse:M.countsRef(y,Y,pa)}:{field:y.fieldRef(Y),
pulse:Ha(M.output)},Cb&&(Xb.sort=y.sortRef(pa)),y=y.add(new Wa(P,void 0,Xb,void 0)),va&&(M.index[Y]=y),Xb=Ha(y),null!=Hb&&(p[Hb]=Xb));return Xb}function r(y,M,p){var P=y.from.facet;const Y=P.name,pa=Vc(P,M);let va;P.name||h.error("Facet must have a name: "+h.stringValue(P));P.data||h.error("Facet must reference a data set: "+h.stringValue(P));P.field?va=M.add(Md({field:M.fieldRef(P.field),pulse:pa})):P.groupby?va=M.add(Ga({key:M.keyRef(P.groupby),group:Ha(M.proxy(p.parent)),pulse:pa})):h.error("Facet must specify groupby or field: "+
h.stringValue(P));M=M.fork();p=M.add(Fe());P=M.add(ac({pulse:Ha(p)}));M.addData(Y,new na(M,p,p,P));M.addSignal("parent",null);va.params.subflow={$subflow:M.parse(y).toRuntime()}}function da(y,M,p){p=M.add(Md({pulse:p.pulse}));M=M.fork();M.add(ac());M.addSignal("parent",null);p.params.subflow={$subflow:M.parse(y).toRuntime()}}function za(y,M,p){const P=y.remove,Y=y.insert,pa=y.toggle,va=y.modify,Cb=y.values,Hb=M.add(new Wa("operator",void 0,void 0,void 0));y="if("+y.trigger+',modify("'+p+'",'+[Y,P,
pa,va,Cb].map(Xb=>null==Xb?"null":Xb).join(",")+"),0)";M=ka.parseExpression(y,M);Hb.update=M.$expr;Hb.params=M.$params}function Da(y,M){var p=hd(y),P="group"===y.type,Y=y.from&&y.from.facet;const pa=y.overlap;let va=y.layout||"scope"===p||"frame"===p,Cb,Hb,Xb,cc,nc,tc;const wc="mark"===p||va||Y,Ic=nd(y.from,P,M);Hb=M.add(df({key:Ic.key||(y.key?hb(y.key):void 0),pulse:Ic.pulse,clean:!P}));const Zc=Ha(Hb);Hb=Xb=M.add(Fe({pulse:Zc}));Hb=M.add(Sc({markdef:ra(y),interactive:Bb(y.interactive,M),clip:Ob(y.clip,
M),context:{$context:!0},groups:M.lookup(),parent:M.signals.parent?M.signalRef("parent"):null,index:M.markpath(),pulse:Ha(Hb)}));var Yc=Ha(Hb);Hb=cc=M.add(E(sa(y.encode,y.type,p,y.style,M,{mod:!1,pulse:Yc})));Hb.params.parent=M.encode();y.transform&&y.transform.forEach(Sd=>{Sd=Ua(Sd,M);const Rc=Sd.metadata;(Rc.generates||Rc.changes)&&h.error("Mark transforms should not generate new data.");Rc.nomod||(cc.params.mod=!0);Sd.params.pulse=Ha(Hb);M.add(Hb=Sd)});y.sort&&(Hb=M.add(id({sort:M.compareRef(y.sort),
pulse:Ha(Hb)})));p=Ha(Hb);if(Y||va)va=M.add(sc({layout:M.objectProperty(y.layout),legends:M.legends,mark:Yc,pulse:p})),tc=Ha(va);const jd=M.add(Ie({mark:Yc,pulse:tc||p}));Yc=Ha(jd);P&&(wc&&(Cb=M.operators,Cb.pop(),va&&Cb.pop()),M.pushState(p,tc||Yc,Zc),Y?r(y,M,Ic):wc?da(y,M,Ic):M.parse(y),M.popState(),wc&&(va&&Cb.push(va),Cb.push(jd)));pa&&(Yc=Oa(pa,Yc,M));P=M.add(Ca({pulse:Yc}));Y=M.add(ac({pulse:Ha(P)},void 0,M.parent()));null!=y.name&&(nc=y.name,M.addData(nc,new na(M,Xb,P,Y)),y.on&&y.on.forEach(Sd=>
{(Sd.insert||Sd.remove||Sd.toggle)&&h.error("Marks only support modify triggers.");za(Sd,M,nc)}))}function Oa(y,M,p){const P=y.method,Y=y.bound,pa=y.separation;M={separation:Nb(pa)?p.signalRef(pa.signal):pa,method:Nb(P)?p.signalRef(P.signal):P,pulse:M};y.order&&(M.sort=p.compareRef({field:y.order}));Y&&(y=Y.tolerance,M.boundTolerance=Nb(y)?p.signalRef(y.signal):+y,M.boundScale=p.scaleRef(Y.scale),M.boundOrient=Y.orient);return Ha(p.add(Oc(M)))}function kb(y,M){const p=M.config.legend,P=y.encode||
{},Y=Pa(y,p),pa=P.legend||{},va=pa.name||void 0,Cb=pa.interactive,Hb=pa.style,Xb={};let cc=0,nc,tc;Xc.forEach(jd=>y[jd]?(Xb[jd]=y[jd],cc=cc||y[jd]):0);cc||h.error("Missing valid scale for legend.");var wc=Ub(y,M.scaleType(cc));const Ic={title:null!=y.title,scales:Xb,type:wc,vgrad:"symbol"!==wc&&Y.isVertical()},Zc=Ha(M.add(Fe(null,[Ic]))),Yc=Ha(M.add(rc(tc={type:wc,scale:M.scaleRef(cc),count:M.objectProperty(Y("tickCount")),limit:M.property(Y("symbolLimit")),values:M.objectProperty(y.values),minstep:M.property(y.tickMinStep),
formatType:M.property(y.formatType),formatSpecifier:M.property(y.format)})));"gradient"===wc?(wc=[X(y,cc,p,P.gradient),Kb(y,p,P.labels,Yc)],tc.count=tc.count||M.signalRef(`max(2,2*floor((${ba(Y.gradientLength())})/100))`)):"discrete"===wc?wc=[Fa(y,cc,p,P.gradient,Yc),Kb(y,p,P.labels,Yc)]:(nc=$b(y,p),wc=[pc(y,p,P,Yc,ba(nc.columns))],tc.size=Cc(y,M,wc[0].marks));wc=[Na({role:"legend-entry",from:Zc,encode:{enter:{x:{value:0},y:{value:0}}},marks:wc,layout:nc,interactive:Cb})];Ic.title&&wc.push(Mb(y,p,
P.title,Zc));return Da(Na({role:"legend",from:Zc,encode:Tb(Ib(Y,y,p),pa,ld),marks:wc,aria:Y("aria"),description:Y("description"),zindex:Y("zindex"),name:va,interactive:Cb,style:Hb}),M)}function Ub(y,M){let p=y.type||"symbol";y.type||1!==Eb(y)||!y.fill&&!y.stroke||(p=ub.isContinuous(M)?"gradient":ub.isDiscretizing(M)?"discrete":"symbol");return"gradient"!==p?p:ub.isDiscretizing(M)?"discrete":"gradient"}function Eb(y){return Xc.reduce((M,p)=>M+(y[p]?1:0),0)}function Ib(y,M,p){const P={enter:{},update:{}};
Ab(P,{orient:y("orient"),offset:y("offset"),padding:y("padding"),titlePadding:y("titlePadding"),cornerRadius:y("cornerRadius"),fill:y("fillColor"),stroke:y("strokeColor"),strokeWidth:p.strokeWidth,strokeDash:p.strokeDash,x:y("legendX"),y:y("legendY"),format:M.format,formatType:M.formatType});return P}function Cc(y,M,p){const P=ba(Hc("size",y,p));y=ba(Hc("strokeWidth",y,p));(p=Xa("fontSize",p[1].encode))||(p=(p=M.config.style["guide-label"])&&p.fontSize);p=ba(p);return ka.parseExpression(`max(ceil(sqrt(${P})+${y}),${p})`,
M)}function Hc(y,M,p){return M[y]?`scale("${M[y]}",datum)`:Xa(y,p[0].encode)}function Nc(y,M){y=h.isString(y)?{text:y}:y;const p=Pa(y,M.config.title);var P=y.encode||{},Y=P.group||{};const pa=Y.name||void 0,va=Y.interactive,Cb=Y.style,Hb=[],Xb=Ha(M.add(Fe(null,[{}])));var cc=Hb.push,nc=y;var tc=(tc=y.encode)&&tc.title||h.extend({name:y.name,interactive:y.interactive,style:y.style},tc);var wc={value:0};wc={enter:{opacity:wc},update:{opacity:{value:1}},exit:{opacity:wc}};Ab(wc,{text:nc.text,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:p("dx"),dy:p("dy"),fill:p("color"),font:p("font"),fontSize:p("fontSize"),fontStyle:p("fontStyle"),fontWeight:p("fontWeight"),lineHeight:p("lineHeight")},{align:p("align"),angle:p("angle"),baseline:p("baseline")});nc=Sb({type:"text",role:"title-text",style:"group-title",from:Xb,encode:wc},tc);cc.call(Hb,nc);y.subtitle&&(cc=Hb.push,P=P.subtitle,nc={value:0},nc={enter:{opacity:nc},update:{opacity:{value:1}},
exit:{opacity:nc}},Ab(nc,{text:y.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:p("dx"),dy:p("dy"),fill:p("subtitleColor"),font:p("subtitleFont"),fontSize:p("subtitleFontSize"),fontStyle:p("subtitleFontStyle"),fontWeight:p("subtitleFontWeight"),lineHeight:p("subtitleLineHeight")},{align:p("align"),angle:p("angle"),baseline:p("baseline")}),y=Sb({type:"text",role:"title-subtitle",style:"group-subtitle",
from:Xb,encode:nc},P),cc.call(Hb,y));y={enter:{},update:{}};Ab(y,{orient:p("orient"),anchor:p("anchor"),align:{signal:cf},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:p("limit"),frame:p("frame"),offset:p("offset")||0,padding:p("subtitlePadding")});Y=Tb(y,Y,ld);return Da(Na({role:"title",from:Xb,encode:Y,marks:Hb,aria:p("aria"),description:p("description"),zindex:p("zindex"),name:pa,interactive:va,style:Cb}),M)}function xd(y,M){const p=[];y.transform&&
y.transform.forEach(P=>{p.push(Ua(P,M))});y.on&&y.on.forEach(P=>{za(P,M,y.name)});M.addDataPipeline(y.name,sd(y,M,p))}function sd(y,M,p){const P=[];let Y=null,pa=!1,va=!1,Cb,Hb,Xb,cc;y.values?Nb(y.values)||db(y.format)?(P.push(Id(M,y)),P.push(Y=ed())):P.push(Y=ed({$ingest:y.values,$format:y.format})):y.url?db(y.url)||db(y.format)?(P.push(Id(M,y)),P.push(Y=ed())):P.push(Y=ed({$request:y.url,$format:y.format})):y.source&&(Y=Cb=h.array(y.source).map(nc=>Ha(M.getData(nc).output)),P.push(null));y=0;for(Hb=
p.length;y<Hb;++y)Xb=p[y],cc=Xb.metadata,Y||cc.source||P.push(Y=ed()),P.push(Xb),cc.generates&&(va=!0),cc.modifies&&!va&&(pa=!0),cc.source?Y=Xb:cc.changes&&(Y=null);Cb&&(Hb=Cb.length-1,P[0]=Xd({derive:pa,pulse:Hb?Cb:Cb[0]}),(pa||Hb)&&P.splice(1,0,ed()));Y||P.push(ed());P.push(ac({}));return P}function ed(y){y=Fe({},y);y.metadata={source:!0};return y}function Id(y,M){return Rb({url:M.url?y.property(M.url):void 0,async:M.async?y.property(M.async):void 0,values:M.values?y.property(M.values):void 0,format:y.objectProperty(M.format)})}
function Gd(y,M,p,P){let Y;if(M&&h.hasOwnProperty(M,y))return M[y];if(h.hasOwnProperty(p,y))return p[y];if(y.startsWith("title")){switch(y){case "titleColor":Y="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Y=y[5].toLowerCase()+y.slice(6)}return P["guide-title"][Y]}if(y.startsWith("label")){switch(y){case "labelColor":Y="fill";break;case "labelFont":case "labelFontSize":Y=y[5].toLowerCase()+y.slice(6)}return P["guide-label"][Y]}return null}function vd(y){const M={};for(const p of y)if(p)for(const P in p)M[P]=
1;return Object.keys(M)}function xe(y,M,p,P,Y){return{signal:'flush(range("'+y+'"), scale("'+y+'", datum.value), '+M+","+p+","+P+","+Y+")"}}function Ed(y,M,p,P){const Y=(va,Cb)=>null!=va?(p.update[Cb]=te(zc(va),p.update[Cb]),!1):jc(Cb,P)?!1:!0,pa=Y(y("titleX"),"x");y=Y(y("titleY"),"y");p.enter.auto=y===pa?zc(y):Ke(M,zc(y),zc(pa))}function x(y,M,p){const P=h.array(y.signals),Y=h.array(y.scales);p||P.forEach(pa=>Sa(pa,M));h.array(y.projections).forEach(pa=>{const va=M.config.projection||{},Cb={};for(const Hb in pa)"name"!==
Hb&&(Cb[Hb]=wa(pa[Hb],Hb,M));for(const Hb in va)null==Cb[Hb]&&(Cb[Hb]=wa(va[Hb],Hb,M));M.addProjection(pa.name,Cb)});Y.forEach(pa=>{const va=pa.type||"linear";ub.isValidScaleType(va)||h.error("Unrecognized scale type: "+h.stringValue(va));M.addScale(pa.name,{type:va,domain:void 0})});h.array(y.data).forEach(pa=>xd(pa,M));Y.forEach(pa=>{const va=M.getScale(pa.name).params;let Cb;va.domain=W(pa.domain,pa,M);null!=pa.range&&(va.range=la(pa,M,va));if(null!=pa.interpolate){var Hb=pa.interpolate;va.interpolate=
v(Hb.type||Hb);null!=Hb.gamma&&(va.interpolateGamma=v(Hb.gamma))}null!=pa.nice&&(Hb=pa.nice,Hb=Hb.signal?M.signalRef(Hb.signal):h.isObject(Hb)?{interval:v(Hb.interval),step:v(Hb.step)}:v(Hb),va.nice=Hb);null!=pa.bins&&(Hb=pa.bins,Hb=Hb.signal||h.isArray(Hb)?Q(Hb,M):M.objectProperty(Hb),va.bins=Hb);for(Cb in pa)h.hasOwnProperty(va,Cb)||"name"===Cb||(va[Cb]=v(pa[Cb],M))});(p||P).forEach(pa=>K(pa,M));h.array(y.axes).forEach(pa=>{var va=M.config,Cb=va.style,Hb=va.axis,Xb="band"===M.scaleType(pa.scale)&&
va.axisBand,cc=pa.orient,nc;if(Nb(cc)){const Qd=vd([va.axisX,va.axisY]),qe=vd([va.axisTop,va.axisBottom,va.axisLeft,va.axisRight]);var tc={};for(nc of Qd)tc[nc]=Ke(cc,Gd(nc,va.axisX,Hb,Cb),Gd(nc,va.axisY,Hb,Cb));var wc={};for(nc of qe){var Ic=wc,Zc=nc,Yc=cc.signal,jd=Gd(nc,va.axisTop,Hb,Cb),Sd=Gd(nc,va.axisBottom,Hb,Cb),Rc=Gd(nc,va.axisLeft,Hb,Cb),Ud=Gd(nc,va.axisRight,Hb,Cb);var ue={signal:(null!=Rc?`${Yc} === '${"left"}' ? (${me(Rc)}) : `:"")+(null!=Sd?`${Yc} === '${"bottom"}' ? (${me(Sd)}) : `:
"")+(null!=Ud?`${Yc} === '${"right"}' ? (${me(Ud)}) : `:"")+(null!=jd?`${Yc} === '${"top"}' ? (${me(jd)}) : `:"")+"(null)"};Ic[Zc]=ue}}else tc="top"===cc||"bottom"===cc?va.axisX:va.axisY,wc=va["axis"+cc[0].toUpperCase()+cc.slice(1)];var $c=tc||wc||Xb?h.extend({},Hb,tc,wc,Xb):Hb;const Ad=pa.encode||{},Yd=Ad.axis||{},$d=Yd.name||void 0,ye=Yd.interactive,Rd=Yd.style,Vd=Pa(pa,$c),ve=Vd("tickBand");let Ne=Vd("tickOffset"),Se,Sf;ve?ve.signal?(Se={signal:`(${ve.signal}) === 'extent' ? 1 : 0.5`},Sf={signal:`(${ve.signal}) === 'extent'`},
h.isObject(Ne)||(Ne={signal:`(${ve.signal}) === 'extent' ? 0 : ${Ne}`})):"extent"===ve?(Se=1,Sf=!0,Ne=0):(Se=.5,Sf=!1):(Se=Vd("bandPosition"),Sf=Vd("tickExtra"));var td=Sf;var Oe=Se;var Df=Ne;const pf={scale:pa.scale,ticks:!!Vd("ticks"),labels:!!Vd("labels"),grid:!!Vd("grid"),domain:!!Vd("domain"),title:null!=pa.title},lg=Ha(M.add(Fe({},[pf]))),Kf=Ha(M.add(Le({scale:M.scaleRef(pa.scale),extra:M.property(td),count:M.objectProperty(pa.tickCount),values:M.objectProperty(pa.values),minstep:M.property(pa.tickMinStep),
formatType:M.property(pa.formatType),formatSpecifier:M.property(pa.format)}))),Ze=[];let Tf;if(pf.grid){var qf=Ze.push,vf=Ad.grid;const Qd=Pa(pa,$c),qe=pa.orient,rf=pa.gridScale,De=of(qe,1,-1);a:{var Ff=pa.offset,jf=De;if(1!==jf)if(h.isObject(Ff)){let Xf=Ff=h.extend({},Ff);for(;null!=Xf.mult;)if(h.isObject(Xf.mult))Xf=Xf.mult=h.extend({},Xf.mult);else{Xf.mult=Nb(jf)?{signal:`(${Xf.mult}) * (${jf.signal})`}:Xf.mult*jf;var gg=Ff;break a}Xf.mult=jf}else Ff=Nb(jf)?{signal:`(${jf.signal}) * (${Ff||0})`}:
jf*(Ff||0);gg=Ff}const ff=gg;let We,Wf,wf;const Gf={enter:We={opacity:pd},update:wf={opacity:oe},exit:Wf={opacity:pd}};Ab(Gf,{stroke:Qd("gridColor"),strokeCap:Qd("gridCap"),strokeDash:Qd("gridDash"),strokeDashOffset:Qd("gridDashOffset"),strokeOpacity:Qd("gridOpacity"),strokeWidth:Qd("gridWidth")});const gf={scale:pa.scale,field:"value",band:Oe,extra:td,offset:Df,round:Qd("tickRound")},Ng=Ke(qe,{signal:"height"},{signal:"width"}),Og=rf?{scale:rf,range:0,mult:De,offset:ff}:{value:0,offset:ff},nh=rf?
{scale:rf,range:1,mult:De,offset:ff}:h.extend(Ng,{mult:De,offset:ff});We.x=wf.x=Ke(qe,gf,Og);We.y=wf.y=$e(qe,gf,Og);We.x2=wf.x2=$e(qe,nh);We.y2=wf.y2=Ke(qe,nh);Wf.x=Ke(qe,gf);Wf.y=$e(qe,gf);var Af=Sb({type:"rule",role:"axis-grid",key:"value",from:Kf,encode:Gf},vf);qf.call(Ze,Af)}if(pf.ticks){Tf=Vd("tickSize");var vh=Ze.push,Gg=Ad.ticks,Cg=Tf;const Qd=Pa(pa,$c),qe=pa.orient,rf=of(qe,-1,1);let De,ff,We;const Wf={enter:De={opacity:pd},update:We={opacity:oe},exit:ff={opacity:pd}};Ab(Wf,{stroke:Qd("tickColor"),
strokeCap:Qd("tickCap"),strokeDash:Qd("tickDash"),strokeDashOffset:Qd("tickDashOffset"),strokeOpacity:Qd("tickOpacity"),strokeWidth:Qd("tickWidth")});const wf=zc(Cg);wf.mult=rf;const Gf={scale:pa.scale,field:"value",band:Oe,extra:td,offset:Df,round:Qd("tickRound")};We.y=De.y=Ke(qe,pd,Gf);We.y2=De.y2=Ke(qe,wf);ff.x=Ke(qe,Gf);We.x=De.x=$e(qe,pd,Gf);We.x2=De.x2=$e(qe,wf);ff.y=$e(qe,Gf);var Dg=Sb({type:"rule",role:"axis-tick",key:"value",from:Kf,encode:Wf},Gg);vh.call(Ze,Dg)}if(pf.labels){Tf=pf.ticks?
Tf:0;var U=Ze.push,Ka=Ad.labels,lb=Tf;const Qd=Pa(pa,$c),qe=pa.orient,rf=pa.scale,De=of(qe,-1,1),ff=ba(Qd("labelFlush")),We=ba(Qd("labelFlushOffset")),Wf=Qd("labelAlign"),wf=Qd("labelBaseline");let Gf=0===ff||!!ff,gf;const Ng=zc(lb);Ng.mult=De;Ng.offset=zc(Qd("labelPadding")||0);Ng.offset.mult=De;const Og={scale:rf,field:"value",band:.5,offset:ib(Df,Qd("labelOffset"))};var Jc=Gf?xe(rf,ff,'"left"','"right"','"center"'):{value:"center"},Kc=qe;var Pd=Nb(Kc)?de(`${Kc.signal} === '${"right"}'`,"left",
"right"):"right"===Kc?{value:"left"}:{value:"right"};const nh=Ke(qe,Jc,Pd),Xf=Ke(qe,Ye(qe,"bottom","top"),Gf?xe(rf,ff,'"top"','"bottom"','"middle"'):{value:"middle"}),ci=xe(rf,ff,`-(${We})`,We,0);Gf=Gf&&We;const wh={opacity:pd,x:Ke(qe,Og,Ng),y:$e(qe,Og,Ng)},Pg={enter:wh,update:gf={opacity:oe,text:{field:"label"},x:wh.x,y:wh.y,align:nh,baseline:Xf},exit:{opacity:pd,x:wh.x,y:wh.y}};Ab(Pg,{dx:!Wf&&Gf?Ke(qe,ci):null,dy:!wf&&Gf?$e(qe,ci):null});Ab(Pg,{angle:Qd("labelAngle"),fill:Qd("labelColor"),fillOpacity:Qd("labelOpacity"),
font:Qd("labelFont"),fontSize:Qd("labelFontSize"),fontWeight:Qd("labelFontWeight"),fontStyle:Qd("labelFontStyle"),limit:Qd("labelLimit"),lineHeight:Qd("labelLineHeight")},{align:Wf,baseline:wf});const Qg=Qd("labelBound");let Sh=Qd("labelOverlap");Sh=Sh||Qg?{separation:Qd("labelSeparation"),method:Sh,order:"datum.index",bound:Qg?{scale:rf,orient:qe,tolerance:Qg}:null}:void 0;gf.align!==nh&&(gf.align=te(gf.align,nh));gf.baseline!==Xf&&(gf.baseline=te(gf.baseline,Xf));var se=Sb({type:"text",role:"axis-label",
style:"guide-label",key:"value",from:Kf,encode:Pg,overlap:Sh},Ka);U.call(Ze,se)}if(pf.domain){var Ve=Ze.push,Be=Ad.domain;const Qd=Pa(pa,$c),qe=pa.orient;let rf,De;const ff={enter:rf={opacity:pd},update:De={opacity:oe},exit:{opacity:pd}};Ab(ff,{stroke:Qd("domainColor"),strokeCap:Qd("domainCap"),strokeDash:Qd("domainDash"),strokeDashOffset:Qd("domainDashOffset"),strokeWidth:Qd("domainWidth"),strokeOpacity:Qd("domainOpacity")});const We={scale:pa.scale,range:0},Wf={scale:pa.scale,range:1};rf.x=De.x=
Ke(qe,We,pd);rf.x2=De.x2=Ke(qe,Wf);rf.y=De.y=$e(qe,We,pd);rf.y2=De.y2=$e(qe,Wf);var Uf=Sb({type:"rule",role:"axis-domain",from:lg,encode:ff},Be);Ve.call(Ze,Uf)}if(pf.title){var lf=Ze.push,eh=Ad.title;const Qd=Pa(pa,$c),qe=pa.orient,rf=of(qe,-1,1);let De,ff;const We={enter:De={opacity:pd,anchor:zc(Qd("titleAnchor",null)),align:{signal:cf}},update:ff=h.extend({},De,{opacity:oe,text:zc(pa.title)}),exit:{opacity:pd}},Wf={signal:`lerp(range("${pa.scale}"), ${sb(0,1,.5)})`};ff.x=Ke(qe,Wf);ff.y=$e(qe,Wf);
var Vf=De,hg=rf;var bg=Nb(hg)?{signal:`(${hg.signal}) * ${90}`}:{value:90*hg};Vf.angle=Ke(qe,pd,bg);De.baseline=Ke(qe,Ye(qe,"bottom","top"),{value:"bottom"});ff.angle=De.angle;ff.baseline=De.baseline;Ab(We,{fill:Qd("titleColor"),fillOpacity:Qd("titleOpacity"),font:Qd("titleFont"),fontSize:Qd("titleFontSize"),fontStyle:Qd("titleFontStyle"),fontWeight:Qd("titleFontWeight"),limit:Qd("titleLimit"),lineHeight:Qd("titleLineHeight")},{align:Qd("titleAlign"),angle:Qd("titleAngle"),baseline:Qd("titleBaseline")});
Ed(Qd,qe,We,eh);We.update.align=te(We.update.align,De.align);We.update.angle=te(We.update.angle,De.angle);We.update.baseline=te(We.update.baseline,De.baseline);var tg=Sb({type:"text",role:"axis-title",style:"guide-title",from:lg,encode:We},eh);lf.call(Ze,tg)}const ug={enter:{},update:{}};Ab(ug,{orient:Vd("orient"),offset:Vd("offset")||0,position:T(pa.position,0),titlePadding:Vd("titlePadding"),minExtent:Vd("minExtent"),maxExtent:Vd("maxExtent"),range:{signal:`abs(span(range("${pa.scale}")))`},translate:Vd("translate"),
format:pa.format,formatType:pa.formatType});return Da(Na({role:"axis",from:lg,encode:Tb(ug,Yd,ld),marks:Ze,aria:Vd("aria"),description:Vd("description"),zindex:Vd("zindex"),name:$d,interactive:ye,style:Rd}),M)});h.array(y.marks).forEach(pa=>Da(pa,M));h.array(y.legends).forEach(pa=>kb(pa,M));y.title&&Nc(y.title,M);M.parseLambdas();return M}function I(y,M){var p=M.config;const P=Ha(M.root=M.add(new Wa("operator",void 0,void 0,void 0))),Y=Ja(y,p);Y.forEach(Cb=>Sa(Cb,M));M.description=y.description||
p.description;M.eventConfig=p.events;M.legends=M.objectProperty(p.legend&&p.legend.layout);M.locale=p.locale;p=M.add(Fe());const pa=M.add(E(sa(Tb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},y.encode),"group","frame",y.style,M,{pulse:Ha(p)}))),va=M.add(sc({layout:M.objectProperty(y.layout),legends:M.legends,autosize:M.signalRef("autosize"),mark:P,pulse:Ha(pa)}));M.operators.pop();M.pushState(Ha(pa),Ha(va),null);x(y,M,Y);M.operators.push(va);y=M.add(Ie({mark:P,
pulse:Ha(va)}));y=M.add(Ca({pulse:Ha(y)}));y=M.add(ac({pulse:Ha(y)}));M.addData("root",new na(M,p,p,y));return M}function xa(y,M){return M&&M.signal?{name:y,update:M.signal}:{name:y,value:M}}function Ja(y,M){const p=va=>T(y[va],M[va]),P=[xa("background",p("background")),xa("autosize",dc(p("autosize"))),xa("padding",Wb(p("padding"))),xa("width",p("width")||0),xa("height",p("height")||0)],Y=P.reduce((va,Cb)=>(va[Cb.name]=Cb,va),{}),pa={};h.array(y.signals).forEach(va=>{h.hasOwnProperty(Y,va.name)?va=
h.extend(Y[va.name],va):P.push(va);pa[va.name]=va});h.array(M.signals).forEach(va=>{h.hasOwnProperty(pa,va.name)||h.hasOwnProperty(Y,va.name)||P.push(va)});return P}function jb(y,M){this.config=y||{};this.options=M||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=
[]}function wb(y){this.config=y.config;this.options=y.options;this.legends=y.legends;this.field=Object.create(y.field);this.signals=Object.create(y.signals);this.lambdas=Object.create(y.lambdas);this.scales=Object.create(y.scales);this.events=Object.create(y.events);this.data=Object.create(y.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++y._nextsub[0];this._nextsub=y._nextsub;this._parent=y._parent.slice();this._encode=y._encode.slice();this._lookup=y._lookup.slice();
this._markpath=y._markpath}function ec(y){return(h.isArray(y)?Qb:qc)(y)}function Qb(y){const M=y.length;let p="[";for(let P=0;P<M;++P){const Y=y[P];p+=(0<P?",":"")+(h.isObject(Y)?Y.signal||ec(Y):h.stringValue(Y))}return p+"]"}function qc(y){let M="{",p=0,P,Y;for(P in y)Y=y[P],M+=(1<++p?",":"")+h.stringValue(P)+":"+(h.isObject(Y)?Y.signal||ec(Y):h.stringValue(Y));return M+"}"}function Fc(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},
group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",
fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,
labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,
symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const zc=y=>h.isObject(y)&&!h.isArray(y)?h.extend({},y):{value:y},bd=y=>h.isString(y)?h.stringValue(y):y.signal?`(${y.signal})`:vb(y),md=(y,M,p,P)=>`(${y}(${[M,p,P].map(tb).join(",")})+'')`,qd=["value","update","init","react","bind"],Fd=hb("key"),kd={code:"_.$value",ast:{type:"Identifier",value:"value"}},Od=y=>(M,p,P)=>new Wa(y,p,M||void 0,P),he=Od("aggregate"),Le=Od("axisticks"),Ie=Od("bound"),Fe=Od("collect"),tf=Od("compare"),df=Od("datajoin"),E=Od("encode"),ca=Od("expression"),Ga=Od("facet"),eb=
Od("field"),Gb=Od("key"),rc=Od("legendentries"),Rb=Od("load"),Sc=Od("mark"),fd=Od("multiextent"),cd=Od("multivalues"),Oc=Od("overlap"),Nd=Od("params"),Md=Od("prefacet"),Ld=Od("projection"),Bd=Od("proxy"),Xd=Od("relay"),Ca=Od("render"),Qa=Od("scale"),ac=Od("sieve"),id=Od("sortitems"),sc=Od("viewlayout"),Mc=Od("values");let Ec=0;const Tc={min:"min",max:"max",count:"sum"},Xc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),ld={name:1,style:1,interactive:1},pd={value:0},oe={value:1},
cf=sb(h.stringValue("left"),h.stringValue("right"),h.stringValue("center")),Me=sb('"top"','"bottom"','"middle"'),Je=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${sb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${cf}`,ef=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Me}) : "top"`;
na.fromEntries=function(y,M){const p=M.length,P=M[p-1],Y=M[p-2];let pa=M[0],va=null,Cb=1;pa&&"load"===pa.type&&(pa=M[1]);for(y.add(M[0]);Cb<p;++Cb)M[Cb].params.pulse=Ha(M[Cb-1]),y.add(M[Cb]),"aggregate"===M[Cb].type&&(va=M[Cb]);return new na(y,pa,Y,P,va)};na.prototype={countsRef(y,M,p){const P=this.counts||(this.counts={}),Y=Ia(M);if(null!=Y){y=this.scope;var pa=P[Y]}pa?p&&p.field&&fb(y,pa.agg.params,p):(pa={groupby:y.fieldRef(M,"key"),pulse:Ha(this.output)},p&&p.field&&fb(y,pa,p),p=y.add(he(pa)),
pa=y.add(Fe({pulse:Ha(p)})),pa={agg:p,ref:Ha(pa)},null!=Y&&(P[Y]=pa));return pa.ref},tuplesRef(){return Ha(this.values)},extentRef(y,M){return R(y,this,"extent","extent",M,!1)},domainRef(y,M){return R(y,this,"domain","values",M,!1)},valuesRef(y,M,p){return R(y,this,"vals","values",M,p||!0)},lookupRef(y,M){return R(y,this,"lookup","tupleindex",M,!1)},indataRef(y,M){return R(y,this,"indata","tupleindex",M,!0,!0)}};const of=(y,M,p)=>{Nb(y)?(y=y.signal,M=de(`${y} === '${"left"}' || ${y} === '${"top"}'`,
M,p)):M="left"===y||"top"===y?M:p;return M},Ke=(y,M,p)=>{Nb(y)?(y=y.signal,M=pe(`${y} === '${"top"}' || ${y} === '${"bottom"}'`,M,p)):M="bottom"===y||"top"===y?M:p;return M},$e=(y,M,p)=>{Nb(y)?(y=y.signal,M=pe(`${y} !== '${"top"}' && ${y} !== '${"bottom"}'`,M,p)):M="bottom"===y||"top"===y?p:M;return M},Ye=(y,M,p)=>Nb(y)?de(`${y.signal} === '${"top"}'`,M,p):"top"===y?{value:M}:{value:p},pe=(y,M,p)=>{M=null!=M?zc(M):M;p=null!=p?zc(p):p;if(null!=M&&1!==Object.keys(M).length||null!=p&&1!==Object.keys(p).length)return[h.extend({test:y},
M)].concat(p||[]);M=M?M.signal||h.stringValue(M.value):null;p=p?p.signal||h.stringValue(p.value):null;return{signal:`${y} ? (${M}) : (${p})`}},de=(y,M,p)=>({signal:`${y} ? (${me(M)}) : (${me(p)})`}),me=y=>Nb(y)?y.signal:null==y?null:h.stringValue(y),te=(y,M)=>{const p=y.signal;return p&&p.endsWith("(null)")?{signal:p.slice(0,-6)+M.signal}:y};jb.prototype=wb.prototype={parse(y){return x(y,this)},fork(){return new wb(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(y){this.operators.push(y);y.id=this.id();y.refs&&(y.refs.forEach(M=>{M.$ref=y.id}),y.refs=null);return y},proxy(y){y=y instanceof Wa?Ha(y):y;return this.add(Bd({value:y}))},addStream(y){this.streams.push(y);y.id=this.id();return y},addUpdate(y){this.updates.push(y);return y},finish(){function y(P,Y,pa){P&&
(P=P.data||(P.data={}),Y=P[Y]||(P[Y]=[]),Y.push(pa))}let M,p;this.root&&(this.root.root=!0);for(M in this.signals)this.signals[M].signal=M;for(M in this.scales)this.scales[M].scale=M;for(M in this.data){p=this.data[M];y(p.input,M,"input");y(p.output,M,"output");y(p.values,M,"values");for(const P in p.index)y(p.index[P],M,"index:"+P)}return this},pushState(y,M,p){this._encode.push(Ha(this.add(ac({pulse:y}))));this._parent.push(M);this._lookup.push(p?Ha(this.proxy(p)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return h.peek(this._parent)},encode(){return h.peek(this._encode)},lookup(){return h.peek(this._lookup)},markpath(){const y=this._markpath;return++y[y.length-1]},fieldRef(y,M){if(h.isString(y))return hb(y,M);y.signal||h.error("Unsupported field reference: "+h.stringValue(y));y=y.signal;var p=this.field[y];p||(p={name:this.signalRef(y)},M&&(p.as=M),this.field[y]=p=Ha(this.add(eb(p))));return p},compareRef(y){let M=
!1;const p=Y=>Nb(Y)?(M=!0,this.signalRef(Y.signal)):Y&&Y.expr?(M=!0,this.exprRef(Y.expr)):Y,P=h.array(y.field).map(p);y=h.array(y.order).map(p);return M?Ha(this.add(tf({fields:P,orders:y}))):{$compare:P,$order:y}},keyRef(y,M){let p=!1;const P=this.signals;y=h.array(y).map(Y=>Nb(Y)?(p=!0,Ha(P[Y.signal])):Y);return p?Ha(this.add(Gb({fields:y,flat:M}))):$a(y,M)},sortRef(y){if(!y)return y;const M=qb(y.op,y.field);y=y.order||"ascending";return y.signal?Ha(this.add(tf({fields:M,orders:this.signalRef(y.signal)}))):
{$compare:M,$order:y}},event(y,M){const p=y+":"+M;if(!this.events[p]){const P=this.id();this.streams.push({id:P,source:y,type:M});this.events[p]=P}return this.events[p]},hasOwnSignal(y){return h.hasOwnProperty(this.signals,y)},addSignal(y,M){this.hasOwnSignal(y)&&h.error("Duplicate signal name: "+h.stringValue(y));M=M instanceof Wa?M:this.add(new Wa("operator",M,void 0,void 0));return this.signals[y]=M},getSignal(y){this.signals[y]||h.error("Unrecognized signal name: "+h.stringValue(y));return this.signals[y]},
signalRef(y){if(this.signals[y])return Ha(this.signals[y]);h.hasOwnProperty(this.lambdas,y)||(this.lambdas[y]=this.add(new Wa("operator",null,void 0,void 0)));return Ha(this.lambdas[y])},parseLambdas(){const y=Object.keys(this.lambdas);for(let p=0,P=y.length;p<P;++p){var M=y[p];const Y=ka.parseExpression(M,this);M=this.lambdas[M];M.params=Y.$params;M.update=Y.$expr}},property(y){return y&&y.signal?this.signalRef(y.signal):y},objectProperty(y){return y&&h.isObject(y)?this.signalRef(y.signal||ec(y)):
y},exprRef(y,M){y={expr:ka.parseExpression(y,this)};M&&(y.expr.$name=M);return Ha(this.add(ca(y)))},addBinding(y,M){this.bindings||h.error("Nested signals do not support binding: "+h.stringValue(y));this.bindings.push(h.extend({signal:y},M))},addScaleProj(y,M){h.hasOwnProperty(this.scales,y)&&h.error("Duplicate scale or projection name: "+h.stringValue(y));this.scales[y]=this.add(M)},addScale(y,M){this.addScaleProj(y,Qa(M))},addProjection(y,M){this.addScaleProj(y,Ld(M))},getScale(y){this.scales[y]||
h.error("Unrecognized scale name: "+h.stringValue(y));return this.scales[y]},scaleRef(y){return Ha(this.getScale(y))},scaleType(y){return this.getScale(y).params.type},projectionRef(y){return this.scaleRef(y)},projectionType(y){return this.scaleType(y)},addData(y,M){h.hasOwnProperty(this.data,y)&&h.error("Duplicate data set name: "+h.stringValue(y));return this.data[y]=M},getData(y){this.data[y]||h.error("Undefined data set name: "+h.stringValue(y));return this.data[y]},addDataPipeline(y,M){h.hasOwnProperty(this.data,
y)&&h.error("Duplicate data set name: "+h.stringValue(y));return this.addData(y,na.fromEntries(this,M))}};t.AxisDomainRole="axis-domain";t.AxisGridRole="axis-grid";t.AxisLabelRole="axis-label";t.AxisRole="axis";t.AxisTickRole="axis-tick";t.AxisTitleRole="axis-title";t.DataScope=na;t.FrameRole="frame";t.LegendEntryRole="legend-entry";t.LegendLabelRole="legend-label";t.LegendRole="legend";t.LegendSymbolRole="legend-symbol";t.LegendTitleRole="legend-title";t.MarkRole="mark";t.Scope=jb;t.ScopeRole="scope";
t.config=Fc;t.parse=function(y,M,p){h.isObject(y)||h.error("Input Vega specification must be an object.");M=h.mergeConfig(Fc(),M,y.config);return I(y,new jb(M,p)).toRuntime()};t.signal=Sa;t.signalUpdates=K;t.stream=ea})};
shadow$provide[54]=function(Db,nb,Dc,Va){function t(Ha){var hb=Object.create(null);Ha&&Object.keys(Ha).forEach(function($a){if("default"!==$a){var qb=Object.getOwnPropertyDescriptor(Ha,$a);Object.defineProperty(hb,$a,qb.get?qb:{enumerable:!0,get:function(){return Ha[$a]}})}});hb.default=Ha;return Object.freeze(hb)}var h=nb(21),ka=nb(29),Ya=nb(31),ub=nb(35),Yb=nb(36),dc=nb(38),Wb=nb(39),oc=nb(40),Ab=nb(42),Tb=nb(43),jc=nb(44);Dc=nb(45);Db=nb(46);var Ea=nb(30),Za=nb(23),tb=nb(28),rb=nb(34),pb=nb(33),
vb=nb(37),gb=nb(51),fc=nb(24),sa=nb(49),ia=nb(53),Ba=nb(50),Sa=nb(47),Wa=nb(52);nb=t(Ya);ub=t(ub);Yb=t(Yb);dc=t(dc);Wb=t(Wb);oc=t(oc);Ab=t(Ab);Tb=t(Tb);jc=t(jc);Dc=t(Dc);Db=t(Db);h.extend(ka.transforms,nb,ub,Yb,dc,Wb,Ab,oc,Tb,jc,Dc,Db);Object.defineProperty(Va,"Dataflow",{enumerable:!0,get:function(){return ka.Dataflow}});Object.defineProperty(Va,"EventStream",{enumerable:!0,get:function(){return ka.EventStream}});Object.defineProperty(Va,"MultiPulse",{enumerable:!0,get:function(){return ka.MultiPulse}});
Object.defineProperty(Va,"Operator",{enumerable:!0,get:function(){return ka.Operator}});Object.defineProperty(Va,"Parameters",{enumerable:!0,get:function(){return ka.Parameters}});Object.defineProperty(Va,"Pulse",{enumerable:!0,get:function(){return ka.Pulse}});Object.defineProperty(Va,"Transform",{enumerable:!0,get:function(){return ka.Transform}});Object.defineProperty(Va,"changeset",{enumerable:!0,get:function(){return ka.changeset}});Object.defineProperty(Va,"definition",{enumerable:!0,get:function(){return ka.definition}});
Object.defineProperty(Va,"ingest",{enumerable:!0,get:function(){return ka.ingest}});Object.defineProperty(Va,"isTuple",{enumerable:!0,get:function(){return ka.isTuple}});Object.defineProperty(Va,"transform",{enumerable:!0,get:function(){return ka.transform}});Object.defineProperty(Va,"transforms",{enumerable:!0,get:function(){return ka.transforms}});Object.defineProperty(Va,"tupleid",{enumerable:!0,get:function(){return ka.tupleid}});Object.defineProperty(Va,"interpolate",{enumerable:!0,get:function(){return pb.interpolate}});
Object.defineProperty(Va,"interpolateColors",{enumerable:!0,get:function(){return pb.interpolateColors}});Object.defineProperty(Va,"interpolateRange",{enumerable:!0,get:function(){return pb.interpolateRange}});Object.defineProperty(Va,"quantizeInterpolator",{enumerable:!0,get:function(){return pb.quantizeInterpolator}});Object.defineProperty(Va,"scale",{enumerable:!0,get:function(){return pb.scale}});Object.defineProperty(Va,"scheme",{enumerable:!0,get:function(){return pb.scheme}});Object.defineProperty(Va,
"projection",{enumerable:!0,get:function(){return vb.projection}});Object.defineProperty(Va,"View",{enumerable:!0,get:function(){return gb.View}});Object.defineProperty(Va,"defaultLocale",{enumerable:!0,get:function(){return fc.defaultLocale}});Object.defineProperty(Va,"formatLocale",{enumerable:!0,get:function(){return fc.numberFormatDefaultLocale}});Object.defineProperty(Va,"locale",{enumerable:!0,get:function(){return fc.locale}});Object.defineProperty(Va,"resetDefaultLocale",{enumerable:!0,get:function(){return fc.resetDefaultLocale}});
Object.defineProperty(Va,"timeFormatLocale",{enumerable:!0,get:function(){return fc.timeFormatDefaultLocale}});Object.defineProperty(Va,"expressionFunction",{enumerable:!0,get:function(){return sa.expressionFunction}});Object.defineProperty(Va,"parse",{enumerable:!0,get:function(){return ia.parse}});Object.defineProperty(Va,"runtimeContext",{enumerable:!0,get:function(){return Ba.context}});Object.defineProperty(Va,"codegenExpression",{enumerable:!0,get:function(){return Sa.codegenExpression}});Object.defineProperty(Va,
"parseExpression",{enumerable:!0,get:function(){return Sa.parseExpression}});Object.defineProperty(Va,"parseSelector",{enumerable:!0,get:function(){return Wa.parseSelector}});Va.version="5.28.0";Object.keys(h).forEach(function(Ha){"default"===Ha||Object.prototype.hasOwnProperty.call(Va,Ha)||Object.defineProperty(Va,Ha,{enumerable:!0,get:function(){return h[Ha]}})});Object.keys(Ea).forEach(function(Ha){"default"===Ha||Object.prototype.hasOwnProperty.call(Va,Ha)||Object.defineProperty(Va,Ha,{enumerable:!0,
get:function(){return Ea[Ha]}})});Object.keys(Za).forEach(function(Ha){"default"===Ha||Object.prototype.hasOwnProperty.call(Va,Ha)||Object.defineProperty(Va,Ha,{enumerable:!0,get:function(){return Za[Ha]}})});Object.keys(tb).forEach(function(Ha){"default"===Ha||Object.prototype.hasOwnProperty.call(Va,Ha)||Object.defineProperty(Va,Ha,{enumerable:!0,get:function(){return tb[Ha]}})});Object.keys(rb).forEach(function(Ha){"default"===Ha||Object.prototype.hasOwnProperty.call(Va,Ha)||Object.defineProperty(Va,
Ha,{enumerable:!0,get:function(){return rb[Ha]}})})};
shadow$provide[55]=function(Db,nb,Dc,Va){(function(t,h){"object"===typeof Va&&"undefined"!==typeof Dc?h(Va,nb(54)):"function"===typeof define&&define.amd?define(["exports","vega"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vegaLite={},t.vega))})(this,function(t,h){function ka(a,b){if(a.not)ka(a.not,b);else if(a.and)for(const e of a.and)ka(e,b);else if(a.or)for(const e of a.or)ka(e,b);else b(a)}function Ya(a,b){return a.not?{not:Ya(a.not,b)}:a.and?{and:a.and.map(e=>Ya(e,b))}:a.or?
{or:a.or.map(e=>Ya(e,b))}:b(a)}function ub(a){throw Error(a);}function Yb(a,b){const e={};for(const f of b)h.hasOwnProperty(a,f)&&(e[f]=a[f]);return e}function dc(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function Wb(a){if(h.isNumber(a))return a;a=h.isString(a)?a:l(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const f=a.charCodeAt(e);b=(b<<5)-b+f;b&=b}return b}function oc(a){return!1===a||null===a}function Ab(a,b){return a.includes(b)}function Tb(a,b){let e=
0;for(const f of a.entries()){const [g,n]=f;if(b(n,g,e++))return!0}return!1}function jc(a,b){let e=0;for(const f of a.entries()){const [g,n]=f;if(!b(n,g,e++))return!1}return!0}function Ea(a){for(var b=arguments.length,e=Array(1<b?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];for(const g of e){let n;b=a;e=null!=(n=g)?n:{};for(const C of ud(e))h.writeConfig(b,C,e[C],!0)}return a}function Za(a,b){const e=[],f={};for(const g of a)a=b(g),a in f||(f[a]=1,e.push(g));return e}function tb(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function rb(a,b){for(const e of a)if(b.has(e))return!0;return!1}function pb(a){const b=new Set;for(const e of a){const f=h.splitAccessPath(e).map((g,n)=>0===n?g:`[${g}]`);a=f.map((g,n)=>f.slice(0,n+1).join(""));for(const g of a)b.add(g)}return b}function vb(a,b){return void 0===a||void 0===b?!0:rb(pb(a),pb(b))}function gb(a){return 0===ud(a).length}function fc(a){return!0===a||!1===a}function sa(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function ia(a,b){return a.not?`!(${ia(a.not,b)})`:a.and?`(${a.and.map(e=>ia(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>ia(e,b)).join(") || (")})`:b(a)}function Ba(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&Ba(a[e],b)&&delete a[e];return gb(a)}function Sa(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Wa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=h.splitAccessPath(a),f=[];for(let g=1;g<=e.length;g++){const n=`[${e.slice(0,
g).map(h.stringValue).join("][")}]`;f.push(`${b}${n}`)}return f.join(" \x26\x26 ")}function Ha(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${h.stringValue(h.splitAccessPath(a).join("."))}]`}function hb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function $a(a){return`${h.splitAccessPath(a).map(hb).join("\\.")}`}function qb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Nb(a){return`${h.splitAccessPath(a).join(".")}`}
function db(a){return a?h.splitAccessPath(a).length:0}function T(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const f of b)if(void 0!==f)return f}function ba(a){const b=++Jk;return a?String(a)+b:b}function ea(a){return ja(a)?a:`__${a}`}function ja(a){return a.startsWith("__")}function Ma(a){if(void 0!==a)return(a%360+360)%360}function oa(a){return h.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function qa(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let f;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(!qa(a[f],b[f]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;for(f of a.entries())if(!qa(f[1],b.get(f[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(a[f]!==b[f])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Ik.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Ik.toString)return a.toString()===b.toString();const g=Object.keys(a);e=g.length;if(e!==Object.keys(b).length)return!1;for(f=e;0!==f--;)if(!Object.prototype.hasOwnProperty.call(b,
g[f]))return!1;for(f=e;0!==f--;)if(e=g[f],!qa(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function l(a){const b=[];return function g(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(void 0!==f){if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var n;if(Array.isArray(f)){var C="[";for(n=0;n<f.length;n++)n&&(C+=","),C+=g(f[n])||"null";return C+"]"}if(null===f)return"null";if(b.includes(f))throw new TypeError("Converting circular structure to JSON");
var O=b.push(f)-1,aa=Object.keys(f).sort();C="";for(n=0;n<aa.length;n++){const ua=aa[n],ab=g(f[ua]);ab&&(C&&(C+=","),C+=JSON.stringify(ua)+":"+ab)}b.splice(O,1);return`{${C}}`}}(a)}function D(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function K(a){return"color"===a||"fill"===a||"stroke"===a}function v(a){return Q(a)!==a}function Q(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return a}function A(a){if(a in bk)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function W(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function G(a){switch(a){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function w(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function z(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function F(a){return a in ck}function V(a){return"width"===a?"x":"y"}function ta(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Cl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ql;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function N(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function la(a){return!!a&&!!a.argmin}function wa(a){return!!a&&!!a.argmax}function Na(a){return h.isString(a)&&!!dk[a]}function Pa(a){return h.isString(a)&&Vl.has(a)}function Xa(a){h.isBoolean(a)&&(a=Se(a,void 0));return"bin"+ud(a).map(b=>Sb(a[b])?sa(`_${b}_${Fi(a[b])}`):sa(`_${b}_${a[b]}`)).join("")}function sb(a){return!0===a||h.isObject(a)&&!a.binned}function ib(a){return"binned"===a||h.isObject(a)&&!0===a.binned}function Sb(a){return null==
a?void 0:a.param}function X(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Fa(a){return!(null==a||!a.expr)}function Kb(a){const b=ud(a||{}),e={};for(const f of b)e[f]=ra(a[f]);return e}function pc(a){var b=Object.assign({},a),e=a.anchor;const f=a.frame,g=a.offset,n=a.orient,C=a.angle,O=a.limit;var aa=a.color,
ua=a.subtitleColor;const ab=a.subtitleFont,ob=a.subtitleFontSize,hc=a.subtitleFontStyle,Pc=a.subtitleFontWeight,lc=a.subtitleLineHeight,Lc=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);aa=Object.assign({},b,aa?{fill:aa}:{});e=Object.assign({},
e?{anchor:e}:{},f?{frame:f}:{},g?{offset:g}:{},n?{orient:n}:{},void 0!==C?{angle:C}:{},void 0!==O?{limit:O}:{});ua=Object.assign({},ua?{subtitleColor:ua}:{},ab?{subtitleFont:ab}:{},ob?{subtitleFontSize:ob}:{},hc?{subtitleFontStyle:hc}:{},Pc?{subtitleFontWeight:Pc}:{},lc?{subtitleLineHeight:lc}:{},Lc?{subtitlePadding:Lc}:{});a=Yb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:aa,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:ua}}function $b(a){return h.isString(a)||h.isArray(a)&&
h.isString(a[0])}function Mb(a){return!(null==a||!a.signal)}function Ob(a){return!!a.step}function yc(a){return h.isArray(a)?!1:"field"in a&&"data"in a}function hd(a){const b=h.isArray(a.condition)?a.condition.map(Bb):Bb(a.condition);return Object.assign({},ra(a),{condition:b})}function ra(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Bb(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},
{signal:a},b)}return a}function Ua(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Mb(a)?a:void 0!==a?{value:a}:void 0}function xb(a){return Mb(a)?a.signal:h.stringValue(a.value)}function Fb(a){return Mb(a)?a.signal:null==a?null:h.stringValue(a)}function Lb(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function Zb(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:g,ignoreVgConfig:n}=f;
if(g&&void 0!==b[g])return b[g];if(void 0!==b[a])return b[a];if(!n||g&&g!==a)return ic(a,b,e,f)}function ic(a,b,e){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return T(f?Ac(a,b,e.style):void 0,Ac(a,b,e.style),f?e[b.type][f]:void 0,e[b.type][a],f?e.mark[f]:e.mark[a])}function Ac(a,b,e){return nd(a,Lb(b),e)}function nd(a,b,e){b=h.array(b);let f;for(const g of b)(b=e[g])&&void 0!==b[a]&&(f=b[a]);return f}function Vc(a,b){return h.array(a).reduce((e,f)=>{e.field.push(Rc(f,
b));let g;e.order.push(null!=(g=f.sort)?g:"ascending");return e},{field:[],order:[]})}function na(a,b){const e=[...a];b.forEach(f=>{for(const g of e)if(qa(g,f))return;e.push(f)});return e}function Ia(a,b){return qa(a,b)||!b?a:a?[...h.array(a),...h.array(b)].join(", "):b}function fb(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if(($b(e)||Mb(e))&&($b(b)||Mb(b)))return{explicit:a.explicit,value:Ia(e,b)};if($b(e)||Mb(e))return{explicit:a.explicit,value:e};
if($b(b)||Mb(b))return{explicit:a.explicit,value:b};if(!($b(e)||Mb(e)||$b(b)||Mb(b)))return{explicit:a.explicit,value:na(e,b)};throw Error("It should never reach here");}function R(a,b,e){a:if("object"===typeof b&&null!==b){var f=b[Symbol.toPrimitive];if(void 0!==f){b=f.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[b]=e;return a}function r(a,b,e){b=da(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function da(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return b.get(a)}function za(a){return`Invalid specification ${l(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Da(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Oa(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function kb(a){return a?`Dropping "fit-${a}" because spec has discrete ${G(a)}.`:'Dropping "fit" because spec has discrete size.'}function Ub(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Eb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Ib(a){return`Selection not supported for ${a} yet.`}function Cc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function Hc(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}function Nc(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function xd(a,b){const {fill:e,stroke:f}=b;return`Dropping color ${a} as the plot also has ${e&&f?"fill and stroke":
e?"fill":"stroke"}.`}function sd(a,b){return`Dropping ${l(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function ed(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function Id(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function Gd(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function vd(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function xe(a,b){return`Invalid ${a}: ${l(b)}.`}function Ed(a){return`1D error band does not support ${a}.`}function x(a){return`Channel ${a} is required for "binned" bin.`}function I(){zi.warn(...arguments)}function xa(){zi.debug(...arguments)}function Ja(a){if(a&&h.isObject(a))for(const b of Xk)if(b in a)return!0;return!1}function jb(a){oa(a)&&(a=+a);if(h.isNumber(a))return a-1;var b=a.toLowerCase();const e=Rh.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Fj.indexOf(b);
if(-1!==b)return b;throw Error(xe("month",a));}function wb(a){oa(a)&&(a=+a);if(h.isNumber(a))return a%7;var b=a.toLowerCase();const e=Zh.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Mk.indexOf(b);if(-1!==b)return b;throw Error(xe("day",a));}function ec(a,b){const e=[];b&&void 0!==a.day&&1<ud(a).length&&(I(`Dropping day from datetime ${l(a)} as day cannot be combined with other units.`),a=Ee(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var f=b?jb(a.month):a.month;
e.push(f)}else if(void 0!==a.quarter){if(b)if(f=a.quarter,oa(f)&&(f=+f),h.isNumber(f))4<f&&I(xe("quarter",f)),--f;else throw Error(xe("quarter",f));else f=a.quarter;e.push(h.isNumber(f)?3*f:`${f}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?wb(a.day):a.day,e.push(h.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const g of["hours","minutes","seconds","milliseconds"])b=a[g],e.push("undefined"===typeof b?0:b);return e}function Qb(a){const b=ec(a,!0).join(", ");return a.utc?`utc(${b})`:
`datetime(${b})`}function qc(a){const b=ec(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function Fc(a){return h.isObject(a)?a.binned:a&&a.startsWith("binned")}function zc(a){return Xk.filter(b=>md(a,b))}function bd(a){a=zc(a);return a[a.length-1]}function md(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function qd(a,b){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=Wa(b),g=a.startsWith("utc")?"utc":"";const n={};for(const O of Xk)if(md(a,O)){var C="quarter"===O?`(${g}quarter(${f})-1)`:`${g}${O}(${f})`;n[O]=C;C=O}e&&(n[C]+="+1");e=ec(n,!1).join(", ");return n.utc?`utc(${e})`:`datetime(${e})`}function Fd(a){if(a)return a=zc(a),`timeUnitSpecifier(${l(a)}, ${l(Sk)})`}function kd(a){if(a){var b;h.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:h.isObject(a)&&(b=Object.assign({},a,a.unit?
{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function Od(a){var b=kd(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+ud(e).map(f=>sa(`${"unit"===f?"":`_${f}_`}${e[f]}`)).join(""):(b?"utc":"")+"timeunit"+ud(e).map(f=>sa(`_${f}_${e[f]}`)).join("")}function he(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g=>g;var e=kd(a);const f=bd(e.unit);if(f&&"day"!==f){const g={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:n,part:C}=Le(f,e.step);e=Object.assign({},g,{[C]:+g[C]+n});return`${b(Qb(e))} - ${b(Qb(g))}`}}function Le(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(jj[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function Ie(a){return!(null==a||!a.field)&&void 0!==a.equal}function Fe(a){return!(null==a||!a.field)&&void 0!==
a.lt}function tf(a){return!(null==a||!a.field)&&void 0!==a.lte}function df(a){return!(null==a||!a.field)&&void 0!==a.gt}function E(a){return!(null==a||!a.field)&&void 0!==a.gte}function ca(a){if(null==a?0:a.field)if(h.isArray(a.range)&&2===a.range.length||Mb(a.range))return!0;return!1}function Ga(a){return!(null==a||!a.field)&&(h.isArray(a.oneOf)||h.isArray(a.in))}function eb(a){return Ga(a)||Ie(a)||ca(a)||Fe(a)||df(a)||tf(a)||E(a)}function Gb(a,b){return Oe(a,{timeUnit:b,wrapTime:!0})}function rc(a,
b){return a.map(e=>Gb(e,b))}function Rb(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,f=kd(a.timeUnit);const {unit:g,binned:n}=f||{};f=Rc(a,{expr:"datum"});e=g?`time(${n?f:qd(g,e)})`:f;if(Ie(a))return`${e}===${Gb(a.equal,g)}`;if(Fe(a))return`${e}<${Gb(a.lt,g)}`;if(df(a))return`${e}>${Gb(a.gt,g)}`;if(tf(a))return`${e}<=${Gb(a.lte,g)}`;if(E(a))return`${e}>=${Gb(a.gte,g)}`;if(Ga(a))return`indexof([${rc(a.oneOf,g).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return Sc(e,a.valid);if(ca(a)){var {range:C}=a;f=Mb(C)?{signal:`${C.signal}[0]`}:C[0];C=Mb(C)?{signal:`${C.signal}[1]`}:C[1];if(null!==f&&null!==C&&b)return"inrange("+e+", ["+Gb(f,g)+", "+Gb(C,g)+"])";b=[];null!==f&&b.push(`${e} >= ${Gb(f,g)}`);null!==C&&b.push(`${e} <= ${Gb(C,g)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${l(a)}`);}function Sc(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function fd(a){return eb(a)&&a.timeUnit?Object.assign({},a,{timeUnit:kd(a.timeUnit)}):a}function cd(a){return"quantitative"===a||"temporal"===a}function Oc(a){return"ordinal"===a||"nominal"===a}function Nd(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Md(a){return kj.has(a)}
function Ld(a){return Tk.has(a)}function Bd(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return pg.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return pg.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return pg.has(a);case "nice":return pg.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Ld(a)&&!Ab(["log","time","utc","threshold","quantile"],a)}}function Xd(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!K(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function Ca(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Nh[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return pg.has(b)||"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return pg.has(b)||$h.has(b)||Ab(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||$h.has(b)}}
function Qa(a){return["line","area","trail"].includes(a)}function ac(a){return["rect","bar","image","arc"].includes(a)}function id(a){return a.type}function sc(a){return a&&void 0!=a.band}function Mc(a){const {channel:b,channelDef:e,markDef:f,scale:g,config:n}=a;a=ld(a);if(va(e)&&!Pa(e.aggregate)&&g&&pg.has(g.get("type"))){{let {fieldDef:O,channel:aa,markDef:ua,ref:ab,config:ob}={fieldDef:e,channel:b,markDef:f,ref:a,config:n};if(Qa(ua.type))a=ab;else if(null===Zb("invalid",ua,ob)){var C=aa;a=Ec(O,
!0);C="y"===Q(C)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},C),ab]}else a=ab}return a}return a}function Ec(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Sc(h.isString(a)?a:Rc(a,{expr:"datum"}),!b)}function Tc(a,b,e,f){const g={};b&&(g.scale=b);Hb(a)?({datum:a}=a,Ja(a)?g.signal=Qb(a):Mb(a)?g.signal=a.signal:Fa(a)?g.signal=a.expr:g.value=a):g.field=Rc(a,e);if(f){const {offset:n,band:C}=f;n&&(g.offset=n);C&&(g.band=C)}return g}function Xc(a){let {scaleName:b,
fieldOrDatumDef:e,fieldOrDatumDef2:f,offset:g,startSuffix:n,endSuffix:C="end",bandPosition:O=.5}=a;var aa=!Mb(O)&&0<O&&1>O?"datum":void 0;a=Rc(e,{expr:aa,suffix:n});const ua=void 0!==f?Rc(f,{expr:aa}):Rc(e,{suffix:C,expr:aa});aa={};0===O||1===O?(aa.scale=b,aa.field=0===O?a:ua):(a=Mb(O)?`(1-${O.signal}) * ${a} + ${O.signal} * ${ua}`:`${1-O} * ${a} + ${O} * ${ua}`,aa.signal=`scale("${b}", ${a})`);g&&(aa.offset=g);return aa}function ld(a){let {channel:b,channelDef:e,channel2Def:f,markDef:g,config:n,
scaleName:C,scale:O,stack:aa,offset:ua,defaultRef:ab,bandPosition:ob}=a;if(e){if(tc(e)){a=null==O?void 0:O.get("type");if(wc(e)){null!=ob||(ob=y({fieldDef:e,fieldDef2:f,markDef:g,config:n}));const {bin:lc,timeUnit:Lc,type:dd}=e;if(sb(lc)||ob&&Lc&&"temporal"===dd)return(null==aa?0:aa.impute)?Tc(e,C,{binSuffix:"mid"},{offset:ua}):ob&&!Md(a)?Xc({scaleName:C,fieldOrDatumDef:e,bandPosition:ob,offset:ua}):Tc(e,C,pf(e,b)?{binSuffix:"range"}:{},{offset:ua});if(ib(lc)){if(va(f))return Xc({scaleName:C,fieldOrDatumDef:e,
fieldOrDatumDef2:f,bandPosition:ob,offset:ua});I(x("x"===b?"x2":"y2"))}}var hc;let Pc;return Tc(e,C,Md(a)?{binSuffix:"range"}:{},{offset:ua,band:"band"===a?null!=(Pc=null!=(hc=ob)?hc:e.bandPosition)?Pc:.5:void 0})}if(Ic(e))return hc=ua?{offset:ua}:{},Object.assign({},pd(b,e.value),hc)}h.isFunction(ab)&&(ab=ab());return ab?Object.assign({},ab,ua?{offset:ua}:{}):ab}function pd(a,b){return Ab(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:Ab(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:Ua(b)}
function oe(a){return a&&"number"!==a&&"time"!==a}function cf(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:n,config:C}=a;if(oe(f))return Je({fieldOrDatumDef:b,format:e,formatType:f,expr:g,config:C});a=Me(b,g,n);var O=Cb(b);if(void 0===e&&void 0===f&&C.customFormatTypes){if("quantitative"===O){if(n&&C.normalizedNumberFormatType)return Je({fieldOrDatumDef:b,format:C.normalizedNumberFormat,formatType:C.normalizedNumberFormatType,expr:g,config:C});if(C.numberFormatType)return Je({fieldOrDatumDef:b,
format:C.numberFormat,formatType:C.numberFormatType,expr:g,config:C})}if("temporal"===O&&C.timeFormatType&&va(b)&&void 0===b.timeUnit)return Je({fieldOrDatumDef:b,format:C.timeFormat,formatType:C.timeFormatType,expr:g,config:C})}if(td(b)){var aa,ua;{a={field:a,timeUnit:va(b)?null==(aa=kd(b.timeUnit))?void 0:aa.unit:void 0,format:e,formatType:C.timeFormatType,rawTimeFormat:C.timeFormat,isUTCScale:Zc(b)&&(null==(ua=b.scale)?void 0:ua.type)===kg.UTC};let {field:ab,timeUnit:ob,format:hc,formatType:Pc,
rawTimeFormat:lc,isUTCScale:Lc}=a;!ob||hc?!ob&&Pc?aa=`${Pc}(${ab}, '${hc}')`:(hc=h.isString(hc)?hc:lc,aa=`${Lc?"utc":"time"}Format(${ab}, '${hc}')`):(aa=ob,ua=ab,a=Lc,aa?(O=Fd(aa),aa=`${a||aa.startsWith("utc")?"utc":"time"}Format(${ua}, ${O})`):aa=void 0)}return aa?{signal:aa}:void 0}e=Ke({type:O,specifiedFormat:e,config:C,normalizeStack:n});return va(b)&&sb(b.bin)?(aa=Rc(b,{expr:g,binSuffix:"end"}),{signal:Ye(a,aa,e,f,C)}):e||"quantitative"===Cb(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}
function Me(a,b,e){if(va(a))return e?`${Rc(a,{expr:b,suffix:"end"})}-${Rc(a,{expr:b,suffix:"start"})}`:Rc(a,{expr:b});({datum:a}=a);a=Ja(a)?Qb(a):`${l(a)}`;return a}function Je(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:n,config:C,field:O}=a;null!=O||(O=Me(b,g,n));return"datum.value"!==O&&va(b)&&sb(b.bin)?(a=Rc(b,{expr:g,binSuffix:"end"}),{signal:Ye(O,a,e,f,C)}):{signal:`${f}(${O}${e?`, ${l(e)}`:""})`}}function ef(a,b,e,f,g,n){if(!h.isString(f)||!oe(f))if(void 0!==e||void 0!==
f||!g.customFormatTypes||"quantitative"!==Cb(a)||!(g.normalizedNumberFormatType&&Yc(a)&&"normalize"===a.stack||g.numberFormatType)){if(Yc(a)&&"normalize"===a.stack&&g.normalizedNumberFormat)return Ke({type:"quantitative",config:g,normalizeStack:!0});if(td(a)){let C;a=va(a)?null==(C=kd(a.timeUnit))?void 0:C.unit:void 0;if(void 0===a&&g.customFormatTypes&&g.timeFormatType)return;{let {specifiedFormat:O,timeUnit:aa,config:ua,omitTimeFormatConfig:ab}={specifiedFormat:e,timeUnit:a,config:g,omitTimeFormatConfig:n};
e=O?O:aa?{signal:Fd(aa)}:ab?void 0:ua.timeFormat}return e}return Ke({type:b,specifiedFormat:e,config:g})}}function of(a,b,e){if(a&&(Mb(a)||"number"===a||"time"===a))return a;if(td(b)&&"time"!==e&&"utc"!==e){let f;return va(b)&&(null==(f=kd(null==b?void 0:b.timeUnit))?0:f.utc)?"utc":"time"}}function Ke(a){let {type:b,specifiedFormat:e,config:f,normalizeStack:g}=a;if(h.isString(e))return e;if("quantitative"===b)return g?f.normalizedNumberFormat:f.numberFormat}function $e(a,b,e,f){if(oe(e))return`${e}(${a}${b?
`, ${l(b)}`:""})`;let g;b=null!=(g=h.isString(b)?b:void 0)?g:f.numberFormat;return`format(${a}, "${b||""}")`}function Ye(a,b,e,f,g){if(void 0===e&&void 0===f&&g.customFormatTypes&&g.numberFormatType)return Ye(a,b,g.numberFormat,g.numberFormatType,g);const n=$e(a,e,f,g);b=$e(b,e,f,g);return`${Sc(a,!1)} ? "null" : ${n} + "${" – "}" + ${b}`}function pe(a){return a&&("count"===a.op||!!a.field)}function de(a){return a&&h.isArray(a)}function me(a){return"row"in a||"column"in a}function te(a){const {field:b,
timeUnit:e,bin:f,aggregate:g}=a;return Object.assign({},e?{timeUnit:e}:{},f?{bin:f}:{},g?{aggregate:g}:{},{field:b})}function y(a){let {fieldDef:b,fieldDef2:e,markDef:f,config:g}=a;if(tc(b)&&void 0!==b.bandPosition)return b.bandPosition;if(va(b)){const {timeUnit:n,bin:C}=b;if(n&&!e)return ic("timeUnitBandPosition",f,g);if(sb(C))return.5}}function M(a){let {channel:b,fieldDef:e,fieldDef2:f,markDef:g,config:n,scaleType:C,useVlSizeChannel:O}=a;a=G(b);a=Zb(O?"size":a,g,n,{vgChannel:a});if(void 0!==a)return a;
if(va(e)){const {timeUnit:aa,bin:ua}=e;if(aa&&!f)return{band:ic("timeUnitBandSize",g,n)};if(sb(ua)&&!Md(C))return{band:1}}if(ac(g.type)){if(C){if(Md(C)){let ab;return(null==(ab=n[g.type])?void 0:ab.discreteBandSize)||{band:1}}let ua;return null==(ua=n[g.type])?void 0:ua.continuousBandSize}let aa;return null==(aa=n[g.type])?void 0:aa.discreteBandSize}}function p(a,b,e,f){return sb(a.bin)||a.timeUnit&&wc(a)&&"temporal"===a.type?void 0!==y({fieldDef:a,fieldDef2:b,markDef:e,config:f}):!1}function P(a){return a&&
"condition"in a}function Y(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&va(a)}function pa(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&tc(a)}function va(a){return a&&(!!a.field||"count"===a.aggregate)}function Cb(a){return null==a?void 0:a.type}function Hb(a){return a&&"datum"in a}function Xb(a){return wc(a)&&!Ud(a)||nc(a)}function cc(a){return wc(a)&&"quantitative"===a.type&&!a.bin||nc(a)}function nc(a){return Hb(a)&&h.isNumber(a.datum)}function tc(a){return va(a)||Hb(a)}
function wc(a){return a&&("field"in a||"count"===a.aggregate)&&"type"in a}function Ic(a){return a&&"value"in a&&"value"in a}function Zc(a){return a&&("scale"in a||"sort"in a)}function Yc(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function jd(a){return a&&("format"in a||"formatType"in a)}function Sd(a){return dc(a,["legend","axis","header","scale"])}function Rc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const f=b.prefix;let g=b.suffix,n="";if("count"===a.aggregate)e=
ea("count");else{let C;if(!b.nofn)if("op"in a)C=a.op;else{const {bin:O,aggregate:aa,timeUnit:ua}=a;if(sb(O)){C=Xa(O);let ab,ob;g=(null!=(ab=b.binSuffix)?ab:"")+(null!=(ob=b.suffix)?ob:"")}else if(aa)wa(aa)?(n=`["${e}"]`,e=`argmax_${aa.argmax}`):la(aa)?(n=`["${e}"]`,e=`argmin_${aa.argmin}`):C=String(aa);else if(ua&&!Fc(ua)){C=Od(ua);let ab;g=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(ab=b.suffix)?ab:"")}}C&&(e=e?`${C}_${e}`:C)}g&&(e=`${e}_${g}`);f&&(e=`${f}_${e}`);return b.forAs?
Nb(e):b.expr?Ha(e,b.expr)+n:$a(e)+n}function Ud(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return va(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function ue(a,b){const {field:e,bin:f,timeUnit:g,aggregate:n}=a;if("count"===n)return b.countTitle;if(sb(f))return`${e} (binned)`;if(g&&!Fc(g)){let C;if(a=null==(C=kd(g))?void 0:C.unit)return`${e} (${zc(a).join("-")})`}else if(n)return wa(n)?`${e} for max ${n.argmax}`:
la(n)?`${e} for min ${n.argmin}`:`${Sa(n)} of ${e}`;return e}function $c(a,b,e){let {allowDisabling:f,includeDefault:g=!0}=e,n;e=null==(n=Ad(a))?void 0:n.title;if(!va(a))return null!=e?e:a.title;b=g?Hf(a,b):void 0;if(f)return T(e,a.title,b);let C;return null!=(C=null!=e?e:a.title)?C:b}function Ad(a){if(Yc(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function Yd(a){if(jd(a)){const {format:g,formatType:n}=a;return{format:g,formatType:n}}let b;
a=null!=(b=Ad(a))?b:{};const {format:e,formatType:f}=a;return{format:e,formatType:f}}function $d(a,b){switch(b){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&h.isArray(a.sort))return"ordinal";const {aggregate:e,bin:f,timeUnit:g}=a;if(g)return"temporal";if(f||e&&!wa(e)&&!la(e))return"quantitative";let n;if(Zc(a)&&(null==(n=a.scale)?0:n.type))switch(Fg[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function ye(a){if(va(a))return a;if(Y(a))return a.condition}function Rd(a){if(tc(a))return a;if(pa(a))return a.condition}function Vd(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return h.isString(a)||h.isNumber(a)||h.isBoolean(a)?(f=h.isString(a)?"string":h.isNumber(a)?"number":"boolean",I(`Channel ${b} is a ${f}. Converted to {value: ${l(a)}}.`),{value:a}):tc(a)?ve(a,b,e,f):pa(a)?Object.assign({},a,{condition:ve(a.condition,b,
e,f)}):a}function ve(a,b,e,f){if(jd(a)){var g=Object.assign({},a),n=a.formatType;g=(delete g.format,delete g.formatType,g);if(oe(n)&&!e.customFormatTypes)return I(Nc(b)),ve(g,b,e,f)}else if((n=Yc(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[n]){var C=a[n];g=Object.assign({},C);C=C.formatType;g=(delete g.format,delete g.formatType,g);if(oe(C)&&!e.customFormatTypes)return I(Nc(b)),ve(Object.assign({},a,{[n]:g}),b,e,f)}if(va(a))return Ne(a,b,f);b=a.type;b||({datum:b}=a,b=h.isNumber(b)?
"quantitative":h.isString(b)?"nominal":Ja(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function Ne(a,b){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:g,bin:n,field:C}=a,O=Object.assign({},a);e||!f||Na(f)||wa(f)||la(f)||(I(`Invalid aggregation operator "${f}".`),delete O.aggregate);g&&(O.timeUnit=kd(g));C&&(O.field=`${C}`);sb(n)&&(O.bin=Se(n,b));ib(n)&&!F(b)&&I(`Channel ${b} should not be used with "binned" bin.`);if(wc(O)){({type:e}=
O);var aa=Nd(e);e!==aa&&(O.type=aa);"quantitative"!==e&&Pa(f)&&(I(`Invalid field type "${e}" for aggregate: "${f}", using "quantitative" instead.`),O.type="quantitative")}else v(b)||(e=$d(O,b),O.type=e);if(wc(O)){const {compatible:ab,warning:ob}=Sf(O,b)||{};!1===ab&&I(ob)}if("sort"in O&&h.isString(O.sort)){({sort:e}=O);if(e in qj)return Object.assign({},O,{sort:{encoding:e}});aa=e.substr(1);if("-"===e.charAt(0)&&aa in qj)return Object.assign({},O,{sort:{encoding:aa,order:"descending"}})}if(O&&"header"in
O&&({header:e}=O,e)){var ua=e;aa=Object.assign({},ua);ua=ua.orient;aa=(delete aa.orient,aa);if(ua)return Object.assign({},O,{header:Object.assign({},aa,{labelOrient:e.labelOrient||ua,titleOrient:e.titleOrient||ua})})}return O}function Se(a,b){return h.isBoolean(a)?{maxbins:X(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:X(b)})}function Sf(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};
switch(b){case "row":case "column":case "facet":return Ud(a)?Hi:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Hi;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:
Hi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?Hi:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!Ud(a)){let f;e=!(Zc(a)&&$h.has(null==(f=a.scale)?void 0:f.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Hi;case "order":return"nominal"!==a.type||"sort"in a?Hi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function td(a){var {formatType:b}=Yd(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||va(a)&&!!a.timeUnit);e=b}return e}function Oe(a,b){let {timeUnit:e,type:f,wrapTime:g,undefinedIfExprNotRequired:n}=b;var C=(b=e&&(null==(C=kd(e))?void 0:C.unit))||"temporal"===f;let O;Fa(a)?O=a.expr:Mb(a)?O=a.signal:Ja(a)?(C=!0,O=Qb(a)):(h.isString(a)||
h.isNumber(a))&&C&&(O=`datetime(${l(a)})`,xl[b]&&(h.isNumber(a)&&1E4>a||h.isString(a)&&isNaN(Date.parse(a)))&&(O=Qb({[b]:a})));return O?g&&C?`time(${O})`:O:n?void 0:l(a)}function Df(a,b){const {type:e}=a;return b.map(f=>{var g=va(a)&&!Fc(a.timeUnit)?a.timeUnit:void 0;g=Oe(f,{timeUnit:g,type:e,undefinedIfExprNotRequired:!0});return void 0!==g?{signal:g}:f})}function pf(a,b){return sb(a.bin)?!!Nh[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function lg(a){return null==a?void 0:a.condition}function Kf(a){return"mark"in a}function Ze(a,b){return(a=a&&a[b])?h.isArray(a)?Tb(a,e=>!!e.field):va(a)||Y(a):!1}function Tf(a,b){return(a=a&&a[b])?h.isArray(a)?Tb(a,e=>!!e.field):va(a)||Hb(a)||pa(a):!1}function qf(a,b){if(F(b)){const e=a[b];if((va(e)||Hb(e))&&(Oc(e.type)||va(e)&&e.timeUnit))return b=z(b),Tf(a,b)}return!1}function vf(a){return Tb(Bl,b=>Ze(a,b)?(b=a[b],h.isArray(b)?Tb(b,e=>!!e.aggregate):(b=ye(b))&&!!b.aggregate):!1)}function Ff(a,
b){const e=[],f=[],g=[],n=[],C={};Gg(a,(O,aa)=>{if(va(O)){var ua=Object.assign({},O),ab=O.field;const hc=O.aggregate,Pc=O.bin,lc=O.timeUnit;ua=(delete ua.field,delete ua.aggregate,delete ua.bin,delete ua.timeUnit,ua);if(hc||lc||Pc){var ob;const Lc=null==(ob=Ad(O))?void 0:ob.title;ob=Rc(O,{forAs:!0});ua=Object.assign({},Lc?[]:{title:$c(O,b,{allowDisabling:!0})},ua,{field:ob});if(hc){let dd;wa(hc)?(dd="argmax",ob=Rc({op:"argmax",field:hc.argmax},{forAs:!0}),ua.field=`${ob}.${ab}`):la(hc)?(dd="argmin",
ob=Rc({op:"argmin",field:hc.argmin},{forAs:!0}),ua.field=`${ob}.${ab}`):"boxplot"!==hc&&"errorbar"!==hc&&"errorband"!==hc&&(dd=hc);dd&&(O={op:dd,as:ob},ab&&(O.field=ab),n.push(O))}else e.push(ob),wc(O)&&sb(Pc)?(f.push({bin:Pc,field:ab,as:ob}),e.push(Rc(O,{binSuffix:"end"})),pf(O,aa)&&e.push(Rc(O,{binSuffix:"range"})),F(aa)&&(C[`${aa}2`]={field:`${ob}_end`}),ua.bin="binned",v(aa)||(ua.type="quantitative")):lc&&!Fc(lc)&&(g.push({timeUnit:lc,field:ab,as:ob}),(ab=wc(O)&&"temporal"!==O.type&&"time")&&
("text"===aa||"tooltip"===aa?ua.formatType=ab:Ei[aa]?ua.legend=Object.assign({},{formatType:ab},ua.legend):F(aa)&&(ua.axis=Object.assign({},{formatType:ab},ua.axis))));C[aa]=ua}else e.push(ab),C[aa]=a[aa]}else C[aa]=a[aa]});return{bins:f,timeUnits:g,aggregate:n,groupby:e,encoding:C}}function jf(a,b,e){e=ta(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],va(e)&&va(a[b])&&ib(e.bin)))?!0:!1}function gg(a,b,e,f){const g={};for(var n of ud(a))xj[n]||I(`${n}-encoding is dropped as ${n} is not a valid encoding channel.`);
for(let O of Ej)if(a[O]){n=a[O];if(O in Ti){a:{switch(O){case "xOffset":var C="x";break a;case "yOffset":C="y";break a}C=void 0}const aa=g[C];if(va(aa)&&cd(aa.type)&&va(n)&&!aa.timeUnit){I(`${C}Offset dropped because ${C} is continuous`);continue}}"angle"!==O||"arc"!==b||a.theta||(I("Arc marks uses theta channel rather than angle, replacing angle with theta."),O="theta");if(jf(a,O,b)){if("size"===O&&"line"===b){let aa;if(null==(aa=ye(a[O]))?0:aa.aggregate){I("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===O&&(e?"fill"in a:"stroke"in a))I(xd("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===O||"order"===O&&!h.isArray(n)&&!Ic(n)||"tooltip"===O&&h.isArray(n)){if(n){if("order"===O&&(C=a[O])&&C.sort&&!C.field){g[O]=C;continue}g[O]=h.array(n).reduce((aa,ua)=>{va(ua)?aa.push(Ne(ua,O)):I(sd(ua,O));return aa},[])}}else{if("tooltip"===O&&null===n)g[O]=null;else if(!(va(n)||Hb(n)||Ic(n)||P(n)||Mb(n))){I(sd(n,O));continue}g[O]=Vd(n,O,f)}}else I(ed(O,b))}return g}function Af(a,
b){const e={};for(const f of ud(a)){const g=Vd(a[f],f,b,{compositeMark:!0});e[f]=g}return e}function vh(a){const b=[];for(const e of ud(a))if(Ze(a,e)){const f=h.array(a[e]);for(const g of f)va(g)?b.push(g):Y(g)&&b.push(g.condition)}return b}function Gg(a,b,e){if(a)for(const f of ud(a)){const g=a[f];if(h.isArray(g))for(const n of g)b.call(e,n,f);else b.call(e,g,f)}}function Cg(a,b,e,f){return a?ud(a).reduce((g,n)=>{const C=a[n];return h.isArray(C)?C.reduce((O,aa)=>b.call(f,O,aa,n),g):b.call(f,g,C,
n)},e):e}function Dg(a,b){return ud(b).reduce((e,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":f=b[f];if(h.isArray(f)||va(f))for(var g of h.array(f))g.aggregate||
e.push(Rc(g,{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(g=ye(b[f]))&&!g.aggregate&&e.push(Rc(g,{})),e}},[])}function U(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const g=a.map(C=>{let {fieldPrefix:O,titlePrefix:aa}=C;C=f?` of ${Ka(b)}`:"";return{field:O+b.field,type:b.type,title:Mb(aa)?
{signal:`${aa}"${escape(C)}"`}:aa+C}}),n=vh(e).map(Sd);return{tooltip:[...g,...Za(n,Wb)]}}function Ka(a){const {title:b,field:e}=a;return T(b,e)}function lb(a,b,e,f,g){const {scale:n,axis:C}=e;return O=>{let {partName:aa,mark:ua,positionPrefix:ab,endPositionPrefix:ob,extraEncoding:hc={}}=O;O=Ka(e);return Jc(a,aa,g,{mark:ua,encoding:Object.assign({},{[b]:Object.assign({},{field:`${ab}_${e.field}`,type:e.type},void 0!==O?{title:O}:{},void 0!==n?{scale:n}:{},void 0!==C?{axis:C}:{})},h.isString(ob)?{[`${b}2`]:{field:`${ob}_${e.field}`}}:
{},f,hc)})}}function Jc(a,b,e,f){const {clip:g,color:n,opacity:C}=a,O=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},f,{mark:Object.assign({},e[b],g?{clip:g}:{},n?{color:n}:{},C?{opacity:C}:{},id(f.mark)?f.mark:{type:f.mark},{style:`${O}-${String(b)}`},h.isBoolean(a[b])?{}:a[b])})]:[]}function Kc(a,b,e){({encoding:a}=a);b="vertical"===b?"y":"x";const f=a[`${b}2`],g=a[`${b}Error`],n=a[`${b}Error2`];return{continuousAxisChannelDef:Pd(a[b],e),continuousAxisChannelDef2:Pd(f,e),continuousAxisChannelDefError:Pd(g,
e),continuousAxisChannelDefError2:Pd(n,e),continuousAxis:b}}function Pd(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&I(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function se(a,b){const {mark:e,encoding:f}=a,{x:g,y:n}=f;if(id(e)&&e.orient)return e.orient;if(Xb(g)){if(Xb(n)){a=va(g)&&g.aggregate;const C=va(n)&&n.aggregate;if(!a&&C===b)return"vertical";if(C||a!==
b){if(a===b&&C===b)throw Error("Both x and y cannot have aggregate");return td(n)&&!td(g)?"horizontal":"vertical"}}return"horizontal"}if(Xb(n))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Ve(a){return h.isNumber(a)?"tukey":a}function Be(a,b){var {config:e}=b,f=a=Object.assign({},a,{encoding:Af(a.encoding,e)});b=Object.assign({},f);var g=f.mark;f=f.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);g=id(g)?g:{type:g};f&&I(Ib("boxplot"));
var n;f=null!=(n=g.extent)?n:e.boxplot.extent;var C=Zb("size",g,e),O=g.invalid;n=Ve(f);var aa=a;a=se(aa,"boxplot");const {continuousAxisChannelDef:ua,continuousAxis:ab}=Kc(aa,a,"boxplot");var ob=ua.field,hc=Ve(f),Pc=[...Uf(ob),{op:"median",field:ob,as:`mid_box_${ob}`},{op:"min",field:ob,as:("min-max"===hc?"lower_whisker_":"min_")+ob},{op:"max",field:ob,as:("min-max"===hc?"upper_whisker_":"max_")+ob}];ob="min-max"===hc||"tukey"===hc?[]:[{calculate:`datum["upper_box_${ob}"] - datum["lower_box_${ob}"]`,
as:`iqr_${ob}`},{calculate:`min(datum["upper_box_${ob}"] + datum["iqr_${ob}"] * ${f}, datum["max_${ob}"])`,as:`upper_whisker_${ob}`},{calculate:`max(datum["lower_box_${ob}"] - datum["iqr_${ob}"] * ${f}, datum["min_${ob}"])`,as:`lower_whisker_${ob}`}];aa=Object.assign({},aa.encoding);var lc;hc=(delete aa[ab],aa);aa=Object.assign({},hc);hc=hc.tooltip;aa=(delete aa.tooltip,aa);if(hc){var Lc;if(h.isArray(hc)){for(var dd of hc)dd.aggregate?(lc||(lc=[]),lc.push(dd)):(Lc||(Lc=[]),Lc.push(dd));lc&&(aa.tooltip=
lc)}else hc.aggregate?aa.tooltip=hc:Lc=hc;h.isArray(Lc)&&1===Lc.length&&(Lc=Lc[0]);lc={customTooltipWithoutAggregatedField:Lc,filteredEncoding:aa}}else lc={filteredEncoding:aa};const {customTooltipWithoutAggregatedField:gd,filteredEncoding:ke}=lc,{bins:be,timeUnits:Ce,aggregate:Qe,groupby:Nf,encoding:ag}=Ff(ke,e);lc=[...be,...Ce,{aggregate:[...Qe,...Pc],groupby:Nf},...ob];const {bins:Kg,timeUnits:af,transform:dg,continuousAxisChannelDef:bf,continuousAxis:Ch,groupby:hl,aggregate:Fm,encodingWithoutContinuousAxis:Bk,
ticksOrient:xm,boxOrient:Gm,customTooltipWithoutAggregatedField:ym}={bins:be,timeUnits:Ce,transform:lc,groupby:Nf,aggregate:Qe,continuousAxisChannelDef:ua,continuousAxis:ab,encodingWithoutContinuousAxis:ag,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:gd};Lc=Object.assign({},Bk);lc=Bk.color;Pc=Bk.size;Lc=(delete Lc.color,delete Lc.size,Lc);dd=lb(g,Ch,bf,Lc,e.boxplot);a=lb(g,Ch,bf,Bk,e.boxplot);Pc=lb(g,Ch,bf,Object.assign({},Lc,Pc?{size:Pc}:{}),
e.boxplot);ob=U([{fieldPrefix:"min-max"===n?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===n?"lower_whisker_":"min_",titlePrefix:"Min"}],bf,Bk);aa={type:"tick",color:"black",opacity:1,orient:xm,invalid:O,aria:!1};hc="min-max"===n?ob:U([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
bf,Bk);dd=[...dd({partName:"rule",mark:{type:"rule",invalid:O,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:hc}),...dd({partName:"rule",mark:{type:"rule",invalid:O,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:hc}),...dd({partName:"ticks",mark:aa,positionPrefix:"lower_whisker",extraEncoding:hc}),...dd({partName:"ticks",mark:aa,positionPrefix:"upper_whisker",extraEncoding:hc})];C=[...("tukey"!==n?dd:[]),...a({partName:"box",
mark:Object.assign({},{type:"bar"},C?{size:C}:{},{orient:Gm,invalid:O,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:ob}),...Pc({partName:"median",mark:Object.assign({},{type:"tick",invalid:O},h.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},C?{size:C}:{},{orient:xm,aria:!1}),positionPrefix:"mid_box",extraEncoding:ob})];if("min-max"===n){var zj;return Object.assign({},b,{transform:(null!=(zj=b.transform)?zj:
[]).concat(dg),layer:C})}zj=`datum["lower_box_${bf.field}"]`;n=`datum["upper_box_${bf.field}"]`;O=`(${n} - ${zj})`;zj=`${zj} - ${f} * ${O}`;O=`${n} + ${f} * ${O}`;a=`datum["${bf.field}"]`;f={joinaggregate:Uf(bf.field),groupby:hl};n={transform:[{filter:`(${zj} <= ${a}) && (${a} <= ${O})`},{aggregate:[{op:"min",field:bf.field,as:`lower_whisker_${bf.field}`},{op:"max",field:bf.field,as:`upper_whisker_${bf.field}`},{op:"min",field:`lower_box_${bf.field}`,as:`lower_box_${bf.field}`},{op:"max",field:`upper_box_${bf.field}`,
as:`upper_box_${bf.field}`},...Fm],groupby:hl}],layer:dd};Lc=Object.assign({},Lc);Lc=(delete Lc.tooltip,Lc);const {scale:zm,axis:Hm}=bf;dd=Ka(bf);Pc=dc(Hm,["title"]);e=Jc(g,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${zj}) || (${a} > ${O})`}],mark:"point",encoding:Object.assign({},{[Ch]:Object.assign({},{field:bf.field,type:bf.type},void 0!==dd?{title:dd}:{},void 0!==zm?{scale:zm}:{},gb(Pc)?{}:{axis:Pc})},Lc,lc?{color:lc}:{},ym?{tooltip:ym}:{})})[0];g=[...Kg,...af,f];e?e={transform:g,layer:[e,
n]}:(e=n,e.transform.unshift(...g));return Object.assign({},b,{layer:[e,{transform:dg,layer:C}]})}function Uf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function lf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Af(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:n,ticksOrient:C,markDef:O,outerSpec:aa,tooltipEncoding:ua}=Vf(a,"errorbar",b);delete n.size;a=lb(O,g,f,n,b.errorbar);b=O.thickness;
var ab=O.size;ab=Object.assign({},{type:"tick",orient:C,aria:!1},void 0!==b?{thickness:b}:{},void 0!==ab?{size:ab}:{});a=[...a({partName:"ticks",mark:ab,positionPrefix:"lower",extraEncoding:ua}),...a({partName:"ticks",mark:ab,positionPrefix:"upper",extraEncoding:ua}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ua})];return Object.assign({},aa,{transform:e},1<a.length?
{layer:a}:Object.assign({},a[0]))}function eh(a,b){var {encoding:e}=a;if(!(!tc(e.x)&&!tc(e.y)||tc(e.x2)||tc(e.y2)||tc(e.xError)||tc(e.xError2)||tc(e.yError)||tc(e.yError2)))return{orient:se(a,b),inputType:"raw"};var f=tc(e.x2)||tc(e.y2);var g=tc(e.xError)||tc(e.xError2)||tc(e.yError)||tc(e.yError2);a=e.x;const n=e.y;if(f){if(g)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);f=e.x2;e=e.y2;if(tc(f)&&tc(e))throw Error(`${b} cannot have both x2 and y2`);if(tc(f)){if(Xb(a))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${b}`);}if(tc(e)){if(Xb(n))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{f=e.xError;g=e.yError;const C=e.yError2;if(tc(e.xError2)&&!tc(f))throw Error(`${b} cannot have xError2 without xError`);if(tc(C)&&!tc(g))throw Error(`${b} cannot have yError2 without yError`);if(tc(f)&&tc(g))throw Error(`${b} cannot have both xError and yError with both are quantiative`);
if(tc(f)){if(Xb(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(tc(g)){if(Xb(n))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Vf(a,b,e){var f=Object.assign({},a),g=a.mark,n=a.encoding,C=a.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);g=id(g)?g:{type:g};
C&&I(Ib(b));const {orient:O,inputType:aa}=eh(a,b),{continuousAxisChannelDef:ua,continuousAxisChannelDef2:ab,continuousAxisChannelDefError:ob,continuousAxisChannelDefError2:hc,continuousAxis:Pc}=Kc(a,O,b);a=[];C=[];var lc=ua.field,Lc=!1;if("raw"===aa){var dd=g.center?g.center:g.extent?"iqr"===g.extent?"median":"mean":e.errorbar.center;var gd=g.extent?g.extent:"mean"===dd?"stderr":"iqr";"median"===dd!==("iqr"===gd)&&I(`${dd} is not usually used with ${gd} for ${b}.`);"stderr"===gd||"stdev"===gd?(a=
[{op:gd,field:lc,as:`extent_${lc}`},{op:dd,field:lc,as:`center_${lc}`}],C=[{calculate:`datum["center_${lc}"] + datum["extent_${lc}"]`,as:`upper_${lc}`},{calculate:`datum["center_${lc}"] - datum["extent_${lc}"]`,as:`lower_${lc}`}],lc={fieldPrefix:"center_",titlePrefix:Sa(dd)},Lc=gd,Lc={fieldPrefix:"upper_",titlePrefix:`${Sa(dd)} ${"+"} ${Lc}`},b=gd,b=`${Sa(dd)} ${"-"} ${b}`,dd=[lc,Lc,{fieldPrefix:"lower_",titlePrefix:b}],Lc=!0):("ci"===gd?(b="mean",dd="ci0",gd="ci1"):(b="median",dd="q1",gd="q3"),a=
[{op:dd,field:lc,as:`lower_${lc}`},{op:gd,field:lc,as:`upper_${lc}`},{op:b,field:lc,as:`center_${lc}`}],dd=[{fieldPrefix:"upper_",titlePrefix:$c({field:lc,aggregate:gd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:$c({field:lc,aggregate:dd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:$c({field:lc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(g.center||g.extent){b=g.center;var ke=g.extent;I(`${ke?"extent ":""}${ke&&
b?"and ":""}${b?"center ":""}${ke&&b?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===aa?(dd=[],C=[{calculate:`datum["${ab.field}"]`,as:`upper_${lc}`},{calculate:`datum["${lc}"]`,as:`lower_${lc}`}]):"aggregated-error"===aa&&(dd=[{fieldPrefix:"",titlePrefix:lc}],C=[{calculate:`datum["${lc}"] + datum["${ob.field}"]`,as:`upper_${lc}`}],hc?C.push({calculate:`datum["${lc}"] + datum["${hc.field}"]`,as:`lower_${lc}`}):C.push({calculate:`datum["${lc}"] - datum["${ob.field}"]`,
as:`lower_${lc}`}));for(gd of C)dd.push({fieldPrefix:gd.as.substring(0,6),titlePrefix:qb(qb(gd.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:be,postAggregateCalculates:Ce,tooltipSummary:Qe,tooltipTitleWithFieldName:Nf}={postAggregateCalculates:C,errorBarSpecificAggregate:a,tooltipSummary:dd,tooltipTitleWithFieldName:Lc};n=Object.assign({},n);a="x"===Pc?"x2":"y2";C="x"===Pc?"xError":"yError";lc="x"===Pc?"xError2":"yError2";n=(delete n[Pc],delete n[a],delete n[C],delete n[lc],
n);const {bins:ag,timeUnits:Kg,aggregate:af,groupby:dg,encoding:bf}=Ff(n,e);e=[...af,...be];n="raw"!==aa?[]:dg;a=U(Qe,ua,bf,Nf);let Ch;return{transform:[...(null!=(Ch=f.transform)?Ch:[]),...ag,...Kg,...(0===e.length?[]:[{aggregate:e,groupby:n}]),...Ce],groupby:n,continuousAxisChannelDef:ua,continuousAxis:Pc,encodingWithoutContinuousAxis:bf,ticksOrient:"vertical"===O?"horizontal":"vertical",markDef:g,outerSpec:f,tooltipEncoding:a}}function hg(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Af(a.encoding,
b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:n,markDef:C,outerSpec:O,tooltipEncoding:aa}=Vf(a,"errorband",b);b=lb(C,g,f,n,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let ua={type:a?"area":"rect"},ab={type:a?"line":"rule"};const ob=Object.assign({},C.interpolate?{interpolate:C.interpolate}:{},C.tension&&C.interpolate?{tension:C.tension}:{});a?(ua=Object.assign({},ua,ob,{ariaRoleDescription:"errorband"}),ab=Object.assign({},ab,ob,
{aria:!1})):C.interpolate?I(Ed("interpolate")):C.tension&&I(Ed("tension"));return Object.assign({},O,{transform:e,layer:[...b({partName:"band",mark:ua,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:aa}),...b({partName:"borders",mark:ab,positionPrefix:"lower",extraEncoding:aa}),...b({partName:"borders",mark:ab,positionPrefix:"upper",extraEncoding:aa})]})}function bg(a,b,e){b=new Wi(a,b);Kj[a]={normalizer:b,parts:e}}function tg(a){return"legend"===a||!(null==a||!a.legend)}function ug(a){return tg(a)&&
h.isObject(a)}function Qd(a){return!(null==a||!a.select)}function qe(a){const b=[];for(const g of a||[])if(!Qd(g)){var e=g,f=Object.assign({},e);a=e.expr;e=e.bind;f=(delete f.expr,delete f.bind,f);e&&a?(a=Object.assign({},f,{bind:e,init:a}),b.push(a)):(a=Object.assign({},f,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function rf(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let f;return null!=(f=b.for)?f:"offset"}return"position"}function De(a){return h.isObject(a)&&void 0!==a.step}function ff(a){return a.view||
a.width||a.height}function We(a,b,e){const f={},{spacing:g,columns:n}=e[b];void 0!==g&&(f.spacing=g);void 0!==n&&("facet"in a&&!me(a.facet)||"concat"in a)&&(f.columns=n);"vconcat"in a&&(f.columns=1);for(const C of Uk)if(void 0!==a[C])if("spacing"===C){b=a[C];let O,aa;f[C]=h.isNumber(b)?b:{row:null!=(O=b.row)?O:g,column:null!=(aa=b.column)?aa:g}}else f[C]=a[C];return f}function Wf(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}function wf(a,b){a=Gf(a,b);return De(a)?
a.step:20}function Gf(a,b){let e;const f=null!=(e=a[b])?e:a["width"===b?"discreteWidth":"discreteHeight"];return T(f,{step:a.step})}function gf(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:h.isObject(a)?Object.assign({},wl,a):wl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Ng(a){var b=ud(a||{});const e={};for(const f of b)b=
a[f],e[f]=lg(b)?hd(b):ra(b);return e}function Og(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,f=a.font,g=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var n=h.mergeConfig,C=Ee(Zl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};e=e?gf(e):{};g=g?{signals:[{name:"fontSize",value:h.isObject(g)?Object.assign({},vl,g):vl}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};g=n.call(h,{},C,f,e,g,b||{});a&&h.writeConfig(g,"selection",a,!0);a=dc(g,qk);for(var O of["background","lineBreak","padding"])g[O]&&(a[O]=ra(g[O]));for(var aa of oj)g[aa]&&(a[aa]=Kb(g[aa]));for(var ua of Bg)g[ua]&&(a[ua]=
Ng(g[ua]));for(const ab of ul)g[ab]&&(a[ab]=Kb(g[ab]));g.legend&&(a.legend=Kb(g.legend));g.scale&&(a.scale=Kb(g.scale));if(g.style){O=g.style;aa=ud(O);ua={};for(const ab of aa)ua[ab]=Ng(O[ab]);a.style=ua}g.title&&(a.title=Kb(g.title));g.view&&(a.view=Kb(g.view));return a}function nh(a){a=Ee(a);for(var b of $l)delete a[b];if(a.axis)for(var e in a.axis)lg(a.axis[e])&&delete a.axis[e];if(a.legend)for(var f of Xl)delete a.legend[f];if(a.mark){for(var g of pi)delete a.mark[g];a.mark.tooltip&&h.isObject(a.mark.tooltip)&&
delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(qe(a.params)),delete a.params);for(var n of $g){for(const ob of pi)delete a[n][ob];if(b=ee[n])for(const ob of b)delete a[n][ob];let ab=g=void 0;b=a;e=n;f=void 0;var C=b[e];"view"===e&&(f="cell");C=Object.assign({},C,b.style[null!=(ab=f)?ab:e]);gb(C)||(b.style[null!=(g=f)?g:e]=C);delete b[e]}for(const ab of ud(Kj))delete a[ab];n=a;const {titleMarkConfig:O,subtitleMarkConfig:aa,subtitle:ua}=pc(n.title);gb(O)||(n.style["group-title"]=
Object.assign({},n.style["group-title"],O));gb(aa)||(n.style["group-subtitle"]=Object.assign({},n.style["group-subtitle"],aa));gb(ua)?delete n.title:n.title=ua;for(const ab in a)h.isObject(a[ab])&&gb(a[ab])&&delete a[ab];return gb(a)?void 0:a}function Xf(a){return va(a)&&"quantitative"===Cb(a)&&!a.bin}function ci(a,b,e){let {orient:f,type:g}=e;e="x"===b?"y":"radius";const n="x"===b&&["bar","area"].includes(g);var C=a[b];a=a[e];if(va(C)&&va(a))if(Xf(C)&&Xf(a)){if(C.stack)return b;if(a.stack)return e;
C=va(C)&&!!C.aggregate;a=va(a)&&!!a.aggregate;if(C!==a)return C?b:e;if(n){if("vertical"===f)return e;if("horizontal"===f)return b}}else{if(Xf(C))return b;if(Xf(a))return e}else{if(Xf(C))return n&&"vertical"===f?void 0:b;if(Xf(a))return n&&"horizontal"===f?void 0:e}}function wh(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Pg(a,b){var e=id(a)?a:{type:a};a=e.type;if(!Uh.has(a))return null;e=ci(b,"x",e)||ci(b,"theta",e);if(!e)return null;
const f=b[e];var g=va(f)?Rc(f,{}):void 0,n=wh(e);const C=[],O=new Set;if(b[n]){var aa=b[n];(aa=va(aa)?Rc(aa,{}):void 0)&&aa!==g&&(C.push(n),O.add(aa))}n="x"===n?"xOffset":"yOffset";aa=b[n];(aa=va(aa)?Rc(aa,{}):void 0)&&aa!==g&&(C.push(n),O.add(aa));g=Lk.reduce((hc,Pc)=>{if("tooltip"!==Pc&&Ze(b,Pc)){var lc=b[Pc];for(const Lc of h.array(lc)){lc=ye(Lc);if(lc.aggregate)continue;const dd=Rc(lc,{});dd&&O.has(dd)||hc.push({channel:Pc,fieldDef:lc})}}return hc},[]);let ua;void 0!==f.stack?ua=h.isBoolean(f.stack)?
f.stack?"zero":null:f.stack:am.has(a)&&(ua="zero");if(!(ua&&ua in Rg)||vf(b)&&0===g.length)return null;let ab,ob;if((null==f?0:null==(ab=f.scale)?0:ab.type)&&(null==f?void 0:null==(ob=f.scale)?void 0:ob.type)!==kg.LINEAR)return(null==f?0:f.stack)&&I(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(tc(b[W(e)]))return void 0!==f.stack&&I(`Cannot stack "${e}" if there is already "${e}2".`),null;va(f)&&f.aggregate&&!Vk.has(f.aggregate)&&I(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);
return{groupbyChannels:C,groupbyFields:O,fieldChannel:e,impute:null===f.impute?!1:Qa(a),stackBy:g,offset:ua}}function Qg(a,b,e){a=Kb(a);var f=Zb("orient",a,e);a.orient=Xi(a.type,b,f);void 0!==f&&f!==a.orient&&I(`Specified orient "${a.orient}" overridden with "${f}".`);if("bar"===a.type&&a.orient&&(f=Zb("cornerRadiusEnd",a,e),void 0!==f)){const n="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:bi[a.orient];for(var g of n)a[g]=f;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===
Zb("opacity",a,e)&&(g=Ab([Wg,Ii,nj,Gi],a.type)&&!vf(b)?.7:void 0,a.opacity=g);void 0===Zb("cursor",a,e)&&(b=b.href||a.href||Zb("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function Sh(a,b,e){({graticule:e}=e);if(e)return!1;b=ic("filled",a,b);a=a.type;return T(b,a!==Wg&&a!==Vg&&a!==mh)}function Xi(a,b,e){switch(a){case Wg:case nj:case Gi:case yl:case Zf:case mi:return}const {x:f,y:g,x2:n,y2:C}=b;switch(a){case Fh:if(va(f)&&(ib(f.bin)||va(g)&&g.aggregate&&!f.aggregate))break;if(va(g)&&(ib(g.bin)||
va(f)&&f.aggregate&&!g.aggregate))return"horizontal";if(C||n){if(e)return e;if(!n){if((va(f)&&"quantitative"===f.type&&!sb(f.bin)||nc(f))&&va(g)&&ib(g.bin))return"horizontal";break}if(!C){if((va(g)&&"quantitative"===g.type&&!sb(g.bin)||nc(g))&&va(f)&&ib(f.bin))break;return"horizontal"}}case mh:if(!(!n||va(f)&&ib(f.bin)||!C||va(g)&&ib(g.bin)))return;case ai:if(C){if(va(g)&&ib(g.bin))return"horizontal";break}else if(n)if(va(f)&&ib(f.bin))break;else return"horizontal";else if(a===mh)if(f&&!g)break;else if(g&&
!f)return"horizontal";case Vg:case Ii:b=cc(f);const O=cc(g);if(e)return e;if(b&&!O)return"tick"!==a?"horizontal":"vertical";if(!b&&O)return"tick"!==a?"vertical":"horizontal";if(!b||!O)if(a=wc(f)&&"temporal"===f.type,e=wc(g)&&"temporal"===g.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function Ji(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return h.isObject(a.point)?
a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return h.isObject(b.point)?b.point:{}}function Ki(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function di(a,b){return b?oh(a,b):a}function Yi(a,b,e){const f=b[a];if(f&&!h.isString(f)&&"repeat"in f){if(f.repeat in e)return Object.assign({},b,{[a]:e[f.repeat]});I(`Unknown repeated value "${f.repeat}".`)}else return b}
function Li(a,b){a=Yi("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&pe(a.sort)&&(b=Yi("field",a.sort,b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function Yg(a,b){if(va(a))return Li(a,b);b=Yi("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Mi(a,b){if(tc(a)){if(b=Yg(a,b))return b;if(P(a))return{condition:a.condition}}else{if(pa(a)){if(b=Yg(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function oh(a,
b){const e={};for(const g in a)if(h.hasOwnProperty(a,g)){var f=a[g];h.isArray(f)?e[g]=f.map(n=>Mi(n,b)).filter(n=>n):(f=Mi(f,b),void 0!==f&&(e[g]=f))}return e}function fh(a){let {parentEncoding:b,encoding:e={},layer:f}=a;a={};if(b){var g=new Set([...ud(b),...ud(e)]);for(const n of g){g=e[n];const C=b[n];if(tc(g))g=Object.assign({},C,g),a[n]=g;else if(pa(g))a[n]=Object.assign({},g,{condition:Object.assign({},C,g.condition)});else if(g||null===g)a[n]=g;else if(f||Ic(C)||Mb(C)||tc(C)||h.isArray(C))a[n]=
C}}else a=e;return!a||gb(a)?void 0:a}function Th(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:f,projection:g}={parentProjection:b,projection:e};a=`Layer's shared projection ${l(f)} is overridden by a child projection ${l(g)}.`;I(a)}return null!=e?e:b}function wg(a){return a.map(b=>"filter"in b?{filter:Ya(b.filter,fd)}:b)}function ig(a,b){var e=Object.assign({},a);const f=a.transform;e=(delete e.transform,e);return f?(a=f.map(g=>{if("filter"in g)return{filter:Zg(g,
b)};if("bin"in g&&h.isObject(g.bin))return Object.assign({},g,{bin:fi(g.bin)});if("lookup"in g){var n=g.from,C=Object.assign({},n);n=n.selection;C=(delete C.selection,C);return n?Object.assign({},g,{from:Object.assign({},{param:n},C)}):g}return g}),Object.assign({},e,{transform:a})):a}function Zi(a,b){a=Ee(a);va(a)&&h.isObject(a.bin)&&(a.bin=fi(a.bin));var e,f;Zc(a)&&(null==(e=a.scale)?0:null==(f=e.domain)?0:f.selection)&&(f=a.scale.domain,e=Object.assign({},f),f=f.selection,e=(delete e.selection,
e),a.scale.domain=Object.assign({},e,f?{param:f}:{}));P(a)&&(h.isArray(a.condition)?a.condition=a.condition.map(g=>{var n=Object.assign({},g);const C=g.param;n=(delete n.selection,delete n.param,delete n.test,n);return C?g:Object.assign({},n,{test:Zg(g,b)})}):(f=Zi(a.condition,b),e=Object.assign({},f),f=f.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=f?a.condition:Object.assign({},e,{test:Zg(a.condition,b)})));return a}function fi(a){var b=a.extent;if(null==b?0:b.selection){var e=
Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}function Zg(a,b){const e=f=>Ya(f,g=>{var n;const C=null!=(n=b.emptySelections[g])?n:!0;n={param:g,empty:C};let O;null!=(O=b.selectionPredicates)[g]||(O[g]=[]);b.selectionPredicates[g].push(n);return n});return a.selection?e(a.selection):Ya(a.test||a.filter,f=>f.selection?e(f.selection):f)}function ri(a,b){void 0===b&&(b=Og(a.config));const e=Lj(a,b),{width:f,height:g}=
a;{let {width:n,height:C}={width:f,height:g,autosize:a.autosize};a=Kf(e)||"layer"in e;const O={};a?"container"==n&&"container"==C?(O.type="fit",O.contains="padding"):"container"==n?(O.type="fit-x",O.contains="padding"):"container"==C&&(O.type="fit-y",O.contains="padding"):("container"==n&&(I(Da("width")),n=void 0),"container"==C&&(I(Da("height")),C=void 0));b=Object.assign({},{type:"pad"},O,b?yh(b.autosize):{},yh(e.autosize));"fit"!==b.type||a||(I('Autosize "fit" only works for single views and layered views.'),
b.type="pad");"container"==n&&"fit"!=b.type&&"fit-x"!=b.type&&I(Oa("width"));"container"==C&&"fit"!=b.type&&"fit-y"!=b.type&&I(Oa("height"));b=qa(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function Lj(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return xh.map(xg.map(Sg.map(a,b),b),b)}function yh(a){return h.isString(a)?{type:a}:null!=a?a:{}}function Gh(a,b){const e={};for(const f of rj)a&&void 0!==a[f]&&(e[f]=ra(a[f]));b&&(e.params=a.params);
return e}function Ig(a){return{explicit:!0,value:a}}function mg(a){return{explicit:!1,value:a}}function zh(a){return(b,e,f,g)=>{const n=a(b.value,e.value);return 0<n?b:0>n?e:Hh(b,e,f,g)}}function Hh(a,b,e,f){if(a.explicit&&b.explicit){var g=a.value;b=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${l(g)} and ${l(b)}). Using ${l(g)}.`;I(e)}return a}function gh(a,b,e,f){let g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Hh;return void 0===a||void 0===a.value?b:a.explicit&&
!b.explicit?a:b.explicit&&!a.explicit?b:qa(a.value,b.value)?a:g(a,b,e,f)}function Mf(a){return"name"in a&&!("url"in a)&&!("values"in a)&&!ng(a)}function ng(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function hh(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=$a(a.field);return a}function If(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.identity;if(h.isArray(a)){const f=
a.map(g=>If(g,b,e));return b?`[${f.join(", ")}]`:f}return Ja(a)?b?e(Qb(a)):e(qc(a)):b?e(l(a)):a}function ih(a,b){a.component.selection&&ud(a.component.selection).length&&(a=h.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:h.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return B(b)}function ah(a,b){var e=!1,f;for(const g of og(null!=(f=a.component.selection)?f:{})){const n=g.name;e=h.stringValue(n+"_store");0===b.filter(C=>
C.name===n).length&&(f="point"===g.type?", true, true)":")",b.push({name:g.name,update:`${"vlSelectionResolve"}(${e}, ${h.stringValue("global"===g.resolve?"union":g.resolve)}${f}`}));e=!0;for(const C of $i)C.defined(g)&&C.topLevelSignals&&(b=C.topLevelSignals(a,g,b))}e&&0===b.filter(g=>"unit"===g.name).length&&b.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return B(b)}function jh(a,b){b=[...b];const e=$f(a,{escape:!1});let f;for(const g of og(null!=
(f=a.component.selection)?f:{})){a={name:g.name+"_store"};g.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(g.init){const n=g.project.items.map(hh);a.values=g.project.hasSelectionId?g.init.map(C=>({unit:e,_vgsid_:If(C,!1)[0]})):g.init.map(C=>({unit:e,fields:n,values:If(C,!1)}))}b.filter(n=>n.name===g.name+"_store").length||b.push(a)}return b}function Ih(a,b){let e;for(const f of og(null!=(e=a.component.selection)?e:{}))for(const g of $i)g.defined(f)&&g.marks&&(b=
g.marks(a,f,b));return b}function si(a,b){for(const e of a.children)Rf(e)&&(b=Ih(e,b));return b}function B(a){return a.map(b=>{b.on&&!b.on.length&&delete b.on;return b})}function Z(a){let {timeUnit:b,field:e,reverse:f}=a;const {unit:g,utc:n}=b;a=bd(g);const {part:C,step:O}=Le(a,b.step);return`${n?"utcOffset":"timeOffset"}('${C}', datum['${e}'], ${f?-O:O})`}function Aa(a,b,e){let [f,g]=a;if(void 0!==b&&.5!==b){a=`datum['${f}']`;const n=`datum['${g}']`;return[{type:"formula",expr:La([Z({timeUnit:e,
field:f,reverse:!0}),a],b+.5),as:`${f}_${"offsetted_rect_start"}`},{type:"formula",expr:La([a,n],b+.5),as:`${f}_${"offsetted_rect_end"}`}]}return[]}function La(a,b){let [e,f]=a;return`${1-b} * ${e} + ${b} * ${f}`}function zb(a,b){return`domain(${h.stringValue(a.scaleName(b))})`}function yb(a){let b;return a.parent&&Qi(a.parent)&&(null!=(b=!a.parent.parent)?b:yb(a.parent.parent))}function bc(a,b,e,f){var g=!a.hasProjection,n=e.channel;const C=e.signals.visual,O=h.stringValue(g?a.scaleName(n):a.projectionName());
var aa=hc=>`scale(${O}, ${hc})`;const ua=a.getSizeSignalRef("x"===n?"width":"height").signal,ab=`${n}(unit)`,ob=b.events.reduce((hc,Pc)=>[...hc,{events:Pc.between[0],update:`[${ab}, ${ab}]`},{events:Pc,update:`[${C}[0], clamp(${ab}, 0, ${ua})]`}],[]);if(g)return e=e.signals.data,g=Vh.defined(b),a=(a=a.getScaleComponent(n))?a.get("type"):void 0,n=f?{init:If(f,!0,aa)}:{value:[]},ob.push({events:{signal:b.name+"_scale_trigger"},update:Ld(a)?`[${aa(`${e}[0]`)}, ${aa(`${e}[1]`)}]`:"[0, 0]"}),g?[{name:e,
on:[]}]:[Object.assign({},{name:C},n,{on:ob}),Object.assign({},{name:e},f?{init:If(f)}:{},{on:[{events:{signal:C},update:`${C}[0] === ${C}[1] ? null : invert(${O}, ${C})`}]})];aa="x"===n?0:1;b=b.name+"_init";return[Object.assign({},{name:C},f?{init:`[${b}[0][${aa}], ${b}[1][${aa}]]`}:{value:[]},{on:ob})]}function q(a,b,e,f){var g=P(b)&&b.condition;b=f(b);return g?(g=h.array(g).map(n=>{const C=f(n);if(n.param){const {param:O,empty:aa}=n;n=tk(a,{param:O,empty:aa});return Object.assign({},{test:n},C)}n=
cg(a,n.test);return Object.assign({},{test:n},C)}),{[e]:[...g,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function J(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return q(a,a.encoding[b],b,e=>ha(e,a.config))}function ha(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(Ic(a))return Ua(a.value);if(tc(a)){const {format:f,formatType:g}=Yd(a);return cf({fieldOrDatumDef:a,format:f,formatType:g,expr:e,config:b})}}}function ya(a){let b=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:f,config:g,stack:n}=a,C=e.tooltip;if(h.isArray(C))return{tooltip:Pb({tooltip:C},n,g,b)};const O=b.reactiveGeom?"datum.datum":"datum";return q(a,C,"tooltip",aa=>{const ua=ha(aa,g,O);if(ua)return ua;if(null!==aa){aa=Zb("tooltip",f,g);!0===aa&&(aa={content:"encoding"});if(h.isString(aa))return{value:aa};if(h.isObject(aa))return Mb(aa)?aa:"encoding"===aa.content?Pb(e,n,g,b):{signal:O}}})}function bb(a,b,e){function f(ua,ab){var ob=Q(ab);
ua=wc(ua)?ua:Object.assign({},ua,{type:a[ob].type});ob=ua.title||Hf(ua,n);ob=h.array(ob).join(", ").replaceAll(/"/g,'\\"');if(F(ab)){const lc="x"===ab?"x2":"y2";var hc=ye(a[lc]);if(ib(ua.bin)&&hc){var Pc=Rc(ua,{expr:O});hc=Rc(hc,{expr:O});const {format:Lc,formatType:dd}=Yd(ua);Pc=Ye(Pc,hc,Lc,dd,n);C[lc]=!0}}if((F(ab)||"theta"===ab||"radius"===ab)&&b&&b.fieldChannel===ab&&"normalize"===b.offset){const {format:lc,formatType:Lc}=Yd(ua);Pc=cf({fieldOrDatumDef:ua,format:lc,formatType:Lc,expr:O,config:n,
normalizeStack:!0}).signal}null!=Pc||(Pc=ha(ua,n,O).signal);aa.push({channel:ab,key:ob,value:Pc})}var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const n=Object.assign({},e,e.tooltipFormat),C={},O=g?"datum.datum":"datum",aa=[];Gg(a,(ua,ab)=>{va(ua)?f(ua,ab):Y(ua)&&f(ua.condition,ab)});g={};for(const ua of aa){const {channel:ab,key:ob,value:hc}=ua;C[ab]||g[ob]||(g[ob]=hc)}return g}function Pb(a,b,e){var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
{};f=bb(a,b,e,{reactiveGeom:f});f=Fi(f).map(g=>{let [n,C]=g;return`"${n}": ${C}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function kc(a){const {encoding:b,markDef:e,config:f,stack:g}=a;var n=b.description;if(n)return q(a,n,"description",C=>ha(C,a.config));n=Zb("description",e,f);if(null!=n)return{description:Ua(n)};if(!1===f.aria)return{};n=bb(b,g,f);if(!gb(n))return{description:{signal:Fi(n).map((C,O)=>{let [aa,ua]=C;return`"${0<O?"; ":""}${aa}: " + (${ua})`}).join(" + ")}}}function xc(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:g,config:n}=b,{vgChannel:C}=e;let {defaultRef:O,defaultValue:aa}=e;void 0===O&&(null!=aa||(aa=Zb(a,f,n,{vgChannel:C,ignoreVgConfig:!0})),void 0!==aa&&(O=Ua(aa)));return q(b,g[a],null!=C?C:a,ua=>ld({channel:a,channelDef:ua,markDef:f,config:n,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:O}))}function gc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};
const {markDef:e,encoding:f,config:g}=a;var {type:n}=e,C;b=null!=(C=b.filled)?C:Zb("filled",e,g);C=Ab(["bar","point","circle","square","geoshape"],n)?"transparent":void 0;var O,aa;n=null!=(aa=null!=(O=Zb(!0===b?"color":void 0,e,g,{vgChannel:"fill"}))?O:g.mark[!0===b&&"color"])?aa:C;var ua;O=null!=(ua=Zb(!1===b?"color":void 0,e,g,{vgChannel:"stroke"}))?ua:g.mark[!1===b&&"color"];ua=b?"fill":"stroke";aa=Object.assign({},n?{fill:Ua(n)}:{},O?{stroke:Ua(O)}:{});e.color&&(b?e.fill:e.stroke)&&I(xd("property",
{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},aa,xc("color",a,{vgChannel:ua,defaultValue:b?n:O}),xc("fill",a,{defaultValue:f.fill?n:void 0}),xc("stroke",a,{defaultValue:f.stroke?O:void 0}))}function rd(a){const {encoding:b,mark:e}=a,f=b.order;return!Qa(e)&&Ic(f)?q(a,f,"zindex",g=>Ua(g.value)):{}}function Wc(a){let {channel:b,markDef:e,encoding:f={},model:g,bandPosition:n}=a;a=`${b}Offset`;const C=e[a],O=f[a];return"xOffset"!==a&&"yOffset"!==a||!O?(a=e[a])?{offsetType:"visual",offset:a}:
{}:{offsetType:"encoding",offset:ld({channel:a,channelDef:O,markDef:e,config:null==g?void 0:g.config,scaleName:g.scaleName(a),scale:g.getScaleComponent(a),stack:null,defaultRef:Ua(C),bandPosition:n})}}function zd(a,b,e){let {defaultPos:f,vgChannel:g}=e;const {encoding:n,markDef:C,config:O,stack:aa}=b;e=n[a];const ua=n[W(a)],ab=b.scaleName(a),ob=b.getScaleComponent(a),{offset:hc,offsetType:Pc}=Wc({channel:a,markDef:C,encoding:n,model:b,bandPosition:.5}),lc=je({model:b,defaultPos:f,channel:a,scaleName:ab,
scale:ob});if(!e&&F(a)&&(n.latitude||n.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:ua,markDef:C,config:O,scaleName:ab,scale:ob,stack:aa,offset:hc,defaultRef:lc,bandPosition:"encoding"===Pc?0:void 0};const {channel:Lc,channelDef:dd,scaleName:gd,stack:ke,offset:be,markDef:Ce}=b;if(tc(dd)&&ke&&Lc===ke.fieldChannel){if(va(dd)&&(b=dd.bandPosition,void 0!==b||"text"!==Ce.type||"radius"!==Lc&&"theta"!==Lc||(b=.5),void 0!==b)){b=Xc({scaleName:gd,fieldOrDatumDef:dd,startSuffix:"start",
bandPosition:b,offset:be});break a}b=Tc(dd,gd,{suffix:"end"},{offset:be})}else b=Mc(b)}return b?{[g||a]:b}:void 0}function je(a){let {model:b,defaultPos:e,channel:f,scaleName:g,scale:n}=a;const {markDef:C,config:O}=b;return()=>{var aa=Q(f),ua=A(f);ua=Zb(f,C,O,{vgChannel:ua});if(void 0!==ua)return pd(f,ua);switch(e){case "zeroOrMin":case "zeroOrMax":if(g&&(ua=n.get("type"),!Ab([kg.LOG,kg.TIME,kg.UTC],ua)&&n.domainDefinitelyIncludesZero()))return{scale:g,value:0};if("zeroOrMin"===e)return"y"===aa?{field:{group:"height"}}:
{value:0};switch(aa){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return aa=b[G(f)],Object.assign({},aa,{mult:.5})}}}function Ge(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return A(a);var g="x"===a?"align":"baseline";const n=Zb(g,b,e);Mb(n)?(I(`The ${g} for range marks cannot be an expression`),
g=void 0):g=n;return"x"===a?tj[g||("top"===f?"left":"center")]:vi[g||f]}function Pe(a,b,e){let {defaultPos:f,defaultPos2:g,range:n}=e;return n?Ef(a,b,{defaultPos:f,defaultPos2:g}):zd(a,b,{defaultPos:f})}function Ef(a,b,e){let {defaultPos:f,defaultPos2:g}=e;const {markDef:n,config:C}=b;var O=W(a);e=G(a);{const {encoding:hc,mark:Pc,markDef:lc,stack:Lc,config:dd}=b;var aa=Q(O),ua=G(O);const gd=A(O);var ab=hc[aa],ob=b.scaleName(aa);const ke=b.getScaleComponent(aa);({offset:aa}=O in hc||O in lc?Wc({channel:O,
markDef:lc,encoding:hc,model:b}):Wc({channel:aa,markDef:lc,encoding:hc,model:b}));if(ab||"x2"!==O&&"y2"!==O||!hc.latitude&&!hc.longitude){let {channel:be,channelDef:Ce,channel2Def:Qe,markDef:Nf,config:ag,scaleName:Kg,scale:af,stack:dg,offset:bf,defaultRef:Ch}={channel:O,channelDef:ab,channel2Def:hc[O],markDef:lc,config:dd,scaleName:ob,scale:ke,stack:Lc,offset:aa,defaultRef:void 0};ab=tc(Ce)&&dg&&be.charAt(0)===dg.fieldChannel.charAt(0)?Tc(Ce,Kg,{suffix:"start"},{offset:bf}):Mc({channel:be,channelDef:Qe,
scaleName:Kg,scale:af,stack:dg,markDef:Nf,config:ag,offset:bf,defaultRef:Ch});O=void 0!==ab?{[gd]:ab}:Te(O,lc)||Te(O,{[O]:Ac(O,lc,dd.style),[ua]:Ac(ua,lc,dd.style)})||Te(O,dd[Pc])||Te(O,dd.mark)||{[gd]:je({model:b,defaultPos:g,channel:O,scaleName:ob,scale:ke})()}}else ua=G(O),ob=b.markDef[ua],O=null!=ob?{[ua]:{value:ob}}:{[gd]:{field:b.getName(O)}}}e=O[e]?Ge(a,n,C):A(a);return Object.assign({},zd(a,b,{defaultPos:f,vgChannel:e}),O)}function Te(a,b){const e=G(a),f=A(a);if(void 0!==b[f])return{[f]:pd(a,
b[f])};if(void 0!==b[a])return{[f]:pd(a,b[a])};if(b[e])if(b=b[e],sc(b))I(`Position range does not support relative band size for ${e}.`);else return{[e]:pd(a,b)}}function Jg(a,b){const {config:e,encoding:f,markDef:g}=a;var n=g.type,C=W(b),O=G(b),aa=f[b];C=f[C];var ua=a.getScaleComponent(b);ua=ua?ua.get("type"):void 0;const ab=g.orient;var ob;let hc;const Pc=null!=(hc=null!=(ob=f[O])?ob:f.size)?hc:Zb("size",g,e,{vgChannel:O});O=w(b);n="bar"===n&&("x"===b?"vertical"===ab:"horizontal"===ab);if(!va(aa)||
!(sb(aa.bin)||ib(aa.bin)||aa.timeUnit&&!C)||Pc&&!sc(Pc)||f[O]||Md(ua)){if((tc(aa)&&Md(ua)||n)&&!C){var lc;{const {markDef:Qe,encoding:Nf,config:ag,stack:Kg}=a;n=Qe.orient;var Lc=a.scaleName(b),dd=a.getScaleComponent(b),gd=G(b),ke=W(b);C=w(b);C=a.scaleName(C);O=a.getScaleComponent(z(b));ob="horizontal"===n&&"y"===b||"vertical"===n&&"x"===b;if(Nf.size||Qe.size)ob?lc=xc("size",a,{vgChannel:gd,defaultRef:Ua(Qe.size)}):I(`Cannot apply size to non-oriented mark "${Qe.type}".`);ua=!!lc;var be;n=M({channel:b,
fieldDef:aa,markDef:Qe,config:ag,scaleType:null==(be=dd||O)?void 0:be.get("type"),useVlSizeChannel:ob});lc=lc||{[gd]:we(gd,C||Lc,O||dd,ag,n,!!aa,Qe.type)};var Ce;be="band"===(null==(Ce=dd||O)?void 0:Ce.get("type"))&&sc(n)&&!ua?"top":"middle";Ce=Ge(b,Qe,ag,be);be="xc"===Ce||"yc"===Ce;const {offset:af,offsetType:dg}=Wc({channel:b,markDef:Qe,encoding:Nf,model:a,bandPosition:be?.5:0});a=Mc({channel:b,channelDef:aa,markDef:Qe,config:ag,scaleName:Lc,scale:dd,stack:Kg,offset:af,defaultRef:je({model:a,defaultPos:"mid",
channel:b,scaleName:Lc,scale:dd}),bandPosition:be?"encoding"===dg?0:.5:Mb(n)?{signal:`(1-${n})/2`}:sc(n)?(1-n.band)/2:0});gd?lc=Object.assign({},{[Ce]:a},lc):(b=A(ke),lc=lc[gd],lc=af?Object.assign({},lc,{offset:af}):lc,lc={[Ce]:a,[b]:h.isArray(a)?[a[0],Object.assign({},a[1],{offset:lc})]:Object.assign({},a,{offset:lc})})}return lc}return Ef(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Qe,fieldDef2:Nf,channel:ag,model:Kg}={fieldDef:aa,fieldDef2:C,channel:b,model:a};const {config:af,
markDef:dg,encoding:bf}=Kg;a=Kg.getScaleComponent(ag);lc=Kg.scaleName(ag);b=a?a.get("type"):void 0;a=a.get("reverse");b=M({channel:ag,fieldDef:Qe,markDef:dg,config:af,scaleType:b});be=null!=(dd=null==(Lc=null==(ke=Kg.component.axes[ag])?void 0:ke[0])?void 0:Lc.get("translate"))?dd:.5;Lc=F(ag)?null!=(gd=Zb("binSpacing",dg,af))?gd:0:0;gd=W(ag);aa=A(ag);Ce=A(gd);dd=ic("minBandSize",dg,af);({offset:n}=Wc({channel:ag,markDef:dg,encoding:bf,model:Kg,bandPosition:0}));({offset:C}=Wc({channel:gd,markDef:dg,
encoding:bf,model:Kg,bandPosition:0}));let {scaleName:Ch,fieldDef:hl}={fieldDef:Qe,scaleName:lc};ke=Rc(hl,{expr:"datum"});O=Rc(hl,{expr:"datum",suffix:"end"});O=`abs(scale("${Ch}", ${O}) - scale("${Ch}", ${ke}))`;ke=Re(ag,Lc,a,be,n,dd,O);a=Re(gd,Lc,a,be,null!=C?C:n,dd,O);b=Mb(b)?{signal:`(1-${b.signal})/2`}:sc(b)?(1-b.band)/2:.5;be=y({fieldDef:Qe,fieldDef2:Nf,markDef:dg,config:af});if(sb(Qe.bin)||Qe.timeUnit)be=Qe.timeUnit&&.5!==be,lc={[Ce]:sf({fieldDef:Qe,scaleName:lc,bandPosition:b,offset:a,useRectOffsetField:be}),
[aa]:sf({fieldDef:Qe,scaleName:lc,bandPosition:Mb(b)?{signal:`1-${b.signal}`}:1-b,offset:ke,useRectOffsetField:be})};else{if(ib(Qe.bin)){a=Tc(Qe,lc,{},{offset:a});if(va(Nf)){lc={[Ce]:a,[aa]:Tc(Nf,lc,{},{offset:ke})};break a}if(h.isObject(Qe.bin)&&Qe.bin.step){lc={[Ce]:a,[aa]:{signal:`scale("${lc}", ${Rc(Qe,{expr:"datum"})} + ${Qe.bin.step})`,offset:ke}};break a}}I(x(gd));lc=void 0}}return lc}function we(a,b,e,f,g,n,C){if(sc(g))if(e){const O=e.get("type");if("band"===O)return a=`bandwidth('${b}')`,
1!==g.band&&(a=`${g.band} * ${a}`),f=ic("minBandSize",{type:C},f),{signal:f?`max(${Fb(f)}, ${a})`:a};1!==g.band&&I(`Cannot use the relative band size with ${O} scale.`)}else return{mult:g.band,field:{group:a}};else{if(Mb(g))return g;if(g)return{value:g}}if(e&&(g=e.get("range"),Ob(g)&&h.isNumber(g.step)))return{value:g.step-2};if(!n){const {bandPaddingInner:O,barBandPaddingInner:aa,rectBandPaddingInner:ua}=f.scale;C=T(O,"bar"===C?aa:ua);if(Mb(C))return{signal:`(1 - (${C.signal})) * ${a}`};if(h.isNumber(C))return{signal:`${1-
C} * ${a}`}}return{value:wf(f.view,a)-2}}function Re(a,b,e,f,g,n,C){if(a in bk)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Mb(e)||Mb(g)||Mb(f)||n){e=Fb(e);g=Fb(g);f=Fb(f);const O=Fb(n);n=n?`(${C} < ${O} ? ${a?"":"-"}0.5 * (${O} - (${C})) : ${b})`:b;return{signal:(f?`${f} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(g?`(${g} + ${n})`:n)}}g=g||0;return f+(e?-g-b:+g+b)}function sf(a){let {fieldDef:b,scaleName:e,bandPosition:f,offset:g,useRectOffsetField:n}=a;return Xc(Object.assign({},{scaleName:e,fieldOrDatumDef:b,
bandPosition:f,offset:g},n?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function Hg(a,b){const {fill:e,stroke:f}="include"===b.color?gc(a):{};var g=Object,n=g.assign;b=vg(a.markDef,b);var C=Kh(a,"fill",e),O=Kh(a,"stroke",f),aa=xc("opacity",a),ua=xc("fillOpacity",a),ab=xc("strokeOpacity",a),ob=xc("strokeWidth",a),hc=xc("strokeDash",a),Pc=rd(a),lc=ya(a),Lc=J(a,"href");{const {markDef:be,config:Ce}=a,Qe=Zb("aria",be,Ce);if(!1===Qe)a={};else{var dd=Object,gd=dd.assign;{const {mark:Nf,
markDef:ag,config:Kg}=a;if(!1===Kg.aria)var ke={};else ke=Zb("ariaRoleDescription",ag,Kg),ke=null!=ke?{ariaRoleDescription:{value:ke}}:Nf in bm?{}:{ariaRoleDescription:{value:Nf}}}a=gd.call(dd,{},Qe?{aria:Qe}:{},ke,kc(a))}}return n.call(g,{},b,C,O,aa,ua,ab,ob,hc,Pc,lc,Lc,a)}function Kh(a,b,e){const {config:f,mark:g,markDef:n}=a;return"hide"===Zb("invalid",n,f)&&e&&!Qa(g)&&(a=ph(a,{invalid:!0,channels:zk}))?{[b]:[{test:a,value:null},...h.array(e)]}:e?{[b]:e}:{}}function vg(a,b){return Zk.reduce((e,
f)=>{nk.has(f)||void 0===a[f]||"ignore"===b[f]||(e[f]=Ua(a[f]));return e},{})}function ph(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,n)=>{var C=a.getScaleComponent(n);C&&(C=C.get("type"),(n=a.vgField(n,{expr:"datum"}))&&Ld(C)&&(g[n]=!0));return g},{});b=ud(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(n=>Ec(n,e)).join(` ${g} `)}}function qh(a){const {config:b,markDef:e}=a;return Zb("invalid",e,b)&&(a=nf(a,{channels:Qh}))?{defined:{signal:a}}:{}}function nf(a,b){let {invalid:e=!1,
channels:f}=b;b=f.reduce((g,n)=>{var C=a.getScaleComponent(n);if(C){C=C.get("type");let O;(n=a.vgField(n,{expr:"datum",binSuffix:(null==(O=a.stack)?0:O.impute)?"mid":void 0}))&&Ld(C)&&(g[n]=!0)}return g},{});b=ud(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(n=>Ec(n,e)).join(` ${g} `)}}function Ue(a,b){if(void 0!==b)return{[a]:Ua(b)}}function Xg(a,b,e,f,g){var n=b.name,C=n+"_translate_anchor";n+="_translate_delta";var O=e.channel;const aa=Vh.defined(b);b=g.filter(Pc=>Pc.name===e.signals[aa?
"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;g=(a=a.getScaleComponent(O))&&a.get("type");var ua=a&&a.get("reverse");C=`${C}.extent_${O}`;O=`${aa?"x"===O?ua?"":"-":ua?"-":"":""}${n}.${O} / ${aa?`${f}`:`span(${C})`}`;ua=aa&&a?"log"===g?"panLog":"symlog"===g?"panSymlog":"pow"===g?"panPow":"panLinear":"panLinear";var ab;let ob;const hc=aa?"pow"===g?`, ${null!=(ab=a.get("exponent"))?ab:1}`:"symlog"===g?`, ${null!=(ob=a.get("constant"))?ob:1}`:"":"";ab=`${ua}(${C}, ${O}${hc})`;b.on.push({events:{signal:n},
update:aa?ab:`clampRange(${ab}, 0, ${f})`})}function Lh(a,b,e,f,g){var n=b.name,C=e.channel;const O=Vh.defined(b);b=g.filter(Pc=>Pc.name===e.signals[O?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;const aa=(g=a.getScaleComponent(C))&&g.get("type"),ua=O?zb(a,C):b.name;a=n+"_zoom_delta";n=`${n}${"_zoom_anchor"}.${C}`;C=O&&g?"log"===aa?"zoomLog":"symlog"===aa?"zoomSymlog":"pow"===aa?"zoomPow":"zoomLinear":"zoomLinear";var ab;let ob;const hc=O?"pow"===aa?`, ${null!=(ab=g.get("exponent"))?ab:1}`:
"symlog"===aa?`, ${null!=(ob=g.get("constant"))?ob:1}`:"":"";ab=`${C}(${ua}, ${n}, ${a}${hc})`;b.on.push({events:{signal:a},update:O?ab:`clampRange(${ab}, 0, ${f})`})}function $f(a){var {escape:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?h.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!lh(e);)e=e.parent;if(e){const {facet:f}=e;for(const g of th)f[g]&&(b+=` + '__facet_${g}_' + (facet[${h.stringValue(e.vgField(g))}])`)}return b}function qg(a){let b;return og(null!=
(b=a.component.selection)?b:{}).reduce((e,f)=>e||f.project.hasSelectionId,!1)}function fg(a,b){!h.isString(b.select)&&b.select.on||delete a.events;!h.isString(b.select)&&b.select.clear||delete a.clear;!h.isString(b.select)&&b.select.toggle||delete a.toggle}function Eg(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...Eg(a.object)),b.push(...Eg(a.property)));return b}function lj(a){return"MemberExpression"===a.object.type?
lj(a.object):"datum"===a.object.name}function mj(a){a=h.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&lj(e)&&b.add(Eg(e).slice(1).join("."))});return b}function tk(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",g=h.isString(b)?b:b.param,n=sa(g),C=h.stringValue(n+"_store");try{var O=a.getSelectionComponent(n,g)}catch(aa){return`!!${n}`}O.project.timeUnit&&(g=null!=e?e:a.component.data.raw,n=O.project.timeUnit.clone(),g.parent?n.insertAsParentOf(g):
g.parent=n);g=O.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";O="global"===O.resolve?")":`, ${h.stringValue(O.resolve)})`;f=`${g}${C}, ${f}${O}`;C=`length(data(${C}))`;return!1===b.empty?`${C} && ${f}`:`!${C} || ${f}`}function aj(a,b,e){const f=sa(b),g=e.encoding;let n=e.field,C;try{C=a.getSelectionComponent(f,b)}catch(O){return f}g||n?g&&!n&&(a=C.project.items.filter(O=>O.channel===g),!a.length||1<a.length?(n=C.project.items[0].field,I((a.length?"Multiple ":"No ")+`matching ${h.stringValue(g)} encoding found for selection ${h.stringValue(e.param)}. `+
`Using "field": ${h.stringValue(n)}.`)):n=a[0].field):(n=C.project.items[0].field,1<C.project.items.length&&I('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${h.stringValue(n)}.`));return`${C.name}[${h.stringValue($a(n))}]`}function cg(a,b,e){return ia(b,f=>h.isString(f)?f:(null==f?0:f.param)?tk(a,f,e):Rb(f))}function uk(a,b){if(a)return h.isArray(a)&&!$b(a)?a.map(e=>Hf(e,b)).join(", "):a}function vj(a,b,e,f){null!=a.encode||(a.encode={});let g;
null!=(g=a.encode)[b]||(g[b]={});let n;null!=(n=a.encode[b]).update||(n.update={});a.encode[b].update[e]=f}function kh(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},g=a.combine(),n=Object.assign({},g),C=g.disable;const O=g.orient,aa=g.scale;var ua=g.labelExpr;const ab=g.title;g=g.zindex;n=(delete n.disable,delete n.orient,delete n.scale,delete n.labelExpr,delete n.title,delete n.zindex,n);if(!C){for(const hc in n){var ob=Vi[hc];C=n[hc];if(ob&&ob!==b&&"both"!==ob)delete n[hc];
else if(lg(C)){ob=C;C=Object.assign({},ob);ob=ob.condition;C=(delete C.condition,C);ob=h.array(ob);const Pc=Hj[hc];if(Pc){const {vgProp:lc,part:Lc}=Pc;C=[...ob.map(dd=>{var gd=Object.assign({},dd);dd=dd.test;gd=(delete gd.test,gd);return Object.assign({},{test:cg(null,dd)},gd)}),C];vj(n,Lc,lc,C);delete n[hc]}else null===Pc&&(C={signal:ob.map(lc=>{var Lc=Object.assign({},lc);lc=lc.test;Lc=(delete Lc.test,Lc);return`${cg(null,lc)} ? ${xb(Lc)} : `}).join("")+xb(C)},n[hc]=C)}else if(Mb(C)&&(ob=Hj[hc])){const {vgProp:Pc,
part:lc}=ob;vj(n,lc,Pc,C);delete n[hc]}Ab(["labelAlign","labelBaseline"],hc)&&null===n[hc]&&delete n[hc]}if("grid"===b){if(n.grid)return n.encode&&({grid:ua}=n.encode,n.encode=Object.assign({},ua?{grid:ua}:{}),gb(n.encode)&&delete n.encode),Object.assign({},{scale:aa,orient:O},n,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:T(g,0)})}else if(f.header||!a.mainExtracted){if(void 0!==ua){f=ua;let hc,Pc;(null==(hc=n.encode)?0:null==(Pc=hc.labels)?0:Pc.update)&&Mb(n.encode.labels.update.text)&&
(f=qb(ua,"datum.label",n.encode.labels.update.text.signal));vj(n,"labels","text",{signal:f})}null===n.labelAlign&&delete n.labelAlign;if(n.encode){for(const hc of lk)a.hasAxisPart(hc)||delete n.encode[hc];gb(n.encode)&&delete n.encode}ua=uk(ab,e);return Object.assign({},{scale:aa,orient:O,grid:!1},ua?{title:ua}:{},n,!1===e.aria?{aria:!1}:{},{zindex:T(g,0)})}}}function Oi(a){const {axes:b}=a.component,e=[];for(const f of Qh)if(b[f])for(const g of b[f])if(!g.get("disable")&&!g.get("gridScale")){const n=
"x"===f?"height":"width",C=a.getSizeSignalRef(n).signal;n!==C&&e.push({name:n,update:C})}return e}function Pj(a,b){const {x:e=[],y:f=[]}=a;return[...e.map(g=>kh(g,"grid",b)),...f.map(g=>kh(g,"grid",b)),...e.map(g=>kh(g,"main",b)),...f.map(g=>kh(g,"main",b))].filter(g=>g)}function wj(a,b,e,f){return Object.assign.apply(null,[{},...a.map(g=>{if("axisOrient"===g){g="x"===e?"bottom":"left";const n=b["x"===e?"axisBottom":"axisLeft"]||{},C=b["x"===e?"axisTop":"axisRight"]||{},O=new Set([...ud(n),...ud(C)]),
aa={};for(const ua of O.values())aa[ua]={signal:`${f.signal} === "${g}" ? ${Fb(n[ua])} : ${Fb(C[ua])}`};return aa}return b[g]})])}function bl(a,b,e,f){var g="band"===b?["axisDiscrete","axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:li.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const n="x"===a?"axisX":"axisY";b=Mb(e)?"axisOrient":`axis${Sa(e)}`;g=[...g,...g.map(C=>n+C.substr(4))];b=["axis",b,n];return{vlOnlyAxisConfig:wj(g,f,a,e),vgAxisConfig:wj(b,f,a,e),axisConfigStyle:Pi([...b,
...g],f)}}function Pi(a,b){const e=[{}];for(const f of a){let g;if(a=null==(g=b[f])?void 0:g.style){a=h.array(a);for(const n of a)e.push(b.style[n])}}return Object.assign.apply(null,e)}function xi(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const g=nd(a,e,b);if(void 0!==g)return{configFrom:"style",configValue:g};for(const n of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let C;if(void 0!==(null==(C=f[n])?void 0:C[a]))return{configFrom:n,configValue:f[n][a]}}return{}}
function Qj(a,b,e,f,g){const n=null==b?void 0:b.labelAngle;if(void 0!==n)return Mb(n)?n:Ma(n);({configValue:b}=xi("labelAngle",f,null==b?void 0:b.style,g));if(void 0!==b)return Ma(b);if("x"===e&&Ab(["nominal","ordinal"],a.type)&&(!va(a)||!a.timeUnit))return 270}function yi(a){return`(((${a.signal} % 360) + 360) % 360)`}function Rj(a,b,e,f){if(void 0!==a)return"x"===e?Mb(a)?(f=yi(a),b=Mb(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+
`(${f} <= 45 || 315 <= ${f}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Mb(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=a||315<=a)===("top"===b)?"bottom":"top":Mb(a)?(a=yi(a),b=Mb(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?f?"middle":null:Mb(b)?
{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function vk(a,b,e){if(void 0!==a){var f=(e="x"===e)?0:90,g=e?"bottom":"left";return Mb(a)?(a=yi(a),b=Mb(b)?`(${b.signal} === "${g}")`:b===g,{signal:`(${f?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${f} < ${a} && ${a} < ${180+f}) === ${b} ? "left" : "right"`}):0===(a+f)%180?e?null:"center":Mb(b)?{signal:`${`${b.signal} ${f<a&&a<180+f?"\x3d\x3d\x3d":
"!\x3d\x3d"} "${g}"`} ? "left" : "right"`}:(f<a&&a<180+f)===(b===g)?"left":"right"}}function bj(a,b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:void 0;if(e&&a)return Ia(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function gi(a,b,e){return Rc(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function zg(a,b){return Ab(["top","bottom"],b)?"column":Ab(["left","right"],b)?"row":"row"===a?"row":"column"}function hi(a,
b,e,f){return T((b||{})[a],("row"===f?e.headerRow:"column"===f?e.headerColumn:e.headerFacet)[a],e.header[a])}function Wh(a,b,e,f){const g={};for(const n of a)a=hi(n,b||{},e,f),void 0!==a&&(g[n]=a);return g}function Mh(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=vk(b,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function m(a,b){return(a=Rj(a,"row"===b?"left":"top","row"===b?
"y":"x",!0))?{baseline:a}:{}}function H(a,b,e){const {format:f,formatType:g,labelAngle:n,labelAnchor:C,labelOrient:O,labelExpr:aa}=Wh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),a.header,e,b),ua=cf({fieldOrDatumDef:a,format:f,formatType:g,expr:"parent",config:e}).signal,ab=zg(b,O);return Object.assign({},{text:{signal:aa?qb(qb(aa,"datum.label",ua),"datum.value",Rc(a,{expr:"parent"})):ua}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},m(n,ab),Mh(ab,
n,C),L(e,a,b,Yl,sl))}function L(a,b,e,f,g){const n={};for(const C of f){if(!g[C])continue;let O;f=hi(C,null==(O=b)?void 0:O.header,a,e);void 0!==f&&(n[g[C]]=f)}return n}function ma(a){return[...Ra(a,"width"),...Ra(a,"height"),...Ra(a,"childWidth"),...Ra(a,"childHeight")]}function Ra(a,b){var e="width"===b?"x":"y",f=a.component.layoutSize.get(b);if(!f||"merged"===f)return[];b=a.getSizeSignalRef(b).signal;if("step"===f){if(f=a.getScaleComponent(e)){var g=f.get("type");const n=f.get("range");if(Md(g)&&
Ob(n))return g=a.scaleName(e),lh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[cb(g,n)]:[cb(g,n),{name:b,update:mb(g,f,`domain('${g}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==f?(e=(f=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=Wf(a.config.view,f?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:b,value:f}]}function cb(a,b){a=`${a}_step`;
return Mb(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function mb(a,b,e){const f=b.get("type"),g=b.get("padding"),n=T(b.get("paddingOuter"),g);b=b.get("paddingInner");return`bandspace(${e}, ${Fb("band"===f?void 0!==b?b:g:1)}, ${Fb(n)}) * ${a}_step`}function Jb(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function uc(a,b){return ud(a).reduce((e,f)=>Object.assign({},e,q(b,a[f],f,g=>Ua(g.value))),{})}function ad(a,b){if(lh(b))return"theta"===a?"independent":"shared";
if(Qi(b))return"shared";if(Rk(b))return F(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function od(a,b){const e=a.scale[b],f=F(b)?"axis":"legend";return"independent"===e?("shared"===a[f][b]&&I(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[f][b]||"shared"}function Bc(a){return ae(a,(b,e)=>Math.max(b,e.value))}function Dd(a){return ae(a,(b,e)=>T(b,e.value))}
function ae(a,b){const e=null==a?void 0:a.condition;if(e&&(h.isArray(e)||Ic(e)))return h.array(a.condition).reduce(b,a.value);if(Ic(a))return a.value}function Ae(a,b,e){a=b.get("selections");if(null!=a&&a.length){var f=h.stringValue(e.field);return a.map(g=>`(!length(data(${h.stringValue(sa(g)+"_store")})) || (${g}[${f}] && indexof(${g}[${f}], datum.value) >= 0))`).join(" || ")}}function Td(a,b,e,f){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${f})`}}function Xe(a){if(Rf(a)){var {encoding:b}=
a,e={};for(dd of["color",...dh]){var f=Rd(b[dd]);if(f&&a.getScaleComponent(dd)&&("shape"!==dd||!va(f)||"geojson"!==f.type)){a:{var g=void 0,n=void 0,C=void 0,O=void 0,aa=void 0,ua,ab=ua=void 0,ob=void 0;f=a;var hc=dd;let gd=f.legend(hc);const {markDef:ke,encoding:be,config:Ce}=f;var Pc=Ce.legend;b:{var lc=f;var Lc=hc;O=lc.scaleName(Lc);if("trail"===lc.mark){if("color"===Lc){lc={stroke:O};break b}if("size"===Lc){lc={strokeWidth:O};break b}}lc="color"===Lc?lc.markDef.filled?{fill:O}:{stroke:O}:{[Lc]:O}}lc=
new Ml({},lc);Lc=null==(ob=f.fieldDef(hc))?void 0:ob.field;for(const af of og(null!=(ab=f.component.selection)?ab:{})){let dg;if((ab=null!=(dg=af.project.hasField[Lc])?dg:af.project.hasChannel[hc])&&wi.defined(af)){let bf;ob=null!=(bf=lc.get("selections"))?bf:[];ob.push(af.name);lc.set("selections",ob,!1);ab.hasLegend=!0}}ab=void 0!==gd?!gd:Pc.disable;lc.set("disable",ab,void 0!==gd);if(ab){f=lc;break a}gd=gd||{};ob=f.getScaleComponent(hc).get("type");ab=Rd(be[hc]);O=va(ab)?null==(ua=kd(ab.timeUnit))?
void 0:ua.unit:void 0;Lc=gd.orient||Ce.legend.orient||"right";ua={legend:gd,channel:hc,timeUnit:O,scaleType:ob};({legend:O}=ua);O=O.type;b:{let {channel:af,timeUnit:dg,scaleType:bf}=ua;if(K(af)){if(Ab(["quarter","month","day"],dg)){ua="symbol";break b}if(pg.has(bf)){ua="gradient";break b}}ua="symbol"}ua=T(O,ua);let {legendConfig:Qe,legendType:Nf,orient:ag,legend:Kg}={legend:gd,legendType:ua,orient:Lc,legendConfig:Pc};if(null!=(O=null!=(aa=Kg.direction)?aa:Qe[Nf?"gradientDirection":"symbolDirection"]))aa=
O;else b:{switch(ag){case "top":case "bottom":aa="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:aa="gradient"===Nf?"horizontal":void 0;break b}aa=void 0}Pc={legend:gd,channel:hc,model:f,markDef:ke,encoding:be,fieldOrDatumDef:ab,legendConfig:Pc,config:Ce,scaleType:ob,orient:Lc,legendType:ua,direction:aa};for(const af of Dk)if(!("gradient"===ua&&af.startsWith("symbol")||"symbol"===ua&&af.startsWith("gradient"))&&(aa=af in kl?kl[af](Pc):gd[af],void 0!==aa)){b:{ob=
O=void 0;Lc=f.fieldDef(hc);switch(af){case "disable":Lc=void 0!==gd;break b;case "values":Lc=!(null==(ob=gd)||!ob.values);break b;case "title":if("title"===af&&aa===(null==(O=Lc)?void 0:O.title)){Lc=!0;break b}}Lc=aa===(gd||{})[af]}((ob=Lc)||void 0===Ce.legend[af])&&lc.set(af,aa,ob)}Pc=null!=(n=null==(C=gd)?void 0:C.encoding)?n:{};n=lc.get("selections");C={};hc={fieldOrDatumDef:ab,model:f,channel:hc,legendCmpt:lc,legendType:ua};for(const af of"labels legend title symbols gradient entries".split(" ")){let dg;
aa=uc(null!=(dg=Pc[af])?dg:{},f);aa=af in El?El[af](aa,hc):aa;if(void 0!==aa&&!gb(aa)){let bf,Ch;C[af]=Object.assign({},(null==(bf=n)?0:bf.length)&&va(ab)?{name:`${sa(ab.field)}_legend_${af}`}:{},(null==(Ch=n)?0:Ch.length)?{interactive:!!n}:{},{update:aa})}}gb(C)||lc.set("encode",C,!(null==(g=gd)||!g.encoding));f=lc}e[dd]=f}}var dd=e}else{const {legends:gd,resolve:ke}=a.component;for(b of a.children){Xe(b);for(e of ud(b.component.legends))ke.legend[e]=od(a.component.resolve,e),"shared"===ke.legend[e]&&
(gd[e]=Pf(gd[e],b.component.legends[e]),gd[e]||(ke.legend[e]="independent",delete gd[e]))}for(f of ud(gd))for(g of a.children)g.component.legends[f]&&"shared"===ke.legend[f]&&delete g.component.legends[f];dd=gd}return a.component.legends=dd}function Pf(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const f=b.getWithExplicit("orient");if(!e.explicit||!f.explicit||e.value===f.value){var g=!1;for(const n of Dk)e=gh(a.getWithExplicit(n),b.getWithExplicit(n),n,"legend",(C,O)=>{switch(n){case "symbolType":return C=
"circle"===O.value?O:C,C;case "title":return fb(C,O);case "type":return g=!0,mg("symbol")}return Hh(C,O,n,"legend")}),a.setWithExplicit(n,e);if(g){let n,C;(null==(n=a.implicit)?0:null==(C=n.encode)?0:C.gradient)&&Ba(a.implicit,["encode","gradient"]);let O,aa;(null==(O=a.explicit)?0:null==(aa=O.encode)?0:aa.gradient)&&Ba(a.explicit,["encode","gradient"])}return a}}function Bf(a){const b=a.component.legends,e={};for(const g of ud(b)){var f=a.getScaleComponent(g);f=l(f.get("domains"));if(e[f])for(const n of e[f])Pf(n,
b[g])||e[f].push(b[g]);else e[f]=[b[g].clone()]}return og(e).flat().map(g=>{{var n=a.config,C=g.combine();g=Object.assign({},C);const hc=C.disable;C=C.labelExpr;g=(delete g.disable,delete g.labelExpr,delete g.selections,g);if(hc)var O=void 0;else{!1===n.aria&&void 0==g.aria&&(g.aria=!1);var aa;if(null==(aa=g.encode)?0:aa.symbols){n=g.encode.symbols.update;!n.fill||"transparent"===n.fill.value||n.stroke||g.stroke||(n.stroke={value:"transparent"});for(var ua of dh)g[ua]&&delete n[ua]}g.title||delete g.title;
if(void 0!==C){ua=C;var ab,ob;(null==(ab=g.encode)?0:null==(ob=ab.labels)?0:ob.update)&&Mb(g.encode.labels.update.text)&&(ua=qb(C,"datum.label",g.encode.labels.update.text.signal));ab=g;ob={signal:ua};null!=ab.encode||(ab.encode={});null!=(O=ab.encode).labels||(O.labels={});let Pc;null!=(Pc=ab.encode.labels).update||(Pc.update={});ab.encode.labels.update.text=ob}O=g}}return O}).filter(g=>void 0!==g)}function yg(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),Ug(a))}function Ug(a){var b=
a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:f}=e;if(b.data){const g={signal:`[${b.size.map(n=>n.signal).join(", ")}]`};b=b.data.reduce((n,C)=>{C=Mb(C)?C.signal:`data('${a.lookupDataSource(C)}')`;n.includes(C)||n.push(C);return n},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:g,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},
e)]}function He(a){var b=a.component;if(Rf(a))if(a.hasProjection){var e=Kb(a.specifiedProjection);var f=!(e&&(null!=e.scale||null!=e.translate));const n=f?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:O}=a;for(g of[["longitude","latitude"],["longitude2","latitude2"]])(Rd(O[g[0]])||Rd(O[g[1]]))&&f.push({signal:a.getName(`geojson_${f.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&f.push({signal:a.getName(`geojson_${f.length}`)});
0===f.length&&f.push(a.requestDataName(uf.Main));var g=f}else g=void 0;let C;a=new yj(a.projectionName(!0),Object.assign({},null!=(C=Kb(a.config.projection))?C:{},null!=e?e:{}),n,g);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=Of(a);b.projection=e}function ze(a,b){const e=jc(lm,f=>!h.hasOwnProperty(a.explicit,f)&&!h.hasOwnProperty(b.explicit,f)||h.hasOwnProperty(a.explicit,f)&&h.hasOwnProperty(b.explicit,f)&&qa(a.get(f),b.get(f))?!0:!1);if(qa(a.size,b.size)){if(e)return a;
if(qa(a.explicit,{}))return b;if(qa(b.explicit,{}))return a}return null}function Of(a){if(0!==a.children.length){var b;for(var e of a.children)He(e);e=jc(a.children,f=>{if(f=f.component.projection){if(b)return(f=ze(b,f))&&(b=f),!!f;b=f}return!0});if(b&&e){e=a.projectionName(!0);const f=new yj(e,b.specifiedProjection,b.size,Ee(b.data));for(const g of a.children)if(a=g.component.projection)a.isFit&&f.data.push(...g.component.projection.data),g.renameProjection(a.get("name"),e),a.merged=!0;return f}}}
function Dh(a,b,e){let f;e=null!=(f=Se(e,void 0))?f:{};b=`${Xa(e)}_${b}`;return a.getName(`${b}_bins`)}function Zd(a,b,e){let f;f="as"in a?h.isString(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[Rc(a,{forAs:!0}),Rc(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},Se(b,void 0));var g=a.field;g=`${Xa(b)}_${g}`;var n={signal:e.getName(`${g}_bins`),extentSignal:e.getName(`${g}_extent`)};const {signal:C,extentSignal:O}=n;if(Sb(b.extent)){var aa=b.extent;aa=aj(e,aa.param,aa);delete b.extent}a=Object.assign({},
{bin:b,field:a.field,as:[f]},C?{signal:C}:{},O?{extentSignal:O}:{},aa?{span:aa}:{});return{key:g,binComponent:a}}function Hd(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}function ce(a,b){a=Wa(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=Hd(b.slice(5,b.length)),`timeParse(${a},'${b}')`;
if(b.startsWith("utc:"))return b=Hd(b.slice(4,b.length)),`utcParse(${a},'${b}')`;I(`Unrecognized parse "${b}".`);return null}function Kd(a){const b={};ka(a.filter,e=>{if(eb(e)){let f=null;if(Ie(e))f=ra(e.equal);else if(tf(e))f=ra(e.lte);else if(Fe(e))f=ra(e.lt);else if(df(e))f=ra(e.gt);else if(E(e))f=ra(e.gte);else if(ca(e))f=e.range[0];else if(Ga(e)){let g;f=(null!=(g=e.oneOf)?g:e["in"])[0]}f&&(Ja(f)?b[e.field]="date":h.isNumber(f)?b[e.field]="number":h.isString(f)&&(b[e.field]="string"));e.timeUnit&&
(b[e.field]="date")}});return b}function xf(a){function b(f){if(td(f))e[f.field]="date";else{var g;if(g="quantitative"===f.type)g=f.aggregate,g=h.isString(g)&&Ab(["min","max"],g);g?e[f.field]="number":1<db(f.field)?f.field in e||(e[f.field]="flatten"):Zc(f)&&pe(f.sort)&&1<db(f.sort.field)&&(f.sort.field in e||(e[f.sort.field]="flatten"))}}const e={};(Rf(a)||lh(a))&&a.forEachFieldDef((f,g)=>{wc(f)?b(f):(g=Q(g),g=a.fieldDef(g),b(Object.assign({},f,{type:g.type})))});if(Rf(a)){const {mark:f,markDef:g,
encoding:n}=a;if(Qa(f)&&!a.encoding.order){const C=n["horizontal"===g.orient?"y":"x"];!va(C)||"quantitative"!==C.type||C.field in e||(e[C.field]="number")}}return e}function Yf(a){return a instanceof fa||a instanceof u||a instanceof S}function Cf(a){return a.stack.stackBy.reduce((b,e)=>{(e=Rc(e.fieldDef))&&b.push(e);return b},[])}function Qf(a){return h.isArray(a)&&a.every(b=>h.isString(b))&&1<a.length}function Lg(a){function b(e){if(!(e instanceof c)){const f=e.clone();if(f instanceof Tg){const g=
"scale_"+f.getSource();f.setSource(g);a.model.component.data.outputNodes[g]=f}else(f instanceof Bh||f instanceof ne||f instanceof re||f instanceof fe)&&f.addDimensions(a.fields);for(const g of e.children.flatMap(b))g.parent=f;return[f]}return e.children.flatMap(b)}return b}function sh(a){if(a instanceof c)if(1!==a.numChildren()||a.children[0]instanceof Tg){var b=a.model.component.data.main;ek(b);const e=Lg(a);a=a.children.map(e).flat();for(const f of a)f.parent=b}else b=a.children[0],(b instanceof
Bh||b instanceof ne||b instanceof re||b instanceof fe)&&b.addDimensions(a.fields),b.swapWithParent(),sh(a);else a.children.map(sh)}function ek(a){if(a instanceof Tg&&a.type===uf.Main&&1===a.numChildren()){const b=a.children[0];b instanceof c||(b.swapWithParent(),ek(a))}}function cj(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!cj(b.children))return!1}return!0}function bh(a,b){let e=!1;for(const f of b)e=a.optimize(f)||e;return e}function Aj(a,b,e){let f=a.sources,g=!1;
g=bh(new Wd,f)||g;g=bh(new Cd(b),f)||g;f=f.filter(n=>0<n.numChildren());g=bh(new eg,f)||g;f=f.filter(n=>0<n.numChildren());e||(g=bh(new ge,f)||g,g=bh(new Qc(b),f)||g,g=bh(new wd,f)||g,g=bh(new le,f)||g,g=bh(new vc,f)||g,g=bh(new Gc,f)||g,g=bh(new yd,f)||g,g=bh(new Jd,f)||g);a.sources=f;return g}function Bj(a){const b=a.component.scales;for(const ua of ud(b)){var e=a,f=ua,g=e.getScaleComponent(f).get("type"),{encoding:n}=e;var C=e.scaleDomain(f);var O=e.typedFieldDef(f),aa=e.config.scale;if("unaggregated"===
C){const {valid:ab,reason:ob}=jg(O,g);ab||(I(ob),C=void 0)}else void 0===C&&aa.useUnaggregatedDomain&&({valid:O}=jg(O,g),O&&(C="unaggregated"));C!==e.scaleDomain(f)&&(e.specifiedScales[f]=Object.assign({},e.specifiedScales[f],{domain:C}));e="x"===f&&Rd(n.x2)?Rd(n.x)?gh(ui(g,C,e,"x"),ui(g,C,e,"x2"),"domain","scale",Ek):ui(g,C,e,"x2"):"y"===f&&Rd(n.y2)?Rd(n.y)?gh(ui(g,C,e,"y"),ui(g,C,e,"y2"),"domain","scale",Ek):ui(g,C,e,"y2"):ui(g,C,e,f);b[ua].setWithExplicit("domains",e);C=f=void 0;g=a.component.scales[ua];
O=a.specifiedScales[ua].domain;n=null==(C=a.fieldDef(ua))?void 0:C.bin;C=(null==O?void 0:O.param)&&O;n=h.isObject(n)&&Sb(n.extent)&&n.extent;(C||n)&&g.set("selectionExtent",null!=(f=C)?f:n,!0);if(a.component.data.isFaceted){for(f=a;!lh(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[ua])for(const ab of e.value)yc(ab)&&(ab.data="scale_"+ab.data.replace("scale_",""))}}}function Uj(a){for(var b of a.children){var e=b;Rf(e)?Bj(e):Uj(e)}e=a.component.scales;for(const g of ud(e)){let n;
b=null;for(const C of a.children){var f=C.component.scales[g];f&&(n=void 0===n?f.getWithExplicit("domains"):gh(n,f.getWithExplicit("domains"),"domains","scale",Ek),f=f.get("selectionExtent"),b&&f&&b.param!==f.param&&I("The same selection must be used to override scale domains in a layered view."),b=f)}e[g].setWithExplicit("domains",n);b&&e[g].set("selectionExtent",b,!0)}}function Kl(a,b,e){return a.map(f=>({signal:`{data: ${Oe(f,{timeUnit:e,type:b})}}`}))}function ik(a,b,e){let f;e=null==(f=kd(e))?
void 0:f.unit;return"temporal"===b||e?Kl(a,b,e):[a]}function ui(a,b,e,f){const {encoding:g,markDef:n,mark:C,config:O,stack:aa}=e;var ua=Rd(g[f]),{type:ab}=ua;const ob=ua.timeUnit;if(null==b?0:b.unionWith)return f=ui(a,void 0,e,f),ua=ik(b.unionWith,ab,ob),Ig([...ua,...f.value]);if(Mb(b))return Ig([b]);if(b&&"unaggregated"!==b&&(null==b||!b.param))return Ig(ik(b,ab,ob));if(aa&&f===aa.fieldChannel){if("normalize"===aa.offset)return mg([[0,1]]);ua=e.requestDataName(uf.Main);return mg([{data:ua,field:e.vgField(f,
{suffix:"start"})},{data:ua,field:e.vgField(f,{suffix:"end"})}])}const hc=Nh[f]&&va(ua)?cm(e,f,a):void 0;if(Hb(ua))return f=ik([ua.datum],ab,ob),mg(f);if("unaggregated"===b)return f=e.requestDataName(uf.Main),{field:ua}=ua,mg([{data:f,field:Rc({field:ua,aggregate:"min"})},{data:f,field:Rc({field:ua,aggregate:"max"})}]);if(sb(ua.bin)){if(Md(a))return"bin-ordinal"===a?mg([]):mg([{data:fc(hc)?e.requestDataName(uf.Main):e.requestDataName(uf.Raw),field:e.vgField(f,pf(ua,f)?{binSuffix:"range"}:{}),sort:!0!==
hc&&h.isObject(hc)?hc:{field:e.vgField(f,{}),op:"min"}}]);({bin:b}=ua);if(sb(b)){const Pc=Dh(e,ua.field,b);return mg([new ie(()=>{const lc=e.getSignalName(Pc);return`[${lc}.start, ${lc}.stop]`})])}return mg([{data:e.requestDataName(uf.Main),field:e.vgField(f,{})}])}return ua.timeUnit&&Ab(["time","utc"],a)&&(ab=g[W(f)],p(ua,ab,n,O))?(b=e.requestDataName(uf.Main),ua=y({fieldDef:ua,fieldDef2:ab,markDef:n,config:O}),ua=ac(C)&&.5!==ua&&F(f),mg([{data:b,field:e.vgField(f,ua?{suffix:"offsetted_rect_start"}:
{})},{data:b,field:e.vgField(f,{suffix:ua?"offsetted_rect_end":"end"})}])):hc?mg([{data:fc(hc)?e.requestDataName(uf.Main):e.requestDataName(uf.Raw),field:e.vgField(f),sort:hc}]):mg([{data:e.requestDataName(uf.Main),field:e.vgField(f)}])}function Yk(a,b){const {op:e,field:f,order:g}=a;return Object.assign({},{op:null!=e?e:b?"sum":"min"},f?{field:$a(f)}:{},g?{order:g}:{})}function cm(a,b,e){if(Md(e)){var f=a.fieldDef(b);e=f.sort;if(de(e))return{op:"min",field:gi(f,b),order:"ascending"};({stack:f}=a);
var g=f?new Set([...f.groupbyFields,...f.stackBy.map(n=>n.fieldDef.field)]):void 0;if(pe(e))return a=f&&!g.has(e.field),Yk(e,a);if(null!=e&&e.encoding){const {encoding:n,order:C}=e;a=a.fieldDef(n);const {aggregate:O,field:aa}=a;b=f&&!g.has(aa);if(la(O)||wa(O))return Yk({field:Rc(a),order:C},b);if(Na(O)||!O)return Yk({op:O,field:aa,order:C},b)}else{if("descending"===e)return{op:"min",field:a.vgField(b),order:"descending"};if(Ab(["ascending",void 0],e))return!0}}}function jg(a,b){const {aggregate:e,
type:f}=a;return e?h.isString(e)&&!Wk.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${l(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${l(a)}).`}}function Ek(a,b,e,f){if(a.explicit&&b.explicit){var g=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${l(a.value)} and ${l(g)}). Using the union of the two domains.`;
I(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function Fk(a){var b=Za(a.map(g=>yc(g)?(g=Object.assign({},g),delete g.sort,g):g),Wb),e=Za(a.map(g=>{if(yc(g))return g=g.sort,void 0===g||fc(g)||("op"in g&&"count"===g.op&&delete g.field,"ascending"===g.order&&delete g.order),g}).filter(g=>void 0!==g),Wb);if(0!==b.length){if(1===b.length){b=a[0];if(yc(b)&&0<e.length){var f=e[0];1<e.length?(I("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=
e.filter(g=>h.isObject(g)&&"op"in g&&"min"!==g.op),f=e.every(g=>h.isObject(g)&&"op"in g)&&1===f.length?f[0]:!0):h.isObject(f)&&"field"in f&&b.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},b,{sort:f})}return b}e=Za(e.map(g=>{if(fc(g)||!("op"in g)||h.isString(g.op)&&g.op in Ul)return g;I(`Dropping sort property ${l(g)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Wb);1===e.length?f=e[0]:1<e.length&&(I("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
f=!0);e=Za(a.map(g=>yc(g)?g.data:null),g=>g);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(g=>g.field)},f?{sort:f}:{}):Object.assign({},{fields:b},f?{sort:f}:{})}}function Zj(a){if(yc(a)&&h.isString(a.field))return a.field;var b=h.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const f of a.fields)if(yc(f)&&h.isString(f.field))if(!e)e=f.field;else if(e!==f.field)return I("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
e;I("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=h.isArray(a)?!1:"fields"in a&&"data"in a;if(b)return I("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
a=a.fields[0],h.isString(a)?a:void 0}function Ri(a,b){b=a.component.scales[b].get("domains").map(e=>{yc(e)&&(e.data=a.lookupDataSource(e.data));return e});return Fk(b)}function ml(a){return Qi(a)||Rk(a)?a.children.reduce((b,e)=>b.concat(ml(e)),Gk(a)):Gk(a)}function Gk(a){return ud(a.component.scales).reduce((b,e)=>{var f=a.component.scales[e];if(f.merged)return b;var g=f.combine(),n=Object.assign({},g);const C=g.name,O=g.type;var aa=g.selectionExtent;const ua=g.reverse;n=(delete n.name,delete n.type,
delete n.selectionExtent,delete n.domains,delete n.range,delete n.reverse,n);g=g.range;F(e)?Ob(g)&&(g={step:{signal:`${C}_step`}}):h.isObject(g)&&yc(g)&&(g=Object.assign({},g,{data:a.lookupDataSource(g.data)}));e=Ri(a,e);aa?(aa=aj(a,aa.param,aa),f={signal:Ld(f.get("type"))&&h.isArray(e)&&e[0]>e[1]?`isValid(${aa}) && reverse(${aa})`:aa}):f=null;b.push(Object.assign({},{name:C,type:O},e?{domain:e}:{},f?{domainRaw:f}:{},{range:g},void 0!==ua?{reverse:ua}:{},n));return b},[])}function Cj(a,b){var e=a.fieldDef(b);
if(null==e?0:e.bin){const {bin:f,field:g}=e;e=G(b);const n=a.getName(e);if(h.isObject(f)&&f.binned&&void 0!==f.step)return new ie(()=>{var C=a.scaleName(b);C=`(domain("${C}")[1] - domain("${C}")[0]) / ${f.step}`;return`${a.getSignalName(n)} / (${C})`});if(sb(f)){const C=Dh(a,g,f);return new ie(()=>{var O=a.getSignalName(C);O=`(${O}.stop - ${O}.start) / ${O}.step`;return`${a.getSignalName(n)} / (${O})`})}}}function Xh(a,b){const e=b.specifiedScales[a];var {size:f}=b,g=b.getScaleComponent(a).get("type");
for(var n of kf)if(void 0!==e[n]){const aa=Bd(g,n),ua=Xd(a,n);if(aa)if(ua)I(ua);else switch(n){case "range":g=e.range;if(h.isArray(g)){if(F(a))return Ig(g.map(ab=>{if("width"===ab||"height"===ab){ab=b.getName(ab);const ob=b.getSignalName.bind(b);return ie.fromName(ob,ab)}return ab}))}else if(h.isObject(g))return Ig({data:b.requestDataName(uf.Main),field:g.field,sort:{op:"min",field:b.vgField(a)}});return Ig(g);case "scheme":return Ig(Oh(e[n]))}else I(Gd(g,n,a))}n="x"===a||"xOffset"===a?"width":"height";
f=f[n];if(De(f))if(F(a))if(Md(g)){if(f=Dj(f,b,a))return Ig({step:f})}else I(vd(n));else if(a in Ti&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(f=Oj(f,g)))return Ig(f);const {rangeMin:C,rangeMax:O}=e;a=Ll(a,b);return(void 0!==C||void 0!==O)&&Bd(g,"rangeMin")&&h.isArray(a)&&2===a.length?Ig([null!=C?C:a[0],null!=O?O:a[1]]):mg(a)}function Oh(a){return!h.isString(a)&&a.name?Object.assign({},{scheme:a.name},dc(a,["name"])):{scheme:a}}function jl(a,b,e){let {center:f}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};var g=G(a);g=b.getName(g);const n=b.getSignalName.bind(b);return"y"===a&&Ld(e)?f?[ie.fromName(C=>`${n(C)}/2`,g),ie.fromName(C=>`-${n(C)}/2`,g)]:[ie.fromName(n,g),0]:f?[ie.fromName(C=>`-${n(C)}/2`,g),ie.fromName(C=>`${n(C)}/2`,g)]:[0,ie.fromName(n,g)]}function Ll(a,b){const {size:e,config:f,mark:g,encoding:n}=b;var {type:C}=Rd(n[a]);const O=b.getScaleComponent(a).get("type"),{domain:aa,domainMid:ua}=b.specifiedScales[a];switch(a){case "x":case "y":return Ab(["point",
"band"],O)&&(C=Vj(a,e,f.view),De(C))?{step:Dj(C,b,a)}:jl(a,b,O);case "xOffset":case "yOffset":return yf(a,b,O);case "size":C=b.component.scales[a].get("zero");C=ii(g,C,f);const ab=Ci(g,e,b,f);return $h.has(O)?Bi(C,ab,Wj(O,f,aa,a)):[C,ab];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ie(()=>{const ob=b.getSignalName("width"),hc=b.getSignalName("height");return`min(${ob},${hc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,
0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===O?"nominal"===C?"category":"ordinal":void 0!==ua?"diverging":"rect"===g||"geoshape"===g?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Dj(a,b,e){var {encoding:f}=b,g=b.getScaleComponent(e);e=z(e);const n=f[e];if("offset"===rf({step:a,offsetIsDiscrete:tc(n)&&Oc(n.type)})&&Tf(f,e)){f=b.getScaleComponent(e);
b=`domain('${b.scaleName(e)}').length`;if("band"===f.get("type")){var C;let ua;e=null!=(ua=null!=(C=f.get("paddingInner"))?C:f.get("padding"))?ua:0;var O;let ab;C=null!=(ab=null!=(O=f.get("paddingOuter"))?O:f.get("padding"))?ab:0;b=`bandspace(${b}, ${e}, ${C})`}var aa;O=null!=(aa=g.get("paddingInner"))?aa:g.get("padding");a=a.step;g=b;aa=O;aa=Mb(aa)?aa.signal:h.stringValue(aa);return{signal:`${a} * ${g} / (1-${aa})`}}return a.step}function Oj(a,b){if("offset"===rf({step:a,offsetIsDiscrete:Md(b)}))return{step:a.step}}
function yf(a,b,e){var f="xOffset"===a?"x":"y",g=b.getScaleComponent(f);if(!g)return jl(f,b,e,{center:!0});g=g.get("type");const n=b.scaleName(f),{markDef:C,config:O}=b;if("band"===g)return b=Vj(f,b.size,b.config.view),De(b)&&(b=Oj(b,e))?b:[0,{signal:`bandwidth('${n}')`}];e=b.encoding[f];return va(e)&&e.timeUnit?(a=he(e.timeUnit,aa=>`scale('${n}', ${aa})`),b=b.config.scale.bandWithNestedOffsetPaddingInner,f=y({fieldDef:e,markDef:C,config:O})-.5,g=0!==f?` + ${f}`:"",b?(e=Mb(b)?`${b.signal}/2`+g:`${b/
2+f}`,b=Mb(b)?`(1 - ${b.signal}/2)`+g:`${1-b/2+f}`,[{signal:`${e} * (${a})`},{signal:`${b} * (${a})`}]):[0,{signal:a}]):ub(`Cannot use ${a} scale if ${f} scale is not discrete.`)}function Vj(a,b,e){a="x"===a?"width":"height";return(b=b[a])?b:Gf(e,a)}function Wj(a,b,e,f){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&h.isArray(e))return e.length+1;I(`Domain for ${f} is required for threshold scale.`);return 3}}function Bi(a,
b,e){const f=()=>{const g=Fb(b),n=Fb(a),C=`(${g} - ${n}) / (${e} - 1)`;return`sequence(${n}, ${g} + ${C}, ${C})`};return Mb(b)?new ie(f):{signal:f()}}function ii(a,b,e){if(b)return Mb(b)?{signal:`${b.signal} ? 0 : ${ii(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(ed("size",a));}function Ci(a,
b,e,f){e={x:Cj(e,"x"),y:Cj(e,"y")};switch(a){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const g=ej(b,e,f.view);return h.isNumber(g)?g-1:new ie(()=>`${g.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const n=ej(b,e,f.view);return h.isNumber(n)?Math.pow(.95*n,2):new ie(()=>`pow(${.95} * ${n.signal}, 2)`)}throw Error(ed("size",
a));}function ej(a,b,e){const f=De(a.width)?a.width.step:wf(e,"width"),g=De(a.height)?a.height.step:wf(e,"height");return b.x||b.y?new ie(()=>`min(${[b.x?b.x.signal:f,b.y?b.y.signal:g].join(", ")})`):Math.min(f,g)}function fj(a,b){if(Rf(a)){const C=a.component.scales,{config:O,encoding:aa,markDef:ua,specifiedScales:ab}=a;for(const ob of ud(C)){var e=ab[ob];const hc=C[ob];var f=a.getScaleComponent(ob),g=Rd(aa[ob]),n=e[b];const Pc=f.get("type"),lc=f.get("padding");f=f.get("paddingInner");const Lc=Bd(Pc,
b),dd=Xd(ob,b);void 0!==n&&(Lc?dd&&I(dd):I(Gd(Pc,b,ob)));if(Lc&&void 0===dd)if(void 0!==n)switch(n=g.timeUnit,g=g.type,b){case "domainMax":case "domainMin":Ja(e[b])||"temporal"===g||n?hc.set(b,{signal:Oe(e[b],{type:g,timeUnit:n})},!0):hc.set(b,e[b],!0);break;default:hc.copyKeyFromObject(b,e)}else e=b in ni?ni[b]({model:a,channel:ob,fieldOrDatumDef:g,scaleType:Pc,scalePadding:lc,scalePaddingInner:f,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:ua,config:O,hasNestedOffsetScale:qf(aa,
ob),hasSecondaryRangeChannel:!!aa[W(ob)]}):O.scale[b],void 0!==e&&hc.set(b,e,!1)}}else ll(a,b)}function ji(a){if(Rf(a)){const b=a.component.scales;for(const e of zk){const f=b[e];if(!f)continue;const g=Xh(e,a);f.setWithExplicit("range",g)}}else ll(a,"range")}function ll(a,b){const e=a.component.scales;for(var f of a.children)"range"===b?ji(f):fj(f,b);for(const g of ud(e)){let n;for(const C of a.children)if(f=C.component.scales[g])f=f.getWithExplicit(b),n=gh(n,f,b,"scale",zh((O,aa)=>{switch(b){case "range":if(O.step&&
aa.step)return O.step-aa.step}return 0}));e[g].setWithExplicit(b,n)}}function gj(a,b){const e=b.bin;if(sb(e)){const f=Dh(a,b.field,e);return new ie(()=>a.getSignalName(f))}if(ib(e)&&h.isObject(e)&&void 0!==e.step)return{step:e.step}}function Xj(a,b,e,f,g){let n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(F(b)){const {bandPaddingInner:C,barBandPaddingInner:O,rectBandPaddingInner:aa,bandWithNestedOffsetPaddingInner:ua}=g;return n?ua:T(C,"bar"===e?O:aa)}if(b in Ti&&f===
kg.BAND)return g.offsetBandPaddingInner}}function Yj(a,b,e,f,g){let n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(F(b)){const {bandPaddingOuter:C,bandWithNestedOffsetPaddingOuter:O}=g;if(n)return O;if(e===kg.BAND)return T(C,Mb(f)?{signal:`${f.signal}/2`}:f/2)}else if(b in Ti){if(e===kg.POINT)return.5;if(e===kg.BAND)return g.offsetBandPaddingOuter}}function Di(a,b,e,f){const g=Hk(b,e,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:n}=a;if(!Nh[b])return null;
if(void 0!==n){if(!Ca(b,n))return I(`Channel "${b}" does not work with "${n}" scale. We are using "${g}" scale instead.`),g;var C;if(C=va(e))C=e.type,C=!(Ab(["ordinal","nominal"],C)?void 0===n||Md(n):"temporal"===C?Ab([kg.TIME,kg.UTC,void 0],n):"quantitative"===C?li.has(n)||$h.has(n)||void 0===n:1);return C?(I(`FieldDef does not work with "${n}" scale. We are using "${g}" scale instead.`),g):n}return g}function Hk(a,b,e,f){switch(b.type){case "nominal":case "ordinal":if(K(a)||"discrete"===N(a))return"shape"===
a&&"ordinal"===b.type&&I(Id(a,"ordinal")),"ordinal";if(F(a)||a in Ti){if(Ab(["rect","bar","image","rule"],e.type)||f)return"band"}else if("arc"===e.type&&a in fk)return"band";a=e[G(a)];if(sc(a))return"band";let g;return Yc(b)&&(null==(g=b.axis)?0:g.tickBand)?"band":"point";case "temporal":if(!K(a)){if("discrete"===N(a))return I(Id(a,"temporal")),"ordinal";if(va(b)&&b.timeUnit&&kd(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(K(a)){if(va(b)&&sb(b.bin))return"bin-ordinal"}else if("discrete"===
N(a))return I(Id(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);}function ak(a){let {ignoreRange:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dj(a);Rf(a)?Bj(a):Uj(a);for(const e of jk)fj(a,e);b||ji(a)}function dj(a){if(Rf(a)){var b=a.component;const {encoding:aa,mark:ua,markDef:ab}=a;var e={};for(var f of zk){var g=Rd(aa[f]);if(!g||ua!==oi||"shape"!==f||"geojson"!==g.type){var n=g&&g.scale;if(g&&null!==n&&!1!==n){null!=
n||(n={});var C=qf(aa,f);g=Di(n,f,g,ab,C);e[f]=new Ag(a.scaleName(`${f}`,!0),{value:g,explicit:n.type===g})}}}b.scales=e}else{f=a.component;n=a.component.scales={};g={};const aa=a.component.resolve;for(C of a.children){dj(C);for(var O of ud(C.component.scales)){let ua,ab;null!=(ua=aa.scale)[ab=O]||(ua[ab]=ad(O,a));if("shared"===aa.scale[O]){const ob=g[O],hc=C.component.scales[O].getWithExplicit("type");if(ob){const Pc=Fg[ob.value],lc=Fg[hc.value];Pc===lc||"ordinal-position"===Pc&&"time"===lc||"ordinal-position"===
lc&&"time"===Pc?g[O]=gh(ob,hc,"type","scale",Wl):(aa.scale[O]="independent",delete g[O])}else g[O]=hc}}}for(b of ud(g)){C=a.scaleName(b,!0);n[b]=new Ag(C,g[b]);for(e of a.children)if(O=e.component.scales[b])e.renameScale(O.get("name"),C),O.merged=!0}f.scales=n}}function Rf(a){return"unit"===(null==a?void 0:a.type)}function lh(a){return"facet"===(null==a?void 0:a.type)}function Rk(a){return"concat"===(null==a?void 0:a.type)}function Qi(a){return"layer"===(null==a?void 0:a.type)}function wk(a){function b(f,
g){f instanceof fa&&!(f.isGenerator||"url"in f.data)&&(a.push(g),g={name:null,source:g.name,transform:[]});if(f instanceof d)if(f.parent instanceof fa&&!g.source){var n;g.format=Object.assign({},null!=(n=g.format)?n:{},{parse:f.assembleFormatParse()});g.transform.push(...f.assembleTransforms(!0))}else g.transform.push(...f.assembleTransforms());if(f instanceof c)g.name||(g.name=`data_${e++}`),!g.source||0<g.transform.length?(a.push(g),f.data=g.name):f.data=g.source,a.push(...f.assemble());else switch((f instanceof
u||f instanceof S||f instanceof Fl||f instanceof ti||f instanceof Ni||f instanceof Gl||f instanceof Bh||f instanceof Hl||f instanceof re||f instanceof fe||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof k||f instanceof sm||f instanceof tm||f instanceof um)&&g.transform.push(f.assemble()),(f instanceof Ai||f instanceof Ah||f instanceof Ck||f instanceof ne||f instanceof il)&&g.transform.push(...f.assemble()),f instanceof Tg&&(g.source&&
0===g.transform.length?f.setSource(g.source):f.parent instanceof Tg?f.setSource(g.name):(g.name||(g.name=`data_${e++}`),f.setSource(g.name),1===f.numChildren()&&(a.push(g),g={name:null,source:g.name,transform:[]}))),f.numChildren()){case 0:f instanceof Tg&&(!g.source||0<g.transform.length)&&a.push(g);break;case 1:b(f.children[0],g);break;default:g.name||(g.name=`data_${e++}`);n=g.name;!g.source||0<g.transform.length?a.push(g):n=g.source;for(const C of f.children)b(C,{name:null,source:n,transform:[]})}}
let e=0;return b}function Sj(a){const b=[],e=wk(b);for(const f of a.children)e(f,{source:a.name,name:null,transform:[]});return b}function xk(a,b){const e=[];var f=wk(e);let g=0;for(const n of a.sources){n.hasName()||(n.dataName=`source_${g++}`);const C=n.assemble();f(n,C)}for(const n of e)0===n.transform.length&&delete n.transform;f=0;for(const n of e.entries()){const [C,O]=n;let aa;0!==(null!=(aa=O.transform)?aa:[]).length||O.source||e.splice(f++,0,e.splice(C,1)[0])}for(const n of e){let C;for(const O of null!=
(C=n.transform)?C:[])"lookup"===O.type&&(O.from=a.outputNodes[O.from].getSource())}for(const n of e)n.name in b&&(n.values=b[n.name]);return e}function Ok(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Al(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:f,resolve:g}=a.component;g.axis[b]=od(g,b);if("shared"===g.axis[b]){const n="x"===b?"column":"row",C=f[n];for(const O of e.component.axes[b]){b=
O.get("orient");b="top"===b||"left"===b||Mb(b)?"header":"footer";let aa,ua;null!=(aa=C)[ua=b]||(aa[ua]=[Ok(a,n,!1)]);(e=kh(O,"main",a.config,{header:!0}))&&C[b][0].axes.push(e);O.mainExtracted=!0}}}}function Pk(a){for(const b of a.children)b.parseLayoutSize()}function yk(a,b){const e=Jb(b),f=V(e),g=a.component.resolve,n=a.component.layoutSize;let C;for(const O of a.children){const aa=O.component.layoutSize.getWithExplicit(e);let ua;const ab=null!=(ua=g.scale[f])?ua:ad(f,a);if("independent"===ab&&
"step"===aa.value){C=void 0;break}if(C){if("independent"===ab&&C.value!==aa.value){C=void 0;break}C=gh(C,aa,e,"")}else C=aa}if(C){for(const O of a.children)a.renameSignal(O.getName(e),a.getName(b)),O.component.layoutSize.set(e,"merged",!1);n.setWithExplicit(b,C)}else n.setWithExplicit(b,{explicit:!1,value:void 0})}function Nk(a,b){const e=a.config;var f=a.getScaleComponent("width"===b?"x":"y");if(f)return a=f.get("type"),f=f.get("range"),Md(a)?(b=Gf(e.view,b),Ob(f)||De(b)?"step":b):Wf(e.view,b);if(a.hasProjection||
"arc"===a.mark)return Wf(e.view,b);b=Gf(e.view,b);return De(b)?b.step:b}function cl(a,b,e){return Rc(b,Object.assign({},{suffix:`by_${Rc(a)}`},null!=e?e:{}))}function ol(a,b){for(const f of b){b=f.data;if(a.name&&f.hasName()&&a.name!==f.dataName)continue;let g;const n=null==(g=a.format)?void 0:g.mesh;let C;var e=null==(C=b.format)?void 0:C.feature;if(n&&e)continue;let O;const aa=null==(O=a.format)?void 0:O.feature;if((aa||e)&&aa!==e)continue;let ua;e=null==(ua=b.format)?void 0:ua.mesh;if(!n&&!e||
n===e)if("values"in a&&"values"in b){if(qa(a.values,b.values))return f}else if("url"in a&&"url"in b){if(a.url===b.url)return f}else if(Mf(a)&&a.name===f.dataName)return f}return null}function dm(a,b){if(a.data||!a.parent){if(null===a.data)return a=new fa({values:[]}),b.push(a),a;const e=ol(a.data,b);if(e)return ng(a.data)||(e.data.format=Ea({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new fa(a.data);b.push(a);return a}return a.parent.component.data.facetRoot?
a.parent.component.data.facetRoot:a.parent.component.data.main}function gk(a){var b=dm(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:f}=a.component.data;var g=a.data;const n=g&&(ng(g)||"url"in g||"values"in g)||!a.parent?new Mj:a.parent.component.data.ancestorParse.clone();if(ng(g))"sequence"in g?b=new S(b,g.sequence):"graticule"in g&&(b=new u(b,g.graticule)),n.parseNothing=!0;else{let be;null===(null==g?void 0:null==(be=g.format)?void 0:be.parse)&&(n.parseNothing=!0)}var C;
b=null!=(C=d.makeExplicit(b,a,n))?C:b;b=new k(b);g=a.parent&&Qi(a.parent);if((Rf(a)||lh(a))&&g){var O;b=null!=(O=Ai.makeFromEncoding(b,a))?O:b}if(0<a.transforms.length){O=0;for(var aa of a.transforms){var ua=C=void 0;if("calculate"in aa)ua=b=new Ni(b,aa),C="derived";else if("filter"in aa){ua=Kd(aa);var ab=void 0;ua=b=null!=(ab=d.makeWithAncestors(b,{},ua,n))?ab:b;b=new ti(b,a,aa.filter)}else if("bin"in aa)ua=b=Ai.makeFromTransform(b,aa,a),C="number";else if("timeUnit"in aa)C="date",void 0===n.getWithExplicit(aa.field).value&&
(b=new d(b,{[aa.field]:C}),n.set(aa.field,C,!1)),ua=b=Ah.makeFromTransform(b,aa);else if("aggregate"in aa)ua=b=Bh.makeFromTransform(b,aa),C="number",qg(a)&&(b=new k(b));else if("lookup"in aa)ua=b=Hl.make(b,a,aa,O++),C="derived";else if("window"in aa)ua=b=new re(b,aa),C="number";else if("joinaggregate"in aa)ua=b=new fe(b,aa),C="number";else if("stack"in aa)ua=b=ne.makeFromTransform(b,aa),C="derived";else if("fold"in aa)ua=b=new mm(b,aa),C="derived";else if("extent"in aa&&!("density"in aa))ua=b=new um(b,
aa),C="derived";else if("flatten"in aa)ua=b=new nm(b,aa),C="derived";else if("pivot"in aa)ua=b=new tm(b,aa),C="derived";else if("sample"in aa)b=new sm(b,aa);else if("impute"in aa)ua=b=Ck.makeFromTransform(b,aa),C="derived";else if("density"in aa)ua=b=new om(b,aa),C="derived";else if("quantile"in aa)ua=b=new qm(b,aa),C="derived";else if("regression"in aa)ua=b=new rm(b,aa),C="derived";else if("loess"in aa)ua=b=new pm(b,aa),C="derived";else{I(`Ignoring an invalid transform: ${l(aa)}.`);continue}if(ua&&
void 0!==C){let be;for(const Ce of null!=(be=ua.producedFields())?be:[])n.set(Ce,C,!1)}}}aa={};if(Rf(a)&&a.component.selection)for(var ob of ud(a.component.selection)){ab=a.component.selection[ob];for(const be of ab.project.items)!be.channel&&1<db(be.field)&&(aa[be.field]="flatten")}ob=xf(a);var hc;b=null!=(hc=d.makeWithAncestors(b,{},Object.assign({},aa,ob),n))?hc:b;Rf(a)&&(b=il.parseAll(b,a),b=Gl.parseAll(b,a));if(Rf(a)||lh(a)){if(!g){let be;b=null!=(be=Ai.makeFromEncoding(b,a))?be:b}var Pc;b=null!=
(Pc=Ah.makeFromEncoding(b,a))?Pc:b;b=Ni.parseAllForSortIndex(b,a)}Pc=a.getDataName(uf.Raw);hc=new Tg(b,Pc,uf.Raw,f);b=e[Pc]=hc;if(Rf(a)){if(Pc=Bh.makeFromEncoding(b,a))b=Pc,qg(a)&&(b=new k(b));var lc;b=null!=(lc=Ck.makeFromEncoding(b,a))?lc:b;var Lc;b=null!=(Lc=ne.makeFromEncoding(b,a))?Lc:b}if(Rf(a)){let be;b=null!=(be=Fl.make(b,a))?be:b}Lc=a.getDataName(uf.Main);lc=new Tg(b,Lc,uf.Main,f);b=e[Lc]=lc;if(Rf(a)){var dd;for(var gd of Fi(null!=(dd=a.component.selection)?dd:{})){const [be,Ce]=gd;dd=a.getName(`lookup_${be}`);
a.component.data.outputNodes[dd]=Ce.materialized=new Tg(new ti(lc,a,{param:be}),dd,uf.Lookup,a.component.data.outputNodeRefCounts)}}dd=null;if(lh(a)){gd=a.getName("facet");let be;{dd=b;const {row:Ce,column:Qe}=a.facet;if(Ce&&Qe){Lc=null;for(ke of[Ce,Qe])if(pe(ke.sort)){const {field:Nf,op:ag="min"}=ke.sort;dd=Lc=new fe(dd,{joinaggregate:[{op:ag,field:Nf,as:cl(ke,ke.sort,{forAs:!0})}],groupby:[Rc(ke)]})}var ke=Lc}else ke=null}b=null!=(be=ke)?be:b;dd=new c(b,a,gd,lc.getSource());e[gd]=dd}return Object.assign({},
a.component.data,{outputNodes:e,outputNodeRefCounts:f,raw:hc,main:lc,facetRoot:dd,ancestorParse:n})}function em(a,b,e){const {encoding:f,config:g}=a;let n;const C=null!=(n=Rd(f[b]))?n:Rd(f[W(b)]);a=a.axis(b)||{};const {format:O,formatType:aa}=a;if(oe(aa))return Object.assign({},{text:Je({fieldOrDatumDef:C,field:"datum.value",format:O,formatType:aa,config:g})},e);if(void 0===O&&void 0===aa&&g.customFormatTypes){if("quantitative"===Cb(C)){if(Yc(C)&&"normalize"===C.stack&&g.normalizedNumberFormatType)return Object.assign({},
{text:Je({fieldOrDatumDef:C,field:"datum.value",format:g.normalizedNumberFormat,formatType:g.normalizedNumberFormatType,config:g})},e);if(g.numberFormatType)return Object.assign({},{text:Je({fieldOrDatumDef:C,field:"datum.value",format:g.numberFormat,formatType:g.numberFormatType,config:g})},e)}if("temporal"===Cb(C)&&g.timeFormatType&&va(C)&&!C.timeUnit)return Object.assign({},{text:Je({fieldOrDatumDef:C,field:"datum.value",format:g.timeFormat,formatType:g.timeFormatType,config:g})},e)}return e}function ql(a){return Qh.reduce((b,
e)=>{a.component.scales[e]&&(b[e]=[hm(e,a)]);return b},{})}function fm(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let f=0;f<e;f++){const g=a[f],n=b[f];if(!!g!==!!n)return;if(g&&n){const C=g.getWithExplicit("orient"),O=n.getWithExplicit("orient");if(C.explicit&&O.explicit&&C.value!==O.value)return;a[f]=gm(g,n)}}}else return b.map(e=>e.clone());return a}function gm(a,b){for(const e of Am){const f=gh(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(g,n)=>{switch(e){case "title":return fb(g,
n);case "gridScale":return{explicit:g.explicit,value:T(g.value,n.value)}}return Hh(g,n,e,"axis")});a.setWithExplicit(e,f)}return a}function Ol(a,b,e,f,g){if("disable"===b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Mb(e.labelAngle)?e.labelAngle:Ma(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===bj(f,g))return!0}return a===e[b]}function hm(a,b){let e=b.axis(a);const f=new Bm;var g=Rd(b.encoding[a]);
const {mark:n,config:C}=b;var O,aa,ua,ab=(null==(O=e)?void 0:O.orient)||(null==(aa=C["x"===a?"axisX":"axisY"])?void 0:aa.orient)||(null==(ua=C.axis)?void 0:ua.orient)||("x"===a?"bottom":"left");aa=b.getScaleComponent(a).get("type");O=bl(a,aa,ab,b.config);var ob;ua=void 0!==e?!e:xi("disable",C.style,null==(ob=e)?void 0:ob.style,O).configValue;f.set("disable",ua,void 0!==e);if(ua)return f;e=e||{};ob=Qj(g,e,a,C.style,O);ua=of(e.formatType,g,aa);const hc=ef(g,g.type,e.format,e.formatType,C,!0);g={fieldOrDatumDef:g,
axis:e,channel:a,model:b,scaleType:aa,orient:ab,labelAngle:ob,format:hc,formatType:ua,mark:n,config:C};for(const Lc of Am)if(ab=Lc in rk?rk[Lc](g):rg[Lc]?e[Lc]:void 0,aa=void 0!==ab,ob=Ol(ab,Lc,e,b,a),aa&&ob)f.set(Lc,ab,ob);else{const {configValue:dd,configFrom:gd}=rg[Lc]&&"values"!==Lc?xi(Lc,C.style,e.style,O):{};ua=void 0!==dd;aa&&!ua?f.set(Lc,ab,ob):("vgAxisConfig"!==gd||Im.has(Lc)&&ua||lg(dd)||Mb(dd))&&f.set(Lc,dd,!1)}var Pc;const lc=null!=(Pc=e.encoding)?Pc:{};Pc=lk.reduce((Lc,dd)=>{if(!f.hasAxisPart(dd))return Lc;
var gd;const ke=uc(null!=(gd=lc[dd])?gd:{},b);gd="labels"===dd?em(b,a,ke):ke;void 0===gd||gb(gd)||(Lc[dd]={update:gd});return Lc},{});gb(Pc)||f.set("encode",Pc,!!e.encoding||void 0!==e.labelAngle);return f}function Rl(a){let {encoding:b,size:e}=a;for(const f of Qh)a=G(f),De(e[a])&&Xb(b[f])&&(delete e[a],I(vd(a)));return e}function dl(a,b){var e=Object,f=e.assign,g=Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),n=zd("x",a,{defaultPos:"mid"}),
C=zd("y",a,{defaultPos:"mid"}),O=xc("size",a),aa=xc("angle",a);a=b?{shape:{value:b}}:xc("shape",a);return f.call(e,{},g,n,C,O,aa,a)}function pl(a){if(Ab([Vg,ai,tl],a.mark)){var b=Dg(a.mark,a.encoding);if(0<b.length)return im(a,b)}else if(a.mark===Fh&&(b=Ak.some(e=>Zb(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return Sl(a);return Qk(a)}function im(a,b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(uf.Main),data:a.requestDataName(uf.Main),
groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Qk(a,{fromPrefix:"faceted_path_"})}]}function Sl(a){const [b]=Qk(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),f=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var g=(ua,ab)=>{ab=[f({prefix:"min",suffix:"start",expr:ab}),f({prefix:"max",suffix:"start",expr:ab}),f({prefix:"min",suffix:"end",expr:ab}),f({prefix:"max",suffix:"end",
expr:ab})];return`${ua}(${ab.map(ob=>`scale('${e}',${ob})`).join(",")})`};let n;"x"===a.stack.fieldChannel?(g=Object.assign({},Yb(b.encode.update,["y","yc","y2","height",...Ak]),{x:{signal:g("min","datum")},x2:{signal:g("max","datum")},clip:{value:!0}}),n={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=Object.assign({},dc(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(g=Object.assign({},Yb(b.encode.update,["x","xc","x2","width"]),{y:{signal:g("min",
"datum")},y2:{signal:g("max","datum")},clip:{value:!0}}),n={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},dc(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var C of Ak){var O=ic(C,a.markDef,a.config);b.encode.update[C]?(g[C]=b.encode.update[C],delete b.encode.update[C]):O&&(g[C]=Ua(O));O&&(b.encode.update[C]={value:0})}C=[];var aa;if(0<(null==(aa=a.stack.groupbyChannels)?void 0:aa.length))for(const ua of a.stack.groupbyChannels){aa=
a.fieldDef(ua);(O=Rc(aa))&&C.push(O);let ab,ob;((null==(ab=aa)?0:ab.bin)||(null==(ob=aa)?0:ob.timeUnit))&&C.push(Rc(aa,{binSuffix:"end"}))}g="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((ua,ab)=>{if(b.encode.update[ab])return Object.assign({},ua,{[ab]:b.encode.update[ab]});const ob=ic(ab,a.markDef,a.config);return void 0!==ob?Object.assign({},ua,{[ab]:Ua(ob)}):ua},g);g.stroke&&(g.strokeForeground={value:!0},g.strokeOffset={value:0});
return[{type:"group",from:{facet:{data:a.requestDataName(uf.Main),name:"stack_group_"+a.requestDataName(uf.Main),groupby:C,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:g},marks:[{type:"group",encode:{update:n},marks:[b]}]}]}function jm(a){const {encoding:b,stack:e,mark:f,markDef:g,config:n}=a;var C=b.order;if(!(!h.isArray(C)&&Ic(C)&&oc(C.value)||!C&&oc(Zb("order",g,n)))){if((h.isArray(C)||va(C))&&!e)return Vc(C,
{expr:"datum"});if(Qa(f)){const O="horizontal"===g.orient?"y":"x",aa=b[O];if(va(aa)){C=aa.sort;if(h.isArray(C))return{field:Rc(aa,{prefix:O,suffix:"sort_index",expr:"datum"})};if(pe(C))return{field:Rc({aggregate:vf(a.encoding)?C.op:void 0,field:C.field},{expr:"datum"})};if(null!=C&&C.encoding)return a=a.fieldDef(C.encoding),{field:Rc(a,{expr:"datum"}),order:C.order};if(null!==C){let ua;return{field:Rc(aa,{binSuffix:(null==(ua=a.stack)?0:ua.impute)?"mid":void 0,expr:"datum"})}}}}}}function Qk(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:f,encoding:g,config:n}=a;var C=f.clip;var O=a.getScaleComponent("x");var aa=a.getScaleComponent("y");O=(null==O?0:O.get("selectionExtent"))||(null==aa?0:aa.get("selectionExtent"))?!0:void 0;aa=a.component.projection;C=T(C,O,aa&&!aa.isFit?!0:void 0);O=Lb(f);aa=g.key;const ua=jm(a);var ab;if(a.component.selection){for(var ob=ab=ud(a.component.selection).length,hc=a.parent;hc&&0===ob;)ob=ud(hc.component.selection).length,
hc=hc.parent;ab=ob?{interactive:0<ab||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else ab=null;ob=Zb("aria",f,n);hc=Il[e].postEncodingTransform?Il[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Il[e].vgMark},C?{clip:!0}:{},O?{style:O}:{},aa?{key:aa.field}:{},ua?{sort:ua}:{},ab?ab:{},!1===ob?{aria:ob}:{},{from:{data:b.fromPrefix+a.requestDataName(uf.Main)},encode:{update:Il[e].encodeEntry(a)}},hc?{transform:hc}:{})]}function el(a,b,e,f,g){if("facet"in a)return new Jl(a,
b,e,g);if("layer"in a)return new Cm(a,b,e,f,g);if(Kf(a))return new Dm(a,b,e,f,g);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Jm(a,b,e,g);throw Error(za(a));}function Tl(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let f=3<arguments.length?arguments[3]:void 0;const g=a.config?nh(a.config):void 0;e=[].concat(a.assembleSelectionData([]),xk(a.component.data,e));const n=a.assembleProjections(),C=a.assembleTitle(),O=a.assembleGroupStyle(),aa=a.assembleGroupEncodeEntry(!0);
let ua=a.assembleLayoutSignals();ua=ua.filter(hc=>"width"!==hc.name&&"height"!==hc.name||void 0===hc.value?!0:(b[hc.name]=+hc.value,!1));var ab=Object.assign({},b);const ob=b.params;ab=(delete ab.params,ab);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:{},ab,C?{title:C}:{},O?{style:O}:{},aa?{encode:{update:aa}}:{},{data:e},0<n.length?{projections:n}:{},a.assembleGroup([...ua,...a.assembleSelectionTopLevelSignals([]),...qe(ob)]),
g?{config:g}:{},f?{usermeta:f}:{})}const Ee=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>l(a)).join(",")})`};const ud=Object.keys,og=Object.values,Fi=Object.entries;let Jk=42;const Ik=Object.getPrototypeOf(structuredClone({})),bk={theta:1,theta2:1,radius:1,radius2:1},ki={longitude:1,longitude2:1,latitude:1,latitude2:1},Pl=ud(ki),Si=Object.assign({},{x:1,y:1,x2:1,y2:1},bk,ki,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,
strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),hj={row:1,column:1,facet:1},th=ud(hj),xj=Object.assign({},Si,hj),Bl=ud(xj);var Tj=Object.assign({},xj),Ph=(delete Tj.order,delete Tj.detail,delete Tj.tooltip,Tj),hk=Object.assign({},Ph);const ij=(delete hk.row,delete hk.column,delete hk.facet,hk),Kk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Ej=ud(Si);var Mg=Object.assign({},Si);const Ei=(delete Mg.x,delete Mg.y,delete Mg.x2,delete Mg.y2,
delete Mg.xOffset,delete Mg.yOffset,delete Mg.latitude,delete Mg.longitude,delete Mg.latitude2,delete Mg.longitude2,delete Mg.theta,delete Mg.theta2,delete Mg.radius,delete Mg.radius2,Mg),Lk=ud(Ei),ck={x:1,y:1},Qh=ud(ck),fk={theta:1,radius:1},nl=ud(fk),Ti={xOffset:1,yOffset:1};var Yh=Object.assign({},Ei);const fl=(delete Yh.text,delete Yh.tooltip,delete Yh.href,delete Yh.url,delete Yh.description,delete Yh.detail,delete Yh.key,delete Yh.order,Yh),gl=ud(fl),Nh=Object.assign({},ck,fk,Ti,fl),zk=ud(Nh),
Cl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var sj=Object.assign({},Cl);const Ql=(delete sj.geoshape,sj),dk={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ul={count:1,min:1,max:1},Vl=new Set(["count",
"valid","missing","distinct"]),Vk=new Set(["count","sum","distinct","valid","missing"]),Wk=new Set("mean average median q1 q3 min max".split(" ")),Zk=ud({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,
text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),bm={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Ak=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],
zl=h.logger(h.Warn);let zi=zl;const Rh="january february march april may june july august september october november december".split(" "),Fj=Rh.map(a=>a.substr(0,3)),Zh="sunday monday tuesday wednesday thursday friday saturday".split(" "),Mk=Zh.map(a=>a.substr(0,3)),xl={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Xk=ud(xl),Sk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},jj={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},
kg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Fg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",
quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ch={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},li=new Set(["linear","log","pow","sqrt","symlog"]),pg=new Set([...li,"time","utc"]),$h=new Set(["quantile","quantize","threshold"]),Tk=new Set([...pg,...$h,"sequential","identity"]),kj=new Set(["ordinal","bin-ordinal","point","band"]);var Eh=Object.assign({},{type:1,domain:1,
domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const kk=(delete Eh.type,delete Eh.domain,delete Eh.range,delete Eh.rangeMax,delete Eh.rangeMin,delete Eh.scheme,Eh),jk=ud(kk),Jf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",
square:"square",geoshape:"geoshape"},uh=Jf.arc,ai=Jf.area,Fh=Jf.bar,mi=Jf.image,Vg=Jf.line,Wg=Jf.point,Zf=Jf.rect,mh=Jf.rule,yl=Jf.text,Ii=Jf.tick,tl=Jf.trail,nj=Jf.circle,Gi=Jf.square,oi=Jf.geoshape,Gj=new Set(ud(Jf)),Ui="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),pi=ud({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),oj=ud({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,
point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),bi={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},qj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},pj=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:e,bin:f,timeUnit:g,field:n}=a;wa(e)?a=`${n} for argmax(${e.argmax})`:la(e)?a=`${n} for argmin(${e.argmin})`:
(a=g&&!Fc(g)?kd(g):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||sb(f)&&"bin")?`${a.toUpperCase()}(${n})`:n)}return a;default:return ue(a,b)}};let Hf=pj;const Hi={compatible:!0},Hj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",
vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},
tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},lk=["domain","grid","labels","ticks","title"],Vi={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",
labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",
tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},
zf={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},rg=Object.assign({},
zf,{style:1,labelExpr:1,encoding:1}),Bg=ud({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class Wi{constructor(a,b){this.name=a;this.run=b}hasMatchingType(a){return Kf(a)?(a=a.mark,(id(a)?a.type:a)===this.name):!1}}const Ij=new Wi("boxplot",Be),Jj=new Wi("errorbar",
lf),km=new Wi("errorband",hg),Kj={};bg("boxplot",Be,["box","median","outliers","rule","ticks"]);bg("errorbar",lf,["ticks","rule"]);bg("errorband",hg,["band","borders"]);const Xl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],rl={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",
titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},sl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},mk=ud(rl),Yl=ud(sl),ul=ud({header:1,headerRow:1,headerColumn:1,headerFacet:1}),dh="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Uk=ud({align:1,bounds:1,center:1,columns:1,spacing:1}),Zl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},
square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,
quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ei="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),vl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},wl={blue:ei[0],orange:ei[1],red:ei[2],teal:ei[3],green:ei[4],yellow:ei[5],purple:ei[6],pink:ei[7],brown:ei[8],gray0:"#000",gray1:"#111",gray2:"#222",
gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},qk=[...oj,...Bg,...ul,"background","padding","legend","lineBreak","scale","style","title","view"],$g=new Set(["view",...Gj]),$l="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
ee=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class pk{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(Kf(a))return this.mapUnit(a,b);throw Error(za(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(f=>this.map(f,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const Rg={zero:1,center:1,normalize:1},Uh=new Set([uh,Fh,ai,mh,Wg,nj,Gi,Vg,yl,Ii]),am=new Set([Fh,ai,uh]);class sk{constructor(){R(this,"name","path-overlay")}hasMatchingType(a,b){if(Kf(a)){const {mark:e,encoding:f}=a;a=id(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!Ji(a,b[a.type],f);case "area":return!!Ji(a,
b[a.type],f)||!!Ki(a,b[a.type])}}return!1}run(a,b,e){var {config:f}=b,g=Object.assign({},a),n=a.params,C=a.projection,O=a.mark,aa=a.name;a=a.encoding;g=(delete g.params,delete g.projection,delete g.mark,delete g.name,delete g.encoding,g);a=Af(a,f);O=id(O)?O:{type:O};const ua=Ji(O,f[O.type],a),ab="area"===O.type&&Ki(O,f[O.type]);var ob=Object,hc=ob.assign;var Pc=Object.assign({},"area"===O.type&&void 0===O.opacity&&void 0===O.fillOpacity?{opacity:.7}:{},O);Pc=Object.assign({},Pc);Pc=(delete Pc.point,
delete Pc.line,Pc);Pc=1<ud(Pc).length?Pc:Pc.type;n=[hc.call(ob,{},{name:aa},n?{params:n}:{},{mark:Pc,encoding:dc(a,["shape"])})];aa=Pg(Qg(O,a,f),a);ob=a;if(aa){const {fieldChannel:lc,offset:Lc}=aa;ob=Object.assign({},a,{[lc]:Object.assign({},a[lc],Lc?{stack:Lc}:{})})}ob=dc(ob,["y2","x2"]);ab&&n.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},{type:"line"},Yb(O,["clip","interpolate","tension","tooltip"]),ab),encoding:ob}));ua&&n.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Yb(O,["clip","tooltip"]),ua),encoding:ob}));C=Object.assign({},g,{layer:n});g=Object;n=g.assign;for(const lc of["line","area","rule","trail"])f[lc]&&(f=Object.assign({},f,{[lc]:dc(f[lc],["point","line"])}));return e(C,n.call(g,{},b,{config:f}))}}class $k{constructor(){R(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Kf(a)){const {encoding:b,mark:e}=a;if("line"===e||id(e)&&"line"===e.type)for(const f of Kk)if(a=Q(f),a=b[a],b[f]&&(va(a)&&!ib(a.bin)||Hb(a)))return!0}return!1}run(a,
b,e){const {encoding:f,mark:g}=a;var n=!!f.x2;I(`Line mark is for continuous lines and thus cannot be used with ${n&&f.y2?"x2 and y2":n?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:h.isObject(g)?Object.assign({},g,{type:"rule"}):"rule"}),b)}}class Jh extends pk{constructor(){super(...arguments);R(this,"nonFacetUnitNormalizers",[Ij,Jj,km,new sk,new $k])}map(a,b){if(Kf(a)){const e=Ze(a.encoding,"row"),f=Ze(a.encoding,"column"),g=Ze(a.encoding,"facet");
if(e||f||g)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:f}=b;var g=di(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(n=>n).join("_")}:{},g?{encoding:g}:{});if(e||f)return this.mapUnitWithParentEncodingOrProjection(a,b);g=this.mapLayerOrUnit.bind(this);for(const n of this.nonFacetUnitNormalizers)if(n.hasMatchingType(a,b.config))return n.run(a,b,g);return a}mapRepeat(a,b){return!h.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const f=a.repeat,g=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:n,column:C,layer:O}=f,{repeater:aa={},repeaterPrefix:ua=""}=b;return n||C?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},n?{row:n}:{},C?{column:C}:{}),spec:{repeat:{layer:O},spec:g}}),b):Object.assign({},e,{layer:O.map(ab=>{var ob=Object.assign({},aa,{layer:ab});ab=`${(g.name?`${g.name}_`:"")+ua}child__layer_${sa(ab)}`;
ob=this.mapLayerOrUnit(g,Object.assign({},b,{repeater:ob,repeaterPrefix:ab}));ob.name=ab;return ob})})}mapNonLayerRepeat(a,b){var e=a,f=Object.assign({},e);const g=e.repeat,n=e.spec;e=e.data;f=(delete f.repeat,delete f.spec,delete f.data,f);!h.isArray(g)&&a.columns&&(a=dc(a,["columns"]),I(Cc("repeat")));const C=[],{repeater:O={},repeaterPrefix:aa=""}=b,ua=!h.isArray(g)&&g.row||[O?O.row:null],ab=!h.isArray(g)&&g.column||[O?O.column:null];var ob=h.isArray(g)&&g||[O?O.repeat:null];for(const lc of ob)for(const Lc of ua)for(const dd of ab){var hc=
{repeat:lc,row:Lc,column:dd,layer:O.layer};ob=(n.name?`${n.name}_`:"")+aa+"child__"+(h.isArray(g)?`${sa(lc)}`:(g.row?`row_${sa(Lc)}`:"")+(g.column?`column_${sa(dd)}`:""));hc=this.map(n,Object.assign({},b,{repeater:hc,repeaterPrefix:ob}));hc.name=ob;C.push(dc(hc,["data"]))}a=h.isArray(g)?a.columns:g.column?g.column.length:1;let Pc;return Object.assign({},{data:null!=(Pc=n.data)?Pc:e,align:"all"},f,{columns:a,concat:C})}mapFacet(a,b){const {facet:e}=a;me(e)&&a.columns&&(a=dc(a,["columns"]),I(Cc("facet")));
return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:f}=a,{parentEncoding:g,parentProjection:n,config:C}=b,O=Th({parentProjection:n,projection:f});b=fh({parentEncoding:g,encoding:di(e,b.repeater)});return this.mapUnit(Object.assign({},a,O?{projection:O}:{},b?{encoding:b}:{}),{config:C})}mapFacetedUnit(a,b){var e=a.encoding,f=Object.assign({},e),g=e.row;const n=e.column;e=e.facet;const C=(delete f.row,delete f.column,delete f.facet,f);var O=Object.assign({},
a);f=a.mark;const aa=a.width,ua=a.projection,ab=a.height,ob=a.view;a=a.params;O=(delete O.mark,delete O.width,delete O.projection,delete O.height,delete O.view,delete O.params,delete O.encoding,O);const {facetMapping:hc,layout:Pc}=this.getFacetMappingAndLayout({row:g,column:n,facet:e},b);g=di(C,b.repeater);return this.mapFacet(Object.assign({},O,Pc,{facet:hc,spec:Object.assign({},aa?{width:aa}:{},ab?{height:ab}:{},ob?{view:ob}:{},ua?{projection:ua}:{},{mark:f,encoding:g},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,
b){const {row:e,column:f,facet:g}=a;if(e||f){g&&(b=[...(e?["row"]:[]),...(f?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,I(b));b={};const ab={};for(var n of["row","column"]){const ob=a[n];if(ob){var C=Object.assign({},ob);C=(delete C.align,delete C.center,delete C.spacing,delete C.columns,C);b[n]=C;for(var O of["align","center","spacing"])if(void 0!==ob[O]){var aa=void 0,ua=void 0;null!=(aa=ab)[ua=O]||(aa[ua]={});ab[O][n]=ob[O]}}}return{facetMapping:b,
layout:ab}}ua=Object.assign({},g);a=g.align;n=g.center;O=g.spacing;aa=g.columns;ua=(delete ua.align,delete ua.center,delete ua.spacing,delete ua.columns,ua);ua=(b=b.repeater)?me(ua)?oh(ua,b):Li(ua,b):ua;return{facetMapping:ua,layout:Object.assign({},a?{align:a}:{},n?{center:n}:{},O?{spacing:O}:{},aa?{columns:aa}:{})}}mapLayer(a,b){var e=Object.assign({},b),f=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var g=Object.assign({},a);const n=a.encoding,C=
a.projection;g=(delete g.encoding,delete g.projection,g);f=Object.assign({},e,{parentEncoding:fh({parentEncoding:f,encoding:n,layer:!0}),parentProjection:Th({parentProjection:b,projection:C})});return super.mapLayer(Object.assign({},g,a.name?{name:[f.repeaterPrefix,a.name].filter(O=>O).join("_")}:{}),f)}}class hf extends pk{map(a,b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=ig(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=ig(a,b);
if(a.encoding){const e={};for(const f of Fi(a.encoding)){const [g,n]=f;e[g]=Zi(n,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const f=a.selection;e=(delete e.selection,e);return f?Object.assign({},e,{params:Fi(f).map(g=>{let [n,C]=g;var O=Object.assign({},C);g=C.init;const aa=C.bind,ua=C.empty;O=(delete O.init,delete O.bind,delete O.empty,O);"single"===O.type?(O.type="point",O.toggle=!1):"multi"===O.type&&(O.type="point");b.emptySelections[n]=
"none"!==ua;let ab;for(const ob of og(null!=(ab=b.selectionPredicates[n])?ab:{}))ob.empty="none"!==ua;return{name:n,value:g,select:O,bind:aa}})}):a}}class sg extends pk{map(a,b){var e;const f=null!=(e=b.selections)?e:[];if(a.params&&!Kf(a)){e=[];for(const g of a.params)Qd(g)?f.push(g):e.push(g);a.params=e}b.selections=f;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let f;const g=(null!=(f=b.path)?f:[]).concat(a.name);b=[];for(const n of e)if(n.views&&n.views.length)for(const C of n.views)(h.isString(C)&&
(C===a.name||g.includes(C))||h.isArray(C)&&C.map(O=>g.indexOf(O)).every((O,aa,ua)=>-1!==O&&(0===aa||O>ua[aa-1])))&&b.push(n);else b.push(n);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=sg.prototype[a];sg.prototype[a]=function(e,f){var g=b,n=g.call;let C;var O=e.name?Object.assign({},f,{path:(null!=(C=f.path)?C:[]).concat(e.name)}):f;return n.call(g,this,e,O)}}const xg=new Jh,Sg=new hf,xh=new sg,rj=["background","padding"];class Lf{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new Lf(Ee(this.explicit),Ee(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return T(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
b){let {value:e,explicit:f}=b;void 0!==e&&this.set(a,e,f)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:f}=b;void 0!==e[a]?this.set(a,e[a],!0):void 0!==f[a]&&this.set(a,f[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of ud(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class Mj extends Lf{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let uf=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class mf{constructor(a,b){this.debugName=b;R(this,"_children",[]);R(this,"_parent",null);
R(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,b){this._children.includes(a)?I("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class Tg extends mf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,f){super(a,b);this.type=e;this.refCounts=f;R(this,"_source",void 0);R(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${ba()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class Ah extends mf{clone(){return new Ah(null,Ee(this.timeUnits))}constructor(a,b){super(a);this.timeUnits=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,n)=>{const {field:C,timeUnit:O}=g;if(O){let aa;if(Fc(O)){if(Rf(b)){const {mark:ua,markDef:ab,config:ob}=b,hc=y({fieldDef:g,markDef:ab,config:ob});if(ac(ua)||hc)aa={timeUnit:kd(O),field:C}}}else aa={as:Rc(g,{forAs:!0}),field:C,timeUnit:O};if(Rf(b)){const {mark:ua,markDef:ab,config:ob}=b;g=y({fieldDef:g,markDef:ab,config:ob});ac(ua)&&
F(n)&&.5!==g&&(aa.rectBandPosition=g)}aa&&(f[Wb(aa)]=aa)}return f},{});return gb(e)?null:new Ah(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;b=(delete b.timeUnit,b);e=kd(e);b=Object.assign({},b,{timeUnit:e});return new Ah(a,{[Wb(b)]:b})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const b in a.timeUnits)this.timeUnits[b]||(this.timeUnits[b]=a.timeUnits[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b=
{};for(const e of Fi(this.timeUnits)){const [f,g]=e;a.has(void 0!==g.as?g.as:`${g.field}_end`)||(b[f]=g)}this.timeUnits=b}producedFields(){return new Set(og(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(og(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Wb(this.timeUnits)}`}assemble(){const a=[];for(const g of og(this.timeUnits)){const {rectBandPosition:n}=g,C=kd(g.timeUnit);if(void 0!==g.as){const {field:O,as:aa}=g;var b=C,e=Object.assign({},
b),f=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);const ua=[aa,`${aa}_end`];a.push(Object.assign({},{field:$a(O),type:"timeunit"},f?{units:zc(f)}:{},b?{timezone:"utc"}:{},e,{as:ua}));a.push(...Aa(ua,n,C))}else g&&({field:f}=g,f=f.replaceAll("\\.","."),b=Z({timeUnit:C,field:f}),e=`${f}_end`,a.push({type:"formula",expr:b,as:e}),a.push(...Aa([f,e],n,C)))}return a}}class rh{constructor(){R(this,"hasChannel",void 0);R(this,"hasField",void 0);R(this,"hasSelectionId",void 0);R(this,"timeUnit",void 0);
R(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Vh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const g of b.project.items){var f=g.channel;if(!Nh[f])continue;const n=(f=a.getScaleComponent(f))?f.get("type"):void 0;f&&Ld(n)?(f.set("selectionExtent",{param:b.name,field:g.field},!0),e.push(g)):I("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,b,e)=>{const f=b.scales.filter(n=>0===e.filter(C=>C.name===n.signals.data).length);if(!a.parent||yb(a)||0===f.length)return e;a=e.filter(n=>n.name===b.name)[0];let g=a.update;if(0<=g.indexOf("vlSelectionResolve"))a.update=`{${f.map(n=>`${h.stringValue($a(n.field))}: ${n.signals.data}`).join(", ")}}`;else{for(const n of f){const C=`${h.stringValue($a(n.field))}: ${n.signals.data}`;g.includes(C)||(g=`${g.substring(0,g.length-1)}, ${C}}`)}a.update=g}return e.concat(f.map(n=>({name:n.signals.data})))},
signals:(a,b,e)=>{if(a.parent&&!yb(a))for(const f of b.scales)a=e.filter(g=>g.name===f.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},tj={left:"x",center:"xc",right:"x2"},vi={top:"y",middle:"yc",bottom:"y2"},nk=new Set(["aria","width","height"]),ok={defined:a=>"point"===a.type&&a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:f,y:g}=b.project.hasChannel;b=a.mark;if(Qa(b))return I(`The "nearest" transform is not supported for ${b} marks.`),
e;b={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},ya(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:f||!g?"datum.datum.x || 0":"0"},y:{expr:g||!f?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let n=0,C=!1;e.forEach((O,aa)=>{let ua;O=null!=(ua=O.name)?ua:"";O===a.component.mark[0].name?
n=aa:0<=O.indexOf("voronoi")&&(C=!0)});C||e.splice(n+1,0,b);return e}},qi={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!tg(a.bind),parse:(a,b,e)=>fg(b,e),topLevelSignals:(a,b,e)=>{const f=b.name;a=b.project;const g=b.bind,n=b.init&&b.init[0],C=ok.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((O,aa)=>{const ua=sa(`${f}_${O.field}`);if(!e.filter(ab=>ab.name===ua).length){let ab,ob;e.unshift(Object.assign({},{name:ua},n?{init:If(n[aa])}:
{value:null},{on:b.events?[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${C}[${h.stringValue(O.field)}] : null`}]:[],bind:null!=(ob=null!=(ab=g[O.field])?ab:g[O.channel])?ob:g}))}});return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.filter(C=>C.name===f+"_tuple")[0];b=f+"_tuple_fields";g=g.items.map(C=>sa(`${f}_${C.field}`));const n=g.map(C=>`${C} !== null`).join(" \x26\x26 ");g.length&&(a.update=`${n} ? {fields: ${b}, values: [${g.join(", ")}]} : null`);delete a.value;
delete a.on;return e}},Nj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",f=b.name+"_toggle";return`${f} ? null : ${e}, `+("global"===b.resolve?`${f} ? null : true, `:`${f} ? null : {unit: ${$f(a)}}, `)+`${f} ? ${e} : null`}},wi={defined:a=>{const b="global"===a.resolve&&a.bind&&tg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&I("Legend bindings are only supported for selections over an individual field or encoding channel.");
return b&&a},parse:(a,b,e)=>{a=Ee(e);a.select=h.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});fg(b,a);if(h.isObject(e.select)&&(e.select.on||e.select.clear))for(const f of b.events){let g;f.filter=h.array(null!=(g=f.filter)?g:[]);f.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||f.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=ug(b.bind)?b.bind.legend:"click";e=h.isString(e)?
h.parseSelector(e,"view"):h.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const f=ug(b.bind)&&b.bind.legend,g=C=>O=>{O=Ee(O);O.markname=C;return O};for(const C of b.project.items){if(!C.hasLegend)continue;var n=`${sa(C.field)}_legend`;const O=`${a}_${n}`;0===e.filter(aa=>aa.name===O).length&&(n=f.merge.map(g(`${n}_symbols`)).concat(f.merge.map(g(`${n}_labels`))).concat(f.merge.map(g(`${n}_entries`))),e.unshift(Object.assign({},{name:O},b.init?{}:{value:null},{on:[{events:n,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:f.merge,update:`!event.item || !datum ? null : ${O}`,force:!0}]})))}return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.find(C=>C.name===f+"_tuple");var n=f+"_tuple_fields";g=g.items.filter(C=>C.hasLegend).map(C=>sa(`${f}_${sa(C.field)}_legend`));n=`${g.map(C=>`${C} !== null`).join(" \x26\x26 ")} ? {fields: ${n}, values: [${g.join(", ")}]} : null`;b.events&&0<g.length?a.on.push({events:g.map(C=>
({signal:C})),update:n}):0<g.length&&(a.update=n,delete a.value,delete a.on);a=e.find(C=>C.name===f+"_toggle");n=ug(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},a.on[0],{events:n})):a.on[0].events=n);return e}},$i=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const f=b.name,g=f+"_tuple_fields";var n=b.project,C,O=og(null!=(C=a.component.selection)?C:{}).reduce((aa,ua)=>"interval"===ua.type?aa.concat(ua.name+"_brush"):aa,[]).map(aa=>`indexof(item().mark.name, '${aa}') < 0`).join(" \x26\x26 ");
C=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${O?` && ${O}`:""}`;O=`unit: ${$f(a)}, `;b.project.hasSelectionId?O+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue("_vgsid_")}]`:(n=n.items.map(aa=>{let ua;return(null==(ua=a.fieldDef(aa.channel))?0:ua.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(aa.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(aa.channel,
{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(aa.field)}]`}).join(", "),O+=`fields: ${g}, values: [${n}]`);b=b.events;return e.concat([{name:f+"_tuple",on:b?[{events:b,update:`${C} ? {${O}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},h.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?ud(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},
a));if(b.translate&&!Vh.defined(b)){e=`!event.item || event.item.mark.name !== ${h.stringValue(b.name+"_brush")}`;for(const f of b.events){if(!f.between){I(`${f} is not an ordered event stream for interval selections.`);continue}let g,n;b=h.array(null!=(n=(g=f.between[0]).filter)?n:g.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var f=b.name;const g=f+"_tuple";var n=og(b.project.hasChannel).filter(ab=>"x"===ab.channel||"y"===ab.channel);const C=b.init?b.init[0]:null;e.push(...n.reduce((ab,
ob)=>ab.concat(bc(a,b,ob,C&&C[ob.index])),[]));if(a.hasProjection){var O=h.stringValue(a.projectionName());const ab=a.projectionName()+"_center",{x:ob,y:hc}=b.project.hasChannel;var aa=ob&&ob.signals.visual;const Pc=hc&&hc.signals.visual;var ua=ob?C&&C[ob.index]:`${ab}[0]`;const lc=hc?C&&C[hc.index]:`${ab}[1]`;aa="["+`[${aa?aa+"[0]":"0"}, ${Pc?Pc+"[0]":"0"}],`+`[${aa?aa+"[1]":a.getSizeSignalRef("width").signal}, `+`${Pc?Pc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";C&&(e.unshift({name:f+"_init",
init:`[scale(${O}, [${ob?ua[0]:ua}, ${hc?lc[0]:lc}]), `+`scale(${O}, [${ob?ua[1]:ua}, ${hc?lc[1]:lc}])]`}),ob&&hc||e.find(Lc=>Lc.name===ab)||e.unshift({name:ab,update:`invert(${O}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));f=`intersect(${aa}, {markname: ${h.stringValue(a.getName("marks"))}}, unit.mark)`;O=`{unit: ${$f(a)}}`;f=`vlSelectionTuples(${f}, ${O})`;n=n.map(Lc=>Lc.signals.visual);return e.concat({name:g,on:[{events:[...(n.length?[{signal:n.join(" || ")}]:
[]),...(C?[{signal:"geo_interval_init_tick"}]:[])],update:f}]})}Vh.defined(b)||(O=f+"_scale_trigger",ua=n.map(ab=>{var ob=ab.channel;const {data:hc,visual:Pc}=ab.signals;ab=h.stringValue(a.scaleName(ob));ob=a.getScaleComponent(ob).get("type");ob=Ld(ob)?"+":"";return`(!isArray(${hc}) || `+`(${ob}invert(${ab}, ${Pc})[0] === ${ob}${hc}[0] && `+`${ob}invert(${ab}, ${Pc})[1] === ${ob}${hc}[1]))`}),ua.length&&e.push({name:O,value:{},on:[{events:n.map(ab=>({scale:a.scaleName(ab.channel)})),update:ua.join(" \x26\x26 ")+
` ? ${O} : {}`}]}));n=n.map(ab=>ab.signals.data);f=`unit: ${$f(a)}, fields: ${f+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:g},C?{init:`{${f}: ${If(C)}}`}:{},n.length?{on:[{events:[{signal:n.join(" || ")}],update:`${n.join(" \x26\x26 ")} ? {${f}: [${n}]} : null`}]}:{}))},topLevelSignals:(a,b,e)=>{Rf(a)&&a.hasProjection&&b.init&&(e.filter(f=>"geo_interval_init_tick"===f.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,b,e)=>{const f=b.name,{x:g,y:n}=b.project.hasChannel,C=null==g?void 0:g.signals.visual,O=null==n?void 0:n.signals.visual;var aa=`data(${h.stringValue(b.name+"_store")})`;if(Vh.defined(b)||!g&&!n)return e;const ua={x:void 0!==g?{signal:`${C}[0]`}:{value:0},y:void 0!==n?{signal:`${O}[0]`}:{value:0},x2:void 0!==g?{signal:`${C}[1]`}:{field:{group:"width"}},y2:void 0!==n?{signal:`${O}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var ab of ud(ua))ua[ab]=[Object.assign({},
{test:`${aa}.length && ${aa}[0].unit === ${$f(a)}`},ua[ab]),{value:0}];ab=b.mark;aa=Object.assign({},ab);a=ab.fill;b=ab.fillOpacity;ab=ab.cursor;const ob=(delete aa.fill,delete aa.fillOpacity,delete aa.cursor,aa);aa=ud(ob).reduce((hc,Pc)=>{hc[Pc]=[{test:[void 0!==g&&`${C}[0] !== ${C}[1]`,void 0!==n&&`${O}[0] !== ${O}[1]`].filter(lc=>lc).join(" \x26\x26 "),value:ob[Pc]},{value:null}];return hc},{});return[{name:`${f+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},
update:ua}},...e,{name:f+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},ab?{cursor:{value:ab}}:{},{fill:{value:"transparent"}}),update:Object.assign({},ua,aa)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const f=b.name;var g;const n=null!=(g=b.project)?g:b.project=new rh,C={};g={};const O=new Set,aa=(gd,ke)=>{gd="visual"===ke?gd.channel:gd.field;let be=sa(`${f}_${gd}`);for(let Ce=1;O.has(be);Ce++)be=sa(`${f}_${gd}_${Ce}`);O.add(be);return{[ke]:be}},ua=b.type,ab=a.config.selection[ua],ob=void 0!==
e.value?h.array(e.value):null;let {fields:hc,encodings:Pc}=h.isObject(e.select)?e.select:{};if(!hc&&!Pc&&ob)for(var lc of ob)if(h.isObject(lc))for(const gd of ud(lc))if(ij[gd])(Pc||(Pc=[])).push(gd);else if("interval"===ua)I('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Pc=ab.encodings;else{let ke;(null!=(ke=hc)?ke:hc=[]).push(gd)}hc||Pc||(Pc=ab.encodings,"fields"in ab&&(hc=ab.fields));var Lc;for(const gd of null!=(Lc=Pc)?Lc:[])(Lc=a.fieldDef(gd))?(e=
Lc.field,Lc.aggregate?I(`Cannot project a selection on encoding channel "${gd}" as it uses an aggregate function ("${Lc.aggregate}").`):e?(Lc.timeUnit&&!Fc(Lc.timeUnit)&&(e=a.vgField(gd),lc={timeUnit:Lc.timeUnit,as:e,field:Lc.field},g[Wb(lc)]=lc),C[e]||(Lc="interval"===ua&&Nh[gd]&&Ld(a.getScaleComponent(gd).get("type"))?"R":Lc.bin?"R-RE":"E",Lc={field:e,channel:gd,type:Lc,index:n.items.length},Lc.signals=Object.assign({},aa(Lc,"data"),aa(Lc,"visual")),n.items.push(C[e]=Lc),n.hasField[e]=C[e],n.hasSelectionId=
n.hasSelectionId||"_vgsid_"===e,gd in ki?(Lc.geoChannel=gd,Lc.channel=D(gd),n.hasChannel[Lc.channel]=C[e]):n.hasChannel[gd]=C[e])):I(Eb(gd))):I(Eb(gd));let dd;for(const gd of null!=(dd=hc)?dd:[])n.hasField[gd]||(a={type:"E",field:gd,index:n.items.length},a.signals=Object.assign({},aa(a,"data")),n.items.push(a),n.hasField[gd]=a,n.hasSelectionId=n.hasSelectionId||"_vgsid_"===gd);ob&&(b.init=ob.map(gd=>n.items.map(ke=>h.isObject(gd)?void 0!==gd[ke.geoChannel||ke.channel]?gd[ke.geoChannel||ke.channel]:
gd[ke.field]:gd)));gb(g)||(n.timeUnit=new Ah(null,g))},signals:(a,b,e)=>{const f=b.name+"_tuple_fields";return 0<e.filter(g=>g.name===f).length||b.project.hasSelectionId?e:e.concat({name:f,value:b.project.items.map(hh)})}},Nj,qi,Vh,wi,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=h.isString(b.clear)?h.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(qi.defined(b))for(const f of b.project.items)a=e.findIndex(g=>g.name===sa(`${b.name}_${f.field}`)),-1!==
a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function f(g,n){-1!==g&&e[g].on&&e[g].on.push({events:b.clear,update:n})}if("interval"===b.type)for(const g of b.project.items)a=e.findIndex(n=>n.name===g.signals.visual),f(a,"[0, 0]"),-1===a&&(a=e.findIndex(n=>n.name===g.signals.data),f(a,"null"));else a=e.findIndex(g=>g.name===b.name+"_tuple"),f(a,"null"),Nj.defined(b)&&(a=e.findIndex(g=>g.name===b.name+"_toggle"),f(a,"false"));return e}},{defined:a=>"interval"===a.type&&
a.translate,signals:(a,b,e)=>{const f=b.name,g=Vh.defined(b),n=f+"_translate_anchor",{x:C,y:O}=b.project.hasChannel;let aa=h.parseSelector(b.translate,"scope");g||(aa=aa.map(ua=>(ua.between[0].markname=f+"_brush",ua)));e.push({name:n,value:{},on:[{events:aa.map(ua=>ua.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==C?`, extent_x: ${g?zb(a,"x"):`slice(${C.signals.visual})`}`:"")+(void 0!==O?`, extent_y: ${g?zb(a,"y"):`slice(${O.signals.visual})`}`:"")+"}"}]},{name:f+"_translate_delta",value:{},
on:[{events:aa,update:`{x: ${n}.x - x(unit), y: ${n}.y - y(unit)}`}]});void 0!==C&&Xg(a,b,C,"width",e);void 0!==O&&Xg(a,b,O,"height",e);return e}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const f=b.name,g=Vh.defined(b),n=f+"_zoom_delta",{x:C,y:O}=b.project.hasChannel,aa=h.stringValue(a.scaleName("x")),ua=h.stringValue(a.scaleName("y"));let ab=h.parseSelector(b.zoom,"scope");g||(ab=ab.map(ob=>(ob.markname=f+"_brush",ob)));e.push({name:f+"_zoom_anchor",on:[{events:ab,update:g?"{"+[aa?
`x: invert(${aa}, x(unit))`:"",ua?`y: invert(${ua}, y(unit))`:""].filter(ob=>ob).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:n,on:[{events:ab,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==C&&Lh(a,b,C,"width",e);void 0!==O&&Lh(a,b,O,"height",e);return e}},ok];class ti extends mf{clone(){return new ti(null,this.model,Ee(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;R(this,"expr",void 0);R(this,"_dependentFields",void 0);this.expr=cg(this.model,
this.filter,this);this._dependentFields=mj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const rk={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:f}=a,g;return null!=(g=e.grid)?g:!Md(f)&&va(b)&&!sb(null==b?void 0:b.bin)&&!ib(null==b?
void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelAlign||vk(e,f,g)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelBaseline||Rj(e,f,g)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:f}=a;null==(a=b.labelFlush)&&(a="x"===f&&Ab(["quantitative","temporal"],e.type)?
!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:f}=a;if(null==(a=b.labelOverlap)){a=e.type;var g=va(e)&&!!e.timeUnit,n=va(e)?e.sort:void 0;a=g&&!h.isObject(n)||"nominal"!==a&&"ordinal"!==a?"log"===f||"symlog"===f?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:f,fieldOrDatumDef:g,scaleType:n}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let C;if(null!=(C=f.tickCount))var O=C;else a:{let {fieldOrDatumDef:aa,
scaleType:ua,size:ab,values:ob}={fieldOrDatumDef:g,scaleType:n,size:a,values:f.values};if(ob||Md(ua)||"log"===ua)O=void 0;else{if(va(aa)){if(sb(aa.bin)){O={signal:`ceil(${ab.signal}/10)`};break a}if(aa.timeUnit&&Ab(["month","hours","day","quarter"],null==(O=kd(aa.timeUnit))?void 0:O.unit)){O=void 0;break a}}O={signal:`ceil(${ab.signal}/40)`}}}return O},tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(va(e)&&({timeUnit:a}=e,a&&(a=he(a))))return{signal:a}},title:a=>
{let {axis:b,model:e,channel:f}=a;if(void 0!==b.title)return b.title;a=bj(e,f);if(void 0!==a)return a;a=e.typedFieldDef(f);const g=e.fieldDef("x"===f?"x2":"y2");return na(a?[te(a)]:[],va(g)?[te(g)]:[])},values:a=>{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=h.isArray(a)?Df(e,a):Mb(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:f}=a;null==(a=b.zindex)&&(a="rect"===f&&Ud(e)?1:0);return a}};class Ni extends mf{clone(){return new Ni(null,Ee(this.transform))}constructor(a,b){super(a);
this.transform=b;R(this,"_dependentFields",void 0);this._dependentFields=mj(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,f)=>{if(Zc(e)&&de(e.sort)){const {field:n,timeUnit:C}=e;var g=e.sort;g=g.map((O,aa)=>`${Rb({field:n,timeUnit:C,equal:O})} ? ${aa} : `).join("")+g.length;a=new Ni(a,{calculate:g,as:gi(e,f,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Wb(this.transform)}`}}const uj=["row","column"],al=["header","footer"],Dl={column:{start:0,end:1},row:{start:1,end:0}},Nl=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Dk=ud(Nl);class Ml extends Lf{}const El={symbols:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:n,legendType:C}=b;if("symbol"===C){var {markDef:O,encoding:aa,config:ua,mark:ab}=f;b=O.filled&&"trail"!==ab;var ob=Object,hc=ob.assign,Pc={};for(var lc of Ui){const Ce=
ic(lc,f.markDef,f.config);void 0!==Ce&&(Pc[lc]=Ua(Ce))}lc=hc.call(ob,{},Pc,gc(f,{filled:b}));var Lc;ob=null!=(Lc=n.get("symbolOpacity"))?Lc:ua.legend.symbolOpacity;var dd;Lc=null!=(dd=n.get("symbolFillColor"))?dd:ua.legend.symbolFillColor;var gd;dd=null!=(gd=n.get("symbolStrokeColor"))?gd:ua.legend.symbolStrokeColor;var ke;gd=void 0===ob?null!=(ke=Bc(aa.opacity))?ke:O.opacity:void 0;if(lc.fill)if("fill"===g||b&&"color"===g)delete lc.fill;else if(lc.fill.field)if(Lc)delete lc.fill;else{let Ce;lc.fill=
Ua(null!=(Ce=ua.legend.symbolBaseFillColor)?Ce:"black");lc.fillOpacity=Ua(null!=gd?gd:1)}else if(h.isArray(lc.fill)){var be;let Ce,Qe;if(ke=null!=(Qe=null!=(Ce=Dd(null!=(be=aa.fill)?be:aa.color))?Ce:O.fill)?Qe:b&&O.color)lc.fill=Ua(ke)}lc.stroke&&("stroke"===g||!b&&"color"===g?delete lc.stroke:lc.stroke.field||dd?delete lc.stroke:h.isArray(lc.stroke)&&(be=T(Dd(aa.stroke||aa.color),O.stroke,b?O.color:void 0))&&(lc.stroke={value:be}));"opacity"!==g&&((be=va(e)&&Ae(f,n,e))?lc.opacity=[Object.assign({},
{test:be},Ua(null!=gd?gd:1)),Ua(ua.legend.unselectedOpacity)]:gd&&(lc.opacity=Ua(gd)));lc=Object.assign({},lc,a);return gb(lc)?void 0:lc}},gradient:function(a,b){let {model:e,legendType:f,legendCmpt:g}=b;if("gradient"===f){var {config:n,markDef:C,encoding:O}=e;b={};var aa,ua=void 0===(null!=(aa=g.get("gradientOpacity"))?aa:n.legend.gradientOpacity)?Bc(O.opacity)||C.opacity:void 0;ua&&(b.opacity=Ua(ua));b=Object.assign({},b,a);return gb(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:f,
channel:g,legendCmpt:n}=b;var C=f.legend(g)||{};b=f.config;var O=va(e)?Ae(f,n,e):void 0;O=O?[{test:O,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:aa,formatType:ua}=C;C=void 0;oe(ua)?C=Je({fieldOrDatumDef:e,field:"datum.value",format:aa,formatType:ua,config:b}):void 0===aa&&void 0===ua&&b.customFormatTypes&&("quantitative"===e.type&&b.numberFormatType?C=Je({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&
b.timeFormatType&&va(e)&&void 0===e.timeUnit&&(C=Je({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},O?{opacity:O}:{},C?{text:C}:{},a);return gb(a)?void 0:a},entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},kl={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:f}=a;const {format:g,formatType:n}=
e;return ef(b,b.type,g,n,f,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:f}=a;({formatType:a}=b);return of(a,e,f)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let f,g;if(null!=(g=null!=(f=b.gradientLength)?f:e.gradientLength))a=g;else{{let {legendConfig:n,model:C,direction:O,orient:aa,scaleType:ua}=a;const {gradientHorizontalMaxLength:ab,gradientHorizontalMinLength:ob,gradientVerticalMaxLength:hc,gradientVerticalMinLength:Pc}=n;a=pg.has(ua)?"horizontal"===O?"top"===aa||"bottom"===
aa?Td(C,"width",ob,ab):ob:Td(C,"height",Pc,hc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:f}=a;var g;g=null!=(a=null!=(g=b.labelOverlap)?g:e.labelOverlap)?a:Ab(["quantile","threshold","log","symlog"],f)?"greedy":void 0;return g},symbolType:a=>{let {legend:b,markDef:e,channel:f,encoding:g}=a;if(null!=(a=b.symbolType))var n=a;else a:{a=e.type;var C=e.shape;if("shape"!==f){const O=null!=(n=Dd(g.shape))?n:C;if(O){n=O;break a}}switch(a){case "bar":case "rect":case "image":case "square":n=
"square";break a;case "line":case "trail":case "rule":n="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":n="circle";break a}n=void 0}return n},title:a=>{let {fieldOrDatumDef:b,config:e}=a;return $c(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:f}=a;if(K(f)&&pg.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=h.isArray(a)?Df(b,a):Mb(a)?
a:void 0;return a}},lm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class yj extends Lf{constructor(a,b,e,f){super(Object.assign({},b),{name:a});this.specifiedProjection=b;this.size=e;this.data=f;R(this,"merged",!1)}get isFit(){return!!this.data}}class Ai extends mf{clone(){return new Ai(null,Ee(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,
g,n)=>{if(wc(g)&&sb(g.bin)){const {key:ob,binComponent:hc}=Zd(g,g.bin,b);var C=Object,O=C.assign,aa=f[ob];var ua=b.config;if(pf(g,n)){var ab;let Pc;const lc=Rf(b)?null!=(Pc=null!=(ab=b.axis(n))?ab:b.legend(n))?Pc:{}:{};n=Rc(g,{expr:"datum"});ab=Rc(g,{expr:"datum",binSuffix:"end"});g={formulaAs:Rc(g,{binSuffix:"range",forAs:!0}),formula:Ye(n,ab,lc.format,lc.formatType,ua)}}else g={};f[ob]=O.call(C,{},hc,aa,g)}return f},{});return gb(e)?null:new Ai(a,e)}static makeFromTransform(a,b,e){const {key:f,
binComponent:g}=Zd(b,b.bin,e);return new Ai(a,{[f]:g})}merge(a,b){for(const e of ud(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=Za([...this.bins[e].as,...a.bins[e].as],Wb)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),e.parent=this;a.remove()}producedFields(){return new Set(og(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(og(this.bins).map(a=>a.field))}hash(){return`Bin ${Wb(this.bins)}`}assemble(){return og(this.bins).flatMap(a=>
{const b=[],[e,...f]=a.as;var g=a.bin,n=Object.assign({},g);g=g.extent;n=(delete n.extent,n);n=Object.assign({},{type:"bin",field:$a(a.field),as:e,signal:a.signal},Sb(g)?{extent:null}:{extent:g},a.span?{span:{signal:`span(${a.span})`}}:{},n);!g&&a.extentSignal&&(b.push({type:"extent",field:$a(a.field),signal:a.extentSignal}),n.extent={signal:a.extentSignal});b.push(n);for(const C of f)for(g=0;2>g;g++)b.push({type:"formula",expr:Rc({field:e[g]},{expr:"datum"}),as:C[g]});a.formula&&b.push({type:"formula",
expr:a.formula,as:a.formulaAs});return b})}}class Bh extends mf{clone(){return new Bh(null,new Set(this.dimensions),Ee(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(n=>{n.aggregate&&(e=!0)});const f={},g=new Set;if(!e)return null;b.forEachFieldDef((n,C)=>{const {aggregate:O,field:aa}=n;if(O)if("count"===O)null!=f["*"]||(f["*"]={}),f["*"].count=new Set([Rc(n,{forAs:!0})]);else{if(la(O)||
wa(O)){n=la(O)?"argmin":"argmax";var ua=O[n];null!=f[ua]||(f[ua]={});f[ua][n]=new Set([Rc({op:n,field:ua},{forAs:!0})])}else null!=f[aa]||(f[aa]={}),f[aa][O]=new Set([Rc(n,{forAs:!0})]);Nh[C]&&"unaggregated"===b.scaleDomain(C)&&(null!=f[aa]||(f[aa]={}),f[aa].min=new Set([Rc({field:aa,aggregate:"min"},{forAs:!0})]),f[aa].max=new Set([Rc({field:aa,aggregate:"max"},{forAs:!0})]))}else{var ab=Rf(b)?b.encoding[W(C)]:void 0;if(wc(n)&&Rf(b)&&p(n,ab,b.markDef,b.config)){g.add(Rc(n,{}));g.add(Rc(n,{suffix:"end"}));
const {mark:ob,markDef:hc,config:Pc}=b;ab=y({fieldDef:n,markDef:hc,config:Pc});ac(ob)&&.5!==ab&&F(C)&&(g.add(Rc(n,{suffix:"offsetted_rect_start"})),g.add(Rc(n,{suffix:"offsetted_rect_end"})));n.bin&&pf(n,C)&&g.add(Rc(n,{binSuffix:"range"}))}else C in ki?(C=D(C),g.add(b.getName(C))):g.add(Rc(n));if(C=Zc(n))C=null==(ua=n.scale)?void 0:ua.range,C=h.isObject(C)&&"field"in C;C&&g.add(n.scale.range.field)}});return 0===g.size+ud(f).length?null:new Bh(a,g,f)}static makeFromTransform(a,b){const e=new Set,
f={};for(const n of b.aggregate){const {op:C,field:O,as:aa}=n;if(C)if("count"===C){let ua;null!=(ua=f)["*"]||(ua["*"]={});f["*"].count=new Set([aa?aa:Rc(n,{forAs:!0})])}else{let ua,ab;null!=(ua=f)[ab=O]||(ua[ab]={});f[O][C]=new Set([aa?aa:Rc(n,{forAs:!0})])}}let g;for(const n of null!=(g=b.groupby)?g:[])e.add(n);return 0===e.size+ud(f).length?null:new Bh(a,e,f)}merge(a){if(tb(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of ud(a)){const f=a[e];for(const g of ud(f))if(e in
b){let n;b[e][g]=new Set([...(null!=(n=b[e][g])?n:[]),...f[g]])}else b[e]={[g]:f[g]}}return!0}xa("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ud(this.measures)])}producedFields(){const a=new Set;for(const b of ud(this.measures))for(const e of ud(this.measures[b])){const f=this.measures[b][e];0===f.size?a.add(`${e}_${b}`):f.forEach(a.add,a)}return a}hash(){return`Aggregate ${Wb({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],b=[],e=[];for(const f of ud(this.measures))for(const g of ud(this.measures[f]))for(const n of this.measures[f][g])e.push(n),a.push(g),b.push("*"===f?null:$a(f));return{type:"aggregate",groupby:[...this.dimensions].map($a),ops:a,fields:b,as:e}}}class c extends mf{constructor(a,b,e,f){super(a);this.model=b;this.name=e;this.data=f;R(this,"column",void 0);R(this,"row",void 0);R(this,"facet",void 0);R(this,"childModel",void 0);for(const g of th)if(a=b.facet[g]){const {bin:n,
sort:C}=a;this[g]=Object.assign({},{name:b.getName(`${g}_domain`),fields:[Rc(a),...(sb(n)?[Rc(a,{binSuffix:"end"})]:[])]},pe(C)?{sortField:C}:h.isArray(C)?{sortIndexField:gi(a,g)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of th)this[b]&&(a+=` ${b.charAt(0)}:${Wb(this[b])}`);return a}get fields(){const a=[];for(const b of th){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of th)this[b]&&(this[b].sortField&&
a.add(this[b].sortField.field),this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const f of Qh){var b=this.childModel.component.scales[f];if(b&&!b.merged){var e=b.get("type");b=b.get("range");Md(e)&&Ob(b)&&(e=Ri(this.childModel,f),(e=Zj(e))?a[f]=e:I(Ub(f)))}}return a}assembleRowColumnHeaderData(a,b,e){const f={row:"y",column:"x",facet:void 0}[a],g=[],n=[],C=[];f&&e&&e[f]&&
(b?(g.push(`distinct_${e[f]}`),n.push("max")):(g.push(e[f]),n.push("distinct")),C.push(`distinct_${e[f]}`));const {sortField:O,sortIndexField:aa}=this[a];if(O){const {op:ua="min",field:ab}=O;g.push(ab);n.push(ua);C.push(Rc(O,{forAs:!0}))}else aa&&(g.push(aa),n.push("max"),C.push(aa));return{name:this[a].name,source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},g.length?{fields:g,ops:n,as:C}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,
{layoutHeaders:e}=this.model.component,f=[],g={};for(const aa of uj){for(const ua of al){let ab;var n=null!=(ab=e[aa]&&e[aa][ua])?ab:[];for(const ob of n){let hc;if(0<(null==(hc=ob.axes)?void 0:hc.length)){g[aa]=!0;break}}}g[aa]&&(n=`length(data("${this.facet.name}"))`,f.push({name:`${this.facet.name}_${aa}`,transform:[{type:"sequence",start:0,stop:"row"===aa?b?{signal:`ceil(${n} / ${b})`}:1:b?{signal:`min(${n}, ${b})`}:{signal:n}}]}))}const {row:C,column:O}=g;(C||O)&&f.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return f}assemble(){const a=[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:f,row:g,facet:n}=this;if(f&&g&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var C;let O;const aa=[].concat(null!=(C=e.x)?C:[],null!=(O=e.y)?O:[]);C=aa.map(()=>"distinct");a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:aa,ops:C}]})}for(const O of["column","row"])this[O]&&a.push(this.assembleRowColumnHeaderData(O,b,e));n&&(b=this.assembleFacetHeaderData(e))&&
a.push(...b);return a}}class d extends mf{clone(){return new d(null,Ee(this._parse))}constructor(a,b){super(a);R(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${Wb(this._parse)}`}static makeExplicit(a,b,e){let f={};b=b.data;let g;!ng(b)&&(null==b?0:null==(g=b.format)?0:g.parse)&&(f=b.format.parse);return this.makeWithAncestors(a,f,{},e)}static makeWithAncestors(a,b,e,f){for(var g of ud(e)){const C=f.getWithExplicit(g);void 0!==C.value&&(C.explicit||C.value===e[g]||"derived"===C.value||"flatten"===
e[g]?delete e[g]:I(Hc(g,e[g],C.value)))}for(var n of ud(b))g=f.get(n),void 0!==g&&(g===b[n]?delete b[n]:I(Hc(n,b[n],g)));b=new Lf(b,e);f.copyAll(b);e={};for(const C of ud(b.combine()))n=b.get(C),null!==n&&(e[C]=n);return 0===ud(e).length||f.parseNothing?null:new d(a,e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of ud(this._parse)){const e=this._parse[b];1===db(b)&&(a[b]=e)}return a}producedFields(){return new Set(ud(this._parse))}dependentFields(){return new Set(ud(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ud(this._parse).filter(b=>a?1<db(b):!0).map(b=>{const e=ce(b,this._parse[b]);return e?{type:"formula",expr:e,as:Nb(b)}:null}).filter(b=>null!==b)}}class k extends mf{clone(){return new k(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class u extends mf{clone(){return new u(null,this.params)}constructor(a,
b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Wb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class S extends mf{clone(){return new S(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Wb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class fa extends mf{constructor(a){super(null);R(this,"_data",void 0);R(this,"_name",void 0);R(this,"_generator",void 0);null!=a||(a={name:"source"});let b;ng(a)||(b=a.format?Object.assign({},dc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];Ab(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Mf(a)||
ng(a))this._data={};this._generator=ng(a);a.name&&(this._name=a.name);b&&!gb(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var Ta=new WeakMap;class Vb{constructor(){if(Ta.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");Ta.set(this,{writable:!0,value:void 0});r(this,Ta,!1)}setModified(){r(this,Ta,!0)}get modifiedFlag(){var a=da(this,Ta,"get");return a.get?a.get.call(this):a.value}}class mc extends Vb{getNodeDepths(a,b,e){e.set(a,b);for(const f of a.children)this.getNodeDepths(f,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class Uc extends Vb{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class yd extends Uc{mergeNodes(a,b){const e=b.shift();for(const f of b)a.removeChild(f),f.parent=e,f.remove()}run(a){const b=a.children.map(f=>f.hash()),e={};for(let f=0;f<b.length;f++)void 0===e[b[f]]?e[b[f]]=[a.children[f]]:e[b[f]].push(a.children[f]);for(const f of ud(e))1<e[f].length&&
(this.setModified(),this.mergeNodes(a,e[f]))}}class Cd extends Uc{constructor(a){super();R(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&qg(a)}run(a){!(a instanceof k)||this.requiresSelectionId&&(Yf(a.parent)||a.parent instanceof Bh||a.parent instanceof d)||(this.setModified(),a.remove())}}class wd extends Vb{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof Ah&&(e=a.producedFields(),rb(e,b)&&(this.setModified(),a.removeFormulas(b),0===a.producedFields.length&&
a.remove()));for(const f of a.children)this.run(f,new Set([...b,...e]))}}class Wd extends Uc{constructor(){super()}run(a){a instanceof Tg&&!a.isRequired()&&(this.setModified(),a.remove())}}class ge extends mc{run(a){if(!(Yf(a)||1<a.numChildren()))for(const b of a.children)b instanceof d&&(a instanceof d?(this.setModified(),a.merge(b)):vb(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class le extends mc{run(a){const b=[...a.children];var e=a.children.filter(g=>
g instanceof d);if(1<a.numChildren()&&1<=e.length){const g={};var f=new Set;for(const n of e){e=n.parse;for(const C of ud(e))C in g?g[C]!==e[C]&&f.add(C):g[C]=e[C]}for(const n of f)delete g[n];if(!gb(g)){this.setModified();f=new d(a,g);for(const n of b){if(n instanceof d)for(const C of ud(g))delete n.parse[C];a.removeChild(n);n.parent=f;n instanceof d&&0===ud(n.parse).length&&n.remove()}}}}}class eg extends mc{run(a){a instanceof Tg||0<a.numChildren()||a instanceof c||a instanceof fa||(this.setModified(),
a.remove())}}class Gc extends mc{run(a){a=a.children.filter(e=>e instanceof Ah);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class vc extends mc{run(a){var b=a.children.filter(g=>g instanceof Bh);const e={};for(var f of b)b=Wb(f.groupBy),b in e||(e[b]=[]),e[b].push(f);for(const g of ud(e))if(f=e[g],1<f.length){b=f.pop();for(const n of f)b.merge(n)&&(a.removeChild(n),n.parent=b,n.remove(),this.setModified())}}}class Qc extends mc{constructor(a){super();this.model=a}run(a){var b=
!(Yf(a)||a instanceof ti||a instanceof d||a instanceof k);const e=[],f=[];for(const g of a.children)g instanceof Ai&&(b&&!vb(a.producedFields(),g.dependentFields())?e.push(g):f.push(g));if(0<e.length){b=e.pop();for(const g of e)b.merge(g,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Ai?a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<f.length){a=f.pop();for(const g of f)a.merge(g,this.model.renameSignal.bind(this.model));this.setModified()}}}
class Jd extends mc{run(a){var b=[...a.children];if(Tb(b,g=>g instanceof Tg)&&!(1>=a.numChildren())){var e=[];for(const g of b)if(g instanceof Tg){for(b=g;1===b.numChildren();){const [n]=b.children;if(n instanceof Tg)b=n;else break}e.push(...b.children);if(f)a.removeChild(g),g.parent=f.parent,f.parent.removeChild(f),f.parent=b,this.setModified();else var f=b}else e.push(g);if(e.length){this.setModified();for(const g of e)g.parent.removeChild(g),g.parent=f}}}}class fe extends mf{clone(){return new fe(null,
Ee(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=Za(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:Rc(a)}hash(){return`JoinAggregateTransform ${Wb(this.transform)}`}assemble(){const a=
[],b=[],e=[];for(var f of this.transform.joinaggregate)b.push(f.op),e.push(this.getDefaultName(f)),a.push(void 0===f.field?null:f.field);f=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==f?{groupby:f}:{})}}class ne extends mf{clone(){return new ne(null,Ee(this._stack))}constructor(a,b){super(a);R(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:f,as:g,offset:n="zero"}=b;var C=[];const O=[];if(void 0!==b.sort)for(const aa of b.sort)C.push(aa.field),
O.push(T(aa.order,"ascending"));C={field:C,order:O};b=Qf(g)?g:h.isString(g)?[g,`${g}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new ne(a,{dimensionFieldDefs:[],stackField:e,groupby:f,offset:n,sort:C,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;const {encoding:f}=b;if(!e)return null;const {groupbyChannels:g,fieldChannel:n,offset:C,impute:O}=e;e=g.map(ab=>ye(f[ab])).filter(ab=>!!ab);const aa=Cf(b);var ua=b.encoding.order;if(h.isArray(ua)||va(ua))ua=Vc(ua);else{const ab=ua&&ua.sort&&
!ua.field?ua.sort:"y"===n?"descending":"ascending";ua=aa.reduce((ob,hc)=>{ob.field.push(hc);ob.order.push(ab);return ob},{field:[],order:[]})}return new ne(a,{dimensionFieldDefs:e,stackField:b.vgField(n),facetby:[],stackby:aa,sort:ua,offset:C,impute:O,as:[b.vgField(n,{suffix:"start",forAs:!0}),b.vgField(n,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Wb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;return 0<a.length?a.map(f=>f.bin?b?[Rc(f,{binSuffix:"mid"})]:[Rc(f,{}),Rc(f,{binSuffix:"end"})]:[Rc(f)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:f,stackby:g,sort:n,offset:C,impute:O,as:aa}=this._stack;
if(O)for(const ua of e){const {bandPosition:ab=.5,bin:ob}=ua;if(ob){const hc=Rc(ua,{expr:"datum"}),Pc=Rc(ua,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${ab}*${hc}+${1-ab}*${Pc}`,as:Rc(ua,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:f,groupby:[...g,...b],key:Rc(ua,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:f,sort:n,as:aa,offset:C});return a}}class re extends mf{clone(){return new re(null,Ee(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=Za(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?e:[]).forEach(f=>a.add(f.field));this.transform.window.map(f=>f.field).filter(f=>void 0!==f).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:Rc(a)}hash(){return`WindowTransform ${Wb(this.transform)}`}assemble(){const a=
[],b=[],e=[],f=[];for(var g of this.transform.window)b.push(g.op),e.push(this.getDefaultName(g)),f.push(void 0===g.param?null:g.param),a.push(void 0===g.field?null:g.field);g=this.transform.frame;const n=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&b.every(ua=>Na(ua)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==n?{groupby:n}:{});const C=[],O=[];if(void 0!==this.transform.sort)for(var aa of this.transform.sort){C.push(aa.field);let ua;O.push(null!=(ua=aa.order)?
ua:"ascending")}aa=this.transform.ignorePeers;return Object.assign({},{type:"window",params:f,as:e,ops:b,fields:a,sort:{field:C,order:O}},void 0!==aa?{ignorePeers:aa}:{},void 0!==n?{groupby:n}:{},void 0!==g?{frame:g}:{})}}class ie{constructor(a){R(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new ie(()=>a(b))}}class Ag extends Lf{constructor(a,b){super({},{name:a});R(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Tb(this.get("domains"),a=>h.isArray(a)&&2===a.length&&h.isNumber(a[0])&&0>=a[0]&&h.isNumber(a[1])&&0<=a[1])}}const kf=["range","scheme"],ni={bins:a=>{let {model:b,fieldOrDatumDef:e}=a;return va(e)?gj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=Ab(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:f,domainMin:g,domainMax:n,fieldOrDatumDef:C}=a;{let O;a=(null==(O=ye(C))?0:O.bin)||h.isArray(f)||
null!=n||null!=g||Ab([kg.TIME,kg.UTC],b)?void 0:F(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:f,markDef:g,config:n}=a;a:{a=n.scale;var C=n.bar;if(F(b)){if(pg.has(e)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:O,orient:aa}=g;if("bar"===O&&(!va(f)||!f.bin&&!f.timeUnit)&&("vertical"===aa&&"x"===b||"horizontal"===aa&&"y"===b)){a=C.continuousBandSize;break a}}if(e===kg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>
{let {scalePadding:b,channel:e,markDef:f,scaleType:g,config:n,hasNestedOffsetScale:C}=a;return Xj(b,e,f.type,g,n.scale,C)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:f,scalePaddingInner:g,config:n,hasNestedOffsetScale:C}=a;return Yj(b,e,f,g,n.scale,C)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:f,config:g}=a;a=va(b)?b.sort:void 0;var n=g.scale;a="x"===f&&void 0!==n.xReverse?Ld(e)&&"descending"===a?Mb(n.xReverse)?{signal:`!${n.xReverse.signal}`}:!n.xReverse:n.xReverse:Ld(e)&&
"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:f,markDef:g,scaleType:n,config:C,hasSecondaryRangeChannel:O}=a;a:if(a=C.scale,f&&"unaggregated"!==f&&Ld(n)){if(h.isArray(f)){a=f[0];const aa=f[f.length-1];if(h.isNumber(a)&&0>=a&&h.isNumber(aa)&&0<=aa){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||$h.has(n))if(va(e)&&e.bin||!Ab([...Qh,...nl],b))a=!1;else{const {orient:aa,type:ua}=g;a=Ab(["bar","area","line","trail"],ua)&&("horizontal"===aa&&"y"===
b||"vertical"===aa&&"x"===b)?!1:Ab(["bar","area"],ua)&&!O?!0:null==a?void 0:a.zero}else a=!0;return a}},Wl=zh((a,b)=>ch[a]-ch[b]);class vm{constructor(){R(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,b,e,f,g,n,C){this.type=b;this.parent=e;this.config=g;R(this,"name",void 0);R(this,"size",void 0);R(this,"title",void 0);R(this,"description",
void 0);R(this,"data",void 0);R(this,"transforms",void 0);R(this,"layout",void 0);R(this,"scaleNameMap",void 0);R(this,"projectionNameMap",void 0);R(this,"signalNameMap",void 0);R(this,"component",void 0);R(this,"view",void 0);R(this,"children",void 0);R(this,"correctDataNames",ua=>{let ab;if(null==(ab=ua.from)?0:ab.data)ua.from.data=this.lookupDataSource(ua.from.data);let ob,hc;if(null==(ob=ua.from)?0:null==(hc=ob.facet)?0:hc.data)ua.from.facet.data=this.lookupDataSource(ua.from.facet.data);return ua});
this.parent=e;this.config=g;this.view=Kb(C);let O;this.name=null!=(O=a.name)?O:f;this.title=$b(a.title)?{text:a.title}:a.title?Kb(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new vm;this.projectionNameMap=e?e.projectionNameMap:new vm;this.signalNameMap=e?e.signalNameMap:new vm;this.data=a.data;this.description=a.description;let aa;this.transforms=wg(null!=(aa=a.transform)?aa:[]);this.layout="layer"===b||"unit"===b?{}:We(a,b,g);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?
e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new Lf,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},n?Ee(n):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();
this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){ak(this)}parseProjection(){He(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Xe(this)}assembleEncodeFromView(a){a=Object.assign({},
a);a=(delete a.style,a);const b={};for(const e of ud(a)){const f=a[e];void 0!==f&&(b[e]=Ua(f))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=Ua(this.description)),"unit"===this.type||"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return gb(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=
Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:f}=this,g=e.layoutHeaders,n={};for(O of th){var C=g[O];let aa;if(null==(aa=C)?0:aa.facetFieldDef){const {titleAnchor:ua,titleOrient:ab}=Wh(["titleAnchor","titleOrient"],C.facetFieldDef.header,f,O);C=zg(O,ab);const ob=Dl[C][ua];void 0!==ob&&(n[C]=ob)}}var O=gb(n)?void 0:n;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,O?{titleBand:O}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=
this.component,b=[];for(var e of th)if(a[e].title){var f=b,g=f.push;var n=e;var C=this.component.layoutHeaders[n].title,O=this.config?this.config:void 0,aa=this.component.layoutHeaders[n].facetFieldDef?this.component.layoutHeaders[n].facetFieldDef:void 0;const {titleAnchor:Lc,titleAngle:dd,titleOrient:gd}=Wh(["titleAnchor","titleAngle","titleOrient"],aa.header,O,n);var ua=zg(n,gd),ab=Ma(dd);n={name:`${n}-title`,type:"group",role:`${ua}-title`,title:Object.assign({},{text:C},"row"===n?{orient:"left"}:
{},{style:"guide-title"},m(ab,ua),Mh(ua,ab,Lc),L(O,aa,n,mk,rl))};g.call(f,n)}for(const Lc of uj){a=b;b=a.concat;f=Lc;g=this.component.layoutHeaders[f];e=[];for(const dd of al)if(g[dd])for(const gd of g[dd]){a:{aa=void 0;n=f;var ob=dd,hc=g;if(C=gd){O=null;({facetFieldDef:lc}=hc);ua=this.config?this.config:void 0;lc&&C.labels&&({labelOrient:ab}=Wh(["labelOrient"],lc.header,ua,n),"row"===n&&!Ab(["top","bottom"],ab)||"column"===n&&!Ab(["left","right"],ab))&&(O=H(lc,n,ua));const ke=lh(this)&&!me(this.facet),
be=C.axes,Ce=0<(null==be?void 0:be.length);if(O||Ce){const Qe="row"===n?"height":"width";ua=Object;ab=ua.assign;ob={name:this.getName(`${n}_${ob}`),type:"group",role:`${n}-${ob}`};if(hc.facetFieldDef){hc={data:this.getName(`${n}_domain`)};{var Pc=lc;const {sort:Nf}=Pc;var lc=pe(Nf)?{field:Rc(Nf,{expr:"datum"}),order:null!=(aa=Nf.order)?aa:"ascending"}:h.isArray(Nf)?{field:gi(Pc,n,{expr:"datum"}),order:"ascending"}:{field:Rc(Pc,{expr:"datum"}),order:null!=Nf?Nf:"ascending"}}aa={from:hc,sort:lc}}else aa=
{};n=ab.call(ua,{},ob,aa,Ce&&ke?{from:{data:this.getName(`facet_domain_${n}`)}}:{},O?{title:O}:{},C.sizeSignal?{encode:{update:{[Qe]:C.sizeSignal}}}:{},Ce?{axes:be}:{});break a}}n=null}null!=n&&e.push(n)}b=b.call(a,e)}return b}assembleAxes(){return Pj(this.component.axes,this.config)}assembleLegends(){return Bf(this)}assembleProjections(){var a=Qi(this)||Rk(this)?yg(this):Ug(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,a);
b=Object.assign({},pc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return Ab(["unit","layer"],this.type)?Ab(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),gb(b)?void 0:b}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());
a=!this.parent||lh(this.parent)?ml(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return sa((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(uf[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(lh(this.parent)){var b=Jb(a),e=V(b);if((b=this.component.scales[e])&&!b.merged){var f=
b.get("type");const g=b.get("range");if(Md(f)&&Ob(g)){a=b.get("name");f=Ri(this,e);if(f=Zj(f))return e=Rc({aggregate:"distinct",field:f},{expr:"datum"}),{signal:mb(a,b,e)};I(Ub(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,
b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(xj[a]&&Nh[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Em extends wm{vgField(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return Rc(e,b)}reduceFieldDef(a,b){return Cg(this.getMapping(),(e,f,g)=>(f=ye(f))?a(e,f,g):e,b)}forEachFieldDef(a,b){Gg(this.getMapping(),(e,f)=>{(e=ye(e))&&a(e,f)},b)}}class om extends mf{clone(){return new om(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"value",null!=(g=
a[1])?g:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Wb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);b=Object.assign({},{type:"kde",field:a},b);this.transform.groupby&&(b.resolve="shared");return b}}class um extends mf{clone(){return new um(null,Ee(this.transform))}constructor(a,b){super(a);
this.transform=b;this.transform=Ee(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Wb(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",field:a,signal:b}}}class Fl extends mf{clone(){return new Fl(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:f,markDef:g}=b;if("filter"!==Zb("invalid",g,e))return null;const n=b.reduceFieldDef((C,
O,aa)=>{if(aa=!!Nh[aa]&&b.getScaleComponent(aa))aa=aa.get("type"),Ld(aa)&&"count"!==O.aggregate&&!Qa(f)&&(C[O.field]=O);return C},{});return ud(n).length?new Fl(a,n):null}dependentFields(){return new Set(ud(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Wb(this.filter)}`}assemble(){const a=ud(this.filter).reduce((b,e)=>{e=this.filter[e];const f=Rc(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${f}) || (isValid(${f}) && isFinite(+${f})))`):"quantitative"===
e.type&&(b.push(`isValid(${f})`),b.push(`isFinite(+${f})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends mf{clone(){return new nm(this.parent,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);const {flatten:e,as:f=[]}=this.transform;this.transform.as=e.map((g,n)=>{let C;return null!=(C=f[n])?C:g})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Wb(this.transform)}`}assemble(){const {flatten:a,
as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class mm extends mf{clone(){return new mm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"key",null!=(g=a[1])?g:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Wb(this.transform)}`}assemble(){const {fold:a,
as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class il extends mf{clone(){return new il(null,Ee(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var f of[["longitude","latitude"],["longitude2","latitude2"]]){const g=f.map(n=>{n=Rd(b.encoding[n]);return va(n)?n.field:Hb(n)?{expr:`${n.datum}`}:Ic(n)?{expr:`${n.value}`}:void 0});if(g[0]||g[1])a=new il(a,g,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&
(f=b.typedFieldDef("shape"),"geojson"===f.type&&(a=new il(a,null,f.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,f){super(a);this.fields=b;this.geojson=e;this.signal=f}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(h.isString);return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Wb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Gl extends mf{clone(){return new Gl(null,this.projection,Ee(this.fields),Ee(this.as))}constructor(a,b,e,f){super(a);this.projection=b;this.fields=e;this.as=f}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const f=e.map(n=>{n=Rd(b.encoding[n]);return va(n)?n.field:Hb(n)?{expr:`${n.datum}`}:
Ic(n)?{expr:`${n.value}`}:void 0}),g="longitude2"===e[0]?"2":"";if(f[0]||f[1])a=new Gl(a,b.projectionName(),f,[b.getName(`x${g}`),b.getName(`y${g}`)])}return a}dependentFields(){return new Set(this.fields.filter(h.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Wb(this.fields)} ${Wb(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ck extends mf{clone(){return new Ck(null,Ee(this.transform))}constructor(a,
b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:f}=a;return{signal:`sequence(${[b,e,...(f?[f]:[])].join()})`}}static makeFromTransform(a,b){return new Ck(a,b)}static makeFromEncoding(a,b){const e=b.encoding;var f=e.x;const g=e.y;if(va(f)&&va(g)){const n=f.impute?f:g.impute?g:void 0;if(void 0===
n)return;f=f.impute?g:g.impute?f:void 0;const {method:C,value:O,frame:aa,keyvals:ua}=n.impute;b=Dg(b.mark,e);return new Ck(a,Object.assign({},{impute:n.field,key:f.field},C?{method:C}:{},void 0!==O?{value:O}:{},aa?{frame:aa}:{},void 0!==ua?{keyvals:ua}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${Wb(this.transform)}`}assemble(){const {impute:a,key:b,keyvals:e,method:f,groupby:g,value:n,frame:C=[null,null]}=this.transform;var O=Object,aa=O.assign;var ua=e?{keyvals:void 0!==(null==
e?void 0:e.stop)?this.processSequence(e):e}:{};O=aa.call(O,{},{type:"impute",field:a,key:b},ua,{method:"value"},g?{groupby:g}:{},{value:f&&"value"!==f?null:n});return f&&"value"!==f?(aa=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[f],fields:[a],frame:C,ignorePeers:!1},g?{groupby:g}:{}),[O,aa,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[O]}}class pm extends mf{clone(){return new pm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=
b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Wb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,b);return Object.assign({},
{type:"loess",x:a,y:e},b)}}class Hl extends mf{clone(){return new Hl(null,Ee(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,f){const g=b.component.data.sources,{from:n}=e;var C=null;if("data"in n)C=ol(n.data,g),C||(C=new fa(n.data),g.push(C)),f=b.getName(`lookup_${f}`),C=new Tg(C,f,uf.Lookup,b.component.data.outputNodeRefCounts),b.component.data.outputNodes[f]=C;else if("param"in n){f=n.param;e=Object.assign({},{as:f},e);let O;try{O=
b.getSelectionComponent(sa(f),f)}catch(aa){throw Error(`Lookups can only be performed on selection parameters. "${f}" is a variable parameter.`);}C=O.materialized;if(!C)throw Error(`Cannot define and lookup the "${f}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Hl(a,e,C.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?h.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Wb({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:h.array(this.transform.as)}:{});else a=this.transform.as,h.isString(a)||(I('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class qm extends mf{clone(){return new qm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"prob",null!=(g=a[1])?g:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Wb(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class rm extends mf{clone(){return new rm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Wb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class tm extends mf{clone(){return new tm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=Za((null!=(b=this.transform.groupby)?b:[]).concat(a),
e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Wb(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:f,op:g}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==f?{limit:f}:{},void 0!==g?{op:g}:{},void 0!==e?{groupby:e}:{})}}class sm extends mf{clone(){return new sm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=
b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Wb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Jl extends Em{constructor(a,b,e,f){super(a,"facet",b,e,f,a.resolve);R(this,"facet",void 0);R(this,"child",void 0);R(this,"children",void 0);this.child=el(a.spec,this,this.getName("child"),void 0,f);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!me(a))return{facet:this.initFacetFieldDef(a,
"facet")};var b=ud(a);const e={};for(const f of b){if(!["row","column"].includes(f)){I(ed(f,"facet"));break}b=a[f];if(void 0===b.field){I(sd(b,f));break}e[f]=this.initFacetFieldDef(b,f)}return e}initFacetFieldDef(a,b){a=Ne(a,b);a.header?a.header=Kb(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=gk(this);this.child.parseData()}parseLayoutSize(){Pk(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const f of th){var a=void 0,b=f;const {facet:g,config:n,child:C,component:O}=this;if(this.channelHasField(b)){const aa=g[b];var e=hi("title",null,n,b);e=$c(aa,n,{allowDisabling:!0,includeDefault:void 0===e||!!e});C.component.layoutHeaders[b].title&&(e=h.isArray(e)?e.join(", "):e,e+=` / ${C.component.layoutHeaders[b].title}`,C.component.layoutHeaders[b].title=
null);const ua=hi("labelOrient",aa.header,n,b),ab=null!==aa.header?T(null==(a=aa.header)?void 0:a.labels,n.header.labels,!0):!1;a=Ab(["bottom","right"],ua)?"footer":"header";O.layoutHeaders[b]={title:null!==aa.header?e:null,facetFieldDef:aa,[a]:"facet"===b?[]:[Ok(this,b,ab)]}}}Al(this,"x");Al(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const f of th)for(const g of al){const n=this.component.layoutHeaders[f];var b=n[g],{facetFieldDef:e}=n;if(e&&(e=hi("titleOrient",e.header,this.config,f),["right","bottom"].includes(e))){e=zg(f,e);let O;null!=(O=a).titleAnchor||(O.titleAnchor={});a.titleAnchor[e]="end"}let C;if(null==(C=b)?0:C[0]){b="row"===f?"height":"width";e="header"===g?"headerBand":"footerBand";if("facet"!==f&&!this.child.component.layoutSize.get(b)){let O,aa;null!=(O=a)[aa=e]||(O[aa]={});a[e][f]=.5}if(n.title){let O;
null!=(O=a).offset||(O.offset={});a.offset["row"===f?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let f="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(f="none"):f="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:f})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Jl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Jl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Rc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],b=[],e=[];if(this.child instanceof Jl){if(this.child.channelHasField("column")){var f=Rc(this.child.facet.column);
a.push(f);b.push("distinct");e.push(`distinct_${f}`)}}else for(f of Qh){var g=this.child.component.scales[f];if(g&&!g.merged){var n=g.get("type");g=g.get("range");Md(n)&&Ob(g)&&(n=Ri(this.child,f),(n=Zj(n))?(a.push(n),b.push("distinct"),e.push(`distinct_${n}`)):I(Ub(f)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:f}=this.facet,{fields:g,ops:n,as:C}=this.getCardinalityAggregateForChild(),O=[];for(var aa of th){var ua=this.facet[aa];
if(ua){O.push(Rc(ua));const {bin:ab,sort:ob}=ua;sb(ab)&&O.push(Rc(ua,{binSuffix:"end"}));if(pe(ob)){const {field:hc,op:Pc="min"}=ob;ua=cl(ua,ob);e&&f?(g.push(ua),n.push("max")):(g.push(hc),n.push(Pc));C.push(ua)}else h.isArray(ob)&&(ua=gi(ua,aa),g.push(ua),n.push("max"),C.push(ua))}}aa=!!e&&!!f;return Object.assign({},{name:a,data:b,groupby:O},aa||0<g.length?{aggregate:Object.assign({},aa?{cross:aa}:{},g.length?{fields:g,ops:n,as:C}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?pe(b.sort)?
[cl(b,b.sort,{expr:"datum"})]:h.isArray(b.sort)?[gi(b,a,{expr:"datum"})]:[Rc(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(pe(a)?a.order:!h.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return H(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const f of uj)if(a[f]){let g;const n=hi("labelOrient",null==(g=a[f])?void 0:g.header,b,f);if(e[f].includes(n))return H(a[f],f,b)}}assembleMarks(){const {child:a}=
this,b=Sj(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),f=this.assembleLabelTitle()||a.assembleTitle(),g=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},f?{title:f}:{},g?{style:g}:{},{from:{facet:this.assembleFacet()},sort:{field:th.map(n=>this.facetSortFields(n)).flat(),order:th.map(n=>this.facetSortOrder(n)).flat()}},0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup(ih(this,[])))]}getMapping(){return this.facet}}class Jm extends wm{constructor(a,
b,e,f){super(a,"concat",b,e,f,a.resolve);R(this,"children",void 0);let g,n,C,O;"shared"!==(null==(g=a.resolve)?void 0:null==(n=g.axis)?void 0:n.x)&&"shared"!==(null==(C=a.resolve)?void 0:null==(O=C.axis)?void 0:O.y)||I("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((aa,ua)=>el(aa,this,this.getName(`concat_${ua}`),void 0,f))}parseData(){this.component.data=gk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection=
{};for(const a of this.children){a.parseSelections();for(const b of ud(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Pk(this);const a=void 0===this.layout.columns?"height":"childHeight";yk(this,1===this.layout.columns?"width":"childWidth");
yk(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=ma(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),
e=a.assembleGroupStyle(),f=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},f?{encode:{update:f}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Km=Object.assign({},{disable:1,gridScale:1,scale:1},zf,{labelExpr:1,encode:1}),Am=ud(Km);class Bm extends Lf{constructor(){let a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new Bm(Ee(this.explicit),Ee(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Mb(this.explicit.orient)}}const Lm={bottom:"top",top:"bottom",
left:"right",right:"left"},Im=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Il={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),zd("x",a,{defaultPos:"mid"}),zd("y",a,{defaultPos:"mid"}),Jg(a,"radius"),Jg(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",
size:"ignore",theta:"ignore"}),Pe("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),Pe("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),qh(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Jg(a,"x"),Jg(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>dl(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>
Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&va(b)&&"geojson"===b.type?{field:Rc(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Jg(a,"x"),Jg(a,"y"),J(a,"url"))},line:{vgMark:"line",
encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),zd("x",a,{defaultPos:"mid"}),zd("y",a,{defaultPos:"mid"}),xc("size",a,{vgChannel:"strokeWidth"}),qh(a))},point:{vgMark:"symbol",encodeEntry:a=>dl(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Jg(a,"x"),Jg(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:b}=
a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Pe("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),Pe("y",a,{defaultPos:"vertical"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),xc("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>dl(a,
"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,f=e.assign,g=Hg(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),n=zd("x",a,{defaultPos:"mid"}),C=zd("y",a,{defaultPos:"mid"}),O=J(a),aa=xc("size",a,{vgChannel:"fontSize"}),ua=xc("angle",a);var ab=void 0===Zb("align",a.markDef,b)?"center":void 0;ab=Ue("align",ab);b=void 0===Zb("baseline",a.markDef,b)?"middle":void 0;return f.call(e,{},g,n,C,O,aa,ua,ab,Ue("baseline",b),zd("radius",
a,{defaultPos:null}),zd("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var f=e.orient;const g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";var n=Object,C=n.assign,O=Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),aa=zd("x",a,{defaultPos:"mid",vgChannel:"xc"}),ua=zd("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Pc,markDef:lc}=a;var {orient:ab}=lc;var ob="horizontal"===
ab?"width":"height";ab=a.getScaleComponent("horizontal"===ab?"x":"y");var hc;const Lc=null!=(hc=Zb("size",lc,Pc,{vgChannel:ob}))?hc:Pc.tick.bandSize;ob=void 0!==Lc?Lc:(hc=ab?ab.get("range"):void 0)&&Ob(hc)&&h.isNumber(hc.step)?3*hc.step/4:3*wf(Pc.view,ob)/4}return C.call(n,{},O,aa,ua,xc("size",a,{defaultValue:ob,vgChannel:g}),{[f]:Ua(Zb("thickness",e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",
theta:"ignore"}),zd("x",a,{defaultPos:"mid"}),zd("y",a,{defaultPos:"mid"}),xc("size",a),qh(a))}};class Dm extends Em{constructor(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},g=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,g,void 0,ff(a)?a.view:void 0);R(this,"markDef",void 0);R(this,"encoding",void 0);R(this,"specifiedScales",{});R(this,"stack",void 0);R(this,"specifiedAxes",{});R(this,"specifiedLegends",{});R(this,"specifiedProjection",{});R(this,"selection",
[]);R(this,"children",[]);const n=id(a.mark)?Object.assign({},a.mark):{type:a.mark},C=n.type;void 0===n.filled&&(n.filled=Sh(n,g,{graticule:a.data&&"graticule"in a.data}));const O=this.encoding=gg(a.encoding||{},C,n.filled,g);this.markDef=Qg(n,O,g);this.size=Rl({encoding:O,size:ff(a)?Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):f});this.stack=Pg(this.markDef,O);this.specifiedScales=this.initScales(C,O);this.specifiedAxes=this.initAxes(O);this.specifiedLegends=this.initLegends(O);
this.specifiedProjection=a.projection;let aa;this.selection=(null!=(aa=a.params)?aa:[]).filter(ua=>Qd(ua))}get hasProjection(){const {encoding:a}=this,b=this.mark===oi,e=a&&Pl.some(f=>tc(a[f]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,b){return zk.reduce((e,f)=>{const g=Rd(b[f]);if(g){let n;e[f]=this.initScale(null!=(n=g.scale)?n:{})}return e},{})}initScale(a){const {domain:b,
range:e}=a;a=Kb(a);h.isArray(b)&&(a.domain=b.map(ra));h.isArray(e)&&(a.range=e.map(ra));return a}initAxes(a){return Qh.reduce((b,e)=>{var f=a[e];if(tc(f)||"x"===e&&tc(a.x2)||"y"===e&&tc(a.y2))f=tc(f)?f.axis:void 0,b[e]=f?this.initAxis(Object.assign({},f)):f;return b},{})}initAxis(a){var b=ud(a);const e={};for(const f of b)b=a[f],e[f]=lg(b)?hd(b):ra(b);return e}initLegends(a){return gl.reduce((b,e)=>{var f=Rd(a[e]),g;if(g=f)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(f=f.legend,b[e]=f?Kb(f):f);return b},{})}parseData(){this.component.data=gk(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const f of Qh){const g=G(f);if(a[g]){var e=a[g];b.layoutSize.set(g,De(e)?"step":e,!0)}else e=Nk(this,g),b.layoutSize.set(g,e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const n=this.config.selection;if(b&&b.length)for(const C of b){b=sa(C.name);
var f=C.select,g=h.isString(f)?f:f.type;f=h.isObject(f)?Ee(f):{type:g};const O=n[g];for(const aa in O)if("fields"!==aa&&"encodings"!==aa&&("mark"===aa&&(f[aa]=Object.assign({},O[aa],f[aa])),void 0===f[aa]||!0===f[aa])){let ua;f[aa]=Ee(null!=(ua=O[aa])?ua:f[aa])}b=e[b]=Object.assign({},f,{name:b,type:g,init:C.value,bind:C.bind,events:h.isString(f.on)?h.parseSelector(f.on,"scope"):h.array(Ee(f.on))});g=Ee(C);for(const aa of $i)aa.defined(b)&&aa.parse&&aa.parse(this,b,g)}}a.selection=e}parseMarkGroup(){this.component.mark=
pl(this)}parseAxesAndHeaders(){this.component.axes=ql(this)}assembleSelectionTopLevelSignals(a){return ah(this,a)}assembleSignals(){var a=[...Oi(this)];var b=[];var e;for(const f of og(null!=(e=this.component.selection)?e:{})){e=f.name;let g=`${e}${"_tuple"}, ${"global"===f.resolve?"true":`{unit: ${$f(this)}}`}`;for(const n of $i)n.defined(f)&&(n.signals&&(b=n.signals(this,f,b)),n.modifyExpr&&(g=n.modifyExpr(this,f,g)));b.push({name:e+"_modify",on:[{events:{signal:f.name+"_tuple"},update:`modify(${h.stringValue(f.name+
"_store")}, ${g})`}]})}b=B(b);return[...a,...b]}assembleSelectionData(a){return jh(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return ma(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&Qi(this.parent)||(b=Ih(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Ze(this.encoding,
a)}fieldDef(a){return ye(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return wc(a)?a:null}}class Cm extends wm{constructor(a,b,e,f,g){super(a,"layer",b,e,g,a.resolve,a.view);R(this,"children",void 0);const n=Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((C,O)=>{if("layer"in C)return new Cm(C,this,this.getName(`layer_${O}`),n,g);if(Kf(C))return new Dm(C,this,this.getName(`layer_${O}`),n,g);throw Error(za(C));})}parseData(){this.component.data=
gk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Pk(this);yk(this,"width");yk(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of ud(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var f of this.children){f.parseAxesAndHeaders();
for(const g of ud(f.component.axes))b.axis[g]=od(this.component.resolve,g),"shared"===b.axis[g]&&(a[g]=fm(a[g],f.component.axes[g]),a[g]||(b.axis[g]="independent",delete a[g]))}for(const g of Qh){for(const n of this.children)if(n.component.axes[g]){if("independent"===b.axis[g]){let C;a[g]=(null!=(C=a[g])?C:[]).concat(n.component.axes[g]);for(const O of n.component.axes[g]){const {value:aa,explicit:ua}=O.getWithExplicit("orient");Mb(aa)||(0<e[aa]&&!ua&&(f=Lm[aa],e[aa]>e[f]&&O.set("orient",f,!1)),e[aa]++)}}delete n.component.axes[g]}if("independent"===
b.axis[g]&&a[g]&&1<a[g].length)for(const n of(a[g]||[]).entries()){const [C,O]=n;0<C&&O.get("grid")&&!O.explicit.grid&&(O.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),Oi(this))}assembleLayoutSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleLayoutSignals()),ma(this))}assembleSelectionData(a){return this.children.reduce((b,
e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of h.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return si(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,b)=>a.concat(b.assembleLegends()),
Bf(this))}}t.accessPathDepth=db;t.accessPathWithDatum=Wa;t.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(zi=b.logger);b.fieldTitle&&(Hf=b.fieldTitle);try{const ab=Og(h.mergeConfig(b.config,a.config)),ob=ri(a,ab),hc=el(ob,null,"",void 0,ab);hc.parse();var e=hc.component.data,f=hc;cj(e.sources);let Pc=0,lc=0;for(var g=0;5>g&&Aj(e,f,!0);g++)Pc++;e.sources.map(sh);for(g=0;5>g&&Aj(e,f,!1);g++)lc++;cj(e.sources);5===Math.max(Pc,lc)&&I("Maximum optimization runs(5) reached.");
var n=ob.autosize;e=ab;f=hc;const Lc=f.component.layoutSize.get("width"),dd=f.component.layoutSize.get("height");void 0===n?(n={type:"pad"},f.hasAxisOrientSignalRef()&&(n.resize=!0)):h.isString(n)&&(n={type:n});var C;if(C=Lc&&dd){var O=n.type;C="fit"===O||"fit-x"===O||"fit-y"===O}if(C)if("step"===Lc&&"step"===dd)I(kb()),n.type="pad";else if("step"===Lc||"step"===dd){O="step"===Lc?"width":"height";I(kb(V(O)));C=n;var aa=(O="width"===O?"height":"width",`fit-${V(O)}`);C.type=aa}var ua=Object.assign({},
1===ud(n).length&&n.type?"pad"===n.type?{}:{autosize:n.type}:{autosize:n},Gh(e,!1),Gh(a,!0));return{spec:Tl(hc,ua,a.datasets,a.usermeta),normalized:ob}}finally{b.logger&&(zi=zl),b.fieldTitle&&(Hf=pj)}};t.contains=Ab;t.deepEqual=qa;t.deleteNestedProperty=Ba;t.duplicate=Ee;t.entries=Fi;t.every=jc;t.fieldIntersection=vb;t.flatAccessWithDatum=Ha;t.getFirstDefined=T;t.hasIntersection=rb;t.hash=Wb;t.internalField=ea;t.isBoolean=fc;t.isEmpty=gb;t.isEqual=function(a,b){const e=ud(a),f=ud(b);if(e.length!==
f.length)return!1;for(const g of e)if(a[g]!==b[g])return!1;return!0};t.isInternalField=ja;t.isNullOrFalse=oc;t.isNumeric=oa;t.keys=ud;t.logicalExpr=ia;t.mergeDeep=Ea;t.never=ub;t.normalize=ri;t.normalizeAngle=Ma;t.omit=dc;t.pick=Yb;t.prefixGenerator=pb;t.removePathFromField=Nb;t.replaceAll=qb;t.replacePathInField=$a;t.resetIdCounter=function(){Jk=42};t.setEqual=tb;t.some=Tb;t.stringify=l;t.titleCase=Sa;t.unique=Za;t.uniqueId=ba;t.vals=og;t.varName=sa;t.version="5.16.3"})};
shadow$provide[56]=function(Db,nb,Dc,Va){function t(){throw Error("setTimeout has not been defined");}function h(){throw Error("clearTimeout has not been defined");}function ka(tb){if(oc===setTimeout)return setTimeout(tb,0);if((oc===t||!oc)&&setTimeout)return oc=setTimeout,setTimeout(tb,0);try{return oc(tb,0)}catch(rb){try{return oc.call(null,tb,0)}catch(pb){return oc.call(this,tb,0)}}}function Ya(tb){if(Ab===clearTimeout)return clearTimeout(tb);if((Ab===h||!Ab)&&clearTimeout)return Ab=clearTimeout,
clearTimeout(tb);try{return Ab(tb)}catch(rb){try{return Ab.call(null,tb)}catch(pb){return Ab.call(this,tb)}}}function ub(){jc&&Ea&&(jc=!1,Ea.length?Tb=Ea.concat(Tb):Za=-1,Tb.length&&Yb())}function Yb(){if(!jc){var tb=ka(ub);jc=!0;for(var rb=Tb.length;rb;){Ea=Tb;for(Tb=[];++Za<rb;)Ea&&Ea[Za].run();Za=-1;rb=Tb.length}Ea=null;jc=!1;Ya(tb)}}function dc(tb,rb){this.fun=tb;this.array=rb}function Wb(){}Db=Dc.exports={};try{var oc="function"===typeof setTimeout?setTimeout:t}catch(tb){oc=t}try{var Ab="function"===
typeof clearTimeout?clearTimeout:h}catch(tb){Ab=h}var Tb=[],jc=!1,Ea,Za=-1;Db.nextTick=function(tb){var rb=Array(arguments.length-1);if(1<arguments.length)for(var pb=1;pb<arguments.length;pb++)rb[pb-1]=arguments[pb];Tb.push(new dc(tb,rb));1!==Tb.length||jc||ka(Yb)};dc.prototype.run=function(){this.fun.apply(null,this.array)};Db.title="browser";Db.browser=!0;Db.env={};Db.argv=[];Db.version="";Db.versions={};Db.on=Wb;Db.addListener=Wb;Db.once=Wb;Db.off=Wb;Db.removeListener=Wb;Db.removeAllListeners=
Wb;Db.emit=Wb;Db.prependListener=Wb;Db.prependOnceListener=Wb;Db.listeners=function(tb){return[]};Db.binding=function(tb){throw Error("process.binding is not supported");};Db.cwd=function(){return"/"};Db.chdir=function(tb){throw Error("process.chdir is not supported");};Db.umask=function(){return 0}};
shadow$provide[57]=function(Db,nb,Dc,Va){var t=nb(56);(function(h,ka){"object"===typeof Va&&"undefined"!==typeof Dc?Dc.exports=ka(nb(54),nb(55)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ka):(h="undefined"!==typeof globalThis?globalThis:h||self,h.vegaEmbed=ka(h.vega,h.vegaLite))})(this,function(h,ka){function Ya(E){if(E&&E.__esModule)return E;var ca=Object.create(null);E&&Object.keys(E).forEach(function(Ga){if("default"!==Ga){var eb=Object.getOwnPropertyDescriptor(E,Ga);Object.defineProperty(ca,
Ga,eb.get?eb:{enumerable:!0,get:function(){return E[Ga]}})}});ca["default"]=E;return Object.freeze(ca)}function ub(E){if(Array.isArray(E)){E=Array(E.length);for(var ca=0;ca<E.length;ca++)E[ca]=""+ca;return E}if(Object.keys)return Object.keys(E);ca=[];for(var Ga in E)A.call(E,Ga)&&ca.push(Ga);return ca}function Yb(E){switch(typeof E){case "object":return JSON.parse(JSON.stringify(E));case "undefined":return null;default:return E}}function dc(E){for(var ca=0,Ga=E.length,eb;ca<Ga;)if(eb=E.charCodeAt(ca),
48<=eb&&57>=eb)ca++;else return!1;return!0}function Wb(E){return-1===E.indexOf("/")&&-1===E.indexOf("~")?E:E.replace(/~/g,"~0").replace(/\//g,"~1")}function oc(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}function Ab(E){if(void 0===E)return!0;if(E)if(Array.isArray(E))for(var ca=0,Ga=E.length;ca<Ga;ca++){if(Ab(E[ca]))return!0}else if("object"===typeof E){ca=ub(E);Ga=ca.length;for(var eb=0;eb<Ga;eb++)if(Ab(E[ca[eb]]))return!0}return!1}function Tb(E,ca){E=[E];for(var Ga in ca){var eb="object"===
typeof ca[Ga]?JSON.stringify(ca[Ga],null,2):ca[Ga];"undefined"!==typeof eb&&E.push(Ga+": "+eb)}return E.join("\n")}function jc(E,ca){if(""==ca)return E;ca={op:"_get",path:ca};Ea(E,ca);return ca.value}function Ea(E,ca,Ga,eb,Gb,rc){void 0===Ga&&(Ga=!1);void 0===eb&&(eb=!0);void 0===Gb&&(Gb=!0);void 0===rc&&(rc=0);Ga&&("function"==typeof Ga?Ga(ca,0,E,ca.path):tb(ca,0));if(""===ca.path){Gb={newDocument:E};if("add"===ca.op)return Gb.newDocument=ca.value,Gb;if("replace"===ca.op)return Gb.newDocument=ca.value,
Gb.removed=E,Gb;if("move"===ca.op||"copy"===ca.op)return Gb.newDocument=jc(E,ca.from),"move"===ca.op&&(Gb.removed=E),Gb;if("test"===ca.op){Gb.test=pb(E,ca.value);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);Gb.newDocument=E;return Gb}if("remove"===ca.op)return Gb.removed=E,Gb.newDocument=null,Gb;if("_get"===ca.op)return ca.value=E,Gb;if(Ga)throw new G("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",rc,ca,E);return Gb}eb||
(E=Yb(E));eb=(ca.path||"").split("/");var Rb=E,Sc=1,fd=eb.length,cd=void 0,Oc,Nd;for(Nd="function"==typeof Ga?Ga:tb;;){(Oc=eb[Sc])&&-1!=Oc.indexOf("~")&&(Oc=oc(Oc));if(Gb&&("__proto__"==Oc||"prototype"==Oc&&0<Sc&&"constructor"==eb[Sc-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Ga&&
void 0===cd&&(void 0===Rb[Oc]?cd=eb.slice(0,Sc).join("/"):Sc==fd-1&&(cd=ca.path),void 0!==cd&&Nd(ca,0,E,cd));Sc++;if(Array.isArray(Rb)){if("-"===Oc)Oc=Rb.length;else{if(Ga&&!dc(Oc))throw new G("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",rc,ca,E);dc(Oc)&&(Oc=~~Oc)}if(Sc>=fd){if(Ga&&"add"===ca.op&&Oc>Rb.length)throw new G("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",rc,ca,E);Gb=z[ca.op].call(ca,Rb,Oc,E);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);return Gb}}else if(Sc>=fd){Gb=w[ca.op].call(ca,Rb,Oc,E);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);return Gb}Rb=Rb[Oc];if(Ga&&Sc<fd&&(!Rb||"object"!==typeof Rb))throw new G("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",rc,ca,E);}}function Za(E,ca,Ga,eb,Gb){void 0===eb&&(eb=
!0);void 0===Gb&&(Gb=!0);if(Ga&&!Array.isArray(ca))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");eb||(E=Yb(E));eb=Array(ca.length);for(var rc=0,Rb=ca.length;rc<Rb;rc++)eb[rc]=Ea(E,ca[rc],Ga,!0,Gb,rc),E=eb[rc].newDocument;eb.newDocument=E;return eb}function tb(E,ca,Ga,eb){if("object"!==typeof E||null===E||Array.isArray(E))throw new G("Operation is not an object","OPERATION_NOT_AN_OBJECT",ca,E,Ga);if(w[E.op]){if("string"!==typeof E.path)throw new G("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ca,E,Ga);if(0!==E.path.indexOf("/")&&0<E.path.length)throw new G('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ca,E,Ga);if("move"!==E.op&&"copy"!==E.op||"string"===typeof E.from)if("add"!==E.op&&"replace"!==E.op&&"test"!==E.op||void 0!==E.value){if(("add"===E.op||"replace"===E.op||"test"===E.op)&&Ab(E.value))throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ca,E,Ga);if(Ga)if("add"==E.op){var Gb=E.path.split("/").length;eb=eb.split("/").length;if(Gb!==eb+1&&Gb!==eb)throw new G("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ca,E,Ga);}else if("replace"===E.op||"remove"===E.op||"_get"===E.op){if(E.path!==eb)throw new G("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ca,E,Ga);}else if(("move"===E.op||"copy"===E.op)&&(Gb=rb([{op:"_get",path:E.from,value:void 0}],Ga))&&"OPERATION_PATH_UNRESOLVABLE"===
Gb.name)throw new G("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ca,E,Ga);}else throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ca,E,Ga);else throw new G("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ca,E,Ga);}else throw new G("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ca,E,Ga);}function rb(E,ca,Ga){try{if(!Array.isArray(E))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ca)Za(Yb(ca),Yb(E),Ga||!0);else{Ga=Ga||tb;for(var eb=0;eb<E.length;eb++)Ga(E[eb],eb,ca,void 0)}}catch(Gb){if(Gb instanceof G)return Gb;throw Gb;}}function pb(E,ca){if(E===ca)return!0;if(E&&ca&&"object"==typeof E&&"object"==typeof ca){var Ga=Array.isArray(E),eb=Array.isArray(ca);if(Ga&&eb){var Gb=E.length;if(Gb!=ca.length)return!1;for(Ga=Gb;0!==Ga--;)if(!pb(E[Ga],
ca[Ga]))return!1;return!0}if(Ga!=eb)return!1;eb=Object.keys(E);Gb=eb.length;if(Gb!==Object.keys(ca).length)return!1;for(Ga=Gb;0!==Ga--;)if(!ca.hasOwnProperty(eb[Ga]))return!1;for(Ga=Gb;0!==Ga--;)if(Gb=eb[Ga],!pb(E[Gb],ca[Gb]))return!1;return!0}return E!==E&&ca!==ca}function vb(E,ca){void 0===ca&&(ca=!1);var Ga=V.get(E.object);gb(Ga.value,E.object,E.patches,"",ca);E.patches.length&&Za(Ga.value,E.patches);ca=E.patches;0<ca.length&&(E.patches=[],E.callback&&E.callback(ca));return ca}function gb(E,ca,
Ga,eb,Gb){if(ca!==E){"function"===typeof ca.toJSON&&(ca=ca.toJSON());for(var rc=ub(ca),Rb=ub(E),Sc=!1,fd=Rb.length-1;0<=fd;fd--){var cd=Rb[fd],Oc=E[cd];if(!A.call(ca,cd)||void 0===ca[cd]&&void 0!==Oc&&!1===Array.isArray(ca))Array.isArray(E)===Array.isArray(ca)?(Gb&&Ga.push({op:"test",path:eb+"/"+Wb(cd),value:Yb(Oc)}),Ga.push({op:"remove",path:eb+"/"+Wb(cd)}),Sc=!0):(Gb&&Ga.push({op:"test",path:eb,value:E}),Ga.push({op:"replace",path:eb,value:ca}));else{var Nd=ca[cd];"object"==typeof Oc&&null!=Oc&&
"object"==typeof Nd&&null!=Nd&&Array.isArray(Oc)===Array.isArray(Nd)?gb(Oc,Nd,Ga,eb+"/"+Wb(cd),Gb):Oc!==Nd&&(Gb&&Ga.push({op:"test",path:eb+"/"+Wb(cd),value:Yb(Oc)}),Ga.push({op:"replace",path:eb+"/"+Wb(cd),value:Yb(Nd)}))}}if(Sc||rc.length!=Rb.length)for(fd=0;fd<rc.length;fd++)cd=rc[fd],A.call(E,cd)||void 0===ca[cd]||Ga.push({op:"add",path:eb+"/"+Wb(cd),value:Yb(ca[cd])})}}function fc(E){var ca=this;ca instanceof fc||(ca=new fc);ca.tail=null;ca.head=null;ca.length=0;if(E&&"function"===typeof E.forEach)E.forEach(function(Gb){ca.push(Gb)});
else if(0<arguments.length)for(var Ga=0,eb=arguments.length;Ga<eb;Ga++)ca.push(arguments[Ga]);return ca}function sa(E,ca,Ga,eb){if(!(this instanceof sa))return new sa(E,ca,Ga,eb);this.list=eb;this.value=E;ca?(ca.next=this,this.prev=ca):this.prev=null;Ga?(Ga.prev=this,this.next=Ga):this.next=null}function ia(){if(Nc)return Hc;Nc=1;const E=Symbol("SemVer ANY");class ca{static get ANY(){return E}constructor(cd,Oc){Oc=Ga(Oc);if(cd instanceof ca){if(cd.loose===!!Oc.loose)return cd;cd=cd.value}Rb("comparator",
cd,Oc);this.options=Oc;this.loose=!!Oc.loose;this.parse(cd);this.value=this.semver===E?"":this.operator+this.semver.version;Rb("comp",this)}parse(cd){const Oc=cd.match(this.options.loose?eb[Gb.COMPARATORLOOSE]:eb[Gb.COMPARATOR]);if(!Oc)throw new TypeError("Invalid comparator: ".concat(cd));this.operator=void 0!==Oc[1]?Oc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Oc[2]?new Sc(Oc[2],this.options.loose):E}toString(){return this.value}test(cd){Rb("Comparator.test",cd,this.options.loose);
if(this.semver===E||cd===E)return!0;if("string"===typeof cd)try{cd=new Sc(cd,this.options)}catch(Oc){return!1}return rc(cd,this.operator,this.semver,this.options)}intersects(cd,Oc){if(!(cd instanceof ca))throw new TypeError("a Comparator is required");Oc&&"object"===typeof Oc||(Oc={loose:!!Oc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new fd(cd.value,Oc)).test(this.value);if(""===cd.operator)return""===cd.value?!0:(new fd(this.value,Oc)).test(cd.semver);const Nd=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===cd.operator||"\x3e"===cd.operator),Md=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===cd.operator||"\x3c"===cd.operator),Ld=this.semver.version===cd.semver.version,Bd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===cd.operator||"\x3c\x3d"===cd.operator),Xd=rc(this.semver,"\x3c",cd.semver,Oc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===cd.operator||"\x3c"===cd.operator);cd=rc(this.semver,
"\x3e",cd.semver,Oc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===cd.operator||"\x3e"===cd.operator);return Nd||Md||Ld&&Bd||Xd||cd}}Hc=ca;const Ga=Zb,{re:eb,t:Gb}=ic.exports,rc=Cc,Rb=nd,Sc=Ub,fd=Ba();return Hc}function Ba(){if(sd)return xd;sd=1;class E{constructor(sc,Mc){Mc=Ga(Mc);if(sc instanceof E)return sc.loose===!!Mc.loose&&sc.includePrerelease===!!Mc.includePrerelease?sc:new E(sc.raw,Mc);if(sc instanceof eb)return this.raw=sc.value,this.set=[[sc]],this.format(),this;
this.options=Mc;this.loose=!!Mc.loose;this.includePrerelease=!!Mc.includePrerelease;this.raw=sc;this.set=sc.split("||").map(Ec=>this.parseRange(Ec.trim())).filter(Ec=>Ec.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(sc));if(1<this.set.length)if(sc=this.set[0],this.set=this.set.filter(Ec=>"\x3c0.0.0-0"!==Ec[0].value),0===this.set.length)this.set=[sc];else if(1<this.set.length)for(const Ec of this.set)if(1===Ec.length&&""===Ec[0].value){this.set=[Ec];break}this.format()}format(){return this.range=
this.set.map(sc=>sc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(sc){sc=sc.trim();var Mc=Object.keys(this.options).join(",");Mc="parseRange:".concat(Mc,":").concat(sc);var Ec=ca.get(Mc);if(Ec)return Ec;Ec=this.options.loose;sc=sc.replace(Ec?Rb[Sc.HYPHENRANGELOOSE]:Rb[Sc.HYPHENRANGE],id(this.options.includePrerelease));Gb("hyphen replace",sc);sc=sc.replace(Rb[Sc.COMPARATORTRIM],fd);Gb("comparator trim",sc);sc=sc.replace(Rb[Sc.TILDETRIM],cd);sc=sc.replace(Rb[Sc.CARETTRIM],
Oc);sc=sc.split(/\s+/).join(" ");sc=sc.split(" ").map(Xc=>{var ld=Xc;Xc=this.options;Gb("comp",ld,Xc);ld=Xd(ld,Xc);Gb("caret",ld);ld=Ld(ld,Xc);Gb("tildes",ld);ld=Qa(ld,Xc);Gb("xrange",ld);Gb("replaceStars",ld,Xc);ld=ld.trim().replace(Rb[Sc.STAR],"");Gb("stars",ld);return ld}).join(" ").split(/\s+/).map(Xc=>{var ld=this.options;Gb("replaceGTE0",Xc,ld);return Xc.trim().replace(Rb[ld.includePrerelease?Sc.GTE0PRE:Sc.GTE0],"")});Ec&&(sc=sc.filter(Xc=>{Gb("loose invalid filter",Xc,this.options);return!!Xc.match(Rb[Sc.COMPARATORLOOSE])}));
Gb("range list",sc);Ec=new Map;sc=sc.map(Xc=>new eb(Xc,this.options));for(var Tc of sc){if("\x3c0.0.0-0"===Tc.value)return[Tc];Ec.set(Tc.value,Tc)}1<Ec.size&&Ec.has("")&&Ec.delete("");Tc=[...Ec.values()];ca.set(Mc,Tc);return Tc}intersects(sc,Mc){if(!(sc instanceof E))throw new TypeError("a Range is required");return this.set.some(Ec=>Nd(Ec,Mc)&&sc.set.some(Tc=>Nd(Tc,Mc)&&Ec.every(Xc=>Tc.every(ld=>Xc.intersects(ld,Mc)))))}test(sc){if(!sc)return!1;if("string"===typeof sc)try{sc=new rc(sc,this.options)}catch(ld){return!1}for(let ld=
0;ld<this.set.length;ld++){a:{var Mc=this.set[ld];var Ec=sc,Tc=this.options;for(var Xc=0;Xc<Mc.length;Xc++)if(!Mc[Xc].test(Ec)){Mc=!1;break a}if(Ec.prerelease.length&&!Tc.includePrerelease){for(Tc=0;Tc<Mc.length;Tc++)if(Gb(Mc[Tc].semver),Mc[Tc].semver!==eb.ANY&&0<Mc[Tc].semver.prerelease.length&&(Xc=Mc[Tc].semver,Xc.major===Ec.major&&Xc.minor===Ec.minor&&Xc.patch===Ec.patch)){Mc=!0;break a}Mc=!1}else Mc=!0}if(Mc)return!0}return!1}}xd=E;const ca=new Fb({max:1E3}),Ga=Zb,eb=ia(),Gb=nd,rc=Ub,{re:Rb,t:Sc,
comparatorTrimReplace:fd,tildeTrimReplace:cd,caretTrimReplace:Oc}=ic.exports,Nd=(sc,Mc)=>{let Ec=!0;sc=sc.slice();let Tc=sc.pop();for(;Ec&&sc.length;)Ec=sc.every(Xc=>Tc.intersects(Xc,Mc)),Tc=sc.pop();return Ec},Md=sc=>!sc||"x"===sc.toLowerCase()||"*"===sc,Ld=(sc,Mc)=>sc.trim().split(/\s+/).map(Ec=>Bd(Ec,Mc)).join(" "),Bd=(sc,Mc)=>sc.replace(Mc.loose?Rb[Sc.TILDELOOSE]:Rb[Sc.TILDE],(Ec,Tc,Xc,ld,pd)=>{Gb("tilde",sc,Ec,Tc,Xc,ld,pd);Md(Tc)?Ec="":Md(Xc)?Ec="\x3e\x3d".concat(Tc,".0.0 \x3c").concat(+Tc+1,
".0.0-0"):Md(ld)?Ec="\x3e\x3d".concat(Tc,".").concat(Xc,".0 \x3c").concat(Tc,".").concat(+Xc+1,".0-0"):pd?(Gb("replaceTilde pr",pd),Ec="\x3e\x3d".concat(Tc,".").concat(Xc,".").concat(ld,"-").concat(pd," \x3c").concat(Tc,".").concat(+Xc+1,".0-0")):Ec="\x3e\x3d".concat(Tc,".").concat(Xc,".").concat(ld," \x3c").concat(Tc,".").concat(+Xc+1,".0-0");Gb("tilde return",Ec);return Ec}),Xd=(sc,Mc)=>sc.trim().split(/\s+/).map(Ec=>Ca(Ec,Mc)).join(" "),Ca=(sc,Mc)=>{Gb("caret",sc,Mc);const Ec=Mc.includePrerelease?
"-0":"";return sc.replace(Mc.loose?Rb[Sc.CARETLOOSE]:Rb[Sc.CARET],(Tc,Xc,ld,pd,oe)=>{Gb("caret",sc,Tc,Xc,ld,pd,oe);Md(Xc)?Tc="":Md(ld)?Tc="\x3e\x3d".concat(Xc,".0.0").concat(Ec," \x3c").concat(+Xc+1,".0.0-0"):Md(pd)?Tc="0"===Xc?"\x3e\x3d".concat(Xc,".").concat(ld,".0").concat(Ec," \x3c").concat(Xc,".").concat(+ld+1,".0-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".0").concat(Ec," \x3c").concat(+Xc+1,".0.0-0"):oe?(Gb("replaceCaret pr",oe),Tc="0"===Xc?"0"===ld?"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd,
"-").concat(oe," \x3c").concat(Xc,".").concat(ld,".").concat(+pd+1,"-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd,"-").concat(oe," \x3c").concat(Xc,".").concat(+ld+1,".0-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd,"-").concat(oe," \x3c").concat(+Xc+1,".0.0-0")):(Gb("no pr"),Tc="0"===Xc?"0"===ld?"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd).concat(Ec," \x3c").concat(Xc,".").concat(ld,".").concat(+pd+1,"-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd).concat(Ec," \x3c").concat(Xc,
".").concat(+ld+1,".0-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd," \x3c").concat(+Xc+1,".0.0-0"));Gb("caret return",Tc);return Tc})},Qa=(sc,Mc)=>{Gb("replaceXRanges",sc,Mc);return sc.split(/\s+/).map(Ec=>ac(Ec,Mc)).join(" ")},ac=(sc,Mc)=>{sc=sc.trim();return sc.replace(Mc.loose?Rb[Sc.XRANGELOOSE]:Rb[Sc.XRANGE],(Ec,Tc,Xc,ld,pd,oe)=>{Gb("xRange",sc,Ec,Tc,Xc,ld,pd,oe);const cf=Md(Xc),Me=cf||Md(ld);pd=Me||Md(pd);"\x3d"===Tc&&pd&&(Tc="");oe=Mc.includePrerelease?"-0":"";cf?Ec="\x3e"===Tc||"\x3c"===
Tc?"\x3c0.0.0-0":"*":Tc&&pd?(Me&&(ld=0),pd=0,"\x3e"===Tc?(Tc="\x3e\x3d",Me?(Xc=+Xc+1,ld=0):ld=+ld+1,pd=0):"\x3c\x3d"===Tc&&(Tc="\x3c",Me?Xc=+Xc+1:ld=+ld+1),"\x3c"===Tc&&(oe="-0"),Ec="".concat(Tc+Xc,".").concat(ld,".").concat(pd).concat(oe)):Me?Ec="\x3e\x3d".concat(Xc,".0.0").concat(oe," \x3c").concat(+Xc+1,".0.0-0"):pd&&(Ec="\x3e\x3d".concat(Xc,".").concat(ld,".0").concat(oe," \x3c").concat(Xc,".").concat(+ld+1,".0-0"));Gb("xRange return",Ec);return Ec})},id=sc=>(Mc,Ec,Tc,Xc,ld,pd,oe,cf,Me,Je,ef,
of,Ke)=>{Ec=Md(Tc)?"":Md(Xc)?"\x3e\x3d".concat(Tc,".0.0").concat(sc?"-0":""):Md(ld)?"\x3e\x3d".concat(Tc,".").concat(Xc,".0").concat(sc?"-0":""):pd?"\x3e\x3d".concat(Ec):"\x3e\x3d".concat(Ec).concat(sc?"-0":"");cf=Md(Me)?"":Md(Je)?"\x3c".concat(+Me+1,".0.0-0"):Md(ef)?"\x3c".concat(Me,".").concat(+Je+1,".0-0"):of?"\x3c\x3d".concat(Me,".").concat(Je,".").concat(ef,"-").concat(of):sc?"\x3c".concat(Me,".").concat(Je,".").concat(+ef+1,"-0"):"\x3c\x3d".concat(cf);return"".concat(Ec," ").concat(cf).trim()};
return xd}function Sa(E,ca,Ga,eb,Gb,rc){const Rb=Sc=>Ja[Sc.type](Rb,Sc);Rb.memberDepth=0;Rb.fn=Object.create(ca);Rb.params=Ga;Rb.datum=eb;Rb.event=Gb;Rb.item=rc;xa.forEach(Sc=>Rb.fn[Sc]=function(){return Gb.vega[Sc](...arguments)});return Rb(E)}function Wa(E){const [ca,Ga]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(E).slice(1,3);return{library:ca,version:Ga}}function Ha(E,ca,Ga){E.fields=ca||[];E.fname=Ga;return E}function hb(E){return 1===E.length?qc(E[0]):Fc(E)}function $a(E){function ca(){Ga.push(Rb+
E.substring(Sc,fd));Rb="";Sc=fd+1}const Ga=[],eb=E.length;let Gb=null,rc=0,Rb="",Sc,fd,cd;E+="";for(Sc=fd=0;fd<eb;++fd)if(cd=E[fd],"\\"===cd)Rb+=E.substring(Sc,fd),Rb+=E.substring(++fd,++fd),Sc=fd;else if(cd===Gb)ca(),Gb=null,rc=-1;else if(!Gb)if(Sc===rc&&'"'===cd)Sc=fd+1,Gb=cd;else if(Sc===rc&&"'"===cd)Sc=fd+1,Gb=cd;else if("."===cd&&!rc)fd>Sc?ca():Sc=fd+1;else if("["===cd)fd>Sc&&ca(),rc=Sc=fd+1;else if("]"===cd){if(!rc)throw Error("Access path missing open bracket: "+E);0<rc&&ca();rc=0;Sc=fd+1}if(rc)throw Error("Access path missing closing bracket: "+
E);if(Gb)throw Error("Access path missing closing quote: "+E);fd>Sc&&(fd++,ca());return Ga}function qb(E,ca){var Ga={},eb;for(eb in E)Object.prototype.hasOwnProperty.call(E,eb)&&0>ca.indexOf(eb)&&(Ga[eb]=E[eb]);if(null!=E&&"function"===typeof Object.getOwnPropertySymbols){var Gb=0;for(eb=Object.getOwnPropertySymbols(E);Gb<eb.length;Gb++)0>ca.indexOf(eb[Gb])&&Object.prototype.propertyIsEnumerable.call(E,eb[Gb])&&(Ga[eb[Gb]]=E[eb[Gb]])}return Ga}function Nb(E){const ca=[];return function(Ga,eb){if("object"!==
typeof eb||null===eb)return eb;Ga=ca.indexOf(this)+1;ca.length=Ga;if(ca.length>E)return"[Object]";if(0<=ca.indexOf(eb))return"[Circular]";ca.push(eb);return eb}}function db(E,ca,Ga){function eb(fd){fd.source===rc&&(Sc=0,E.removeEventListener("message",eb,!1))}function Gb(){0>=Sc||(rc.postMessage(Ga,Rb),setTimeout(Gb,250),--Sc)}const rc=E.open(ca),{origin:Rb}=new URL(ca);let Sc=40;E.addEventListener("message",eb,!1);setTimeout(Gb,250)}function T(E){for(var ca=arguments.length,Ga=Array(1<ca?ca-1:0),
eb=1;eb<ca;eb++)Ga[eb-1]=arguments[eb];for(const Gb of Ga){ca=E;Ga=Gb;for(const rc of Object.keys(Ga))h.writeConfig(ca,rc,Ga[rc],!0)}return E}function ba(E,ca,Ga,eb){ca="\x3chtml\x3e\x3chead\x3e".concat(ca,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');Ga="\x3c/code\x3e\x3c/pre\x3e".concat(Ga,"\x3c/body\x3e\x3c/html\x3e");const Gb=window.open("");Gb.document.write(ca+E+Ga);Gb.document.title="".concat(Ie[eb]," JSON Source")}function ea(E,ca){if(E.$schema){E=Wa(E.$schema);if(ca&&
ca!==E.library){var Ga;console.warn("The given visualization spec is written in ".concat(Ie[E.library],", but mode argument sets ").concat(null!==(Ga=Ie[ca])&&void 0!==Ga?Ga:ca,"."))}ca=E.library;Id(Fe[ca],"^".concat(E.version.slice(1)))||console.warn("The input spec uses ".concat(Ie[ca]," ").concat(E.version,", but the current version of ").concat(Ie[ca]," is v").concat(Fe[ca],"."));return ca}return"mark"in E||"encoding"in E||"layer"in E||"hconcat"in E||"vconcat"in E||"facet"in E||"repeat"in E?"vega-lite":
"marks"in E||"signals"in E||"scales"in E||"axes"in E?"vega":null!==ca&&void 0!==ca?ca:"vega"}function ja(E){return E&&"load"in E?E:Fd.loader(E)}function Ma(E,ca){const Ga=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb,Gb,rc=2<Ga.length&&void 0!==Ga[2]?Ga[2]:{};let Rb,Sc;h.isString(ca)?(Sc=ja(rc.loader),Rb=JSON.parse(yield Sc.load(ca))):Rb=ca;var fd,cd,Oc=null!==(fd=null===(cd=Rb.usermeta)||void 0===cd?void 0:cd.embedOptions)&&void 0!==fd?fd:{};h.isString(Oc.defaultStyle)&&
(Oc.defaultStyle=!1);fd=Oc.loader;if(!Sc||fd){var Nd;Sc=ja(null!==(Nd=rc.loader)&&void 0!==Nd?Nd:fd)}Oc=yield oa(Oc,Sc);rc=yield oa(rc,Sc);rc=Object.assign({},T(rc,Oc),{config:h.mergeConfig(null!==(eb=rc.config)&&void 0!==eb?eb:{},null!==(Gb=Oc.config)&&void 0!==Gb?Gb:{})});return yield l(E,Rb,rc,Sc)})}function oa(E,ca){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ga;const eb=h.isString(E.config)?JSON.parse(yield ca.load(E.config)):null!==(Ga=E.config)&&void 0!==Ga?Ga:{};Ga=
h.isString(E.patch)?JSON.parse(yield ca.load(E.patch)):E.patch;return Object.assign({},E,Ga?{patch:Ga}:{},eb?{config:eb}:{})})}function qa(E){var ca;E=E.getRootNode?E.getRootNode():document;return E instanceof ShadowRoot?{root:E,rootContainer:E}:{root:document,rootContainer:null!==(ca=document.head)&&void 0!==ca?ca:document.body}}function l(E,ca){const Ga=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb,Gb,rc,Rb,Sc,fd,cd;let Oc=2<Ga.length&&void 0!==Ga[2]?Ga[2]:{};
var Nd=3<Ga.length?Ga[3]:void 0;const Md=Oc.theme?h.mergeConfig(Qb[Oc.theme],null!==(eb=Oc.config)&&void 0!==eb?eb:{}):Oc.config;eb=h.isBoolean(Oc.actions)?Oc.actions:T({},he,null!==(Gb=Oc.actions)&&void 0!==Gb?Gb:{});Gb=Object.assign({},Le,Oc.i18n);const Ld=null!==(rc=Oc.renderer)&&void 0!==rc?rc:"canvas";rc=null!==(Rb=Oc.logLevel)&&void 0!==Rb?Rb:Fd.Warn;Rb=null!==(Sc=Oc.downloadFileName)&&void 0!==Sc?Sc:"visualization";Sc="string"===typeof E?document.querySelector(E):E;if(!Sc)throw Error("".concat(E,
" does not exist"));if(!1!==Oc.defaultStyle){const {root:Ec,rootContainer:Tc}=qa(Sc);if(!Ec.getElementById("vega-embed-style")){var Bd=document.createElement("style");Bd.id="vega-embed-style";Bd.innerHTML=void 0===Oc.defaultStyle||!0===Oc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Oc.defaultStyle;Tc.appendChild(Bd)}}const Xd=ea(ca,Oc.mode);let Ca=tf[Xd](ca,Md);"vega-lite"===Xd&&Ca.$schema&&(Bd=Wa(Ca.$schema),Id(Fe.vega,"^".concat(Bd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Bd.version,", but current version is v").concat(Fe.vega,".")));Sc.classList.add("vega-embed");eb&&Sc.classList.add("has-actions");Sc.innerHTML="";let Qa=Sc;eb&&(Bd=document.createElement("div"),Bd.classList.add("chart-wrapper"),Sc.appendChild(Bd),Qa=Bd);(Bd=Oc.patch)&&(Ca=Bd instanceof
Function?Bd(Ca):Za(Ca,Bd,!0,!1).newDocument);Oc.formatLocale&&Fd.formatLocale(Oc.formatLocale);Oc.timeFormatLocale&&Fd.timeFormatLocale(Oc.timeFormatLocale);if(Oc.expressionFunctions)for(var ac in Oc.expressionFunctions)Bd=Oc.expressionFunctions[ac],"fn"in Bd?Fd.expressionFunction(ac,Bd.fn,Bd.visitor):Bd instanceof Function&&Fd.expressionFunction(ac,Bd);({ast:ac}=Oc);Bd=Fd.parse(Ca,"vega-lite"===Xd?{}:Md,{ast:ac});const id=new (Oc.viewClass||Fd.View)(Bd,Object.assign({},{loader:Nd,logLevel:rc,renderer:Ld},
ac?{expr:null!==(fd=null!==(cd=Fd.expressionInterpreter)&&void 0!==cd?cd:Oc.expr)&&void 0!==fd?fd:jb}:{}));id.addSignalListener("autosize",(Ec,Tc)=>{({type:Ec}=Tc);"fit-x"==Ec?(Qa.classList.add("fit-x"),Qa.classList.remove("fit-y")):"fit-y"==Ec?(Qa.classList.remove("fit-x"),Qa.classList.add("fit-y")):"fit"==Ec?Qa.classList.add("fit-x","fit-y"):Qa.classList.remove("fit-x","fit-y")});!1!==Oc.tooltip&&(fd="function"===typeof Oc.tooltip?Oc.tooltip:(new md(!0===Oc.tooltip?{}:Oc.tooltip)).call,id.tooltip(fd));
({hover:fd}=Oc);void 0===fd&&(fd="vega"===Xd);if(fd){const {hoverSet:Ec,updateSet:Tc}="boolean"===typeof fd?{}:fd;id.hover(Ec,Tc)}Oc&&(null!=Oc.width&&id.width(Oc.width),null!=Oc.height&&id.height(Oc.height),null!=Oc.padding&&id.padding(Oc.padding));yield id.initialize(Qa,Oc.bind).runAsync();let sc;if(!1!==eb){cd=Sc;if(!1!==Oc.defaultStyle){const Ec=document.createElement("details");Ec.title=Gb.CLICK_TO_VIEW_ACTIONS;Sc.append(Ec);cd=Ec;fd=document.createElement("summary");fd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Ec.append(fd);sc=Tc=>{Ec.contains(Tc.target)||Ec.removeAttribute("open")};document.addEventListener("click",sc)}fd=document.createElement("div");cd.append(fd);fd.classList.add("vega-actions");if(!0===eb||!1!==eb.export)for(const Ec of["svg","png"])if(!0===eb||!0===eb.export||eb.export[Ec])cd=Gb["".concat(Ec.toUpperCase(),"_ACTION")],Nd=document.createElement("a"),Nd.text=cd,Nd.href="#",Nd.target="_blank",Nd.download="".concat(Rb,".").concat(Ec),Nd.addEventListener("mousedown",function(Tc){const Xc=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Tc.preventDefault();const ld=yield id.toImageURL(Ec,Oc.scaleFactor);Xc.href=ld})}),fd.append(Nd);if(!0===eb||!1!==eb.source)Rb=document.createElement("a"),Rb.text=Gb.SOURCE_ACTION,Rb.href="#",Rb.addEventListener("click",function(Ec){var Tc,Xc;ba(Na(ca),null!==(Tc=Oc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Xc=Oc.sourceFooter)&&void 0!==Xc?Xc:"",Xd);Ec.preventDefault()}),fd.append(Rb);"vega-lite"!==Xd||!0!==eb&&!1===eb.compiled||
(Rb=document.createElement("a"),Rb.text=Gb.COMPILED_ACTION,Rb.href="#",Rb.addEventListener("click",function(Ec){var Tc,Xc;ba(Na(Ca),null!==(Tc=Oc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Xc=Oc.sourceFooter)&&void 0!==Xc?Xc:"","vega");Ec.preventDefault()}),fd.append(Rb));if(!0===eb||!1!==eb.editor){var Mc;const Ec=null!==(Mc=Oc.editorUrl)&&void 0!==Mc?Mc:"https://vega.github.io/editor/";Mc=document.createElement("a");Mc.text=Gb.EDITOR_ACTION;Mc.href="#";Mc.addEventListener("click",function(Tc){db(window,
Ec,{config:Md,mode:Xd,renderer:Ld,spec:Na(ca)});Tc.preventDefault()});fd.append(Mc)}}return{view:id,spec:ca,vgSpec:Ca,finalize:function(){sc&&document.removeEventListener("click",sc);id.finalize()},embedOptions:Oc}})}function D(E){const ca=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ga;let eb=1<ca.length&&void 0!==ca[1]?ca[1]:{};const Gb=document.createElement("div");Gb.classList.add("vega-embed-wrapper");const rc=document.createElement("div");Gb.appendChild(rc);
const Rb=!0===eb.actions||!1===eb.actions?eb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(Ga=eb.actions)&&void 0!==Ga?Ga:{});Ga=yield Ma(rc,E,Object.assign({},{actions:Rb},null!==eb&&void 0!==eb?eb:{}));Gb.value=Ga.view;return Gb})}var K=Ya(h),v=Ya(ka),Q=function(){var E=function(ca,Ga){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(eb,Gb){eb.__proto__=Gb}||function(eb,Gb){for(var rc in Gb)Gb.hasOwnProperty(rc)&&(eb[rc]=Gb[rc])};return E(ca,Ga)};
return function(ca,Ga){function eb(){this.constructor=ca}E(ca,Ga);ca.prototype=null===Ga?Object.create(Ga):(eb.prototype=Ga.prototype,new eb)}}(),A=Object.prototype.hasOwnProperty,W=function(E){function ca(Ga,eb,Gb,rc,Rb){var Sc=this.constructor,fd=E.call(this,Tb(Ga,{name:eb,index:Gb,operation:rc,tree:Rb}))||this;fd.name=eb;fd.index=Gb;fd.operation=rc;fd.tree=Rb;Object.setPrototypeOf(fd,Sc.prototype);fd.message=Tb(Ga,{name:eb,index:Gb,operation:rc,tree:Rb});return fd}Q(ca,E);return ca}(Error),G=W,
w={add:function(E,ca,Ga){E[ca]=this.value;return{newDocument:Ga}},remove:function(E,ca,Ga){var eb=E[ca];delete E[ca];return{newDocument:Ga,removed:eb}},replace:function(E,ca,Ga){var eb=E[ca];E[ca]=this.value;return{newDocument:Ga,removed:eb}},move:function(E,ca,Ga){(E=jc(Ga,this.path))&&(E=Yb(E));ca=Ea(Ga,{op:"remove",path:this.from}).removed;Ea(Ga,{op:"add",path:this.path,value:ca});return{newDocument:Ga,removed:E}},copy:function(E,ca,Ga){E=jc(Ga,this.from);Ea(Ga,{op:"add",path:this.path,value:Yb(E)});
return{newDocument:Ga}},test:function(E,ca,Ga){return{newDocument:Ga,test:pb(E[ca],this.value)}},_get:function(E,ca,Ga){this.value=E[ca];return{newDocument:Ga}}},z={add:function(E,ca,Ga){dc(ca)?E.splice(ca,0,this.value):E[ca]=this.value;return{newDocument:Ga,index:ca}},remove:function(E,ca,Ga){E=E.splice(ca,1);return{newDocument:Ga,removed:E[0]}},replace:function(E,ca,Ga){var eb=E[ca];E[ca]=this.value;return{newDocument:Ga,removed:eb}},move:w.move,copy:w.copy,test:w.test,_get:w._get},F=Object.freeze({__proto__:null,
JsonPatchError:G,deepClone:Yb,getValueByPointer:jc,applyOperation:Ea,applyPatch:Za,applyReducer:function(E,ca,Ga){var eb=Ea(E,ca);if(!1===eb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",Ga,ca,E);return eb.newDocument},validator:tb,validate:rb,_areEquals:pb}),V=new WeakMap,ta=function(){return function(E){this.observers=new Map;this.obj=E}}(),N=function(){return function(E,ca){this.callback=E;this.observer=ca}}(),la=Object.freeze({__proto__:null,unobserve:function(E,ca){ca.unobserve()},
observe:function(E,ca){var Ga=V.get(E);if(Ga){var eb=Ga.observers.get(ca);var Gb=eb&&eb.observer}else Ga=new ta(E),V.set(E,Ga);if(Gb)return Gb;Gb={};Ga.value=Yb(E);if(ca){Gb.callback=ca;Gb.next=null;var rc=function(){vb(Gb)},Rb=function(){clearTimeout(Gb.next);Gb.next=setTimeout(rc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Rb),window.addEventListener("keyup",Rb),window.addEventListener("mousedown",Rb),window.addEventListener("keydown",Rb),window.addEventListener("change",Rb))}Gb.patches=
[];Gb.object=E;Gb.unobserve=function(){vb(Gb);clearTimeout(Gb.next);Ga.observers.delete(Gb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Rb),window.removeEventListener("keyup",Rb),window.removeEventListener("mousedown",Rb),window.removeEventListener("keydown",Rb),window.removeEventListener("change",Rb))};Ga.observers.set(ca,new N(ca,Gb));return Gb},generate:vb,compare:function(E,ca,Ga){void 0===Ga&&(Ga=!1);var eb=[];gb(E,ca,eb,"",Ga);return eb}});Object.assign({},F,
la,{JsonPatchError:W,deepClone:Yb,escapePathComponent:Wb,unescapePathComponent:oc});var wa=/("(?:[^\\"]|\\.)*")|[:,]/g,Na=function(E,ca){ca=ca||{};var Ga=JSON.stringify([1],void 0,void 0===ca.indent?2:ca.indent).slice(2,-3);var eb=""===Ga?Infinity:void 0===ca.maxLength?80:ca.maxLength;var Gb=ca.replacer;return function cd(Rb,Sc,fd){Rb&&"function"===typeof Rb.toJSON&&(Rb=Rb.toJSON());var Oc=JSON.stringify(Rb,Gb);if(void 0===Oc)return Oc;fd=eb-Sc.length-fd;if(Oc.length<=fd){var Nd=Oc.replace(wa,function(id,
sc){return sc||id+" "});if(Nd.length<=fd)return Nd}null!=Gb&&(Rb=JSON.parse(Oc),Gb=void 0);if("object"===typeof Rb&&null!==Rb){var Md=Sc+Ga;var Ld=[];var Bd=0;if(Array.isArray(Rb)){var Xd="[";Nd="]";for(fd=Rb.length;Bd<fd;Bd++)Ld.push(cd(Rb[Bd],Md,Bd===fd-1?0:1)||"null")}else{Xd="{";Nd="}";var Ca=Object.keys(Rb);for(fd=Ca.length;Bd<fd;Bd++){var Qa=Ca[Bd];var ac=JSON.stringify(Qa)+": ";Qa=cd(Rb[Qa],Md,ac.length+(Bd===fd-1?0:1));void 0!==Qa&&Ld.push(ac+Qa)}}if(0<Ld.length)return[Xd,Ga+Ld.join(",\n"+
Md),Nd].join("\n"+Sc)}return Oc}(E,"",0)};fc.Node=sa;fc.create=fc;fc.prototype.removeNode=function(E){if(E.list!==this)throw Error("removing node which does not belong to this list");var ca=E.next,Ga=E.prev;ca&&(ca.prev=Ga);Ga&&(Ga.next=ca);E===this.head&&(this.head=ca);E===this.tail&&(this.tail=Ga);E.list.length--;E.next=null;E.prev=null;E.list=null;return ca};fc.prototype.unshiftNode=function(E){if(E!==this.head){E.list&&E.list.removeNode(E);var ca=this.head;E.list=this;if(E.next=ca)ca.prev=E;this.head=
E;this.tail||(this.tail=E);this.length++}};fc.prototype.pushNode=function(E){if(E!==this.tail){E.list&&E.list.removeNode(E);var ca=this.tail;E.list=this;if(E.prev=ca)ca.next=E;this.tail=E;this.head||(this.head=E);this.length++}};fc.prototype.push=function(){for(var E=0,ca=arguments.length;E<ca;E++)this.tail=new sa(arguments[E],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};fc.prototype.unshift=function(){for(var E=0,ca=arguments.length;E<ca;E++)this.head=new sa(arguments[E],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};fc.prototype.pop=function(){if(this.tail){var E=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return E}};fc.prototype.shift=function(){if(this.head){var E=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return E}};fc.prototype.forEach=function(E,ca){ca=ca||this;for(var Ga=this.head,eb=0;null!==Ga;eb++)E.call(ca,Ga.value,eb,
this),Ga=Ga.next};fc.prototype.forEachReverse=function(E,ca){ca=ca||this;for(var Ga=this.tail,eb=this.length-1;null!==Ga;eb--)E.call(ca,Ga.value,eb,this),Ga=Ga.prev};fc.prototype.get=function(E){for(var ca=0,Ga=this.head;null!==Ga&&ca<E;ca++)Ga=Ga.next;if(ca===E&&null!==Ga)return Ga.value};fc.prototype.getReverse=function(E){for(var ca=0,Ga=this.tail;null!==Ga&&ca<E;ca++)Ga=Ga.prev;if(ca===E&&null!==Ga)return Ga.value};fc.prototype.map=function(E,ca){ca=ca||this;for(var Ga=new fc,eb=this.head;null!==
eb;)Ga.push(E.call(ca,eb.value,this)),eb=eb.next;return Ga};fc.prototype.mapReverse=function(E,ca){ca=ca||this;for(var Ga=new fc,eb=this.tail;null!==eb;)Ga.push(E.call(ca,eb.value,this)),eb=eb.prev;return Ga};fc.prototype.reduce=function(E,ca){var Ga=this.head;if(1<arguments.length)var eb=ca;else if(this.head)Ga=this.head.next,eb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Gb=0;null!==Ga;Gb++)eb=E(eb,Ga.value,Gb),Ga=Ga.next;return eb};fc.prototype.reduceReverse=
function(E,ca){var Ga=this.tail;if(1<arguments.length)var eb=ca;else if(this.tail)Ga=this.tail.prev,eb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Gb=this.length-1;null!==Ga;Gb--)eb=E(eb,Ga.value,Gb),Ga=Ga.prev;return eb};fc.prototype.toArray=function(){for(var E=Array(this.length),ca=0,Ga=this.head;null!==Ga;ca++)E[ca]=Ga.value,Ga=Ga.next;return E};fc.prototype.toArrayReverse=function(){for(var E=Array(this.length),ca=0,Ga=this.tail;null!==Ga;ca++)E[ca]=
Ga.value,Ga=Ga.prev;return E};fc.prototype.slice=function(E,ca){ca=ca||this.length;0>ca&&(ca+=this.length);E=E||0;0>E&&(E+=this.length);var Ga=new fc;if(ca<E||0>ca)return Ga;0>E&&(E=0);ca>this.length&&(ca=this.length);for(var eb=0,Gb=this.head;null!==Gb&&eb<E;eb++)Gb=Gb.next;for(;null!==Gb&&eb<ca;eb++,Gb=Gb.next)Ga.push(Gb.value);return Ga};fc.prototype.sliceReverse=function(E,ca){ca=ca||this.length;0>ca&&(ca+=this.length);E=E||0;0>E&&(E+=this.length);var Ga=new fc;if(ca<E||0>ca)return Ga;0>E&&(E=
0);ca>this.length&&(ca=this.length);for(var eb=this.length,Gb=this.tail;null!==Gb&&eb>ca;eb--)Gb=Gb.prev;for(;null!==Gb&&eb>E;eb--,Gb=Gb.prev)Ga.push(Gb.value);return Ga};fc.prototype.splice=function(E,ca){E>this.length&&(E=this.length-1);0>E&&(E=this.length+E);for(var Ga=0,eb=this.head;null!==eb&&Ga<E;Ga++)eb=eb.next;var Gb=[];for(Ga=0;eb&&Ga<ca;Ga++)Gb.push(eb.value),eb=this.removeNode(eb);null===eb&&(eb=this.tail);eb!==this.head&&eb!==this.tail&&(eb=eb.prev);for(Ga=0;Ga<(2>=arguments.length?0:
arguments.length-2);Ga++){var rc=2>Ga+2||arguments.length<=Ga+2?void 0:arguments[Ga+2];eb=eb===this.head?new sa(rc,null,eb,this):new sa(rc,eb,eb.next,this);null===eb.next&&(this.tail=eb);null===eb.prev&&(this.head=eb);this.length++}return Gb};fc.prototype.reverse=function(){for(var E=this.head,ca=this.tail,Ga=E;null!==Ga;Ga=Ga.prev){var eb=Ga.prev;Ga.prev=Ga.next;Ga.next=eb}this.head=ca;this.tail=E;return this};try{fc.prototype[Symbol.iterator]=function*(){for(let E=this.head;E;E=E.next)yield E.value}}catch(E){}const Pa=
Symbol("max"),Xa=Symbol("length"),sb=Symbol("lengthCalculator"),ib=Symbol("allowStale"),Sb=Symbol("maxAge"),X=Symbol("dispose"),Fa=Symbol("noDisposeOnSet"),Kb=Symbol("lruList"),pc=Symbol("cache"),$b=Symbol("updateAgeOnGet"),Mb=()=>1;class Ob{constructor(E){"number"===typeof E&&(E={max:E});E||(E={});if(E.max&&("number"!==typeof E.max||0>E.max))throw new TypeError("max must be a non-negative number");this[Pa]=E.max||Infinity;const ca=E.length||Mb;this[sb]="function"!==typeof ca?Mb:ca;this[ib]=E.stale||
!1;if(E.maxAge&&"number"!==typeof E.maxAge)throw new TypeError("maxAge must be a number");this[Sb]=E.maxAge||0;this[X]=E.dispose;this[Fa]=E.noDisposeOnSet||!1;this[$b]=E.updateAgeOnGet||!1;this.reset()}set max(E){if("number"!==typeof E||0>E)throw new TypeError("max must be a non-negative number");this[Pa]=E||Infinity;ra(this)}get max(){return this[Pa]}set allowStale(E){this[ib]=!!E}get allowStale(){return this[ib]}set maxAge(E){if("number"!==typeof E)throw new TypeError("maxAge must be a non-negative number");
this[Sb]=E;ra(this)}get maxAge(){return this[Sb]}set lengthCalculator(E){"function"!==typeof E&&(E=Mb);E!==this[sb]&&(this[sb]=E,this[Xa]=0,this[Kb].forEach(ca=>{ca.length=this[sb](ca.value,ca.key);this[Xa]+=ca.length}));ra(this)}get lengthCalculator(){return this[sb]}get length(){return this[Xa]}get itemCount(){return this[Kb].length}rforEach(E,ca){ca=ca||this;for(let Ga=this[Kb].tail;null!==Ga;){const eb=Ga.prev;xb(this,E,Ga,ca);Ga=eb}}forEach(E,ca){ca=ca||this;for(let Ga=this[Kb].head;null!==Ga;){const eb=
Ga.next;xb(this,E,Ga,ca);Ga=eb}}keys(){return this[Kb].toArray().map(E=>E.key)}values(){return this[Kb].toArray().map(E=>E.value)}reset(){this[X]&&this[Kb]&&this[Kb].length&&this[Kb].forEach(E=>this[X](E.key,E.value));this[pc]=new Map;this[Kb]=new fc;this[Xa]=0}dump(){return this[Kb].map(E=>hd(this,E)?!1:{k:E.key,v:E.value,e:E.now+(E.maxAge||0)}).toArray().filter(E=>E)}dumpLru(){return this[Kb]}set(E,ca,Ga){if((Ga=Ga||this[Sb])&&"number"!==typeof Ga)throw new TypeError("maxAge must be a number");
const eb=Ga?Date.now():0,Gb=this[sb](ca,E);if(this[pc].has(E)){if(Gb>this[Pa])return Bb(this,this[pc].get(E)),!1;const rc=this[pc].get(E).value;if(this[X]&&!this[Fa])this[X](E,rc.value);rc.now=eb;rc.maxAge=Ga;rc.value=ca;this[Xa]+=Gb-rc.length;rc.length=Gb;this.get(E);ra(this);return!0}Ga=new Ua(E,ca,Gb,eb,Ga);if(Ga.length>this[Pa]){if(this[X])this[X](E,ca);return!1}this[Xa]+=Ga.length;this[Kb].unshift(Ga);this[pc].set(E,this[Kb].head);ra(this);return!0}has(E){if(!this[pc].has(E))return!1;E=this[pc].get(E).value;
return!hd(this,E)}get(E){return yc(this,E,!0)}peek(E){return yc(this,E,!1)}pop(){const E=this[Kb].tail;if(!E)return null;Bb(this,E);return E.value}del(E){Bb(this,this[pc].get(E))}load(E){this.reset();const ca=Date.now();for(let eb=E.length-1;0<=eb;eb--){const Gb=E[eb];var Ga=Gb.e||0;0===Ga?this.set(Gb.k,Gb.v):(Ga-=ca,0<Ga&&this.set(Gb.k,Gb.v,Ga))}}prune(){this[pc].forEach((E,ca)=>yc(this,ca,!1))}}const yc=(E,ca,Ga)=>{if(ca=E[pc].get(ca)){const eb=ca.value;if(hd(E,eb)){if(Bb(E,ca),!E[ib])return}else Ga&&
(E[$b]&&(ca.value.now=Date.now()),E[Kb].unshiftNode(ca));return eb.value}},hd=(E,ca)=>{if(!ca||!ca.maxAge&&!E[Sb])return!1;const Ga=Date.now()-ca.now;return ca.maxAge?Ga>ca.maxAge:E[Sb]&&Ga>E[Sb]},ra=E=>{if(E[Xa]>E[Pa])for(let ca=E[Kb].tail;E[Xa]>E[Pa]&&null!==ca;){const Ga=ca.prev;Bb(E,ca);ca=Ga}},Bb=(E,ca)=>{if(ca){const Ga=ca.value;if(E[X])E[X](Ga.key,Ga.value);E[Xa]-=Ga.length;E[pc].delete(Ga.key);E[Kb].removeNode(ca)}};class Ua{constructor(E,ca,Ga,eb,Gb){this.key=E;this.value=ca;this.length=
Ga;this.now=eb;this.maxAge=Gb||0}}const xb=(E,ca,Ga,eb)=>{let Gb=Ga.value;hd(E,Gb)&&(Bb(E,Ga),E[ib]||(Gb=void 0));Gb&&ca.call(eb,Gb.value,Gb.key,E)};var Fb=Ob;const Lb=["includePrerelease","loose","rtl"];var Zb=E=>E?"object"!==typeof E?{loose:!0}:Lb.filter(ca=>E[ca]).reduce((ca,Ga)=>{ca[Ga]=!0;return ca},{}):{},ic={exports:{}},Ac={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},nd="object"===typeof t&&t.env&&t.env.NODE_DEBUG&&
/\bsemver\b/i.test(t.env.NODE_DEBUG)?function(){for(var E=arguments.length,ca=Array(E),Ga=0;Ga<E;Ga++)ca[Ga]=arguments[Ga];return console.error("SEMVER",...ca)}:()=>{};(function(E,ca){const {MAX_SAFE_COMPONENT_LENGTH:Ga}=Ac,eb=nd;ca=E.exports={};const Gb=ca.re=[],rc=ca.src=[],Rb=ca.t={};let Sc=0;E=(fd,cd,Oc)=>{const Nd=Sc++;eb(fd,Nd,cd);Rb[fd]=Nd;rc[Nd]=cd;Gb[Nd]=new RegExp(cd,Oc?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","[0-9]+");E("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
E("MAINVERSION","(".concat(rc[Rb.NUMERICIDENTIFIER],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIER],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIER],")"));E("MAINVERSIONLOOSE","(".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],")"));E("PRERELEASEIDENTIFIER","(?:".concat(rc[Rb.NUMERICIDENTIFIER],"|").concat(rc[Rb.NONNUMERICIDENTIFIER],")"));E("PRERELEASEIDENTIFIERLOOSE","(?:".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],"|").concat(rc[Rb.NONNUMERICIDENTIFIER],
")"));E("PRERELEASE","(?:-(".concat(rc[Rb.PRERELEASEIDENTIFIER],"(?:\\.").concat(rc[Rb.PRERELEASEIDENTIFIER],")*))"));E("PRERELEASELOOSE","(?:-?(".concat(rc[Rb.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(rc[Rb.PRERELEASEIDENTIFIERLOOSE],")*))"));E("BUILDIDENTIFIER","[0-9A-Za-z-]+");E("BUILD","(?:\\+(".concat(rc[Rb.BUILDIDENTIFIER],"(?:\\.").concat(rc[Rb.BUILDIDENTIFIER],")*))"));E("FULLPLAIN","v?".concat(rc[Rb.MAINVERSION]).concat(rc[Rb.PRERELEASE],"?").concat(rc[Rb.BUILD],"?"));E("FULL","^".concat(rc[Rb.FULLPLAIN],
"$"));E("LOOSEPLAIN","[v\x3d\\s]*".concat(rc[Rb.MAINVERSIONLOOSE]).concat(rc[Rb.PRERELEASELOOSE],"?").concat(rc[Rb.BUILD],"?"));E("LOOSE","^".concat(rc[Rb.LOOSEPLAIN],"$"));E("GTLT","((?:\x3c|\x3e)?\x3d?)");E("XRANGEIDENTIFIERLOOSE","".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));E("XRANGEIDENTIFIER","".concat(rc[Rb.NUMERICIDENTIFIER],"|x|X|\\*"));E("XRANGEPLAIN","[v\x3d\\s]*(".concat(rc[Rb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIER],
")")+"(?:".concat(rc[Rb.PRERELEASE],")?").concat(rc[Rb.BUILD],"?")+")?)?");E("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(rc[Rb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(rc[Rb.PRERELEASELOOSE],")?").concat(rc[Rb.BUILD],"?")+")?)?");E("XRANGE","^".concat(rc[Rb.GTLT],"\\s*").concat(rc[Rb.XRANGEPLAIN],"$"));E("XRANGELOOSE","^".concat(rc[Rb.GTLT],"\\s*").concat(rc[Rb.XRANGEPLAINLOOSE],"$"));E("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(Ga,
"})")+"(?:\\.(\\d{1,".concat(Ga,"}))?")+"(?:\\.(\\d{1,".concat(Ga,"}))?")+"(?:$|[^\\d])");E("COERCERTL",rc[Rb.COERCE],!0);E("LONETILDE","(?:~\x3e?)");E("TILDETRIM","(\\s*)".concat(rc[Rb.LONETILDE],"\\s+"),!0);ca.tildeTrimReplace="$1~";E("TILDE","^".concat(rc[Rb.LONETILDE]).concat(rc[Rb.XRANGEPLAIN],"$"));E("TILDELOOSE","^".concat(rc[Rb.LONETILDE]).concat(rc[Rb.XRANGEPLAINLOOSE],"$"));E("LONECARET","(?:\\^)");E("CARETTRIM","(\\s*)".concat(rc[Rb.LONECARET],"\\s+"),!0);ca.caretTrimReplace="$1^";E("CARET",
"^".concat(rc[Rb.LONECARET]).concat(rc[Rb.XRANGEPLAIN],"$"));E("CARETLOOSE","^".concat(rc[Rb.LONECARET]).concat(rc[Rb.XRANGEPLAINLOOSE],"$"));E("COMPARATORLOOSE","^".concat(rc[Rb.GTLT],"\\s*(").concat(rc[Rb.LOOSEPLAIN],")$|^$"));E("COMPARATOR","^".concat(rc[Rb.GTLT],"\\s*(").concat(rc[Rb.FULLPLAIN],")$|^$"));E("COMPARATORTRIM","(\\s*)".concat(rc[Rb.GTLT],"\\s*(").concat(rc[Rb.LOOSEPLAIN],"|").concat(rc[Rb.XRANGEPLAIN],")"),!0);ca.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE","^\\s*(".concat(rc[Rb.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(rc[Rb.XRANGEPLAIN],")")+"\\s*$");E("HYPHENRANGELOOSE","^\\s*(".concat(rc[Rb.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(rc[Rb.XRANGEPLAINLOOSE],")")+"\\s*$");E("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");E("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(ic,ic.exports);const Vc=/^[0-9]+$/,na=(E,ca)=>{const Ga=Vc.test(E),eb=Vc.test(ca);Ga&&eb&&(E=+E,ca=+ca);return E===ca?0:Ga&&!eb?-1:eb&&!Ga?1:E<ca?-1:1};var Ia={compareIdentifiers:na,
rcompareIdentifiers:(E,ca)=>na(ca,E)};const fb=nd,{MAX_LENGTH:R,MAX_SAFE_INTEGER:r}=Ac,{re:da,t:za}=ic.exports,Da=Zb,{compareIdentifiers:Oa}=Ia;class kb{constructor(E,ca){ca=Da(ca);if(E instanceof kb){if(E.loose===!!ca.loose&&E.includePrerelease===!!ca.includePrerelease)return E;E=E.version}else if("string"!==typeof E)throw new TypeError("Invalid Version: ".concat(E));if(E.length>R)throw new TypeError("version is longer than ".concat(R," characters"));fb("SemVer",E,ca);this.options=ca;this.loose=
!!ca.loose;this.includePrerelease=!!ca.includePrerelease;ca=E.trim().match(ca.loose?da[za.LOOSE]:da[za.FULL]);if(!ca)throw new TypeError("Invalid Version: ".concat(E));this.raw=E;this.major=+ca[1];this.minor=+ca[2];this.patch=+ca[3];if(this.major>r||0>this.major)throw new TypeError("Invalid major version");if(this.minor>r||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>r||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ca[4]?ca[4].split(".").map(Ga=>
{if(/^[0-9]+$/.test(Ga)){const eb=+Ga;if(0<=eb&&eb<r)return eb}return Ga}):[];this.build=ca[5]?ca[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(E){fb("SemVer.compare",this.version,this.options,E);if(!(E instanceof kb)){if("string"===typeof E&&E===this.version)return 0;E=new kb(E,this.options)}return E.version===
this.version?0:this.compareMain(E)||this.comparePre(E)}compareMain(E){E instanceof kb||(E=new kb(E,this.options));return Oa(this.major,E.major)||Oa(this.minor,E.minor)||Oa(this.patch,E.patch)}comparePre(E){E instanceof kb||(E=new kb(E,this.options));if(this.prerelease.length&&!E.prerelease.length)return-1;if(!this.prerelease.length&&E.prerelease.length)return 1;if(!this.prerelease.length&&!E.prerelease.length)return 0;let ca=0;do{const Ga=this.prerelease[ca],eb=E.prerelease[ca];fb("prerelease compare",
ca,Ga,eb);if(void 0===Ga&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===Ga)return-1;if(Ga!==eb)return Oa(Ga,eb)}while(++ca)}compareBuild(E){E instanceof kb||(E=new kb(E,this.options));let ca=0;do{const Ga=this.build[ca],eb=E.build[ca];fb("prerelease compare",ca,Ga,eb);if(void 0===Ga&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===Ga)return-1;if(Ga!==eb)return Oa(Ga,eb)}while(++ca)}inc(E,ca){switch(E){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ca);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ca);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ca);this.inc("pre",ca);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ca);this.inc("pre",ca);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(E=this.prerelease.length;0<=--E;)"number"===typeof this.prerelease[E]&&(this.prerelease[E]++,E=-2);-1===E&&this.prerelease.push(0)}ca&&(0===Oa(this.prerelease[0],ca)?isNaN(this.prerelease[1])&&(this.prerelease=[ca,0]):this.prerelease=[ca,0]);break;default:throw Error("invalid increment argument: ".concat(E));}this.format();
this.raw=this.version;return this}}var Ub=kb;const Eb=Ub;var Ib=(E,ca,Ga)=>(new Eb(E,Ga)).compare(new Eb(ca,Ga)),Cc=(E,ca,Ga,eb)=>{switch(ca){case "\x3d\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Ga&&(Ga=Ga.version),E===Ga;case "!\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Ga&&(Ga=Ga.version),E!==Ga;case "":case "\x3d":case "\x3d\x3d":return 0===Ib(E,Ga,eb);case "!\x3d":return 0!==Ib(E,Ga,eb);case "\x3e":return 0<Ib(E,Ga,eb);case "\x3e\x3d":return 0<=
Ib(E,Ga,eb);case "\x3c":return 0>Ib(E,Ga,eb);case "\x3c\x3d":return 0>=Ib(E,Ga,eb);default:throw new TypeError("Invalid operator: ".concat(ca));}},Hc,Nc,xd,sd;const ed=Ba();var Id=(E,ca,Ga)=>{try{ca=new ed(ca,Ga)}catch(eb){return!1}return ca.test(E)},Gd={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},vd={"*":(E,ca)=>E*ca,"+":(E,ca)=>E+ca,"-":(E,ca)=>E-ca,"/":(E,ca)=>
E/ca,"%":(E,ca)=>E%ca,"\x3e":(E,ca)=>E>ca,"\x3c":(E,ca)=>E<ca,"\x3c\x3d":(E,ca)=>E<=ca,"\x3e\x3d":(E,ca)=>E>=ca,"\x3d\x3d":(E,ca)=>E==ca,"!\x3d":(E,ca)=>E!=ca,"\x3d\x3d\x3d":(E,ca)=>E===ca,"!\x3d\x3d":(E,ca)=>E!==ca,"\x26":(E,ca)=>E&ca,"|":(E,ca)=>E|ca,"^":(E,ca)=>E^ca,"\x3c\x3c":(E,ca)=>E<<ca,"\x3e\x3e":(E,ca)=>E>>ca,"\x3e\x3e\x3e":(E,ca)=>E>>>ca},xe={"+":E=>+E,"-":E=>-E,"~":E=>~E,"!":E=>!E};const Ed=Array.prototype.slice,x=(E,ca,Ga)=>{Ga=Ga?Ga(ca[0]):ca[0];return Ga[E].apply(Ga,Ed.call(ca,1))};
var I={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(E,ca,Ga)=>Math.max(ca,Math.min(Ga,E)),now:Date.now,utc:Date.UTC,datetime:(E,ca,Ga,eb,Gb,rc,Rb)=>new Date(E,ca||0,null!=Ga?Ga:1,eb||0,Gb||0,rc||0,Rb||0),date:E=>(new Date(E)).getDate(),
day:E=>(new Date(E)).getDay(),year:E=>(new Date(E)).getFullYear(),month:E=>(new Date(E)).getMonth(),hours:E=>(new Date(E)).getHours(),minutes:E=>(new Date(E)).getMinutes(),seconds:E=>(new Date(E)).getSeconds(),milliseconds:E=>(new Date(E)).getMilliseconds(),time:E=>(new Date(E)).getTime(),timezoneoffset:E=>(new Date(E)).getTimezoneOffset(),utcdate:E=>(new Date(E)).getUTCDate(),utcday:E=>(new Date(E)).getUTCDay(),utcyear:E=>(new Date(E)).getUTCFullYear(),utcmonth:E=>(new Date(E)).getUTCMonth(),utchours:E=>
(new Date(E)).getUTCHours(),utcminutes:E=>(new Date(E)).getUTCMinutes(),utcseconds:E=>(new Date(E)).getUTCSeconds(),utcmilliseconds:E=>(new Date(E)).getUTCMilliseconds(),length:E=>E.length,join:function(){return x("join",arguments)},indexof:function(){return x("indexOf",arguments)},lastindexof:function(){return x("lastIndexOf",arguments)},slice:function(){return x("slice",arguments)},reverse:E=>E.slice().reverse(),parseFloat,parseInt,upper:E=>String(E).toUpperCase(),lower:E=>String(E).toLowerCase(),
substring:function(){return x("substring",arguments,String)},split:function(){return x("split",arguments,String)},replace:function(){return x("replace",arguments,String)},trim:E=>String(E).trim(),regexp:RegExp,test:(E,ca)=>RegExp(E).test(ca)};const xa="view item group xy x y".split(" "),Ja={Literal:(E,ca)=>ca.value,Identifier:(E,ca)=>{ca=ca.name;return 0<E.memberDepth?ca:"datum"===ca?E.datum:"event"===ca?E.event:"item"===ca?E.item:Gd[ca]||E.params["$"+ca]},MemberExpression:(E,ca)=>{const Ga=!ca.computed,
eb=E(ca.object);Ga&&(E.memberDepth+=1);ca=E(ca.property);Ga&&--E.memberDepth;return eb[ca]},CallExpression:(E,ca)=>{const Ga=ca.arguments;ca=ca.callee.name;ca.startsWith("_")&&(ca=ca.slice(1));return"if"===ca?E(Ga[0])?E(Ga[1]):E(Ga[2]):(E.fn[ca]||I[ca]).apply(E.fn,Ga.map(E))},ArrayExpression:(E,ca)=>ca.elements.map(E),BinaryExpression:(E,ca)=>vd[ca.operator](E(ca.left),E(ca.right)),UnaryExpression:(E,ca)=>xe[ca.operator](E(ca.argument)),ConditionalExpression:(E,ca)=>E(ca.test)?E(ca.consequent):E(ca.alternate),
LogicalExpression:(E,ca)=>"\x26\x26"===ca.operator?E(ca.left)&&E(ca.right):E(ca.left)||E(ca.right),ObjectExpression:(E,ca)=>ca.properties.reduce((Ga,eb)=>{E.memberDepth+=1;const Gb=E(eb.key);--E.memberDepth;Ga[Gb]=E(eb.value);return Ga},{})};var jb={operator(E,ca){const Ga=ca.ast,eb=E.functions;return Gb=>Sa(Ga,eb,Gb)},parameter(E,ca){const Ga=ca.ast,eb=E.functions;return(Gb,rc)=>Sa(Ga,eb,rc,Gb)},event(E,ca){const Ga=ca.ast,eb=E.functions;return Gb=>Sa(Ga,eb,void 0,void 0,Gb)},handler(E,ca){const Ga=
ca.ast,eb=E.functions;return(Gb,rc)=>Sa(Ga,eb,Gb,rc.item&&rc.item.datum,rc)},encode(E,ca){const {marktype:Ga,channels:eb}=ca,Gb=E.functions,rc="group"===Ga||"image"===Ga||"rect"===Ga;return(Rb,Sc)=>{const fd=Rb.datum;let cd=0,Oc;for(const Nd in eb)Oc=Sa(eb[Nd].ast,Gb,Sc,fd,void 0,Rb),Rb[Nd]!==Oc&&(Rb[Nd]=Oc,cd=1);"rule"!==Ga&&(eb.x2&&(eb.x?(rc&&Rb.x>Rb.x2&&(Sc=Rb.x,Rb.x=Rb.x2,Rb.x2=Sc),Rb.width=Rb.x2-Rb.x):Rb.x=Rb.x2-(Rb.width||0)),eb.xc&&(Rb.x=Rb.xc-(Rb.width||0)/2),eb.y2&&(eb.y?(rc&&Rb.y>Rb.y2&&
(Sc=Rb.y,Rb.y=Rb.y2,Rb.y2=Sc),Rb.height=Rb.y2-Rb.y):Rb.y=Rb.y2-(Rb.height||0)),eb.yc&&(Rb.y=Rb.yc-(Rb.height||0)/2));return cd}}};const wb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},ec={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Qb=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:wb["category-6"],diverging:wb["fireandice-6"],heatmap:wb["fire-7"],ordinal:wb["fire-7"],ramp:wb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:ec["six-groups-cat-1"],diverging:ec["diverging-colors"],heatmap:ec["diverging-colors"],ordinal:ec["six-groups-seq"],ramp:ec["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const qc=E=>function(ca){return ca[E]},Fc=E=>{const ca=E.length;return function(Ga){for(let eb=0;eb<ca;++eb)Ga=Ga[E[eb]];return Ga}};(function(E,ca,Ga){const eb=$a(E);E=1===eb.length?eb[0]:E;return Ha((Ga&&Ga.get||hb)(eb),[E],ca||E)})("id");Ha(E=>E,[],"identity");Ha(()=>0,[],
"zero");Ha(()=>1,[],"one");Ha(()=>!0,[],"true");Ha(()=>!1,[],"false");var zc=Array.isArray;const bd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(E){return String(E).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(E,ca,Ga){if(zc(E))return"[".concat(E.map(Gb=>ca("string"===typeof Gb?Gb:JSON.stringify(Gb,Nb(Ga)))).join(", "),"]");if(E===Object(E)){let Gb="";const {title:rc,image:Rb}=
E;E=qb(E,["title","image"]);rc&&(Gb+="\x3ch2\x3e".concat(ca(rc),"\x3c/h2\x3e"));Rb&&(Gb+='\x3cimg src\x3d"'.concat(ca(Rb),'"\x3e'));var eb=Object.keys(E);if(0<eb.length){Gb+="\x3ctable\x3e";for(const Sc of eb)eb=E[Sc],void 0!==eb&&(eb===Object(eb)&&(eb=JSON.stringify(eb,Nb(Ga))),Gb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ca(Sc),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ca(eb),"\x3c/td\x3e\x3c/tr\x3e"));Gb+="\x3c/table\x3e"}return Gb||"{}"}return ca(E)}};class md{constructor(E){this.options=
Object.assign(Object.assign({},bd),E);var ca=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){E=document.createElement("style");E.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ca))throw Error("Invalid HTML ID");ca="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ca);E.innerHTML=ca;ca=document.head;0<ca.childNodes.length?ca.insertBefore(E,ca.childNodes[0]):ca.appendChild(E)}}tooltipHandler(E,ca,Ga,eb){var Gb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Gb=document.fullscreenElement)&&void 0!==Gb?Gb:document.body).appendChild(this.el));if(null==eb||""===eb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(eb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));E=this.el.getBoundingClientRect();Gb=this.options.offsetX;Ga=this.options.offsetY;eb=ca.clientX+Gb;eb+E.width>window.innerWidth&&(eb=+ca.clientX-Gb-E.width);Gb=ca.clientY+Ga;Gb+E.height>window.innerHeight&&(Gb=+ca.clientY-Ga-E.height);var {x:rc,y:Rb}={x:eb,y:Gb};this.el.setAttribute("style","top: ".concat(Rb,"px; left: ").concat(rc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(E,ca){return this.substr(!ca||0>ca?0:+ca,E.length)===E});var qd;const Fd=K;let kd=v;const Od="undefined"!==typeof window?window:void 0;void 0===kd&&null!==Od&&void 0!==Od&&null!==(qd=Od.vl)&&void 0!==qd&&qd.compile&&(kd=Od.vl);const he={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Le={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Ie={vega:"Vega","vega-lite":"Vega-Lite"},Fe={vega:Fd.version,"vega-lite":kd?kd.version:"not available"},tf={vega:E=>E,"vega-lite":(E,ca)=>kd.compile(E,{config:ca}).spec},df=function(){var E;if(E=1<arguments.length){if(E=h.isString(0>=arguments.length?void 0:arguments[0]))E=0>=arguments.length?void 0:arguments[0],E=!(E.startsWith("http://")||E.startsWith("https://")||E.startsWith("//"));E=E||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return E?Ma(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):D(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};df.vegaLite=kd;df.vl=kd;df.container=D;df.embed=Ma;df.vega=Fd;df.default=Ma;df.version="6.21.0";return df})};
shadow$provide[58]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(t){const h={};return!!t&&"[object Function]"===h.toString.call(t)}};
shadow$provide[59]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(ka,Ya,ub){ub&&((0,h.default)(ub)?ub(ka.data(Ya)):ka.change(Ya,t.vega.changeset().remove(()=>!0).insert(ub)))};var t=nb(57),h=function(ka){return ka&&ka.__esModule?ka:{default:ka}}(nb(58))};
shadow$provide[60]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(h,ka){Object.keys(ka).forEach(Ya=>{(0,t.default)(h,Ya,ka[Ya])})};var t=function(h){return h&&h.__esModule?h:{default:h}}(nb(59))};
shadow$provide[61]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(t){const h=new Set;t.forEach(ka=>{Object.keys(ka).forEach(Ya=>{h.add(Ya)})});return h}};
shadow$provide[62]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.NOOP=void 0;Va.NOOP=()=>{}};
shadow$provide[63]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(t,h){const ka=Object.keys(h);ka.forEach(Ya=>{try{t.addSignalListener(Ya,h[Ya])}catch(ub){console.warn("Cannot add invalid signal listener.",ub)}});return 0<ka.length}};
shadow$provide[64]=function(Db,nb,Dc,Va){Dc.exports=function Ya(h,ka){if(h===ka)return!0;if(h&&ka&&"object"==typeof h&&"object"==typeof ka){if(h.constructor!==ka.constructor)return!1;var ub;if(Array.isArray(h)){var Yb=h.length;if(Yb!=ka.length)return!1;for(ub=Yb;0!==ub--;)if(!Ya(h[ub],ka[ub]))return!1;return!0}if(h.constructor===RegExp)return h.source===ka.source&&h.flags===ka.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===ka.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===
ka.toString();var dc=Object.keys(h);Yb=dc.length;if(Yb!==Object.keys(ka).length)return!1;for(ub=Yb;0!==ub--;)if(!Object.prototype.hasOwnProperty.call(ka,dc[ub]))return!1;for(ub=Yb;0!==ub--;)if(Yb=dc[ub],!Ya(h[Yb],ka[Yb]))return!1;return!0}return h!==h&&ka!==ka}};
shadow$provide[65]=function(Db,nb,Dc,Va){function t(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}Va.__esModule=!0;Va.default=function(Ya,ub){if(Ya===ub)return!1;const Yb={width:!1,height:!1,isExpensive:!1},dc=(0,ka.default)([Ya,ub]);!dc.has("width")||"width"in Ya&&"width"in ub&&Ya.width===ub.width||("width"in Ya&&"number"===typeof Ya.width?Yb.width=Ya.width:Yb.isExpensive=!0);!dc.has("height")||"height"in Ya&&"height"in ub&&Ya.height===ub.height||("height"in Ya&&"number"===typeof Ya.height?Yb.height=
Ya.height:Yb.isExpensive=!0);dc.delete("width");dc.delete("height");[...dc].some(Wb=>!(Wb in Ya)||!(Wb in ub)||!(0,h.default)(Ya[Wb],ub[Wb]))&&(Yb.isExpensive=!0);return!1!==Yb.width||!1!==Yb.height||Yb.isExpensive?Yb:!1};var h=t(nb(64)),ka=t(nb(61))};
shadow$provide[66]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(t,h){const ka=Object.keys(h);ka.forEach(Ya=>{try{t.removeSignalListener(Ya,h[Ya])}catch(ub){console.warn("Cannot remove invalid signal listener.",ub)}});return 0<ka.length}};
shadow$provide[67]=function(Db,nb,Dc,Va){Va.__esModule=!0;Va.default=function(t){const {spec:h,width:ka,height:Ya}=t;return"undefined"!==typeof ka&&"undefined"!==typeof Ya?Object.assign({},h,{width:ka,height:Ya}):"undefined"!==typeof ka?Object.assign({},h,{width:ka}):"undefined"!==typeof Ya?Object.assign({},h,{height:Ya}):h}};
shadow$provide[68]=function(Db,nb,Dc,Va){function t(Ea){return Ea&&Ea.__esModule?Ea:{default:Ea}}function h(Ea,Za,tb){Za in Ea?Object.defineProperty(Ea,Za,{value:tb,enumerable:!0,configurable:!0,writable:!0}):Ea[Za]=tb;return Ea}Va.__esModule=!0;Va.default=void 0;Db=t(nb(19));var ka=t(nb(2)),Ya=t(nb(57)),ub=t(nb(20)),Yb=t(nb(61)),dc=nb(62),Wb=t(nb(63)),oc=t(nb(65)),Ab=t(nb(66)),Tb=t(nb(67));class jc extends ka.default.PureComponent{constructor(){super(...arguments);h(this,"containerRef",ka.default.createRef());
h(this,"resultPromise",void 0);h(this,"handleError",Ea=>{const {onError:Za=dc.NOOP}=this.props;Za(Ea,this.containerRef.current);console.warn(Ea)});h(this,"modifyView",Ea=>{this.resultPromise&&this.resultPromise.then(Za=>{Za&&Ea(Za.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ea){const Za=(0,Yb.default)([this.props,Ea]);Za.delete("className");Za.delete("signalListeners");Za.delete("spec");Za.delete("style");Za.delete("width");Za.delete("height");
if(Array.from(Za).some(tb=>this.props[tb]!==Ea[tb]))this.clearView(),this.createView();else{const tb=(0,oc.default)((0,Tb.default)(this.props),(0,Tb.default)(Ea)),{signalListeners:rb}=this.props,{signalListeners:pb}=Ea;if(tb)if(tb.isExpensive)this.clearView(),this.createView();else{const vb=!(0,ub.default)(rb,pb);this.modifyView(gb=>{!1!==tb.width&&gb.width(tb.width);!1!==tb.height&&gb.height(tb.height);vb&&(pb&&(0,Ab.default)(gb,pb),rb&&(0,Wb.default)(gb,rb));gb.run()})}else(0,ub.default)(rb,pb)||
this.modifyView(vb=>{pb&&(0,Ab.default)(vb,pb);rb&&(0,Wb.default)(vb,rb);vb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ea=this.props,Za=Object.assign({},Ea);const tb=Ea.onNewView,rb=void 0===Ea.signalListeners?{}:Ea.signalListeners;Ea=(delete Za.spec,delete Za.onNewView,delete Za.signalListeners,delete Za.width,delete Za.height,Za);this.containerRef.current&&(Za=(0,Tb.default)(this.props),this.resultPromise=(0,Ya.default)(this.containerRef.current,Za,Ea).then(pb=>{if(pb){const {view:vb}=
pb;(0,Wb.default)(vb,rb)&&vb.run()}return pb}).catch(this.handleError),tb&&this.modifyView(tb))}clearView(){this.resultPromise&&this.resultPromise.then(Ea=>{Ea&&Ea.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ea,style:Za}=this.props;return ka.default.createElement("div",{ref:this.containerRef,className:Ea,style:Za})}}Va.default=jc;h(jc,"propTypes",{className:Db.default.string,onError:Db.default.func})};
shadow$provide[69]=function(Db,nb,Dc,Va){function t(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}function h(){h=Object.assign||function(Ab){for(var Tb=1;Tb<arguments.length;Tb++){var jc=arguments[Tb],Ea;for(Ea in jc)Object.prototype.hasOwnProperty.call(jc,Ea)&&(Ab[Ea]=jc[Ea])}return Ab};return h.apply(this,arguments)}function ka(Ab,Tb,jc){Tb in Ab?Object.defineProperty(Ab,Tb,{value:jc,enumerable:!0,configurable:!0,writable:!0}):Ab[Tb]=jc;return Ab}Va.__esModule=!0;Va.default=void 0;t(nb(19));var Ya=
t(nb(2)),ub=t(nb(20)),Yb=t(nb(60)),dc=t(nb(68)),Wb=nb(62);class oc extends Ya.default.PureComponent{constructor(){super(...arguments);ka(this,"vegaEmbed",Ya.default.createRef());ka(this,"handleNewView",Ab=>{this.update();const {onNewView:Tb=Wb.NOOP}=this.props;Tb(Ab)})}componentDidMount(){this.update()}componentDidUpdate(Ab){(0,ub.default)(this.props.data,Ab.data)||this.update()}update(){const {data:Ab}=this.props;this.vegaEmbed.current&&Ab&&0<Object.keys(Ab).length&&this.vegaEmbed.current.modifyView(Tb=>
{(0,Yb.default)(Tb,Ab);Tb.resize().run()})}render(){var Ab=Object.assign({},this.props);Ab=(delete Ab.data,Ab);return Ya.default.createElement(dc.default,h({ref:this.vegaEmbed},Ab,{onNewView:this.handleNewView}))}}Va.default=oc;ka(oc,"defaultProps",{data:{}})};
shadow$provide[70]=function(Db,nb,Dc,Va){function t(ub){return ub&&ub.__esModule?ub:{default:ub}}function h(){h=Object.assign||function(ub){for(var Yb=1;Yb<arguments.length;Yb++){var dc=arguments[Yb],Wb;for(Wb in dc)Object.prototype.hasOwnProperty.call(dc,Wb)&&(ub[Wb]=dc[Wb])}return ub};return h.apply(this,arguments)}Va.__esModule=!0;Va.default=function(ub){return ka.default.createElement(Ya.default,h({},ub,{mode:"vega-lite"}))};var ka=t(nb(2)),Ya=t(nb(69))};
shadow$provide[71]=function(Db,nb,Dc,Va){function t(Yb){return Yb&&Yb.__esModule?Yb:{default:Yb}}function h(){h=Object.assign||function(Yb){for(var dc=1;dc<arguments.length;dc++){var Wb=arguments[dc],oc;for(oc in Wb)Object.prototype.hasOwnProperty.call(Wb,oc)&&(Yb[oc]=Wb[oc])}return Yb};return h.apply(this,arguments)}function ka(Yb,dc,Wb){dc in Yb?Object.defineProperty(Yb,dc,{value:Wb,enumerable:!0,configurable:!0,writable:!0}):Yb[dc]=Wb;return Yb}Va.__esModule=!0;Va.default=function(Yb){let {mode:dc,
spec:Wb}=Yb;class oc extends Ya.default.PureComponent{render(){return Ya.default.createElement(ub.default,h({mode:dc,spec:Wb},this.props))}}ka(oc,"getSpec",function(){return Wb});return oc};var Ya=t(nb(2)),ub=t(nb(69))};
shadow$provide[72]=function(Db,nb,Dc,Va){Va.__esModule=!0};
shadow$provide[73]=function(Db,nb,Dc,Va){Va.__esModule=!0;var t=nb(72);Object.keys(t).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in Va&&Va[h]===t[h]||(Va[h]=t[h]))})};
shadow$provide[74]=function(Db,nb,Dc,Va){function t(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}Va.__esModule=!0;var h={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Va.createClassFromSpec=Va.VegaLite=Va.Vega=void 0;Db=t(nb(69));Va.Vega=Db.default;Db=t(nb(70));Va.VegaLite=Db.default;Db=t(nb(71));Va.createClassFromSpec=Db.default;var ka=nb(73);Object.keys(ka).forEach(function(Ya){"default"!==Ya&&"__esModule"!==Ya&&(Object.prototype.hasOwnProperty.call(h,Ya)||Ya in Va&&Va[Ya]===ka[Ya]||(Va[Ya]=ka[Ya]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async23070",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23070")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26359",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26359")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(74,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);